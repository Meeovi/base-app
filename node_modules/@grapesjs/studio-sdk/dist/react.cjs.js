"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const l=require("react/jsx-runtime"),f=require("react"),wn=require("react-dom"),xw=require("react-dom/client");function fb(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const We=fb(f),ww=fb(wn);class Sw extends Error{constructor(t,n){super(t),this.error=t,this.errorData=n}}const Si=async(e,{onError:t,onLoading:n,onResult:s,params:r,rawText:o,...i})=>{try{n==null||n(!0);const a=r?new URLSearchParams(r).toString():"",c=a?`?${a}`:"",u=await fetch(`${e}${c}`,i);if(!u.ok){const p=await u.json();throw new Sw(p.error||"Request failed!",p.errorData)}let d;if(o)d=await u.text();else try{d=await u.json()}catch{d=void 0}return s==null||s(d),d}catch(a){const c=a instanceof Error?a:new Error(a);if(t==null||t(c),i.throwError)throw c;return c}finally{n==null||n(!1)}};class Ms{static async get(t,n){return Si(t,{...n,method:"GET"})}static async post(t,n){return Si(t,{...n,method:"POST"})}static async put(t,n){return Si(t,{...n,method:"PUT"})}static async patch(t,n){return Si(t,{...n,method:"PATCH"})}static async delete(t,n){return Si(t,{...n,method:"DELETE"})}}function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var jw={};function Ac(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:jw}var gb=Object.assign,Xl=Object.getOwnPropertyDescriptor,Cs=Object.defineProperty,Sa=Object.prototype,Ud=[];Object.freeze(Ud);var qp={};Object.freeze(qp);var Cw=typeof Proxy<"u",Ew=Object.toString();function hb(){Cw||Be("Proxy not available")}function mb(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Ro=function(){};function ts(e){return typeof e=="function"}function io(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Mc(e){return e!==null&&typeof e=="object"}function Qs(e){if(!Mc(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Ew}function bb(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function ja(e,t,n){Cs(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function vb(e,t,n){Cs(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function _r(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(s){return Mc(s)&&s[n]===!0}}function ai(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Pw(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),s=Object.getPrototypeOf(n);return s===null}function Ws(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var yb=typeof Object.getOwnPropertySymbols<"u";function Tw(e){var t=Object.keys(e);if(!yb)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(s){return Sa.propertyIsEnumerable.call(e,s)})):t}var Go=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:yb?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function xb(e){return e===null?null:typeof e=="object"?""+e:e}function Zs(e,t){return Sa.hasOwnProperty.call(e,t)}var Ow=Object.getOwnPropertyDescriptors||function(t){var n={};return Go(t).forEach(function(s){n[s]=Xl(t,s)}),n};function yn(e,t){return!!(e&t)}function xn(e,t,n){return n?e|=t:e&=~t,e}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function Kg(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Aw(s.key),s)}}function li(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $o(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Mw(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ao.apply(null,arguments)}function wb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wd(e,t)}function Wd(e,t){return Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wd(e,t)}function _w(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aw(e){var t=_w(e,"string");return typeof t=="symbol"?t:t+""}function Mw(e,t){if(e){if(typeof e=="string")return Gg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gg(e,t):void 0}}var ws=Symbol("mobx-stored-annotations");function Es(e){function t(n,s){if(Ea(s))return e.decorate_20223_(n,s);Ca(n,s,e)}return Object.assign(t,e)}function Ca(e,t,n){Zs(e,ws)||ja(e,ws,ao({},e[ws])),Hw(n)||(e[ws][t]=n)}function Lw(e){return Zs(e,ws)||ja(e,ws,ao({},e[ws])),e[ws]}function Ea(e){return typeof e=="object"&&typeof e.kind=="string"}var xe=Symbol("mobx administration"),Ar=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=qe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(s){return s()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(s){return s()})},t.reportObserved=function(){return Ib(this)},t.reportChanged=function(){Vn(),Vb(this),Dn()},t.toString=function(){return this.name_},li(e,[{key:"isBeingObserved",get:function(){return yn(this.flags_,e.isBeingObservedMask_)},set:function(s){this.flags_=xn(this.flags_,e.isBeingObservedMask_,s)}},{key:"isPendingUnobservation",get:function(){return yn(this.flags_,e.isPendingUnobservationMask_)},set:function(s){this.flags_=xn(this.flags_,e.isPendingUnobservationMask_,s)}},{key:"diffValue",get:function(){return yn(this.flags_,e.diffValueMask_)?1:0},set:function(s){this.flags_=xn(this.flags_,e.diffValueMask_,s===1)}}])}();Ar.isBeingObservedMask_=1;Ar.isPendingUnobservationMask_=2;Ar.diffValueMask_=4;var Yp=_r("Atom",Ar);function Sb(e,t,n){t===void 0&&(t=Ro),n===void 0&&(n=Ro);var s=new Ar(e);return t!==Ro&&GS(s,t),n!==Ro&&Wb(s,n),s}function Nw(e,t){return e===t}function kw(e,t){return tf(e,t)}function Rw(e,t){return tf(e,t,1)}function $w(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ko={identity:Nw,structural:kw,default:$w,shallow:Rw};function lo(e,t,n){return Jp(e)?e:Array.isArray(e)?Bt.array(e,{name:n}):Qs(e)?Bt.object(e,void 0,{name:n}):ai(e)?Bt.map(e,{name:n}):Ws(e)?Bt.set(e,{name:n}):typeof e=="function"&&!sa(e)&&!ra(e)?bb(e)?uo(e):na(n,e):e}function Iw(e,t,n){if(e==null||qo(e)||Aa(e)||Mr(e)||Zn(e))return e;if(Array.isArray(e))return Bt.array(e,{name:n,deep:!1});if(Qs(e))return Bt.object(e,void 0,{name:n,deep:!1});if(ai(e))return Bt.map(e,{name:n,deep:!1});if(Ws(e))return Bt.set(e,{name:n,deep:!1})}function Lc(e){return e}function Vw(e,t){return tf(e,t)?t:e}var Dw="override";function Hw(e){return e.annotationType_===Dw}function Pa(e,t){return{annotationType_:e,options_:t,make_:Fw,extend_:Bw,decorate_20223_:zw}}function Fw(e,t,n,s){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(e,t,n,!1)===null?0:1;if(s===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(sa(n.value))return 1;var o=jb(e,this,t,n,!1);return Cs(s,t,o),2}function Bw(e,t,n,s){var r=jb(e,this,t,n);return e.defineProperty_(t,r,s)}function zw(e,t){var n=t.kind,s=t.name,r=t.addInitializer,o=this,i=function(u){var d,p,g,h;return co((d=(p=o.options_)==null?void 0:p.name)!=null?d:s.toString(),u,(g=(h=o.options_)==null?void 0:h.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,d=c;return sa(d)||(d=i(d)),(u=o.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var a;return sa(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&r(function(){var c=this,u=c[s].bind(c);u.isMobxAction=!0,c[s]=u}),e}Be("Cannot apply '"+o.annotationType_+"' to '"+String(s)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function Uw(e,t,n,s){t.annotationType_,s.value}function jb(e,t,n,s,r){var o,i,a,c,u,d,p;r===void 0&&(r=fe.safeDescriptors),Uw(e,t,n,s);var g=s.value;if((o=t.options_)!=null&&o.bound){var h;g=g.bind((h=e.proxy_)!=null?h:e.target_)}return{value:co((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:r?e.isPlainObject_:!0,enumerable:!1,writable:!r}}function Cb(e,t){return{annotationType_:e,options_:t,make_:Ww,extend_:Gw,decorate_20223_:Kw}}function Ww(e,t,n,s){var r;if(s===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!Zs(e.target_,t)||!ra(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(ra(n.value))return 1;var o=Eb(e,this,t,n,!1,!1);return Cs(s,t,o),2}function Gw(e,t,n,s){var r,o=Eb(e,this,t,n,(r=this.options_)==null?void 0:r.bound);return e.defineProperty_(t,o,s)}function Kw(e,t){var n,s=t.name,r=t.addInitializer;return ra(e)||(e=uo(e)),(n=this.options_)!=null&&n.bound&&r(function(){var o=this,i=o[s].bind(o);i.isMobXFlow=!0,o[s]=i}),e}function qw(e,t,n,s){t.annotationType_,s.value}function Eb(e,t,n,s,r,o){o===void 0&&(o=fe.safeDescriptors),qw(e,t,n,s);var i=s.value;if(ra(i)||(i=uo(i)),r){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Zp(e,t){return{annotationType_:e,options_:t,make_:Yw,extend_:Zw,decorate_20223_:Xw}}function Yw(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Zw(e,t,n,s){return Jw(e,this,t,n),e.defineComputedProperty_(t,ao({},this.options_,{get:n.get,set:n.set}),s)}function Xw(e,t){var n=this,s=t.name,r=t.addInitializer;return r(function(){var o=yo(this)[xe],i=ao({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+s.toString()),o.values_.set(s,new ns(i))}),function(){return this[xe].getObservablePropValue_(s)}}function Jw(e,t,n,s){t.annotationType_,s.get}function Nc(e,t){return{annotationType_:e,options_:t,make_:Qw,extend_:eS,decorate_20223_:tS}}function Qw(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function eS(e,t,n,s){var r,o;return nS(e,this),e.defineObservableProperty_(t,n.value,(r=(o=this.options_)==null?void 0:o.enhancer)!=null?r:lo,s)}function tS(e,t){var n=this,s=t.kind,r=t.name,o=new WeakSet;function i(a,c){var u,d,p=yo(a)[xe],g=new Sr(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:lo,"ObservableObject."+r.toString(),!1);p.values_.set(r,g),o.add(a)}if(s=="accessor")return{get:function(){return o.has(this)||i(this,e.get.call(this)),this[xe].getObservablePropValue_(r)},set:function(c){return o.has(this)||i(this,c),this[xe].setObservablePropValue_(r,c)},init:function(c){return o.has(this)||i(this,c),c}}}function nS(e,t,n,s){t.annotationType_}var sS="true",rS=Pb();function Pb(e){return{annotationType_:sS,options_:e,make_:oS,extend_:iS,decorate_20223_:aS}}function oS(e,t,n,s){var r,o;if(n.get)return kc.make_(e,t,n,s);if(n.set){var i=co(t.toString(),n.set);return s===e.target_?e.defineProperty_(t,{configurable:fe.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(Cs(s,t,{configurable:!0,set:i}),2)}if(s!==e.target_&&typeof n.value=="function"){var a;if(bb(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?uo.bound:uo;return u.make_(e,t,n,s)}var d=(a=this.options_)!=null&&a.autoBind?na.bound:na;return d.make_(e,t,n,s)}var p=((r=this.options_)==null?void 0:r.deep)===!1?Bt.ref:Bt;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return p.make_(e,t,n,s)}function iS(e,t,n,s){var r,o;if(n.get)return kc.extend_(e,t,n,s);if(n.set)return e.defineProperty_(t,{configurable:fe.safeDescriptors?e.isPlainObject_:!0,set:co(t.toString(),n.set)},s);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?Bt.ref:Bt;return a.extend_(e,t,n,s)}function aS(e,t){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var lS="observable",cS="observable.ref",uS="observable.shallow",dS="observable.struct",Tb={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Tb);function nl(e){return e||Tb}var Gd=Nc(lS),pS=Nc(cS,{enhancer:Lc}),fS=Nc(uS,{enhancer:Iw}),gS=Nc(dS,{enhancer:Vw}),Ob=Es(Gd);function sl(e){return e.deep===!0?lo:e.deep===!1?Lc:mS(e.defaultDecorator)}function hS(e){var t;return e?(t=e.defaultDecorator)!=null?t:Pb(e):void 0}function mS(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:lo}function _b(e,t,n){if(Ea(t))return Gd.decorate_20223_(e,t);if(io(t)){Ca(e,t,Gd);return}return Jp(e)?e:Qs(e)?Bt.object(e,t,n):Array.isArray(e)?Bt.array(e,t):ai(e)?Bt.map(e,t):Ws(e)?Bt.set(e,t):typeof e=="object"&&e!==null?e:Bt.box(e,t)}gb(_b,Ob);var bS={box:function(t,n){var s=nl(n);return new Sr(t,sl(s),s.name,!0,s.equals)},array:function(t,n){var s=nl(n);return(fe.useProxies===!1||s.proxy===!1?b2:a2)(t,sl(s),s.name)},map:function(t,n){var s=nl(n);return new Xb(t,sl(s),s.name)},set:function(t,n){var s=nl(n);return new Jb(t,sl(s),s.name)},object:function(t,n,s){return Lr(function(){return Kb(fe.useProxies===!1||(s==null?void 0:s.proxy)===!1?yo({},s):s2({},s),t,n)})},ref:Es(pS),shallow:Es(fS),deep:Ob,struct:Es(gS)},Bt=gb(_b,bS),Ab="computed",vS="computed.struct",Kd=Zp(Ab),yS=Zp(vS,{equals:Ko.structural}),kc=function(t,n){if(Ea(n))return Kd.decorate_20223_(t,n);if(io(n))return Ca(t,n,Kd);if(Qs(t))return Es(Zp(Ab,t));var s=Qs(n)?n:{};return s.get=t,s.name||(s.name=t.name||""),new ns(s)};Object.assign(kc,Kd);kc.struct=Es(yS);var qg,Yg,Jl=0,xS=1,wS=(qg=(Yg=Xl(function(){},"name"))==null?void 0:Yg.configurable)!=null?qg:!1,Zg={value:"action",configurable:!0,writable:!1,enumerable:!1};function co(e,t,n,s){n===void 0&&(n=!1);function r(){return SS(e,n,t,s||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return t.toString()},wS&&(Zg.value=e,Cs(r,"name",Zg)),r}function SS(e,t,n,s,r){var o=jS(e,t);try{return n.apply(s,r)}catch(i){throw o.error_=i,i}finally{CS(o)}}function jS(e,t,n,s){var r=!1,o=0,i=fe.trackingDerivation,a=!t||!i;Vn();var c=fe.allowStateChanges;a&&(vo(),c=Rc(!0));var u=Xp(!0),d={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:r,startTime_:o,actionId_:xS++,parentActionId_:Jl};return Jl=d.actionId_,d}function CS(e){Jl!==e.actionId_&&Be(30),Jl=e.parentActionId_,e.error_!==void 0&&(fe.suppressReactionErrors=!0),$c(e.prevAllowStateChanges_),Di(e.prevAllowStateReads_),Dn(),e.runAsAction_&&Xs(e.prevDerivation_),fe.suppressReactionErrors=!1}function ES(e,t){var n=Rc(e);try{return t()}finally{$c(n)}}function Rc(e){var t=fe.allowStateChanges;return fe.allowStateChanges=e,t}function $c(e){fe.allowStateChanges=e}var Sr=function(e){function t(s,r,o,i,a){var c;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=Ko.default),c=e.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=r,c.name_=o,c.equals=a,c.value_=r(s,void 0,o),c}wb(t,e);var n=t.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==fe.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if($n(this)){var o=In(this,{object:this,type:Ps,newValue:r});if(!o)return fe.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?fe.UNCHANGED:r},n.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),Jn(this)&&Qn(this,{type:Ps,object:this,newValue:r,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Oa(this,r)},n.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ps,newValue:this.value_,oldValue:void 0}),_a(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return xb(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ar),PS=_r("ObservableValue",Sr),ns=function(){function e(n){this.dependenciesState_=qe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=qe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ec(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ql.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=co("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Ko.structural:Ko.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){MS(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(s){return s()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(s){return s()})},t.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),fe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)qd(this)&&(this.warnAboutUntrackedRead_(),Vn(),this.value_=this.computeValue_(!1),Dn());else if(Ib(this),qd(this)){var s=fe.trackingContext;this.keepAlive_&&!s&&(fe.trackingContext=this),this.trackAndCompute()&&AS(this),fe.trackingContext=s}var r=this.value_;if(Bl(r))throw r.cause;return r},t.set=function(s){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,s)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},t.trackAndCompute=function(){var s=this.value_,r=this.dependenciesState_===qe.NOT_TRACKING_,o=this.computeValue_(!0),i=r||Bl(s)||Bl(o)||!this.equals_(s,o);return i&&(this.value_=o),i},t.computeValue_=function(s){this.isComputing=!0;var r=Rc(!1),o;if(s)o=Mb(this,this.derivation,this.scope_);else if(fe.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(i){o=new ec(i)}return $c(r),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(Yd(this),this.value_=void 0)},t.observe_=function(s,r){var o=this,i=!0,a=void 0;return FS(function(){var c=o.get();if(!i||r){var u=vo();s({observableKind:"computed",debugObjectName:o.name_,type:Ps,object:o,newValue:c,oldValue:a}),Xs(u)}i=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return xb(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},li(e,[{key:"isComputing",get:function(){return yn(this.flags_,e.isComputingMask_)},set:function(s){this.flags_=xn(this.flags_,e.isComputingMask_,s)}},{key:"isRunningSetter",get:function(){return yn(this.flags_,e.isRunningSetterMask_)},set:function(s){this.flags_=xn(this.flags_,e.isRunningSetterMask_,s)}},{key:"isBeingObserved",get:function(){return yn(this.flags_,e.isBeingObservedMask_)},set:function(s){this.flags_=xn(this.flags_,e.isBeingObservedMask_,s)}},{key:"isPendingUnobservation",get:function(){return yn(this.flags_,e.isPendingUnobservationMask_)},set:function(s){this.flags_=xn(this.flags_,e.isPendingUnobservationMask_,s)}},{key:"diffValue",get:function(){return yn(this.flags_,e.diffValueMask_)?1:0},set:function(s){this.flags_=xn(this.flags_,e.diffValueMask_,s===1)}}])}();ns.isComputingMask_=1;ns.isRunningSetterMask_=2;ns.isBeingObservedMask_=4;ns.isPendingUnobservationMask_=8;ns.diffValueMask_=16;var Ta=_r("ComputedValue",ns),qe;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(qe||(qe={}));var Ql;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Ql||(Ql={}));var ec=function(t){this.cause=void 0,this.cause=t};function Bl(e){return e instanceof ec}function qd(e){switch(e.dependenciesState_){case qe.UP_TO_DATE_:return!1;case qe.NOT_TRACKING_:case qe.STALE_:return!0;case qe.POSSIBLY_STALE_:{for(var t=Xp(!0),n=vo(),s=e.observing_,r=s.length,o=0;o<r;o++){var i=s[o];if(Ta(i)){if(fe.disableErrorBoundaries)i.get();else try{i.get()}catch{return Xs(n),Di(t),!0}if(e.dependenciesState_===qe.STALE_)return Xs(n),Di(t),!0}}return Nb(e),Xs(n),Di(t),!1}}}function Mb(e,t,n){var s=Xp(!0);Nb(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++fe.runId;var r=fe.trackingDerivation;fe.trackingDerivation=e,fe.inBatch++;var o;if(fe.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(i){o=new ec(i)}return fe.inBatch--,fe.trackingDerivation=r,TS(e),Di(s),o}function TS(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,s=qe.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,i=0;i<o;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,r!==i&&(n[r]=a),r++),a.dependenciesState_>s&&(s=a.dependenciesState_)}for(n.length=r,e.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&Rb(c,e),c.diffValue=0}for(;r--;){var u=n[r];u.diffValue===1&&(u.diffValue=0,_S(u,e))}s!==qe.UP_TO_DATE_&&(e.dependenciesState_=s,e.onBecomeStale_())}function Yd(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Rb(t[n],e);e.dependenciesState_=qe.NOT_TRACKING_}function Lb(e){var t=vo();try{return e()}finally{Xs(t)}}function vo(){var e=fe.trackingDerivation;return fe.trackingDerivation=null,e}function Xs(e){fe.trackingDerivation=e}function Xp(e){var t=fe.allowStateReads;return fe.allowStateReads=e,t}function Di(e){fe.allowStateReads=e}function Nb(e){if(e.dependenciesState_!==qe.UP_TO_DATE_){e.dependenciesState_=qe.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=qe.UP_TO_DATE_}}var zl=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ul=!0,kb=!1,fe=function(){var e=Ac();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ul=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new zl().version&&(Ul=!1),Ul?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new zl):(setTimeout(function(){kb||Be(35)},1),new zl)}();function OS(){if((fe.pendingReactions.length||fe.inBatch||fe.isRunningReactions)&&Be(36),kb=!0,Ul){var e=Ac();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),fe=new zl}}function _S(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Rb(e,t){e.observers_.delete(t),e.observers_.size===0&&$b(e)}function $b(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,fe.pendingUnobservations.push(e))}function Vn(){fe.inBatch++}function Dn(){if(--fe.inBatch===0){Db();for(var e=fe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ns&&n.suspend_())}fe.pendingUnobservations=[]}}function Ib(e){var t=fe.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&fe.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&fe.inBatch>0&&$b(e),!1)}function Vb(e){e.lowestObserverState_!==qe.STALE_&&(e.lowestObserverState_=qe.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=qe.STALE_}))}function AS(e){e.lowestObserverState_!==qe.STALE_&&(e.lowestObserverState_=qe.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.POSSIBLY_STALE_?t.dependenciesState_=qe.STALE_:t.dependenciesState_===qe.UP_TO_DATE_&&(e.lowestObserverState_=qe.UP_TO_DATE_)}))}function MS(e){e.lowestObserverState_===qe.UP_TO_DATE_&&(e.lowestObserverState_=qe.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.UP_TO_DATE_&&(t.dependenciesState_=qe.POSSIBLY_STALE_,t.onBecomeStale_())}))}var _s=function(){function e(n,s,r,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=qe.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ql.NONE,this.name_=n,this.onInvalidate_=s,this.errorHandler_=r,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,fe.pendingReactions.push(this),Db())},t.runReaction_=function(){if(!this.isDisposed){Vn(),this.isScheduled=!1;var s=fe.trackingContext;if(fe.trackingContext=this,qd(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}fe.trackingContext=s,Dn()}},t.track=function(s){if(!this.isDisposed){Vn(),this.isRunning=!0;var r=fe.trackingContext;fe.trackingContext=this;var o=Mb(this,s,void 0);fe.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Yd(this),Bl(o)&&this.reportExceptionInDerivation_(o.cause),Dn()}},t.reportExceptionInDerivation_=function(s){var r=this;if(this.errorHandler_){this.errorHandler_(s,this);return}if(fe.disableErrorBoundaries)throw s;var o="[mobx] uncaught error in '"+this+"'";fe.suppressReactionErrors||console.error(o,s),fe.globalReactionErrorHandlers.forEach(function(i){return i(s,r)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Vn(),Yd(this),Dn()))},t.getDisposer_=function(s){var r=this,o=function i(){r.dispose(),s==null||s.removeEventListener==null||s.removeEventListener("abort",i)};return s==null||s.addEventListener==null||s.addEventListener("abort",o),o[xe]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(s){},li(e,[{key:"isDisposed",get:function(){return yn(this.flags_,e.isDisposedMask_)},set:function(s){this.flags_=xn(this.flags_,e.isDisposedMask_,s)}},{key:"isScheduled",get:function(){return yn(this.flags_,e.isScheduledMask_)},set:function(s){this.flags_=xn(this.flags_,e.isScheduledMask_,s)}},{key:"isTrackPending",get:function(){return yn(this.flags_,e.isTrackPendingMask_)},set:function(s){this.flags_=xn(this.flags_,e.isTrackPendingMask_,s)}},{key:"isRunning",get:function(){return yn(this.flags_,e.isRunningMask_)},set:function(s){this.flags_=xn(this.flags_,e.isRunningMask_,s)}},{key:"diffValue",get:function(){return yn(this.flags_,e.diffValueMask_)?1:0},set:function(s){this.flags_=xn(this.flags_,e.diffValueMask_,s===1)}}])}();_s.isDisposedMask_=1;_s.isScheduledMask_=2;_s.isTrackPendingMask_=4;_s.isRunningMask_=8;_s.diffValueMask_=16;var LS=100,Zd=function(t){return t()};function Db(){fe.inBatch>0||fe.isRunningReactions||Zd(NS)}function NS(){fe.isRunningReactions=!0;for(var e=fe.pendingReactions,t=0;e.length>0;){++t===LS&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),s=0,r=n.length;s<r;s++)n[s].runReaction_()}fe.isRunningReactions=!1}var tc=_r("Reaction",_s);function kS(e){var t=Zd;Zd=function(s){return e(function(){return t(s)})}}function Hi(){return!1}function RS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Hb="action",$S="action.bound",Fb="autoAction",IS="autoAction.bound",VS="<unnamed action>",Xd=Pa(Hb),DS=Pa($S,{bound:!0}),Jd=Pa(Fb,{autoAction:!0}),HS=Pa(IS,{autoAction:!0,bound:!0});function Bb(e){var t=function(s,r){if(ts(s))return co(s.name||VS,s,e);if(ts(r))return co(s,r,e);if(Ea(r))return(e?Jd:Xd).decorate_20223_(s,r);if(io(r))return Ca(s,r,e?Jd:Xd);if(io(s))return Es(Pa(e?Fb:Hb,{name:s,autoAction:e}))};return t}var Jr=Bb(!1);Object.assign(Jr,Xd);var na=Bb(!0);Object.assign(na,Jd);Jr.bound=Es(DS);na.bound=Es(HS);function sa(e){return ts(e)&&e.isMobxAction===!0}function FS(e,t){var n,s,r,o;t===void 0&&(t=qp);var i=(n=(s=t)==null?void 0:s.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new _s(i,function(){this.track(p)},t.onError,t.requiresObservable);else{var u=zb(t),d=!1;c=new _s(i,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(p)}))},t.onError,t.requiresObservable)}function p(){e(c)}return(r=t)!=null&&(r=r.signal)!=null&&r.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var BS=function(t){return t()};function zb(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:BS}function Ub(e,t,n){var s,r,o;n===void 0&&(n=qp);var i=(s=n.name)!=null?s:"Reaction",a=Jr(i,n.onError?zS(n.onError,t):t),c=!n.scheduler&&!n.delay,u=zb(n),d=!0,p=!1,g,h=n.compareStructural?Ko.structural:n.equals||Ko.default,m=new _s(i,function(){d||c?b():p||(p=!0,u(b))},n.onError,n.requiresObservable);function b(){if(p=!1,!m.isDisposed){var v=!1,x=g;m.track(function(){var y=ES(!1,function(){return e(m)});v=d||!h(g,y),g=y}),(d&&n.fireImmediately||!d&&v)&&a(g,x,m),d=!1}}return(r=n)!=null&&(r=r.signal)!=null&&r.aborted||m.schedule_(),m.getDisposer_((o=n)==null?void 0:o.signal)}function zS(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var US="onBO",WS="onBUO";function GS(e,t,n){return Gb(US,e,t,n)}function Wb(e,t,n){return Gb(WS,e,t,n)}function Gb(e,t,n,s){var r=typeof s=="function"?Yo(t,n):Yo(t),o=ts(s)?s:n,i=e+"L";return r[i]?r[i].add(o):r[i]=new Set([o]),function(){var a=r[i];a&&(a.delete(o),a.size===0&&delete r[i])}}var KS="never",rl="always",qS="observed";function YS(e){e.isolateGlobalState===!0&&OS();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(fe.useProxies=t===rl?!0:t===KS?!1:typeof Proxy<"u"),t==="ifavailable"&&(fe.verifyProxies=!0),n!==void 0){var s=n===rl?rl:n===qS;fe.enforceActions=s,fe.allowStateChanges=!(s===!0||s===rl)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in e&&(fe[r]=!!e[r])}),fe.allowStateReads=!fe.observableRequiresReaction,e.reactionScheduler&&kS(e.reactionScheduler)}function Kb(e,t,n,s){var r=Ow(t);return Lr(function(){var o=yo(e,s)[xe];Go(r).forEach(function(i){o.extend_(i,r[i],n&&i in n?n[i]:!0)})}),e}function ZS(e,t){return qb(Yo(e,t))}function qb(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=XS(e.observing_).map(qb)),t}function XS(e){return Array.from(new Set(e))}var JS=0;function Yb(){this.message="FLOW_CANCELLED"}Yb.prototype=Object.create(Error.prototype);var _u=Cb("flow"),QS=Cb("flow.bound",{bound:!0}),uo=Object.assign(function(t,n){if(Ea(n))return _u.decorate_20223_(t,n);if(io(n))return Ca(t,n,_u);var s=t,r=s.name||"<unnamed flow>",o=function(){var a=this,c=arguments,u=++JS,d=Jr(r+" - runid: "+u+" - init",s).apply(a,c),p,g=void 0,h=new Promise(function(m,b){var v=0;p=b;function x(w){g=void 0;var j;try{j=Jr(r+" - runid: "+u+" - yield "+v++,d.next).call(d,w)}catch(C){return b(C)}S(j)}function y(w){g=void 0;var j;try{j=Jr(r+" - runid: "+u+" - yield "+v++,d.throw).call(d,w)}catch(C){return b(C)}S(j)}function S(w){if(ts(w==null?void 0:w.then)){w.then(S,b);return}return w.done?m(w.value):(g=Promise.resolve(w.value),g.then(x,y))}x(void 0)});return h.cancel=Jr(r+" - runid: "+u+" - cancel",function(){try{g&&Xg(g);var m=d.return(void 0),b=Promise.resolve(m.value);b.then(Ro,Ro),Xg(b),p(new Yb)}catch(v){p(v)}}),h};return o.isMobXFlow=!0,o},_u);uo.bound=Es(QS);function Xg(e){ts(e.cancel)&&e.cancel()}function ra(e){return(e==null?void 0:e.isMobXFlow)===!0}function e2(e,t){return e?t!==void 0?qo(e)?e[xe].values_.has(t):!1:qo(e)||!!e[xe]||Yp(e)||tc(e)||Ta(e):!1}function Jp(e){return e2(e)}function t2(e){if(qo(e))return e[xe].ownKeys_();Be(38)}function ol(e,t,n){return e.set(t,n),n}function ko(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Jp(e))return e;if(PS(e)||Ta(e))return ko(e.get(),t);if(t.has(e))return t.get(e);if(Aa(e)){var n=ol(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=ko(i,t)}),n}if(Zn(e)){var s=ol(t,e,new Set);return e.forEach(function(i){s.add(ko(i,t))}),s}if(Mr(e)){var r=ol(t,e,new Map);return e.forEach(function(i,a){r.set(a,ko(i,t))}),r}else{var o=ol(t,e,{});return t2(e).forEach(function(i){Sa.propertyIsEnumerable.call(e,i)&&(o[i]=ko(e[i],t))}),o}}function vr(e,t){return ko(e,new Map)}function Gs(e,t){t===void 0&&(t=void 0),Vn();try{return e.apply(t)}finally{Dn()}}function To(e){return e[xe]}var n2={has:function(t,n){return To(t).has_(n)},get:function(t,n){return To(t).get_(n)},set:function(t,n,s){var r;return io(n)?(r=To(t).set_(n,s,!0))!=null?r:!0:!1},deleteProperty:function(t,n){var s;return io(n)?(s=To(t).delete_(n,!0))!=null?s:!0:!1},defineProperty:function(t,n,s){var r;return(r=To(t).defineProperty_(n,s))!=null?r:!0},ownKeys:function(t){return To(t).ownKeys_()},preventExtensions:function(t){Be(13)}};function s2(e,t){var n,s;return hb(),e=yo(e,t),(s=(n=e[xe]).proxy_)!=null?s:n.proxy_=new Proxy(e,n2)}function $n(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Oa(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),mb(function(){var s=n.indexOf(t);s!==-1&&n.splice(s,1)})}function In(e,t){var n=vo();try{for(var s=[].concat(e.interceptors_||[]),r=0,o=s.length;r<o&&(t=s[r](t),t&&!t.type&&Be(14),!!t);r++);return t}finally{Xs(n)}}function Jn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function _a(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),mb(function(){var s=n.indexOf(t);s!==-1&&n.splice(s,1)})}function Qn(e,t){var n=vo(),s=e.changeListeners_;if(s){s=s.slice();for(var r=0,o=s.length;r<o;r++)s[r](t);Xs(n)}}function r2(e,t,n){return Lr(function(){var s,r=yo(e,n)[xe];(s=t)!=null||(t=Lw(e)),Go(t).forEach(function(o){return r.make_(o,t[o])})}),e}var Au=Symbol("mobx-keys");function nn(e,t,n){return Qs(e)?Kb(e,e,t,n):(Lr(function(){var s=yo(e,n)[xe];if(!e[Au]){var r=Object.getPrototypeOf(e),o=new Set([].concat(Go(e),Go(r)));o.delete("constructor"),o.delete(xe),ja(r,Au,o)}e[Au].forEach(function(i){return s.make_(i,t&&i in t?t[i]:!0)})}),e)}var Jg="splice",Ps="update",o2=1e4,i2={get:function(t,n){var s=t[xe];return n===xe?s:n==="length"?s.getArrayLength_():typeof n=="string"&&!isNaN(n)?s.get_(parseInt(n)):Zs(nc,n)?nc[n]:t[n]},set:function(t,n,s){var r=t[xe];return n==="length"&&r.setArrayLength_(s),typeof n=="symbol"||isNaN(n)?t[n]=s:r.set_(parseInt(n),s),!0},preventExtensions:function(){Be(15)}},Qp=function(){function e(n,s,r,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new Ar(n),this.enhancer_=function(i,a){return s(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.dehanceValues_=function(s){return this.dehancer!==void 0&&s.length>0?s.map(this.dehancer):s},t.intercept_=function(s){return Oa(this,s)},t.observe_=function(s,r){return r===void 0&&(r=!1),r&&s({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),_a(this,s)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(s){(typeof s!="number"||isNaN(s)||s<0)&&Be("Out of range: "+s);var r=this.values_.length;if(s!==r)if(s>r){for(var o=new Array(s-r),i=0;i<s-r;i++)o[i]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(s,r-s)},t.updateArrayLength_=function(s,r){s!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&nv(s+r+1)},t.spliceWithArray_=function(s,r,o){var i=this;this.atom_;var a=this.values_.length;if(s===void 0?s=0:s>a?s=a:s<0&&(s=Math.max(0,a+s)),arguments.length===1?r=a-s:r==null?r=0:r=Math.max(0,Math.min(r,a-s)),o===void 0&&(o=Ud),$n(this)){var c=In(this,{object:this.proxy_,type:Jg,index:s,removedCount:r,added:o});if(!c)return Ud;r=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(p){return i.enhancer_(p,void 0)}),this.legacyMode_){var u=o.length-r;this.updateArrayLength_(a,u)}var d=this.spliceItemsIntoValues_(s,r,o);return(r!==0||o.length!==0)&&this.notifyArraySplice_(s,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(s,r,o){if(o.length<o2){var i;return(i=this.values_).splice.apply(i,[s,r].concat(o))}else{var a=this.values_.slice(s,s+r),c=this.values_.slice(s+r);this.values_.length+=o.length-r;for(var u=0;u<o.length;u++)this.values_[s+u]=o[u];for(var d=0;d<c.length;d++)this.values_[s+o.length+d]=c[d];return a}},t.notifyArrayChildUpdate_=function(s,r,o){var i=!this.owned_&&Hi(),a=Jn(this),c=a||i?{observableKind:"array",object:this.proxy_,type:Ps,debugObjectName:this.atom_.name_,index:s,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),a&&Qn(this,c)},t.notifyArraySplice_=function(s,r,o){var i=!this.owned_&&Hi(),a=Jn(this),c=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Jg,index:s,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),a&&Qn(this,c)},t.get_=function(s){if(this.legacyMode_&&s>=this.values_.length){console.warn("[mobx] Out of bounds read: "+s);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[s])},t.set_=function(s,r){var o=this.values_;if(this.legacyMode_&&s>o.length&&Be(17,s,o.length),s<o.length){this.atom_;var i=o[s];if($n(this)){var a=In(this,{type:Ps,object:this.proxy_,index:s,newValue:r});if(!a)return;r=a.newValue}r=this.enhancer_(r,i);var c=r!==i;c&&(o[s]=r,this.notifyArrayChildUpdate_(s,r,i))}else{for(var u=new Array(s+1-o.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=r,this.spliceWithArray_(o.length,0,u)}},e}();function a2(e,t,n,s){return n===void 0&&(n="ObservableArray"),s===void 0&&(s=!1),hb(),Lr(function(){var r=new Qp(n,t,s,!1);vb(r.values_,xe,r);var o=new Proxy(r.values_,i2);return r.proxy_=o,e&&e.length&&r.spliceWithArray_(0,0,e),o})}var nc={clear:function(){return this.splice(0)},replace:function(t){var n=this[xe];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];var i=this[xe];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,r)},spliceWithArray:function(t,n,s){return this[xe].spliceWithArray_(t,n,s)},push:function(){for(var t=this[xe],n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,s),t.values_.length},pop:function(){return this.splice(Math.max(this[xe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[xe],n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.spliceWithArray_(0,0,s),t.values_.length},reverse:function(){return fe.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){fe.trackingDerivation&&Be(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[xe],s=n.dehanceValues_(n.values_).indexOf(t);return s>-1?(this.splice(s,1),!0):!1}};gt("at",On);gt("concat",On);gt("flat",On);gt("includes",On);gt("indexOf",On);gt("join",On);gt("lastIndexOf",On);gt("slice",On);gt("toString",On);gt("toLocaleString",On);gt("toSorted",On);gt("toSpliced",On);gt("with",On);gt("every",rs);gt("filter",rs);gt("find",rs);gt("findIndex",rs);gt("findLast",rs);gt("findLastIndex",rs);gt("flatMap",rs);gt("forEach",rs);gt("map",rs);gt("some",rs);gt("toReversed",rs);gt("reduce",Zb);gt("reduceRight",Zb);function gt(e,t){typeof Array.prototype[e]=="function"&&(nc[e]=t(e))}function On(e){return function(){var t=this[xe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function rs(e){return function(t,n){var s=this,r=this[xe];r.atom_.reportObserved();var o=r.dehanceValues_(r.values_);return o[e](function(i,a){return t.call(n,i,a,s)})}}function Zb(e){return function(){var t=this,n=this[xe];n.atom_.reportObserved();var s=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(o,i,a){return r(o,i,a,t)},s[e].apply(s,arguments)}}var l2=_r("ObservableArrayAdministration",Qp);function Aa(e){return Mc(e)&&l2(e[xe])}var c2={},yr="add",sc="delete",Xb=function(){function e(n,s,r){var o=this;s===void 0&&(s=lo),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[xe]=c2,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=s,this.name_=r,ts(Map)||Be(18),Lr(function(){o.keysAtom_=Sb("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(s){return this.data_.has(s)},t.has=function(s){var r=this;if(!fe.trackingDerivation)return this.has_(s);var o=this.hasMap_.get(s);if(!o){var i=o=new Sr(this.has_(s),Lc,"ObservableMap.key?",!1);this.hasMap_.set(s,i),Wb(i,function(){return r.hasMap_.delete(s)})}return o.get()},t.set=function(s,r){var o=this.has_(s);if($n(this)){var i=In(this,{type:o?Ps:yr,object:this,newValue:r,name:s});if(!i)return this;r=i.newValue}return o?this.updateValue_(s,r):this.addValue_(s,r),this},t.delete=function(s){var r=this;if(this.keysAtom_,$n(this)){var o=In(this,{type:sc,object:this,name:s});if(!o)return!1}if(this.has_(s)){var i=Hi(),a=Jn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:sc,object:this,oldValue:this.data_.get(s).value_,name:s}:null;return Gs(function(){var u;r.keysAtom_.reportChanged(),(u=r.hasMap_.get(s))==null||u.setNewValue_(!1);var d=r.data_.get(s);d.setNewValue_(void 0),r.data_.delete(s)}),a&&Qn(this,c),!0}return!1},t.updateValue_=function(s,r){var o=this.data_.get(s);if(r=o.prepareNewValue_(r),r!==fe.UNCHANGED){var i=Hi(),a=Jn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:Ps,object:this,oldValue:o.value_,name:s,newValue:r}:null;o.setNewValue_(r),a&&Qn(this,c)}},t.addValue_=function(s,r){var o=this;this.keysAtom_,Gs(function(){var u,d=new Sr(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(s,d),r=d.value_,(u=o.hasMap_.get(s))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var i=Hi(),a=Jn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:yr,object:this,name:s,newValue:r}:null;a&&Qn(this,c)},t.get=function(s){return this.has(s)?this.dehanceValue_(this.data_.get(s).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var s=this,r=this.keys();return Qg({next:function(){var i=r.next(),a=i.done,c=i.value;return{done:a,value:a?void 0:s.get(c)}}})},t.entries=function(){var s=this,r=this.keys();return Qg({next:function(){var i=r.next(),a=i.done,c=i.value;return{done:a,value:a?void 0:[c,s.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(s,r){for(var o=$o(this),i;!(i=o()).done;){var a=i.value,c=a[0],u=a[1];s.call(r,u,c,this)}},t.merge=function(s){var r=this;return Mr(s)&&(s=new Map(s)),Gs(function(){Qs(s)?Tw(s).forEach(function(o){return r.set(o,s[o])}):Array.isArray(s)?s.forEach(function(o){var i=o[0],a=o[1];return r.set(i,a)}):ai(s)?(Pw(s)||Be(19,s),s.forEach(function(o,i){return r.set(i,o)})):s!=null&&Be(20,s)}),this},t.clear=function(){var s=this;Gs(function(){Lb(function(){for(var r=$o(s.keys()),o;!(o=r()).done;){var i=o.value;s.delete(i)}})})},t.replace=function(s){var r=this;return Gs(function(){for(var o=u2(s),i=new Map,a=!1,c=$o(r.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!o.has(d)){var p=r.delete(d);if(p)a=!0;else{var g=r.data_.get(d);i.set(d,g)}}}for(var h=$o(o.entries()),m;!(m=h()).done;){var b=m.value,v=b[0],x=b[1],y=r.data_.has(v);if(r.set(v,x),r.data_.has(v)){var S=r.data_.get(v);i.set(v,S),y||(a=!0)}}if(!a)if(r.data_.size!==i.size)r.keysAtom_.reportChanged();else for(var w=r.data_.keys(),j=i.keys(),C=w.next(),P=j.next();!C.done;){if(C.value!==P.value){r.keysAtom_.reportChanged();break}C=w.next(),P=j.next()}r.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(s,r){return _a(this,s)},t.intercept_=function(s){return Oa(this,s)},li(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Mr=_r("ObservableMap",Xb);function Qg(e){return e[Symbol.toStringTag]="MapIterator",nf(e)}function u2(e){if(ai(e)||Mr(e))return e;if(Array.isArray(e))return new Map(e);if(Qs(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Be(21,e)}var d2={},Jb=function(){function e(n,s,r){var o=this;s===void 0&&(s=lo),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[xe]=d2,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ts(Set)||Be(22),this.enhancer_=function(i,a){return s(i,a,r)},Lr(function(){o.atom_=Sb(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.clear=function(){var s=this;Gs(function(){Lb(function(){for(var r=$o(s.data_.values()),o;!(o=r()).done;){var i=o.value;s.delete(i)}})})},t.forEach=function(s,r){for(var o=$o(this),i;!(i=o()).done;){var a=i.value;s.call(r,a,a,this)}},t.add=function(s){var r=this;if(this.atom_,$n(this)){var o=In(this,{type:yr,object:this,newValue:s});if(!o)return this}if(!this.has(s)){Gs(function(){r.data_.add(r.enhancer_(s,void 0)),r.atom_.reportChanged()});var i=!1,a=Jn(this),c=a||i?{observableKind:"set",debugObjectName:this.name_,type:yr,object:this,newValue:s}:null;a&&Qn(this,c)}return this},t.delete=function(s){var r=this;if($n(this)){var o=In(this,{type:sc,object:this,oldValue:s});if(!o)return!1}if(this.has(s)){var i=!1,a=Jn(this),c=a||i?{observableKind:"set",debugObjectName:this.name_,type:sc,object:this,oldValue:s}:null;return Gs(function(){r.atom_.reportChanged(),r.data_.delete(s)}),a&&Qn(this,c),!0}return!1},t.has=function(s){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(s))},t.entries=function(){var s=0,r=Array.from(this.keys()),o=Array.from(this.values());return eh({next:function(){var a=s;return s+=1,a<o.length?{value:[r[a],o[a]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var s=this,r=0,o=Array.from(this.data_.values());return eh({next:function(){return r<o.length?{value:s.dehanceValue_(o[r++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(s){if(Ws(s)&&!Zn(s))return s.intersection(this);var r=new Set(this);return r.intersection(s)},t.union=function(s){if(Ws(s)&&!Zn(s))return s.union(this);var r=new Set(this);return r.union(s)},t.difference=function(s){return new Set(this).difference(s)},t.symmetricDifference=function(s){if(Ws(s)&&!Zn(s))return s.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(s)},t.isSubsetOf=function(s){return new Set(this).isSubsetOf(s)},t.isSupersetOf=function(s){return new Set(this).isSupersetOf(s)},t.isDisjointFrom=function(s){if(Ws(s)&&!Zn(s))return s.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(s)},t.replace=function(s){var r=this;return Zn(s)&&(s=new Set(s)),Gs(function(){Array.isArray(s)?(r.clear(),s.forEach(function(o){return r.add(o)})):Ws(s)?(r.clear(),s.forEach(function(o){return r.add(o)})):s!=null&&Be("Cannot initialize set from "+s)}),this},t.observe_=function(s,r){return _a(this,s)},t.intercept_=function(s){return Oa(this,s)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},li(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Zn=_r("ObservableSet",Jb);function eh(e){return e[Symbol.toStringTag]="SetIterator",nf(e)}var th=Object.create(null),nh="remove",Qb=function(){function e(n,s,r,o){s===void 0&&(s=new Map),o===void 0&&(o=rS),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=s,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new Ar("ObservableObject.keys"),this.isPlainObject_=Qs(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(s){return this.values_.get(s).get()},t.setObservablePropValue_=function(s,r){var o=this.values_.get(s);if(o instanceof ns)return o.set(r),!0;if($n(this)){var i=In(this,{type:Ps,object:this.proxy_||this.target_,name:s,newValue:r});if(!i)return null;r=i.newValue}if(r=o.prepareNewValue_(r),r!==fe.UNCHANGED){var a=Jn(this),c=!1,u=a||c?{type:Ps,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:s,newValue:r}:null;o.setNewValue_(r),a&&Qn(this,u)}return!0},t.get_=function(s){return fe.trackingDerivation&&!Zs(this.target_,s)&&this.has_(s),this.target_[s]},t.set_=function(s,r,o){return o===void 0&&(o=!1),Zs(this.target_,s)?this.values_.has(s)?this.setObservablePropValue_(s,r):o?Reflect.set(this.target_,s,r):(this.target_[s]=r,!0):this.extend_(s,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(s){if(!fe.trackingDerivation)return s in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(s);return r||(r=new Sr(s in this.target_,Lc,"ObservableObject.key?",!1),this.pendingKeys_.set(s,r)),r.get()},t.make_=function(s,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(s in this.target_)){var o;if((o=this.target_[ws])!=null&&o[s])return;Be(1,r.annotationType_,this.name_+"."+s.toString())}for(var i=this.target_;i&&i!==Sa;){var a=Xl(i,s);if(a){var c=r.make_(this,s,a,i);if(c===0)return;if(c===1)break}i=Object.getPrototypeOf(i)}rh(this,r,s)}},t.extend_=function(s,r,o,i){if(i===void 0&&(i=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(s,r,i);var a=o.extend_(this,s,r,i);return a&&rh(this,o,s),a},t.defineProperty_=function(s,r,o){o===void 0&&(o=!1),this.keysAtom_;try{Vn();var i=this.delete_(s);if(!i)return i;if($n(this)){var a=In(this,{object:this.proxy_||this.target_,name:s,type:yr,newValue:r.value});if(!a)return null;var c=a.newValue;r.value!==c&&(r=ao({},r,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,s,r))return!1}else Cs(this.target_,s,r);this.notifyPropertyAddition_(s,r.value)}finally{Dn()}return!0},t.defineObservableProperty_=function(s,r,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Vn();var a=this.delete_(s);if(!a)return a;if($n(this)){var c=In(this,{object:this.proxy_||this.target_,name:s,type:yr,newValue:r});if(!c)return null;r=c.newValue}var u=sh(s),d={configurable:fe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,s,d))return!1}else Cs(this.target_,s,d);var p=new Sr(r,o,"ObservableObject.key",!1);this.values_.set(s,p),this.notifyPropertyAddition_(s,p.value_)}finally{Dn()}return!0},t.defineComputedProperty_=function(s,r,o){o===void 0&&(o=!1),this.keysAtom_;try{Vn();var i=this.delete_(s);if(!i)return i;if($n(this)){var a=In(this,{object:this.proxy_||this.target_,name:s,type:yr,newValue:void 0});if(!a)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var c=sh(s),u={configurable:fe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,s,u))return!1}else Cs(this.target_,s,u);this.values_.set(s,new ns(r)),this.notifyPropertyAddition_(s,void 0)}finally{Dn()}return!0},t.delete_=function(s,r){if(r===void 0&&(r=!1),this.keysAtom_,!Zs(this.target_,s))return!0;if($n(this)){var o=In(this,{object:this.proxy_||this.target_,name:s,type:nh});if(!o)return null}try{var i;Vn();var a=Jn(this),c=!1,u=this.values_.get(s),d=void 0;if(!u&&(a||c)){var p;d=(p=Xl(this.target_,s))==null?void 0:p.value}if(r){if(!Reflect.deleteProperty(this.target_,s))return!1}else delete this.target_[s];if(u&&(this.values_.delete(s),u instanceof Sr&&(d=u.value_),Vb(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(s))==null||i.set(s in this.target_),a||c){var g={type:nh,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:s};a&&Qn(this,g)}}finally{Dn()}return!0},t.observe_=function(s,r){return _a(this,s)},t.intercept_=function(s){return Oa(this,s)},t.notifyPropertyAddition_=function(s,r){var o,i=Jn(this),a=!1;if(i||a){var c=i||a?{type:yr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:s,newValue:r}:null;i&&Qn(this,c)}(o=this.pendingKeys_)==null||(o=o.get(s))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Go(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function yo(e,t){var n;if(Zs(e,xe))return e;var s=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",r=new Qb(e,new Map,String(s),hS(t));return ja(e,xe,r),e}var p2=_r("ObservableObjectAdministration",Qb);function sh(e){return th[e]||(th[e]={get:function(){return this[xe].getObservablePropValue_(e)},set:function(n){return this[xe].setObservablePropValue_(e,n)}})}function qo(e){return Mc(e)?p2(e[xe]):!1}function rh(e,t,n){var s;(s=e.target_[ws])==null||delete s[n]}var f2=tv(0),g2=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Mu=0,ev=function(){};function h2(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}h2(ev,Array.prototype);var ef=function(e){function t(s,r,o,i){var a;return o===void 0&&(o="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,Lr(function(){var c=new Qp(o,r,i,!0);c.proxy_=a,vb(a,xe,c),s&&s.length&&a.spliceWithArray(0,0,s),g2&&Object.defineProperty(a,"0",f2)}),a}wb(t,e);var n=t.prototype;return n.concat=function(){this[xe].atom_.reportObserved();for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),o.map(function(a){return Aa(a)?a.slice():a}))},n[Symbol.iterator]=function(){var s=this,r=0;return nf({next:function(){return r<s.length?{value:s[r++],done:!1}:{done:!0,value:void 0}}})},li(t,[{key:"length",get:function(){return this[xe].getArrayLength_()},set:function(r){this[xe].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(ev);Object.entries(nc).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&ja(ef.prototype,t,n)});function tv(e){return{enumerable:!1,configurable:!0,get:function(){return this[xe].get_(e)},set:function(n){this[xe].set_(e,n)}}}function m2(e){Cs(ef.prototype,""+e,tv(e))}function nv(e){if(e>Mu){for(var t=Mu;t<e+100;t++)m2(t);Mu=e}}nv(1e3);function b2(e,t,n){return new ef(e,t,n)}function Yo(e,t){if(typeof e=="object"&&e!==null){if(Aa(e))return t!==void 0&&Be(23),e[xe].atom_;if(Zn(e))return e.atom_;if(Mr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Be(25,t,Qd(e)),n}if(qo(e)){if(!t)return Be(26);var s=e[xe].values_.get(t);return s||Be(27,t,Qd(e)),s}if(Yp(e)||Ta(e)||tc(e))return e}else if(ts(e)&&tc(e[xe]))return e[xe];Be(28)}function sv(e,t){if(e||Be(29),t!==void 0)return sv(Yo(e,t));if(Yp(e)||Ta(e)||tc(e)||Mr(e)||Zn(e))return e;if(e[xe])return e[xe];Be(24,e)}function Qd(e,t){var n;if(t!==void 0)n=Yo(e,t);else{if(sa(e))return e.name;qo(e)||Mr(e)||Zn(e)?n=sv(e):n=Yo(e)}return n.name_}function Lr(e){var t=vo(),n=Rc(!0);Vn();try{return e()}finally{Dn(),$c(n),Xs(t)}}var oh=Sa.toString;function tf(e,t,n){return n===void 0&&(n=-1),ep(e,t,n)}function ep(e,t,n,s,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var i=oh.call(e);if(i!==oh.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=ih(e),t=ih(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(ts(c)&&c instanceof c&&ts(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),s=s||[],r=r||[];for(var d=s.length;d--;)if(s[d]===e)return r[d]===t;if(s.push(e),r.push(t),a){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!ep(e[d],t[d],n-1,s,r))return!1}else{var p=Object.keys(e),g;if(d=p.length,Object.keys(t).length!==d)return!1;for(;d--;)if(g=p[d],!(Zs(t,g)&&ep(e[g],t[g],n-1,s,r)))return!1}return s.pop(),r.pop(),!0}function ih(e){return Aa(e)?e.slice():ai(e)||Mr(e)||Ws(e)||Zn(e)?Array.from(e.entries()):e}var ah,v2=((ah=Ac().Iterator)==null?void 0:ah.prototype)||{};function nf(e){return e[Symbol.iterator]=y2,Object.assign(Object.create(v2),e)}function y2(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Ac();typeof t[e]>"u"&&Be("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:RS,extras:{getDebugName:Qd},$mobx:xe});const rv="app.grapesjs.com",ov="app-stage.grapesjs.com",x2="app2.grapesjs.com",w2="app-stage2.grapesjs.com",iv="gs-studio-root",lh=[rv,x2,ov,w2,"localhost","127.0.0.1",".local-credentialless.webcontainer.io",".local.webcontainer.io","-sandpack.codesandbox.io"],S2="license:check:start",ch="license:check:end",Ls=()=>typeof window<"u",po=e=>e&&e.stopPropagation(),j2=e=>e.getAttributeNames().reduce((t,n)=>({...t,[n]:e.getAttribute(n)||""}),{}),C2=(e,t)=>{const n=s=>s.key===e&&t();return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},E2=(e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},P2=e=>C2("Escape",e),T2=(e,t={})=>{const n=nt(e)?{id:e,src:e}:e;return new Promise((s,r)=>{var g,h;const{loadedScripts:o}=t,{id:i,src:a}=n,c=document.querySelector(`script[src="${a}"]`);if(c){if((g=t.onScript)==null||g.call(t,c),o&&!o.get(a)){c.addEventListener("load",()=>s(i)),c.addEventListener("error",()=>r(i));return}return s(i)}const u=window.define;window.define=void 0;const d=()=>{o==null||o.set(a,!0),window.define=u},p=document.createElement("script");p.src=a,p.onload=()=>{s(i),d()},p.onerror=()=>{r(i),d()},document.head.appendChild(p),(h=t.onScript)==null||h.call(t,p)})},O2=e=>{const t=e.map(n=>T2(n));return Promise.allSettled(t)};function _2(e){const t=e.ownerDocument.createElement("script");return t.text=e.innerHTML,Array.from(e.attributes).forEach(n=>t.setAttribute(n.nodeName,n.nodeValue)),t}function uh(e){const t=s=>{var r;if(s.length){const o=s.shift(),i=_2(o);i.onerror=i.onload=t.bind(null,s),(r=o.parentNode)==null||r.replaceChild(i,o)}},n=Array.from(e.querySelectorAll("script"));t(n)}const av=e=>new DOMParser().parseFromString(e,"text/html"),A2=(e="")=>av(`<body>${e}</body>`).body.innerHTML,M2=(e="")=>av(`<head>${e}</head>`).head.innerHTML,L2=(e="",t)=>{const s=new DOMParser().parseFromString(e,"text/html");if(t){const o=s.querySelectorAll("svg")[0].style||{},i=D2(t)?`${t}px`:t;o.width=i,o.height=i,o.fill="currentColor"}return new XMLSerializer().serializeToString(s)},N2=({isDev:e,isStage:t})=>`${e?"":`https://${t?ov:rv}`}/api`,k2=(e,t)=>{try{return new RegExp(e,t)}catch{console.warn("Failed to create regexp",e);return}},lv=(e={})=>{const{width:t=300,height:n,text:s="IMAGE",bg:r="777",fg:o="white"}=e,i=n?`x${n}`:"";return`https://placehold.co/${t}${i}/${r}/${o}.png?text=${s}`},R2=lv(),sf=()=>{const e=Ls()&&window.location.hostname;return!!e&&(lh.includes(e)||lh.some(t=>e.endsWith(t)))},Ss=e=>e&&e.charAt(0).toUpperCase()+e.substring(1),$2=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase()),I2=()=>{},V2=240,Lt=e=>typeof e<"u",nt=e=>typeof e=="string",D2=e=>typeof e=="number";function Xe(e){return typeof e=="function"}function ss(e){return e&&!Array.isArray(e)&&typeof e=="object"}const H2=e=>!e||Object.keys(e).length===0,oa=(e,t)=>{const n={...e},s={...t};for(const r in s){const o=n[r],i=s[r];ss(o)&&ss(i)?n[r]=oa(o,i):n[r]=i}return n},Ho=(e,t)=>{const n=(e||"").toLocaleLowerCase(),s=(t||"").toLocaleLowerCase();return n.includes(s)},F2=(e="")=>{const t=e[0]==="?"?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)},B2=(e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*s));return t},z2=e=>!!e.Components.getType("mjml"),Ic=e=>(e||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._]+/g,"").replace(/--+/g,"-").trim(),U2=(e,t=[])=>{const n=new Set(t);return(e||"").trim().replace(/\{\{\s*([a-zA-Z0-9_]*)\s*\}\}/g,(o,i)=>{const a=i.trim();return!a||!n.has(a)?"":`__var__${a}__`}).replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._/]+/g,"").replace(/--+/g,"-").replace(/^[-/]+|[-/]+$/g,"").replace(/__var__([a-zA-Z0-9_]+)__/g,(o,i)=>`{{ ${i} }}`)};var il,W2=new Uint8Array(16);function G2(){if(!il&&(il=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!il))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return il(W2)}const K2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function q2(e){return typeof e=="string"&&K2.test(e)}var Ht=[];for(var Lu=0;Lu<256;++Lu)Ht.push((Lu+256).toString(16).substr(1));function Y2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ht[e[t+0]]+Ht[e[t+1]]+Ht[e[t+2]]+Ht[e[t+3]]+"-"+Ht[e[t+4]]+Ht[e[t+5]]+"-"+Ht[e[t+6]]+Ht[e[t+7]]+"-"+Ht[e[t+8]]+Ht[e[t+9]]+"-"+Ht[e[t+10]]+Ht[e[t+11]]+Ht[e[t+12]]+Ht[e[t+13]]+Ht[e[t+14]]+Ht[e[t+15]]).toLowerCase();if(!q2(n))throw TypeError("Stringified UUID is invalid");return n}function cv(e,t,n){e=e||{};var s=e.random||(e.rng||G2)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=s[r];return t}return Y2(s)}var ce=(e=>(e.toastAdd="studio:toastAdd",e.toastRemove="studio:toastRemove",e.dialogOpen="studio:dialogOpen",e.dialogClose="studio:dialogClose",e.dialogExportCode="studio:dialogExportCode",e.sidebarLeftSet="studio:sidebarLeft:set",e.sidebarLeftGet="studio:sidebarLeft:get",e.sidebarLeftToggle="studio:sidebarLeft:toggle",e.sidebarRightSet="studio:sidebarRight:set",e.sidebarRightGet="studio:sidebarRight:get",e.sidebarRightToggle="studio:sidebarRight:toggle",e.sidebarTopSet="studio:sidebarTop:set",e.sidebarTopGet="studio:sidebarTop:get",e.sidebarTopToggle="studio:sidebarTop:toggle",e.sidebarBottomSet="studio:sidebarBottom:set",e.sidebarBottomGet="studio:sidebarBottom:get",e.sidebarBottomToggle="studio:sidebarBottom:toggle",e.symbolAdd="studio:symbolAdd",e.symbolDetach="studio:symbolDetach",e.symbolOverride="studio:symbolOverride",e.symbolPropagateStyles="studio:propagateStyles",e.getPagesConfig="studio:getPagesConfig",e.setPagesConfig="studio:setPagesConfig",e.getPageSettings="studio:getPageSettings",e.setPageSettings="studio:setPageSettings",e.clearPage="studio:clearPage",e.projectFiles="studio:projectFiles",e.validateCode="studio:validateCode",e.canvasReload="studio:canvasReload",e.getBlocksPanel="studio:getBlocksPanel",e.setBlocksPanel="studio:setBlocksPanel",e.getStateContextMenu="studio:getStateContextMenu",e.setStateContextMenu="studio:setStateContextMenu",e.contextMenuComponent="studio:contextMenuComponent",e.layoutAdd="studio:layoutAdd",e.layoutRemove="studio:layoutRemove",e.layoutToggle="studio:layoutToggle",e.layoutUpdate="studio:layoutUpdate",e.layoutGet="studio:layoutGet",e.layoutConfigGet="studio:layoutConfigGet",e.layoutConfigSet="studio:layoutConfigSet",e.getStateTheme="studio:getStateTheme",e.setStateTheme="studio:setStateTheme",e.assetProviderGet="studio:assetProviderGet",e.assetProviderAdd="studio:assetProviderAdd",e.assetProviderRemove="studio:assetProviderRemove",e.fontGet="studio:fontGet",e.fontAdd="studio:fontAdd",e.fontRemove="studio:fontRemove",e.fontManagerOpen="studio:fontManagerOpen",e.menuFontLoad="studio:menuFontLoad",e.toggleStateDataSource="studio:toggleStateDataSource",e.getStateDataSource="studio:getStateDataSource",e.dataSourceSetGlobalData="studio:dataSourceSetGlobalData",e.dataSourceSetImporter="studio:dataSourceSetImporter",e.dataSourceSetExporter="studio:dataSourceSetExporter",e.setDragAbsolute="studio:setDragAbsolute",e))(ce||{}),pn=(e=>(e.layoutToggleId="studio:layoutToggle:",e.toggleBlocksPanel="studio:toggleBlocksPanel",e.pageSettingsUpdate="studio:pageSettingsUpdate",e.toggleDataSourcesPreview="studio:toggleDataSourcesPreview",e))(pn||{});const uv=new Set,Cn=new WeakMap,Fo=new WeakMap,fo=new WeakMap,tp=new WeakMap,Z2=new WeakMap,Zo=new WeakMap,rc=new WeakMap;let Er;const Qr="__aa_tgt",np="__aa_del",X2=e=>{const t=nj(e);t&&t.forEach(n=>sj(n))},J2=e=>{e.forEach(t=>{t.target===Er&&ej(),Cn.has(t.target)&&xo(t.target)})};function Q2(e){const t=tp.get(e);t==null||t.disconnect();let n=Cn.get(e),s=0;const r=5;n||(n=Xo(e),Cn.set(e,n));const{offsetWidth:o,offsetHeight:i}=Er,c=[n.top-r,o-(n.left+r+n.width),i-(n.top+r+n.height),n.left-r].map(d=>`${-1*Math.floor(d)}px`).join(" "),u=new IntersectionObserver(()=>{++s>1&&xo(e)},{root:Er,threshold:1,rootMargin:c});u.observe(e),tp.set(e,u)}function xo(e){clearTimeout(rc.get(e));const t=Vc(e),n=typeof t=="function"?500:t.duration;rc.set(e,setTimeout(()=>{const s=fo.get(e);(!s||s.finished)&&(Cn.set(e,Xo(e)),Q2(e))},n))}function ej(){clearTimeout(rc.get(Er)),rc.set(Er,setTimeout(()=>{uv.forEach(e=>fv(e,t=>dv(()=>xo(t))))},100))}function tj(e){setTimeout(()=>{Z2.set(e,setInterval(()=>dv(xo.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function dv(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let sp,Io;typeof window<"u"&&(Er=document.documentElement,sp=new MutationObserver(X2),Io=new ResizeObserver(J2),Io.observe(Er));function nj(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(Nu(n.target),!t.has(n.target)){t.add(n.target);for(let s=0;s<n.target.children.length;s++){const r=n.target.children.item(s);if(r){if(np in r)return!1;Nu(n.target,r),t.add(r)}}}if(n.removedNodes.length)for(let s=0;s<n.removedNodes.length;s++){const r=n.removedNodes[s];if(np in r)return!1;r instanceof Element&&(t.add(r),Nu(n.target,r),Fo.set(r,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function Nu(e,t){!t&&!(Qr in e)?Object.defineProperty(e,Qr,{value:e}):t&&!(Qr in t)&&Object.defineProperty(t,Qr,{value:e})}function sj(e){var t;const n=Er.contains(e),s=Cn.has(e);n&&Fo.has(e)&&Fo.delete(e),fo.has(e)&&((t=fo.get(e))===null||t===void 0||t.cancel()),s&&n?rj(e):s&&!n?ij(e):oj(e)}function ps(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Xo(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function pv(e,t,n){let s=t.width,r=t.height,o=n.width,i=n.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const u=ps(a.paddingTop)+ps(a.paddingBottom)+ps(a.borderTopWidth)+ps(a.borderBottomWidth),d=ps(a.paddingLeft)+ps(a.paddingRight)+ps(a.borderRightWidth)+ps(a.borderLeftWidth);s-=d,o-=d,r-=u,i-=u}return[s,o,r,i].map(Math.round)}function Vc(e){return Qr in e&&Zo.has(e[Qr])?Zo.get(e[Qr]):{duration:250,easing:"ease-in-out"}}function fv(e,...t){t.forEach(n=>n(e,Zo.has(e)));for(let n=0;n<e.children.length;n++){const s=e.children.item(n);s&&t.forEach(r=>r(s,Zo.has(s)))}}function rj(e){const t=Cn.get(e),n=Xo(e);let s;if(!t)return;const r=Vc(e);if(typeof r!="function"){const o=t.left-n.left,i=t.top-n.top,[a,c,u,d]=pv(e,t,n),p={transform:`translate(${o}px, ${i}px)`},g={transform:"translate(0, 0)"};a!==c&&(p.width=`${a}px`,g.width=`${c}px`),u!==d&&(p.height=`${u}px`,g.height=`${d}px`),s=e.animate([p,g],r)}else s=new Animation(r(e,"remain",t,n)),s.play();fo.set(e,s),Cn.set(e,n),s.addEventListener("finish",xo.bind(null,e))}function oj(e){const t=Xo(e);Cn.set(e,t);const n=Vc(e);let s;typeof n!="function"?s=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(s=new Animation(n(e,"add",t)),s.play()),fo.set(e,s),s.addEventListener("finish",xo.bind(null,e))}function ij(e){if(!Fo.has(e)||!Cn.has(e))return;const[t,n]=Fo.get(e);Object.defineProperty(e,np,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[s,r,o,i]=aj(e),a=Vc(e),c=Cn.get(e);let u;Object.assign(e.style,{position:"absolute",top:`${s}px`,left:`${r}px`,width:`${o}px`,height:`${i}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof a!="function"?u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:a.duration,easing:"ease-out"}):(u=new Animation(a(e,"remove",c)),u.play()),fo.set(e,u),u.addEventListener("finish",()=>{var d;e.remove(),Cn.delete(e),Fo.delete(e),fo.delete(e),(d=tp.get(e))===null||d===void 0||d.disconnect()})}function aj(e){const t=Cn.get(e),[n,,s]=pv(e,t,Xo(e));let r=e.parentElement;for(;r&&(getComputedStyle(r).position==="static"||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);const o=getComputedStyle(r),i=Cn.get(r)||Xo(r),a=Math.round(t.top-i.top)-ps(o.borderTopWidth),c=Math.round(t.left-i.left)-ps(o.borderLeftWidth);return[a,c,n,s]}function lj(e,t={}){sp&&Io&&(getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),fv(e,xo,tj,n=>Io==null?void 0:Io.observe(n)),typeof t=="function"?Zo.set(e,t):Zo.set(e,{duration:250,easing:"ease-in-out",...t}),sp.observe(e,{childList:!0}),uv.add(e))}function cj(e){const t=f.useRef(null);return f.useEffect(()=>{t.current instanceof HTMLElement&&lj(t.current,e)},[t]),t}if(!f.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r2)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function uj(e){e()}function dj(e){e||(e=uj),YS({reactionScheduler:e})}function pj(e){return ZS(e)}var fj=1e4,gj=1e4,hj=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(s){s===void 0&&(s=fj),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(o,i){r-o.registeredAt>=s&&(n.finalize(o.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,s){this.registrations.set(s,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,gj))}}),e}(),mj=typeof FinalizationRegistry<"u"?FinalizationRegistry:hj,rp=new mj(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gv={exports:{}},ku={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function bj(){if(dh)return ku;dh=1;var e=f;function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,r=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(p,g){var h=g(),m=s({inst:{value:h,getSnapshot:g}}),b=m[0].inst,v=m[1];return o(function(){b.value=h,b.getSnapshot=g,c(b)&&v({inst:b})},[p,h,g]),r(function(){return c(b)&&v({inst:b}),p(function(){c(b)&&v({inst:b})})},[p]),i(h),h}function c(p){var g=p.getSnapshot;p=p.value;try{var h=g();return!n(p,h)}catch{return!0}}function u(p,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return ku.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ku}gv.exports=bj();var vj=gv.exports;function ph(e){e.reaction=new _s("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function yj(e,t){t===void 0&&(t="observed");var n=f.useRef(null);if(!n.current){var s={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return rp.unregister(s),s.onStoreChange=a,s.reaction||(ph(s),s.stateVersion=Symbol()),function(){var c;s.onStoreChange=null,(c=s.reaction)===null||c===void 0||c.dispose(),s.reaction=null}},getSnapshot:function(){return s.stateVersion}};n.current=s}var r=n.current;r.reaction||(ph(r),rp.register(n,r,r)),f.useDebugValue(r.reaction,pj),vj.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var o,i;if(r.reaction.track(function(){try{o=e()}catch(a){i=a}}),i)throw i;return o}var Ru,$u,hv=typeof Symbol=="function"&&Symbol.for,xj=($u=(Ru=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Ru===void 0?void 0:Ru.configurable)!==null&&$u!==void 0?$u:!1,fh=hv?Symbol.for("react.forward_ref"):typeof f.forwardRef=="function"&&f.forwardRef(function(e){return null}).$$typeof,gh=hv?Symbol.for("react.memo"):typeof f.memo=="function"&&f.memo(function(e){return null}).$$typeof;function oe(e,t){var n;if(gh&&e.$$typeof===gh)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var s=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,r=e,o=e.displayName||e.name;if(fh&&e.$$typeof===fh&&(s=!0,r=e.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(a,c){return yj(function(){return r(a,c)},o)};return i.displayName=e.displayName,xj&&Object.defineProperty(i,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(i.contextTypes=e.contextTypes),s&&(i=f.forwardRef(i)),i=f.memo(i),Sj(e,i),i}var wj={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Sj(e,t){Object.keys(e).forEach(function(n){wj[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var Iu;dj(wn.unstable_batchedUpdates);Iu=rp.finalizeAllImmediately;const X=W;function W(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).flatMap(r=>typeof r=="string"?r.split(" ").map(o=>{if(o=o.replace(/gjs-/g,"gs-utl-"),!o.includes("gs-utl-")&&!o.startsWith("gs-")){const i=o.split(":"),a=i.pop(),c=i.join(":"),u=a==null?void 0:a.startsWith("!"),p=`gs-utl-${u?a==null?void 0:a.slice(1):a}`,g=u?`!${p}`:p;return c?`${c}:${g}`:g}return o}):r).join(" ")}var jj="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z",Cj="M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z",Ej="M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z",Pj="M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z",Tj="M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z",Oj="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",_j="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91L13.09,9.5Z",Aj="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",Mj="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z",Lj="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z",Nj="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",kj="M3,21V3H21V21H3M5,5V19H19V5H5Z",Rj="M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z",$j="M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19",Ij="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",Vj="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z",Dj="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z",Hj="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Fj="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z",Bj="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",zj="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Uj="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",Wj="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Gj="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Kj="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",qj="M11 20H6.5Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13V12.85L14.6 14.4L16 13L12 9L8 13L9.4 14.4L11 12.85Z",Yj="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",Zj="M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z",Xj="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M12.5,11H11.5A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 11.5,8H12.5A1.5,1.5 0 0,1 14,9.5H16A3.5,3.5 0 0,0 12.5,6H11.5A3.5,3.5 0 0,0 8,9.5A3.5,3.5 0 0,0 11.5,13H12.5A1.5,1.5 0 0,1 14,14.5A1.5,1.5 0 0,1 12.5,16H11.5A1.5,1.5 0 0,1 10,14.5H8A3.5,3.5 0 0,0 11.5,18H12.5A3.5,3.5 0 0,0 16,14.5A3.5,3.5 0 0,0 12.5,11Z",Jj="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",Qj="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",eC="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",tC="M19,1L17.74,3.75L15,5L17.74,6.26L19,9L20.25,6.26L23,5L20.25,3.75M9,4L6.5,9.5L1,12L6.5,14.5L9,20L11.5,14.5L17,12L11.5,9.5M19,15L17.74,17.74L15,19L17.74,20.25L19,23L20.25,20.25L23,19L20.25,17.74",nC="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",sC="M23 19C22.9 19.2 22.8 19.4 22.7 19.5L18.3 15.1C20.5 15.6 22.2 17.1 23 19M12 5C15.9 5 18 6.5 18 7C18 7.5 15.9 8.9 12.2 9L14.1 10.9C15.6 10.7 17 10.3 18 9.7V12.5C17.7 12.7 17.4 12.9 17 13.1C18 13.1 19 13.3 20 13.7V7C20 4.8 16.4 3 12 3C10.1 3 8.4 3.3 7.1 3.9L8.7 5.5C9.5 5.2 10.7 5 12 5M22.1 21.5L20.8 22.8L20.2 22.2C19.2 22.7 18.1 23.1 17 23.1C14.3 23.1 11.9 21.4 11 19.1C11.6 17.7 12.6 16.6 13.9 15.9L12.4 14.4C11.7 14.8 11.1 15.4 10.5 16C8.8 15.9 7.2 15.5 5.9 14.8V17C5.9 17.3 7 18.2 8.9 18.6L8.8 19L9.1 19.7C9.3 20.1 9.4 20.4 9.6 20.8C6.4 20.3 4 18.8 4 17V7C4 6.7 4.1 6.4 4.2 6.1L1.1 3L2.4 1.7L22.1 21.5M12.1 14L8.7 10.6C7.6 10.4 6.7 10 5.9 9.6V12.4C7.2 13.4 9.5 13.9 11.9 13.9C12 14 12.1 14 12.1 14M18.8 20.7L17.7 19.6C17.6 19.9 17.3 20 17 20C16.4 20 16 19.6 16 19C16 18.7 16.1 18.4 16.4 18.2L15.3 17.1C14.8 17.6 14.5 18.2 14.5 18.9C14.5 20.3 15.6 21.4 17 21.4C17.7 21.5 18.4 21.2 18.8 20.7Z",rC="M9.1 19.7L8.8 19L9 18.6C7.1 18.1 6 17.3 6 17V14.8C7.3 15.4 8.8 15.8 10.6 16C11.3 15.2 12.2 14.5 13.1 14H12C9.6 14 7.3 13.4 6 12.5V9.6C7.5 10.4 9.6 11 12 11S16.5 10.5 18 9.6V12.4C17.7 12.6 17.4 12.8 17 13C18 13 19 13.2 20 13.6V7C20 4.8 16.4 3 12 3S4 4.8 4 7V17C4 18.8 6.4 20.3 9.7 20.8C9.5 20.5 9.3 20.1 9.1 19.7M12 5C15.9 5 18 6.5 18 7S15.9 9 12 9 6 7.5 6 7 8.1 5 12 5M17 18C17.6 18 18 18.4 18 19S17.6 20 17 20 16 19.6 16 19 16.4 18 17 18M17 15C14.3 15 11.9 16.7 11 19C11.9 21.3 14.3 23 17 23S22.1 21.3 23 19C22.1 16.7 19.7 15 17 15M17 21.5C15.6 21.5 14.5 20.4 14.5 19S15.6 16.5 17 16.5 19.5 17.6 19.5 19 18.4 21.5 17 21.5Z",oC="M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.59 21 12 21S20 19.21 20 17V7C20 4.79 16.42 3 12 3M18 17C18 17.5 15.87 19 12 19S6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16S16.39 15.55 18 14.77V17M18 12.45C16.7 13.4 14.42 14 12 14C9.58 14 7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11C14.39 11 16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5C15.87 5 18 6.5 18 7S15.87 9 12 9Z",iC="M20 13.09V7C20 4.79 16.42 3 12 3S4 4.79 4 7V17C4 19.21 7.59 21 12 21C12.46 21 12.9 21 13.33 20.94C13.12 20.33 13 19.68 13 19L13 18.95C12.68 19 12.35 19 12 19C8.13 19 6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16C12.65 16 13.27 15.96 13.88 15.89C14.93 14.16 16.83 13 19 13C19.34 13 19.67 13.04 20 13.09M18 12.45C16.7 13.4 14.42 14 12 14S7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11S16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5 18 6.5 18 7 15.87 9 12 9M20.41 19L22.54 21.12L21.12 22.54L19 20.41L16.88 22.54L15.47 21.12L17.59 19L15.47 16.88L16.88 15.47L19 17.59L21.12 15.47L22.54 16.88L20.41 19",aC="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",lC="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",cC="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",uC="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",dC="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",pC="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",fC="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",gC="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",hC="M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z",mC="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",bC="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",vC="M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z",yC="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",xC="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",wC="M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z",SC="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",jC="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",CC="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",EC="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",PC="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",TC="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z",OC="M11 15H6L13 1V9H18L11 23V15Z",_C="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",AC="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",MC="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",LC="M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z",NC="M7,10L12,15L17,10H7Z",kC="M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z",RC="M12,2C13.85,2 15.55,2.78 16.9,4.1L18.6,1.93L20.18,3.16L18.2,5.68C19.33,7.41 20,9.6 20,12C20,17.5 16.42,22 12,22C10.15,22 8.45,21.22 7.1,19.9L5.4,22.07L3.82,20.84L5.8,18.32C4.67,16.59 4,14.4 4,12C4,6.5 7.58,2 12,2M12,4C8.69,4 6,7.58 6,12C6,13.73 6.41,15.33 7.11,16.64L15.67,5.67C14.66,4.62 13.38,4 12,4M12,20C15.31,20 18,16.42 18,12C18,10.27 17.59,8.67 16.89,7.36L8.33,18.33C9.34,19.38 10.62,20 12,20Z",$C="M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z",IC="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z",VC="M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z",DC="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",HC="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",FC="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",BC="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",zC="M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z",UC="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",WC="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",GC="M12 2C11.5 2 11 2.19 10.59 2.59L7.29 5.88L12 10.58L16.71 5.88L13.41 2.59C13 2.19 12.5 2 12 2M5.88 7.29L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L5.88 16.71L10.58 12L5.88 7.29M18.12 7.29L13.42 12L18.12 16.71L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L18.12 7.29M12 13.42L7.29 18.12L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L16.71 18.12L12 13.42Z",KC="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L15.29 7.29L12 10.59L8.71 7.29L12 4M7.29 8.71L10.59 12L7.29 15.29L4 12L7.29 8.71M16.71 8.71L20 12L16.71 15.29L13.41 12L16.71 8.71M12 13.41L15.29 16.71L12 20L8.71 16.71L12 13.41Z",qC="M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39C21.61 2.39 16.66 .269 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.79 17.45 10.61 17.63 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z",YC="M18,18H6V6H18V18Z",ZC="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",XC="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",JC="M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z",QC="M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z",eE="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",tE="M17 6H7C3.69 6 1 8.69 1 12S3.69 18 7 18H17C20.31 18 23 15.31 23 12S20.31 6 17 6M17 16H7C4.79 16 3 14.21 3 12S4.79 8 7 8H17C19.21 8 21 9.79 21 12S19.21 16 17 16M17 9C15.34 9 14 10.34 14 12S15.34 15 17 15 20 13.66 20 12 18.66 9 17 9Z",nE="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",sE="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",rE="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",oE="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z",iE="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z",aE="M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z",lE="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",cE="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const R=f.forwardRef(function({as:t,children:n,className:s,col:r,revert:o,full:i,nowrap:a,space:c,gap:u,justify:d,items:p,...g},h){const m=t||"div";return l.jsx(m,{ref:h,className:W([s,"gs-utl-flex",r&&!o&&"gs-utl-flex-col",r&&o&&"gs-utl-flex-col-reverse",!r&&o&&"gs-utl-flex-row-reverse",i&&!r&&"gs-utl-w-full",i&&r&&"gs-utl-h-full",a?"gs-utl-flex-nowrap":"gs-utl-flex-wrap",c==="x2s"&&(r?"gs-utl-space-y-0.5":"gs-utl-space-x-0.5"),c==="xs"&&(r?"gs-utl-space-y-1":"gs-utl-space-x-1"),c==="s"&&(r?"gs-utl-space-y-2":"gs-utl-space-x-2"),c==="m"&&(r?"gs-utl-space-y-4":"gs-utl-space-x-4"),c==="l"&&(r?"gs-utl-space-y-6":"gs-utl-space-x-6"),c==="xl"&&(r?"gs-utl-space-y-8":"gs-utl-space-x-8"),u==="x2s"&&"gs-utl-gap-0.5",u==="xs"&&"gs-utl-gap-1",u==="s"&&"gs-utl-gap-2",u==="m"&&"gs-utl-gap-4",u==="l"&&"gs-utl-gap-6",u==="xl"&&"gs-utl-gap-8",p==="start"&&"gs-utl-items-start",p==="end"&&"gs-utl-items-end",p==="center"&&"gs-utl-items-center",d==="start"&&"gs-utl-justify-start",d==="end"&&"gs-utl-justify-end",d==="center"&&"gs-utl-justify-center",d==="between"&&"gs-utl-justify-between"]),...g,children:n})}),I=f.forwardRef(function({children:t,className:n,grow:s,...r},o){return l.jsx("div",{ref:o,className:W([n,s&&"flex-1"]),...r,children:t})});var Vu={exports:{}},Du,hh;function uE(){if(hh)return Du;hh=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Du=e,Du}var Hu,mh;function dE(){if(mh)return Hu;mh=1;var e=uE();function t(){}function n(){}return n.resetWarningCache=t,Hu=function(){function s(i,a,c,u,d,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}s.isRequired=s;function r(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Hu}var bh;function pE(){return bh||(bh=1,Vu.exports=dE()()),Vu.exports}var fE=function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(s,r,o){n.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:o})},n.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},n.t=function(s,r){if(1&r&&(s=n(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var i in s)n.d(o,i,(function(a){return s[a]}).bind(null,i));return o},n.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(r,"a",r),r},n.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},n.p="",n(n.s=2)}([function(e,t){e.exports=pE()},function(e,t){e.exports=f},function(e,t,n){n.r(t);var s=n(1),r=n(0),o=function(){return(o=Object.assign||function(m){for(var b,v=1,x=arguments.length;v<x;v++)for(var y in b=arguments[v])Object.prototype.hasOwnProperty.call(b,y)&&(m[y]=b[y]);return m}).apply(this,arguments)},i=function(m,b){var v={};for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.indexOf(x)<0&&(v[x]=m[x]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(x=Object.getOwnPropertySymbols(m);y<x.length;y++)b.indexOf(x[y])<0&&Object.prototype.propertyIsEnumerable.call(m,x[y])&&(v[x[y]]=m[x[y]])}return v},a=0,c=s.forwardRef(function(m,b){var v=m.title,x=v===void 0?null:v,y=m.description,S=y===void 0?null:y,w=m.size,j=w===void 0?null:w,C=m.color,P=C===void 0?"currentColor":C,O=m.horizontal,T=O===void 0?null:O,E=m.vertical,A=E===void 0?null:E,_=m.rotate,N=_===void 0?null:_,V=m.spin,M=V===void 0?null:V,H=m.style,U=H===void 0?{}:H,B=m.children,k=i(m,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var D,$=M!==null&&M,z=s.Children.map(B,function(ne){var ee=ne;$!==!0&&($=(M===null?ee.props.spin:M)===!0);var K=ee.props.size;typeof j=="number"&&typeof ee.props.size=="number"&&(K=ee.props.size/j);var Z={size:K,color:P===null?ee.props.color:P,horizontal:T===null?ee.props.horizontal:T,vertical:A===null?ee.props.vertical:A,rotate:N===null?ee.props.rotate:N,spin:M===null?ee.props.spin:M,inStack:!0};return s.cloneElement(ee,Z)});j!==null&&(U.width=typeof j=="string"?j:1.5*j+"rem");var J,Y="stack_labelledby_"+a,Q="stack_describedby_"+a;if(x)D=S?Y+" "+Q:Y;else if(J="presentation",S)throw new Error("title attribute required when description is set");return s.createElement("svg",o({ref:b,viewBox:"0 0 24 24",style:U,role:J,"aria-labelledby":D},k),x&&s.createElement("title",{id:Y},x),S&&s.createElement("desc",{id:Q},S),$&&s.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),z)});c.displayName="Stack",c.propTypes={size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),children:r.oneOfType([r.arrayOf(r.node),r.node]).isRequired,className:r.string,style:r.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return h}),n.d(t,"Stack",function(){return u});var d=function(){return(d=Object.assign||function(m){for(var b,v=1,x=arguments.length;v<x;v++)for(var y in b=arguments[v])Object.prototype.hasOwnProperty.call(b,y)&&(m[y]=b[y]);return m}).apply(this,arguments)},p=function(m,b){var v={};for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.indexOf(x)<0&&(v[x]=m[x]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(x=Object.getOwnPropertySymbols(m);y<x.length;y++)b.indexOf(x[y])<0&&Object.prototype.propertyIsEnumerable.call(m,x[y])&&(v[x[y]]=m[x[y]])}return v},g=0,h=s.forwardRef(function(m,b){var v=m.path,x=m.id,y=x===void 0?++g:x,S=m.title,w=S===void 0?null:S,j=m.description,C=j===void 0?null:j,P=m.size,O=P===void 0?null:P,T=m.color,E=T===void 0?"currentColor":T,A=m.horizontal,_=A!==void 0&&A,N=m.vertical,V=N!==void 0&&N,M=m.rotate,H=M===void 0?0:M,U=m.spin,B=U!==void 0&&U,k=m.style,D=k===void 0?{}:k,$=m.inStack,z=$!==void 0&&$,J=p(m,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Y={},Q=[];O!==null&&(z?Q.push("scale("+O+")"):(D.width=typeof O=="string"?O:1.5*O+"rem",D.height=D.width)),_&&Q.push("scaleX(-1)"),V&&Q.push("scaleY(-1)"),H!==0&&Q.push("rotate("+H+"deg)"),E!==null&&(Y.fill=E);var ne=s.createElement("path",d({d:v,style:Y},z?J:{})),ee=ne;Q.length>0&&(D.transform=Q.join(" "),D.transformOrigin="center",z&&(ee=s.createElement("g",{style:D},ne,s.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var K,Z=ee,ie=B===!0||typeof B!="number"?2:B,ue=!z&&(_||V);if(ie<0&&(ue=!ue),B&&(Z=s.createElement("g",{style:{animation:"spin"+(ue?"-inverse":"")+" linear "+Math.abs(ie)+"s infinite",transformOrigin:"center"}},ee,!(_||V||H!==0)&&s.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),z)return Z;var ve,he="icon_labelledby_"+y,ke="icon_describedby_"+y;if(w)K=C?he+" "+ke:he;else if(ve="presentation",C)throw new Error("title attribute required when description is set");return s.createElement("svg",d({ref:b,viewBox:"0 0 24 24",style:D,role:ve,"aria-labelledby":K},J),w&&s.createElement("title",{id:he},w),C&&s.createElement("desc",{id:ke},C),!z&&B&&(ue?s.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):s.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),Z)});h.displayName="Icon",h.propTypes={path:r.string.isRequired,size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),style:r.object,inStack:r.bool,className:r.string},h.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=h}]);const gE=rf(fE);var mv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=r(o,s(a)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=r(i,a));return i}function r(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(mv);var hE=mv.exports;const L=rf(hE),vh=new Map,mE=(e,t)=>`${t}-${e}`,of=f.forwardRef(function({svg:t,iconSize:n,...s},r){const o=mE(t,n);let i=vh.get(o);return i||(i=L2(t,n),vh.set(o,i)),l.jsx("div",{...s,ref:r,dangerouslySetInnerHTML:{__html:i}})});var G=(e=>(e.alertRhombus="alertRhombus",e.alignHorizontalCenter="alignHorizontalCenter",e.alignHorizontalLeft="alignHorizontalLeft",e.alignHorizontalRight="alignHorizontalRight",e.applicationBracketsOutline="applicationBracketsOutline",e.arrowDown="arrowDown",e.arrowExpandAll="arrowExpandAll",e.arrowRight="arrowRight",e.arrowULeftTop="arrowULeftTop",e.arrowURightTop="arrowURightTop",e.borderAllVariant="borderAllVariant",e.borderRadius="borderRadius",e.borderStyle="borderStyle",e.calendar="calendar",e.cellphoneLink="cellphoneLink",e.check="check",e.checkBold="checkBold",e.checkboxBlank="checkboxBlank",e.chevronUp="chevronUp",e.chevronDown="chevronDown",e.chevronLeft="chevronLeft",e.chevronRight="chevronRight",e.close="close",e.codeBraces="codeBraces",e.cog="cog",e.contentCopy="contentCopy",e.contentSave="contentSave",e.delete="delete",e.dotsVertical="dotsVertical",e.email="email",e.emailOutline="emailOutline",e.eye="eye",e.eyedropperVariant="eyedropperVariant",e.eyeOff="eyeOff",e.eyeOffOutline="eyeOffOutline",e.eyeOutline="eyeOutline",e.fire="fire",e.flare="flare",e.floppy="floppy",e.folder="folder",e.fullscreen="fullscreen",e.gradientVertical="gradientVertical",e.helpCircle="helpCircle",e.home="home",e.image="image",e.information="information",e.informationVariant="informationVariant",e.layers="layers",e.link="link",e.lock="lock",e.lockOpenVariant="lockOpenVariant",e.menuDown="menuDown",e.newspaperVariantOutline="newspaperVariantOutline",e.paletteSwatch="paletteSwatch",e.panVertical="panVertical",e.pencil="pencil",e.phone="phone",e.plus="plus",e.plusBox="plusBox",e.powerPlug="powerPlug",e.refresh="refresh",e.rhombusOutline="rhombusOutline",e.rhombusSplit="rhombusSplit",e.rhombusSplitOutline="rhombusSplitOutline",e.tag="tag",e.target="target",e.targetVariant="targetVariant",e.textBoxMultiple="textBoxMultiple",e.trayArrowDown="trayArrowDown",e.unfoldLessHorizontal="unfoldLessHorizontal",e.unfoldMoreHorizontal="unfoldMoreHorizontal",e.viewDayOutline="viewDayOutline",e.viewGridPlus="viewGridPlus",e.web="web",e.xml="xml",e.database="database",e.databaseOutline="databaseOutline",e.databaseOutlineOn="databaseOutlineOn",e.databaseOutlineOff="databaseOutlineOff",e.databaseOutlineRemove="databaseOutlineRemove",e.toggleSwitchOutline="toggleSwitchOutline",e.toggleSwitchOffOutline="toggleSwitchOffOutline",e.codeBrackets="codeBrackets",e.null="null",e.codeString="string",e.number="number",e.cloudUpload="cloudUpload",e.chat="chat",e.creation="creation",e.viewDashboard="viewDashboard",e.rocketLaunch="rocketLaunch",e.lightningBolt="lightningBolt",e.stop="stop",e.arrowUp="arrowUp",e))(G||{});const Wl={alertRhombus:jj,alignHorizontalCenter:Cj,alignHorizontalLeft:Ej,alignHorizontalRight:Pj,applicationBracketsOutline:Tj,arrowDown:Oj,arrowExpandAll:_j,arrowRight:Aj,arrowULeftTop:Mj,arrowURightTop:Lj,borderAllVariant:kj,borderRadius:Rj,borderStyle:$j,calendar:Ij,cellphoneLink:Vj,check:Hj,checkBold:Fj,checkboxBlank:Bj,chevronUp:Gj,chevronDown:zj,chevronLeft:Uj,chevronRight:Wj,close:Kj,codeBraces:Yj,cog:Jj,contentCopy:Qj,contentSave:eC,delete:aC,dotsVertical:lC,email:cC,emailOutline:uC,eye:dC,eyedropperVariant:hC,eyeOff:pC,eyeOffOutline:fC,eyeOutline:gC,fire:mC,flare:bC,floppy:vC,folder:yC,fullscreen:xC,gradientVertical:wC,helpCircle:SC,home:jC,image:CC,information:EC,informationVariant:PC,layers:TC,link:_C,lock:MC,lockOpenVariant:LC,menuDown:NC,newspaperVariantOutline:kC,paletteSwatch:IC,panVertical:VC,pencil:DC,phone:HC,plus:FC,plusBox:BC,powerPlug:zC,refresh:UC,rhombusOutline:WC,rhombusSplit:GC,rhombusSplitOutline:KC,tag:ZC,target:XC,targetVariant:JC,textBoxMultiple:QC,trayArrowDown:nE,unfoldLessHorizontal:sE,unfoldMoreHorizontal:rE,viewDayOutline:iE,viewGridPlus:aE,web:lE,xml:cE,database:nC,databaseOutline:oC,databaseOutlineOn:rC,databaseOutlineOff:sC,databaseOutlineRemove:iC,codeBrackets:Zj,toggleSwitchOutline:tE,toggleSwitchOffOutline:eE,null:RC,string:Xj,number:$C,cloudUpload:qj,chat:Dj,creation:tC,viewDashboard:oE,rocketLaunch:qC,lightningBolt:OC,stop:YC,arrowUp:Nj},bE="gs-cmp-icon",se=oe(function({className:t,icon:n,size:s,rotate:r,horizontal:o,vertical:i}){var p;const a=(p=_R())==null?void 0:p.sdkCustomIcons,c=(a==null?void 0:a[n])||(Wl==null?void 0:Wl[n])||n,u=[o&&"scaleX(-1)",i&&"scaleY(-1)",r&&`rotate(${r}deg)`].filter(g=>!!g).join(" ");if(!c)return null;const d=L(bE,t);return c.startsWith("<svg")||c.startsWith("<?xml")?l.jsx(of,{className:d,style:{transform:u||void 0},svg:c,iconSize:s}):l.jsx(gE,{className:d,path:c,size:s,rotate:r,horizontal:o,vertical:i})}),af=150;var De=(e=>(e.txt="gs-theme-cl-txt",e.bg="gs-theme-cl-bg",e.br="gs-theme-cl-br",e.bgA="gs-theme-cl-bgA",e.bgA2="gs-theme-cl-bgA2",e.hBgAct="gs-theme-cl-hBgAct",e.hBgA2="gs-theme-cl-hBgA2",e.tA="gs-theme-cl-tA",e.tAo="gs-theme-cl-tAo",e.hTAo="gs-theme-cl-hTAo",e.grouphTAo="gs-theme-cl-grouphTAo",e.bA="gs-theme-cl-bA",e.bg0="gs-theme-cl-bg0",e.bgH="gs-theme-cl-bgH",e.hBgH="gs-theme-cl-hBgH",e.bgH2="gs-theme-cl-bgH2",e.hBgH2="gs-theme-cl-hBgH2",e.sel="gs-theme-cl-sel",e.selBr="gs-theme-cl-selBr",e.cmp="gs-theme-cl-cmp",e.cmpBgSoft="gs-theme-cl-cmpBgSoft",e.cmpBgSoftX="gs-theme-cl-cmpBgSoftX",e.cmpBr="gs-theme-cl-cmpBr",e.cmpSymbol="gs-theme-cl-cmpSymbol",e.cmpBgSymbolSoft="gs-theme-cl-cmpBgSymbolSoft",e.cmpBgSymbolSoftX="gs-theme-cl-cmpBgSymbolSoftX",e.cmpSymbolBr="gs-theme-cl-cmpSymbolBr",e.cmpTxtActive="gs-theme-cl-cmpTxtActive",e.focus="gs-theme-ring-focus",e.inputText="gs-theme-elStyles-inputText",e))(De||{});const F={bgTr:"gs-utl-bg-transparent",txt:"gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",txtLowEmphasis:"gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",txtHighEmphasis:"gs-utl-text-black dark:gs-utl-text-gray-200",txtHighEmphasisH:"hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",tA:"gs-theme-cl-tA gs-utl-text-violet-400",tAo:"gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",hTAo:"gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",grouphTAo:"gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",bA:"gs-theme-cl-bA gs-utl-border-violet-400",bgA:"gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",bgA2:"gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",bgO:"gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",bg:"gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",bgBlur:"gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",bgH:"gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",bgH75:"gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",hBgH:"gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",bgH2:"gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",hBgH2:"gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",hBgAct:"gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",hBgA2:"gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",hBgDark:"hover:gs-utl-bg-black/10",sel:"gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",selBr:"gs-theme-cl-selBr gs-utl-border-pink-900",cmp:"gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",cmpSymbol:"gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",cmpBgSoft:"gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",cmpBgSymbolSoft:"gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",cmpBgSoftX:"gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",cmpBgSymbolSoftX:"gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",cmpTxtActive:"gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",cmpBr:"gs-theme-cl-cmpBr gs-utl-border-blue-450",cmpSymbolBr:"gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",cmpTargetBg:"gs-utl-bg-amber-500 gs-utl-text-white",cmpTargetBgOpac:"gs-utl-bg-amber-500/5",cmpTargetBr:"gs-utl-border-amber-500",tW:"gs-utl-text-amber-500",tE:"gs-utl-text-red-500",tS:"gs-utl-text-green-500",boxWarn:"gs-utl-bg-amber-50 gs-utl-border-amber-200 gs-utl-text-amber-700 dark:gs-utl-bg-amber-200/10 dark:gs-utl-border-amber-200/20 dark:gs-utl-text-amber-100/80",bgW:"gs-utl-bg-amber-500",bgRed:"gs-utl-bg-red-500",hBgRed:"hover:gs-utl-bg-red-600",hBgW:"hover:gs-utl-bg-amber-600",br:"gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",brRed:"gs-utl-border-red-500",brLight:"gs-utl-border-white/25"},lf={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-scale-95 gs-utl-opacity-0",enterTo:"gs-utl-opacity-100",leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-scale-100 gs-utl-opacity-100",leaveTo:"gs-utl-scale-95 gs-utl-opacity-0"},bv={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-opacity-0",enterTo:"gs-utl-opacity-100"},vE={leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-opacity-100",leaveTo:"gs-utl-opacity-0"},Ma={...bv,...vE},Me={xy:"gs-utl-px-4 gs-utl-py-2",xyS:"gs-utl-px-2 gs-utl-py-1",xyS2:"gs-utl-px-2 gs-utl-py-0.5",x:"gs-utl-px-4",xS:"gs-utl-px-2",y:"gs-utl-py-2",s:"gs-utl-p-2"},cf={bg:F.bg,bgH:F.bgH},yh={bg:"gs-utl-bg-zinc-700",txt:"gs-utl-text-white",block:"gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"},re={rnd:"gs-utl-rounded",pill:"gs-utl-rounded-full",b:"gs-utl-border",bT:"gs-utl-border-transparent",bS:"gs-utl-border-2",bt:"gs-utl-border-t",bb:"gs-utl-border-b",br:"gs-utl-border-r",bl:"gs-utl-border-l",bA:"gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"},ia={focus:"gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",deepFocus:"focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"},ae={s3x:"13px",s2x:"14px",sx:"16px",s:"18px",m:"20px",l:"22px"},Le={click:"gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",hover:"gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",hoverGroup:"group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",dot:"gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",scrollX:"gs-utl-overflow-x-auto gs-utl-overflow-y-hidden",scrollY:"gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",txtEllips:"gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",coverAbs:"gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",hiddenVisually:"gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001]",disabled:"gs-utl-opacity-50 gs-utl-pointer-events-none",disabledM:"gs-utl-opacity-50 gs-utl-cursor-not-allowed",noFocusOut:"focus:gs-utl-outline-none",spin:"gs-utl-animate-spin-fast"},Jo={link:W(F.tAo),inputText:"gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"},uf={itemList:({index:e=0,open:t=!1,length:n=0}={})=>W(F.bgH2,Me.xyS,F.br,e&&re.bt,(t||e===n-1)&&re.bb)},vv=e=>({bg:e?"#18181b":"#f9f9f9",text:e?"#9ca3af":"#111827",link:e?"#a78bfa":"#5b21b6"}),ci=e=>{let t={isSymbol:!1,bg:F.cmp,bgSoft:`${F.cmpBgSoft} ${F.cmpTxtActive}`,bgSoftX:F.cmpBgSoftX,border:F.cmpBr,txt:""};if(!(e!=null&&e.em))return t;const{isSymbol:n}=e.em.Components.getSymbolInfo(e);return n&&(t={isSymbol:n,bg:F.cmpSymbol,bgSoft:`${F.cmpBgSymbolSoft} ${F.cmpTxtActive}`,bgSoftX:F.cmpBgSymbolSoftX,border:F.cmpSymbolBr,txt:""}),t},yv=({variant:e,size:t="m",className:n,disabledClassName:s,active:r,border:o=!0,rounded:i=!0,disabled:a=!1,withBg:c,block:u,full:d})=>{const p=e==="pr",g=e==="out",h=e==="out-clear",m=e==="warn",b=e==="danger",v=o&&(g||h||!e);return["gs-utl-transition-colors gs-utl-cursor-pointer",u&&"gs-utl-block",t==="x2s"&&"gs-utl-text-xs",t==="s"&&"gs-utl-p-1 gs-utl-text-sm",t==="m"&&"gs-utl-p-1 gs-utl-px-2",t==="m2"&&"gs-utl-p-1 gs-utl-px-3",t==="lg"&&"gs-utl-p-2 gs-utl-px-4 gs-utl-text-lg",n,i&&re.rnd,c&&F.bg,v?W(re.b,F.br,g&&F.bA,g&&F.tAo,!a&&F.hBgH):W(re.b,re.bT),m&&W(F.bgW,!a&&F.hBgW,"gs-utl-text-white"),b&&W(F.bgRed,!a&&F.hBgRed,"gs-utl-text-white"),p&&W(F.bgA2,!a&&F.hBgAct),r&&F.bgA,a&&(s??"disabled:gs-utl-opacity-80 gs-utl-cursor-not-allowed"),d&&"gs-utl-w-full",ia.focus]};function ze({children:e,...t}){const{variant:n,size:s,active:r,border:o,rounded:i,block:a,full:c,className:u,icon:d,loading:p,withBg:g,disabled:h,type:m="button",disabledClassName:b,...v}=t,x=p?{icon:AC,size:"18px",className:W("animate-spin-fast")}:nt(d)?{icon:d,size:"18px"}:d;return l.jsx("button",{className:W(yv(t)),disabled:h||p,type:m,...v,children:x?l.jsxs(R,{className:W("gap-2"),items:"center",justify:"center",nowrap:!0,children:[l.jsx(I,{children:l.jsx(se,{...x})}),e&&l.jsx(I,{children:e})]}):e})}function Oo(e,t,n){let s=n.initialDeps??[],r;return()=>{var o,i,a,c;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const d=e();if(!(d.length!==s.length||d.some((h,m)=>s[m]!==h)))return r;s=d;let g;if(n.key&&((i=n.debug)!=null&&i.call(n))&&(g=Date.now()),r=t(...d),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-g)*100)/100,b=m/16,v=(x,y)=>{for(x=String(x);x.length<y;)x=" "+x;return x};console.info(`%c ${v(m,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,r),r}}function Fu(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const yE=(e,t)=>Math.abs(e-t)<1,xE=(e,t,n)=>{let s;return function(...r){e.clearTimeout(s),s=e.setTimeout(()=>t.apply(this,r),n)}},wE=e=>e,SE=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let r=t;r<=n;r++)s.push(r);return s},jE=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;const r=i=>{const{width:a,height:c}=i;t({width:Math.round(a),height:Math.round(c)})};if(r(n.getBoundingClientRect()),!s.ResizeObserver)return()=>{};const o=new s.ResizeObserver(i=>{const a=i[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){r({width:c.inlineSize,height:c.blockSize});return}}r(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},xh={passive:!0},CE=typeof window>"u"?!0:"onscrollend"in window,EE=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;let r=0;const o=CE?()=>{}:xE(s,()=>{t(r,!1)},e.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:d,isRtl:p}=e.options;r=d?n.scrollLeft*(p&&-1||1):n.scrollTop,o(),t(r,u)},a=i(!0),c=i(!1);return c(),n.addEventListener("scroll",a,xh),n.addEventListener("scrollend",c,xh),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",c)}},PE=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const s=t.borderBoxSize[0];if(s)return Math.round(s[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},TE=(e,{adjustments:t=0,behavior:n},s)=>{var r,o;const i=e+t;(o=(r=s.scrollElement)==null?void 0:r.scrollTo)==null||o.call(r,{[s.options.horizontal?"left":"top"]:i,behavior:n})};class OE{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const s=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(r=>{r.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var r;(r=s())==null||r.disconnect(),n=null},observe:r=>{var o;return(o=s())==null?void 0:o.observe(r,{box:"border-box"})},unobserve:r=>{var o;return(o=s())==null?void 0:o.unobserve(r)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([s,r])=>{typeof r>"u"&&delete n[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:wE,rangeExtractor:SE,onChange:()=>{},measureElement:PE,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var s,r;(r=(s=this.options).onChange)==null||r.call(s,this,n)},this.maybeNotify=Oo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,s)=>{const r=new Map,o=new Map;for(let i=s-1;i>=0;i--){const a=n[i];if(r.has(a.lane))continue;const c=o.get(a.lane);if(c==null||a.end>c.end?o.set(a.lane,a):a.end<c.end&&r.set(a.lane,!0),r.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=Oo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,s,r,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:s,scrollMargin:r,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=Oo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:s,scrollMargin:r,getItemKey:o,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const p=o(d),g=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=g?g.end+this.options.gap:s+r,m=a.get(p),b=typeof m=="number"?m:this.options.estimateSize(d),v=h+b,x=g?g.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:v,key:p,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Oo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,s,r)=>this.range=n.length>0&&s>0?_E({measurements:n,outerSize:s,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Oo(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,s,r,o)=>s===null?[]:n({startIndex:s.startIndex,endIndex:s.endIndex,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const s=this.options.indexAttribute,r=n.getAttribute(s);return r?parseInt(r,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(n,s)=>{const r=this.indexFromElement(n),o=this.measurementsCache[r];if(!o)return;const i=o.key,a=this.elementsCache.get(i);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(r,this.options.measureElement(n,s,this))},this.resizeItem=(n,s)=>{const r=this.measurementsCache[n];if(!r)return;const o=this.itemSizeCache.get(r.key)??r.size,i=s-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,i,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,s)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((s,r)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(r))});return}this._measureElement(n,void 0)},this.getVirtualItems=Oo(()=>[this.getIndexes(),this.getMeasurements()],(n,s)=>{const r=[];for(let o=0,i=n.length;o<i;o++){const a=n[o],c=s[a];r.push(c)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const s=this.getMeasurements();if(s.length!==0)return Fu(s[xv(0,s.length-1,r=>Fu(s[r]).start,n)])},this.getOffsetForAlignment=(n,s)=>{const r=this.getSize(),o=this.getScrollOffset();s==="auto"&&(n<=o?s="start":n>=o+r?s="end":s="start"),s==="start"?n=n:s==="end"?n=n-r:s==="center"&&(n=n-r/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-r;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,s="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const r=this.measurementsCache[n];if(!r)return;const o=this.getSize(),i=this.getScrollOffset();if(s==="auto")if(r.end>=i+o-this.options.scrollPaddingEnd)s="end";else if(r.start<=i+this.options.scrollPaddingStart)s="start";else return[i,s];const a=s==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,s),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:s="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,s),{adjustments:void 0,behavior:r})},this.scrollToIndex=(n,{align:s="auto",behavior:r}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,s);if(!o)return;const[i,a]=o;this._scrollToOffset(i,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=Fu(this.getOffsetForIndex(n,a));yE(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:r})}else this.scrollToIndex(n,{align:a,behavior:r})}))},this.scrollBy=(n,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var n;const s=this.getMeasurements();let r;return s.length===0?r=this.options.paddingStart:r=this.options.lanes===1?((n=s[s.length-1])==null?void 0:n.end)??0:Math.max(...s.slice(-this.options.lanes).map(o=>o.end)),Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:s,behavior:r})=>{this.options.scrollToFn(n,{behavior:r,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const xv=(e,t,n,s)=>{for(;e<=t;){const r=(e+t)/2|0,o=n(r);if(o<s)e=r+1;else if(o>s)t=r-1;else return r}return e>0?e-1:0};function _E({measurements:e,outerSize:t,scrollOffset:n}){const s=e.length-1,o=xv(0,s,a=>e[a].start,n);let i=o;for(;i<s&&e[i].end<n+t;)i++;return{startIndex:o,endIndex:i}}const AE=typeof document<"u"?We.useLayoutEffect:We.useEffect;function ME(e){const t=We.useReducer(()=>({}),{})[1],n={...e,onChange:(r,o)=>{var i;o?wn.flushSync(t):t(),(i=e.onChange)==null||i.call(e,r,o)}},[s]=We.useState(()=>new OE(n));return s.setOptions(n),We.useEffect(()=>s._didMount(),[]),AE(()=>s._willUpdate()),s}function LE(e){return ME({observeElementRect:jE,observeElementOffset:EE,scrollToFn:TE,...e})}var NE=Object.defineProperty,kE=(e,t,n)=>t in e?NE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bu=(e,t,n)=>(kE(e,typeof t!="symbol"?t+"":t,n),n);let RE=class{constructor(){Bu(this,"current",this.detect()),Bu(this,"handoffState","pending"),Bu(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Js=new RE,$e=(e,t)=>{Js.isServer?f.useEffect(e,t):f.useLayoutEffect(e,t)};function Mt(e){let t=f.useRef(e);return $e(()=>{t.current=e},[e]),t}function La(e,t){let[n,s]=f.useState(e),r=Mt(e);return $e(()=>s(r.current),[r,s,...t]),n}let te=function(e){let t=Mt(e);return f.useCallback((...n)=>t.current(...n),[t])};function Dc(e,t,n){let[s,r]=f.useState(n),o=e!==void 0,i=f.useRef(o),a=f.useRef(!1),c=f.useRef(!1);return o&&!i.current&&!a.current?(a.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&i.current&&!c.current&&(c.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:s,te(u=>(o||r(u),t==null?void 0:t(u)))]}function Na(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Un(){let e=[],t={addEventListener(n,s,r,o){return n.addEventListener(s,r,o),t.add(()=>n.removeEventListener(s,r,o))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return t.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return Na(()=>{s.current&&n[0]()}),t.add(()=>{s.current=!1})},style(n,s,r){let o=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:r}),this.add(()=>{Object.assign(n.style,{[s]:o})})},group(n){let s=Un();return n(s),this.add(()=>s.dispose())},add(n){return e.push(n),()=>{let s=e.indexOf(n);if(s>=0)for(let r of e.splice(s,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function Wn(){let[e]=f.useState(Un);return f.useEffect(()=>()=>e.dispose(),[e]),e}function $E(){let e=typeof document>"u";return"useSyncExternalStore"in We?(t=>t.useSyncExternalStore)(We)(()=>()=>{},()=>!1,()=>!e):!1}function ui(){let e=$E(),[t,n]=We.useState(Js.isHandoffComplete);return t&&Js.isHandoffComplete===!1&&n(!1),We.useEffect(()=>{t!==!0&&n(!0)},[t]),We.useEffect(()=>Js.handoff(),[]),e?!1:t}var wh;let st=(wh=f.useId)!=null?wh:function(){let e=ui(),[t,n]=f.useState(e?()=>Js.nextId():null);return $e(()=>{t===null&&n(Js.nextId())},[t]),t!=null?""+t:void 0};function Se(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Se),s}function Nr(e){return Js.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let op=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(tt||{}),Xn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xn||{}),IE=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(IE||{});function Hc(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(op)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Fc=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Fc||{});function df(e,t=0){var n;return e===((n=Nr(e))==null?void 0:n.body)?!1:Se(t,{0(){return e.matches(op)},1(){let s=e;for(;s!==null;){if(s.matches(op))return!0;s=s.parentElement}return!1}})}var VE=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(VE||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function so(e){e==null||e.focus({preventScroll:!0})}let DE=["textarea","input"].join(",");function HE(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,DE))!=null?n:!1}function Ks(e,t=n=>n){return e.slice().sort((n,s)=>{let r=t(n),o=t(s);if(r===null||o===null)return 0;let i=r.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _t(e,t,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?Ks(e):e:Hc(e);r.length>0&&i.length>1&&(i=i.filter(h=>!r.includes(h))),s=s??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(s))-1;if(t&4)return Math.max(0,i.indexOf(s))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,p=i.length,g;do{if(d>=p||d+p<=0)return 0;let h=c+d;if(t&16)h=(h+p)%p;else{if(h<0)return 3;if(h>=p)return 1}g=i[h],g==null||g.focus(u),d+=a}while(g!==o.activeElement);return t&6&&HE(g)&&g.select(),2}function wv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function FE(){return/Android/gi.test(window.navigator.userAgent)}function Sv(){return wv()||FE()}function al(e,t,n){let s=Mt(t);f.useEffect(()=>{function r(o){s.current(o)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[e,n])}function jv(e,t,n){let s=Mt(t);f.useEffect(()=>{function r(o){s.current(o)}return window.addEventListener(e,r,n),()=>window.removeEventListener(e,r,n)},[e,n])}function Bc(e,t,n=!0){let s=f.useRef(!1);f.useEffect(()=>{requestAnimationFrame(()=>{s.current=n})},[n]);function r(i,a){if(!s.current||i.defaultPrevented)return;let c=a(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let d of u){if(d===null)continue;let p=d instanceof HTMLElement?d:d.current;if(p!=null&&p.contains(c)||i.composed&&i.composedPath().includes(p))return}return!df(c,Fc.Loose)&&c.tabIndex!==-1&&i.preventDefault(),t(i,c)}let o=f.useRef(null);al("pointerdown",i=>{var a,c;s.current&&(o.current=((c=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:c[0])||i.target)},!0),al("mousedown",i=>{var a,c;s.current&&(o.current=((c=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:c[0])||i.target)},!0),al("click",i=>{Sv()||o.current&&(r(i,()=>o.current),o.current=null)},!0),al("touchend",i=>r(i,()=>i.target instanceof HTMLElement?i.target:null),!0),jv("blur",i=>r(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function or(...e){return f.useMemo(()=>Nr(...e),[...e])}function Sh(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function di(e,t){let[n,s]=f.useState(()=>Sh(e));return $e(()=>{s(Sh(e))},[e.type,e.as]),$e(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[n,t]),n}let Cv=Symbol();function pf(e,t=!0){return Object.assign(e,{[Cv]:t})}function Ne(...e){let t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);let n=te(s=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(s):r.current=s)});return e.every(s=>s==null||(s==null?void 0:s[Cv]))?void 0:n}function jh(e){return[e.screenX,e.screenY]}function Ev(){let e=f.useRef([-1,-1]);return{wasMoved(t){let n=jh(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=jh(t)}}}function Pv({container:e,accept:t,walk:n,enabled:s=!0}){let r=f.useRef(t),o=f.useRef(n);f.useEffect(()=>{r.current=t,o.current=n},[t,n]),$e(()=>{if(!e||!s)return;let i=Nr(e);if(!i)return;let a=r.current,c=o.current,u=Object.assign(p=>a(p),{acceptNode:a}),d=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,s,r,o])}function aa(e,t){let n=f.useRef([]),s=te(e);f.useEffect(()=>{let r=[...n.current];for(let[o,i]of t.entries())if(n.current[o]!==i){let a=s(t,r);return n.current=t,a}},[s,...t])}function oc(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Zt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Zt||{}),xr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xr||{});function Te({ourProps:e,theirProps:t,slot:n,defaultTag:s,features:r,visible:o=!0,name:i,mergeRefs:a}){a=a??BE;let c=Tv(t,e);if(o)return ll(c,n,s,i,a);let u=r??0;if(u&2){let{static:d=!1,...p}=c;if(d)return ll(p,n,s,i,a)}if(u&1){let{unmount:d=!0,...p}=c;return Se(d?0:1,{0(){return null},1(){return ll({...p,hidden:!0,style:{display:"none"}},n,s,i,a)}})}return ll(c,n,s,i,a)}function ll(e,t={},n,s,r){let{as:o=n,children:i,refName:a="ref",...c}=zu(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let g=!1,h=[];for(let[m,b]of Object.entries(t))typeof b=="boolean"&&(g=!0),b===!0&&h.push(m);g&&(p["data-headlessui-state"]=h.join(" "))}if(o===f.Fragment&&Object.keys(Qo(c)).length>0){if(!f.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let g=d.props,h=typeof(g==null?void 0:g.className)=="function"?(...b)=>oc(g==null?void 0:g.className(...b),c.className):oc(g==null?void 0:g.className,c.className),m=h?{className:h}:{};return f.cloneElement(d,Object.assign({},Tv(d.props,Qo(zu(c,["ref"]))),p,u,{ref:r(d.ref,u.ref)},m))}return f.createElement(o,Object.assign({},zu(c,["ref"]),o!==f.Fragment&&u,o!==f.Fragment&&p),d)}function ff(){let e=f.useRef([]),t=f.useCallback(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return e.current=n,t}}function BE(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Tv(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let s of e)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):t[r]=s[r];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(t,{[s](r,...o){let i=n[s];for(let a of i){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...o)}}});return t}function Oe(e){var t;return Object.assign(f.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qo(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function zu(e,t=[]){let n=Object.assign({},e);for(let s of t)s in n&&delete n[s];return n}let zE="div";var En=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(En||{});function UE(e,t){var n;let{features:s=1,...r}=e,o={ref:t,"aria-hidden":(s&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Te({ourProps:o,theirProps:r,slot:{},defaultTag:zE,name:"Hidden"})}let Pn=Oe(UE),gf=f.createContext(null);gf.displayName="OpenClosedContext";var Ze=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ze||{});function kr(){return f.useContext(gf)}function ka({value:e,children:t}){return f.createElement(gf.Provider,{value:e},t)}function WE(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let vs=[];WE(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&vs[0]!==t.target&&(vs.unshift(t.target),vs=vs.filter(n=>n!=null&&n.isConnected),vs.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function er(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let s=(t==null?void 0:t.getAttribute("disabled"))==="";return s&&GE(n)?!1:s}function GE(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function KE(e){throw new Error("Unexpected object: "+e)}var Ke=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ke||{});function ip(e,t){let n=t.resolveItems();if(n.length<=0)return null;let s=t.resolveActiveIndex(),r=s??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return s}case 1:{for(let o=r-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return s}case 2:{for(let o=r+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return s}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return s}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return s}case 5:return null;default:KE(e)}}function zc(e={},t=null,n=[]){for(let[s,r]of Object.entries(e))_v(n,Ov(t,s),r);return n}function Ov(e,t){return e?e+"["+t+"]":t}function _v(e,t,n){if(Array.isArray(n))for(let[s,r]of n.entries())_v(e,Ov(t,s.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):zc(n,t,e)}function Av(e){var t,n;let s=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(s){for(let r of s.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(n=s.requestSubmit)==null||n.call(s)}}var me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(me||{}),qE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qE||{}),YE=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(YE||{}),ZE=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ZE||{}),XE=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(XE||{});function Uu(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,s=t(e.options.slice()),r=s.length>0&&s[0].dataRef.current.order!==null?s.sort((i,a)=>i.dataRef.current.order-a.dataRef.current.order):Ks(s,i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let JE={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let s=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(s!==-1)return{...e,activeOptionIndex:s,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,s,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||(s=e.dataRef.current)!=null&&s.optionsRef.current&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let d=t.focus===Ke.Specific?t.idx:ip(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var g,h;return(h=(g=e.activeOptionIndex)!=null?g:e.virtual.options.findIndex(m=>!e.virtual.disabled(m)))!=null?h:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),p=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===d&&e.activationTrigger===p?e:{...e,activeOptionIndex:d,activationTrigger:p}}let a=Uu(e);if(a.activeOptionIndex===null){let d=a.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(a.activeOptionIndex=d)}let c=t.focus===Ke.Specific?t.idx:ip(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...a,activeOptionIndex:c,activationTrigger:u}},3:(e,t)=>{var n,s,r;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let o=t.payload,i=Uu(e,c=>(c.push(o),c));e.activeOptionIndex===null&&(s=e.dataRef.current)!=null&&s.isSelected(t.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(o));let a={...e,...i,activationTrigger:2};return(r=e.dataRef.current)!=null&&r.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(r=>r.id!==t.id)};let s=Uu(e,r=>{let o=r.findIndex(i=>i.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...s,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let s=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?s=r:s=null}return{...e,activeOptionIndex:s,virtual:Object.assign({},e.virtual,{options:t.options})}}},hf=f.createContext(null);hf.displayName="ComboboxActionsContext";function Ra(e){let t=f.useContext(hf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ra),n}return t}let Mv=f.createContext(null);function QE(e){var t;let n=wo("VirtualProvider"),[s,r]=f.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),o=LE({scrollPaddingStart:s,scrollPaddingEnd:r,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[i,a]=f.useState(0);return $e(()=>{a(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),f.createElement(Mv.Provider,{value:o},f.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&o.scrollToIndex(n.activeOptionIndex)}}},o.getVirtualItems().map(c=>{var u;return f.createElement(f.Fragment,{key:c.key},f.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let mf=f.createContext(null);mf.displayName="ComboboxDataContext";function wo(e){let t=f.useContext(mf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wo),n}return t}function eP(e,t){return Se(t.type,JE,e,t)}let tP=f.Fragment;function nP(e,t){let{value:n,defaultValue:s,onChange:r,form:o,name:i,by:a=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:p=!1,immediate:g=!1,virtual:h=null,...m}=e,b=!1,v=null,[x=p?[]:void 0,y]=Dc(n,r,s),[S,w]=f.useReducer(eP,{dataRef:f.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),j=f.useRef(!1),C=f.useRef({static:!1,hold:!1}),P=f.useRef(null),O=f.useRef(null),T=f.useRef(null),E=f.useRef(null),A=te(typeof a=="string"?(Z,ie)=>{let ue=a;return(Z==null?void 0:Z[ue])===(ie==null?void 0:ie[ue])}:a??((Z,ie)=>Z===ie)),_=te(Z=>S.options.findIndex(ie=>A(ie.dataRef.current.value,Z))),N=f.useCallback(Z=>Se(M.mode,{1:()=>x.some(ie=>A(ie,Z)),0:()=>A(x,Z)}),[x]),V=te(Z=>S.activeOptionIndex===_(Z)),M=f.useMemo(()=>({...S,immediate:b,optionsPropsRef:C,labelRef:P,inputRef:O,buttonRef:T,optionsRef:E,value:x,defaultValue:s,disabled:c,mode:p?1:0,virtual:S.virtual,get activeOptionIndex(){if(j.current&&S.activeOptionIndex===null&&S.options.length>0){let Z=S.options.findIndex(ie=>!ie.dataRef.current.disabled);if(Z!==-1)return Z}return S.activeOptionIndex},calculateIndex:_,compare:A,isSelected:N,isActive:V,nullable:d,__demoMode:u}),[x,s,c,p,d,u,S,v]);$e(()=>{},[v,void 0]),$e(()=>{S.dataRef.current=M},[M]),Bc([M.buttonRef,M.inputRef,M.optionsRef],()=>Q.closeCombobox(),M.comboboxState===0);let H=f.useMemo(()=>{var Z,ie,ue;return{open:M.comboboxState===0,disabled:c,activeIndex:M.activeOptionIndex,activeOption:M.activeOptionIndex===null?null:M.virtual?M.virtual.options[(Z=M.activeOptionIndex)!=null?Z:0]:(ue=(ie=M.options[M.activeOptionIndex])==null?void 0:ie.dataRef.current.value)!=null?ue:null,value:x}},[M,c,x]),U=te(()=>{if(M.activeOptionIndex!==null){if(M.virtual)J(M.virtual.options[M.activeOptionIndex]);else{let{dataRef:Z}=M.options[M.activeOptionIndex];J(Z.current.value)}Q.goToOption(Ke.Specific,M.activeOptionIndex)}}),B=te(()=>{w({type:0}),j.current=!0}),k=te(()=>{w({type:1}),j.current=!1}),D=te((Z,ie,ue)=>(j.current=!1,Z===Ke.Specific?w({type:2,focus:Ke.Specific,idx:ie,trigger:ue}):w({type:2,focus:Z,trigger:ue}))),$=te((Z,ie)=>(w({type:3,payload:{id:Z,dataRef:ie}}),()=>{M.isActive(ie.current.value)&&(j.current=!0),w({type:4,id:Z})})),z=te(Z=>(w({type:5,id:Z}),()=>w({type:5,id:null}))),J=te(Z=>Se(M.mode,{0(){return y==null?void 0:y(Z)},1(){let ie=M.value.slice(),ue=ie.findIndex(ve=>A(ve,Z));return ue===-1?ie.push(Z):ie.splice(ue,1),y==null?void 0:y(ie)}})),Y=te(Z=>{w({type:6,trigger:Z})}),Q=f.useMemo(()=>({onChange:J,registerOption:$,registerLabel:z,goToOption:D,closeCombobox:k,openCombobox:B,setActivationTrigger:Y,selectActiveOption:U}),[]),ne=t===null?{}:{ref:t},ee=f.useRef(null),K=Wn();return f.useEffect(()=>{ee.current&&s!==void 0&&K.addEventListener(ee.current,"reset",()=>{y==null||y(s)})},[ee,y]),f.createElement(hf.Provider,{value:Q},f.createElement(mf.Provider,{value:M},f.createElement(ka,{value:Se(M.comboboxState,{0:Ze.Open,1:Ze.Closed})},i!=null&&x!=null&&zc({[i]:x}).map(([Z,ie],ue)=>f.createElement(Pn,{features:En.Hidden,ref:ue===0?ve=>{var he;ee.current=(he=ve==null?void 0:ve.closest("form"))!=null?he:null}:void 0,...Qo({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:Z,value:ie})})),Te({ourProps:ne,theirProps:m,slot:H,defaultTag:tP,name:"Combobox"}))))}let sP="input";function rP(e,t){var n,s,r,o,i;let a=st(),{id:c=`headlessui-combobox-input-${a}`,onChange:u,displayValue:d,type:p="text",...g}=e,h=wo("Combobox.Input"),m=Ra("Combobox.Input"),b=Ne(h.inputRef,t),v=or(h.inputRef),x=f.useRef(!1),y=Wn(),S=te(()=>{m.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),m.goToOption(Ke.Nothing)}),w=function(){var M;return typeof d=="function"&&h.value!==void 0?(M=d(h.value))!=null?M:"":typeof h.value=="string"?h.value:""}();aa(([M,H],[U,B])=>{if(x.current)return;let k=h.inputRef.current;k&&((B===0&&H===1||M!==U)&&(k.value=M),requestAnimationFrame(()=>{if(x.current||!k||(v==null?void 0:v.activeElement)!==k)return;let{selectionStart:D,selectionEnd:$}=k;Math.abs(($??0)-(D??0))===0&&D===0&&k.setSelectionRange(k.value.length,k.value.length)}))},[w,h.comboboxState,v]),aa(([M],[H])=>{if(M===0&&H===1){if(x.current)return;let U=h.inputRef.current;if(!U)return;let B=U.value,{selectionStart:k,selectionEnd:D,selectionDirection:$}=U;U.value="",U.value=B,$!==null?U.setSelectionRange(k,D,$):U.setSelectionRange(k,D)}},[h.comboboxState]);let j=f.useRef(!1),C=te(()=>{j.current=!0}),P=te(()=>{y.nextFrame(()=>{j.current=!1})}),O=te(M=>{switch(x.current=!0,M.key){case me.Enter:if(x.current=!1,h.comboboxState!==0||j.current)return;if(M.preventDefault(),M.stopPropagation(),h.activeOptionIndex===null){m.closeCombobox();return}m.selectActiveOption(),h.mode===0&&m.closeCombobox();break;case me.ArrowDown:return x.current=!1,M.preventDefault(),M.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ke.Next),1:()=>m.openCombobox()});case me.ArrowUp:return x.current=!1,M.preventDefault(),M.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ke.Previous),1:()=>{m.openCombobox(),y.nextFrame(()=>{h.value||m.goToOption(Ke.Last)})}});case me.Home:if(M.shiftKey)break;return x.current=!1,M.preventDefault(),M.stopPropagation(),m.goToOption(Ke.First);case me.PageUp:return x.current=!1,M.preventDefault(),M.stopPropagation(),m.goToOption(Ke.First);case me.End:if(M.shiftKey)break;return x.current=!1,M.preventDefault(),M.stopPropagation(),m.goToOption(Ke.Last);case me.PageDown:return x.current=!1,M.preventDefault(),M.stopPropagation(),m.goToOption(Ke.Last);case me.Escape:return x.current=!1,h.comboboxState!==0?void 0:(M.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&M.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&S(),m.closeCombobox());case me.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&m.selectActiveOption(),m.closeCombobox();break}}),T=te(M=>{u==null||u(M),h.nullable&&h.mode===0&&M.target.value===""&&S(),m.openCombobox()}),E=te(M=>{var H,U,B;let k=(H=M.relatedTarget)!=null?H:vs.find(D=>D!==M.currentTarget);if(x.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(k))&&!((B=h.buttonRef.current)!=null&&B.contains(k))&&h.comboboxState===0)return M.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?S():h.activationTrigger!==1&&m.selectActiveOption()),m.closeCombobox()}),A=te(M=>{var H,U,B;let k=(H=M.relatedTarget)!=null?H:vs.find(D=>D!==M.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(k)||(B=h.optionsRef.current)!=null&&B.contains(k)||h.disabled||h.immediate&&h.comboboxState!==0&&(m.openCombobox(),y.nextFrame(()=>{m.setActivationTrigger(1)}))}),_=La(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),N=f.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),V={ref:b,id:c,role:"combobox",type:p,"aria-controls":(n=h.optionsRef.current)==null?void 0:n.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(s=h.options.find(M=>{var H;return!((H=h.virtual)!=null&&H.disabled(M.dataRef.current.value))&&h.compare(M.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:s.id:(r=h.options[h.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":_,"aria-autocomplete":"list",defaultValue:(i=(o=e.defaultValue)!=null?o:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:C,onCompositionEnd:P,onKeyDown:O,onChange:T,onFocus:A,onBlur:E};return Te({ourProps:V,theirProps:g,slot:N,defaultTag:sP,name:"Combobox.Input"})}let oP="button";function iP(e,t){var n;let s=wo("Combobox.Button"),r=Ra("Combobox.Button"),o=Ne(s.buttonRef,t),i=st(),{id:a=`headlessui-combobox-button-${i}`,...c}=e,u=Wn(),d=te(b=>{switch(b.key){case me.ArrowDown:return b.preventDefault(),b.stopPropagation(),s.comboboxState===1&&r.openCombobox(),u.nextFrame(()=>{var v;return(v=s.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case me.ArrowUp:return b.preventDefault(),b.stopPropagation(),s.comboboxState===1&&(r.openCombobox(),u.nextFrame(()=>{s.value||r.goToOption(Ke.Last)})),u.nextFrame(()=>{var v;return(v=s.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case me.Escape:return s.comboboxState!==0?void 0:(b.preventDefault(),s.optionsRef.current&&!s.optionsPropsRef.current.static&&b.stopPropagation(),r.closeCombobox(),u.nextFrame(()=>{var v;return(v=s.inputRef.current)==null?void 0:v.focus({preventScroll:!0})}));default:return}}),p=te(b=>{if(er(b.currentTarget))return b.preventDefault();s.comboboxState===0?r.closeCombobox():(b.preventDefault(),r.openCombobox()),u.nextFrame(()=>{var v;return(v=s.inputRef.current)==null?void 0:v.focus({preventScroll:!0})})}),g=La(()=>{if(s.labelId)return[s.labelId,a].join(" ")},[s.labelId,a]),h=f.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled,value:s.value}),[s]),m={ref:o,id:a,type:di(e,s.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=s.optionsRef.current)==null?void 0:n.id,"aria-expanded":s.comboboxState===0,"aria-labelledby":g,disabled:s.disabled,onClick:p,onKeyDown:d};return Te({ourProps:m,theirProps:c,slot:h,defaultTag:oP,name:"Combobox.Button"})}let aP="label";function lP(e,t){let n=st(),{id:s=`headlessui-combobox-label-${n}`,...r}=e,o=wo("Combobox.Label"),i=Ra("Combobox.Label"),a=Ne(o.labelRef,t);$e(()=>i.registerLabel(s),[s]);let c=te(()=>{var d;return(d=o.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]);return Te({ourProps:{ref:a,id:s,onClick:c},theirProps:r,slot:u,defaultTag:aP,name:"Combobox.Label"})}let cP="ul",uP=Zt.RenderStrategy|Zt.Static;function dP(e,t){let n=st(),{id:s=`headlessui-combobox-options-${n}`,hold:r=!1,...o}=e,i=wo("Combobox.Options"),a=Ne(i.optionsRef,t),c=kr(),u=(()=>c!==null?(c&Ze.Open)===Ze.Open:i.comboboxState===0)();$e(()=>{var h;i.optionsPropsRef.current.static=(h=e.static)!=null?h:!1},[i.optionsPropsRef,e.static]),$e(()=>{i.optionsPropsRef.current.hold=r},[i.optionsPropsRef,r]),Pv({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=La(()=>{var h,m;return(m=i.labelId)!=null?m:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),p=f.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),g={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:s,ref:a};return i.virtual&&i.comboboxState===0&&Object.assign(o,{children:f.createElement(QE,null,o.children)}),Te({ourProps:g,theirProps:o,slot:p,defaultTag:cP,features:uP,visible:u,name:"Combobox.Options"})}let pP="li";function fP(e,t){var n;let s=st(),{id:r=`headlessui-combobox-option-${s}`,disabled:o=!1,value:i,order:a=null,...c}=e,u=wo("Combobox.Option"),d=Ra("Combobox.Option"),p=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((n=u.options[u.activeOptionIndex])==null?void 0:n.id)===r,g=u.isSelected(i),h=f.useRef(null),m=Mt({disabled:o,value:i,domRef:h,order:a}),b=f.useContext(Mv),v=Ne(t,h,b?b.measureElement:null),x=te(()=>d.onChange(i));$e(()=>d.registerOption(r,m),[m,r]);let y=f.useRef(!(u.virtual||u.__demoMode));$e(()=>{if(!u.virtual||!u.__demoMode)return;let E=Un();return E.requestAnimationFrame(()=>{y.current=!0}),E.dispose},[u.virtual,u.__demoMode]),$e(()=>{if(!y.current||u.comboboxState!==0||!p||u.activationTrigger===0)return;let E=Un();return E.requestAnimationFrame(()=>{var A,_;(_=(A=h.current)==null?void 0:A.scrollIntoView)==null||_.call(A,{block:"nearest"})}),E.dispose},[h,p,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let S=te(E=>{var A;if(o||(A=u.virtual)!=null&&A.disabled(i))return E.preventDefault();x(),Sv()||requestAnimationFrame(()=>{var _;return(_=u.inputRef.current)==null?void 0:_.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),w=te(()=>{var E;if(o||(E=u.virtual)!=null&&E.disabled(i))return d.goToOption(Ke.Nothing);let A=u.calculateIndex(i);d.goToOption(Ke.Specific,A)}),j=Ev(),C=te(E=>j.update(E)),P=te(E=>{var A;if(!j.wasMoved(E)||o||(A=u.virtual)!=null&&A.disabled(i)||p)return;let _=u.calculateIndex(i);d.goToOption(Ke.Specific,_,0)}),O=te(E=>{var A;j.wasMoved(E)&&(o||(A=u.virtual)!=null&&A.disabled(i)||p&&(u.optionsPropsRef.current.hold||d.goToOption(Ke.Nothing)))}),T=f.useMemo(()=>({active:p,selected:g,disabled:o}),[p,g,o]);return Te({ourProps:{id:r,ref:v,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":g,disabled:void 0,onClick:S,onFocus:w,onPointerEnter:C,onMouseEnter:C,onPointerMove:P,onMouseMove:P,onPointerLeave:O,onMouseLeave:O},theirProps:c,slot:T,defaultTag:pP,name:"Combobox.Option"})}let gP=Oe(nP),hP=Oe(iP),mP=Oe(rP),bP=Oe(lP),vP=Oe(dP),yP=Oe(fP),_o=Object.assign(gP,{Input:mP,Button:hP,Label:bP,Options:vP,Option:yP});function bf(e,t,n,s){let r=Mt(n);f.useEffect(()=>{e=e??window;function o(i){r.current(i)}return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)},[e,t,s])}function pi(){let e=f.useRef(!1);return $e(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Lv(e){let t=te(e),n=f.useRef(!1);f.useEffect(()=>(n.current=!1,()=>{n.current=!0,Na(()=>{n.current&&t()})}),[t])}var Sn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Sn||{});function vf(){let e=f.useRef(0);return jv("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Nv(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let xP="div";var kv=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(kv||{});function wP(e,t){let n=f.useRef(null),s=Ne(n,t),{initialFocus:r,containers:o,features:i=30,...a}=e;ui()||(i=1);let c=or(n);CP({ownerDocument:c},!!(i&16));let u=EP({ownerDocument:c,container:n,initialFocus:r},!!(i&2));PP({ownerDocument:c,container:n,containers:o,previousActiveElement:u},!!(i&8));let d=vf(),p=te(b=>{let v=n.current;v&&(x=>x())(()=>{Se(d.current,{[Sn.Forwards]:()=>{_t(v,tt.First,{skipElements:[b.relatedTarget]})},[Sn.Backwards]:()=>{_t(v,tt.Last,{skipElements:[b.relatedTarget]})}})})}),g=Wn(),h=f.useRef(!1),m={ref:s,onKeyDown(b){b.key=="Tab"&&(h.current=!0,g.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let v=Nv(o);n.current instanceof HTMLElement&&v.add(n.current);let x=b.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(Rv(v,x)||(h.current?_t(n.current,Se(d.current,{[Sn.Forwards]:()=>tt.Next,[Sn.Backwards]:()=>tt.Previous})|tt.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&so(b.target)))}};return f.createElement(f.Fragment,null,!!(i&4)&&f.createElement(Pn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:En.Focusable}),Te({ourProps:m,theirProps:a,defaultTag:xP,name:"FocusTrap"}),!!(i&4)&&f.createElement(Pn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:En.Focusable}))}let SP=Oe(wP),ji=Object.assign(SP,{features:kv});function jP(e=!0){let t=f.useRef(vs.slice());return aa(([n],[s])=>{s===!0&&n===!1&&Na(()=>{t.current.splice(0)}),s===!1&&n===!0&&(t.current=vs.slice())},[e,vs,t]),te(()=>{var n;return(n=t.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function CP({ownerDocument:e},t){let n=jP(t);aa(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&so(n())},[t]),Lv(()=>{t&&so(n())})}function EP({ownerDocument:e,container:t,initialFocus:n},s){let r=f.useRef(null),o=pi();return aa(()=>{if(!s)return;let i=t.current;i&&Na(()=>{if(!o.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){r.current=a;return}}else if(i.contains(a)){r.current=a;return}n!=null&&n.current?so(n.current):_t(i,tt.First)===Xn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=e==null?void 0:e.activeElement})},[s]),r}function PP({ownerDocument:e,container:t,containers:n,previousActiveElement:s},r){let o=pi();bf(e==null?void 0:e.defaultView,"focus",i=>{if(!r||!o.current)return;let a=Nv(n);t.current instanceof HTMLElement&&a.add(t.current);let c=s.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?Rv(a,u)?(s.current=u,so(u)):(i.preventDefault(),i.stopPropagation(),so(c)):so(s.current)},!0)}function Rv(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let $v=f.createContext(!1);function TP(){return f.useContext($v)}function ap(e){return f.createElement($v.Provider,{value:e.force},e.children)}function OP(e){let t=TP(),n=f.useContext(Iv),s=or(e),[r,o]=f.useState(()=>{if(!t&&n!==null||Js.isServer)return null;let i=s==null?void 0:s.getElementById("headlessui-portal-root");if(i)return i;if(s===null)return null;let a=s.createElement("div");return a.setAttribute("id","headlessui-portal-root"),s.body.appendChild(a)});return f.useEffect(()=>{r!==null&&(s!=null&&s.body.contains(r)||s==null||s.body.appendChild(r))},[r,s]),f.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let _P=f.Fragment;function AP(e,t){let n=e,s=f.useRef(null),r=Ne(pf(d=>{s.current=d}),t),o=or(s),i=OP(s),[a]=f.useState(()=>{var d;return Js.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=f.useContext(lp),u=ui();return $e(()=>{!i||!a||i.contains(a)||(a.setAttribute("data-headlessui-portal",""),i.appendChild(a))},[i,a]),$e(()=>{if(a&&c)return c.register(a)},[c,a]),Lv(()=>{var d;!i||!a||(a instanceof Node&&i.contains(a)&&i.removeChild(a),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!a?null:wn.createPortal(Te({ourProps:{ref:r},theirProps:n,defaultTag:_P,name:"Portal"}),a):null}let MP=f.Fragment,Iv=f.createContext(null);function LP(e,t){let{target:n,...s}=e,r={ref:Ne(t)};return f.createElement(Iv.Provider,{value:n},Te({ourProps:r,theirProps:s,defaultTag:MP,name:"Popover.Group"}))}let lp=f.createContext(null);function Vv(){let e=f.useContext(lp),t=f.useRef([]),n=te(o=>(t.current.push(o),e&&e.register(o),()=>s(o))),s=te(o=>{let i=t.current.indexOf(o);i!==-1&&t.current.splice(i,1),e&&e.unregister(o)}),r=f.useMemo(()=>({register:n,unregister:s,portals:t}),[n,s,t]);return[t,f.useMemo(()=>function({children:o}){return f.createElement(lp.Provider,{value:r},o)},[r])]}let NP=Oe(AP),kP=Oe(LP),cp=Object.assign(NP,{Group:kP});function RP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const $P=typeof Object.is=="function"?Object.is:RP,{useState:IP,useEffect:VP,useLayoutEffect:DP,useDebugValue:HP}=We;function FP(e,t,n){const s=t(),[{inst:r},o]=IP({inst:{value:s,getSnapshot:t}});return DP(()=>{r.value=s,r.getSnapshot=t,Wu(r)&&o({inst:r})},[e,s,t]),VP(()=>(Wu(r)&&o({inst:r}),e(()=>{Wu(r)&&o({inst:r})})),[e]),HP(s),s}function Wu(e){const t=e.getSnapshot,n=e.value;try{const s=t();return!$P(n,s)}catch{return!0}}function BP(e,t,n){return t()}const zP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=!zP,WP=UP?BP:FP,GP="useSyncExternalStore"in We?(e=>e.useSyncExternalStore)(We):WP;function KP(e){return GP(e.subscribe,e.getSnapshot,e.getSnapshot)}function qP(e,t){let n=e(),s=new Set;return{getSnapshot(){return n},subscribe(r){return s.add(r),()=>s.delete(r)},dispatch(r,...o){let i=t[r].call(n,...o);i&&(n=i,s.forEach(a=>a()))}}}function YP(){let e;return{before({doc:t}){var n;let s=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:t,d:n}){let s=t.documentElement,r=s.clientWidth-s.offsetWidth,o=e-r;n.style(s,"paddingRight",`${o}px`)}}}function ZP(){return wv()?{before({doc:e,d:t,meta:n}){function s(r){return n.containers.flatMap(o=>o()).some(o=>o.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Un();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(r=window.scrollY)!=null?r:window.pageYOffset,i=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let c=a.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!s(d)&&(i=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let c=a.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),t.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;o!==c&&window.scrollTo(0,o),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function XP(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function JP(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let eo=qP(()=>new Map,{PUSH(e,t){var n;let s=(n=this.get(e))!=null?n:{doc:e,count:0,d:Un(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let s={doc:e,d:t,meta:JP(n)},r=[ZP(),YP(),XP()];r.forEach(({before:o})=>o==null?void 0:o(s)),r.forEach(({after:o})=>o==null?void 0:o(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});eo.subscribe(()=>{let e=eo.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let s=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!s||!r&&s)&&eo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&eo.dispatch("TEARDOWN",n)}});function QP(e,t,n){let s=KP(eo),r=e?s.get(e):void 0,o=r?r.count>0:!1;return $e(()=>{if(!(!e||!t))return eo.dispatch("PUSH",e,n),()=>eo.dispatch("POP",e,n)},[t,e]),o}let Gu=new Map,Ci=new Map;function Ch(e,t=!0){$e(()=>{var n;if(!t)return;let s=typeof e=="function"?e():e.current;if(!s)return;function r(){var i;if(!s)return;let a=(i=Ci.get(s))!=null?i:1;if(a===1?Ci.delete(s):Ci.set(s,a-1),a!==1)return;let c=Gu.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,Gu.delete(s))}let o=(n=Ci.get(s))!=null?n:0;return Ci.set(s,o+1),o!==0||(Gu.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),r},[e,t])}function Dv({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var s;let r=f.useRef((s=n==null?void 0:n.current)!=null?s:null),o=or(r),i=te(()=>{var a,c,u;let d=[];for(let p of e)p!==null&&(p instanceof HTMLElement?d.push(p):"current"in p&&p.current instanceof HTMLElement&&d.push(p.current));if(t!=null&&t.current)for(let p of t.current)d.push(p);for(let p of(a=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(r.current)||p.contains((u=(c=r.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>p.contains(g))||d.push(p));return d});return{resolveContainers:i,contains:te(a=>i().some(c=>c.contains(a))),mainTreeNodeRef:r,MainTreeNode:f.useMemo(()=>function(){return n!=null?null:f.createElement(Pn,{features:En.Hidden,ref:r})},[r,n])}}function e5(){let e=f.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:f.useMemo(()=>function(){return f.createElement(Pn,{features:En.Hidden,ref:e})},[e])}}let yf=f.createContext(()=>{});yf.displayName="StackContext";var up=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(up||{});function t5(){return f.useContext(yf)}function n5({children:e,onUpdate:t,type:n,element:s,enabled:r}){let o=t5(),i=te((...a)=>{t==null||t(...a),o(...a)});return $e(()=>{let a=r===void 0||r===!0;return a&&i(0,n,s),()=>{a&&i(1,n,s)}},[i,n,s,r]),f.createElement(yf.Provider,{value:i},e)}let Hv=f.createContext(null);function Fv(){let e=f.useContext(Hv);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Fv),t}return e}function Uc(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let s=te(o=>(t(i=>[...i,o]),()=>t(i=>{let a=i.slice(),c=a.indexOf(o);return c!==-1&&a.splice(c,1),a}))),r=f.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props}),[s,n.slot,n.name,n.props]);return f.createElement(Hv.Provider,{value:r},n.children)},[t])]}let s5="p";function r5(e,t){let n=st(),{id:s=`headlessui-description-${n}`,...r}=e,o=Fv(),i=Ne(t);$e(()=>o.register(s),[s,o.register]);let a={ref:i,...o.props,id:s};return Te({ourProps:a,theirProps:r,slot:o.slot||{},defaultTag:s5,name:o.name||"Description"})}let o5=Oe(r5),xf=Object.assign(o5,{});var i5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(i5||{}),a5=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(a5||{});let l5={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ic=f.createContext(null);ic.displayName="DialogContext";function $a(e){let t=f.useContext(ic);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$a),n}return t}function c5(e,t,n=()=>[document.body]){QP(e,t,s=>{var r;return{containers:[...(r=s.containers)!=null?r:[],n]}})}function u5(e,t){return Se(t.type,l5,e,t)}let d5="div",p5=Zt.RenderStrategy|Zt.Static;function f5(e,t){let n=st(),{id:s=`headlessui-dialog-${n}`,open:r,onClose:o,initialFocus:i,role:a="dialog",__demoMode:c=!1,...u}=e,[d,p]=f.useState(0),g=f.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(g.current||(g.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=kr();r===void 0&&h!==null&&(r=(h&Ze.Open)===Ze.Open);let m=f.useRef(null),b=Ne(m,t),v=or(m),x=e.hasOwnProperty("open")||h!==null,y=e.hasOwnProperty("onClose");if(!x&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof r!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let S=r?0:1,[w,j]=f.useReducer(u5,{titleId:null,descriptionId:null,panelRef:f.createRef()}),C=te(()=>o(!1)),P=te(ue=>j({type:0,id:ue})),O=ui()?c?!1:S===0:!1,T=d>1,E=f.useContext(ic)!==null,[A,_]=Vv(),N={get current(){var ue;return(ue=w.panelRef.current)!=null?ue:m.current}},{resolveContainers:V,mainTreeNodeRef:M,MainTreeNode:H}=Dv({portals:A,defaultContainers:[N]}),U=T?"parent":"leaf",B=h!==null?(h&Ze.Closing)===Ze.Closing:!1,k=(()=>E||B?!1:O)(),D=f.useCallback(()=>{var ue,ve;return(ve=Array.from((ue=v==null?void 0:v.querySelectorAll("body > *"))!=null?ue:[]).find(he=>he.id==="headlessui-portal-root"?!1:he.contains(M.current)&&he instanceof HTMLElement))!=null?ve:null},[M]);Ch(D,k);let $=(()=>T?!0:O)(),z=f.useCallback(()=>{var ue,ve;return(ve=Array.from((ue=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?ue:[]).find(he=>he.contains(M.current)&&he instanceof HTMLElement))!=null?ve:null},[M]);Ch(z,$);let J=(()=>!(!O||T))();Bc(V,ue=>{ue.preventDefault(),C()},J);let Y=(()=>!(T||S!==0))();bf(v==null?void 0:v.defaultView,"keydown",ue=>{Y&&(ue.defaultPrevented||ue.key===me.Escape&&(ue.preventDefault(),ue.stopPropagation(),C()))});let Q=(()=>!(B||S!==0||E))();c5(v,Q,V),f.useEffect(()=>{if(S!==0||!m.current)return;let ue=new ResizeObserver(ve=>{for(let he of ve){let ke=he.target.getBoundingClientRect();ke.x===0&&ke.y===0&&ke.width===0&&ke.height===0&&C()}});return ue.observe(m.current),()=>ue.disconnect()},[S,m,C]);let[ne,ee]=Uc(),K=f.useMemo(()=>[{dialogState:S,close:C,setTitleId:P},w],[S,w,C,P]),Z=f.useMemo(()=>({open:S===0}),[S]),ie={ref:b,id:s,role:a,"aria-modal":S===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":ne};return f.createElement(n5,{type:"Dialog",enabled:S===0,element:m,onUpdate:te((ue,ve)=>{ve==="Dialog"&&Se(ue,{[up.Add]:()=>p(he=>he+1),[up.Remove]:()=>p(he=>he-1)})})},f.createElement(ap,{force:!0},f.createElement(cp,null,f.createElement(ic.Provider,{value:K},f.createElement(cp.Group,{target:m},f.createElement(ap,{force:!1},f.createElement(ee,{slot:Z,name:"Dialog.Description"},f.createElement(ji,{initialFocus:i,containers:V,features:O?Se(U,{parent:ji.features.RestoreFocus,leaf:ji.features.All&~ji.features.FocusLock}):ji.features.None},f.createElement(_,null,Te({ourProps:ie,theirProps:u,slot:Z,defaultTag:d5,features:p5,visible:S===0,name:"Dialog"}))))))))),f.createElement(H,null))}let g5="div";function h5(e,t){let n=st(),{id:s=`headlessui-dialog-overlay-${n}`,...r}=e,[{dialogState:o,close:i}]=$a("Dialog.Overlay"),a=Ne(t),c=te(d=>{if(d.target===d.currentTarget){if(er(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=f.useMemo(()=>({open:o===0}),[o]);return Te({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:c},theirProps:r,slot:u,defaultTag:g5,name:"Dialog.Overlay"})}let m5="div";function b5(e,t){let n=st(),{id:s=`headlessui-dialog-backdrop-${n}`,...r}=e,[{dialogState:o},i]=$a("Dialog.Backdrop"),a=Ne(t);f.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=f.useMemo(()=>({open:o===0}),[o]);return f.createElement(ap,{force:!0},f.createElement(cp,null,Te({ourProps:{ref:a,id:s,"aria-hidden":!0},theirProps:r,slot:c,defaultTag:m5,name:"Dialog.Backdrop"})))}let v5="div";function y5(e,t){let n=st(),{id:s=`headlessui-dialog-panel-${n}`,...r}=e,[{dialogState:o},i]=$a("Dialog.Panel"),a=Ne(t,i.panelRef),c=f.useMemo(()=>({open:o===0}),[o]),u=te(d=>{d.stopPropagation()});return Te({ourProps:{ref:a,id:s,onClick:u},theirProps:r,slot:c,defaultTag:v5,name:"Dialog.Panel"})}let x5="h2";function w5(e,t){let n=st(),{id:s=`headlessui-dialog-title-${n}`,...r}=e,[{dialogState:o,setTitleId:i}]=$a("Dialog.Title"),a=Ne(t);f.useEffect(()=>(i(s),()=>i(null)),[s,i]);let c=f.useMemo(()=>({open:o===0}),[o]);return Te({ourProps:{ref:a,id:s},theirProps:r,slot:c,defaultTag:x5,name:"Dialog.Title"})}let S5=Oe(f5),j5=Oe(b5),C5=Oe(y5),E5=Oe(h5),P5=Oe(w5),Ei=Object.assign(S5,{Backdrop:j5,Panel:C5,Overlay:E5,Title:P5,Description:xf});var Eh;let T5=(Eh=f.startTransition)!=null?Eh:function(e){e()};var O5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(O5||{}),_5=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(_5||{});let A5={0:e=>({...e,disclosureState:Se(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},wf=f.createContext(null);wf.displayName="DisclosureContext";function Sf(e){let t=f.useContext(wf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sf),n}return t}let jf=f.createContext(null);jf.displayName="DisclosureAPIContext";function Bv(e){let t=f.useContext(jf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bv),n}return t}let Cf=f.createContext(null);Cf.displayName="DisclosurePanelContext";function M5(){return f.useContext(Cf)}function L5(e,t){return Se(t.type,A5,e,t)}let N5=f.Fragment;function k5(e,t){let{defaultOpen:n=!1,...s}=e,r=f.useRef(null),o=Ne(t,pf(v=>{r.current=v},e.as===void 0||e.as===f.Fragment)),i=f.useRef(null),a=f.useRef(null),c=f.useReducer(L5,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:a,panelRef:i,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},p]=c,g=te(v=>{p({type:1});let x=Nr(r);if(!x||!d)return;let y=(()=>v?v instanceof HTMLElement?v:v.current instanceof HTMLElement?v.current:x.getElementById(d):x.getElementById(d))();y==null||y.focus()}),h=f.useMemo(()=>({close:g}),[g]),m=f.useMemo(()=>({open:u===0,close:g}),[u,g]),b={ref:o};return f.createElement(wf.Provider,{value:c},f.createElement(jf.Provider,{value:h},f.createElement(ka,{value:Se(u,{0:Ze.Open,1:Ze.Closed})},Te({ourProps:b,theirProps:s,slot:m,defaultTag:N5,name:"Disclosure"}))))}let R5="button";function $5(e,t){let n=st(),{id:s=`headlessui-disclosure-button-${n}`,...r}=e,[o,i]=Sf("Disclosure.Button"),a=M5(),c=a===null?!1:a===o.panelId,u=f.useRef(null),d=Ne(u,t,c?null:o.buttonRef),p=ff();f.useEffect(()=>{if(!c)return i({type:2,buttonId:s}),()=>{i({type:2,buttonId:null})}},[s,i,c]);let g=te(y=>{var S;if(c){if(o.disclosureState===1)return;switch(y.key){case me.Space:case me.Enter:y.preventDefault(),y.stopPropagation(),i({type:0}),(S=o.buttonRef.current)==null||S.focus();break}}else switch(y.key){case me.Space:case me.Enter:y.preventDefault(),y.stopPropagation(),i({type:0});break}}),h=te(y=>{switch(y.key){case me.Space:y.preventDefault();break}}),m=te(y=>{var S;er(y.currentTarget)||e.disabled||(c?(i({type:0}),(S=o.buttonRef.current)==null||S.focus()):i({type:0}))}),b=f.useMemo(()=>({open:o.disclosureState===0}),[o]),v=di(e,u),x=c?{ref:d,type:v,onKeyDown:g,onClick:m}:{ref:d,id:s,type:v,"aria-expanded":o.disclosureState===0,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:g,onKeyUp:h,onClick:m};return Te({mergeRefs:p,ourProps:x,theirProps:r,slot:b,defaultTag:R5,name:"Disclosure.Button"})}let I5="div",V5=Zt.RenderStrategy|Zt.Static;function D5(e,t){let n=st(),{id:s=`headlessui-disclosure-panel-${n}`,...r}=e,[o,i]=Sf("Disclosure.Panel"),{close:a}=Bv("Disclosure.Panel"),c=ff(),u=Ne(t,o.panelRef,m=>{T5(()=>i({type:m?4:5}))});f.useEffect(()=>(i({type:3,panelId:s}),()=>{i({type:3,panelId:null})}),[s,i]);let d=kr(),p=(()=>d!==null?(d&Ze.Open)===Ze.Open:o.disclosureState===0)(),g=f.useMemo(()=>({open:o.disclosureState===0,close:a}),[o,a]),h={ref:u,id:s};return f.createElement(Cf.Provider,{value:o.panelId},Te({mergeRefs:c,ourProps:h,theirProps:r,slot:g,defaultTag:I5,features:V5,visible:p,name:"Disclosure.Panel"}))}let H5=Oe(k5),F5=Oe($5),B5=Oe(D5),Ku=Object.assign(H5,{Button:F5,Panel:B5}),Ph=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Th(e){var t,n;let s=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return s;let o=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let i=o?(n=r.innerText)!=null?n:"":s;return Ph.test(i)&&(i=i.replace(Ph,"")),i}function z5(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let s=n.split(" ").map(r=>{let o=document.getElementById(r);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():Th(o).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return Th(e).trim()}function U5(e){let t=f.useRef(""),n=f.useRef("");return te(()=>{let s=e.current;if(!s)return"";let r=s.innerText;if(t.current===r)return n.current;let o=z5(s).trim().toLowerCase();return t.current=r,n.current=o,o})}var W5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(W5||{}),G5=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(G5||{}),K5=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(K5||{}),q5=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(q5||{});function qu(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,s=Ks(t(e.options.slice()),o=>o.dataRef.current.domRef.current),r=n?s.indexOf(n):null;return r===-1&&(r=null),{options:s,activeOptionIndex:r}}let Y5={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,s=e.options.findIndex(r=>n(r.dataRef.current.value));return s!==-1&&(t=s),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s=qu(e),r=ip(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...s,searchQuery:"",activeOptionIndex:r,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,s=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var a;return!i.dataRef.current.disabled&&((a=i.dataRef.current.textValue)==null?void 0:a.startsWith(s))}),o=r?e.options.indexOf(r):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},s=qu(e,r=>[...r,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(n)),{...e,...s}},6:(e,t)=>{let n=qu(e,s=>{let r=s.findIndex(o=>o.id===t.id);return r!==-1&&s.splice(r,1),s});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Ef=f.createContext(null);Ef.displayName="ListboxActionsContext";function Ia(e){let t=f.useContext(Ef);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ia),n}return t}let Pf=f.createContext(null);Pf.displayName="ListboxDataContext";function Va(e){let t=f.useContext(Pf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Va),n}return t}function Z5(e,t){return Se(t.type,Y5,e,t)}let X5=f.Fragment;function J5(e,t){let{value:n,defaultValue:s,form:r,name:o,onChange:i,by:a=(Y,Q)=>Y===Q,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...p}=e;const g=u?"horizontal":"vertical";let h=Ne(t),[m=d?[]:void 0,b]=Dc(n,i,s),[v,x]=f.useReducer(Z5,{dataRef:f.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),y=f.useRef({static:!1,hold:!1}),S=f.useRef(null),w=f.useRef(null),j=f.useRef(null),C=te(typeof a=="string"?(Y,Q)=>{let ne=a;return(Y==null?void 0:Y[ne])===(Q==null?void 0:Q[ne])}:a),P=f.useCallback(Y=>Se(O.mode,{1:()=>m.some(Q=>C(Q,Y)),0:()=>C(m,Y)}),[m]),O=f.useMemo(()=>({...v,value:m,disabled:c,mode:d?1:0,orientation:g,compare:C,isSelected:P,optionsPropsRef:y,labelRef:S,buttonRef:w,optionsRef:j}),[m,c,d,v]);$e(()=>{v.dataRef.current=O},[O]),Bc([O.buttonRef,O.optionsRef],(Y,Q)=>{var ne;x({type:1}),df(Q,Fc.Loose)||(Y.preventDefault(),(ne=O.buttonRef.current)==null||ne.focus())},O.listboxState===0);let T=f.useMemo(()=>({open:O.listboxState===0,disabled:c,value:m}),[O,c,m]),E=te(Y=>{let Q=O.options.find(ne=>ne.id===Y);Q&&U(Q.dataRef.current.value)}),A=te(()=>{if(O.activeOptionIndex!==null){let{dataRef:Y,id:Q}=O.options[O.activeOptionIndex];U(Y.current.value),x({type:2,focus:Ke.Specific,id:Q})}}),_=te(()=>x({type:0})),N=te(()=>x({type:1})),V=te((Y,Q,ne)=>Y===Ke.Specific?x({type:2,focus:Ke.Specific,id:Q,trigger:ne}):x({type:2,focus:Y,trigger:ne})),M=te((Y,Q)=>(x({type:5,id:Y,dataRef:Q}),()=>x({type:6,id:Y}))),H=te(Y=>(x({type:7,id:Y}),()=>x({type:7,id:null}))),U=te(Y=>Se(O.mode,{0(){return b==null?void 0:b(Y)},1(){let Q=O.value.slice(),ne=Q.findIndex(ee=>C(ee,Y));return ne===-1?Q.push(Y):Q.splice(ne,1),b==null?void 0:b(Q)}})),B=te(Y=>x({type:3,value:Y})),k=te(()=>x({type:4})),D=f.useMemo(()=>({onChange:U,registerOption:M,registerLabel:H,goToOption:V,closeListbox:N,openListbox:_,selectActiveOption:A,selectOption:E,search:B,clearSearch:k}),[]),$={ref:h},z=f.useRef(null),J=Wn();return f.useEffect(()=>{z.current&&s!==void 0&&J.addEventListener(z.current,"reset",()=>{b==null||b(s)})},[z,b]),f.createElement(Ef.Provider,{value:D},f.createElement(Pf.Provider,{value:O},f.createElement(ka,{value:Se(O.listboxState,{0:Ze.Open,1:Ze.Closed})},o!=null&&m!=null&&zc({[o]:m}).map(([Y,Q],ne)=>f.createElement(Pn,{features:En.Hidden,ref:ne===0?ee=>{var K;z.current=(K=ee==null?void 0:ee.closest("form"))!=null?K:null}:void 0,...Qo({key:Y,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:c,name:Y,value:Q})})),Te({ourProps:$,theirProps:p,slot:T,defaultTag:X5,name:"Listbox"}))))}let Q5="button";function eT(e,t){var n;let s=st(),{id:r=`headlessui-listbox-button-${s}`,...o}=e,i=Va("Listbox.Button"),a=Ia("Listbox.Button"),c=Ne(i.buttonRef,t),u=Wn(),d=te(v=>{switch(v.key){case me.Space:case me.Enter:case me.ArrowDown:v.preventDefault(),a.openListbox(),u.nextFrame(()=>{i.value||a.goToOption(Ke.First)});break;case me.ArrowUp:v.preventDefault(),a.openListbox(),u.nextFrame(()=>{i.value||a.goToOption(Ke.Last)});break}}),p=te(v=>{switch(v.key){case me.Space:v.preventDefault();break}}),g=te(v=>{if(er(v.currentTarget))return v.preventDefault();i.listboxState===0?(a.closeListbox(),u.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(v.preventDefault(),a.openListbox())}),h=La(()=>{if(i.labelId)return[i.labelId,r].join(" ")},[i.labelId,r]),m=f.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),b={ref:c,id:r,type:di(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.listboxState===0,"aria-labelledby":h,disabled:i.disabled,onKeyDown:d,onKeyUp:p,onClick:g};return Te({ourProps:b,theirProps:o,slot:m,defaultTag:Q5,name:"Listbox.Button"})}let tT="label";function nT(e,t){let n=st(),{id:s=`headlessui-listbox-label-${n}`,...r}=e,o=Va("Listbox.Label"),i=Ia("Listbox.Label"),a=Ne(o.labelRef,t);$e(()=>i.registerLabel(s),[s]);let c=te(()=>{var d;return(d=o.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled}),[o]);return Te({ourProps:{ref:a,id:s,onClick:c},theirProps:r,slot:u,defaultTag:tT,name:"Listbox.Label"})}let sT="ul",rT=Zt.RenderStrategy|Zt.Static;function oT(e,t){var n;let s=st(),{id:r=`headlessui-listbox-options-${s}`,...o}=e,i=Va("Listbox.Options"),a=Ia("Listbox.Options"),c=Ne(i.optionsRef,t),u=Wn(),d=Wn(),p=kr(),g=(()=>p!==null?(p&Ze.Open)===Ze.Open:i.listboxState===0)();f.useEffect(()=>{var x;let y=i.optionsRef.current;y&&i.listboxState===0&&y!==((x=Nr(y))==null?void 0:x.activeElement)&&y.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let h=te(x=>{switch(d.dispose(),x.key){case me.Space:if(i.searchQuery!=="")return x.preventDefault(),x.stopPropagation(),a.search(x.key);case me.Enter:if(x.preventDefault(),x.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:y}=i.options[i.activeOptionIndex];a.onChange(y.current.value)}i.mode===0&&(a.closeListbox(),Un().nextFrame(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}));break;case Se(i.orientation,{vertical:me.ArrowDown,horizontal:me.ArrowRight}):return x.preventDefault(),x.stopPropagation(),a.goToOption(Ke.Next);case Se(i.orientation,{vertical:me.ArrowUp,horizontal:me.ArrowLeft}):return x.preventDefault(),x.stopPropagation(),a.goToOption(Ke.Previous);case me.Home:case me.PageUp:return x.preventDefault(),x.stopPropagation(),a.goToOption(Ke.First);case me.End:case me.PageDown:return x.preventDefault(),x.stopPropagation(),a.goToOption(Ke.Last);case me.Escape:return x.preventDefault(),x.stopPropagation(),a.closeListbox(),u.nextFrame(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});case me.Tab:x.preventDefault(),x.stopPropagation();break;default:x.key.length===1&&(a.search(x.key),d.setTimeout(()=>a.clearSearch(),350));break}}),m=La(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.id},[i.buttonRef.current]),b=f.useMemo(()=>({open:i.listboxState===0}),[i]),v={"aria-activedescendant":i.activeOptionIndex===null||(n=i.options[i.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":i.orientation,id:r,onKeyDown:h,role:"listbox",tabIndex:0,ref:c};return Te({ourProps:v,theirProps:o,slot:b,defaultTag:sT,features:rT,visible:g,name:"Listbox.Options"})}let iT="li";function aT(e,t){let n=st(),{id:s=`headlessui-listbox-option-${n}`,disabled:r=!1,value:o,...i}=e,a=Va("Listbox.Option"),c=Ia("Listbox.Option"),u=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===s:!1,d=a.isSelected(o),p=f.useRef(null),g=U5(p),h=Mt({disabled:r,value:o,domRef:p,get textValue(){return g()}}),m=Ne(t,p);$e(()=>{if(a.listboxState!==0||!u||a.activationTrigger===0)return;let C=Un();return C.requestAnimationFrame(()=>{var P,O;(O=(P=p.current)==null?void 0:P.scrollIntoView)==null||O.call(P,{block:"nearest"})}),C.dispose},[p,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]),$e(()=>c.registerOption(s,h),[h,s]);let b=te(C=>{if(r)return C.preventDefault();c.onChange(o),a.mode===0&&(c.closeListbox(),Un().nextFrame(()=>{var P;return(P=a.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})}))}),v=te(()=>{if(r)return c.goToOption(Ke.Nothing);c.goToOption(Ke.Specific,s)}),x=Ev(),y=te(C=>x.update(C)),S=te(C=>{x.wasMoved(C)&&(r||u||c.goToOption(Ke.Specific,s,0))}),w=te(C=>{x.wasMoved(C)&&(r||u&&c.goToOption(Ke.Nothing))}),j=f.useMemo(()=>({active:u,selected:d,disabled:r}),[u,d,r]);return Te({ourProps:{id:s,ref:m,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:v,onPointerEnter:y,onMouseEnter:y,onPointerMove:S,onMouseMove:S,onPointerLeave:w,onMouseLeave:w},theirProps:i,slot:j,defaultTag:iT,name:"Listbox.Option"})}let lT=Oe(J5),cT=Oe(eT),uT=Oe(nT),dT=Oe(oT),pT=Oe(aT),Pi=Object.assign(lT,{Button:cT,Label:uT,Options:dT,Option:pT});var fT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fT||{}),gT=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(gT||{});let hT={0:e=>{let t={...e,popoverState:Se(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Tf=f.createContext(null);Tf.displayName="PopoverContext";function Wc(e){let t=f.useContext(Tf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wc),n}return t}let Of=f.createContext(null);Of.displayName="PopoverAPIContext";function _f(e){let t=f.useContext(Of);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_f),n}return t}let Af=f.createContext(null);Af.displayName="PopoverGroupContext";function zv(){return f.useContext(Af)}let Gc=f.createContext(null);Gc.displayName="PopoverPanelContext";function mT(){return f.useContext(Gc)}function bT(e,t){return Se(t.type,hT,e,t)}let vT="div";function yT(e,t){var n;let{__demoMode:s=!1,...r}=e,o=f.useRef(null),i=Ne(t,pf(H=>{o.current=H})),a=f.useRef([]),c=f.useReducer(bT,{__demoMode:s,popoverState:s?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:f.createRef(),afterPanelSentinel:f.createRef()}),[{popoverState:u,button:d,buttonId:p,panel:g,panelId:h,beforePanelSentinel:m,afterPanelSentinel:b},v]=c,x=or((n=o.current)!=null?n:d),y=f.useMemo(()=>{if(!d||!g)return!1;for(let z of document.querySelectorAll("body > *"))if(Number(z==null?void 0:z.contains(d))^Number(z==null?void 0:z.contains(g)))return!0;let H=Hc(),U=H.indexOf(d),B=(U+H.length-1)%H.length,k=(U+1)%H.length,D=H[B],$=H[k];return!g.contains(D)&&!g.contains($)},[d,g]),S=Mt(p),w=Mt(h),j=f.useMemo(()=>({buttonId:S,panelId:w,close:()=>v({type:1})}),[S,w,v]),C=zv(),P=C==null?void 0:C.registerPopover,O=te(()=>{var H;return(H=C==null?void 0:C.isFocusWithinPopoverGroup())!=null?H:(x==null?void 0:x.activeElement)&&((d==null?void 0:d.contains(x.activeElement))||(g==null?void 0:g.contains(x.activeElement)))});f.useEffect(()=>P==null?void 0:P(j),[P,j]);let[T,E]=Vv(),A=Dv({mainTreeNodeRef:C==null?void 0:C.mainTreeNodeRef,portals:T,defaultContainers:[d,g]});bf(x==null?void 0:x.defaultView,"focus",H=>{var U,B,k,D;H.target!==window&&H.target instanceof HTMLElement&&u===0&&(O()||d&&g&&(A.contains(H.target)||(B=(U=m.current)==null?void 0:U.contains)!=null&&B.call(U,H.target)||(D=(k=b.current)==null?void 0:k.contains)!=null&&D.call(k,H.target)||v({type:1})))},!0),Bc(A.resolveContainers,(H,U)=>{v({type:1}),df(U,Fc.Loose)||(H.preventDefault(),d==null||d.focus())},u===0);let _=te(H=>{v({type:1});let U=(()=>H?H instanceof HTMLElement?H:"current"in H&&H.current instanceof HTMLElement?H.current:d:d)();U==null||U.focus()}),N=f.useMemo(()=>({close:_,isPortalled:y}),[_,y]),V=f.useMemo(()=>({open:u===0,close:_}),[u,_]),M={ref:i};return f.createElement(Gc.Provider,{value:null},f.createElement(Tf.Provider,{value:c},f.createElement(Of.Provider,{value:N},f.createElement(ka,{value:Se(u,{0:Ze.Open,1:Ze.Closed})},f.createElement(E,null,Te({ourProps:M,theirProps:r,slot:V,defaultTag:vT,name:"Popover"}),f.createElement(A.MainTreeNode,null))))))}let xT="button";function wT(e,t){let n=st(),{id:s=`headlessui-popover-button-${n}`,...r}=e,[o,i]=Wc("Popover.Button"),{isPortalled:a}=_f("Popover.Button"),c=f.useRef(null),u=`headlessui-focus-sentinel-${st()}`,d=zv(),p=d==null?void 0:d.closeOthers,g=mT()!==null;f.useEffect(()=>{if(!g)return i({type:3,buttonId:s}),()=>{i({type:3,buttonId:null})}},[g,s,i]);let[h]=f.useState(()=>Symbol()),m=Ne(c,t,g?null:A=>{if(A)o.buttons.current.push(h);else{let _=o.buttons.current.indexOf(h);_!==-1&&o.buttons.current.splice(_,1)}o.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),A&&i({type:2,button:A})}),b=Ne(c,t),v=or(c),x=te(A=>{var _,N,V;if(g){if(o.popoverState===1)return;switch(A.key){case me.Space:case me.Enter:A.preventDefault(),(N=(_=A.target).click)==null||N.call(_),i({type:1}),(V=o.button)==null||V.focus();break}}else switch(A.key){case me.Space:case me.Enter:A.preventDefault(),A.stopPropagation(),o.popoverState===1&&(p==null||p(o.buttonId)),i({type:0});break;case me.Escape:if(o.popoverState!==0)return p==null?void 0:p(o.buttonId);if(!c.current||v!=null&&v.activeElement&&!c.current.contains(v.activeElement))return;A.preventDefault(),A.stopPropagation(),i({type:1});break}}),y=te(A=>{g||A.key===me.Space&&A.preventDefault()}),S=te(A=>{var _,N;er(A.currentTarget)||e.disabled||(g?(i({type:1}),(_=o.button)==null||_.focus()):(A.preventDefault(),A.stopPropagation(),o.popoverState===1&&(p==null||p(o.buttonId)),i({type:0}),(N=o.button)==null||N.focus()))}),w=te(A=>{A.preventDefault(),A.stopPropagation()}),j=o.popoverState===0,C=f.useMemo(()=>({open:j}),[j]),P=di(e,c),O=g?{ref:b,type:P,onKeyDown:x,onClick:S}:{ref:m,id:o.buttonId,type:P,"aria-expanded":o.popoverState===0,"aria-controls":o.panel?o.panelId:void 0,onKeyDown:x,onKeyUp:y,onClick:S,onMouseDown:w},T=vf(),E=te(()=>{let A=o.panel;if(!A)return;function _(){Se(T.current,{[Sn.Forwards]:()=>_t(A,tt.First),[Sn.Backwards]:()=>_t(A,tt.Last)})===Xn.Error&&_t(Hc().filter(N=>N.dataset.headlessuiFocusGuard!=="true"),Se(T.current,{[Sn.Forwards]:tt.Next,[Sn.Backwards]:tt.Previous}),{relativeTo:o.button})}_()});return f.createElement(f.Fragment,null,Te({ourProps:O,theirProps:r,slot:C,defaultTag:xT,name:"Popover.Button"}),j&&!g&&a&&f.createElement(Pn,{id:u,features:En.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}))}let ST="div",jT=Zt.RenderStrategy|Zt.Static;function CT(e,t){let n=st(),{id:s=`headlessui-popover-overlay-${n}`,...r}=e,[{popoverState:o},i]=Wc("Popover.Overlay"),a=Ne(t),c=kr(),u=(()=>c!==null?(c&Ze.Open)===Ze.Open:o===0)(),d=te(g=>{if(er(g.currentTarget))return g.preventDefault();i({type:1})}),p=f.useMemo(()=>({open:o===0}),[o]);return Te({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:d},theirProps:r,slot:p,defaultTag:ST,features:jT,visible:u,name:"Popover.Overlay"})}let ET="div",PT=Zt.RenderStrategy|Zt.Static;function TT(e,t){let n=st(),{id:s=`headlessui-popover-panel-${n}`,focus:r=!1,...o}=e,[i,a]=Wc("Popover.Panel"),{close:c,isPortalled:u}=_f("Popover.Panel"),d=`headlessui-focus-sentinel-before-${st()}`,p=`headlessui-focus-sentinel-after-${st()}`,g=f.useRef(null),h=Ne(g,t,O=>{a({type:4,panel:O})}),m=or(g),b=ff();$e(()=>(a({type:5,panelId:s}),()=>{a({type:5,panelId:null})}),[s,a]);let v=kr(),x=(()=>v!==null?(v&Ze.Open)===Ze.Open:i.popoverState===0)(),y=te(O=>{var T;switch(O.key){case me.Escape:if(i.popoverState!==0||!g.current||m!=null&&m.activeElement&&!g.current.contains(m.activeElement))return;O.preventDefault(),O.stopPropagation(),a({type:1}),(T=i.button)==null||T.focus();break}});f.useEffect(()=>{var O;e.static||i.popoverState===1&&((O=e.unmount)==null||O)&&a({type:4,panel:null})},[i.popoverState,e.unmount,e.static,a]),f.useEffect(()=>{if(i.__demoMode||!r||i.popoverState!==0||!g.current)return;let O=m==null?void 0:m.activeElement;g.current.contains(O)||_t(g.current,tt.First)},[i.__demoMode,r,g,i.popoverState]);let S=f.useMemo(()=>({open:i.popoverState===0,close:c}),[i,c]),w={ref:h,id:s,onKeyDown:y,onBlur:r&&i.popoverState===0?O=>{var T,E,A,_,N;let V=O.relatedTarget;V&&g.current&&((T=g.current)!=null&&T.contains(V)||(a({type:1}),((A=(E=i.beforePanelSentinel.current)==null?void 0:E.contains)!=null&&A.call(E,V)||(N=(_=i.afterPanelSentinel.current)==null?void 0:_.contains)!=null&&N.call(_,V))&&V.focus({preventScroll:!0})))}:void 0,tabIndex:-1},j=vf(),C=te(()=>{let O=g.current;if(!O)return;function T(){Se(j.current,{[Sn.Forwards]:()=>{var E;_t(O,tt.First)===Xn.Error&&((E=i.afterPanelSentinel.current)==null||E.focus())},[Sn.Backwards]:()=>{var E;(E=i.button)==null||E.focus({preventScroll:!0})}})}T()}),P=te(()=>{let O=g.current;if(!O)return;function T(){Se(j.current,{[Sn.Forwards]:()=>{var E;if(!i.button)return;let A=Hc(),_=A.indexOf(i.button),N=A.slice(0,_+1),V=[...A.slice(_+1),...N];for(let M of V.slice())if(M.dataset.headlessuiFocusGuard==="true"||(E=i.panel)!=null&&E.contains(M)){let H=V.indexOf(M);H!==-1&&V.splice(H,1)}_t(V,tt.First,{sorted:!1})},[Sn.Backwards]:()=>{var E;_t(O,tt.Previous)===Xn.Error&&((E=i.button)==null||E.focus())}})}T()});return f.createElement(Gc.Provider,{value:s},x&&u&&f.createElement(Pn,{id:d,ref:i.beforePanelSentinel,features:En.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:C}),Te({mergeRefs:b,ourProps:w,theirProps:o,slot:S,defaultTag:ET,features:PT,visible:x,name:"Popover.Panel"}),x&&u&&f.createElement(Pn,{id:p,ref:i.afterPanelSentinel,features:En.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}))}let OT="div";function _T(e,t){let n=f.useRef(null),s=Ne(n,t),[r,o]=f.useState([]),i=e5(),a=te(b=>{o(v=>{let x=v.indexOf(b);if(x!==-1){let y=v.slice();return y.splice(x,1),y}return v})}),c=te(b=>(o(v=>[...v,b]),()=>a(b))),u=te(()=>{var b;let v=Nr(n);if(!v)return!1;let x=v.activeElement;return(b=n.current)!=null&&b.contains(x)?!0:r.some(y=>{var S,w;return((S=v.getElementById(y.buttonId.current))==null?void 0:S.contains(x))||((w=v.getElementById(y.panelId.current))==null?void 0:w.contains(x))})}),d=te(b=>{for(let v of r)v.buttonId.current!==b&&v.close()}),p=f.useMemo(()=>({registerPopover:c,unregisterPopover:a,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:i.mainTreeNodeRef}),[c,a,u,d,i.mainTreeNodeRef]),g=f.useMemo(()=>({}),[]),h=e,m={ref:s};return f.createElement(Af.Provider,{value:p},Te({ourProps:m,theirProps:h,slot:g,defaultTag:OT,name:"Popover.Group"}),f.createElement(i.MainTreeNode,null))}let AT=Oe(yT),MT=Oe(wT),LT=Oe(CT),NT=Oe(TT),kT=Oe(_T),Yu=Object.assign(AT,{Button:MT,Overlay:LT,Panel:NT,Group:kT}),Uv=f.createContext(null);function Wv(){let e=f.useContext(Uv);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Wv),t}return e}function Mf(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let s=te(o=>(t(i=>[...i,o]),()=>t(i=>{let a=i.slice(),c=a.indexOf(o);return c!==-1&&a.splice(c,1),a}))),r=f.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props}),[s,n.slot,n.name,n.props]);return f.createElement(Uv.Provider,{value:r},n.children)},[t])]}let RT="label";function $T(e,t){let n=st(),{id:s=`headlessui-label-${n}`,passive:r=!1,...o}=e,i=Wv(),a=Ne(t);$e(()=>i.register(s),[s,i.register]);let c={ref:a,...i.props,id:s};return r&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in o&&delete o.onClick),Te({ourProps:c,theirProps:o,slot:i.slot||{},defaultTag:RT,name:i.name||"Label"})}let IT=Oe($T),Gv=Object.assign(IT,{});function Kv(e=0){let[t,n]=f.useState(e),s=pi(),r=f.useCallback(c=>{s.current&&n(u=>u|c)},[t,s]),o=f.useCallback(c=>!!(t&c),[t]),i=f.useCallback(c=>{s.current&&n(u=>u&~c)},[n,s]),a=f.useCallback(c=>{s.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:r,hasFlag:o,removeFlag:i,toggleFlag:a}}var VT=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(VT||{});let DT={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Ks(n,s=>s.element.current)}},1(e,t){let n=e.options.slice(),s=e.options.findIndex(r=>r.id===t.id);return s===-1?e:(n.splice(s,1),{...e,options:n})}},Lf=f.createContext(null);Lf.displayName="RadioGroupDataContext";function qv(e){let t=f.useContext(Lf);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qv),n}return t}let Nf=f.createContext(null);Nf.displayName="RadioGroupActionsContext";function Yv(e){let t=f.useContext(Nf);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yv),n}return t}function HT(e,t){return Se(t.type,DT,e,t)}let FT="div";function BT(e,t){let n=st(),{id:s=`headlessui-radiogroup-${n}`,value:r,defaultValue:o,form:i,name:a,onChange:c,by:u=(k,D)=>k===D,disabled:d=!1,...p}=e,g=te(typeof u=="string"?(k,D)=>{let $=u;return(k==null?void 0:k[$])===(D==null?void 0:D[$])}:u),[h,m]=f.useReducer(HT,{options:[]}),b=h.options,[v,x]=Mf(),[y,S]=Uc(),w=f.useRef(null),j=Ne(w,t),[C,P]=Dc(r,c,o),O=f.useMemo(()=>b.find(k=>!k.propsRef.current.disabled),[b]),T=f.useMemo(()=>b.some(k=>g(k.propsRef.current.value,C)),[b,C]),E=te(k=>{var D;if(d||g(k,C))return!1;let $=(D=b.find(z=>g(z.propsRef.current.value,k)))==null?void 0:D.propsRef.current;return $!=null&&$.disabled?!1:(P==null||P(k),!0)});Pv({container:w.current,accept(k){return k.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let A=te(k=>{let D=w.current;if(!D)return;let $=Nr(D),z=b.filter(J=>J.propsRef.current.disabled===!1).map(J=>J.element.current);switch(k.key){case me.Enter:Av(k.currentTarget);break;case me.ArrowLeft:case me.ArrowUp:if(k.preventDefault(),k.stopPropagation(),_t(z,tt.Previous|tt.WrapAround)===Xn.Success){let J=b.find(Y=>Y.element.current===($==null?void 0:$.activeElement));J&&E(J.propsRef.current.value)}break;case me.ArrowRight:case me.ArrowDown:if(k.preventDefault(),k.stopPropagation(),_t(z,tt.Next|tt.WrapAround)===Xn.Success){let J=b.find(Y=>Y.element.current===($==null?void 0:$.activeElement));J&&E(J.propsRef.current.value)}break;case me.Space:{k.preventDefault(),k.stopPropagation();let J=b.find(Y=>Y.element.current===($==null?void 0:$.activeElement));J&&E(J.propsRef.current.value)}break}}),_=te(k=>(m({type:0,...k}),()=>m({type:1,id:k.id}))),N=f.useMemo(()=>({value:C,firstOption:O,containsCheckedOption:T,disabled:d,compare:g,...h}),[C,O,T,d,g,h]),V=f.useMemo(()=>({registerOption:_,change:E}),[_,E]),M={ref:j,id:s,role:"radiogroup","aria-labelledby":v,"aria-describedby":y,onKeyDown:A},H=f.useMemo(()=>({value:C}),[C]),U=f.useRef(null),B=Wn();return f.useEffect(()=>{U.current&&o!==void 0&&B.addEventListener(U.current,"reset",()=>{E(o)})},[U,E]),f.createElement(S,{name:"RadioGroup.Description"},f.createElement(x,{name:"RadioGroup.Label"},f.createElement(Nf.Provider,{value:V},f.createElement(Lf.Provider,{value:N},a!=null&&C!=null&&zc({[a]:C}).map(([k,D],$)=>f.createElement(Pn,{features:En.Hidden,ref:$===0?z=>{var J;U.current=(J=z==null?void 0:z.closest("form"))!=null?J:null}:void 0,...Qo({key:k,as:"input",type:"radio",checked:D!=null,hidden:!0,readOnly:!0,form:i,disabled:d,name:k,value:D})})),Te({ourProps:M,theirProps:p,slot:H,defaultTag:FT,name:"RadioGroup"})))))}var zT=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(zT||{});let UT="div";function WT(e,t){var n;let s=st(),{id:r=`headlessui-radiogroup-option-${s}`,value:o,disabled:i=!1,...a}=e,c=f.useRef(null),u=Ne(c,t),[d,p]=Mf(),[g,h]=Uc(),{addFlag:m,removeFlag:b,hasFlag:v}=Kv(1),x=Mt({value:o,disabled:i}),y=qv("RadioGroup.Option"),S=Yv("RadioGroup.Option");$e(()=>S.registerOption({id:r,element:c,propsRef:x}),[r,S,c,x]);let w=te(_=>{var N;if(er(_.currentTarget))return _.preventDefault();S.change(o)&&(m(2),(N=c.current)==null||N.focus())}),j=te(_=>{if(er(_.currentTarget))return _.preventDefault();m(2)}),C=te(()=>b(2)),P=((n=y.firstOption)==null?void 0:n.id)===r,O=y.disabled||i,T=y.compare(y.value,o),E={ref:u,id:r,role:"radio","aria-checked":T?"true":"false","aria-labelledby":d,"aria-describedby":g,"aria-disabled":O?!0:void 0,tabIndex:(()=>O?-1:T||!y.containsCheckedOption&&P?0:-1)(),onClick:O?void 0:w,onFocus:O?void 0:j,onBlur:O?void 0:C},A=f.useMemo(()=>({checked:T,disabled:O,active:v(2)}),[T,O,v]);return f.createElement(h,{name:"RadioGroup.Description"},f.createElement(p,{name:"RadioGroup.Label"},Te({ourProps:E,theirProps:a,slot:A,defaultTag:UT,name:"RadioGroup.Option"})))}let GT=Oe(BT),KT=Oe(WT),Oh=Object.assign(GT,{Option:KT,Label:Gv,Description:xf}),kf=f.createContext(null);kf.displayName="GroupContext";let qT=f.Fragment;function YT(e){var t;let[n,s]=f.useState(null),[r,o]=Mf(),[i,a]=Uc(),c=f.useMemo(()=>({switch:n,setSwitch:s,labelledby:r,describedby:i}),[n,s,r,i]),u={},d=e;return f.createElement(a,{name:"Switch.Description"},f.createElement(o,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(p){n&&(p.currentTarget.tagName==="LABEL"&&p.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},f.createElement(kf.Provider,{value:c},Te({ourProps:u,theirProps:d,defaultTag:qT,name:"Switch.Group"}))))}let ZT="button";function XT(e,t){var n;let s=st(),{id:r=`headlessui-switch-${s}`,checked:o,defaultChecked:i=!1,onChange:a,disabled:c=!1,name:u,value:d,form:p,...g}=e,h=f.useContext(kf),m=f.useRef(null),b=Ne(m,t,h===null?null:h.setSwitch),[v,x]=Dc(o,a,i),y=te(()=>x==null?void 0:x(!v)),S=te(T=>{if(er(T.currentTarget))return T.preventDefault();T.preventDefault(),y()}),w=te(T=>{T.key===me.Space?(T.preventDefault(),y()):T.key===me.Enter&&Av(T.currentTarget)}),j=te(T=>T.preventDefault()),C=f.useMemo(()=>({checked:v}),[v]),P={id:r,ref:b,role:"switch",type:di(e,m),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":v,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,disabled:c,onClick:S,onKeyUp:w,onKeyPress:j},O=Wn();return f.useEffect(()=>{var T;let E=(T=m.current)==null?void 0:T.closest("form");E&&i!==void 0&&O.addEventListener(E,"reset",()=>{x(i)})},[m,x]),f.createElement(f.Fragment,null,u!=null&&v&&f.createElement(Pn,{features:En.Hidden,...Qo({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:p,checked:v,name:u,value:d})}),Te({ourProps:P,theirProps:g,slot:C,defaultTag:ZT,name:"Switch"}))}let JT=Oe(XT),QT=YT,Zu=Object.assign(JT,{Group:QT,Label:Gv,Description:xf});function eO({onFocus:e}){let[t,n]=f.useState(!0),s=pi();return t?f.createElement(Pn,{as:"button",type:"button",features:En.Focusable,onFocus:r=>{r.preventDefault();let o,i=50;function a(){if(i--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!s.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const Zv=We.createContext(null);function tO(){return{groups:new Map,get(e,t){var n;let s=this.groups.get(e);s||(s=new Map,this.groups.set(e,s));let r=(n=s.get(t))!=null?n:0;s.set(t,r+1);let o=Array.from(s.keys()).indexOf(t);function i(){let a=s.get(t);a>1?s.set(t,a-1):s.delete(t)}return[o,i]}}}function nO({children:e}){let t=We.useRef(tO());return We.createElement(Zv.Provider,{value:t},e)}function Xv(e){let t=We.useContext(Zv);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=sO(),[s,r]=t.current.get(e,n);return We.useEffect(()=>r,[]),s}function sO(){var e,t,n;let s=(n=(t=(e=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!s)return Symbol();let r=[],o=s;for(;o;)r.push(o.index),o=o.return;return"$."+r.join(".")}var rO=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(rO||{}),oO=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(oO||{}),iO=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(iO||{});let aO={0(e,t){var n;let s=Ks(e.tabs,d=>d.current),r=Ks(e.panels,d=>d.current),o=s.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),i={...e,tabs:s,panels:r};if(t.index<0||t.index>s.length-1){let d=Se(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Se(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return i;let p=Se(d,{0:()=>s.indexOf(o[0]),1:()=>s.indexOf(o[o.length-1])});return{...i,selectedIndex:p===-1?e.selectedIndex:p}}let a=s.slice(0,t.index),c=[...s.slice(t.index),...a].find(d=>o.includes(d));if(!c)return i;let u=(n=s.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],s=Ks([...e.tabs,t.tab],o=>o.current),r=e.selectedIndex;return e.info.current.isControlled||(r=s.indexOf(n),r===-1&&(r=e.selectedIndex)),{...e,tabs:s,selectedIndex:r}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Ks([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Rf=f.createContext(null);Rf.displayName="TabsDataContext";function ei(e){let t=f.useContext(Rf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ei),n}return t}let $f=f.createContext(null);$f.displayName="TabsActionsContext";function If(e){let t=f.useContext($f);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,If),n}return t}function lO(e,t){return Se(t.type,aO,e,t)}let cO=f.Fragment;function uO(e,t){let{defaultIndex:n=0,vertical:s=!1,manual:r=!1,onChange:o,selectedIndex:i=null,...a}=e;const c=s?"vertical":"horizontal",u=r?"manual":"auto";let d=i!==null,p=Mt({isControlled:d}),g=Ne(t),[h,m]=f.useReducer(lO,{info:p,selectedIndex:i??n,tabs:[],panels:[]}),b=f.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=Mt(o||(()=>{})),x=Mt(h.tabs),y=f.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),S=te(T=>(m({type:1,tab:T}),()=>m({type:2,tab:T}))),w=te(T=>(m({type:3,panel:T}),()=>m({type:4,panel:T}))),j=te(T=>{C.current!==T&&v.current(T),d||m({type:0,index:T})}),C=Mt(d?e.selectedIndex:h.selectedIndex),P=f.useMemo(()=>({registerTab:S,registerPanel:w,change:j}),[]);$e(()=>{m({type:0,index:i??n})},[i]),$e(()=>{if(C.current===void 0||h.tabs.length<=0)return;let T=Ks(h.tabs,E=>E.current);T.some((E,A)=>h.tabs[A]!==E)&&j(T.indexOf(h.tabs[C.current]))});let O={ref:g};return f.createElement(nO,null,f.createElement($f.Provider,{value:P},f.createElement(Rf.Provider,{value:y},y.tabs.length<=0&&f.createElement(eO,{onFocus:()=>{var T,E;for(let A of x.current)if(((T=A.current)==null?void 0:T.tabIndex)===0)return(E=A.current)==null||E.focus(),!0;return!1}}),Te({ourProps:O,theirProps:a,slot:b,defaultTag:cO,name:"Tabs"}))))}let dO="div";function pO(e,t){let{orientation:n,selectedIndex:s}=ei("Tab.List"),r=Ne(t);return Te({ourProps:{ref:r,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:s},defaultTag:dO,name:"Tabs.List"})}let fO="button";function gO(e,t){var n,s;let r=st(),{id:o=`headlessui-tabs-tab-${r}`,...i}=e,{orientation:a,activation:c,selectedIndex:u,tabs:d,panels:p}=ei("Tab"),g=If("Tab"),h=ei("Tab"),m=f.useRef(null),b=Ne(m,t);$e(()=>g.registerTab(m),[g,m]);let v=Xv("tabs"),x=d.indexOf(m);x===-1&&(x=v);let y=x===u,S=te(E=>{var A;let _=E();if(_===Xn.Success&&c==="auto"){let N=(A=Nr(m))==null?void 0:A.activeElement,V=h.tabs.findIndex(M=>M.current===N);V!==-1&&g.change(V)}return _}),w=te(E=>{let A=d.map(_=>_.current).filter(Boolean);if(E.key===me.Space||E.key===me.Enter){E.preventDefault(),E.stopPropagation(),g.change(x);return}switch(E.key){case me.Home:case me.PageUp:return E.preventDefault(),E.stopPropagation(),S(()=>_t(A,tt.First));case me.End:case me.PageDown:return E.preventDefault(),E.stopPropagation(),S(()=>_t(A,tt.Last))}if(S(()=>Se(a,{vertical(){return E.key===me.ArrowUp?_t(A,tt.Previous|tt.WrapAround):E.key===me.ArrowDown?_t(A,tt.Next|tt.WrapAround):Xn.Error},horizontal(){return E.key===me.ArrowLeft?_t(A,tt.Previous|tt.WrapAround):E.key===me.ArrowRight?_t(A,tt.Next|tt.WrapAround):Xn.Error}}))===Xn.Success)return E.preventDefault()}),j=f.useRef(!1),C=te(()=>{var E;j.current||(j.current=!0,(E=m.current)==null||E.focus({preventScroll:!0}),g.change(x),Na(()=>{j.current=!1}))}),P=te(E=>{E.preventDefault()}),O=f.useMemo(()=>{var E;return{selected:y,disabled:(E=e.disabled)!=null?E:!1}},[y,e.disabled]),T={ref:b,onKeyDown:w,onMouseDown:P,onClick:C,id:o,role:"tab",type:di(e,m),"aria-controls":(s=(n=p[x])==null?void 0:n.current)==null?void 0:s.id,"aria-selected":y,tabIndex:y?0:-1};return Te({ourProps:T,theirProps:i,slot:O,defaultTag:fO,name:"Tabs.Tab"})}let hO="div";function mO(e,t){let{selectedIndex:n}=ei("Tab.Panels"),s=Ne(t),r=f.useMemo(()=>({selectedIndex:n}),[n]);return Te({ourProps:{ref:s},theirProps:e,slot:r,defaultTag:hO,name:"Tabs.Panels"})}let bO="div",vO=Zt.RenderStrategy|Zt.Static;function yO(e,t){var n,s,r,o;let i=st(),{id:a=`headlessui-tabs-panel-${i}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:p,panels:g}=ei("Tab.Panel"),h=If("Tab.Panel"),m=f.useRef(null),b=Ne(m,t);$e(()=>h.registerPanel(m),[h,m,a]);let v=Xv("panels"),x=g.indexOf(m);x===-1&&(x=v);let y=x===d,S=f.useMemo(()=>({selected:y}),[y]),w={ref:b,id:a,role:"tabpanel","aria-labelledby":(s=(n=p[x])==null?void 0:n.current)==null?void 0:s.id,tabIndex:y?c:-1};return!y&&((r=u.unmount)==null||r)&&!((o=u.static)!=null&&o)?f.createElement(Pn,{as:"span","aria-hidden":"true",...w}):Te({ourProps:w,theirProps:u,slot:S,defaultTag:bO,features:vO,visible:y,name:"Tabs.Panel"})}let xO=Oe(gO),wO=Oe(uO),SO=Oe(pO),jO=Oe(mO),CO=Oe(yO),Ti=Object.assign(xO,{Group:wO,List:SO,Panels:jO,Panel:CO});function EO(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Xu(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ju(e,...t){e&&t.length>0&&e.classList.remove(...t)}function PO(e,t){let n=Un();if(!e)return n.dispose;let{transitionDuration:s,transitionDelay:r}=getComputedStyle(e),[o,i]=[s,r].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,p)=>p-d);return u}),a=o+i;if(a!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},a),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function TO(e,t,n,s){let r=n?"enter":"leave",o=Un(),i=s!==void 0?EO(s):()=>{};r==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=Se(r,{enter:()=>t.enter,leave:()=>t.leave}),c=Se(r,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Se(r,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Ju(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Xu(e,...t.base,...a,...u),o.nextFrame(()=>{Ju(e,...t.base,...a,...u),Xu(e,...t.base,...a,...c),PO(e,()=>(Ju(e,...t.base,...a),Xu(e,...t.base,...t.entered),i()))}),o.dispose}function OO({immediate:e,container:t,direction:n,classes:s,onStart:r,onStop:o}){let i=pi(),a=Wn(),c=Mt(n);$e(()=>{e&&(c.current="enter")},[e]),$e(()=>{let u=Un();a.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),r.current(c.current),u.add(TO(d,s.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[n])}function lr(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Kc=f.createContext(null);Kc.displayName="TransitionContext";var _O=(e=>(e.Visible="visible",e.Hidden="hidden",e))(_O||{});function AO(){let e=f.useContext(Kc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function MO(){let e=f.useContext(qc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let qc=f.createContext(null);qc.displayName="NestingContext";function Yc(e){return"children"in e?Yc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Jv(e,t){let n=Mt(e),s=f.useRef([]),r=pi(),o=Wn(),i=te((h,m=xr.Hidden)=>{let b=s.current.findIndex(({el:v})=>v===h);b!==-1&&(Se(m,{[xr.Unmount](){s.current.splice(b,1)},[xr.Hidden](){s.current[b].state="hidden"}}),o.microTask(()=>{var v;!Yc(s)&&r.current&&((v=n.current)==null||v.call(n))}))}),a=te(h=>{let m=s.current.find(({el:b})=>b===h);return m?m.state!=="visible"&&(m.state="visible"):s.current.push({el:h,state:"visible"}),()=>i(h,xr.Unmount)}),c=f.useRef([]),u=f.useRef(Promise.resolve()),d=f.useRef({enter:[],leave:[],idle:[]}),p=te((h,m,b)=>{c.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([v])=>v!==h)),t==null||t.chains.current[m].push([h,new Promise(v=>{c.current.push(v)})]),t==null||t.chains.current[m].push([h,new Promise(v=>{Promise.all(d.current[m].map(([x,y])=>y)).then(()=>v())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(m)):b(m)}),g=te((h,m,b)=>{Promise.all(d.current[m].splice(0).map(([v,x])=>x)).then(()=>{var v;(v=c.current.shift())==null||v()}).then(()=>b(m))});return f.useMemo(()=>({children:s,register:a,unregister:i,onStart:p,onStop:g,wait:u,chains:d}),[a,i,s,p,g,d,u])}function LO(){}let NO=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function _h(e){var t;let n={};for(let s of NO)n[s]=(t=e[s])!=null?t:LO;return n}function kO(e){let t=f.useRef(_h(e));return f.useEffect(()=>{t.current=_h(e)},[e]),t}let RO="div",Qv=Zt.RenderStrategy;function $O(e,t){var n,s;let{beforeEnter:r,afterEnter:o,beforeLeave:i,afterLeave:a,enter:c,enterFrom:u,enterTo:d,entered:p,leave:g,leaveFrom:h,leaveTo:m,...b}=e,v=f.useRef(null),x=Ne(v,t),y=(n=b.unmount)==null||n?xr.Unmount:xr.Hidden,{show:S,appear:w,initial:j}=AO(),[C,P]=f.useState(S?"visible":"hidden"),O=MO(),{register:T,unregister:E}=O;f.useEffect(()=>T(v),[T,v]),f.useEffect(()=>{if(y===xr.Hidden&&v.current){if(S&&C!=="visible"){P("visible");return}return Se(C,{hidden:()=>E(v),visible:()=>T(v)})}},[C,v,T,E,S,y]);let A=Mt({base:lr(b.className),enter:lr(c),enterFrom:lr(u),enterTo:lr(d),entered:lr(p),leave:lr(g),leaveFrom:lr(h),leaveTo:lr(m)}),_=kO({beforeEnter:r,afterEnter:o,beforeLeave:i,afterLeave:a}),N=ui();f.useEffect(()=>{if(N&&C==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,C,N]);let V=j&&!w,M=w&&S&&j,H=(()=>!N||V?"idle":S?"enter":"leave")(),U=Kv(0),B=te(Y=>Se(Y,{enter:()=>{U.addFlag(Ze.Opening),_.current.beforeEnter()},leave:()=>{U.addFlag(Ze.Closing),_.current.beforeLeave()},idle:()=>{}})),k=te(Y=>Se(Y,{enter:()=>{U.removeFlag(Ze.Opening),_.current.afterEnter()},leave:()=>{U.removeFlag(Ze.Closing),_.current.afterLeave()},idle:()=>{}})),D=Jv(()=>{P("hidden"),E(v)},O),$=f.useRef(!1);OO({immediate:M,container:v,classes:A,direction:H,onStart:Mt(Y=>{$.current=!0,D.onStart(v,Y,B)}),onStop:Mt(Y=>{$.current=!1,D.onStop(v,Y,k),Y==="leave"&&!Yc(D)&&(P("hidden"),E(v))})});let z=b,J={ref:x};return M?z={...z,className:oc(b.className,...A.current.enter,...A.current.enterFrom)}:$.current&&(z.className=oc(b.className,(s=v.current)==null?void 0:s.className),z.className===""&&delete z.className),f.createElement(qc.Provider,{value:D},f.createElement(ka,{value:Se(C,{visible:Ze.Open,hidden:Ze.Closed})|U.flags},Te({ourProps:J,theirProps:z,defaultTag:RO,features:Qv,visible:C==="visible",name:"Transition.Child"})))}function IO(e,t){let{show:n,appear:s=!1,unmount:r=!0,...o}=e,i=f.useRef(null),a=Ne(i,t);ui();let c=kr();if(n===void 0&&c!==null&&(n=(c&Ze.Open)===Ze.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=f.useState(n?"visible":"hidden"),p=Jv(()=>{d("hidden")}),[g,h]=f.useState(!0),m=f.useRef([n]);$e(()=>{g!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),h(!1))},[m,n]);let b=f.useMemo(()=>({show:n,appear:s,initial:g}),[n,s,g]);f.useEffect(()=>{if(n)d("visible");else if(!Yc(p))d("hidden");else{let S=i.current;if(!S)return;let w=S.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&d("hidden")}},[n,p]);let v={unmount:r},x=te(()=>{var S;g&&h(!1),(S=e.beforeEnter)==null||S.call(e)}),y=te(()=>{var S;g&&h(!1),(S=e.beforeLeave)==null||S.call(e)});return f.createElement(qc.Provider,{value:p},f.createElement(Kc.Provider,{value:b},Te({ourProps:{...v,as:f.Fragment,children:f.createElement(e0,{ref:a,...v,...o,beforeEnter:x,beforeLeave:y})},theirProps:{},defaultTag:f.Fragment,features:Qv,visible:u==="visible",name:"Transition"})))}function VO(e,t){let n=f.useContext(Kc)!==null,s=kr()!==null;return f.createElement(f.Fragment,null,!n&&s?f.createElement(dp,{ref:t,...e}):f.createElement(e0,{ref:t,...e}))}let dp=Oe(IO),e0=Oe($O),DO=Oe(VO),Ts=Object.assign(dp,{Child:DO,Root:dp});var Ah=function(t){return t.reduce(function(n,s){var r=s[0],o=s[1];return n[r]=o,n},{})},Mh=typeof window<"u"&&window.document&&window.document.createElement?We.useLayoutEffect:We.useEffect,un="top",Gn="bottom",Kn="right",dn="left",Vf="auto",Da=[un,Gn,Kn,dn],ti="start",la="end",HO="clippingParents",t0="viewport",Oi="popper",FO="reference",Lh=Da.reduce(function(e,t){return e.concat([t+"-"+ti,t+"-"+la])},[]),n0=[].concat(Da,[Vf]).reduce(function(e,t){return e.concat([t,t+"-"+ti,t+"-"+la])},[]),BO="beforeRead",zO="read",UO="afterRead",WO="beforeMain",GO="main",KO="afterMain",qO="beforeWrite",YO="write",ZO="afterWrite",XO=[BO,zO,UO,WO,GO,KO,qO,YO,ZO];function As(e){return e?(e.nodeName||"").toLowerCase():null}function Tn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function go(e){var t=Tn(e).Element;return e instanceof t||e instanceof Element}function Bn(e){var t=Tn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Df(e){if(typeof ShadowRoot>"u")return!1;var t=Tn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function JO(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!Bn(o)||!As(o)||(Object.assign(o.style,s),Object.keys(r).forEach(function(i){var a=r[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function QO(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var r=t.elements[s],o=t.attributes[s]||{},i=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),a=i.reduce(function(c,u){return c[u]="",c},{});!Bn(r)||!As(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}const e_={name:"applyStyles",enabled:!0,phase:"write",fn:JO,effect:QO,requires:["computeStyles"]};function Os(e){return e.split("-")[0]}var ro=Math.max,ac=Math.min,ni=Math.round;function pp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function s0(){return!/^((?!chrome|android).)*safari/i.test(pp())}function si(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),r=1,o=1;t&&Bn(e)&&(r=e.offsetWidth>0&&ni(s.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ni(s.height)/e.offsetHeight||1);var i=go(e)?Tn(e):window,a=i.visualViewport,c=!s0()&&n,u=(s.left+(c&&a?a.offsetLeft:0))/r,d=(s.top+(c&&a?a.offsetTop:0))/o,p=s.width/r,g=s.height/o;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u,x:u,y:d}}function Hf(e){var t=si(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function r0(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Df(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function tr(e){return Tn(e).getComputedStyle(e)}function t_(e){return["table","td","th"].indexOf(As(e))>=0}function Rr(e){return((go(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zc(e){return As(e)==="html"?e:e.assignedSlot||e.parentNode||(Df(e)?e.host:null)||Rr(e)}function Nh(e){return!Bn(e)||tr(e).position==="fixed"?null:e.offsetParent}function n_(e){var t=/firefox/i.test(pp()),n=/Trident/i.test(pp());if(n&&Bn(e)){var s=tr(e);if(s.position==="fixed")return null}var r=Zc(e);for(Df(r)&&(r=r.host);Bn(r)&&["html","body"].indexOf(As(r))<0;){var o=tr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Ha(e){for(var t=Tn(e),n=Nh(e);n&&t_(n)&&tr(n).position==="static";)n=Nh(n);return n&&(As(n)==="html"||As(n)==="body"&&tr(n).position==="static")?t:n||n_(e)||t}function Ff(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fi(e,t,n){return ro(e,ac(t,n))}function s_(e,t,n){var s=Fi(e,t,n);return s>n?n:s}function o0(){return{top:0,right:0,bottom:0,left:0}}function i0(e){return Object.assign({},o0(),e)}function a0(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var r_=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,i0(typeof t!="number"?t:a0(t,Da))};function o_(e){var t,n=e.state,s=e.name,r=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=Os(n.placement),c=Ff(a),u=[dn,Kn].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!i)){var p=r_(r.padding,n),g=Hf(o),h=c==="y"?un:dn,m=c==="y"?Gn:Kn,b=n.rects.reference[d]+n.rects.reference[c]-i[c]-n.rects.popper[d],v=i[c]-n.rects.reference[c],x=Ha(o),y=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,S=b/2-v/2,w=p[h],j=y-g[d]-p[m],C=y/2-g[d]/2+S,P=Fi(w,C,j),O=c;n.modifiersData[s]=(t={},t[O]=P,t.centerOffset=P-C,t)}}function i_(e){var t=e.state,n=e.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||r0(t.elements.popper,r)&&(t.elements.arrow=r))}const a_={name:"arrow",enabled:!0,phase:"main",fn:o_,effect:i_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ri(e){return e.split("-")[1]}var l_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c_(e,t){var n=e.x,s=e.y,r=t.devicePixelRatio||1;return{x:ni(n*r)/r||0,y:ni(s*r)/r||0}}function kh(e){var t,n=e.popper,s=e.popperRect,r=e.placement,o=e.variation,i=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,g=i.x,h=g===void 0?0:g,m=i.y,b=m===void 0?0:m,v=typeof d=="function"?d({x:h,y:b}):{x:h,y:b};h=v.x,b=v.y;var x=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),S=dn,w=un,j=window;if(u){var C=Ha(n),P="clientHeight",O="clientWidth";if(C===Tn(n)&&(C=Rr(n),tr(C).position!=="static"&&a==="absolute"&&(P="scrollHeight",O="scrollWidth")),C=C,r===un||(r===dn||r===Kn)&&o===la){w=Gn;var T=p&&C===j&&j.visualViewport?j.visualViewport.height:C[P];b-=T-s.height,b*=c?1:-1}if(r===dn||(r===un||r===Gn)&&o===la){S=Kn;var E=p&&C===j&&j.visualViewport?j.visualViewport.width:C[O];h-=E-s.width,h*=c?1:-1}}var A=Object.assign({position:a},u&&l_),_=d===!0?c_({x:h,y:b},Tn(n)):{x:h,y:b};if(h=_.x,b=_.y,c){var N;return Object.assign({},A,(N={},N[w]=y?"0":"",N[S]=x?"0":"",N.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",N))}return Object.assign({},A,(t={},t[w]=y?b+"px":"",t[S]=x?h+"px":"",t.transform="",t))}function u_(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=s===void 0?!0:s,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:Os(t.placement),variation:ri(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,kh(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,kh(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const d_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u_,data:{}};var cl={passive:!0};function p_(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,o=r===void 0?!0:r,i=s.resize,a=i===void 0?!0:i,c=Tn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",n.update,cl)}),a&&c.addEventListener("resize",n.update,cl),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",n.update,cl)}),a&&c.removeEventListener("resize",n.update,cl)}}const f_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:p_,data:{}};var g_={left:"right",right:"left",bottom:"top",top:"bottom"};function Gl(e){return e.replace(/left|right|bottom|top/g,function(t){return g_[t]})}var h_={start:"end",end:"start"};function Rh(e){return e.replace(/start|end/g,function(t){return h_[t]})}function Bf(e){var t=Tn(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function zf(e){return si(Rr(e)).left+Bf(e).scrollLeft}function m_(e,t){var n=Tn(e),s=Rr(e),r=n.visualViewport,o=s.clientWidth,i=s.clientHeight,a=0,c=0;if(r){o=r.width,i=r.height;var u=s0();(u||!u&&t==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:i,x:a+zf(e),y:c}}function b_(e){var t,n=Rr(e),s=Bf(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=ro(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),i=ro(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+zf(e),c=-s.scrollTop;return tr(r||n).direction==="rtl"&&(a+=ro(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:i,x:a,y:c}}function Uf(e){var t=tr(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function l0(e){return["html","body","#document"].indexOf(As(e))>=0?e.ownerDocument.body:Bn(e)&&Uf(e)?e:l0(Zc(e))}function Bi(e,t){var n;t===void 0&&(t=[]);var s=l0(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),o=Tn(s),i=r?[o].concat(o.visualViewport||[],Uf(s)?s:[]):s,a=t.concat(i);return r?a:a.concat(Bi(Zc(i)))}function fp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function v_(e,t){var n=si(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function $h(e,t,n){return t===t0?fp(m_(e,n)):go(t)?v_(t,n):fp(b_(Rr(e)))}function y_(e){var t=Bi(Zc(e)),n=["absolute","fixed"].indexOf(tr(e).position)>=0,s=n&&Bn(e)?Ha(e):e;return go(s)?t.filter(function(r){return go(r)&&r0(r,s)&&As(r)!=="body"}):[]}function x_(e,t,n,s){var r=t==="clippingParents"?y_(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce(function(c,u){var d=$h(e,u,s);return c.top=ro(d.top,c.top),c.right=ac(d.right,c.right),c.bottom=ac(d.bottom,c.bottom),c.left=ro(d.left,c.left),c},$h(e,i,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function c0(e){var t=e.reference,n=e.element,s=e.placement,r=s?Os(s):null,o=s?ri(s):null,i=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(r){case un:c={x:i,y:t.y-n.height};break;case Gn:c={x:i,y:t.y+t.height};break;case Kn:c={x:t.x+t.width,y:a};break;case dn:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var u=r?Ff(r):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case ti:c[u]=c[u]-(t[d]/2-n[d]/2);break;case la:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function ca(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=s===void 0?e.placement:s,o=n.strategy,i=o===void 0?e.strategy:o,a=n.boundary,c=a===void 0?HO:a,u=n.rootBoundary,d=u===void 0?t0:u,p=n.elementContext,g=p===void 0?Oi:p,h=n.altBoundary,m=h===void 0?!1:h,b=n.padding,v=b===void 0?0:b,x=i0(typeof v!="number"?v:a0(v,Da)),y=g===Oi?FO:Oi,S=e.rects.popper,w=e.elements[m?y:g],j=x_(go(w)?w:w.contextElement||Rr(e.elements.popper),c,d,i),C=si(e.elements.reference),P=c0({reference:C,element:S,strategy:"absolute",placement:r}),O=fp(Object.assign({},S,P)),T=g===Oi?O:C,E={top:j.top-T.top+x.top,bottom:T.bottom-j.bottom+x.bottom,left:j.left-T.left+x.left,right:T.right-j.right+x.right},A=e.modifiersData.offset;if(g===Oi&&A){var _=A[r];Object.keys(E).forEach(function(N){var V=[Kn,Gn].indexOf(N)>=0?1:-1,M=[un,Gn].indexOf(N)>=0?"y":"x";E[N]+=_[M]*V})}return E}function w_(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?n0:c,d=ri(s),p=d?a?Lh:Lh.filter(function(m){return ri(m)===d}):Da,g=p.filter(function(m){return u.indexOf(m)>=0});g.length===0&&(g=p);var h=g.reduce(function(m,b){return m[b]=ca(e,{placement:b,boundary:r,rootBoundary:o,padding:i})[Os(b)],m},{});return Object.keys(h).sort(function(m,b){return h[m]-h[b]})}function S_(e){if(Os(e)===Vf)return[];var t=Gl(e);return[Rh(e),t,Rh(t)]}function j_(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,i=n.altAxis,a=i===void 0?!0:i,c=n.fallbackPlacements,u=n.padding,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,b=n.allowedAutoPlacements,v=t.options.placement,x=Os(v),y=x===v,S=c||(y||!m?[Gl(v)]:S_(v)),w=[v].concat(S).reduce(function(Y,Q){return Y.concat(Os(Q)===Vf?w_(t,{placement:Q,boundary:d,rootBoundary:p,padding:u,flipVariations:m,allowedAutoPlacements:b}):Q)},[]),j=t.rects.reference,C=t.rects.popper,P=new Map,O=!0,T=w[0],E=0;E<w.length;E++){var A=w[E],_=Os(A),N=ri(A)===ti,V=[un,Gn].indexOf(_)>=0,M=V?"width":"height",H=ca(t,{placement:A,boundary:d,rootBoundary:p,altBoundary:g,padding:u}),U=V?N?Kn:dn:N?Gn:un;j[M]>C[M]&&(U=Gl(U));var B=Gl(U),k=[];if(o&&k.push(H[_]<=0),a&&k.push(H[U]<=0,H[B]<=0),k.every(function(Y){return Y})){T=A,O=!1;break}P.set(A,k)}if(O)for(var D=m?3:1,$=function(Q){var ne=w.find(function(ee){var K=P.get(ee);if(K)return K.slice(0,Q).every(function(Z){return Z})});if(ne)return T=ne,"break"},z=D;z>0;z--){var J=$(z);if(J==="break")break}t.placement!==T&&(t.modifiersData[s]._skip=!0,t.placement=T,t.reset=!0)}}const C_={name:"flip",enabled:!0,phase:"main",fn:j_,requiresIfExists:["offset"],data:{_skip:!1}};function Ih(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Vh(e){return[un,Kn,Gn,dn].some(function(t){return e[t]>=0})}function E_(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,i=ca(t,{elementContext:"reference"}),a=ca(t,{altBoundary:!0}),c=Ih(i,s),u=Ih(a,r,o),d=Vh(c),p=Vh(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const P_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:E_};function T_(e,t,n){var s=Os(e),r=[dn,un].indexOf(s)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*r,[dn,Kn].indexOf(s)>=0?{x:a,y:i}:{x:i,y:a}}function O_(e){var t=e.state,n=e.options,s=e.name,r=n.offset,o=r===void 0?[0,0]:r,i=n0.reduce(function(d,p){return d[p]=T_(p,t.rects,o),d},{}),a=i[t.placement],c=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[s]=i}const __={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:O_};function A_(e){var t=e.state,n=e.name;t.modifiersData[n]=c0({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const M_={name:"popperOffsets",enabled:!0,phase:"read",fn:A_,data:{}};function L_(e){return e==="x"?"y":"x"}function N_(e){var t=e.state,n=e.options,s=e.name,r=n.mainAxis,o=r===void 0?!0:r,i=n.altAxis,a=i===void 0?!1:i,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.padding,g=n.tether,h=g===void 0?!0:g,m=n.tetherOffset,b=m===void 0?0:m,v=ca(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:d}),x=Os(t.placement),y=ri(t.placement),S=!y,w=Ff(x),j=L_(w),C=t.modifiersData.popperOffsets,P=t.rects.reference,O=t.rects.popper,T=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,E=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(C){if(o){var N,V=w==="y"?un:dn,M=w==="y"?Gn:Kn,H=w==="y"?"height":"width",U=C[w],B=U+v[V],k=U-v[M],D=h?-O[H]/2:0,$=y===ti?P[H]:O[H],z=y===ti?-O[H]:-P[H],J=t.elements.arrow,Y=h&&J?Hf(J):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:o0(),ne=Q[V],ee=Q[M],K=Fi(0,P[H],Y[H]),Z=S?P[H]/2-D-K-ne-E.mainAxis:$-K-ne-E.mainAxis,ie=S?-P[H]/2+D+K+ee+E.mainAxis:z+K+ee+E.mainAxis,ue=t.elements.arrow&&Ha(t.elements.arrow),ve=ue?w==="y"?ue.clientTop||0:ue.clientLeft||0:0,he=(N=A==null?void 0:A[w])!=null?N:0,ke=U+Z-he-ve,Ge=U+ie-he,ht=Fi(h?ac(B,ke):B,U,h?ro(k,Ge):k);C[w]=ht,_[w]=ht-U}if(a){var rt,Ve=w==="x"?un:dn,Nt=w==="x"?Gn:Kn,ot=C[j],St=j==="y"?"height":"width",mt=ot+v[Ve],ut=ot-v[Nt],Qe=[un,dn].indexOf(x)!==-1,it=(rt=A==null?void 0:A[j])!=null?rt:0,Vt=Qe?mt:ot-P[St]-O[St]-it+E.altAxis,pe=Qe?ot+P[St]+O[St]-it-E.altAxis:ut,Re=h&&Qe?s_(Vt,ot,pe):Fi(h?Vt:mt,ot,h?pe:ut);C[j]=Re,_[j]=Re-ot}t.modifiersData[s]=_}}const k_={name:"preventOverflow",enabled:!0,phase:"main",fn:N_,requiresIfExists:["offset"]};function R_(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $_(e){return e===Tn(e)||!Bn(e)?Bf(e):R_(e)}function I_(e){var t=e.getBoundingClientRect(),n=ni(t.width)/e.offsetWidth||1,s=ni(t.height)/e.offsetHeight||1;return n!==1||s!==1}function V_(e,t,n){n===void 0&&(n=!1);var s=Bn(t),r=Bn(t)&&I_(t),o=Rr(t),i=si(e,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((As(t)!=="body"||Uf(o))&&(a=$_(t)),Bn(t)?(c=si(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=zf(o))),{x:i.left+a.scrollLeft-c.x,y:i.top+a.scrollTop-c.y,width:i.width,height:i.height}}function D_(e){var t=new Map,n=new Set,s=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&r(c)}}),s.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),s}function H_(e){var t=D_(e);return XO.reduce(function(n,s){return n.concat(t.filter(function(r){return r.phase===s}))},[])}function F_(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function B_(e){var t=e.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var Dh={placement:"bottom",modifiers:[],strategy:"absolute"};function Hh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function z_(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?Dh:r;return function(a,c,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dh,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],g=!1,h={state:d,setOptions:function(x){var y=typeof x=="function"?x(d.options):x;b(),d.options=Object.assign({},o,d.options,y),d.scrollParents={reference:go(a)?Bi(a):a.contextElement?Bi(a.contextElement):[],popper:Bi(c)};var S=H_(B_([].concat(s,d.options.modifiers)));return d.orderedModifiers=S.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!g){var x=d.elements,y=x.reference,S=x.popper;if(Hh(y,S)){d.rects={reference:V_(y,Ha(S),d.options.strategy==="fixed"),popper:Hf(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(E){return d.modifiersData[E.name]=Object.assign({},E.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var j=d.orderedModifiers[w],C=j.fn,P=j.options,O=P===void 0?{}:P,T=j.name;typeof C=="function"&&(d=C({state:d,options:O,name:T,instance:h})||d)}}}},update:F_(function(){return new Promise(function(v){h.forceUpdate(),v(d)})}),destroy:function(){b(),g=!0}};if(!Hh(a,c))return h;h.setOptions(u).then(function(v){!g&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var x=v.name,y=v.options,S=y===void 0?{}:y,w=v.effect;if(typeof w=="function"){var j=w({state:d,name:x,instance:h,options:S}),C=function(){};p.push(j||C)}})}function b(){p.forEach(function(v){return v()}),p=[]}return h}}var U_=[f_,M_,d_,e_,__,C_,k_,a_,P_],W_=z_({defaultModifiers:U_}),G_=typeof Element<"u",K_=typeof Map=="function",q_=typeof Set=="function",Y_=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Kl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!Kl(e[s],t[s]))return!1;return!0}var o;if(K_&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(s=o.next()).done;)if(!t.has(s.value[0]))return!1;for(o=e.entries();!(s=o.next()).done;)if(!Kl(s.value[1],t.get(s.value[0])))return!1;return!0}if(q_&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(s=o.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(Y_&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[s]))return!1;if(G_&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!((r[s]==="_owner"||r[s]==="__v"||r[s]==="__o")&&e.$$typeof)&&!Kl(e[r[s]],t[r[s]]))return!1;return!0}return e!==e&&t!==t}var Z_=function(t,n){try{return Kl(t,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const X_=rf(Z_);var J_=[],fi=function(t,n,s){s===void 0&&(s={});var r=We.useRef(null),o={onFirstUpdate:s.onFirstUpdate,placement:s.placement||"bottom",strategy:s.strategy||"absolute",modifiers:s.modifiers||J_},i=We.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=i[0],c=i[1],u=We.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var m=h.state,b=Object.keys(m.elements);ww.flushSync(function(){c({styles:Ah(b.map(function(v){return[v,m.styles[v]||{}]})),attributes:Ah(b.map(function(v){return[v,m.attributes[v]]}))})})},requires:["computeStyles"]}},[]),d=We.useMemo(function(){var g={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return X_(r.current,g)?r.current||g:(r.current=g,g)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),p=We.useRef();return Mh(function(){p.current&&p.current.setOptions(d)},[d]),Mh(function(){if(!(t==null||n==null)){var g=s.createPopper||W_,h=g(t,n,d);return p.current=h,function(){h.destroy(),p.current=null}}},[t,n,s.createPopper]),{state:p.current?p.current.state:null,styles:a.styles,attributes:a.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}};const fn=f.forwardRef(function({children:t,title:n,onClose:s,icon:r,skipOverflow:o,shadow:i=!0,padding:a=!0,border:c=!0,round:u=!0,className:d,classNameBody:p,size:g="m",titleClass:h=W("gs-utl-mb-2 gs-utl-mt-0.5"),style:m,bg:b,...v},x){const y=ss(r)?r:{};return l.jsxs("div",{...v,ref:x,style:m,className:W(["gs-utl-card",d,b||cf.bg,re.b,u&&re.rnd,c?F.br:re.bT,!o&&"gs-utl-overflow-auto",i&&"gs-utl-shadow-md",a&&g==="l"&&"gs-utl-p-5",a&&g==="m"&&"gs-utl-px-4 gs-utl-py-2",a&&g==="s"&&"gs-utl-px-2 gs-utl-py-1",a&&g==="xs"&&"gs-utl-px-2 gs-utl-py-0.5",a&&g==="x2s"&&"gs-utl-px-0.5"]),children:[(n||s)&&n!==!1&&l.jsxs(R,{className:W("gs-utl-card-title",h),items:"center",children:[l.jsx(I,{className:W("truncate"),grow:!0,children:n}),(s||r)&&l.jsx(I,{onClick:s,className:W("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),children:l.jsx(se,{icon:(nt(r)?r:"")||G.close,size:"18px",...y})})]}),l.jsx("div",{className:W("gs-utl-card-body",p),children:t})]})});var Xc=(e=>(e.canvas="canvas",e.layers="layers",e))(Xc||{}),Us=(e=>(e.selectParent="selectParent",e.duplicate="duplicate",e.delete="delete",e.symbolCreate="symbolCreate",e.symbolDetach="symbolDetach",e.symbolOverride="symbolOverride",e.symbolOverrideClear="symbolOverrideClear",e))(Us||{});class Q_{constructor(t){this.isOpen=!1,this.isEnabled=!0,this.items=[],this.coordinates={x:0,y:0},this.getItemsForComponent=uo(function*(n,s={}){var x;if(!(n!=null&&n.em))return[];const r=n.em.getEditor(),{isSymbol:o,isRoot:i}=r.Components.getSymbolInfo(n),a=!!n.getSymbolOverride(),c=!!n.get("removable"),u=!!n.parent()&&!!n.toolbar.length,d=!!n.get("copyable"),p=[u&&{id:Us.selectParent,icon:G.arrowUp,label:"Select parent",onClick:()=>{r.runCommand("core:component-exit",{force:!0})}},d&&{id:Us.duplicate,icon:G.contentCopy,label:"Duplicate",onClick:()=>{r.runCommand("tlb-clone")}},!o&&c&&{id:Us.symbolCreate,icon:G.rhombusSplit,label:"Create Symbol",onClick:()=>{r.runCommand(ce.symbolAdd)}},o&&i&&{id:Us.symbolDetach,icon:G.alertRhombus,label:"Detach instance",onClick:()=>{r.runCommand(ce.symbolDetach)}},o&&!a&&{id:Us.symbolOverride,icon:G.rhombusOutline,label:"Make overridable",onClick:()=>{r.runCommand(ce.symbolOverride,{override:!0})}},o&&a&&{id:Us.symbolOverrideClear,icon:G.rhombusSplitOutline,label:"Clear overridable",onClick:()=>{r.runCommand(ce.symbolOverride)}},c&&{id:Us.delete,icon:G.delete,label:"Delete",onClick:()=>{r.runCommand("core:component-delete")}}].filter(Boolean),g=n.get("contextMenu"),h={...s,items:p,component:n,editor:r,type:n.get("type")||"default",source:s.source||Xc.canvas},m=yield Fh(g,h),b=(x=this.store.appEditorStore.sdkComponentsConfig)==null?void 0:x.contextMenu;return yield Fh(b,{...h,items:m})}),this.store=t,nn(this,{},{autoBind:!0})}get publicState(){return{enabled:this.isEnabled}}setPublicState(t){t.enabled!==void 0&&(this.isEnabled=t.enabled)}*showForComponent(t,n){const s=t==null?void 0:t.em;if(!s)return;n.skipSelect||s.selected.hasComponent(t)||s.setSelected(t);const r=yield this.getItemsForComponent(t,n);r.length&&this.show({...n,items:r})}show({items:t,x:n,y:s,w:r,h:o}){this.isOpen=!0,this.coordinates={x:n,y:s,w:r,h:o},this.items=t}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const Fh=async(e,t)=>Xe(e)?(await e(t)).filter(Boolean):t.items,Wf=()=>zt().contextMenu;function u0(e,t){f.useEffect(()=>{const n="pointerdown",{current:s}=e;if(!s||!t.enabled)return;function r(o){const i=o.target;s&&i&&!s.contains(i)&&t.onTrigger(i)}return document.addEventListener(n,r),()=>{document.removeEventListener(n,r)}},[e.current,t.enabled])}const d0=(e,t)=>{const{boxRectScreen:n,vwHeight:s,initialPos:r="top-right",zoomMultiplier:o=1}=t,i=r.split("-"),a=i[0],c=i[1],u=a==="top"?"bottom":"top",d=c==="right"?"left":"right";f.useLayoutEffect(()=>{const p=e.current;if(p){const{offsetWidth:g,offsetHeight:h}=p,m=n.y-h,b=n.x+n.width-g,v=n.height+h>s,x=m<0,y=x&&!v?u:a,S=b<0?d:c;if(t.setPos(`${y}-${S}`),v){const w=n.y+n.height,j=w<0?m-w:m;p.style.top=x?`${parseInt(`${-j}`)*o}px`:""}else p.style.top=""}},[e.current,n])},p0=e=>{const{ref:t,show:n,node:s,styles:r,update:o,reload:i}=e,a={all:"initial",zIndex:"10",fontFamily:"inherit",...r};f.useEffect(()=>{const c=t.current;if(c&&n){if(!c.__sh){const p=c.attachShadow({mode:"closed"});c.__sh=xw.createRoot(p)}c.__sh.render(s),Object.keys(a).forEach(p=>{c.style.setProperty($2(p),a[p],"important")});const u=new MutationObserver(i);u.observe(c,{attributeFilter:["style"]});const d=new MutationObserver(p=>{Array.from(p[0].removedNodes).includes(c)&&i()});return d.observe(c.parentNode,{childList:!0}),()=>{u.disconnect(),d.disconnect()}}},[t.current,n,o])},e3="gs-cmp-popover";function Ns({children:e,handler:t,title:n,size:s,padding:r=!0,border:o=!0,overlay:i,clickAway:a,topIcon:c,placement:u="auto",offset:d,open:p,onClose:g,buttonAs:h,className:m,classNameBody:b,buttonProps:v={},disabled:x,hideCloseButton:y}){const[S,w]=f.useState(!!p),[j,C]=f.useState(S),[P,O]=f.useState(null),[T,E]=f.useState(null),A=fi(P,T,{...qf({offset:d}),placement:u}),_=()=>{C(!1),g==null||g()};u0({current:T},{onTrigger:_,enabled:a&&S}),f.useEffect(()=>{C(!!p)},[p]),f.useEffect(()=>{var M;S&&((M=A.update)==null||M.call(A))},[S,A.update]),f.useEffect(()=>{const M=setTimeout(()=>w(j),10);return()=>clearTimeout(M)},[j]);const N=W("w-full transition-colors",x&&"pointer-events-none",...yv({border:!1,size:"",...v})),V=W(["fixed z-20",c&&"gjs-mt-5",s==="s"&&"w-full max-w-64",s==="sm"&&"w-full max-w-sm",s==="md"&&"w-full max-w-md"]);return l.jsxs(Yu,{className:W(e3,"relative flex",m),children:[l.jsx(Yu.Button,{ref:O,as:h,className:N,children:l.jsx("div",{onClick:M=>{po(M),!(Lt(p)||x)&&C(!S)},children:t})}),S&&i&&l.jsx("div",{onClick:_,className:W("z-10 fixed inset-0")}),j&&l.jsx(Yu.Panel,{static:!0,className:V,ref:E,style:A.styles.popper,...A.attributes.popper,children:l.jsx(Ts,{as:f.Fragment,show:S,unmount:!1,...lf,children:l.jsx(fn,{classNameBody:b,title:n,onClose:y?void 0:_,padding:r,border:o,children:typeof e=="function"?e({close:_,open:S}):e})})})]})}function Fa(e){const{action:t,icon:n,label:s,className:r,items:o,onItemClick:i,...a}=e,c=f.useRef(null),[u,d]=f.useState(),p=c.current,g=L([r,"gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",F.br,Me.xy,re.bb,a.disabled&&Le.disabled,...t?[F.hBgH,"gs-utl-cursor-pointer"]:["gs-utl-cursor-default"]]),h=b=>{Xe(t)&&(t({event:b}),i==null||i({event:b,item:e}))};f.useEffect(()=>{if(!p)return;const b=setTimeout(()=>d(p.getBoundingClientRect()),a.active?0:af);return()=>clearTimeout(b)},[p,a.active]);const m=()=>{var b;return(b=a.onActive)==null?void 0:b.call(a)};return l.jsxs(R,{ref:c,items:"center",nowrap:!0,className:g,onClick:h,onPointerEnter:m,children:[n&&l.jsx(I,{children:l.jsx(se,{icon:n,size:ae.sx})}),l.jsx(I,{className:L(a.classNameLabel,Le.txtEllips),grow:!0,children:s}),!!(o!=null&&o.length)&&l.jsxs(l.Fragment,{children:[l.jsx(I,{children:l.jsx(se,{icon:G.chevronRight,size:ae.s,className:"-gs-utl-mr-2"})}),u&&a.active&&l.jsx(y0,{items:o,x:u.left,y:u.top,w:u.width,h:u.height,onItemClick:i,open:!0})]})]})}function Pr({className:e,as:t="label",bold:n,m:s="gjs-mb-1",size:r="m",capitalize:o=!0,children:i,tip:a,onClear:c,...u}){const d=t,p=!!c;return l.jsxs(d,{className:L(e,s,p&&F.tAo,o&&"gs-utl-capitalize",n&&"gs-utl-font-semibold",r==="s"&&"gs-utl-text-sm",a||p?"gs-utl-flex gs-utl-gap-2 gs-utl-items-center":"gs-utl-block"),...p&&{htmlFor:""},...u,children:[!!a&&l.jsx(It,{classNameWrp:"gs-utl-normal-case gs-utl-whitespace-normal",classNameContent:"gs-utl-max-w-60",title:a,children:l.jsx(se,{icon:G.information,size:ae.s2x})}),i,p&&l.jsx(vt,{title:"Clear value",onClick:c,icon:{icon:G.close,size:ae.s2x},variant:"out-clear",border:!1,size:"",block:!0})]})}var f0=(e=>(e.primary="primary",e.secondary="secondary",e.outline="outline",e.shallow="shallow",e))(f0||{}),g0=(e=>(e.none="",e.x2s="x2s",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(g0||{});const t3="gs-cmp-button",Jc=f.memo(oe(function({classNameBtn:t,className:n,children:s,tooltip:r,variant:o,onClick:i,editorEvents:a,label:c,size:u,icon:d,active:p,buttonType:g,disabled:h,...m}){const{editor:b}=ge(),[v,x]=f.useState(()=>({disabled:h,variant:o,active:p,className:n,classNameBtn:t,tooltip:r,icon:d,size:u,label:c})),y=v.variant,S=y==="outline",w=y==="secondary",j=y==="primary"?"pr":S||w?"out-clear":void 0,C=v.label,P=T=>{b&&(i==null||i({event:T,editor:b,state:v,setState:E=>x(A=>({...A,...E}))}))};f.useEffect(()=>{if(!a||!b)return;const T=Object.keys(a).reduce((A,_)=>(A[_]=(N={})=>{a[_]({fromEvent:N,editor:b,state:v,setState:V=>x(M=>({...M,...V}))})},A),{}),E=Object.keys(T);return E.forEach(A=>b.on(A,T[A])),()=>{E.forEach(A=>b.off(A,T[A]))}},[b,v]);const O=v.tooltip;return l.jsx(vt,{className:L(t3,v.classNameBtn),classNameWrp:v.className,variant:j,icon:v.icon,active:v.active,size:v.size,disabled:v.disabled,onClick:P,border:S||w,type:g,withBg:w,block:!0,...nt(O)?{title:O}:{tooltipProps:O},...m,children:C?Xe(C)?C({editor:b}):C:s})}));var Qc=(e=>(e.m="m",e.s="s",e))(Qc||{});const h0="gs-input-field",lc=e=>Lt(e)?e:"",Ba=(e={})=>L("gs-utl-w-full",F.bgTr,Jo.inputText,e.disabled&&F.txtLowEmphasis),Gf=({size:e="m"}={})=>L("gs-input-container gs-utl-w-full",F.bg,re.b,re.rnd,F.br,e==="m"&&Me.xy,e==="s"&&"gs-utl-px-3 gs-utl-py-1"),$r=({className:e,style:t,row:n})=>({className:L(e,"gs-utl-w-full gs-utl-flex",n?`${h0}--row gs-utl-gap-2 gs-utl-items-center`:"gs-utl-flex-col gs-utl-gap-1"),style:t}),os=e=>{const{as:t,size:n="m",label:s,description:r,hasClear:o,onChange:i,tip:a,row:c,afterLabel:u,afterLabelButtons:d}=e,p=!!s,g=!!r,h=o!=null&&o(e)?()=>i==null?void 0:i(""):void 0;if(!p&&!(d!=null&&d.length)&&!g)return null;const m=l.jsx(l.Fragment,{children:p&&l.jsx(Pr,{as:t,className:"gs-utl-w-full",size:n,tip:g?void 0:a,onClear:h,m:"",children:s})}),b=u||d!=null&&d.length?l.jsxs(R,{gap:"s",items:"center",nowrap:!0,children:[u,d==null?void 0:d.map((v,x)=>l.jsx(Jc,{...v},v.id??x))]}):null;return l.jsxs(R,{className:L("gs-label-field-container",c&&"gs-utl-whitespace-nowrap"),col:!0,children:[b?l.jsxs(R,{gap:"s",items:"center",nowrap:!0,children:[m,b]}):m,g&&l.jsx(Pr,{size:n,tip:a,as:"span",className:L(F.txtLowEmphasis),capitalize:!1,children:r})]})},Je=f.forwardRef(function(t,n){const{className:s,value:r,type:o,placeholder:i,required:a,disabled:c,readOnly:u,name:d,autoFocus:p,onInput:g,onChange:h,onBlur:m,onKeyDown:b,labelAs:v}=t,[x,y]=f.useState(lc(r)),S=Ba(t),w=f.useRef(null);f.useImperativeHandle(n,()=>w.current,[]),f.useEffect(()=>{y(lc(r))},[r]),f.useEffect(()=>{const E=w.current;if(E&&p){const A=E.querySelector("input"),_=setTimeout(()=>A==null?void 0:A.focus(),af);return()=>clearTimeout(_)}},[w.current,p]);const j=(E,A)=>{h==null||h(E,A)},C=E=>{const{key:A}=E;switch(b==null||b(E),A){case"Escape":return y(r);case"Enter":return j(x)}},P=()=>{j(x),m==null||m()},O=E=>{const A=E.target.value;y(A),g==null||g(A)},T=$r({...t,className:L(h0,s)});return l.jsxs("div",{...T,ref:w,children:[l.jsx(os,{...t,as:v}),l.jsxs(R,{className:Gf(t),items:"center",gap:"x2s",children:[t.beforeInput,l.jsx(I,{grow:!0,children:l.jsx("input",{className:S,name:d,value:x,onChange:O,placeholder:i,required:a,onBlur:P,onKeyDown:C,readOnly:u,disabled:c,type:o,maxLength:t.maxLength})}),t.afterInput]})]})}),n3=(e,t)=>e.filter(n=>n.id===t)[0]||null,m0=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),s3=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,b0=W("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),Kf={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function Bh(e){var o;const{option:t,active:n,selected:s}=e,r=((o=e.isSelected)==null?void 0:o.call(e))||!0;return l.jsxs(R,{items:"center",className:W([Me.xy,n&&cf.bgH]),children:[l.jsx(I,{className:W("truncate"),grow:!0,children:t.label}),l.jsx(I,{className:W("gjs-pl-2"),children:m0(t,s)&&r&&l.jsx(se,{className:W(F.tA),icon:G.check,size:ae.s})})]})}const r3="gs-select-field";function zh({option:e}){return l.jsxs(l.Fragment,{children:[e.icon&&l.jsx(se,{...nt(e.icon)?{icon:e.icon,size:ae.s2x}:e.icon}),l.jsx(I,{className:W("truncate"),grow:!0,children:e.content||e.label})]})}function Ee(e){const{value:t,onChange:n,onBlur:s,onFocus:r,handlerSelected:o,label:i,options:a,includeEmpty:c,className:u,search:d,open:p,caret:g=G.chevronDown,size:h="m",border:m,emptyState:b="- Select an option -",name:v,required:x,disabled:y,classNameContainer:S,autoFocus:w,labelAs:j,hideCaret:C}=e,[P,O]=f.useState(null),[T,E]=f.useState(null),[A,_]=f.useState(""),{styles:N,attributes:V}=fi(P,T,Kf),M=typeof d=="object"?d.onChange:void 0,H=[...a].filter(ee=>d?M||s3(ee,A):ee),U=d&&(typeof d=="object"&&d.value||A),B=U&&H.length?H[0]:n3(H,t),k=ee=>n(ee.id,ee),D={id:null,label:b},$=(B==null?void 0:B.content)||(B==null?void 0:B.label),z=B?o?o(B):B.icon?l.jsx(R,{items:"center",gap:"s",children:l.jsx(zh,{option:B})}):$:o?o(D):b;c&&H.unshift(D);const J=ee=>{const{value:K}=ee.target,Z=K.trim();switch(ee.key){case"Escape":n(null);break;case"Enter":n((H.length?H[0].id:Z)||null,H[0]);break;case" ":po(ee);break}},Y=L("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block",re.rnd,ia.focus),Q=()=>{s==null||s()},ne=$r({...e,className:L(r3,S,"gs-utl-relative",h.includes("s")&&"gs-utl-text-xs")});return l.jsx(Pi,{value:B,onChange:k,disabled:y,children:({open:ee})=>l.jsxs("div",{...ne,children:[i&&l.jsx(Pi.Label,{as:j,className:e.classNameLabel,children:l.jsx(os,{as:"span",...e})}),v&&l.jsx("input",{type:"input",name:v,value:(B==null?void 0:B.id)??"",onChange:()=>{},className:W("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),required:x,disabled:y}),l.jsx(Pi.Button,{ref:O,className:Y,tabIndex:d?-1:void 0,children:d?l.jsx("input",{autoFocus:w,value:typeof d=="object"&&d.value||A,className:L([u,"gs-utl-w-full",re.rnd,ia.focus,Me.xyS]),onChange:K=>{_(K.target.value),M==null||M(K.target.value)},onKeyDown:J,onClick:po,onBlur:Q,onFocus:r}):l.jsx(fn,{border:m,size:h,title:z,icon:C?{className:"gs-utl-opacity-0 gs-utl-pointer-events-none"}:g,shadow:!1,className:W(u),titleClass:"",disabled:y})}),l.jsx(Pi.Options,{static:p,className:b0,ref:E,style:N.popper,...V.popper,children:l.jsxs(fn,{padding:!1,className:W("h-full"),style:{minWidth:`${P==null?void 0:P.offsetWidth}px`,maxHeight:200},children:[!H.length&&d&&d!==!0&&l.jsx("div",{className:W(Me.xy),children:d.empty}),H.map((K,Z)=>l.jsx(Pi.Option,{value:K,children:({active:ie})=>l.jsxs(R,{items:"center",gap:"s",className:W([K.className,Me.xy,ie&&cf.bgH]),nowrap:!0,children:[l.jsx(zh,{option:K}),l.jsx(I,{className:W("gjs-pl-2"),children:m0(K,B)&&!U&&l.jsx(se,{className:W(F.tA),icon:G.check,size:ae.s})})]})},Z))]})})]})})}const Uh=Ls()&&document.body,qf=(e={})=>({...Kf,placement:"right-start",modifiers:[{name:"offset",options:{offset:e.offset||[0,5]}},{name:"flip",options:{boundary:e.boundary??Uh}},{name:"preventOverflow",options:{boundary:e.boundary??Uh}}]}),v0=qf(),ul="gs-ctx-menu-list",y0=oe(function({onItemClick:t,open:n,items:s,x:r,y:o,w:i,h:a,className:c}){const u=Wf(),[d,p]=f.useState(),[g,h]=f.useState(null),m=f.useMemo(()=>({getBoundingClientRect:()=>new DOMRect(r,o,i,a)}),[r,o,i,a,n]),{styles:b,attributes:v}=fi(m,g,v0),x=L(`${ul}-wrp gs-utl-z-20`,c),y=L(`${ul} gs-utl-z-20`),S=L(`${ul}-body gs-utl-max-w-56`),w=L(`${ul}-item`),j="gs-utl-max-w-40",C=P=>{const{action:O,onClick:T}=P;if(O||T)return E=>{const A={editor:u.store.appEditorStore.editor,...E};Xe(O)?(O(A),u.hide()):Xe(T)&&(T(A),u.hide())}};return l.jsx("div",{className:x,ref:h,style:b.popper,...v.popper,children:l.jsx(Ts,{show:!!n,...Ma,unmount:!1,children:l.jsx(fn,{padding:!1,className:y,classNameBody:S,children:s.map((P,O)=>f.createElement(Fa,{onItemClick:t,...P,key:P.id??O,className:w,classNameLabel:j,action:C(P),onActive:()=>p(P),active:d===P}))})})})}),Qu="gs-cmp-tooltip";function It({className:e,classNameWrp:t,classNameContent:n,strategy:s,placement:r="bottom",children:o,title:i,onClick:a,inline:c,size:u}){const[d,p]=f.useState(!1),[g,h]=f.useState(!1),m=Lt(u),[b,v]=f.useState(null),[x,y]=f.useState(null),S=fi(b,x,{...qf(),placement:r,...s?{strategy:s}:{}});f.useEffect(()=>{var C;d&&((C=S.update)==null||C.call(S))},[d,S.update]),f.useEffect(()=>{const C=setTimeout(()=>p(g),10);return()=>clearTimeout(C)},[g]);const w=L(`${Qu}-target`,!c&&"gs-utl-block",e,!a&&"gs-utl-cursor-auto"),j=L(`${Qu}-content`,n,"gs-utl-fixed gs-utl-z-30 gs-utl-text-sm",!m&&!n&&"gs-utl-whitespace-nowrap",u==="s"&&"gs-utl-w-60");return l.jsxs("div",{className:L(Qu,"gs-utl-relative",t),children:[l.jsx("span",{ref:v,className:w,onMouseEnter:()=>i&&h(!0),onMouseLeave:()=>h(!1),children:l.jsx("div",{className:L(c&&"gs-utl-inline-block"),onClick:()=>{h(!1),a==null||a()},children:o})}),!!g&&l.jsx("div",{className:j,ref:y,style:S.styles.popper,...S.attributes.popper,children:l.jsx(Ts,{show:!!d,unmount:!1,...lf,children:l.jsx(fn,{className:yh.txt,bg:yh.bg,size:"s",border:!1,children:i})})})]})}function vt({children:e,title:t,classNameWrp:n,tooltipProps:s,...r}){return l.jsx(It,{title:t,classNameWrp:n,...s,children:l.jsx(ze,{...r,children:e})})}var Kt=(e=>(e.Info="info",e.Error="error",e.Success="success",e.Warning="warning",e))(Kt||{});const o3={[Kt.Info]:F.bgA,[Kt.Error]:"bg-red-500",[Kt.Success]:"bg-green-500",[Kt.Warning]:"bg-orange-400"},i3=f.forwardRef(function(t,n){const s={[Kt.Info]:G.informationVariant,[Kt.Error]:G.fire,[Kt.Success]:G.checkBold,[Kt.Warning]:G.alertRhombus},{children:r,className:o,content:i,id:a,buttons:c=[],variant:u=Kt.Info,autoHideTimeout:d=3e3}=t,p=f.useRef(null),g=f.useRef(),h=s[u],m=o3[u];f.useImperativeHandle(n,()=>p.current,[]);const b=()=>{var S;return(S=t.onDismiss)==null?void 0:S.call(t,a)},v=()=>{d&&(g.current=setTimeout(b,d))},x=()=>g.current&&clearTimeout(g.current);f.useEffect(()=>(v(),x),[]);const y=i||r;return l.jsx(fn,{className:X(o,"overflow-hidden relative"),ref:p,onPointerEnter:x,onPointerLeave:v,children:l.jsxs(R,{space:"m",items:"center",className:X(Me.y),children:[l.jsx(I,{className:X(m,re.pill,"text-white gjs-p-1"),children:l.jsx(se,{icon:h,size:ae.s})}),l.jsx(I,{grow:!0,className:X("gjs-pr-3"),children:l.jsxs(R,{col:!0,space:"xs",children:[l.jsx(I,{className:X("text-lg font-medium leading-6"),children:t.header}),y&&l.jsx(I,{className:X(F.txtLowEmphasis),children:y}),!!c.length&&l.jsx(R,{space:"m",justify:"end",children:c.map(({id:S,...w})=>l.jsx(ze,{...w},S))})]})}),l.jsx(I,{className:X("absolute top-1 right-1"),children:l.jsx(vt,{onClick:b,border:!1,children:l.jsx(se,{icon:G.close,size:ae.s})})})]})})}),a3=oe(f.forwardRef(function({className:t,toasts:n,onDismiss:s,...r},o){const i=cj({});return l.jsx("div",{className:X(t,"w-80 gs-utl-z-30"),...r,ref:i,children:n.map(a=>l.jsx(i3,{...a,className:X("gjs-mb-2"),onDismiss:s},a.uuid||a.id))})}));var cc=(e=>(e.self="self",e.cloud="cloud",e))(cc||{}),jr=(e=>(e.image="image",e.video="video",e))(jr||{}),Nn=(e=>(e.componentOutline="componentOutline",e.preview="preview",e.fullscreen="fullscreen",e.showCode="showCode",e.showImportCode="showImportCode",e.clearCanvas="clearCanvas",e.store="store",e.undo="undo",e.redo="redo",e))(Nn||{}),Yf=(e=>(e.topLeft="top-left",e.topCenter="top-center",e.topRight="top-right",e.bottomLeft="bottom-left",e.bottomCenter="bottom-center",e.bottomRight="bottom-right",e))(Yf||{}),x0=(e=>(e.select="select",e.hover="hover",e.target="target",e.spacing="spacing",e))(x0||{}),At=(e=>(e.variable="data-variable",e.condition="data-condition",e.conditionTrue="data-condition-true-content",e.conditionFalse="data-condition-false-content",e.collection="data-collection",e.collectionItem="data-collection-item",e))(At||{}),w0=(e=>(e.text="text",e.number="number",e.color="color",e.selectFont="selectFont",e.select="select",e.radio="radio",e))(w0||{}),fr=(e=>(e.left="left",e.right="right",e.top="top",e.bottom="bottom",e.center="center",e))(fr||{}),Zr=(e=>(e.popover="popover",e.absolute="absolute",e.static="static",e.dialog="dialog",e))(Zr||{}),Ce=(e=>(e.web="web",e.email="email",e.document="document",e.react="react",e))(Ce||{}),Jt=(e=>(e.components="Components",e.rte="Rich Text Editor",e.canvas="Canvas",e.layout="Layout",e.assetProviders="Asset Providers",e))(Jt||{}),zn=(e=>(e.dark="dark",e.light="light",e.auto="auto",e))(zn||{}),uc=(e=>(e.browser="browser",e.self="self",e.cloud="cloud",e))(uc||{});const Zf=()=>{const{baseApiUrl:e}=Xi();return`${e}/assets/sdk`},l3=e=>`${Zf()}/${e}`,c3=async(e,t,n)=>{const s=await Ms.get(Zf(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((s==null?void 0:s.result)??[]).map(({asset:r,cdnUrl:o})=>({...r,size:parseInt(r.size),src:o}))},u3=async(e,t,n,s)=>{const r=await Ms.post(Zf(),{body:JSON.stringify({fileMetadata:e,projectId:n,identityId:s}),params:{d:window.location.hostname,licenseKey:t}});return r==null?void 0:r.result},d3=async(e,t)=>await Ms.put(t,{body:e,rawText:!0}),p3=async(e,t,n,s)=>Promise.all(e.map(r=>u3({name:r.name,size:r.size,type:r.type},t,n,s).then(async o=>{if(!o)throw new Error("No asset");const{asset:i,cdnUrl:a,uploadUrl:c}=o,u=await d3(r,c);if(u instanceof Error)throw console.error(u),new Error("Upload failed");return{...i,size:parseInt(i.size),src:a,type:jr.image}}))),f3=async(e,t,n,s)=>{const r=await Ms.delete(l3(e),{body:JSON.stringify({projectId:n,identityId:s}),params:{d:window.location.hostname,licenseKey:t}});return r==null?void 0:r.result},Wh=async(e,t,n,s)=>Promise.all(e.map(r=>f3(r.id||r.src,t,n,s)));function qs(e,t,n){let s,r,o,i,a;const c=t===void 0?100:t;function u(){const p=Date.now()-i;p<c&&p>=0?s=setTimeout(u,c-p):(s=null,n||(a=e.apply(o,r),o=r=null))}const d=function(){o=this,r=arguments,i=Date.now();const p=n&&!s;return s||(s=setTimeout(u,c)),p&&(a=e.apply(o,r),o=r=null),a};return d.clear=function(){s&&(clearTimeout(s),s=null)},d.flush=function(){s&&(a=e.apply(o,r),o=r=null,clearTimeout(s),s=null)},d}const ua=e=>e.replaceAll('"',"").replaceAll("'",""),ho=e=>e.includes(",")?e:/\s/.test(e)?`'${ua(e)}'`:ua(e),Gh=(e,t,n)=>({family:e,variant:t,...n}),zi=(e,t)=>{e=ho(e);const{menuVariant:n,variants:s}=t;return{family:e,familyLabel:ua(e),menuVariant:n&&Gh(ho(`menuFont-${ua(e)}`),"regular",n),variants:Object.assign({},...Object.entries(s).map(([r,o])=>({[r]:Gh(e,r,o)})))}},Xf=(e,t)=>{var a;const n=zi(e.family,e),s=n.menuVariant??((a=Object.values(n.variants))==null?void 0:a[0]);if(!s)return"Arial, Helvetica, sans-serif";const{source:r,descriptors:o}=s,i=ua(s.family);if(!t){const c=new FontFace(i,`url("${r}")`,o),u=Array.from(document.fonts.values()).filter(d=>d.family===i);for(const d of u)document.fonts.delete(d);document.fonts.add(c),c.load().catch(()=>{})}return ho(i)},ls=", sans-serif",Kh=["Arial, Helvetica"+ls,"Arial Black, Gadget"+ls,"Brush Script MT"+ls,"Comic Sans MS, cursive"+ls,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+ls,"Impact, Charcoal"+ls,"Lucida Sans Unicode, Lucida Grande"+ls,"Tahoma, Geneva"+ls,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+ls,"Verdana, Geneva"+ls].map(e=>({id:e,label:e.split(",")[0]})),g3=String.raw,Hs=(e,t)=>{if(!t)return"";const n=e[0],s=e[1];return`${n}${t}${s}`},h3=({family:e,source:t,descriptors:n})=>{const{display:s,ascentOverride:r,descentOverride:o,featureSettings:i,lineGapOverride:a,stretch:c,style:u,unicodeRange:d,weight:p}=n??{},g=[Hs`font-ascent-override: ${r};`,Hs`font-display: ${s};`,Hs`font-descent-override: ${o};`,Hs`font-feature-settings: ${i};`,Hs`font-line-gap-override: ${a};`,Hs`font-stretch: ${c};`,Hs`font-style: ${u};`,Hs`font-unicode-range: ${d};`,Hs`font-weight: ${p};`].filter(Boolean);return g3`
    @font-face {
      font-family: ${e};
      src: url('${t}');
      ${g.join(`
`)}
    }
  `},S0=(e={})=>{const t=Object.entries(e).map(([s,r])=>zi(s,r));let n="";for(const s of t)for(const r of Object.values(s.variants))n+=h3(r)+`
`;return n.trim()},gp="data-project-fonts",hp="true",m3=`${gp}="${hp}"`,j0=(e={})=>{const t=S0(e);return t?`<style ${m3}>
${t}
</style>`:""},b3=e=>e.sort((t,n)=>t.familyLabel<n.familyLabel?-1:t.familyLabel>n.familyLabel?1:0),v3=e=>e.sort((t,n)=>t.id<n.id?-1:t.id>n.id?1:0),qh=e=>!!e.id,Ao=e=>t=>(t.tagName||"").toLowerCase()===e,hs=(...e)=>e.map(t=>`[data-gjs-type="${t}"]`).join(","),y3=(e,...t)=>{var n;return t.indexOf((n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase())>=0},Bo=(e,...t)=>{var n;return!!e&&t.indexOf((n=e.tagName)==null?void 0:n.toLowerCase())>=0},Tr=(e,t)=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.contains(t)},za=(e,t)=>{var n;return!!((n=e==null?void 0:e.hasAttribute)!=null&&n.call(e,t))},Ua=(e,t)=>{const n=e.Blocks.get(t);return n?n.collection.indexOf(n):-1},x3=e=>e.replace(/[^a-z0-9.]/gi,"_").toLowerCase(),mp=(e,t,n="html")=>{const{Pages:s}=e,r=en({page:t,key:"slug"})??"";return`${s.getMain()===t?"index":Ic(r||t.getName())}.${n}`},w3=(e,t)=>{const{toolbar:n}=e;n.some(r=>r.id===t.id)||(n.unshift(t),e.set("toolbar",[...n]))},dc="custom-html-body",pc="data-custom-html-body",Yh="data-global-custom-html-head",Zh="data-global-custom-html-body",Xh="global",S3=function(e,t){const n=r=>{if(!r)return e.em.logError("loadGlobalHead: document not found");const o=bp(t.appStore);let i=r.querySelector(`[${Yh}]`);i||(i=r.createElement("div"),i.setAttribute(Yh,"true"),r.head.insertBefore(i,r.head.firstChild));const a=j0(o.fonts),c=o.customCodeHead,u=[a,c].filter(d=>!!d).join(`
`);i.innerHTML=u,uh(i)},s=r=>{if(!r)return e.em.logError("loadGlobalBody: document not found");const o=bp(t.appStore);let i=r.querySelector(`[${Zh}]`);if(!i){i=r.createElement("div"),i.setAttribute(Zh,"true");const a=r.querySelector('[data-gjs-type="wrapper"]');a==null||a.appendChild(i)}i.innerHTML=o.customCodeBody||"",uh(i)};e.on(e.Canvas.events.frameLoad,r=>{var o;return n((o=r.el.contentWindow)==null?void 0:o.document)}),e.on(e.Canvas.events.frameLoadBody,r=>{var o;return s((o=r.el.contentWindow)==null?void 0:o.document)}),e.on(pn.pageSettingsUpdate,r=>{var i,a;if(r.page)return;const o=(a=(i=e.Canvas.getFrames()[0])==null?void 0:i.view)==null?void 0:a.getDoc();n(o),s(o)}),e.Components.addType(dc,{isComponent:r=>za(r,pc),model:{defaults:{attributes:{[pc]:!0},locked:!0,layerable:!1},toHTML:()=>""}}),e.on(e.events.projectLoad,()=>{const{appStore:r}=t,{globalPageSettings:o}=r.projectDataCustom;let i=(o==null?void 0:o.customCodeHead)||"",a=(o==null?void 0:o.customCodeBody)||"";e.Pages.getAll().forEach(c=>{const u=c.getMainComponent(),d=u.head.components(),p=[];d.forEach(m=>{m.has(Xh)&&p.push(m)}),p.forEach(m=>{const b=m.toHTML();i.includes(b)||(i+=b),m.remove()});const g=[];u.findType(dc).forEach(m=>{m.has(Xh)&&g.push(m)}),g.forEach(m=>{const b=m.getInnerHTML();a.includes(b)||(a+=b),m.remove()})}),(i||a)&&r.setProjectDataCustom({globalPageSettings:{...o,customCodeHead:i,customCodeBody:a}})})},da="page://",eu="href-params__",j3=`data-gjs-${eu}`,tu=e=>{var t,n;return(n=(t=e==null?void 0:e.getMainComponent())==null?void 0:t.dataResolverProps)==null?void 0:n.path},nu=e=>!!tu(e),Jh=e=>{const t=e.getDirtyCount()||0;e.em.set({changesCount:t+1},{})},C3=e=>!!(e!=null&&e.Components.getType("mjml")),C0=e=>nu(e)?G.database:Qf(e)?G.home:"",Jf=e=>!!e.getSymbolOverride()?l.jsx(se,{icon:G.rhombusOutline,size:ae.s3x}):l.jsx(of,{className:L("gs-cmp-svg-icon gs-utl-w-[16px] gs-utl-fill-current"),svg:e.getIcon()}),E0=e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})},Qf=e=>{var t;return e&&e===((t=e.em.Pages)==null?void 0:t.getMain())},at={title:({cmp:e})=>e.tagName==="title",favicon:({cmp:e})=>{var t;return e.tagName==="link"&&((t=e.attributes.attributes)==null?void 0:t.rel)==="icon"},description:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="description"},keywords:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="keywords"},socialTitle:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:title"},socialImage:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:image"},socialDescription:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:description"},charset:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.charset)},viewport:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="viewport"},robots:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="robots"},generator:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="generator"}},P0=e=>{for(const t in at){const n=t;if(at[n]({cmp:e}))return n}},T0=(e,t,n)=>{const s=[];let r=n;return e.getMainComponent().findType(dc).forEach(o=>{s.push(o),r=(r||"")+o.getInnerHTML()}),{components:s,html:r,changed:r!==t}},E3=(e,t)=>{const n={...t},s=e.getMainComponent(),{head:r}=s;if(r){const i=[],a=r.components();a.forEach(u=>{at.title({cmp:u})?(u.components(t.title),delete n.title):at.favicon({cmp:u})?(u.addAttributes({href:t.favicon}),delete n.favicon):at.description({cmp:u})?(u.addAttributes({content:t.description}),delete n.description):at.keywords({cmp:u})?(u.addAttributes({content:t.keywords}),delete n.keywords):at.socialTitle({cmp:u})?(u.addAttributes({content:t.socialTitle}),delete n.socialTitle):at.socialDescription({cmp:u})?(u.addAttributes({content:t.socialDescription}),delete n.socialDescription):at.socialImage({cmp:u})?(u.addAttributes({content:t.socialImage}),delete n.socialImage):P0(u)||i.push(u)});const c=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);c.head&&(a.remove(i),c.head.components&&a.add(c.head.components),delete n.customCodeHead)}const o=T0(e,n.customCodeBody);if(o.changed){const[i,...a]=o.components;(i||s.append({type:dc})[0]).components(n.customCodeBody),a.forEach(u=>u.remove()),delete n.customCodeBody}return e.set("settings",n)},P3=(e,t={})=>{var o;const n={...e.get("settings")??{}},s=e.getMainComponent(),{head:r}=s;if(r){const i=[];r.components().forEach(a=>{const{content:c,href:u}=a.getAttributes({noClass:!0,noStyle:!0});at.title({cmp:a})?n.title=a.getInnerHTML():at.favicon({cmp:a})?n.favicon=u:at.description({cmp:a})?n.description=c:at.keywords({cmp:a})?n.keywords=c:at.socialTitle({cmp:a})?n.socialTitle=c:at.socialDescription({cmp:a})?n.socialDescription=c:at.socialImage({cmp:a})?n.socialImage=c:P0(a)||i.push(a.toHTML())}),i.length&&(n.customCodeHead=i.join(`
`))}if(n.customCodeBody=T0(e,n.customCodeBody).html,t.replaceDataSources&&tu(e)){const{currentItem:i}=((o=s.getCollectionsState)==null?void 0:o.call(s))||{};i&&Object.keys(n).forEach(a=>{const c=a,u=n[c];nt(u)&&(n[c]=O0(u,i))})}return n},O0=(e,t)=>e.replace(/\{\{\s*([a-zA-Z0-9_]+)\s*\}\}/g,(n,s)=>{const r=t[s.trim()];return r!==void 0?String(r):""}),_0=(e,t={})=>{const{currentItem:n}=t,s=t.ext??"html",r=en({page:e,key:"slug"})??"",o=n?O0(r,n):r,i=o.lastIndexOf("/"),a=i>=0,c=a?o.substring(i+1):o,u=a?o.substring(0,i):void 0,d=`${Ic(c)}${s?`.${s}`:""}`;return{path:u,filename:d,fullPath:u?`${u}/${d}`:d}},T3=(e,t)=>e.get(`${eu}${t}`)||"",O3=(e,t,n)=>{e.set({[`${eu}${t}`]:n})},_3=(e,t)=>{Object.entries(t).forEach(([n,s])=>{e[`${j3}${n}`]=s})},A3=(e,t)=>{e.getModel().set("customData",{...oi(e),...t})},oi=e=>e.getModel().get("customData")??{},bp=e=>(e==null?void 0:e.projectDataCustom.globalPageSettings)??{},en=e=>{const{page:t,key:n,appEditorStore:s,def:r,defPage:o,opts:i}=e;return t?P3(t,i)[n]??o:bp(s)[n]??r},cr=(e,t,n)=>{const s=e.em.getEditor(),o=oi(s).globalPageSettings||{};return en({page:e,key:t,opts:n})||o[t]},Qh=(e,t)=>{const n=(e==null?void 0:e.getName())??"",s={page:e,appEditorStore:t,def:"",pageDef:""};return{name:n,slug:en({...s,key:"slug",defPage:Ic(n)}),title:en({...s,key:"title",defPage:n}),description:en({...s,key:"description"}),favicon:en({...s,key:"favicon"}),keywords:en({...s,key:"keywords"}),socialTitle:en({...s,key:"socialTitle",defPage:n}),socialImage:en({...s,key:"socialImage"}),socialDescription:en({...s,key:"socialDescription"}),customCodeHead:en({...s,key:"customCodeHead"}),customCodeBody:en({...s,key:"customCodeBody"})}},A0=(e,t)=>{var n;return(n=e.Styles.getSectors().find(s=>!!s.getProperty(t)))==null?void 0:n.getProperty(t)},M3=(e,t,n)=>{const s=A0(e,t);return s==null?void 0:s.getProperty(n)};class em{constructor(t,n){this.assetsStore=t,this.layoutPanelId=n,this.itemLayout=void 0,this.isLoadingAssets=!1,this.typeFilter=void 0,this.searchValue="",this.customTypes=void 0,this.customProviders=void 0,this.providerFilter=void 0,this.customAssetProps=void 0,this.customPages=void 0,this.totalItems=void 0,this.optionalType=!1,this.optionalProvider=!0,nn(this,{},{autoBind:!0}),this.initTypeFilter(),this.initProviderFilter(),this.initOptionalType(),this.loadAssetsDebounced=qs(this.loadAssets,this.searchDebounceMs)}get typeFilterOptions(){return this.customTypes??[]}get providers(){return this.assetsStore.allProviders.map(t=>({...t,types:Array.isArray(t.types)?t.types:[t.types]}))}get providerFilterOptions(){return this.providers.filter(t=>(!this.typeFilter||t.types.includes(this.typeFilter))&&(!this.customProviders||this.customProviders.includes(t.id)))}get provider(){return this.providers.find(t=>t.id===this.providerFilter)}get assetPropsFromPages(){if(!this.customPages)return;const t=[];for(const n of this.customPages)t.push(...n.items);return t}get assetProps(){if(!!!this.assetPropsFromPages&&this.isLoadingAssets)return[];const n=this.customAssetProps??this.assetPropsFromPages??this.assetsStore.projectAssetProps??[];return this.typeFilter?n.filter(s=>s.type===this.typeFilter):n}get onProviderOrProjectDelete(){const{provider:t,assetsStore:n}=this;return t?t.onDelete:n.onProjectDelete}get t(){return this.assetsStore.t}get isLoading(){return this.assetsStore.isLoadingAssets||this.isLoadingAssets}get handleDelete(){return this.onProviderOrProjectDelete&&this.handleDeleteCallback}get shouldLoadNextPage(){var n;const t=(n=this.customPages)==null?void 0:n.at(-1);return t?!t.isLastPage:!1}get reloadOnInput(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.reloadOnInput)??!1}get searchDebounceMs(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.debounceMs)??1e3}initOptionalType(){this.setOptionalType(!1)}initOptionalProvider(){var t;this.setOptionalProvider(!!(((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.projectAssetsOption)??!0))}initTypeFilter(){this.setTypeFilter(jr.image)}initProviderFilter(){var t;this.setProviderFilter((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.providerId)}setOptionalType(t){this.optionalType=t}setOptionalProvider(t){this.optionalProvider=t}setTypeFilter(t){this.typeFilter=t}setProviderFilter(t){this.providerFilter=t}setSearchValue(t){this.searchValue=t,this.reloadOnInput&&this.loadAssetsDebounced()}setCustomTypes(t){this.customTypes=t}setCustomProviders(t){this.customProviders=t}setCustomAssetProps(t){this.customAssetProps=t}setCustomPages(t){this.customPages=t}setItemLayout(t){this.itemLayout=t}setIsLoadingAssets(t){this.isLoadingAssets=t}selectProjectAssets(){this.setCustomAssetProps(void 0),this.setCustomPages(void 0),this.setItemLayout(void 0)}async loadProviderAssets(t){var a,c,u,d;const{assetsStore:n}=this,{editor:s}=n;if(!s||!this.provider)return;t&&(this.setCustomAssetProps(void 0),this.setCustomPages(void 0));const r=((a=this.customPages)==null?void 0:a.length)??0,o=(u=(c=this.customPages)==null?void 0:c.at(-1))==null?void 0:u.nextPageCustomData,i=await this.provider.onLoad({editor:s,assetTypeFilter:this.typeFilter,pageIndex:r,searchValue:this.searchValue,pageCustomData:o})??[];if(Array.isArray(i)){const p=i.map(n.toAssetProps);this.setCustomAssetProps(p)}else{const p={...i,items:i.items.map(n.toAssetProps)};this.setCustomPages([...this.customPages??[],p])}this.setItemLayout((d=this.provider)==null?void 0:d.itemLayout)}async loadAssets(t=!0){const{assetsStore:n}=this,{toastStore:s}=n.store;try{this.provider?(this.setIsLoadingAssets(!0),await this.loadProviderAssets(t)):this.selectProjectAssets()}catch(r){console.error(r),s.addError("assets-error-get",this.t("errorLoad"))}finally{this.setIsLoadingAssets(!1)}}async reloadAssets(t){const{assetsStore:n}=this,{cachedOnLoadAssetProps:s}=n;await this.loadAssets(t==null?void 0:t.clearExisting),!this.provider&&s&&(n.cachedOnLoadAssetProps=void 0,await n.loadProjectAssets())}async handleDeleteCallback(t){const{assetsStore:n,onProviderOrProjectDelete:s}=this,{appEditorStore:r}=n.store,{editor:o}=r;if(!(!o||!s))try{n.setIsLoadingAssets(!0),await s({assets:[n.toAsset(t)],assetProps:[t],editor:o,loadAssets:i=>this.reloadAssets(i)})}catch(i){console.error(i),n.store.toastStore.addError("assets-error-delete",{header:this.t("errorDelete"),content:i==null?void 0:i.message})}finally{n.setIsLoadingAssets(!1)}}}const M0=e=>zt().assetsStore.assetPanelStores[e];class L3{constructor(t){this.store=t,this.isLoadingAssets=!1,this.mainPanelId=`main-${cv()}`,this.assetPanelStores={},this.cachedOnLoadAssetProps=void 0,this.projectAssetProps=void 0,this.allProviders=[],this.assetPanelStores[this.mainPanelId]=new em(this,this.mainPanelId),this.setAllProviders(this.isUsingAssetCloud?[this.userProvider]:[]),nn(this,{},{autoBind:!0})}get sdkAssetConfig(){return this.store.appEditorStore.sdkOptions.assets}get isUsingAssetCloud(){var t;return((t=this.sdkAssetConfig)==null?void 0:t.storageType)===cc.cloud}get storageType(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.storageType}get isSelfStorage(){return this.storageType===cc.self}get editor(){return this.store.appEditorStore.editor}get customOnLoad(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onLoad}get customOnDelete(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onDelete}get customOnUpload(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onUpload}get onCloudOrCustomUpload(){const{appEditorStore:t}=this.store,{sdkProps:n}=t,r=n.options.licenseKey,o=t.sdkProjectId,i=t.sdkIdentityId,a=({files:c})=>p3(c,r,o,i);return this.isUsingAssetCloud?a:this.customOnUpload}get onProjectDelete(){const{customOnDelete:t,isSelfStorage:n,isUsingAssetCloud:s}=this;return n?t?async r=>{await t(r),this.deleteFromProjectAssets(r)}:void 0:s?async r=>{var c,u;const{sdkOptions:o}=this.store.appEditorStore,i=(c=o.project)==null?void 0:c.id,a=(u=o.identity)==null?void 0:u.id;await Wh(r.assetProps,o.licenseKey,i,a),this.deleteFromProjectAssets(r)}:this.deleteFromProjectAssets}get t(){return this.store.i18nStore.tScoped("assetManager")}get userProvider(){var a,c;const{appEditorStore:t}=this.store,{sdkOptions:n}=t,s=(a=n.project)==null?void 0:a.id,r=(c=n.identity)==null?void 0:c.id,o=n.licenseKey;return{id:"grapesjs-user-provider",label:()=>this.t("userAssets"),types:jr.image,onLoad:()=>c3(o,s,r),onDelete:async u=>{const{assetProps:d,loadAssets:p}=u;await Wh(d,o,s,r),this.deleteFromProjectAssets(u),await p({clearExisting:!1})}}}onEditor(){const t=qs(()=>!this.loadProjectAssets()),n=this.store.appEditorStore.editor;this.addSdkProviders();const s=n.Assets.events.all;n.on(s,t),this.loadProjectAssets()}addSdkProviders(){var s;const t=((s=this.sdkAssetConfig)==null?void 0:s.providers)??[],n=Xe(t)?t({providers:vr(this.allProviders)}):[...this.allProviders,...t];this.setAllProviders(n)}addProvider(t,n=this.allProviders.length){const s=[...this.allProviders];let r=this.allProviders.findIndex(i=>i.id===t.id);const o=r!==-1;s.splice(n,0,t),o&&(r>=n&&(r+=1),s.splice(r,1)),this.setAllProviders(s)}hasType(t){return!!this.allProviders.find(n=>nt(n.types)?n.types===t:n.types.includes(t))}createAssetManager(t){const n=new em(this,t);this.assetPanelStores[t]=n}removeAssetManager(t){delete this.assetPanelStores[t]}async loadProjectAssets(){const{editor:t,isSelfStorage:n,cachedOnLoadAssetProps:s,customOnLoad:r}=this,{toastStore:o}=this.store;let i;if(t){try{if(this.setIsLoadingAssets(!0),n&&r)if(s)i=s;else{const a=await r({editor:t});this.cachedOnLoadAssetProps=a.map(this.toAssetProps),i=this.cachedOnLoadAssetProps}else i=t.Assets.getAll().map(this.toAssetProps)}catch(a){console.error(a),o.addError("assets-error-load",{header:this.t("errorLoad"),content:a==null?void 0:a.message})}finally{this.setIsLoadingAssets(!1)}i&&this.setProjectAssetProps(i)}}deleteFromProjectAssets({assets:t,editor:n,assetProps:s}){const{cachedOnLoadAssetProps:r,customOnLoad:o}=this;if(o){if(r){const i=s.map(a=>a.id);this.cachedOnLoadAssetProps=r.filter(({id:a})=>!i.includes(a)),this.setProjectAssetProps(this.cachedOnLoadAssetProps)}}else t.forEach(i=>n.Assets.remove(i)),Jh(n)}addToProjectAssets(t){const n=this.store.appEditorStore.editor,{cachedOnLoadAssetProps:s,customOnLoad:r}=this;r?s&&(this.cachedOnLoadAssetProps=[...t,...s],this.setProjectAssetProps(this.cachedOnLoadAssetProps)):(n.Assets.add(t),Jh(n))}async handleUpload(t){var o,i;const{editor:n,onCloudOrCustomUpload:s}=this,{toastStore:r}=this.store;if(!(!n||!s))try{this.setIsLoadingAssets(!0);const a=((o=t.dataTransfer)==null?void 0:o.files)||((i=t.target)==null?void 0:i.files)||[],c=Array.from(a),u=await s({files:c,editor:n});if(u!=null&&u.length){const d=u.map(this.toAssetProps);return this.addToProjectAssets(d),d}else console.warn("No assets returned from the upload handler. Ensure to return an array of assets.")}catch(a){console.error(a),r.addError("assets-error-upload",{header:this.t("errorUpload"),content:a==null?void 0:a.message})}finally{this.setIsLoadingAssets(!1)}}uploadFile(t){var n;return(n=this.editor)==null?void 0:n.Assets.FileUploader().uploadFile(t)}isAsset(t){return!!t.getSrc}toAssetProps(t){if(this.isAsset(t)){const s=t;return{...s.attributes,id:s.attributes.id||s.getSrc(),src:s.getSrc(),name:s.attributes.name??s.getFilename(),type:s.attributes.type??s.getType()??jr.image,asset:s}}return{...t,type:t.type||jr.image,id:t.id||t.src}}toAsset(t){const{editor:n}=this.store.appEditorStore;if(n)return t.asset??new n.AssetManager.Asset(t)}setProjectAssetProps(t){this.projectAssetProps=t}setIsLoadingAssets(t){this.isLoadingAssets=t}setAllProviders(t){this.allProviders=t}}const So=()=>zt().assetsStore;class N3{constructor(t){var s;this.store=t,this.fonts={},nn(this,{},{autoBind:!0});const n=(s=this.sdkFontOptions)==null?void 0:s.default;this.sdkDefaultFonts=Xe(n)?n({baseDefault:Kh}):n}get staticFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.map(t=>nt(t)?{id:t,label:t}:qh(t)?t:null).filter(t=>!!t):Kh}get defaultWebFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.filter(n=>!nt(n)&&!qh(n)).map(n=>zi(n.family,n)):[]}get sortedFonts(){return b3(Object.values(this.fonts))}get fontFamilyOptions(){const t=n=>({id:n.family,label:n.familyLabel});return v3([...this.staticFonts,...Object.values(this.fonts).map(t)])}get sdkFontOptions(){return this.store.appEditorStore.sdkOptions.fonts}get enableFontManager(){var t;return(t=this.sdkFontOptions)==null?void 0:t.enableFontManager}get sdkShowProjectFonts(){const{showProjectFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Lt(t)?t:n}get sdkAddFonts(){const{addFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Lt(t)?t:n}loadFonts(){this.loadProjectFonts(),this.loadDefaultFonts()}loadProjectFonts(){const{editor:t}=this.store.appEditorStore;if(!t)return;const{globalPageSettings:n}=oi(t)??{},{fonts:s}=n??{};if(s)for(const[r,o]of Object.entries(s)){const i=zi(r,o);this.addFont(i,{skipUpdate:!0})}}loadDefaultFonts(){const{editor:t}=this.store.appEditorStore;if(t)for(const n of this.defaultWebFonts)this.addFont(n,{overwrite:!1,skipUpdate:!0})}getFont(t){return t=ho(t),this.fonts[t]}addFont(t,{skipUpdate:n,overwrite:s=!0}={}){const r=zi(t.family,t),{editor:o}=this.store.appEditorStore;if(!o)return;const{family:i}=r;!s&&this.fonts[i]||(this.fonts[i]=r,n||this.updateProjectFonts(o))}removeFont(t){t=ho(t);const{editor:n}=this.store.appEditorStore;n&&(delete this.fonts[t],this.updateProjectFonts(n))}updateProjectFonts(t){const s={...oi(t).globalPageSettings,fonts:vr(this.fonts)};this.store.appEditorStore.setProjectDataCustom({globalPageSettings:s}),E0(t),t.trigger(pn.pageSettingsUpdate,{data:s})}}const Wa=()=>zt().fontsStore;class k3{constructor(t){this.store=t,nn(this,{},{autoBind:!0})}t(t,n={}){var r;const{editor:s}=this.store.appEditorStore;return((r=s==null?void 0:s.I18n)==null?void 0:r.t(t,n))||""}tScoped(t){return(n,s)=>this.t(`${t}.${n}`,s)}}const je=()=>zt().i18nStore,ln=(e,t)=>f.Children.map(e,n=>n&&n.type===t?n:null),tm="gs-custom-layout",R3=f.forwardRef(function({className:t,component:n,noWrapper:s,id:r,render:o,...i},a){const{editor:c}=ge(),u=f.useRef(null),d=n,p=d&&c?l.jsx(d,{editor:c}):null,g=L(tm,r&&`${tm}__${r}`,t),h=s&&!o;return f.useImperativeHandle(a,()=>u.current,[]),f.useEffect(()=>{const m=u.current;if(!o||!m)return;const b=y=>m.appendChild(y),v=y=>m.removeChild(y),x=o({editor:c,addEl:b,removeEl:v});if(nt(x))m.innerHTML=x;else{if(x instanceof HTMLElement)return b(x),()=>{v(x)};if(Xe(x))return()=>{x()}}},[o,c,u.current]),h?p:l.jsx("div",{className:g,ref:u,...i,children:p})}),fc=oe(R3);class $3{constructor(t){this.customConfig=void 0,this.layouts=[],this.layoutsById=new Map,this.store=t,nn(this,{},{autoBind:!0,deep:!1})}get editor(){return this.store.appEditorStore.editor}setCustomConfig(t){this.customConfig=t}add(t,n){var s;this.get(t)||(this.layouts=[...this.layouts,{id:t,...n}],(s=this.editor)==null||s.trigger(`${pn.layoutToggleId}${t}`,{isOpen:!0}))}remove(t,n){var r;const s=n==null?void 0:n.layout;s&&this.layouts.forEach(o=>{o.id===t&&Object.assign(o,s)}),this.layouts=n!=null&&n.force?this.layouts.filter(o=>o.id!==t):this.layouts.map(o=>o.id===t?{...o,toRemove:!0}:o),(r=this.editor)==null||r.trigger(`${pn.layoutToggleId}${t}`,{isOpen:!1})}get(t){return this.layouts.find(n=>n.id===t)}clear(){this.layouts=[]}get layoutChildren(){var s;const{children:t}=this.store.appEditorStore.sdkProps,n=((s=ln(t,fc))==null?void 0:s.filter(Boolean))||[];return new Map(n.map(({props:r})=>[r.id,r]))}}const eg=()=>zt().layoutStore,I3=()=>vu().layoutStore;class V3{constructor(t){this.isActive=!1,this.content="",this.store=t,nn(this,{},{autoBind:!0})}show(t){this.isActive=!0,this.content=t}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const L0=()=>zt().pointerBadgeStore;var gi=(e=>(e.Projects="projects",e.Settings="settings",e))(gi||{}),N0=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))(N0||{});const nm={},D3=1,H3=(e={})=>new Promise((t,n)=>{const s=(e==null?void 0:e.db)||"gjs",r=s==="gjs-studio"?D3:1,o=nm[s];if(o)t(o);else{if(!Ls())return n(new Error("window context not found"));const i=window.indexedDB.open(s,r);i.onerror=n,i.onsuccess=()=>{const a=i.result;a.onerror=n,nm[s]=a,t(a)},i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains("projects")||a.createObjectStore("projects"),a.objectStoreNames.contains("settings")||a.createObjectStore("settings")}}}),su=async(e,t)=>(await H3(t)).transaction([e],"readwrite").objectStore(e),F3=async(e,t)=>{const n=await su(e,t);return new Promise((s,r)=>{const o=[],i=n.openCursor();i.onerror=r,i.onsuccess=function(a){const u=a.target.result;if(u){const d=u.primaryKey,p=u.value;o.push({key:d,data:p}),u.continue()}else s(o)}})},B3=async(e,t,n)=>{const s=await su(e,n);return new Promise((r,o)=>{const i=s.get(t);i.onerror=o,i.onsuccess=()=>r(i.result)})},k0=async(e,t,n,s)=>{const r=await su(e,s);return new Promise((o,i)=>{const a=r.put(n,t);a.onerror=i,a.onsuccess=()=>o()})},z3=async(e,t,n)=>{const s=await su(e,n);return new Promise((r,o)=>{const i=s.delete(t);i.onerror=o,i.onsuccess=()=>r()})};var pa=(e=>(e.Existing="existing",e.Templates="templates",e))(pa||{});const U3=e=>{const t=AR();return`${(t==null?void 0:t.baseApiUrl)||"/api"}/templates/${e}`},W3=(e,t)=>Ms.get(U3(e),{...t}),G3=async e=>{try{const t=await W3(e);return(t==null?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}},R0=async(e=Ce.web)=>typeof window>"u"?[]:(await F3(gi.Projects)).map(({key:s,data:r})=>{var o;return{id:`${s}`,name:`${((o=r.custom)==null?void 0:o.projectName)||s}`,data:r}}).filter(s=>{var r;return((r=s.data.custom)==null?void 0:r.projectType)===e});class K3{constructor(t){this.store=t,this._projectSourceFilter=pa.Existing,this._loadedProjects=void 0,this._loadedTemplates=void 0,this._projectTypeFilter=t.appEditorStore.projectType,nn(this,{},{autoBind:!0})}get projectTypeFilter(){return this._projectTypeFilter}get projectSourceFilter(){return this._projectSourceFilter}get templates(){return this._loadedTemplates}get projects(){return this._loadedProjects}get filteredTemplates(){return this.projectSourceFilter===pa.Existing?this.projects:this.templates}async loadProjects(){const t=await R0(this.projectTypeFilter);this.setProjects(t)}async loadTemplates(){var r;const t=(r=this.store.appEditorStore.sdkOptions.templates)==null?void 0:r.onLoad,n=async()=>await G3(this.projectTypeFilter);let s;if(t){const o=this.store.appEditorStore.editor;s=await t({editor:o,fetchCommunityTemplates:n})}else s=await n();this.setTemplates(s)}async loadAllTemplates(){await Promise.all([this.loadProjects(),this.loadTemplates()])}async removeProject(t){z3(gi.Projects,t)}async setProjectTypeFilter(t){this._projectTypeFilter=t,this.setProjects(void 0),this.setTemplates(void 0)}setProjectSourceFilter(t){this._projectSourceFilter=t}setTemplates(t){this._loadedTemplates=t}setProjects(t){this._loadedProjects=t}}const $0=()=>zt().templatesStore;class q3{constructor(t){this.toasts=[],this.store=t,nn(this,{},{autoBind:!0})}add(t,n){this.toasts.find(s=>s.id===t)||this.toasts.push({id:t,...n})}addError(t,n){this.add(t,{...nt(n)?{header:n}:n,variant:Kt.Error})}addWarning(t,n){this.add(t,{...nt(n)?{header:n}:n,variant:Kt.Warning})}addSuccess(t,n){this.add(t,{...nt(n)?{header:n}:n,variant:Kt.Success})}addInfo(t,n){this.add(t,{...nt(n)?{header:n}:n,variant:Kt.Info})}remove(t){this.toasts=this.toasts.filter(n=>n.id!==t)}}const I0=()=>zt().toastStore;class Y3{constructor(t){this.isOpen=!1,this.store=t,nn(this,{},{autoBind:!0})}setOpen(t){this.isOpen=t,this.triggerEvent()}toggleOpen(){this.isOpen=!this.isOpen,this.triggerEvent()}triggerEvent(){var t;(t=this.store.appEditorStore.editor)==null||t.trigger(pn.toggleBlocksPanel,{isOpen:this.isOpen})}}const V0=()=>zt().blockManagerStore,D0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Z3=D0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",X3="["+D0+"]["+Z3+"]*",J3=new RegExp("^"+X3+"$");function H0(e,t){const n=[];let s=t.exec(e);for(;s;){const r=[];r.startIndex=t.lastIndex-s[0].length;const o=s.length;for(let i=0;i<o;i++)r.push(s[i]);n.push(r),s=t.exec(e)}return n}const ru=function(e){const t=J3.exec(e);return!(t===null||typeof t>"u")};function Q3(e){return typeof e<"u"}const eA={allowBooleanAttributes:!1,unpairedTags:[]};function tA(e,t){t=Object.assign({},eA,t);const n=[];let s=!1,r=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=rm(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=om(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!cA(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",Ct("InvalidTag",p,Qt(e,o))}const u=rA(e,o);if(u===!1)return Ct("InvalidAttr","Attributes for '"+c+"' have open quote.",Qt(e,o));let d=u.value;if(o=u.index,d[d.length-1]==="/"){const p=o-d.length;d=d.substring(0,d.length-1);const g=im(d,t);if(g===!0)s=!0;else return Ct(g.err.code,g.err.msg,Qt(e,p+g.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return Ct("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Qt(e,i));if(n.length===0)return Ct("InvalidTag","Closing tag '"+c+"' has not been opened.",Qt(e,i));{const p=n.pop();if(c!==p.tagName){let g=Qt(e,p.tagStartPos);return Ct("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+c+"'.",Qt(e,i))}n.length==0&&(r=!0)}}else return Ct("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Qt(e,o));else{const p=im(d,t);if(p!==!0)return Ct(p.err.code,p.err.msg,Qt(e,o-d.length+p.err.line));if(r===!0)return Ct("InvalidXml","Multiple possible root nodes found.",Qt(e,o));t.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:i}),s=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=om(e,o);continue}else if(e[o+1]==="?"){if(o=rm(e,++o),o.err)return o}else break;else if(e[o]==="&"){const p=aA(e,o);if(p==-1)return Ct("InvalidChar","char '&' is not expected.",Qt(e,o));o=p}else if(r===!0&&!sm(e[o]))return Ct("InvalidXml","Extra text at the end",Qt(e,o));e[o]==="<"&&o--}}else{if(sm(e[o]))continue;return Ct("InvalidChar","char '"+e[o]+"' is not expected.",Qt(e,o))}if(s){if(n.length==1)return Ct("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Qt(e,n[0].tagStartPos));if(n.length>0)return Ct("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ct("InvalidXml","Start tag expected.",1);return!0}function sm(e){return e===" "||e==="	"||e===`
`||e==="\r"}function rm(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const s=e.substr(n,t-n);if(t>5&&s==="xml")return Ct("InvalidXml","XML declaration allowed only at the start of the document.",Qt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function om(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const nA='"',sA="'";function rA(e,t){let n="",s="",r=!1;for(;t<e.length;t++){if(e[t]===nA||e[t]===sA)s===""?s=e[t]:s!==e[t]||(s="");else if(e[t]===">"&&s===""){r=!0;break}n+=e[t]}return s!==""?!1:{value:n,index:t,tagClosed:r}}const oA=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function im(e,t){const n=H0(e,oA),s={};for(let r=0;r<n.length;r++){if(n[r][1].length===0)return Ct("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",_i(n[r]));if(n[r][3]!==void 0&&n[r][4]===void 0)return Ct("InvalidAttr","Attribute '"+n[r][2]+"' is without value.",_i(n[r]));if(n[r][3]===void 0&&!t.allowBooleanAttributes)return Ct("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",_i(n[r]));const o=n[r][2];if(!lA(o))return Ct("InvalidAttr","Attribute '"+o+"' is an invalid name.",_i(n[r]));if(!s.hasOwnProperty(o))s[o]=1;else return Ct("InvalidAttr","Attribute '"+o+"' is repeated.",_i(n[r]))}return!0}function iA(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function aA(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,iA(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function Ct(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function lA(e){return ru(e)}function cA(e){return ru(e)}function Qt(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function _i(e){return e.startIndex+e[1].length}const uA={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1},dA=function(e){return Object.assign({},uA,e)};let gc;typeof Symbol!="function"?gc="@@xmlMetadata":gc=Symbol("XML Node Metadata");class Xr{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t,n){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),n!==void 0&&(this.child[this.child.length-1][gc]={startIndex:n})}static getMetaDataSymbol(){return gc}}class pA{constructor(t){this.suppressValidationErr=!t}readDocType(t,n){const s={};if(t[n+3]==="O"&&t[n+4]==="C"&&t[n+5]==="T"&&t[n+6]==="Y"&&t[n+7]==="P"&&t[n+8]==="E"){n=n+9;let r=1,o=!1,i=!1,a="";for(;n<t.length;n++)if(t[n]==="<"&&!i){if(o&&Gr(t,"!ENTITY",n)){n+=7;let c,u;[c,u,n]=this.readEntityExp(t,n+1,this.suppressValidationErr),u.indexOf("&")===-1&&(s[c]={regx:RegExp(`&${c};`,"g"),val:u})}else if(o&&Gr(t,"!ELEMENT",n)){n+=8;const{index:c}=this.readElementExp(t,n+1);n=c}else if(o&&Gr(t,"!ATTLIST",n))n+=8;else if(o&&Gr(t,"!NOTATION",n)){n+=9;const{index:c}=this.readNotationExp(t,n+1,this.suppressValidationErr);n=c}else if(Gr(t,"!--",n))i=!0;else throw new Error("Invalid DOCTYPE");r++,a=""}else if(t[n]===">"){if(i?t[n-1]==="-"&&t[n-2]==="-"&&(i=!1,r--):r--,r===0)break}else t[n]==="["?o=!0:a+=t[n];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:s,i:n}}readEntityExp(t,n){n=rn(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n])&&t[n]!=='"'&&t[n]!=="'";)s+=t[n],n++;if(Ai(s),n=rn(t,n),!this.suppressValidationErr){if(t.substring(n,n+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[n]==="%")throw new Error("Parameter entities are not supported")}let r="";return[n,r]=this.readIdentifierVal(t,n,"entity"),n--,[s,r,n]}readNotationExp(t,n){n=rn(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;!this.suppressValidationErr&&Ai(s),n=rn(t,n);const r=t.substring(n,n+6).toUpperCase();if(!this.suppressValidationErr&&r!=="SYSTEM"&&r!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);n+=r.length,n=rn(t,n);let o=null,i=null;if(r==="PUBLIC")[n,o]=this.readIdentifierVal(t,n,"publicIdentifier"),n=rn(t,n),(t[n]==='"'||t[n]==="'")&&([n,i]=this.readIdentifierVal(t,n,"systemIdentifier"));else if(r==="SYSTEM"&&([n,i]=this.readIdentifierVal(t,n,"systemIdentifier"),!this.suppressValidationErr&&!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:s,publicIdentifier:o,systemIdentifier:i,index:--n}}readIdentifierVal(t,n,s){let r="";const o=t[n];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(n++;n<t.length&&t[n]!==o;)r+=t[n],n++;if(t[n]!==o)throw new Error(`Unterminated ${s} value`);return n++,[n,r]}readElementExp(t,n){n=rn(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;if(!this.suppressValidationErr&&!ru(s))throw new Error(`Invalid element name: "${s}"`);n=rn(t,n);let r="";if(t[n]==="E"&&Gr(t,"MPTY",n))n+=4;else if(t[n]==="A"&&Gr(t,"NY",n))n+=2;else if(t[n]==="("){for(n++;n<t.length&&t[n]!==")";)r+=t[n],n++;if(t[n]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[n]}"`);return{elementName:s,contentModel:r.trim(),index:n}}readAttlistExp(t,n){n=rn(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;Ai(s),n=rn(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;if(!Ai(r))throw new Error(`Invalid attribute name: "${r}"`);n=rn(t,n);let o="";if(t.substring(n,n+8).toUpperCase()==="NOTATION"){if(o="NOTATION",n+=8,n=rn(t,n),t[n]!=="(")throw new Error(`Expected '(', found "${t[n]}"`);n++;let a=[];for(;n<t.length&&t[n]!==")";){let c="";for(;n<t.length&&t[n]!=="|"&&t[n]!==")";)c+=t[n],n++;if(c=c.trim(),!Ai(c))throw new Error(`Invalid notation name: "${c}"`);a.push(c),t[n]==="|"&&(n++,n=rn(t,n))}if(t[n]!==")")throw new Error("Unterminated list of notations");n++,o+=" ("+a.join("|")+")"}else{for(;n<t.length&&!/\s/.test(t[n]);)o+=t[n],n++;const a=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!a.includes(o.toUpperCase()))throw new Error(`Invalid attribute type: "${o}"`)}n=rn(t,n);let i="";return t.substring(n,n+8).toUpperCase()==="#REQUIRED"?(i="#REQUIRED",n+=8):t.substring(n,n+7).toUpperCase()==="#IMPLIED"?(i="#IMPLIED",n+=7):[n,i]=this.readIdentifierVal(t,n,"ATTLIST"),{elementName:s,attributeName:r,attributeType:o,defaultValue:i,index:n}}}const rn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function Gr(e,t,n){for(let s=0;s<t.length;s++)if(t[s]!==e[n+s+1])return!1;return!0}function Ai(e){if(ru(e))return e;throw new Error(`Invalid entity name ${e}`)}const fA=/^[-+]?0x[a-fA-F0-9]+$/,gA=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,hA={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function mA(e,t={}){if(t=Object.assign({},hA,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&fA.test(n))return xA(n,16);if(n.search(/.+[eE].+/)!==-1)return vA(e,n,t);{const s=gA.exec(n);if(s){const r=s[1]||"",o=s[2];let i=yA(s[3]);const a=r?e[o.length+1]===".":e[o.length]===".";if(!t.leadingZeros&&(o.length>1||o.length===1&&!a))return e;{const c=Number(n),u=String(c);if(c===0)return c;if(u.search(/[eE]/)!==-1)return t.eNotation?c:e;if(n.indexOf(".")!==-1)return u==="0"||u===i||u===`${r}${i}`?c:e;let d=o?i:n;return o?d===u||r+d===u?c:e:d===u||d===r+u?c:e}}else return e}}const bA=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function vA(e,t,n){if(!n.eNotation)return e;const s=t.match(bA);if(s){let r=s[1]||"";const o=s[3].indexOf("e")===-1?"E":"e",i=s[2],a=r?e[i.length+1]===o:e[i.length]===o;return i.length>1&&a?e:i.length===1&&(s[3].startsWith(`.${o}`)||s[3][0]===o)?Number(t):n.leadingZeros&&!a?(t=(s[1]||"")+s[3],Number(t)):e}else return e}function yA(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function xA(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function F0(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class wA{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,s)=>String.fromCodePoint(Number.parseInt(s,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,s)=>String.fromCodePoint(Number.parseInt(s,16))}},this.addExternalEntities=SA,this.parseXml=TA,this.parseTextData=jA,this.resolveNameSpace=CA,this.buildAttributesMap=PA,this.isItStopNode=MA,this.replaceEntitiesValue=_A,this.readStopNodeData=NA,this.saveTextToParentTag=AA,this.addChild=OA,this.ignoreAttributesFn=F0(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let n=0;n<this.options.stopNodes.length;n++){const s=this.options.stopNodes[n];typeof s=="string"&&(s.startsWith("*.")?this.stopNodesWildcard.add(s.substring(2)):this.stopNodesExact.add(s))}}}}function SA(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const s=t[n];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:e[s]}}}function jA(e,t,n,s,r,o,i){if(e!==void 0&&(this.options.trimValues&&!s&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,n,r,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?yp(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?yp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function CA(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const EA=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function PA(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const s=H0(e,EA),r=s.length,o={};for(let i=0;i<r;i++){const a=this.resolveNameSpace(s[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=s[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const d=this.options.attributeValueProcessor(a,c,t);d==null?o[u]=c:typeof d!=typeof c||d!==c?o[u]=d:o[u]=yp(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[u]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const i={};return i[this.options.attributesGroupName]=o,i}return o}}const TA=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Xr("!xml");let n=t,s="",r="";const o=new pA(this.options.processEntities);for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){const c=to(e,">",i,"Closing Tag is not closed.");let u=e.substring(i+2,c).trim();if(this.options.removeNSPrefix){const g=u.indexOf(":");g!==-1&&(u=u.substr(g+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&(s=this.saveTextToParentTag(s,n,r));const d=r.substring(r.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let p=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(p=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=r.lastIndexOf("."),r=r.substring(0,p),n=this.tagsNodeStack.pop(),s="",i=c}else if(e[i+1]==="?"){let c=vp(e,i,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,n,r),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){const u=new Xr(c.tagName);u.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(u[":@"]=this.buildAttributesMap(c.tagExp,r,c.tagName)),this.addChild(n,u,r,i)}i=c.closeIndex+1}else if(e.substr(i+1,3)==="!--"){const c=to(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(i+4,c-2);s=this.saveTextToParentTag(s,n,r),n.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}i=c}else if(e.substr(i+1,2)==="!D"){const c=o.readDocType(e,i);this.docTypeEntities=c.entities,i=c.i}else if(e.substr(i+1,2)==="!["){const c=to(e,"]]>",i,"CDATA is not closed.")-2,u=e.substring(i+9,c);s=this.saveTextToParentTag(s,n,r);let d=this.parseTextData(u,n.tagname,r,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):n.add(this.options.textNodeName,d),i=c+2}else{let c=vp(e,i,this.options.removeNSPrefix),u=c.tagName;const d=c.rawTagName;let p=c.tagExp,g=c.attrExpPresent,h=c.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&s&&n.tagname!=="!xml"&&(s=this.saveTextToParentTag(s,n,r,!1));const m=n;m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(n=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),u!==t.tagname&&(r+=r?"."+u:u);const b=i;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,r,u)){let v="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),r=r.substr(0,r.length-1),p=u):p=p.substr(0,p.length-1),i=c.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)i=c.closeIndex;else{const y=this.readStopNodeData(e,d,h+1);if(!y)throw new Error(`Unexpected end of ${d}`);i=y.i,v=y.tagContent}const x=new Xr(u);u!==p&&g&&(x[":@"]=this.buildAttributesMap(p,r,u)),v&&(v=this.parseTextData(v,u,r,!0,g,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),x.add(this.options.textNodeName,v),this.addChild(n,x,r,b)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),r=r.substr(0,r.length-1),p=u):p=p.substr(0,p.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const v=new Xr(u);u!==p&&g&&(v[":@"]=this.buildAttributesMap(p,r,u)),this.addChild(n,v,r,b),r=r.substr(0,r.lastIndexOf("."))}else{const v=new Xr(u);this.tagsNodeStack.push(n),u!==p&&g&&(v[":@"]=this.buildAttributesMap(p,r,u)),this.addChild(n,v,r,b),n=v}s="",i=h}}else s+=e[i];return t.child};function OA(e,t,n,s){this.options.captureMetaData||(s=void 0);const r=this.options.updateTag(t.tagname,n,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t,s))}const _A=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function AA(e,t,n,s){return e&&(s===void 0&&(s=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,s),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function MA(e,t,n,s){return!!(t&&t.has(s)||e&&e.has(n))}function LA(e,t,n=">"){let s,r="";for(let o=t;o<e.length;o++){let i=e[o];if(s)i===s&&(s="");else if(i==='"'||i==="'")s=i;else if(i===n[0])if(n[1]){if(e[o+1]===n[1])return{data:r,index:o}}else return{data:r,index:o};else i==="	"&&(i=" ");r+=i}}function to(e,t,n,s){const r=e.indexOf(t,n);if(r===-1)throw new Error(s);return r+t.length-1}function vp(e,t,n,s=">"){const r=LA(e,t+1,s);if(!r)return;let o=r.data;const i=r.index,a=o.search(/\s/);let c=o,u=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());const d=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),u=c!==r.data.substr(p+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u,rawTagName:d}}function NA(e,t,n){const s=n;let r=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const o=to(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(r--,r===0))return{tagContent:e.substring(s,n),i:o};n=o}else if(e[n+1]==="?")n=to(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=to(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=to(e,"]]>",n,"StopNode is not closed.")-2;else{const o=vp(e,n,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&r++,n=o.closeIndex)}}function yp(e,t,n){if(t&&typeof e=="string"){const s=e.trim();return s==="true"?!0:s==="false"?!1:mA(e,n)}else return Q3(e)?e:""}const ed=Xr.getMetaDataSymbol();function kA(e,t){return B0(e,t)}function B0(e,t,n){let s;const r={};for(let o=0;o<e.length;o++){const i=e[o],a=RA(i);let c="";if(n===void 0?c=a:c=n+"."+a,a===t.textNodeName)s===void 0?s=i[a]:s+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=B0(i[a],t,c);const d=IA(u,t);i[ed]!==void 0&&(u[ed]=i[ed]),i[":@"]?$A(u,i[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),r[a]!==void 0&&r.hasOwnProperty(a)?(Array.isArray(r[a])||(r[a]=[r[a]]),r[a].push(u)):t.isArray(a,c,d)?r[a]=[u]:r[a]=u}}}return typeof s=="string"?s.length>0&&(r[t.textNodeName]=s):s!==void 0&&(r[t.textNodeName]=s),r}function RA(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const s=t[n];if(s!==":@")return s}}function $A(e,t,n,s){if(t){const r=Object.keys(t),o=r.length;for(let i=0;i<o;i++){const a=r[i];s.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function IA(e,t){const{textNodeName:n}=t,s=Object.keys(e).length;return!!(s===0||s===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class VA{constructor(t){this.externalEntities={},this.options=dA(t)}parse(t,n){if(typeof t!="string"&&t.toString)t=t.toString();else if(typeof t!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const o=tA(t,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const s=new wA(this.options);s.addExternalEntities(this.externalEntities);const r=s.parseXml(t);return this.options.preserveOrder||r===void 0?r:kA(r,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}static getMetaDataSymbol(){return Xr.getMetaDataSymbol()}}const DA=`
`;function HA(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=DA),z0(e,t,"",n)}function z0(e,t,n,s){let r="",o=!1;for(let i=0;i<e.length;i++){const a=e[i],c=FA(a);if(c===void 0)continue;let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===t.textNodeName){let m=a[c];BA(u,t)||(m=t.tagValueProcessor(c,m),m=U0(m,t)),o&&(r+=s),r+=m,o=!1;continue}else if(c===t.cdataPropName){o&&(r+=s),r+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,o=!1;continue}else if(c===t.commentPropName){r+=s+`<!--${a[c][0][t.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){const m=am(a[":@"],t),b=c==="?xml"?"":s;let v=a[c][0][t.textNodeName];v=v.length!==0?" "+v:"",r+=b+`<${c}${v}${m}?>`,o=!0;continue}let d=s;d!==""&&(d+=t.indentBy);const p=am(a[":@"],t),g=s+`<${c}${p}`,h=z0(a[c],t,u,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?r+=g+">":r+=g+"/>":(!h||h.length===0)&&t.suppressEmptyNode?r+=g+"/>":h&&h.endsWith(">")?r+=g+`>${h}${s}</${c}>`:(r+=g+">",h&&s!==""&&(h.includes("/>")||h.includes("</"))?r+=s+t.indentBy+h+s:r+=h,r+=`</${c}>`),o=!0}return r}function FA(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const s=t[n];if(e.hasOwnProperty(s)&&s!==":@")return s}}function am(e,t){let n="";if(e&&!t.ignoreAttributes)for(let s in e){if(!e.hasOwnProperty(s))continue;let r=t.attributeValueProcessor(s,e[s]);r=U0(r,t),r===!0&&t.suppressBooleanAttributes?n+=` ${s.substr(t.attributeNamePrefix.length)}`:n+=` ${s.substr(t.attributeNamePrefix.length)}="${r}"`}return n}function BA(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let s in t.stopNodes)if(t.stopNodes[s]===e||t.stopNodes[s]==="*."+n)return!0;return!1}function U0(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const s=t.entities[n];e=e.replace(s.regex,s.val)}return e}const zA={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ir(e){this.options=Object.assign({},zA,e),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=F0(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=GA),this.processTextOrObjNode=UA,this.options.format?(this.indentate=WA,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ir.prototype.build=function(e){return this.options.preserveOrder?HA(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)};Ir.prototype.j2x=function(e,t,n){let s="",r="";const o=n.join(".");for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(typeof e[i]>"u")this.isAttribute(i)&&(r+="");else if(e[i]===null)this.isAttribute(i)||i===this.options.cdataPropName?r+="":i[0]==="?"?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const a=this.isAttribute(i);if(a&&!this.ignoreAttributesFn(a,o))s+=this.buildAttrPairStr(a,""+e[i]);else if(!a)if(i===this.options.textNodeName){let c=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(c)}else r+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const a=e[i].length;let c="",u="";for(let d=0;d<a;d++){const p=e[i][d];if(!(typeof p>"u"))if(p===null)i[0]==="?"?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const g=this.j2x(p,t+1,n.concat(i));c+=g.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(u+=g.attrStr)}else c+=this.processTextOrObjNode(p,i,t,n);else if(this.options.oneListGroup){let g=this.options.tagValueProcessor(i,p);g=this.replaceEntitiesValue(g),c+=g}else c+=this.buildTextValNode(p,i,"",t)}this.options.oneListGroup&&(c=this.buildObjectNode(c,i,u,t)),r+=c}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const a=Object.keys(e[i]),c=a.length;for(let u=0;u<c;u++)s+=this.buildAttrPairStr(a[u],""+e[i][a[u]])}else r+=this.processTextOrObjNode(e[i],i,t,n);return{attrStr:s,val:r}};Ir.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function UA(e,t,n,s){const r=this.j2x(e,n+1,s.concat(t));return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}Ir.prototype.buildObjectNode=function(e,t,n,s){if(e==="")return t[0]==="?"?this.indentate(s)+"<"+t+n+"?"+this.tagEndChar:this.indentate(s)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let r="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",r=""),(n||n==="")&&e.indexOf("<")===-1?this.indentate(s)+"<"+t+n+o+">"+e+r:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(s)+`<!--${e}-->`+this.newLine:this.indentate(s)+"<"+t+n+o+this.tagEndChar+e+this.indentate(s)+r}};Ir.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ir.prototype.buildTextValNode=function(e,t,n,s){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(s)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(s)+"<"+t+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(t,e);return r=this.replaceEntitiesValue(r),r===""?this.indentate(s)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(s)+"<"+t+n+">"+r+"</"+t+this.tagEndChar}};Ir.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function WA(e){return this.options.indentBy.repeat(e)}function GA(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}const ou="mjml-code-to-html";function W0(e,t){const n=t==null?void 0:t.sanitizer;if(Xe(n))return n(e);if(n==="xml-sanitizer"){const p=e.replace(/(<[a-zA-Z!/])|</g,(C,P)=>P??"&lt;").replace(/&(?!#?\w+;)/g,"&amp;"),g=["br","hr"],h=new Set(g),m=C=>{const P=[];for(const O of C){const T=Object.keys(O).find(E=>E!==":@");if(T&&h.has(T)){const E=O[T];Array.isArray(E)&&E.length>0?(P.push({...O,[T]:[]}),P.push(...m(E))):P.push(O)}else T&&Array.isArray(O[T])?P.push({...O,[T]:m(O[T])}):P.push(O)}return P},b={commentPropName:"#comment",unpairedTags:g,suppressUnpairedNode:!1,ignoreAttributes:!1,preserveOrder:!0},v=new VA({...b,htmlEntities:!0,trimValues:!1,alwaysCreateTextNode:!0,allowBooleanAttributes:!0}),x=new Ir({...b}),S=v.parse(`<root>${p}</root>`)[0].root,w=m(S);return x.build(w)}function s(p){const g=document.createElement("textarea");return g.innerHTML=p,g.value}const r=s(e||""),o=["checked","disabled","readonly","required","autofocus","multiple","selected","hidden","async","defer","formnovalidate","novalidate","ismap","allowfullscreen","autoplay","controls","loop","muted","open","reversed","scoped","seamless","typemustmatch","default","full-width","crossorigin"],i={crossorigin:"anonymous","full-width":"true"},a=new RegExp(`\\s+(${o.join("|")})(?=\\s|\\/?>)`,"gi");return r.replace(/<[^>]+>/g,p=>p.replace(a,(g,h)=>{const m=i[h]??h;return` ${h}="${m}"`})).replace(/(\s[\w:-]+=\s*)("[^"]*"|'[^']*')/g,(p,g,h)=>{const m=h.slice(1,-1).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return`${g}"${m}"`}).replace(/&(?!#?\w+;)/g,(p,g,h)=>g>0&&h[g-1]==="&"?p:"&amp;").replace(/(<[a-zA-Z!/])|</g,(p,g)=>g??"&lt;")}var fa=(e=>(e.root="mjml",e.head="mj-head",e.body="mj-body",e.include="mj-include",e))(fa||{}),tg=(e=>(e.attributes="mj-attributes",e.breakpoint="mj-breakpoint",e.font="mj-font",e.htmlAttributes="mj-html-attributes",e.preview="mj-preview",e.style="mj-style",e.title="mj-title",e.class="mj-class",e.all="mj-all",e))(tg||{}),G0=(e=>(e.accordion="mj-accordion",e.accordionElement="mj-accordion-element",e.accordionTitle="mj-accordion-title",e.accordionText="mj-accordion-text",e.button="mj-button",e.carousel="mj-carousel",e.carouselImage="mj-carousel-image",e.column="mj-column",e.divider="mj-divider",e.group="mj-group",e.hero="mj-hero",e.image="mj-image",e.navbar="mj-navbar",e.navbarLink="mj-navbar-link",e.raw="mj-raw",e.section="mj-section",e.social="mj-social",e.socialElement="mj-social-element",e.spacer="mj-spacer",e.table="mj-table",e.text="mj-text",e.wrapper="mj-wrapper",e))(G0||{}),jo=(e=>(e.globalStyles="globalStyles",e.globalData="globalData",e))(jo||{});function KA(e){const t=new Map,n={items:[]};return e.forEach(r=>{const{category:o,item:i}=r;if(o){const a=t.get(o.id);a?(a.items.push(i),a.category={...a.category,...o}):t.set(o.id,{category:o,items:[i]})}else n.items.push(i)}),[...Array.from(t).map(([,r])=>r),n].filter(r=>r.items.length)}const K0=e=>(e==null?void 0:e.get("groups"))||[],q0=(e,t)=>K0(e).includes(t),qA=(e,t)=>{q0(e,t)||e.set("groups",[...K0(e),t])};class YA{constructor(t){this.dataSourceKeyid=jo.globalStyles,this.records=[],this.openCategories=new Map,this.store=t,nn(this,{openCategories:!1},{autoBind:!0})}get sdkOptionStyles(){var t;return((t=this.store.appEditorStore.sdkOptions.globalStyles)==null?void 0:t.default)||[]}get editor(){return this.store.appEditorStore.editor}get DataSources(){var t;return(t=this.editor)==null?void 0:t.DataSources}get recordsByCategory(){const{records:t,sdkOptionStyles:n}=this,s=[],r=t.reduce((o,i)=>(o.set(i.get("id"),i),o),new Map);return n.forEach(({id:o})=>{const i=r.get(o);i&&(s.push(i),r.delete(o))}),Array.from(r).map(([,o])=>{o.get("_internal")||s.push(o)}),KA(s.map(o=>({category:o.get("category"),item:o})))}setCategoryOpen(t,n){this.openCategories.set(t,n)}getDataSource(){var t;return(t=this.DataSources)==null?void 0:t.get(this.dataSourceKeyid)}getRuleByGroup(t){var n;return(n=this.editor)==null?void 0:n.CssComposer.getAll().find(s=>q0(s,t))}addStyleRule(t,n={}){var p,g;const{editor:s}=this,r=t.get("id"),o=t.get("selector")||"",i=t.get("property"),a=t.getPath("value"),c=`${this.dataSourceKeyid}:${r}`,u={[i]:{type:"data-variable",path:a,defaultValue:t.get("defaultValue")}};if(s&&z2(s)&&o.startsWith("mj-")){const h=s.Components.getWrapper(),{head:m}=fa,{attributes:b}=tg,v=h.findFirstType(fa.root),x=v.findFirstType(m)||v.append({type:m},{at:0})[0],y=x.findFirstType(b)||x.append({type:b})[0],S=y.findType(o).pop()||y.append({type:o})[0],w=(S.get("attributes")||{})[i];Lt(w)&&w!==""&&t.set("value",w),S.addAttributes(u,{silent:!0});return}let d=((g=(p=n.selectorToRuleMap)==null?void 0:p.get(o))==null?void 0:g.rule)||this.getRuleByGroup(c);d?d.addStyle(u):d=s==null?void 0:s.CssComposer.addCollection([{selectors:[],selectorsAdd:o,style:u}],{extend:!0,at:t.index})[0],d&&qA(d,c)}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}onLoad(){var o,i;const{sdkOptionStyles:t}=this,n=new Map,s=(o=this.editor)==null?void 0:o.Css;if(!t.length){this.records=[];return}const r=this.getDataSource()||this.createDataSource();t.forEach(a=>{const{id:c,selector:u,label:d,field:p,property:g,category:h}=a,m=r.getRecord(c);if(m){const b={label:d,field:p,category:h};m.set({...b,_undo:!0})}else{const b=n.get(u),v=(b==null?void 0:b.rule)||(s==null?void 0:s.getRule(u)),x=(b==null?void 0:b.styles)||(v==null?void 0:v.getStyle())||{},y=x[g]||a.defaultValue;n.set(u,{rule:v,styles:x}),r.addRecord({value:void 0,...a,defaultValue:y,_internal:!0,_undo:!0})}}),r.getRecords().forEach(a=>{this.addStyleRule(a,{selectorToRuleMap:n})}),r.listenTo(r.records,"add",a=>{this.addStyleRule(a)}),(i=this.editor)==null||i.UndoManager.add(r.records),this.records=r.getRecords()}}const ZA=()=>zt().globalStylesStore,Y0=(e,t)=>{let n;try{const s=Ls()&&e&&localStorage.getItem(e);s&&(n=JSON.parse(s))}catch(s){console.error(s)}return{lastProjectId:"",...t,...n}},lm=(e,t)=>{const s={...Y0(e),...t};try{Ls()&&e&&localStorage.setItem(e,JSON.stringify(s))}catch(r){console.error(r)}return s},xp="gs-utl-dark",XA=()=>Ls()&&window.matchMedia("(prefers-color-scheme: dark)").matches,Z0=e=>e==="dark"||e==="auto"&&XA(),cm=(e,t)=>{if(e&&Ls()&&t.rootEl){const{classList:n}=t.rootEl;let s=!1;if(Z0(e)?(n.add(xp),s=!0):n.remove(xp),t.updateAppShell){const r=document.head.querySelector('meta[name="theme-color"]');r&&(r.content=s?"#18181b":"#ffffff")}t.resolvedTheme=s?zn.dark:zn.light}};class JA{constructor(t){this.key="",this.theme=zn.auto,this.resolvedTheme=zn.light,this.lastProjectId="",this.updateAppShell=!1,this.rootEl=void 0,t&&Object.keys(t).forEach(n=>{const s=n,r=t[s];r!==void 0&&(this[s]=r)}),this.resolvedTheme=this.theme,nn(this,{},{autoBind:!0}),this.init()}init(){cm(this.theme,this)}changeTheme(t){cm(t,this),lm(this.key,{theme:t})}setTheme(t){this.theme=t}setRootEl(t){this.rootEl=t}setLocalState(t){Object.keys(t).forEach(n=>{const s=n,r=t[s];r!==void 0&&(this[s]=r)}),lm(this.key,t)}get isDarkTheme(){return Z0(this.theme)}}const QA=e=>{Ub(()=>e.theme,t=>{e.changeTheme(t)})},gn=()=>zt().localSettingsStore;class e4{constructor(t){this.isOpen=!1,this.title="",this.content="",this.size="l",this.fullH=!1,this.modalProps={},this.buttons=[],this.store=t,nn(this,{},{autoBind:!0})}setModalProps(t){this.modalProps={title:"",size:"l",fullH:!1,buttons:[],...t}}open({content:t,...n}){this.isOpen=!0,this.content=t,this.setModalProps(n)}close(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.content="",this.setModalProps({size:this.modalProps.size})}confirm({content:t,size:n="m",onConfirm:s,confirmButton:r,...o}){this.isOpen=!0,this.content=t;const i=()=>{s==null||s(),this.close()};this.setModalProps({...o,size:n,buttons:[{children:"Cancel",onClick:this.close,size:"m2"},{children:"Confirm",onClick:i,size:"m2",variant:"pr",...r}]})}}const ks=()=>zt().modalStore,t4={add:"Add",delete:"Delete",duplicate:"Duplicate",rename:"Rename",remove:"Remove",clear:"Clear",select:"Select",selectList:"Select from the list",search:"Search",update:"Update",updated:"Updated!",confirm:"Confirm",cancel:"Cancel",enable:"Enable",disable:"Disable",upload:"Upload",close:"Close",load:"Load",copy:"Copy",save:"Save",current:"Current",toggleCss:"Toggle CSS",selectTarget:"Target Component",noCode:"No code available",noItems:"No items found",confirmAction:"Do you confirm this action?",eyeDropper:"Eyedropper",noEyeDropper:"Eyedropper not supported",unauthorized:"Unauthorized project",notItemsFound:"No items found",actions:{componentOutline:{title:"Component outline"},preview:{title:"Preview"},fullscreen:{title:"Fullscreen"},showCode:{title:"Code",exportButton:"Export to ZIP"},undo:{title:"Undo"},redo:{title:"Redo"},save:{title:"Save project"},store:{title:"Save content"},open:{title:"Open project"},importCode:{title:"Import code",parseError:"Parser error",content:"Paste here your HTML/CSS and click Import",button:"Import"},clearCanvas:{title:"Clear page",content:"Are you sure you want to clear the page?"},about:{title:"About"},embed:{title:"Embed Studio"},newProject:{title:"Load project"},installApp:{title:"Install App",installed:"App installed"}},modals:{styleCatalog:{title:"Style Catalog",noStyles:"No styles found"},openProject:{title:"Open project"}},pluginManager:{plugins:"Plugins",all:"Available",installed:"Installed",install:"Install",uninstall:"Uninstall",allPlugins:"All plugins",updateStudio:"Restart Studio for plugin updates"},globalStyleManager:{notFound:"No global styles found",globalStyles:"Global Styles"},pageManager:{pages:"Pages",page:"Page",newPage:"New Page",add:"Add page",rename:"Rename",duplicate:"Duplicate",copy:"Copy",delete:"Delete",deletePage:"Delete Page",confirmDelete:"Are you sure you want to delete the page?",homePage:"Home page",settings:{label:"Settings",title:"Page settings",global:"Global settings",fields:{name:{label:"Name"},slug:{label:"Slug",description:"The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."},favicon:{label:"Favicon",description:"The favicon is the small icon that appears in the browser tab."},title:{label:"Title",description:"The title is the name of the page that appears in the browser tab."},description:{label:"Description",description:"The description is a short summary of the page content."},keywords:{label:"Keywords",description:"Keywords are words or phrases that describe the content of the page."},socialTitle:{label:"Social title",description:"The title is the name of the page that appears on social networks."},socialImage:{label:"Social image",description:"The image is the picture that appears on social networks."},socialDescription:{label:"Social description",description:"The description is a short summary of the page content that appears on social networks."},customCodeHead:{label:"Custom HTML head",description:"Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."},customCodeBody:{label:"Custom HTML body",description:"Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."}}}},projectManager:{existentProjects:"Your projects",templates:"Templates",notAvailable:"No projects available",projectType:"Project type",projectName:"Project name",pages:"Pages"},templates:{notFound:"No templates found"},storageManager:{errorLoad:"Failed to load the project",errorStore:"Failed to save the project"},assetManager:{addUrl:"Add URL",projectAssets:"Assets in this project",userAssets:"Assets from all projects",errorLoad:"Failed to load assets",errorUpload:"Failed to upload",errorDelete:"Failed to delete",deleteConfirmQuestion:"Delete asset?",deleteConfirmExplanation:"This will affect existing and published projects that rely on this asset, if any exist.",assetTypes:{all:"All",image:"Images"},noProvider:"Project assets"},fontManager:{addFontToProject:"Add font to project",projectFonts:"Project fonts",emptyProjectFonts:"There are no fonts in this project.",selectFont:"Select a font"},blockManager:{notFound:"No blocks found",blocks:"Blocks",add:"Add more blocks",search:"Search...",labels:{section:"Section",column1:"1 Column",column2:"2 Columns",column3:"3 Columns","column3-7":"2 Columns 3/7",gridRow:"Grid",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"},categories:{},types:{regular:"Regular",symbols:"Symbols"},symbols:{notFound:"No symbols found",instancesProject:"Instance/s in the project",delete:"Delete symbol",deleteConfirm:"Are you sure you want to delete the symbol? All instances inside the project will be detached."}},domComponents:{names:{section:"Section",gridRow:"Row",gridColumn:"Column",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"}},traitManager:{empty:"Select a component to see its properties",panelLabel:"Properties",traits:{labels:{loading:"Lazy load",target:"Open in new tab",showList:"Show element list",customAttributes:"Custom Attributes"},attributes:{}}},deviceManager:{allDevices:"All devices"},selectorManager:{noSelecton:"You don't have any selected element.",selectFromCanvas:"Select an element from the canvas.",selectFromList:"Pick any style from the Style Catalog.",selectCustom:"Add your custom style selector.",selection:"Selection",selector:"Selector",addNewSelector:"Add new selector",removeSelector:"Remove selector",target:"Target",device:"Device",state:"State",deleteStyle:"Delete style",showCSS:"Show CSS code",searchStyle:"Search style",applyOnSelector:"Apply style changes on Selectors",noSelectors:"No Selectors applied",applyOnComponents:"Apply style changes on Components",noComponents:"No Components selected",currentSelection:"The current selection from which styles are displayed of"},layerManager:{layers:"Layers"},dataSources:{confirm:"Confirm",clearDataValue:"Clear data value",connectDataValue:"Connect data value",variable:"Variable",defaultValue:"Default value",variablePath:"Variable path",selectVariablePath:"Select variable path",openPathExplorer:"Open path explorer",closePathExplorer:"Close path explorer",toggleResolvedPath:"Toggle resolved path",items:"{length} item/s",properties:"{length} propertie/s",editVariable:"Edit variable",editCondition:"Edit condition",editCollection:"Edit collection",condition:"Condition",conditionTrue:"True condition",conditionFalse:"False condition",conditionAnd:"AND",conditionOr:"OR",conditionElse:"Else",addCondition:"Add condition",deleteCondition:"Delete condition",operator:"Operator",leftValue:"Left value",rightValue:"Right value",ifTrue:"Value if true",ifFalse:"Value if false",valueTrue:"True",valueFalse:"False",collection:"Collection",collectionItem:"Collection item",collectionId:"Collection ID",collectionStartIndex:"Start index",collectionEndIndex:"End index",collectionUpToEndIndex:"All",collections:{__rootData:"Page data"},variableTypes:{currentItem:"Current item",prevItem:"Previous item",nextItem:"Next item"},operators:{"=":"= (Equals)","!=":"!= (Not equals)",">":"> (Greater than)",">=":">= (Greater than or equals)","<":"< (Less than)","<=":"<= (Less than or equals)",contains:"Contains",startsWith:"Starts with",endsWith:"Ends with",matchesRegex:"Matches regex",equalsIgnoreCase:"Equals (ignore case)",trimEquals:"Trimmed equals",and:"AND",or:"OR",xor:"XOR",equals:"Equals",isDefined:"Is defined",isNull:"Is null",isUndefined:"Is undefined",isTruthy:"Is truthy",isFalsy:"Is falsy",isDefaultValue:"Is default value",isArray:"Is array",isObject:"Is object",isString:"Is string",isNumber:"Is number",isBoolean:"Is boolean"}},styleManager:{panelLabel:"Styles",layout:{flexChild:"Flex child",display:{tips:{block:"Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",inline:"Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.","inline-block":"Inline-block is similar to inline but allows to define width and height properties.",flex:"Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",none:"The element is hidden from the layout"}},direction:{title:{row:"Horizontal","row-reverse":"Horizontal reversed",column:"Vertical","column-reverse":"Vertical reversed"}}},position:{tips:{static:"Default position",relative:"Similar to Static but with the ability to be moved relative to itself",absolute:"Absolute position, relative to its closest non-static parent",fixed:"Fixed position (even when the page is scrolled), relative to the browser viewport",sticky:"Elements are keept in place but moved when the page is scrolled, based on indicated distance"},presets:{title:"Presets",options:{topLeft:"Top left",topRight:"Top right",bottomLeft:"Bottom left",bottomRight:"Bottom right",left:"Left",right:"Right",bottom:"Bottom",top:"Top",full:"Full"}}},properties:{"margin-top":"Top","margin-right":"Right","margin-bottom":"Bottom","margin-left":"Left","padding-top":"Top","padding-right":"Right","padding-bottom":"Bottom","padding-left":"Left","border-top-left-radius":"Top Left","border-top-right-radius":"Top Right","border-bottom-right-radius":"Bottom Right","border-bottom-left-radius":"Bottom Left","mix-blend-mode":"Blend mode","transform-style":"Type","backface-visibility":"Backface","perspective-origin":"Perspective origin","perspective-origin-x":"Left","perspective-origin-y":"Top","transform-origin-x":"Left","transform-origin-y":"Top","align-items":"Align","align-self":"Align","justify-content":"Justify","row-gap":"Row","column-gap":"Column","font-family":"Font","font-size":"Size","font-weight":"Weight","letter-spacing":"Spacing","text-align":"Align","text-decoration":"Decoration","text-transform":"Transform","white-space":"Breaking","border-top-width":"Top","border-right-width":"Right","border-bottom-width":"Bottom","border-left-width":"Left","border-top-style":"Top","border-right-style":"Right","border-bottom-style":"Bottom","border-left-style":"Left","border-top-color":"Top","border-right-color":"Right","border-bottom-color":"Bottom","border-left-color":"Left","background-position":"Position","background-position-x":"Left","background-position-y":"Top","background-size":"Size","background-size-x":"Left","background-size-y":"Top","background-repeat":"Repeat","background-attachment":"Attachment","background-origin":"Origin","background-clip":"Clip","overflow-x":"X","overflow-y":"Y"},options:{"__background-type":{image:"Image",gradient:"Gradient",color:"Color"},display:{block:"Block",inline:"Inline","inline-block":"Inline block",flex:"Flex",none:"None"},overflow:{visible:"Visible",hidden:"Hidden",scroll:"Scroll",auto:"Auto"},"flex-wrap":{nowrap:"No wrap",wrap:"Wrap","wrap-reverse":"Reverse wrap"}}}},um="column1",dm="column2",pm="column3",wp="column3-7",n4=function(e,t={}){const{Components:n,Blocks:s}=e,r="gridRow",o="gridColumn",i="gjs-grid-row",a="gjs-grid-column",c={tl:0,tc:0,tr:0,cl:0,bl:0,br:0},u="flex-basis",d=1,p=1,g=1;n.addType(r,{isComponent:v=>Tr(v,i),model:{defaults:{emptyState:!0,droppable:hs(o),highlightable:!1,attributes:{class:i},resizable:{...c,keyHeight:"min-height"},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,"stylable-require":["flex-align-items","flex-align-items-v","flex-direction-id","flex-multiline"],traits:["id","title",{name:"add-column",labelButton:"Add column",type:"button",full:!0,command:v=>{v.getSelected().components().add({type:o})}}],styles:`
            .${i} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${i} {
                flex-direction: column;
              }
            }
          `}}}),n.addType(o,{isComponent:v=>Tr(v,a),model:{defaults:{emptyState:!0,attributes:{class:a},draggable:hs(r),resizable:{...c,bc:0,keyWidth:u,currentUnit:g,minDim:d,step:p},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,unstylable:["width"],"stylable-require":["flex-basis","flex-item-behaviour","flex-item-h-align","flex-order"],traits:[{label:"Center content",name:"center-content",type:"checkbox",changeProp:!0}],styles:`
            .${a} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `},init(){this.listenTo(this,"change:center-content",this.handleCenter)},handleCenter(){const v=this.get("center-content");this.addStyle({display:v?"flex":"block","align-items":v?"center":"","justify-content":v?"center":""})}}});const h={label:r,content:{type:r,components:[{type:o},{type:o},{type:o}]},...t.block},m={merge:!0},b=v=>{var x;return((x=s.get(v))==null?void 0:x.category)||h.category};s.add(um,{...h,category:b(um),content:{type:r,components:[{type:o}]}},m),s.add(dm,{...h,category:b(dm),content:{type:r,components:[{type:o},{type:o}]}},m),s.add(pm,{...h,category:b(pm),content:{type:r,components:[{type:o},{type:o},{type:o}]}},m),s.add(wp,{...h,category:b(wp),content:{type:r,components:[{type:o,style:{"flex-basis":"30%","flex-grow":0}},{type:o}]}},m)},Ri="section",td="container",nd="gjs-section",sd="gjs-container",s4=function(e,t={}){const{Components:n,Blocks:s}=e;s.add(Ri,{label:Ri,media:`
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,content:{type:Ri},...t.block},{at:Ua(e,wp)+1}),n.addType(Ri,{isComponent:r=>Tr(r,nd),model:{defaults:{tagName:"section",emptyState:!0,draggable:hs("wrapper"),droppable:hs(td),attributes:{class:nd},components:{type:td},styles:`
            .${nd} {
              display: flex;
              padding: 50px 0;
            }
          `}}}),n.addType(td,{isComponent:r=>Tr(r,sd),model:{defaults:{emptyState:!0,copyable:!1,removable:!1,draggable:!1,attributes:{class:sd},styles:`
            .${sd} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `}}})},r4=function(e,t={}){const{Components:n,Blocks:s}=e,r="divider",o="gjs-divider";s.add(r,{label:r,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,content:{type:r},...t.block},{at:Ua(e,Ri)+1}),n.addType(r,{isComponent:i=>Tr(i,o),model:{defaults:{droppable:!1,highlightable:!1,attributes:{class:o},stylable:["height","width","background-color","margin","margin-top","margin-right","margin-bottom","margin-left"],styles:`
            .${o} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `}}})},o4=function(e){const{Components:t,Blocks:n}=e,r=t.getType("wrapper").model.getDefaults(),o=t.getType("head").model;t.addType("wrapper",{model:{defaults:{emptyState:{styleIn:"height: 100vh",styleOut:"padding: 0;"},stylable:[...r.stylable,"padding","font-family","color","font-size","font-weight","line-height","letter-spacing","text-align","vertical-align","text-decoration","text-transform","direction","white-space"]}}}),t.addType("head",{model:{components(u,d){return o.prototype.components.call(this,u,{...d,skipDomReset:!0})}},view:{updateContent(){}}}),t.addType("text",{model:{defaults:{highlightable:!1,emptyState:{styleIn:"min-height: auto; font-size: inherit;"}}}}),t.addType("image",{model:{defaults:{traits:[{type:"image",name:"src",label:"Image",changeProp:!0,typeProps:{inputField:!0}},"alt",{type:"checkbox",name:"loading",valueTrue:"lazy"}]}}});const a=t.getType("link").model;a.typeExtends.add("text"),t.addType("link",{model:{defaults:{emptyState:!0,traits:["title",{type:"checkbox",name:"target",valueTrue:"_blank"},{type:"href",name:"href"}]},getAttrToHTML(){const u=a.prototype.getAttrToHTML.apply(this),{href:d}=u;if(d&&d.startsWith(da)){const p=d.replace(da,""),g=e.Pages.get(p);if(u.href=g?`./${mp(e,g)}`:"##",g&&nu(g)){const h={id:T3(this,"id")},m=_0(g,{currentItem:h});u.href=m.fullPath,_3(u,{...h,page:p})}}return u}}}),n.add("link",{label:"Link",content:{type:"link",content:"Link",style:{color:"#d983a6",padding:"10px"}}},{merge:!0}),t.addType("select",{model:{defaults:{traits:[{name:"name"},{type:"checkbox",name:"required"},{name:"options",type:"stack",getValue({component:u}){return u.components().map(d=>({id:d.getAttributes().value||"",label:d.getInnerHTML()}))},setValue:({component:u,value:d,emitUpdate:p})=>{u.components(d.map(g=>({type:"option",content:g.label,attributes:{value:g.id}}))),p()},properties:[{name:"id"},{name:"label"}]}]}}});const c="contentEditable";t.addType(c,{extend:"text",model:{defaults:{name:"Content",tagName:"span",hoverable:!1,draggable:!1,selectable:!1},toHTML(u){return this.getInnerHTML(u)}},view:{onRender(){this.el.style.display="contents"}}}),t.addType("button",{model:{defaults:{components:[{type:c,components:{type:"textnode",content:"Button"}}],traits:[{type:"select",name:"type",options:[{id:"button",label:"Button"},{id:"submit",label:"Submit"},{id:"reset",label:"Reset"}]}]},init(){var d;const u=[...this.components().models];(u.length>1||!((d=u[0])!=null&&d.is(c)))&&this.append({type:c})[0].append(u)}}})},i4=function(e,t={}){const{Components:n,Blocks:s}=e,r="heading";s.add(r,{label:r,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,content:{type:r,components:"Insert your text here"},...t.block},{at:Ua(e,"text")}),n.addType(r,{extend:"text",isComponent:o=>y3(o,"H1","H2","H3","H4","H5","H6"),model:{defaults:{emptyState:!0,tagName:"h1",traits:[{type:"select",options:[{value:"h1",name:"One (largest)"},{value:"h2",name:"Two"},{value:"h3",name:"Three"},{value:"h4",name:"Four"},{value:"h5",name:"Five"},{value:"h6",name:"Six (smallest)"}],label:"Size",name:"tagName",changeProp:!0}]}}})},a4=function(e,t={}){const{Components:n,Blocks:s}=e,r=e.Components.getType("default").model,o="imageBox",i="gjs-image-box";s.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,content:{type:o},...t.block},{at:Ua(e,"image")+1}),n.addType(o,{extend:"image",isComponent:a=>Tr(a,i),model:{defaults:{tagName:"div",void:!1,droppable:!0,emptyState:!1,resizable:{tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0},traits:["title"],attributes:{class:i},styles:`
            .${i} {
              height: 200px;
              width: 100%;
            }
          `},getAttrToHTML(...a){return r.prototype.getAttrToHTML.apply(this,a)}},view:{tagName:"div",updateSrc(){const{model:a,em:c}=this,u=a.getSrcResult(),d=a.isDefaultSrc(),p=a.getStyle(),g=`url('${u}')`;u&&a.addStyle({"background-image":d&&p["background-image"]||g,"background-size":p["background-size"]||"contain","background-position":p["background-position"]||"center center","background-attachment":p["background-attachment"]||"scroll","background-repeat":p["background-repeat"]||"no-repeat"}),u&&c.trigger("component:toggled"),this.$el[u?"removeClass":"addClass"](this.classEmpty)},onRender(){this.renderChildren(),this.updateSrc()}}})},l4=function(e,t={}){const{Components:n,Blocks:s}=e,r="linkBox",o="gjs-link-box";s.add(r,{label:r,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,content:{type:r},...t.block},{at:Ua(e,"link")+1}),n.addType(r,{isComponent:i=>Tr(i,o),extend:"link",model:{defaults:{editable:!1,droppable:!0,attributes:{class:o},styles:`
            .${o} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `}}})},fm=e=>{const t=(e||"").split(" ");let n=t[0],s=t[0],r=t[0],o=t[0];return t.length===4?(n=t[0],s=t[1],r=t[2],o=t[3]):t.length===3?(n=t[0],s=t[1],o=t[1],r=t[2]):t.length===2&&(n=t[0],s=t[1],o=t[1],r=t[0]),[n,s,r,o]};function c4(e){const t={};if(e.padding){const n=e.padding.split(" ");let s=n[0],r=n[0],o=n[0],i=n[0];n.length===4?(s=n[0],r=n[1],o=n[2],i=n[3]):n.length===3?(s=n[0],r=n[1],i=n[1],o=n[2]):n.length===2&&(s=n[0],r=n[1],i=n[1],o=n[0]),t["padding-top"]=e["padding-top"]||s,t["padding-right"]=e["padding-right"]||r,t["padding-bottom"]=e["padding-bottom"]||o,t["padding-left"]=e["padding-left"]||i,delete e.padding}return{...e,...t}}const u4={ratioDefault:!0,tc:!1,cl:!1,cr:!1,bc:!1},gm=`<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`,d4=function(e,t={}){const{Components:n,Blocks:s}=e,r="icon",o="gjs-icon",i="data-type-icon";s.add(r,{label:"Icon",media:gm,content:{type:r},...t.block}),n.addType(r,{isComponent:a=>Tr(a,o)||za(a,i),model:{defaults:{droppable:!1,attributes:{class:o,[i]:!0},resizable:u4,components:gm,traits:["id","title",{type:"code",label:"Content",typeProps:{language:"html",clean:!0,padding:5},getValue({component:a}){return a.getInnerHTML()},setValue:qs(({editor:a,component:c,value:u})=>{const d=a.Parser.parseHtml(u).html,p=Array.isArray(d)?d[0]:d;p&&p.tagName==="svg"&&c.components(p)},500)}],styles:`
            .${o} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `},init(){this.listenTo(this.components(),"change add",this.disableLayers),this.disableLayers()},disableLayers(){this.components().forEach(a=>a.set("layerable",!1))}},view:{init(){const{model:a}=this;this.listenTo(a.components(),"change",this.disableChildren)},onRender(){this.disableChildren()},disableChildren(){this.model.components().forEach(a=>{var u;const c=(u=a.view)==null?void 0:u.el;c&&(c.style.pointerEvents="none")})}}})},rd="__nc",p4=e=>{const t=e.getAttributes({noClass:!0,noStyle:!0});return e.traits.forEach(n=>{const s=n.getName();n.get("changeProp")||delete t[s]}),delete t.id,delete t.__p,t};function f4(e){const{Components:t}=e,n=s=>{const{model:r,id:o}=s,i=r.getDefaults();t.addType(o,{model:{defaults:{traits:[...i.traits,{name:"customAttributes",type:"stack",getValue({component:a}){const c=p4(a);return Object.keys(c).map(d=>({id:d,value:c[d]}))},setValue:({component:a,value:c,options:u,emitUpdate:d})=>{const p=u.removed,g=u.previous,h=u.item;if(p)a.removeAttributes(p.id);else{g&&h&&g.id!==h.id&&a.removeAttributes(g.id);const m=c.reduce((b,v)=>(b[v.id]=v.value||"",b),{});a.addAttributes(m)}d()},addItem:()=>({id:rd,value:!1}),labelItem:a=>a.id===rd||!a.id&&!a.value?"- Empty -":`${a.id||""}="${a.value||""}"`,properties:[{name:"id",label:"Name",getValue:a=>a===rd?"":a,setValue:(a,c)=>a.trim().toLowerCase().replace(/^[^a-z]{1}/gi,"_").replace(/\s+/g,"-")||c},{name:"value",label:"Value",getValue:a=>typeof a=="boolean"?"":a}]}]}}})};t.getTypes().forEach(n)}const g4="Basic";function od(e,t){const{appStore:n}=t;e.Css.getConfig().onBeforeStyle=c4;const s=e.Parser.getConfig().optionsHtml;s.htmlType="text/html";const r=n.sdkOptions.pages||{};(Lt(r.allowDocuments)?r.allowDocuments:!0)&&(s.detectDocument=!0,s.allowScripts=!0),e.Components.addType("trait-check",{model:{defaults:{traits:["id","title",{type:"select",name:"select-type",options:[{id:"value1",label:"Value 1"},{id:"value2",label:"Value 2"},{id:"value3",label:"Value 3"}]},{type:"number",name:"number-type",units:["px","rem","%"]},{type:"checkbox",name:"checkbox-type"},{type:"color",name:"color-type"},{type:"button",name:"button-type",label:"Delete",command:"core:component-delete"}]}}});const i={category:g4,select:!0,activate:!0};S3(e,t),o4(e),n4(e,{block:i}),i4(e,{block:i}),s4(e,{block:i}),r4(e,{block:i}),a4(e,{block:i}),l4(e,{block:i}),d4(e,{block:i}),f4(e)}function X0(e){const{code:t,appStore:n,showToastError:s}=e,{appEditorStore:r,toastStore:o,i18nStore:i}=n.store,{isProjectTypeEmail:a,editor:c}=r,u=(t||"").trim(),d=new DOMParser,p={input:t,output:"",error:""};let g="";try{if(a){const h=(c==null?void 0:c.Parser.config.optionsHtml)||{},m=h.codeSanitizer,b=W0(u,{sanitizer:m});if(h.htmlType==="text/xml"){const x=d.parseFromString(`<div>${b}</div>`,"text/xml").querySelector("parsererror div");p.error=(x==null?void 0:x.textContent)||""}m&&(c==null||c.runCommand(ou,{mjml:b})),g=b}else{const h=d.parseFromString(u,"text/html");J0(h.documentElement);const m=h.querySelectorAll("style"),b=[];m.forEach(x=>b.push(x.innerHTML));const v=b.filter(Boolean).join(`
`).trim();v&&(c==null||c.Parser.parserCss.parse(v,{throwOnError:!0}))}}catch(h){p.error=h.message}return p.error?s&&o.addError("error-parser",{header:i.t("actions.importCode.parseError"),content:p.error}):p.output=g||u,p}function J0(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return;const t=Array.from(e.attributes),n=Array.from(e.children);for(const s of t)e.setAttribute(s.name,s.value);for(const s of n)J0(s)}function h4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(n),!0).forEach(function(s){h4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function m4(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,o;for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function b4(e,t){if(e==null)return{};var n=m4(e,t),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function v4(e,t){return y4(e)||x4(e,t)||w4(e,t)||S4()}function y4(e){if(Array.isArray(e))return e}function x4(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,r=!1,o=void 0;try{for(var i=e[Symbol.iterator](),a;!(s=(a=i.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){r=!0,o=c}finally{try{!s&&i.return!=null&&i.return()}finally{if(r)throw o}}return n}}function w4(e,t){if(e){if(typeof e=="string")return bm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bm(e,t)}}function bm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function S4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(n),!0).forEach(function(s){j4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function C4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return t.reduceRight(function(r,o){return o(r)},s)}}function $i(e){return function t(){for(var n=this,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return r.length>=e.length?e.apply(this,r):function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t.apply(n,[].concat(r,a))}}}function hc(e){return{}.toString.call(e).includes("Object")}function E4(e){return!Object.keys(e).length}function ga(e){return typeof e=="function"}function P4(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T4(e,t){return hc(t)||Cr("changeType"),Object.keys(t).some(function(n){return!P4(e,n)})&&Cr("changeField"),t}function O4(e){ga(e)||Cr("selectorType")}function _4(e){ga(e)||hc(e)||Cr("handlerType"),hc(e)&&Object.values(e).some(function(t){return!ga(t)})&&Cr("handlersType")}function A4(e){e||Cr("initialIsRequired"),hc(e)||Cr("initialType"),E4(e)&&Cr("initialContent")}function M4(e,t){throw new Error(e[t]||e.default)}var L4={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Cr=$i(M4)(L4),dl={changes:T4,selector:O4,handler:_4,initial:A4};function N4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dl.initial(e),dl.handler(t);var n={current:e},s=$i($4)(n,t),r=$i(R4)(n),o=$i(dl.changes)(e),i=$i(k4)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return dl.selector(u),u(n.current)}function c(u){C4(s,r,o,i)(u)}return[a,c]}function k4(e,t){return ga(t)?t(e.current):t}function R4(e,t){return e.current=ym(ym({},e.current),t),t}function $4(e,t,n){return ga(t)?t(e.current):Object.keys(n).forEach(function(s){var r;return(r=t[s])===null||r===void 0?void 0:r.call(t,e.current[s])}),n}var I4={create:N4},V4={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function D4(e){return function t(){for(var n=this,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return r.length>=e.length?e.apply(this,r):function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t.apply(n,[].concat(r,a))}}}function H4(e){return{}.toString.call(e).includes("Object")}function F4(e){return e||xm("configIsRequired"),H4(e)||xm("configType"),e.urls?(B4(),{paths:{vs:e.urls.monacoBase}}):e}function B4(){console.warn(Q0.deprecation)}function z4(e,t){throw new Error(e[t]||e.default)}var Q0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},xm=D4(z4)(Q0),U4={config:F4},W4=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return function(r){return n.reduceRight(function(o,i){return i(o)},r)}};function ey(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],ey(e[n],t[n]))}),mm(mm({},e),t)}var G4={type:"cancelation",msg:"operation is manually canceled"};function id(e){var t=!1,n=new Promise(function(s,r){e.then(function(o){return t?r(G4):s(o)}),e.catch(r)});return n.cancel=function(){return t=!0},n}var K4=I4.create({config:V4,isInitialized:!1,resolve:null,reject:null,monaco:null}),ty=v4(K4,2),Ga=ty[0],iu=ty[1];function q4(e){var t=U4.config(e),n=t.monaco,s=b4(t,["monaco"]);iu(function(r){return{config:ey(r.config,s),monaco:n}})}function Y4(){var e=Ga(function(t){var n=t.monaco,s=t.isInitialized,r=t.resolve;return{monaco:n,isInitialized:s,resolve:r}});if(!e.isInitialized){if(iu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),id(ad);if(window.monaco&&window.monaco.editor)return ny(window.monaco),e.resolve(window.monaco),id(ad);W4(Z4,J4)(Q4)}return id(ad)}function Z4(e){return document.body.appendChild(e)}function X4(e){var t=document.createElement("script");return e&&(t.src=e),t}function J4(e){var t=Ga(function(s){var r=s.config,o=s.reject;return{config:r,reject:o}}),n=X4("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Q4(){var e=Ga(function(n){var s=n.config,r=n.resolve,o=n.reject;return{config:s,resolve:r,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){ny(n),e.resolve(n)},function(n){e.reject(n)})}function ny(e){Ga().monaco||iu({monaco:e})}function eM(){return Ga(function(e){var t=e.monaco;return t})}var ad=new Promise(function(e,t){return iu({resolve:e,reject:t})}),sy={config:q4,init:Y4,__getMonacoInstance:eM},tM={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ld=tM,nM={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},sM=nM;function rM({children:e}){return f.createElement("div",{style:sM.container},e)}var oM=rM,iM=oM;function aM({width:e,height:t,isEditorReady:n,loading:s,_ref:r,className:o,wrapperProps:i}){return f.createElement("section",{style:{...ld.wrapper,width:e,height:t},...i},!n&&f.createElement(iM,null,s),f.createElement("div",{ref:r,style:{...ld.fullWidth,...!n&&ld.hide},className:o}))}var lM=aM,ry=f.memo(lM);function cM(e){f.useEffect(e,[])}var oy=cM;function uM(e,t,n=!0){let s=f.useRef(!0);f.useEffect(s.current||!n?()=>{s.current=!1}:e,t)}var vn=uM;function Ui(){}function Vo(e,t,n,s){return dM(e,s)||pM(e,t,n,s)}function dM(e,t){return e.editor.getModel(iy(e,t))}function pM(e,t,n,s){return e.editor.createModel(t,n,s?iy(e,s):void 0)}function iy(e,t){return e.Uri.parse(t)}function fM({original:e,modified:t,language:n,originalLanguage:s,modifiedLanguage:r,originalModelPath:o,modifiedModelPath:i,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:p={},height:g="100%",width:h="100%",className:m,wrapperProps:b={},beforeMount:v=Ui,onMount:x=Ui}){let[y,S]=f.useState(!1),[w,j]=f.useState(!0),C=f.useRef(null),P=f.useRef(null),O=f.useRef(null),T=f.useRef(x),E=f.useRef(v),A=f.useRef(!1);oy(()=>{let M=sy.init();return M.then(H=>(P.current=H)&&j(!1)).catch(H=>(H==null?void 0:H.type)!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>C.current?V():M.cancel()}),vn(()=>{if(C.current&&P.current){let M=C.current.getOriginalEditor(),H=Vo(P.current,e||"",s||n||"text",o||"");H!==M.getModel()&&M.setModel(H)}},[o],y),vn(()=>{if(C.current&&P.current){let M=C.current.getModifiedEditor(),H=Vo(P.current,t||"",r||n||"text",i||"");H!==M.getModel()&&M.setModel(H)}},[i],y),vn(()=>{let M=C.current.getModifiedEditor();M.getOption(P.current.editor.EditorOption.readOnly)?M.setValue(t||""):t!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[t],y),vn(()=>{var M,H;(H=(M=C.current)==null?void 0:M.getModel())==null||H.original.setValue(e||"")},[e],y),vn(()=>{let{original:M,modified:H}=C.current.getModel();P.current.editor.setModelLanguage(M,s||n||"text"),P.current.editor.setModelLanguage(H,r||n||"text")},[n,s,r],y),vn(()=>{var M;(M=P.current)==null||M.editor.setTheme(u)},[u],y),vn(()=>{var M;(M=C.current)==null||M.updateOptions(p)},[p],y);let _=f.useCallback(()=>{var U;if(!P.current)return;E.current(P.current);let M=Vo(P.current,e||"",s||n||"text",o||""),H=Vo(P.current,t||"",r||n||"text",i||"");(U=C.current)==null||U.setModel({original:M,modified:H})},[n,t,r,e,s,o,i]),N=f.useCallback(()=>{var M;!A.current&&O.current&&(C.current=P.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...p}),_(),(M=P.current)==null||M.editor.setTheme(u),S(!0),A.current=!0)},[p,u,_]);f.useEffect(()=>{y&&T.current(C.current,P.current)},[y]),f.useEffect(()=>{!w&&!y&&N()},[w,y,N]);function V(){var H,U,B,k;let M=(H=C.current)==null?void 0:H.getModel();a||((U=M==null?void 0:M.original)==null||U.dispose()),c||((B=M==null?void 0:M.modified)==null||B.dispose()),(k=C.current)==null||k.dispose()}return f.createElement(ry,{width:h,height:g,isEditorReady:y,loading:d,_ref:O,className:m,wrapperProps:b})}var gM=fM;f.memo(gM);function hM(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var mM=hM,pl=new Map;function bM({defaultValue:e,defaultLanguage:t,defaultPath:n,value:s,language:r,path:o,theme:i="light",line:a,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:p=!0,keepCurrentModel:g=!1,width:h="100%",height:m="100%",className:b,wrapperProps:v={},beforeMount:x=Ui,onMount:y=Ui,onChange:S,onValidate:w=Ui}){let[j,C]=f.useState(!1),[P,O]=f.useState(!0),T=f.useRef(null),E=f.useRef(null),A=f.useRef(null),_=f.useRef(y),N=f.useRef(x),V=f.useRef(),M=f.useRef(s),H=mM(o),U=f.useRef(!1),B=f.useRef(!1);oy(()=>{let $=sy.init();return $.then(z=>(T.current=z)&&O(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>E.current?D():$.cancel()}),vn(()=>{var z,J,Y,Q;let $=Vo(T.current,e||s||"",t||r||"",o||n||"");$!==((z=E.current)==null?void 0:z.getModel())&&(p&&pl.set(H,(J=E.current)==null?void 0:J.saveViewState()),(Y=E.current)==null||Y.setModel($),p&&((Q=E.current)==null||Q.restoreViewState(pl.get(o))))},[o],j),vn(()=>{var $;($=E.current)==null||$.updateOptions(u)},[u],j),vn(()=>{!E.current||s===void 0||(E.current.getOption(T.current.editor.EditorOption.readOnly)?E.current.setValue(s):s!==E.current.getValue()&&(B.current=!0,E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),E.current.pushUndoStop(),B.current=!1))},[s],j),vn(()=>{var z,J;let $=(z=E.current)==null?void 0:z.getModel();$&&r&&((J=T.current)==null||J.editor.setModelLanguage($,r))},[r],j),vn(()=>{var $;a!==void 0&&(($=E.current)==null||$.revealLine(a))},[a],j),vn(()=>{var $;($=T.current)==null||$.editor.setTheme(i)},[i],j);let k=f.useCallback(()=>{var $;if(!(!A.current||!T.current)&&!U.current){N.current(T.current);let z=o||n,J=Vo(T.current,s||e||"",t||r||"",z||"");E.current=($=T.current)==null?void 0:$.editor.create(A.current,{model:J,automaticLayout:!0,...u},d),p&&E.current.restoreViewState(pl.get(z)),T.current.editor.setTheme(i),a!==void 0&&E.current.revealLine(a),C(!0),U.current=!0}},[e,t,n,s,r,o,u,d,p,i,a]);f.useEffect(()=>{j&&_.current(E.current,T.current)},[j]),f.useEffect(()=>{!P&&!j&&k()},[P,j,k]),M.current=s,f.useEffect(()=>{var $,z;j&&S&&(($=V.current)==null||$.dispose(),V.current=(z=E.current)==null?void 0:z.onDidChangeModelContent(J=>{B.current||S(E.current.getValue(),J)}))},[j,S]),f.useEffect(()=>{if(j){let $=T.current.editor.onDidChangeMarkers(z=>{var Y;let J=(Y=E.current.getModel())==null?void 0:Y.uri;if(J&&z.find(Q=>Q.path===J.path)){let Q=T.current.editor.getModelMarkers({resource:J});w==null||w(Q)}});return()=>{$==null||$.dispose()}}return()=>{}},[j,w]);function D(){var $,z;($=V.current)==null||$.dispose(),g?p&&pl.set(o,E.current.saveViewState()):(z=E.current.getModel())==null||z.dispose(),E.current.dispose()}return f.createElement(ry,{width:h,height:m,isEditorReady:j,loading:c,_ref:A,className:b,wrapperProps:v})}var vM=bM,yM=f.memo(vM),xM=yM;const ay=e=>{var t;(t=e.getAction("editor.action.formatDocument"))==null||t.run()},wM="gs-field-code",SM={minimap:{enabled:!1},lineNumbers:"off",scrollBeyondLastLine:!1,contextmenu:!1,fixedOverflowWidgets:!0,showFoldingControls:"always",suggestOnTriggerCharacters:!1,lineDecorationsWidth:0,renderLineHighlight:"none",wordWrapOverride1:"off",tabSize:2,scrollbar:{verticalScrollbarSize:8,horizontal:"hidden",alwaysConsumeMouseWheel:!1}};function nr(e){const{defaultValue:t,value:n,language:s,onChange:r,clean:o,padding:i,isDarkTheme:a,className:c,containerClassName:u,minHeight:d="170px",onMount:p,readOnly:g,name:h,required:m,disabled:b,formatOnMount:v=!0,monacoOptions:x,labelAs:y}=e,S=n!==void 0,w=s,j=S?n:t,C=typeof j=="string"?j:JSON.stringify(j??"",null,2),P=$r({...e,className:L(wM,"gs-utl-flex gs-utl-h-full",u,!e.row&&"gs-utl-flex gs-utl-flex-col")}),O=L("gs-utl-relative gs-utl-flex-grow");return l.jsxs("div",{...P,children:[l.jsx(os,{...e,as:y}),l.jsxs("div",{className:O,style:{minHeight:d},children:[h&&l.jsx("input",{className:Le.hiddenVisually,name:h,value:C,disabled:b,required:m,onChange:()=>{}}),l.jsx("div",{className:L("gs-utl-absolute gs-utl-inset-0",b&&Le.disabled),children:l.jsx(xM,{...S?{language:w,value:C}:{defaultLanguage:w,defaultValue:C},theme:a?"vs-dark":"light",className:L(re.b,re.rnd,F.br,c),options:{...SM,readOnly:g,...o&&{domReadOnly:!0,overviewRulerLanes:0,selectOnLineNumbers:!1,folding:!1,matchBrackets:"never",guides:{indentation:!1}},...Lt(i)&&{lineDecorationsWidth:i*2,padding:{top:i,bottom:i}},...x},onChange:r,onMount:(T,E)=>{if(v){let A=!1;const _=()=>ay(T);T.onDidChangeModelLanguageConfiguration(_),T.onDidScrollChange(()=>{A||(A=!0,_())}),setTimeout(_,10)}p==null||p(T,E)}})})]})]})}const ly=oe(function({buttonProps:t,content:n,code:s,onAction:r}){const o=ks(),i=je(),a=ge(),{isProjectTypeEmail:c}=a,u=a.editor,{isDarkTheme:d}=gn(),[p,g]=f.useState(),h=()=>{let b=(p||"").trim();const v=X0({code:b,appStore:a,showToastError:!0});if(!v.error)b=v.output;else return;r?r(b):c?u.loadProjectData({pages:[{component:b}]}):u.setComponents(b),o.close()};f.useEffect(()=>{s?g(s):(async()=>{var w,j;const v=await u.runCommand(ce.projectFiles,{page:u.Pages.getSelected(),skipProject:!0,styles:"inline"}),x=(w=v.find(C=>C.mimeType==="text/html"))==null?void 0:w.content,y=(j=v.find(C=>C.mimeType==="text/mjml"))==null?void 0:j.content,S=c?y:x;S&&g(S)})()},[]);const m=(t==null?void 0:t.children)||i.t("actions.importCode.button");return l.jsxs(R,{col:!0,space:"m",children:[l.jsx(I,{children:n??i.t("actions.importCode.content")}),l.jsx(I,{className:W("h-96"),children:p!==void 0&&l.jsx(nr,{defaultValue:p,onChange:b=>g(b||""),isDarkTheme:d,language:"html"})}),l.jsx(R,{justify:"end",children:l.jsx(ze,{size:"m2",variant:"pr",onClick:h,...t,children:m})})]})}),Sp="data-type-empty",wm=(e,t)=>{e.Canvas.getFrames().forEach(n=>{const{view:s}=n,r=Array.from(s.getDoc().querySelectorAll(`style[${Sp}]`));for(const o of r)o.disabled=!t})},jM=(e,t,n="Empty",s={})=>{const r=`[${Sp}="${t}"]`;if(!e.frameView.getDoc())return;const o=e.frameView.getHead(),{midSelector:i="",styleOut:a="",styleIn:c=""}=s;if(!o.querySelector(`style${r}`)){const u=document.createElement("style");u.setAttribute(Sp,t),u.innerHTML=`
    [data-gjs-type="${t}"]${i}:empty {
      text-decoration: none;
      padding: 5px;
      ${s.limitW?"min-width: 50px;":""}
      ${a}
    }
    [data-gjs-type="${t}"]${i}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${s.limitH?"height: auto;":""}
      ${s.smallH?"min-height: 30px;":""}
      ${c}
    }`,o.appendChild(u)}},cy=(e,t)=>{const{model:n}=t,s=n.constructor.getDefaults(),r=s.emptyState,o=n.get("type");if(!r||s.void===!0||o!==e)return;const i=r===!0?{}:r;jM(t,o,n.getName({noCustom:!0}),i)},CM=function(t){const{Components:n}=t,s=r=>{const{id:o}=r;n.addType(o,{extendFnView:["onRender"],view:{onRender(){cy(o,this)}}})};n.getTypes().forEach(s),t.on("component:type:add",s)};function EM(e,t){const{Components:n}=e,s=n.events,{modalStore:r,i18nStore:o,fontsStore:i}=t.appStore.store,{root:a,head:c,body:u}=fa,{attributes:d,class:p,font:g,all:h,preview:m,title:b,style:v,breakpoint:x}=tg,{wrapper:y,section:S,column:w,text:j,button:C,image:P,divider:O,group:T,social:E,socialElement:A,spacer:_,navbar:N,navbarLink:V,raw:M}=G0,{model:H}=n.getType("default"),{model:U}=n.getType(a),{model:B}=n.getType(u),{model:k}=n.getType(g),{model:D,view:$}=n.getType(c),{model:z,view:J}=n.getType(N),{model:Y,view:Q}=n.getType(V),{model:ne,view:ee}=n.getType(y),{model:K,view:Z}=n.getType(S),{model:ie,view:ue}=n.getType(w),{model:ve,view:he}=n.getType(j),{model:ke,view:Ge}=n.getType(C),{model:ht}=n.getType(P),{model:rt,view:Ve}=n.getType(O),{model:Nt,view:ot}=n.getType(_),{view:St,model:mt}=n.getType(E),{view:ut,model:Qe}=n.getType(A),{view:it,model:Vt}=n.getType(T),pe=jo.globalStyles,Re="css-class",Ie={id:"link",name:"href",label:"Link",placeholder:"Link to redirect on click"},Pe={name:"src",type:"image",typeProps:{inputField:!0},label:"Image"},dt={type:"checkbox",label:"Full width",name:"full-width",valueTrue:"full-width",valueFalse:""},kt={type:"select",label:"Direction",name:"direction",default:"ltr",options:[{id:"ltr",name:"Left To Right"},{id:"rtl",name:"Right To Left"}]},Is={label:"Content",getValue:({component:q})=>q.getInnerHTML(),setValue:({component:q,value:le})=>q.components(le)},Fr=q=>{r.open({title:q.getName({noCustom:!0}),content:()=>l.jsx(ly,{content:"",code:q.getInnerHTML(),onAction:le=>q.components(le),buttonProps:{children:o.t("save")}})})},Ye=q=>{var de;const le=q.getChildrenContainer();((de=le==null?void 0:le.innerHTML)==null?void 0:de.trim())===""&&(le.innerHTML="")},pt=q=>q.set({void:!1},{silent:!0});function Ut(q={}){return H.prototype.toHTML.call(this,q)}function Xt(q){const le=q.closestType(a),de=le==null?void 0:le.findType(c)[0];return(de==null?void 0:de.toHTML())||""}function sn(q){const le=q.toHTML(),de=e.runCommand(ou,{mjml:le}),jt=new DOMParser().parseFromString(de.html,"text/html");return{mjml:le,mjmlToHtml:de,document:jt}}const Br=function(q){const le=q.model,de=qs(()=>{var _e;return(_e=le.closestType(a))==null?void 0:_e.trigger("rerender")});q.listenTo(le.components(),"add remove reset change",de)},Wt=(q,le)=>q.replace(`<${a}>`,`<${a}>${Xt(le)}`),ar=q=>`cls-${q.tagName}-${q.getId()}`,Vs=(q,le)=>{const de={...q.get("attributes")||{}};return delete de.style,{...de,[Re]:`${de[Re]||""} ${ar(q)}`.trim()}},zr=(q,le)=>{const de=q.closestType(a),_e=(de==null?void 0:de.findFirstType(c))||(de==null?void 0:de.append({type:c})[0]);_e==null||_e.trigger(le?"rerenderHeadImmediate":"rerenderHead")},Ur=q=>function(){return Vs(this)},Dt=(q,le)=>function(de){const _e=de.querySelector(`.${ar(this.model)}`);return(le?_e:_e==null?void 0:_e.outerHTML)||q.prototype.getTemplateFromEl.call(this,de)},hn=q=>function(...le){const de=q.prototype.toJSON.apply(this,le),_e=de.attributes||{};return delete de.style,delete _e.style,delete _e.__p,de},tl=q=>function(...le){const de=q.prototype.getAttrToHTML.apply(this,le);return delete de.__p,de};function Ds(){return{start:`<mjml>${Xt(this.model)}<mj-body><mj-column>`,end:"</mj-column></mj-body></mjml>"}}function mw(){var de;const q=(de=this.model.parent())==null?void 0:de.is(d),le=zg(this.model,{withSiblings:!q,withHead:!q,beforeRootEnd:q?`<${u}><${S}><${w}/></${S}></${u}>`:""});return{start:le.start,end:le.end}}function bw(){this.stopListening(this.model,"change:style"),this.listenTo(this.model,"change:attributes change:src",this.rerender)}const zg=(q,le={})=>{var Wr;const de=q.parents().filter(mn=>mn.tagName.startsWith("mj-")),_e=de.map(mn=>`<${mn.tagName}>`).reverse().join(""),jt=de.map(mn=>`</${mn.tagName}>`).join(""),wt=le.withHead?Xt(q):"",Mn=le.withSiblings?(Wr=q.parent())==null?void 0:Wr.components().filter(mn=>mn!==q).map(({tagName:mn})=>`<${mn}></${mn}>`).join(""):"";return{start:`<${a}>${wt}${_e}`,end:`${Mn||""}${jt}${le.beforeRootEnd||""}</${a}>`}},Gt=({model:q,noVoid:le})=>({init(){const de={...this.get("style-default"),...this.getStylesToAttributes(),...this.getAttributes({skipResolve:!0,noStyle:!0,noClass:!0})};this.set("attributes",de),this.set("style",de),this.listenTo(this,"change:style",this.handleStyleChange),this.listenTo(this,"change:attributes",this.handleAttributeChange),le&&pt(this)},handleStyleChange(de,_e,jt){if(jt.fromAttr||jt.fromSync)return;const wt=this.getStylesToAttributes();this.set("attributes",wt,{...jt,fromStyle:!0,fromSync:!0})},handleAttributeChange(de,_e,jt){if(jt.fromStyle||jt.fromSync)return;const wt=this.getAttributes({skipResolve:!0,noStyle:!0,noClass:!0});this.setStyle(wt,{...jt,fromAttr:!0,fromSync:!0})},getStylesToAttributes(){const de=this.getStyle({skipResolve:!0})||{};return delete de.__p,de},getAttrToHTML:tl(q),getMjmlAttributes:Ur(),toJSON:hn(q)});n.addType("wrapper",{extendFn:["init"],model:{defaults:{stylable:!1,delegate:{layer:q=>q.findType(a)[0]}},init(){this.on(`${s.update}:components`,this.__updateLayersRoot)},__updateLayersRoot(){this.findFirstType(a)&&e.Layers.setRoot(this)}}}),n.addType(a,{model:{...Gt({model:U}),defaults:{tagName:a,name:"Root",toolbar:[]},toHTML:Ut},view:{reset(){this.render()}}}),n.addType(c,{model:{defaults:{tagName:c,name:"Head",copyable:!1,stylable:!1,traits:[],icon:'<svg viewBox="0 0 24 24"><path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" /></svg>'},toJSON:hn(D)},view:{init(){this.renderHeadDebounced=qs(this.renderHead,30);const{em:q,el:le,model:de}=this,_e=de.components(),jt="core:preview",wt=q.Commands.events;this.listenTo(q,`${wt.runCommand}${jt}`,()=>{le.style.display="none"}),this.listenTo(q,`${wt.stopCommand}${jt}`,()=>{le.style.display=""}),this.listenTo(_e,"change",this.onComponentsChange),this.listenTo(_e,"add remove reset",this.renderHead),this.listenTo(de,"rerenderHead",this.renderHeadDebounced),this.listenTo(de,"rerenderHeadImmediate",this.renderHead)},onComponentsChange(q){const le=Object.keys(q.changedAttributes());le.length===1&&le[0]==="status"||this.renderHead()},renderHead(){var Wr;const{model:q,el:le}=this,de=le.ownerDocument;if(!(de&&de!==document))return;const jt=q.closestType(a),wt=jt&&sn(jt),Mn=(Wr=wt==null?void 0:wt.document)==null?void 0:Wr.head;if(Mn){const mn="mjml-head-result",Ou=de.querySelector(mn)||de.createElement(mn);Ou.innerHTML=Mn.innerHTML,!de.head.contains(Ou)&&de.head.prepend(Ou)}},render(...q){const le=$.prototype.render.apply(this,q);return this.renderHeadDebounced(),le}}}),n.addType(d,{isComponent:Ao(d),model:{defaults:{tagName:d,name:"Attributes",copyable:!1,layerable:!1,stylable:!1,draggable:hs(c),traits:[]},toJSON:hn(H)},view:{onRender(){this.el.style.display="none"},init(){Br(this)}}}),n.addType(p,{isComponent:Ao(p),model:{defaults:{tagName:p,name:"Class",stylable:!1,draggable:hs(d),traits:[]},toJSON:hn(H)}}),n.addType(g,{model:{...Gt({model:k}),defaults:{tagName:g,name:"Font",stylable:!1,draggable:hs(c),icon:'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',traits:[{name:"name",placeholder:"Name of the font"},{name:"href",placeholder:"URL of a hosted CSS file"}]}},view:{tagName:()=>"div",render(){return this.el.style.cssText="",this}}}),n.addType(x,{extend:a,isComponent:Ao(x),model:{defaults:{tagName:x,name:"Breakpoint",stylable:["width"],removable:!0,droppable:!1,draggable:hs(c),icon:'<svg viewBox="0 0 24 24"><path d="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z" /></svg>',traits:[]}},view:{attributes:{},render(){return this.el.style.cssText="",this}}}),n.addType(h,{isComponent:Ao(h),model:{defaults:{tagName:h,name:"All",stylable:!1,void:!0,draggable:hs(d),traits:[]},toHTML(...q){return U.prototype.toHTML.apply(this,q)},toJSON:hn(H)}}),n.addType(m,{isComponent:Ao(m),model:{defaults:{tagName:m,name:"Preview",copyable:!1,droppable:!1,stylable:!1,draggable:hs(c),traits:[Is],icon:`<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`},toJSON:hn(H)},view:{tagName:()=>"div",init(){const q=this.model.components();this.onRender=qs(this.onRender,1),this.listenTo(q,"add remove reset change",this.onRender)},onRender(){const{model:q,el:le}=this,de=q.getName({noCustom:!0}),_e=q.getInnerHTML();le.innerHTML=`<b>${de}</b>: ${_e}`,le.style.padding="5px 10px",le.style.fontFamily="system-ui"}}}),n.addType(b,{isComponent:Ao(b),extend:m,model:{defaults:{tagName:b,name:"Title",icon:'<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'}}}),n.addType(v,{model:{defaults:{tagName:v,name:"Style",droppable:!1,layerable:!1,stylable:!1,traits:[]},toJSON:hn(H)},view:{render(){return this}}}),n.addType(u,{model:{...Gt({model:B,noVoid:!0}),defaults:{tagName:u,icon:'<svg viewBox="0 0 24 24"><path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" /></svg>',traits:[],emptyState:{midSelector:">div",styleOut:"height: 100vh;"}}}}),n.addType(y,{model:{...Gt({model:ne,noVoid:!0}),defaults:{tagName:y,icon:'<svg viewBox="0 0 24 24"><path d="M19 16H5V8h14m0-5H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"/></svg>',stylable:["background-position","padding","padding-top","padding-left","padding-right","padding-bottom","border","border-width","border-style","border-color","background-color","background-url","background-repeat","background-size"],traits:[dt]}},view:{attributes:{},getMjmlTemplate:mw,getTemplateFromEl:Dt(ee),init:bw}}),n.addType(S,{model:{...Gt({model:K,noVoid:!0}),defaults:{tagName:S,"style-default":{padding:"20px 0px",direction:"ltr","text-align":"center"},icon:'<svg viewBox="0 0 24 24"><path d="M4 4.8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3A1.8 1.8 0 0 0 20 4.7zm0 8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',traits:[kt,dt],emptyState:{midSelector:">div>table>tbody>tr>td"}}},extendFnView:["render"],view:{getTemplateFromEl:Dt(Z),getMjmlTemplate(){const{start:q,end:le}=Z.prototype.getMjmlTemplate.call(this);return{start:Wt(q,this.model),end:le}},render(){return Ye(this),this},attributes:{}}}),n.addType(T,{model:{...Gt({model:Vt,noVoid:!0}),defaults:{tagName:T,"style-default":{direction:"ltr"},icon:'<svg viewBox="0 0 24 24"><path d="M16,5V18H21V5M4,18H9V5H4M10,18H15V5H10V18Z" /></svg>',traits:[kt]}},extendFnView:["init"],view:{init(){this.listenTo(this.model.components(),"add remove reset",this.render)},getTemplateFromEl:Dt(it,!0),getChildrenContainer(){return this.el},getMjmlTemplate(){return{start:"<mjml><mj-body><mj-section>",end:"</mj-section></mj-body></mjml>"}},render(){const q=this.getTemplateFromMjml(),le=j2(q);return this.renderAttributes(),this.$el.attr(le),this.el.innerHTML=q.innerHTML,this.renderChildren(),this.childNodes=this.getChildrenContainer().childNodes,this.updateStatus(),this.postRender(),this}}}),n.addType(w,{model:{...Gt({model:ie,noVoid:!0}),defaults:{tagName:w,icon:'<svg viewBox="0 0 24 24"><path d="M14.5 2.3A1.8 1.8 0 0 0 12.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8zm-8 0A1.8 1.8 0 0 0 4.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',traits:[],stylable:[...ie.getDefaults().stylable,"inner-background-color"],emptyState:{midSelector:">table>tbody",styleIn:"margin: 0 10px;"}}},view:{getMjmlTemplate(){var de;const q=(de=this.model.parent())==null?void 0:de.is(d),le=zg(this.model,{withSiblings:!q,withHead:!q,beforeRootEnd:q?`<${u}><${S}><${w}/></${S}></${u}>`:""});return{start:le.start,end:le.end}},getTemplateFromEl:Dt(ue,!0),getChildrenContainer(){const{el:q}=this;return q.querySelector("td > table tbody")||q.querySelector("table tbody")||q},render(){this.renderAttributes();const q=this.getTemplateFromMjml();return this.el.innerHTML=q.content,this.$el.attr(q.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.updateStatus(),this.postRender(),zr(this.model,!0),this}}}),n.addType(j,{model:{...Gt({model:ve}),defaults:{tagName:j,emptyState:{midSelector:' [contenteditable="false"]:not([data-type-data-variable])',styleIn:"min-height: 20px;",styleOut:"padding: 0 5px;"},traits:[],"style-default":{padding:"10px 25px"}}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(he),attributes:{style:"display: table; width: 100%"}}}),n.addType(C,{model:{...Gt({model:ke,noVoid:!0}),defaults:{tagName:C,traits:[Ie],stylable:[...ke.getDefaults().stylable,"inner-padding"],"style-default":{}}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(Ge)}}),n.addType(P,{model:{...Gt({model:ht}),defaults:{tagName:P,"style-default":{align:"center"},traits:[Pe,{id:"altText",name:"alt",placeholder:"Image description"},"title",Ie,{type:"checkbox",label:"Full width on mobile",name:"fluid-on-mobile",valueTrue:"true"}]},getAttrToHTML(){const q=ht.prototype.getAttrToHTML.call(this);return this.isDefaultSrc()&&delete q.src,q},getMjmlAttributes(){const q=Vs(this);return this.isDefaultSrc()&&delete q.src,q}},view:{updateSrc(){const{model:q}=this,le=q.get("src",{skipResolve:!0})||q.getSrcResult();q.addAttributes({src:le}),this.updateClasses()},getMjmlTemplate(){return{start:`<mjml>${Xt(this.model)}<mj-body><mj-section><mj-column>`,end:"</mj-column></mj-section></mj-body></mjml>"}},getTemplateFromEl(q){var le,de,_e;return(_e=(de=(le=q.querySelector("img"))==null?void 0:le.closest("table"))==null?void 0:de.closest("tr"))==null?void 0:_e.innerHTML},attributes:{style:"display: table; width: 100%; user-select: none;"}}}),n.addType(O,{model:{...Gt({model:rt}),defaults:{tagName:O,"style-default":{width:"100%",align:"center"},traits:[{name:"align",type:"radio",options:[{id:"left",title:"Left",labelReact:l.jsx(se,{icon:G.alignHorizontalLeft,size:ae.sx})},{id:"center",title:"Center",labelReact:l.jsx(se,{icon:G.alignHorizontalCenter,size:ae.sx})},{id:"right",title:"Right",labelReact:l.jsx(se,{icon:G.alignHorizontalRight,size:ae.sx})}]}]}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(Ve)}}),n.addType(E,{model:{...Gt({model:mt}),defaults:{tagName:E,name:"Social",traits:[],emptyState:{midSelector:">td"},"style-default":{align:"center"},stylable:[...mt.getDefaults().stylable,"inner-padding"]}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(St)}}),n.addType(A,{model:{...Gt({model:Qe,noVoid:!0}),defaults:{tagName:A,"style-default":{align:"center"},traits:[{type:"select",label:"Icon",name:"name",options:[{id:"custom",name:"Custom"},{id:"facebook",name:"Facebook"},{id:"twitter",name:"Twitter/X"},{id:"google",name:"Google"},{id:"instagram",name:"Instagram"},{id:"web",name:"Web"},{id:"youtube",name:"YouTube"},{id:"pinterest",name:"Pinterest"},{id:"linkedin",name:"Linkedin"},{id:"snapchat",name:"Snapchat"},{id:"vimeo",name:"Vimeo"},{id:"tumblr",name:"Tumblr"},{id:"github",name:"Github"},{id:"soundcloud",name:"SoundCloud"},{id:"medium",name:"Medium"},{id:"dribbble",name:"Dribbble"},{id:"xing",name:"Xing"}]},Pe,Ie,Is]},getMjmlAttributes(){const q=Vs(this);return{...this.getDefaultIconProps()[q.name],...q}},getAttrToHTML(){const q=Qe.prototype.getAttrToHTML.call(this);return{...this.getDefaultIconProps()[q.name],...q}},getDefaultIconProps(){return{twitter:{src:"https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png","background-color":"black"}}}},extendFnView:["init"],view:{init(){this.listenTo(this.model,"component:update:components",this.rerender)},getMjmlTemplate(){const{start:q,end:le}=ut.prototype.getMjmlTemplate.call(this);return{start:Wt(q,this.model),end:le}},getInnerMjmlTemplate(){var _e;const{start:q,end:le}=ut.prototype.getInnerMjmlTemplate.call(this),de=((_e=this.model.getInnerHTML())==null?void 0:_e.trim())||"";return{start:`${q}${de}`,end:le}},getChildrenContainer(){var _e;const{el:q}=this,le=(_e=q.querySelector("tbody > tr > td"))==null?void 0:_e.nextElementSibling;return(le==null?void 0:le.firstElementChild)||q.querySelector("img")||q}}}),n.addType(_,{model:{...Gt({model:Nt}),defaults:{tagName:_,traits:[]}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(ot)}}),n.addType(N,{model:{...Gt({model:z}),defaults:{tagName:N,emptyState:{midSelector:">td>div"}}},view:{getMjmlTemplate:Ds,getTemplateFromEl:Dt(J,!0),render(){this.renderAttributes();const q=this.getTemplateFromMjml();return this.el.innerHTML=q.content,this.$el.attr(q.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.renderStyle(),this.postRender(),zr(this.model),this}}}),n.addType(V,{model:{...Gt({model:Y}),defaults:{tagName:V,icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" /></svg>',emptyState:{midSelector:">td>div"},"style-default":{}}},view:{getMjmlTemplate(){const{start:q,end:le}=Q.prototype.getMjmlTemplate.call(this);return{start:Wt(q,this.model),end:le}},getTemplateFromEl(q){return q.querySelector(".mj-inline-links").innerHTML}}}),n.addType(M,{extendFn:["initToolbar"],model:{defaults:{tagName:M,name:"HTML block",emptyState:{midSelector:">div"}},initToolbar(){w3(this,{id:"edit",command:()=>Fr(this),label:`<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`})},toJSON:hn(H)},view:{events:{dblclick:"onActive"},onActive(){Fr(this.model)},attributes:{}}}),n.addType("skip-global-style",{isComponent:q=>{var le,de;if(((le=q.tagName)==null?void 0:le.toLowerCase())===v&&((de=q.getAttribute)==null?void 0:de.call(q,"css-class"))===pe)return{type:"textnode",components:[],content:""}}});const vw=q=>{const{id:le,view:de}=q,_e=de.prototype;n.addType(le,{view:{render(){return _e.render.apply(this,arguments),cy(le,this),this}}})};[u,S,w,j,N,E,M].forEach(q=>vw(n.getType(q))),n.getTypes().forEach(({id:q,view:le})=>{le.prototype.disableEditing&&n.addType(q,{view:{onDisable(de={}){this.disableEditing({...de,parserOptions:{htmlType:"text/html"}})}}})});const Ug=()=>{const le=e.Components.getWrapper().findFirstType(a),de=le.findFirstType(c)||le.append({type:c})[0];de.components().filter(Mn=>Mn.attributes[gp]==hp).forEach(Mn=>Mn.remove());const jt=S0(i.fonts);if(!jt)return;const wt=de.append({type:v,content:jt})[0];wt==null||wt.set({[gp]:hp},{silent:!0})},Wg=()=>{const q=e.Css.rules.filter(wt=>{const Mn=wt.attributes.groups;return!!(Mn!=null&&Mn.some(Wr=>Wr.startsWith(`${pe}:`)))}).map(wt=>wt.toCSS());if(!q.length)return;const de=e.Components.getWrapper().findFirstType(fa.root),_e=de.findFirstType(c)||de.append({type:c})[0];(_e.findType(v).find(wt=>wt.getAttributes()[Re]===pe)||_e.append({type:v,attributes:{[Re]:pe}})[0]).set("content",q.join(`
`))},yw=qs(Wg,100);e.on(pn.pageSettingsUpdate,q=>{q.page||Ug()}),e.on(e.events.projectLoad,({loaded:q})=>{q&&(Wg(),Ug())}),e.on(e.Parser.events.htmlBefore,q=>{var de;const le=(de=e.Parser.config.optionsHtml)==null?void 0:de.codeSanitizer;q.input=W0(q.input,{sanitizer:le})}),e.onReady(()=>{e.on(`${e.DataSources.events.pathSource}:${pe}`,yw)})}function PM(e){const{Blocks:t}=e,n="Content",s="Layout",r={className:"h-7",full:!0,space:"s",nowrap:!0},o={category:s,full:!0},i="gjs-border-2 gjs-border-current gjs-rounded-sm",a=(c,u)=>{t.add(c,{select:!0,category:n,...u})};a("mj-text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,content:"<mj-text>Insert text here</mj-text>",activate:!0}),a("mj-button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:"<mj-button>Button</mj-button>"}),a("mj-image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,content:`<mj-image src="${R2}"/>`,activate:!0}),a("mj-divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:"<mj-divider/>"}),a("mj-social",{label:"Social",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,content:`<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`}),a("mj-social-element",{label:"Social Element",media:`<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,content:'<mj-social-element name="facebook">Facebook</mj-social-element>'}),a("mj-spacer",{label:"Spacer",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,content:"<mj-spacer/>"}),a("mj-navbar",{label:"Navbar",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,content:`<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`}),a("mj-hero",{label:"Hero",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${lv({width:600,height:300,text:"Hero Image",fg:"555"})}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`}),a("mj-raw",{label:"HTML block",activate:!0,media:`<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,content:`<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`}),a("mj-1-column",{...o,label:"1 Column",mediaReact:l.jsx(R,{...r,children:l.jsx(I,{className:i,grow:!0})}),content:`<mj-section>
        <mj-column></mj-column>
      </mj-section>`}),a("mj-2-columns-50-50",{...o,label:"2 Columns 50/50",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0})]}),content:`<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`}),a("mj-2-columns-25-75",{...o,label:"2 Columns 25/75",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-1/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-3/4")})]}),content:`<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`}),a("mj-2-columns-33-67",{...o,label:"2 Columns 33/67",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-1/3")}),l.jsx(I,{className:X(i,"gs-utl-basis-2/3")})]}),content:`<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`}),a("mj-2-columns-67-33",{...o,label:"2 Columns 67/33",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-2/3")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/3")})]}),content:`<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`}),a("mj-2-columns-75-25",{...o,label:"2 Columns 75/25",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-3/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`}),a("mj-3-columns",{...o,label:"3 Columns",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`}),a("mj-3-columns-25-25-50",{...o,label:"3 Columns 25/25/50",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-1/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-2/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`}),a("mj-3-columns-25-50-25",{...o,label:"3 Columns 25/50/25",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-1/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-2/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),a("mj-3-columns-50-25-25",{...o,label:"3 Columns 50/25/25",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:X(i,"gs-utl-basis-2/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/4")}),l.jsx(I,{className:X(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),a("mj-4-columns",{...o,label:"4 Columns",mediaReact:l.jsxs(R,{...r,children:[l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0}),l.jsx(I,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`})}const TM=(e,t)=>({[Ce.web]:s=>od(s,t),[Ce.document]:s=>od(s,t),[Ce.react]:s=>od(s,t),[Ce.email]:s=>EM(s,t)})[e],hi="https://cdn.jsdelivr.net/npm/",cd={id:"gjs-blocks-basic",src:`${hi}grapesjs-blocks-basic@1.0.1/dist/index.js`},OM={id:"grapesjs-plugin-forms",src:`${hi}grapesjs-plugin-forms@2.0.5/dist/index.js`},ud={id:"grapesjs-parser-postcss",src:`${hi}grapesjs-parser-postcss@1.0.1/dist/index.js`},_M={id:"grapesjs-navbar",src:`${hi}grapesjs-navbar@1.0.1/dist/index.js`,options:{block:{category:"Extra"}}},dd={id:"grapesjs-plugin-export",src:`${hi}grapesjs-plugin-export@1.0.11/dist/index.js`,options:{isBinary:(e,t)=>{const n=t.split(".")[1];return/[\x00-\x08\x0E-\x1F]/.test(e)&&!(n&&["html","css"].indexOf(n)>=0)}}},AM={id:"grapesjs-mjml",src:`${hi}grapesjs-mjml@1.0.7/dist/index.js`,options:{columnsPadding:"",useCustomTheme:!1,resetDevices:!1,resetBlocks:!1,blocks:[],useXmlParser:!0,resetStyleManager:!1}},MM={[Ce.email]:[PM,AM],[Ce.web]:[cd,OM,dd,ud,_M],[Ce.document]:[cd,dd,ud],[Ce.react]:[cd,dd,ud]};function LM(e,t){const{blocks:n}=t.appStore.sdkOptions;Array.isArray(n==null?void 0:n.default)&&e.BlockManager.blocks.add(n.default),e.on("rteToolbarPosUpdate",s=>{const r=-s.canvasOffset.left;s.left<r&&(s.left=r)})}function uy({onCopy:e,getValue:t,value:n,title:s="Copy",...r}){const[o,i]=f.useState(!1),a=()=>{E2((t==null?void 0:t())??n),i(!0),e==null||e()};return f.useEffect(()=>{if(!o)return;const c=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(c)},[o]),l.jsx(vt,{onClick:a,title:s,type:"button",size:"lg",withBg:!0,...r,children:l.jsx(se,{className:X(o&&F.tA),icon:o?G.check:G.contentCopy,size:ae.s})})}const dy=f.createContext(null),NM=({children:e})=>{const[t,n]=f.useState({setEditor:s=>{n(r=>({...r,editor:s}))}});return l.jsx(dy.Provider,{value:t,children:e})},qn=()=>{const e=f.useContext(dy);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},_n=()=>{const{editor:e}=qn();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},ng=()=>qn().editor,py=f.createContext(null),kM=({children:e})=>{const[t,n]=f.useState(()=>({setRefCanvas(s){n(r=>({...r,refCanvas:s}))},setCustomModal(s){n(r=>({...r,customModal:s}))},setCustomAssets(s){n(r=>({...r,customAssets:s}))},setCustomBlocks(s){n(r=>({...r,customBlocks:s}))},setCustomRte(s){n(r=>({...r,customRte:s}))},setCustomStyles(s){n(r=>({...r,customStyles:s}))},setCustomLayers(s){n(r=>({...r,customLayers:s}))},setCustomSelectors(s){n(r=>({...r,customSelectors:s}))},setCustomTraits(s){n(r=>({...r,customTraits:s}))},setReady(s){n(r=>({...r,ready:s}))}}));return l.jsx(py.Provider,{value:t,children:e})},Rs=()=>{const e=f.useContext(py);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function RM(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}function Vr(e){return typeof e=="function"}function es(){}const fy=e=>typeof e=="string",$M=async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},gy=e=>{const t=fy(e)?{id:e,src:e}:e;return new Promise((n,s)=>{const r=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return n(t.id);r.src=t.src,r.onload=()=>n(t.id),r.onerror=()=>s(t.id),document.head.appendChild(r)})},IM=e=>{const t=e.map(n=>gy(n));return Promise.allSettled(t)},Sm=e=>function(){const t=f.useRef(null);return f.useEffect(()=>{const{current:n}=t;n&&(fy(e)?n.innerHTML=e:n.appendChild(e))},[t.current]),l.jsx("div",{ref:t})},jm=new WeakMap;function mi(e){if(!e)return()=>l.jsx(l.Fragment,{});const t=jm.get(e);if(t)return t;const n=function({children:s}){return wn.createPortal(f.createElement("div",null,s),e)};return jm.set(e,n),n}const VM=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(!1),[o,i]=f.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>l.jsx(l.Fragment,{})});return f.useEffect(()=>{if(!t)return;const a=t.Assets.events.custom,c=({open:u,assets:d,types:p,select:g,close:h,container:m})=>{u&&i({assets:d,types:p,select:g,close:h,Container:mi(m)}),r(u)};return t.on(a,c),()=>{t.off(a,c)}},[t]),f.useEffect(()=>n.setCustomAssets(!0),[]),t?Vr(e)?e({open:s,...o}):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})});f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(()=>({blocks:[],dragStart:es,dragStop:es,mapCategoryBlocks:new Map,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const o=t.Blocks.events.custom,i=({blocks:a,container:c,dragStart:u,dragStop:d})=>{const p=a.reduce((g,h)=>{const m=h.getCategoryLabel(),b=g.get(m);return b?b.push(h):g.set(m,[h]),g},new Map);r({blocks:a,dragStart:u,dragStop:d,mapCategoryBlocks:p,Container:mi(c)})};return t.on(o,i),t.Blocks.__trgCustom(),()=>{t.off(o,i)}},[t]),f.useEffect(()=>n.setCustomBlocks(!0),[]),t?Vr(e)?e(s):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})});function DM({children:e,...t}){const n=Rs(),s=f.useRef(null);return f.useEffect(()=>{s.current&&n.setRefCanvas(s.current)},[s.current]),l.jsx("div",{...t,ref:s,children:e})}const HM=f.memo(function({children:e}){const{editor:t}=qn(),[n,s]=f.useState(()=>({devices:[],selected:"",select:es}));return f.useEffect(()=>{if(!t)return;const{Devices:r}=t,o=r.events.all,i=()=>{var a;s({devices:r.getDevices(),selected:(a=r.getSelected())==null?void 0:a.id,select:c=>r.select(c)})};return t.on(o,i),i(),()=>{t.off(o,i)}},[t]),t?Vr(e)?e(n):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),FM=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function BM(e){const t=e.map(({id:o,src:i})=>({id:o,src:i})),n=e.reduce((o,i)=>(o[i.id]=i,o),{}),s=[],r=[];return(await IM(t)).forEach(o=>{o.status==="fulfilled"?s.push(n[o.value]):r.push(n[o.reason])}),{loaded:s,failed:r}}const zM=async e=>{const t=[...e],n={};if(t.length){const s={},r=[];if(t.forEach((o,i)=>{FM(o)&&(s[o.id]={index:i},r.push(o))}),r.length){const{loaded:o}=await BM(r);o.forEach(({id:i,options:a})=>{s[i].loaded=!0,n[i]=a||{}})}Object.keys(s).forEach(o=>{const i=s[o];i.loaded?t[i.index]=o:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},UM=f.memo(function({children:e,className:t,style:n,options:s={},plugins:r=[],grapesjs:o,grapesjsCss:i,onEditor:a=es,onReady:c,onUpdate:u,waitReady:d,...p}){const{setEditor:g}=qn(),h=Rs(),[m,b]=f.useState(!1),v=f.useRef(null);f.useEffect(()=>{if(!h.ready||!v.current)return;const P=v.current,O=h.refCanvas;let T,E={},A=[];const _=N=>{const V={height:"100%",...s,plugins:[...A,...s.plugins||[]],pluginsOpts:{...s.pluginsOpts,...E},modal:{custom:!!h.customModal,...s.modal},assetManager:{custom:!!h.customAssets,...s.assetManager},styleManager:{custom:!!h.customStyles,...s.styleManager},blockManager:{custom:!!h.customBlocks,...s.blockManager},richTextEditor:{custom:!!h.customRte,...s.richTextEditor},layerManager:{custom:!!h.customLayers,...s.layerManager},traitManager:{custom:!!h.customTraits,...s.traitManager},selectorManager:{custom:!!h.customSelectors,...s.selectorManager},container:O||P,customUI:!!O,...O?{panels:{defaults:[]}}:{}};T=N.init(V),g(T),a(T),u&&T.on("update",()=>{u(T.getProjectData(),T)}),T.onReady(()=>{b(!0),c==null||c(T)})};return(async()=>{i&&await $M(i);const N=await zM(r);A=N.plugins,E=N.pluginOptions,typeof o=="string"?(await gy(o),_(window.grapesjs)):_(o)})(),()=>T==null?void 0:T.destroy()},[h.ready]);const x=s.height??"100%",y=s.width??"100%",S=RM("gjs-editor-wrapper",t),w=d&&!m,j=f.useMemo(()=>({...n,height:x,width:y}),[x,y,n]),C=f.useMemo(()=>({...j,...w?{opacity:0,width:0,height:0}:{}}),[j,w]);return l.jsxs(l.Fragment,{children:[d&&!m?l.jsx("div",{className:S,style:j,children:d}):null,l.jsx("div",{...p,ref:v,className:S,style:C,children:e})]})}),WM=f.memo(function(){const e=Rs();return f.useEffect(()=>e.setReady(!0),[]),l.jsx(l.Fragment,{})}),GM=f.memo(function({children:e,...t}){return l.jsx(NM,{children:l.jsx(kM,{children:l.jsxs(UM,{...t,children:[e,l.jsx(WM,{})]})})})}),sg=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(()=>({root:void 0,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Layers:o}=t,i=o.events.custom,a=({container:c})=>{r({root:o.getRoot(),Container:mi(c)})};return t.on(i,a),o.__trgCustom({}),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomLayers(!0),[]),t?Vr(e)?e(s):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),KM=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(!1),[o,i]=f.useState({title:l.jsx(l.Fragment,{}),content:l.jsx(l.Fragment,{}),attributes:{},close:es});return f.useEffect(()=>{if(!t)return;const a="modal",c=({open:u,title:d,content:p,close:g,attributes:h})=>{u&&i({title:f.createElement(Sm(d)),content:f.createElement(Sm(p)),attributes:h,close:g}),r(u)};return t.on(a,c),()=>{t.off(a,c)}},[t]),f.useEffect(()=>n.setCustomModal(!0),[]),t?typeof e=="function"?e({open:s,...o}):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),rg=f.memo(function({children:e}){const{editor:t}=qn(),[n,s]=f.useState(()=>({pages:[],selected:void 0,select:es,add:es,remove:es}));return f.useEffect(()=>{if(!t)return;const{Pages:r}=t,o=r.events.all,i=()=>{s({pages:r.getAll(),selected:r.getSelected(),select:(...a)=>r.select(...a),add:(...a)=>r.add(...a),remove:(...a)=>r.remove(...a)})};return t.on(o,i),i(),()=>{t.off(o,i)}},[t]),t?Vr(e)?e(n):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),og=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:es,removeSelector:es,setState:es,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Selectors:o}=t,i=o.events.custom,a=({container:c})=>{r({selectors:o.getSelected(),states:o.getStates(),selectedState:o.getState(),targets:o.getSelectedTargets().map(u=>u.getSelectorsString()),addSelector:(...u)=>o.addSelected(...u),removeSelector:(...u)=>o.removeSelected(...u),setState:(...u)=>o.setState(...u),Container:mi(c)})};return t.on(i,a),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomSelectors(!0),[]),t?Vr(e)?e(s):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),hy=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(()=>({sectors:[],Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Styles:o}=t,i=o.events.custom,a=({container:c})=>{r({sectors:o.getSectors({visible:!0}),Container:mi(c)})};return t.on(i,a),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomStyles(!0),[]),t?Vr(e)?e(s):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),jp=f.memo(function({children:e}){const{editor:t}=qn(),n=Rs(),[s,r]=f.useState(()=>({traits:[],Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Traits:o}=t,i=o.events.custom,a=({container:c})=>{r({traits:o.getCurrent(),Container:mi(c)})};return t.on(i,a),o.__trgCustom(),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomTraits(!0),[]),t?Vr(e)?e(s):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),Co=({children:e})=>ng()?l.jsx(l.Fragment,{children:e}):l.jsx(l.Fragment,{});function ig(e){return e=e.trimStart(),e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1"),e=e.replace(/;\s*;/g,";"),e=e.replace(/\,[\s\.\#\d]*{/g,"{"),e=e.replace(/([^\s])\{([^\s])/g,`$1 {
	$2`),e=e.replace(/([^\s])\}([^\n]*)/g,`$1
}
$2`),e=e.replace(/([^\s]);([^\s\}])/g,`$1;
	$2`),e}const my=oe(function(){const t=_n(),n=je(),{Styles:s}=t,{isDarkTheme:r}=gn(),o=s.getSelected(),[i,a]=f.useState(0),c=o?ig(o==null?void 0:o.toCSS({allowEmpty:!0})):"",[u,d]=f.useState(c);f.useEffect(()=>{const g=()=>a(m=>++m),h=s.events.custom;return t.on(h,g),()=>{t.off(h,g)}},[s,t]);const p=()=>{if(u){const g=t.Parser.parseCss(u)[0];g&&(o==null||o.setStyle(g.style))}};return l.jsxs(R,{className:W("relative"),col:!0,full:!0,children:[l.jsx(I,{grow:!0,children:o?l.jsx(nr,{padding:5,language:"css",defaultValue:c,onChange:d,isDarkTheme:r,clean:!0},i):n.t("noCode")}),l.jsx(ze,{className:W("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:p,children:n.t("update")})]})}),Cm=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],qM=e=>{e.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async t=>{const n=await t.runCommand(ce.projectFiles),s={};for(const r in n){const o=n[r],{filename:i,content:a}=o;if(o.path){const c=o.path.split("/").filter(Boolean);let u=s;for(const d of c)u[d]=u[d]||{},u=u[d];u[i]=a}else s[i]=a}return s}})},YM=oe(function(t){const n=je(),s=ge(),{isProjectTypeEmail:r}=s,o=s.editor,[i,a]=f.useState(Cm[0].id),[c,u]=f.useState(),{isDarkTheme:d}=gn(),[p]=f.useState(()=>ig(o.getCss())),[g,h]=f.useState(),m=y=>n.t(`actions.showCode.${y}`),b={...t.options,...r?{export:!1}:{}},v=()=>qM(o);f.useEffect(()=>{(async()=>{var P,O;const S=await o.runCommand(ce.projectFiles,{page:o.Pages.getSelected(),skipProject:!0,styles:"skip"}),w=((P=S.find(T=>T.mimeType==="text/html"))==null?void 0:P.content)??"",j=((O=S.find(T=>T.mimeType==="text/mjml"))==null?void 0:O.content)??"";u(i==="mjml"?j:w)})()},[i]),f.useEffect(()=>{var y;g&&((y=g.getModel())==null||y.setValue(c),ay(g))},[g,c]);const x={padding:5,isDarkTheme:d,clean:!0};return l.jsxs(R,{col:!0,space:"m",children:[l.jsxs(R,{className:W("h-96"),space:"m",children:[l.jsxs(I,{className:W("relative"),grow:!0,children:[r&&l.jsxs(R,{className:W("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[l.jsx(Ee,{value:i,onChange:a,options:Cm,className:W("min-w-24")}),l.jsx(uy,{getValue:()=>g.getModel().getValue()})]}),c!==void 0&&l.jsx(nr,{defaultValue:c,language:"html",onMount:h,...x})]}),!r&&l.jsx(I,{grow:!0,children:l.jsx(nr,{defaultValue:p,language:"css",...x})})]}),b.export!==!1&&l.jsx(R,{justify:"end",children:l.jsx(ze,{size:"m2",variant:"pr",onClick:v,children:m("exportButton")})})]})}),ZM=e=>e.Assets.getAll().reduce((s,r)=>{const o=r.getSrc(),i=o.match(/^data:([^;]+);/);if(i){const a=o.split(",")[1],c=x3(r.get("name"));s[o]={mime:i[1],name:c,base64:a}}return s},{}),XM=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Em=(e,t,n={})=>{let s=e;const r=n.pathPfx||"";for(const o in t)if(s.includes(o)){const i=t[o];s=s.replace(new RegExp(XM(o),"g"),`${r}${i.name}`),i.found=!0}return s},JM=(e,t,n)=>`${t||""}${e||""}${n||""}`,QM=(e,t)=>{const n=e?`<div ${pc}>${e}</div>`:"",s=t?`<div ${pc} data-gjs-global>${t}</div>`:"";return`${n}${s}`},eL=async(e,t={})=>{const{page:n,skipProject:s,assetsFolder:r="assets",filenameCss:o="style.css",styles:i,isMJML:a,exportConfig:c,skipGlobalCode:u,skipCustomCodeBody:d,scriptComponents:p}=t,g={...c,...e.config.optsHtml||{},...t.optionsHtml},h=[],m=n?[n]:e.Pages.getAll(),b=ZM(e),v=`${r}/`,x=e.getCss({keepUnusedStyles:!0,component:n==null?void 0:n.getMainComponent(),...t.optionsCss})||"",y=Em(x,b,{pathPfx:v}),S=i==="inline",w=i==="skip",j=i==="skipInPage",C=p==="skip",P=u?{}:oi(e).globalPageSettings||{},O=[],T=(E,A)=>{var kt,Is,Fr;const{pageSettingOpts:_}=A||{},N=E.getName(),V=S||(_==null?void 0:_.replaceDataSources),M=cr(E,"title",_)||N,H=cr(E,"favicon",_),U=cr(E,"description",_),B=cr(E,"keywords",_),k=cr(E,"socialTitle",_),D=cr(E,"socialDescription",_),$=cr(E,"socialImage",_),z=u?"":j0(cr(E,"fonts")),J=en({page:E,key:"customCodeHead",opts:_})??"",Y=JM(J,P.customCodeHead,z),Q=en({page:E,key:"customCodeBody",opts:_})??"",ne=d?"":QM(Q,P.customCodeBody),ee=E.getMainComponent(),K=C?"":e.getJs({component:ee}),Z=K?`<script>${K}<\/script>`:"",ie=[],ue=[],ve={asDocument:!1,...g},he=ee.toHTML(ve).replace("</body>",()=>`${ne}${Z}</body>`),ke=ee.head;let Ge=M&&`<title>${M}</title>`,ht=H&&`<link rel="icon" href="${H}"/>`,rt=U&&`<meta name="description" content="${U}"/>`,Ve=B&&`<meta name="keywords" content="${B}"/>`,Nt=k&&`<meta property="og:title" content="${k}"/>`,ot=D&&`<meta property="og:description" content="${D}"/>`,St=$&&`<meta property="og:image" content="${$}"/>`,mt='<meta charset="utf-8">',ut='<meta name="viewport" content="width=device-width,initial-scale=1">',Qe='<meta name="robots" content="index,follow">',it='<meta name="generator" content="GrapesJS Studio">';ke.components().forEach(Ye=>{const pt=Ye.toHTML(g);at.title({cmp:Ye})?Ge=pt:at.favicon({cmp:Ye})?ht=pt:at.description({cmp:Ye})?rt=pt:at.keywords({cmp:Ye})?Ve=pt:at.socialTitle({cmp:Ye})?Nt=pt:at.socialDescription({cmp:Ye})?ot=pt:at.socialImage({cmp:Ye})?St=pt:at.charset({cmp:Ye})?mt=pt:at.viewport({cmp:Ye})?ut=pt:at.robots({cmp:Ye})?Qe=pt:at.generator({cmp:Ye})&&(it=pt)}),Ge&&ie.push(Ge),mt&&ie.push(mt),ut&&ie.push(ut),Qe&&ie.push(Qe),it&&ie.push(it),rt&&ie.push(rt),Ve&&ie.push(Ve),Nt&&ie.push(Nt),ot&&ie.push(ot),St&&ie.push(St),ht&&ie.push(ht),ue.length&&ie.push(...ue),Y&&ie.push(Y),y&&!(w||j)&&ie.push(V?`<style>${y}</style>`:`<link rel="stylesheet" href="./${o}">`);const pe=ee.doctype||"<!DOCTYPE html>",Re=(Is=(kt=ee.docEl).__attrToString)==null?void 0:Is.call(kt,g),Ie=(Fr=ke.__attrToString)==null?void 0:Fr.call(ke,g),Pe=e.getHtml(g).trim(),dt=a?e.runCommand(ou,{mjml:Pe}).html:`${pe}
<html${Re?` ${Re}`:""}>
  <head${Ie?` ${Ie}`:""}>
    ${ie.join(`
  `)}
  </head>
  ${he}
</html>
`;return{filename:mp(e,E),content:Em(dt,b,{pathPfx:v}),mimeType:"text/html"}};m.forEach(E=>{if(tu(E)){const _=E.getMainComponent(),{dataSourceItem:N}=t,V=N?[N]:_.getDataSourceItems(),M=_.resolverCurrentItem;Object.entries(V).forEach(([H,U])=>{const B=U;_.setResolverCurrentItem(B.id??H);const k=T(E,{pageSettingOpts:{replaceDataSources:!0}}),{path:D,filename:$}=_0(E,{currentItem:B});k.path=D,k.filename=$,O.push(k)}),_.setResolverCurrentItem(M)}else O.push(T(E))}),h.push(...O),a&&m.forEach(E=>{h.push({filename:mp(e,E,"mjml"),content:E.getMainComponent().toHTML(g),mimeType:"text/mjml"})});for(const E in b){const A=b[E];A.found&&h.push({path:r,filename:A.name,content:atob(A.base64),mimeType:A.mime})}return y&&!S&&!w&&h.push({filename:o,content:y,mimeType:"text/css"}),s||h.push({filename:"gjs-project.grapesjs",content:JSON.stringify(e.getProjectData()),mimeType:"application/json"}),h};function tL(e){const{Components:t,Blocks:n}=e,s=r=>{const{model:o,id:i}=r,a=o.getDefaults(),c=n.get(i),u=a.icon,d=c==null?void 0:c.get("media"),p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',g=u&&u!==p&&!d?u:d||p;t.addType(i,{model:{defaults:{icon:g}}})};t.getTypes().forEach(s),e.on("component:type:add",s)}const nL=(e,t)=>{const{contextMenu:n}=t.appStore.store,{Canvas:s}=e;e.on(s.events.frameLoad,({window:r,el:o})=>{r.document.addEventListener("contextmenu",async a=>{if(!n.isEnabled||e.getEditing())return;a.preventDefault();const c=a.target,u=e.getModel().get("componentHovered")||e.Utils.helpers.getModel(c);if(u){const d=o.getBoundingClientRect(),p=s.getZoomDecimal();e.runCommand(ce.contextMenuComponent,{component:u,event:a,x:a.clientX*p+d.left,y:a.clientY*p+d.top})}})})},ag=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
<path fill="currentColor" d="M20 6c0-2.168-3.663-4-8-4S4 3.832 4 6v2c0 2.168 3.663 4 8 4s8-1.832 8-4zm-8 13c-4.337 0-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3c0 2.168-3.663 4-8 4"/><path fill="currentColor" d="M20 10c0 2.168-3.663 4-8 4s-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4z"/></svg>`,no="--before-content",lg={select:!0,activate:!0,category:{id:"data-sources",label:"Data Sources"}},by={stylable:!1,traits:[]};function sL(e){return typeof e=="object"&&e.type===At.variable}function Pm(e){if(sL(e)){const{path:t}=e;return vy(t||"")}return e}function vy(e){return`{{ ${e} }}`}function rL(e){const t={};return e.DataSources.getAll().forEach(n=>{const s=n.get("id");if(!s)return;const r=n.getRecords();if(!r){t[s]={};return}t[s]=r.reduce((o,i)=>{if(!i)return o;let a={...i.attributes};return delete a.__p,delete a.id,s===jo.globalStyles&&(a={value:a.value}),{...o,[i.id]:a}},{})}),t}function yy(e){return Object.entries(e||{}).map(([t,n])=>({id:t,data:n}))}const cg=e=>{var o,i;const{isProjectTypeEmail:t,sdkOptions:n}=e;return((i=(o=n.dataSources)==null?void 0:o.exportConfig)==null?void 0:i.skipTags)??t?{...by}:{}},Cp=e=>{var o,i;const{isProjectTypeEmail:t,sdkOptions:n}=e,s=(i=(o=n.dataSources)==null?void 0:o.exportConfig)==null?void 0:i.skipTags;return t||s===!0?{...by}:{}},oL=e=>!!e&&typeof e=="object"&&"logicalOperator"in e;function iL(e,t){var h;const{Components:n,I18n:s}=e,{appStore:r}=t,o=s.t("dataSources.collection"),i=At.collection,a=At.collectionItem,c="data-type-data-collection",u='<svg viewBox="0 0 24 24"><path d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>',d=(h=t.appStore.sdkOptions.dataSources)==null?void 0:h.blocks,p=m=>{const b=m.is(i)?m:m.closestType(i);if(!b)return;const v="dataCollectionPicker",x={id:v,header:!1,layout:{type:"panelDataCollectionPicker",component:b,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:v})},placer:{type:"dialog",title:s.t("dataSources.editCollection"),size:"l"}};e.runCommand(ce.layoutToggle,{...x})},g=({items:m,component:b})=>[{id:`open-${i}-picker`,label:ag,command:()=>p(b)},...m];n.addType(a,{isComponent:m=>Bo(m,a),model:{defaults:{...Cp(r),name:s.t("dataSources.collectionItem"),copyable:!1,emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M22 13H14V11H22V13M22 7H14V9H22V7M14 17H22V15H14V17M12 9V15C12 16.1 11.1 17 10 17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H10C11.1 7 12 7.9 12 9M10.5 15L8.3 12L6.5 14.3L5.3 12.8L3.5 15H10.5Z" /></svg>',toolbarItems:g}}}),n.addType(i,{isComponent:m=>za(m,c)||Bo(m,i),block:d&&{label:o,media:u,content:{type:i,components:{type:a},dataResolver:{startIndex:0,endIndex:1,dataSource:{type:"data-variable",path:""}}},...lg},model:{defaults:{...cg(r),icon:u,name:o,attributes:{[c]:!0},toolbarItems:g},init(){const m="collection-";if(!this.getCollectionId()){const v=m+Math.random().toString(36).substring(2,9);this.setCollectionId(v)}}},view:{onActive(m){m==null||m.stopPropagation(),p(this.model)}}})}function aL(e,t){var x;const{Components:n,I18n:s}=e,r=s.t("dataSources.condition"),o=s.t("dataSources.conditionTrue"),i=s.t("dataSources.conditionFalse"),a=s.t("dataSources.conditionElse"),{appStore:c}=t,u=(x=c.sdkOptions.dataSources)==null?void 0:x.blocks,d=At.condition,p=At.conditionTrue,g=At.conditionFalse,h="data-type-data-condition",m=`<svg viewBox="0 0 24 24">
  <path d="M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29" />
</svg>`,b=y=>{const S=y.is(d)?y:y.closestType(d);if(!S)return;const w="dataConditionPicker",j={id:w,header:!1,layout:{type:"panelDataConditionPicker",component:S,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:w})},placer:{type:"dialog",title:s.t("dataSources.editCondition"),size:"l"}};e.runCommand(ce.layoutToggle,{...j})},v=({items:y,component:S})=>[{id:`open-${d}-picker`,label:ag,command:()=>b(S)},...y];n.addType(p,{isComponent:y=>Bo(y,p),model:{defaults:{...Cp(c),tagName:"span",name:o,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',toolbarItems:v}}}),n.addType(g,{isComponent:y=>Bo(y,g),model:{defaults:{...Cp(c),tagName:"span",name:i,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>',toolbarItems:v}}}),n.addType(d,{isComponent:y=>za(y,h)||Bo(y,d),block:u&&{label:r,media:m,content:{type:d,dataResolver:{condition:{logicalOperator:"and",statements:[{left:1,operator:">",right:0}]}},components:[{type:p},{type:g}]},...lg},model:{defaults:{...cg(c),icon:m,name:r,textable:!0,stylable:!1,tagName:"span",attributes:{[h]:!0},toolbarItems:v}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:y}=this;this.listenTo(y,pn.toggleDataSourcesPreview,this.renderDataResolver)},onActive(y){e.getEditing()||(y==null||y.stopPropagation(),b(this.model))},getConditionString(){const{model:y}=this,{operator:S,statements:w=[]}=y.getCondition(),j=S==="AND"?" AND ":" OR ",P=w.map(O=>{const{left:T="",operator:E="",right:A=""}=O,_=Pm(T),N=Pm(A);return`(${_} ${E} ${N})`}).join(j);return`${r}: ${P}`},renderDataResolver(){const y=this.model,S=y.getIfTrueContent(),w=y.getIfFalseContent(),j=S==null?void 0:S.getEl(),C=w==null?void 0:w.getEl();if(e.runCommand(ce.getStateDataSource).showPlaceholder){j&&(j.style.display="",j.style.setProperty(no,`"${this.getConditionString()} "`)),C&&(C.style.display="",C.style.setProperty(no,`" ${a} "`));return}const O=y.isTrue();j&&(j.style.removeProperty(no),j.style.display=O?"":"none"),C&&(C.style.removeProperty(no),C.style.display=O?"none":"")}}})}function lL(e,t){var p;const{Components:n,I18n:s}=e,r=At.variable,o="data-type-data-variable",i="Variable",a=`<svg viewBox="0 0 24 24"><path fill="currentColor" d="${Wl.codeBraces}"/></svg>`,{appStore:c}=t,u=(p=c.sdkOptions.dataSources)==null?void 0:p.blocks,d=g=>{const h="dataVariablePicker",m={id:h,header:!1,layout:{type:"panelDataVariablePicker",component:g,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:h})},placer:{type:"dialog",title:s.t("dataSources.editVariable"),size:"l"}};e.runCommand(ce.layoutToggle,{...m})};n.addType(r,{isComponent:g=>za(g,o)||Bo(g,r),block:u&&{label:i,media:a,content:{type:r,dataResolver:{path:"",defaultValue:s.t("dataSources.defaultValue")}},...lg},model:{defaults:{...cg(c),icon:a,name:i,textable:!0,tagName:"span",attributes:{[o]:!0},toolbarItems:({items:g,component:h})=>[{id:`open-${r}-modal`,label:ag,command:()=>d(h)},...g]}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:g}=this;this.listenTo(g,pn.toggleDataSourcesPreview,this.renderDataResolver)},onActive(g){e.getEditing()||(g==null||g.stopPropagation(),d(this.model))},renderDataResolver(){const{model:g,el:h}=this;if(e.runCommand(ce.getStateDataSource).showPlaceholder){const b=g.getPath();h.textContent="",h.style.setProperty(no,`"${vy(b)}"`);return}h.style.removeProperty(no),h.textContent=g.getDataValue()}}})}const Mo=(e,t,n)=>{const s=e.Components.getType(t);if(!s){console.warn(`Component type ${t} not found`);return}const r=s.model;e.Components.addType(t,{model:{...n,toHTML(o){var a;const{exporter:i}=o??{};return i?((a=n.toHTML)==null?void 0:a.call(this,o))??"":r.prototype.toHTML.call(this,o)??""}}})};function fl({component:e,value:t,getCustomPath:n}){if(ss(t)&&t.path&&!t.collectionId&&n){const s=t.path??"",r=s.split(".");return{...t,path:n({component:e,path:s,paths:r})}}return t}function cL(e,{isProjectTypeEmail:t}){const n=({content:o})=>t?`<mj-raw>${o}</mj-raw>`:o,s=({content:o})=>o;function r(o){const i=this.getInnerHTML(o);if(t||o.skipTags)return i;const a=this.tagName,c=this.__attrToString(o),u=c?` ${c}`:"",d=`<${a}${u}>`,p=`</${a}>`;return`${d}${i}${p}`}Mo(e,At.variable,{toHTML(o){var v;const i=o.skipTags??t,a=o.exporter,c=o.wrapTemplateContent??s,u=x=>c({component:this,content:x}),d=this.tagName,p=this.__attrToString(o),g=(v=this.getDataResolver)==null?void 0:v.call(this),h=fl({component:this,value:g,getCustomPath:o==null?void 0:o.getCustomPath}),m=a.getVariableSyntax({component:this,dataResolver:h}),b=u(m);return i?b:`<${d}${p?` ${p}`:""}>${b}</${d}>`}}),Mo(e,At.condition,{toHTML(o){var S,w,j;const{exporter:i}=o,a=o.wrapTemplateContent??n,c=C=>a({component:this,content:C}),u={component:this},d=o==null?void 0:o.getCustomPath,[p,g]=((S=this.components())==null?void 0:S.models)??[],h=(w=this.getDataResolver)==null?void 0:w.call(this),m=((j=this.resolveCondition)==null?void 0:j.call(this,h==null?void 0:h.condition,d))??{};let b="";if(g){const C=i.getConditionElseSyntax(u);b=`
${c(C)}
  ${g.toHTML(o)??""}`}const v=i.getConditionalStartSyntax({...u,dataResolver:{condition:m}}),x=i.getConditionalEndSyntax(u);return`
${`${c(v)}
  ${(p==null?void 0:p.toHTML(o))??""}${b}
${c(x)}`}
`},resolveCondition(o,i){if(typeof o=="boolean")return o;if(!o)return{};if(oL(o))return{...o,statements:o.statements.map(c=>this.resolveCondition(c,i))??[]};const a={component:this,getCustomPath:i};return{...o,left:fl({...a,value:o.left}),right:fl({...a,value:o.right})}}}),Mo(e,At.collection,{toHTML(o){const i=o.skipTags??t,{exporter:a}=o,c=o.wrapTemplateContent??n,u=P=>c({component:this,content:P}),d={component:this},p=this.getDataResolver(),g={...p,dataSource:fl({component:this,value:p==null?void 0:p.dataSource,getCustomPath:o==null?void 0:o.getCustomPath})},h=this.components().at(0),m=a.getCollectionStartSyntax({...d,dataResolver:g}),b=a.getCollectionEndSyntax(d),v=(h==null?void 0:h.toHTML(o))??"",x=`${u(m)}
  ${v}
${u(b)}`;if(i)return`
${x}
`;const y=this.tagName,S=this.__attrToString(o),w=S?` ${S}`:"",j=`<${y}${w}>`,C=`</${y}>`;return`
${j}${x}${C}
`}}),Mo(e,At.conditionTrue,{toHTML:r}),Mo(e,At.conditionFalse,{toHTML:r}),Mo(e,At.collectionItem,{toHTML:r})}const uL=function(e,t){const{Components:n,Canvas:s,events:r}=e;if(!n.getType(At.conditionTrue))return;const{isProjectTypeEmail:o,sdkOptions:i}=t.appStore,{dataSources:a}=i;a!=null&&a.globalData&&e.on(r.projectLoad,()=>{e.DataSources.add({id:jo.globalData,records:yy(a.globalData),skipFromStorage:!0})}),e.on(s.events.frameLoadBody,({window:c})=>{const u="data-outline-ds",d=c.document;if(d.querySelector(`style[${u}]`))return;const g=d.createElement("style"),h=[At.variable,At.condition,At.collection].map(m=>`.gjs-dashed [data-gjs-highlightable][data-gjs-type="${m}"]`);g.setAttribute(u,""),g.textContent=`
      ${h.join(",")} {
        outline: 2px dotted #8b5cf6;
      }

      .gjs-dashed *[data-gjs-type="data-condition-true-content"],
      .gjs-dashed *[data-gjs-type="data-condition-false-content"] {
        outline: none !important;
      }

      [data-gjs-type="data-variable"]::before,
      [data-gjs-type="data-condition-true-content"]::before,
      [data-gjs-type="data-condition-false-content"]::before {
          content: var(${no});
          font-style: italic;
          color: #666;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 100%;
          font-size: .9rem;
          font-weight: 500;
          font-family: sans-serif;
      }
    `,d.head.appendChild(g)}),lL(e,t),aL(e,t),iL(e,t),cL(e,{isProjectTypeEmail:o})};function dL(e){const{Components:t}=e,n=s=>{const{id:r,model:o}=s;if(r==="custom-code"){const i="<span>Insert here your custom code</span>";t.addType(r,{model:{defaults:{emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',classes:"gjs-custom-code",components:i,"custom-code-plugin__code":i,styles:".gjs-custom-code { padding: 5px; }"}}})}if(r==="typed"){const i=o.getDefaults().traits.map(a=>a.name==="strings"?{...a,type:"stack",addItem(c){return{id:c,label:`New string ${c}`}},getValue({component:c}){return c.get("strings").map((u,d)=>({id:`${d}`,label:u}))},setValue:({component:c,value:u})=>{const d=u.map(p=>p.label);c.set({strings:d}),c.trigger("rerender")},properties:[{name:"label"}]}:a);t.addType(r,{model:{defaults:{traits:i,strings:["These are the default values...!!!","Use your own strings from Properties!","Have a great day!"],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',classes:"gjs-typed",styles:`
                  .gjs-typed {
                    padding: 5px;
                  }
                `}}})}if(["tabs","tab-content","tab-contents","tab","tab-container"].indexOf(r)>=0){const a={emptyState:!0,icon:r==="tabs"?`
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          `:void 0};r==="tab"&&(a.traits=[{type:"button",label:!1,text:"Style Active",command:c=>{c.select(),c.runCommand(wy),setTimeout(()=>c.Selectors.select(".tab.tab-active"))}}]),t.addType(r,{model:{defaults:a}})}};e.on("component:type:add",n)}const pL=(e,t)=>{const n=t.appStore.store.globalStylesStore;e.on(e.events.projectLoad,({loaded:s})=>s&&n.onLoad())},fL=(e,t)=>{const{assetsStore:n}=t.appStore.store;if(n.onCloudOrCustomUpload){const{Assets:s}=e;s.getConfig().uploadFile=async(...r)=>{const o=r[0],i=await n.handleUpload(o),a=r[1];i&&(a==null||a({data:i}))}}e.on(e.events.destroy,()=>n.setAllProviders([]))},gL=(e,t)=>{t.runCommand(ce.fontAdd,{font:e})},ug=(e,{onSelect:t,...n}={})=>{const s="font",i=e.runCommand(ce.assetProviderGet).filter(a=>nt(a.types)?a.types===s:a.types.includes(s))[0];if(!i){e.em.logWarning("No font provider found");return}e.Assets.open({types:[],modalTitle:e.I18n.t("fontManager.selectFont"),projectAssetsOption:!1,typeId:s,providerId:i.id,onSelect:a=>{const c=a.assetProps;gL(c.customData.font,e),t==null||t(a)},content:{header:{addUrl:!1,upload:!1},itemsPerRow:1},...n})},hL=()=>{const{baseApiUrl:e}=Xi();return`${e}/sdk/projects`},xy=e=>`${hL()}/${e}`,mL=async({licenseKey:e,projectId:t,...n})=>{const s=await Ms.put(xy(t),{body:JSON.stringify(n),params:{d:window.location.hostname,licenseKey:e}});return s==null?void 0:s.result},bL=async(e,t)=>await Ms.put(t,{body:e,headers:{"Content-Type":"application/json"}}),vL=async(e,t,n,s)=>{const r=JSON.stringify(e),o=await mL({licenseKey:t,projectId:n,fileMetadata:{size:new Blob([r]).size},identityId:s,name:e.name,description:e.description});if(!o)throw new Error("Project not found");const{uploadUrl:i}=o;await bL(r,i)},yL=(e,t,n)=>Ms.get(xy(t),{params:{d:window.location.hostname,licenseKey:e,identityId:n}}),xL=async e=>await Ms.get(e),wL=async(e,t,n,s)=>{const r=await yL(t,n,s),o=r==null?void 0:r.result,i=r==null?void 0:r.errorData;if(!o&&(i!=null&&i.notFoundInDb))return{id:n,project:{}};if(!o)throw new Error("Project not found");const{downloadUrl:a}=o,c=await xL(a);if(!c||c instanceof Error)throw new Error("Project download failed");return{id:n,project:c}},SL=(e,t)=>{const{appEditorStore:n,toastStore:s,i18nStore:r}=t.appStore.store,{isUsingProjectSelfHosted:o,isUsingProjectCloud:i,sdkOptions:a}=n,c=a.storage||{},{project:u,onLoad:d,onSave:p,autosaveChanges:g,autosaveIntervalMs:h}=c;let m,b,v,x;if(o)v=d,x=p,m=g,b=h;else if(i){const C=a.licenseKey,P=n.sdkProjectId,O=n.sdkIdentityId,T=10,E=1e4;x=({project:A})=>vL(A,C,P,O),v=({editor:A})=>wL(A,C,P,O),m=Math.max(T,g??T),h&&(b=Math.max(E,h))}const{Storage:y,events:S}=e,{events:w}=y;let j=!1;if(e.once(S.projectLoad,C=>{j=!!C.loaded}),e.once("change:readyLoad",()=>{var P;const C=(P=a.project)==null?void 0:P.default;!j&&C&&e.loadProjectData(C)}),e.on(w.startStore,()=>n.setIsSaving(!0)),e.on(w.endStore,()=>n.setIsSaving(!1)),(v||u)&&x){const C="remote";y.setCurrent(C),y.add(C,{async load(){return u||(await v({editor:e})).project},async store(P){await x({project:P,editor:e})}}),e.on(w.errorLoad,P=>{s.addError("storage-error-load",{header:r.t("storageManager.errorLoad"),content:P.message})}),e.on(w.errorStore,P=>{s.addError("storage-error-store",{header:r.t("storageManager.errorStore"),content:P.message})}),m&&y.setStepsBeforeSave(m),b&&e.onReady(()=>{const P=setInterval(async()=>{e.getDirtyCount()>0&&!n.isSaving&&await e.store()},b);e.on("destroy",()=>clearInterval(P))})}},mc="select-target",wy="enable-sm";function jL(e,t){var M,H,U,B;const{appStore:n}=t,{appEditorStore:s,blockManagerStore:r,toastStore:o,modalStore:i,layoutStore:a,contextMenu:c,assetsStore:u,fontsStore:d}=n.store,{projectIdToLoad:p,nextProjectData:g,sdkOptions:h}=s,m=()=>r.toggleOpen(),b=()=>s.toggleLeftSidebar(),v=()=>s.toggleRightSidebar(),x=e.getConfig(),{Assets:y,Storage:S,Commands:w}=e,j=w.events,C=e.events,P=(H=(M=h.gjsOptions)==null?void 0:M.assetManager)==null?void 0:H.custom;let O=!1;if(y.all.model.prototype.idAttribute="src",Lt(P)&&(y.getConfig().custom=P),g&&(x.projectData=g,s.setNextProjectData()),p){const k=S.getConfig().options;k&&(k.local.key=p)}e.on(C.projectLoad,({project:k})=>{var D;n.setProjectDataCustom(k.custom||{projectType:(D=s.sdkOptions.project)==null?void 0:D.type}),d.loadFonts()}),e.on(C.projectGet,({project:k})=>{k.custom=oi(e)}),e.RichTextEditor.getConfig().custom=!0;const{Canvas:T}=e,E=qs(()=>s.setCanvasPanning(!1),200);e.on(T.events.coords,()=>{s.setCanvasPanning(!0),E()}),e.on(T.events.frameLoad,({el:k})=>{k.tabIndex=-1});const{Parser:A}=e,_=((U=s.sdkOptions.parser)==null?void 0:U.showErrors)!==!1;(B=A.events)!=null&&B.css&&_&&e.on(A.events.css,k=>{const{error:D}=k;if(D){const $=nt(D)?D:D.name&&D.reason?`${D.name}: ${D.reason}`:D.message;o.addError("css-error",{header:"CSS Parser Error",content:$})}}),[{id:"toggle-lsidebar",keys:"alt+ctrl+,",cmd:b},{id:"toggle-lsidebar2",keys:"alt++,",cmd:b},{id:"toggle-rsidebar",keys:"alt+ctrl+., alt++.",cmd:v},{id:"show-blocks",keys:"ctrl+b, +b",cmd:m},{id:"add-symbol",keys:"alt+ctrl+k, alt++k",cmd:ce.symbolAdd},{id:"detach-symbol",keys:"shift+alt+ctrl+k, shift+alt++k",cmd:ce.symbolDetach}].forEach(({id:k,keys:D,cmd:$})=>{e.Keymaps.add(`preset:${k}`,D,$,{prevent:!0})}),e.on(`${j.runCommand}core:preview`,()=>{s.setPreview(!0),r.setOpen(!1),wm(e,!1)}),e.on(`${j.stopCommand}core:preview`,()=>{s.setPreview(!1),wm(e,!0),setTimeout(()=>{e.refresh()},s.transitionTime)});const N="target-selection",{Components:V}=e;w.add(mc,{opts:{},init(){this.beforeSelect=this.beforeSelect.bind(this)},onComponentHover(k,D){const $={id:N,type:"target",component:D};D?T.addSpot($):T.removeSpots($)},beforeSelect(k,D={}){D.abort=!0,D.useValid=!1,this.opts.onSelect(k),e.stopCommand(mc)},run(k,D,$){this.opts=$,e.on("component:select:before",this.beforeSelect),e.on("change:componentHovered",this.onComponentHover)},stop(){e.off("component:select:before",this.beforeSelect),e.off("change:componentHovered",this.onComponentHover),T.removeSpots({id:N}),s.setSelectingTarget(!1)}}),w.add(wy,()=>{s.setSelectedDesignerTab("style")}),w.add(ce.toastAdd,(k,D,$)=>{o.add($.id,$)}),w.add(ce.toastRemove,(k,D,$)=>{o.remove($.id)}),w.add(ce.dialogOpen,(k,D,$)=>{i.open($)}),w.add(ce.dialogClose,()=>{i.close()}),w.add(ce.dialogExportCode,()=>{i.open({title:e.t("actions.showCode.title"),content:()=>{var k,D;return f.createElement(YM,{options:(D=(k=h.commands)==null?void 0:k.options)==null?void 0:D[Nn.showCode]})}})}),w.add(ce.sidebarLeftGet,()=>({visible:s.isLeftSidebarOpen})),w.add(ce.sidebarLeftSet,(k,D,$)=>{s.setLeftSidebarOpen(!!$.visible)}),w.add(ce.sidebarLeftToggle,()=>{s.setLeftSidebarOpen(!s.isLeftSidebarOpen)}),w.add(ce.sidebarRightGet,()=>({visible:s.isRightSidebarOpen})),w.add(ce.sidebarRightSet,(k,D,$)=>{s.setRightSidebarOpen(!!$.visible)}),w.add(ce.sidebarRightToggle,()=>{s.setRightSidebarOpen(!s.isRightSidebarOpen)}),w.add(ce.sidebarTopGet,()=>({visible:s.isTopSidebarOpen})),w.add(ce.sidebarTopSet,(k,D,$)=>{s.setTopSidebarOpen(!!$.visible)}),w.add(ce.sidebarTopToggle,()=>{s.setTopSidebarOpen(!s.isTopSidebarOpen)}),w.add(ce.sidebarBottomGet,()=>({visible:s.isBottomSidebarOpen})),w.add(ce.sidebarBottomSet,(k,D,$)=>{s.setBottomSidebarOpen(!!$.visible)}),w.add(ce.sidebarBottomToggle,()=>{s.setBottomSidebarOpen(!s.isBottomSidebarOpen)}),w.add(ce.layoutAdd,(k,D,$)=>{$.id&&a.add($.id,$)}),w.add(ce.layoutRemove,(k,D,$)=>{const{id:z,...J}=$;a.remove(z,J)}),w.add(ce.layoutToggle,(k,D,$)=>{const{id:z,...J}=$;z&&(a.get(z)?a.remove(z,J):a.add(z,J))}),w.add(ce.layoutUpdate,(k,D,$)=>{const z=$;e.runCommand(ce.layoutRemove,{id:z.id,layout:{placer:{...z.placer,skipCleanup:!0}},force:!0}),setTimeout(()=>e.runCommand(ce.layoutAdd,{...z}))}),w.add(ce.layoutGet,(k,D,$)=>[vr(a.get($.id))]),w.add(ce.layoutConfigGet,()=>vr(a.customConfig)),w.add(ce.layoutConfigSet,(k,D,$)=>{const z=$;a.setCustomConfig(z)}),w.add(ce.getStateTheme,()=>s.publicStateTheme),w.add(ce.setStateTheme,(k,D,$)=>s.setPublicStateTheme($)),w.add(ce.getPagesConfig,()=>s.sdkPagesConfig),w.add(ce.setPagesConfig,(k,D,$)=>{const{config:z}=$||{};Lt(z)&&s.setSdkPagesConfig(z)}),w.add(ce.getPageSettings,()=>JSON.parse(JSON.stringify(s.panelPageSettings))),w.add(ce.setPageSettings,(k,D,$)=>{s.setPanelPageSettings($)}),w.add(ce.clearPage,()=>{const k=D=>e.t(`actions.${D}`);i.confirm({title:k("clearCanvas.title"),content:k("clearCanvas.content"),confirmButton:{variant:"danger",children:k("clearCanvas.title")},onConfirm:()=>{C3(e)?e.loadProjectData({pages:[{component:"<mjml><mj-body></mj-body></mjml>"}]}):e.Components.clear()}})}),w.add(ce.projectFiles,(k,D,$)=>{var Q,ne;const z=(Q=s.sdkOptions.dataSources)==null?void 0:Q.exportConfig,J=((ne=$.exportConfig)==null?void 0:ne.exportPreset)??z,Y={isMJML:s.isProjectTypeEmail,exportConfig:J,...$};return eL(k,Y)}),w.add(ce.validateCode,(k,D,$)=>X0({...$,appStore:n})),w.add(ce.getBlocksPanel,()=>({isOpen:r.isOpen})),w.add(ce.setBlocksPanel,(k,D,$)=>{const z=$||{};Lt(z.isOpen)&&r.setOpen(z.isOpen)}),w.add(ce.canvasReload,()=>{const k=e.getSelected(),D=T.getCanvasView(),{frames:$}=T.canvas;$.once("loaded:all",()=>{const z=k==null?void 0:k.getView();z&&!z.isInViewport()&&z.el.scrollIntoView({block:"center"})}),D.renderFrames()}),w.add(ce.contextMenuComponent,(k,D,$)=>{const{component:z,...J}=$;c.showForComponent(z,J)}),w.add(ce.getStateContextMenu,()=>c.publicState),w.add(ce.setStateContextMenu,(k,D,$)=>{c.setPublicState($)}),w.add(ce.symbolAdd,(k,D,$)=>{const z=$.component||e.getSelected();if(z)return V.getSymbolInfo(z).isSymbol?o.add("skip-symbol",{header:"The selected element is already a symbol",variant:Kt.Warning}):V.addSymbol(z)}),w.add(ce.symbolDetach,(k,D,$)=>{const z=$.component||e.getSelected();z&&V.getSymbolInfo(z).isRoot&&V.detachSymbol(z)}),w.add(ce.symbolOverride,(k,D,$)=>{const z=$.component||e.getSelected();z&&(z.setSymbolOverride($.override),e.Layers.updateLayer(z))}),w.add(ce.symbolPropagateStyles,(k,D,$)=>{const z=$.component||e.getSelected();if(!z)return;const{Css:J}=e,Y=J.getComponentRules(z,{current:!0})[0];if(Y){const{state:Q,mediaText:ne}=Y.attributes,ee=Y.getStyle();V.getSymbolInfo(z).relatives.forEach(K=>{J.setIdRule(K.getId(),ee,{state:Q,mediaText:ne})})}$.deep&&z.components().forEach(Q=>e.runCommand(ce.symbolPropagateStyles,{...$,component:Q}))}),w.add(ce.assetProviderGet,()=>vr(u.allProviders)),w.add(ce.assetProviderAdd,(k,D,{provider:$,index:z})=>{u.addProvider($,z)}),w.add(ce.assetProviderRemove,(k,D,{id:$})=>{const z=u.allProviders.filter(J=>J.id!==$);u.setAllProviders(z)}),w.add(ce.fontGet,()=>vr(d.fonts)),w.add(ce.fontAdd,(k,D,{font:$})=>{d.addFont($)}),w.add(ce.fontRemove,(k,D,{family:$})=>{d.removeFont($)}),w.add(ce.fontManagerOpen,(k,D,$)=>{ug(k,$)}),w.add(ce.menuFontLoad,(k,D,{font:$})=>Xf($,!1)),w.add(ce.toggleStateDataSource,()=>(O=!O,e.trigger(pn.toggleDataSourcesPreview,{showPlaceholder:O}),e.refresh({tools:!0}),{showPlaceholder:O})),w.add(ce.getStateDataSource,()=>({showPlaceholder:O})),w.add(ce.dataSourceSetGlobalData,(k,D,{globalData:$})=>{const z=yy($);return e.DataSources.get(jo.globalData).setRecords(z)}),w.add(ce.setDragAbsolute,(k,D,{enabled:$})=>{s.setIsDraggingAbsolute(!!$)}),w.add(ce.dataSourceSetImporter,(k,D,$)=>{e.on(e.Parser.events.htmlBefore,z=>{z.input=$.import(z.input)})}),w.add(ce.dataSourceSetExporter,(k,D,$)=>{e.config.optsHtml={...e.config.optsHtml,exporter:$}}),fL(e,t),SL(e,t),pL(e,t),dL(e),tL(e),CM(e),nL(e,t),uL(e,t)}const CL=/\s(?![^(]*\))/,Tm=/^-?[0-9]+[a-zA-Z%]{0,}$/;function Om(e){const t=e.split(CL),n=t.indexOf("inset")>=0,s=t.filter(d=>d!=="inset"),r=s.filter(d=>!Tm.test(d))[0]||"currentColor",o=s.filter(d=>Tm.test(d)),[i="0",a="0",c="0",u="0"]=o;return{x:i,y:a,blur:c,spread:u,inset:n,color:r}}function au(e){const t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}var EL={grad:.9,turn:360,rad:360/(2*Math.PI)},Fs=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},$t=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Hn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Sy=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},_m=function(e){return{r:Hn(e.r,0,255),g:Hn(e.g,0,255),b:Hn(e.b,0,255),a:Hn(e.a)}},pd=function(e){return{r:$t(e.r),g:$t(e.g),b:$t(e.b),a:$t(e.a,3)}},PL=/^#([0-9a-f]{3,8})$/i,gl=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},jy=function(e){var t=e.r,n=e.g,s=e.b,r=e.a,o=Math.max(t,n,s),i=o-Math.min(t,n,s),a=i?o===t?(n-s)/i:o===n?2+(s-t)/i:4+(t-n)/i:0;return{h:60*(a<0?a+6:a),s:o?i/o*100:0,v:o/255*100,a:r}},Cy=function(e){var t=e.h,n=e.s,s=e.v,r=e.a;t=t/360*6,n/=100,s/=100;var o=Math.floor(t),i=s*(1-n),a=s*(1-(t-o)*n),c=s*(1-(1-t+o)*n),u=o%6;return{r:255*[s,a,i,i,c,s][u],g:255*[c,s,s,a,i,i][u],b:255*[i,i,c,s,s,a][u],a:r}},Am=function(e){return{h:Sy(e.h),s:Hn(e.s,0,100),l:Hn(e.l,0,100),a:Hn(e.a)}},Mm=function(e){return{h:$t(e.h),s:$t(e.s),l:$t(e.l),a:$t(e.a,3)}},Lm=function(e){return Cy((n=(t=e).s,{h:t.h,s:(n*=((s=t.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:t.a}));var t,n,s},Wi=function(e){return{h:(t=jy(e)).h,s:(r=(200-(n=t.s))*(s=t.v)/100)>0&&r<200?n*s/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,s,r},TL=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OL=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_L=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AL=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ep={string:[[function(e){var t=PL.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?$t(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?$t(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=_L.exec(e)||AL.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:_m({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=TL.exec(e)||OL.exec(e);if(!t)return null;var n,s,r=Am({h:(n=t[1],s=t[2],s===void 0&&(s="deg"),Number(n)*(EL[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Lm(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,s=e.b,r=e.a,o=r===void 0?1:r;return Fs(t)&&Fs(n)&&Fs(s)?_m({r:Number(t),g:Number(n),b:Number(s),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,s=e.l,r=e.a,o=r===void 0?1:r;if(!Fs(t)||!Fs(n)||!Fs(s))return null;var i=Am({h:Number(t),s:Number(n),l:Number(s),a:Number(o)});return Lm(i)},"hsl"],[function(e){var t=e.h,n=e.s,s=e.v,r=e.a,o=r===void 0?1:r;if(!Fs(t)||!Fs(n)||!Fs(s))return null;var i=function(a){return{h:Sy(a.h),s:Hn(a.s,0,100),v:Hn(a.v,0,100),a:Hn(a.a)}}({h:Number(t),s:Number(n),v:Number(s),a:Number(o)});return Cy(i)},"hsv"]]},Nm=function(e,t){for(var n=0;n<t.length;n++){var s=t[n][0](e);if(s)return[s,t[n][1]]}return[null,void 0]},ML=function(e){return typeof e=="string"?Nm(e.trim(),Ep.string):typeof e=="object"&&e!==null?Nm(e,Ep.object):[null,void 0]},fd=function(e,t){var n=Wi(e);return{h:n.h,s:Hn(n.s+100*t,0,100),l:n.l,a:n.a}},gd=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},km=function(e,t){var n=Wi(e);return{h:n.h,s:n.s,l:Hn(n.l+100*t,0,100),a:n.a}},Pp=function(){function e(t){this.parsed=ML(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return $t(gd(this.rgba),2)},e.prototype.isDark=function(){return gd(this.rgba)<.5},e.prototype.isLight=function(){return gd(this.rgba)>=.5},e.prototype.toHex=function(){return t=pd(this.rgba),n=t.r,s=t.g,r=t.b,i=(o=t.a)<1?gl($t(255*o)):"","#"+gl(n)+gl(s)+gl(r)+i;var t,n,s,r,o,i},e.prototype.toRgb=function(){return pd(this.rgba)},e.prototype.toRgbString=function(){return t=pd(this.rgba),n=t.r,s=t.g,r=t.b,(o=t.a)<1?"rgba("+n+", "+s+", "+r+", "+o+")":"rgb("+n+", "+s+", "+r+")";var t,n,s,r,o},e.prototype.toHsl=function(){return Mm(Wi(this.rgba))},e.prototype.toHslString=function(){return t=Mm(Wi(this.rgba)),n=t.h,s=t.s,r=t.l,(o=t.a)<1?"hsla("+n+", "+s+"%, "+r+"%, "+o+")":"hsl("+n+", "+s+"%, "+r+"%)";var t,n,s,r,o},e.prototype.toHsv=function(){return t=jy(this.rgba),{h:$t(t.h),s:$t(t.s),v:$t(t.v),a:$t(t.a,3)};var t},e.prototype.invert=function(){return us({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),us(fd(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),us(fd(this.rgba,-t))},e.prototype.grayscale=function(){return us(fd(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),us(km(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),us(km(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?us({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):$t(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Wi(this.rgba);return typeof t=="number"?us({h:t,s:n.s,l:n.l,a:n.a}):$t(n.h)},e.prototype.isEqual=function(t){return this.toHex()===us(t).toHex()},e}(),us=function(e){return e instanceof Pp?e:new Pp(e)},Rm=[],LL=function(e){e.forEach(function(t){Rm.indexOf(t)<0&&(t(Pp,Ep),Rm.push(t))})};function NL(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var r in n)s[n[r]]=r;var o={};e.prototype.toName=function(i){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,u=s[this.toHex()];if(u)return u;if(i!=null&&i.closest){var d=this.toRgb(),p=1/0,g="black";if(!o.length)for(var h in n)o[h]=new e(n[h]).toRgb();for(var m in n){var b=(a=d,c=o[m],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));b<p&&(p=b,g=m)}return g}},t.string.push([function(i){var a=i.toLowerCase(),c=a==="transparent"?"#0000":n[a];return c?new e(c).toRgb():null},"name"])}function lu(){return(lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function Ey(e,t){if(e==null)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)t.indexOf(n=o[s])>=0||(r[n]=e[n]);return r}function Tp(e){var t=f.useRef(e),n=f.useRef(function(s){t.current&&t.current(s)});return t.current=e,n.current}var ii=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Gi=function(e){return"touches"in e},Op=function(e){return e&&e.ownerDocument.defaultView||self},$m=function(e,t,n){var s=e.getBoundingClientRect(),r=Gi(t)?function(o,i){for(var a=0;a<o.length;a++)if(o[a].identifier===i)return o[a];return o[0]}(t.touches,n):t;return{left:ii((r.pageX-(s.left+Op(e).pageXOffset))/s.width),top:ii((r.pageY-(s.top+Op(e).pageYOffset))/s.height)}},Im=function(e){!Gi(e)&&e.preventDefault()},dg=f.memo(function(e){var t=e.onMove,n=e.onKey,s=Ey(e,["onMove","onKey"]),r=f.useRef(null),o=Tp(t),i=Tp(n),a=f.useRef(null),c=f.useRef(!1),u=f.useMemo(function(){var h=function(v){Im(v),(Gi(v)?v.touches.length>0:v.buttons>0)&&r.current?o($m(r.current,v,a.current)):b(!1)},m=function(){return b(!1)};function b(v){var x=c.current,y=Op(r.current),S=v?y.addEventListener:y.removeEventListener;S(x?"touchmove":"mousemove",h),S(x?"touchend":"mouseup",m)}return[function(v){var x=v.nativeEvent,y=r.current;if(y&&(Im(x),!function(w,j){return j&&!Gi(w)}(x,c.current)&&y)){if(Gi(x)){c.current=!0;var S=x.changedTouches||[];S.length&&(a.current=S[0].identifier)}y.focus(),o($m(y,x,a.current)),b(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),i({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},b]},[i,o]),d=u[0],p=u[1],g=u[2];return f.useEffect(function(){return g},[g]),f.createElement("div",lu({},s,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:r,onKeyDown:p,tabIndex:0,role:"slider"}))}),cu=function(e){return e.filter(Boolean).join(" ")},pg=function(e){var t=e.color,n=e.left,s=e.top,r=s===void 0?.5:s,o=cu(["react-colorful__pointer",e.className]);return f.createElement("div",{className:o,style:{top:100*r+"%",left:100*n+"%"}},f.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},tn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Py=function(e){var t=e.s,n=e.v,s=e.a,r=(200-t)*n/100;return{h:tn(e.h),s:tn(r>0&&r<200?t*n/100/(r<=100?r:200-r)*100:0),l:tn(r/2),a:tn(s,2)}},_p=function(e){var t=Py(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},hd=function(e){var t=Py(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},kL=function(e){var t=e.h,n=e.s,s=e.v,r=e.a;t=t/360*6,n/=100,s/=100;var o=Math.floor(t),i=s*(1-n),a=s*(1-(t-o)*n),c=s*(1-(1-t+o)*n),u=o%6;return{r:tn(255*[s,a,i,i,c,s][u]),g:tn(255*[c,s,s,a,i,i][u]),b:tn(255*[i,i,c,s,s,a][u]),a:tn(r,2)}},RL=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?$L({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},$L=function(e){var t=e.r,n=e.g,s=e.b,r=e.a,o=Math.max(t,n,s),i=o-Math.min(t,n,s),a=i?o===t?(n-s)/i:o===n?2+(s-t)/i:4+(t-n)/i:0;return{h:tn(60*(a<0?a+6:a)),s:tn(o?i/o*100:0),v:tn(o/255*100),a:r}},IL=f.memo(function(e){var t=e.hue,n=e.onChange,s=cu(["react-colorful__hue",e.className]);return f.createElement("div",{className:s},f.createElement(dg,{onMove:function(r){n({h:360*r.left})},onKey:function(r){n({h:ii(t+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":tn(t),"aria-valuemax":"360","aria-valuemin":"0"},f.createElement(pg,{className:"react-colorful__hue-pointer",left:t/360,color:_p({h:t,s:100,v:100,a:1})})))}),VL=f.memo(function(e){var t=e.hsva,n=e.onChange,s={backgroundColor:_p({h:t.h,s:100,v:100,a:1})};return f.createElement("div",{className:"react-colorful__saturation",style:s},f.createElement(dg,{onMove:function(r){n({s:100*r.left,v:100-100*r.top})},onKey:function(r){n({s:ii(t.s+100*r.left,0,100),v:ii(t.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+tn(t.s)+"%, Brightness "+tn(t.v)+"%"},f.createElement(pg,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:_p(t)})))}),DL=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},HL=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function FL(e,t,n){var s=Tp(n),r=f.useState(function(){return e.toHsva(t)}),o=r[0],i=r[1],a=f.useRef({color:t,hsva:o});f.useEffect(function(){if(!e.equal(t,a.current.color)){var u=e.toHsva(t);a.current={hsva:u,color:t},i(u)}},[t,e]),f.useEffect(function(){var u;DL(o,a.current.hsva)||e.equal(u=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:u},s(u))},[o,e,s]);var c=f.useCallback(function(u){i(function(d){return Object.assign({},d,u)})},[]);return[o,c]}var BL=typeof window<"u"?f.useLayoutEffect:f.useEffect,zL=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Vm=new Map,UL=function(e){BL(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Vm.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Vm.set(t,n);var s=zL();s&&n.setAttribute("nonce",s),t.head.appendChild(n)}},[])},WL=function(e){var t=e.className,n=e.hsva,s=e.onChange,r={backgroundImage:"linear-gradient(90deg, "+hd(Object.assign({},n,{a:0}))+", "+hd(Object.assign({},n,{a:1}))+")"},o=cu(["react-colorful__alpha",t]),i=tn(100*n.a);return f.createElement("div",{className:o},f.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),f.createElement(dg,{onMove:function(a){s({a:a.left})},onKey:function(a){s({a:ii(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":i+"%","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},f.createElement(pg,{className:"react-colorful__alpha-pointer",left:n.a,color:hd(n)})))},GL=function(e){var t=e.className,n=e.colorModel,s=e.color,r=s===void 0?n.defaultColor:s,o=e.onChange,i=Ey(e,["className","colorModel","color","onChange"]),a=f.useRef(null);UL(a);var c=FL(n,r,o),u=c[0],d=c[1],p=cu(["react-colorful",t]);return f.createElement("div",lu({},i,{ref:a,className:p}),f.createElement(VL,{hsva:u,onChange:d}),f.createElement(IL,{hue:u.h,onChange:d}),f.createElement(WL,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},KL={defaultColor:"rgba(0, 0, 0, 1)",toHsva:RL,fromHsva:function(e){var t=kL(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:HL},qL=function(e){return f.createElement(GL,lu({},e,{colorModel:KL}))};LL([NL]);const YL="gs-cmp-color-picker",ZL={backgroundSize:"10px"},XL=[0,15],JL=e=>e.startsWith("rgba")?e:us(e).toRgbString();function Ty({className:e,value:t,onChange:n,disabled:s}){const r=JL(t||""),o=f.useRef(r),[i,a]=f.useState(!1),c=Ls()&&!!window.EyeDropper,u=L(`${YL}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,e,re.b,re.rnd,F.br),d=v=>{o.current=v,n==null||n(v)},p=v=>{o.current=v,n==null||n(v,!0)},g=()=>{c&&new window.EyeDropper().open().then(x=>d(x.sRGBHex)).catch(console.warn)},h=()=>{a(!0)},m=()=>{n==null||n(o.current,!1),a(!1)},b=l.jsxs("div",{style:ZL,className:u,children:[i&&l.jsx("div",{onPointerUp:m,className:"gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing"}),l.jsx("div",{className:"gs-utl-w-4 gs-utl-h-4",style:{backgroundColor:t}})]});return l.jsxs(Ns,{handler:b,title:"Color",size:"s",placement:"left-end",offset:XL,clickAway:!0,disabled:s,children:[l.jsx(qL,{className:"color-picker",color:r,onChange:p,onPointerDown:h,onPointerUp:m}),l.jsxs(R,{className:"gs-utl-mt-3",gap:"s",children:[l.jsx(I,{grow:!0,children:l.jsx(Je,{size:"s",value:r,onChange:d})}),c&&l.jsx(ze,{type:"button",onClick:g,children:l.jsx(se,{icon:G.eyedropperVariant,size:ae.s})})]})]})}const QL=e=>{const t=parseFloat(e),n=e.replace(`${t}`,"").trim();return{number:t||t===0?`${t}`:"",unit:n}},Oy=({value:e,step:t})=>{const n=parseFloat(`${e}`);let s=0;if(Math.floor(n)!==n&&t){const r=`${t}`.split(".")[1];s=(r==null?void 0:r.length)||0}return s?parseFloat(n.toFixed(s)):n},eN=({value:e,key:t,shiftKey:n,min:s,max:r,step:o=1})=>{const i=t==="ArrowUp",a=t==="ArrowDown";let c=null;if(i||a){c=Number(e);const u=parseFloat(`${o}`);i&&(c+=(n?10:1)*u),a&&(c-=(n?10:1)*u),c=`${uu({min:s,max:r,value:c})}`,c=Oy({value:c,step:o})}return c},uu=({min:e,max:t,value:n})=>{const s=parseFloat(`${n}`);let r=s||0;return Lt(e)&&(r=Math.max(r,parseFloat(`${e}`)||0)),Lt(t)&&(r=Math.min(r,parseFloat(`${t}`)||0)),`${`${s}`!=`${n}`?n:r}`},tN=(e,t,n,s={})=>{const r=parseInt(`${e}`,10)||0,{min:o,max:i,step:a=1}=s;let c=r;const u=p=>{const g=p.clientY-t,h=r-g*parseFloat(`${a}`);c=Oy({value:uu({min:o,max:i,value:h}),step:a}),n(c,!0)},d=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),n(c)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},nN=(e,t,n={})=>{const{partial:s}=n,r=(o,i)=>o===i||s&&o.startsWith(i);return t.some(o=>r(typeof o=="string"?o:o.id,e))},Dm=e=>Lt(e)?e:"",sN="gs-cmp-number-field";function Ae(e){const{className:t,value:n,units:s,valueUnit:r,size:o="m",pan:i=!0,min:a,max:c,step:u,placeholder:d,disabled:p,onChange:g,onChangeUnit:h}=e,[m,b]=f.useState(Dm(n)),[v,x]=f.useState(!1),y=(s==null?void 0:s.map(T=>({id:T,label:T})))||[],S={min:a,max:c,step:u};f.useEffect(()=>{b(Dm(n))},[n,r]);const w=(T,E)=>{g==null||g(uu({min:a,max:c,value:T}),E)},j=T=>{if(p)return;x(!0);const E=(A,_)=>{w(A,!!_),!_&&x(!1)};tN(m,T.clientY,E,S)},C=T=>{const{key:E,shiftKey:A}=T;switch(E){case"Escape":return b(n);case"Enter":return w(m)}const _=eN({step:u,value:n,key:E,shiftKey:A});_!==null&&(T.preventDefault(),w(_))},P=()=>{w(m)},O=$r({...e,className:L(sN,t)});return l.jsxs("div",{...O,children:[v&&l.jsx("div",{className:L("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-ns")}),l.jsx(os,{as:e.labelAs,...e}),l.jsxs(R,{className:Gf(e),items:"center",space:"x2s",children:[!!i&&l.jsx(I,{onMouseDown:j,className:L("gs-utl-opacity-50 gs-utl-cursor-ns",o==="m"&&"-gs-utl-ml-3",o==="s"&&"-gs-utl-ml-2",i!==!0&&"gs-utl-mr-0.5 -gs-utl-ml-1"),children:i===!0?l.jsx(se,{icon:G.panVertical,size:ae.s2x}):i}),l.jsx(I,{grow:!0,children:l.jsx("input",{className:Ba(e),value:m,disabled:p,onChange:T=>b(T.target.value),placeholder:d,onBlur:P,onKeyDown:C})}),!!y.length&&l.jsx(I,{className:L(y.length===1&&"gs-utl-opacity-50 gs-utl-pointer-events-none"),children:l.jsx(Ee,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:r,disabled:p,onChange:T=>h==null?void 0:h(T),options:y})})]})]})}const rN="gs-cmp-switch-field";function ha(e){const{className:t,value:n,label:s,labelAs:r,border:o,disabled:i,onChange:a}=e,c=!!n,u=L("gs-utl-relative gs-utl-inline-flex gs-utl-items-center gs-utl-h-6 gs-utl-rounded-full gs-utl-w-11 gs-utl-transition-colors focus:gs-utl-outline-none",c?F.bgA:F.bgH,ia.focus,o&&`${F.br} ${re.b}`);return l.jsx(Zu.Group,{children:l.jsxs(R,{items:"center",className:L(rN,t),full:!0,children:[!!s&&l.jsx(Zu.Label,{as:r,className:L("gs-utl-mr-4 gs-utl-flex-1"),passive:!0,children:l.jsx(os,{...e,as:"span"})}),l.jsx(Zu,{checked:c,onChange:a,className:u,disabled:i,children:l.jsx("span",{className:L(F.bg,"gs-utl-inline-block gs-utl-w-4 gs-utl-h-4 gs-utl-transform gs-utl-rounded-full gs-utl-transition-transform",c?"gs-utl-translate-x-6":"gs-utl-translate-x-1")})})]})})}const oN=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,iN=/,(?![^(]*\))/,md=/\s(?![^(]*\))/,aN=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,bd=/^circle|ellipse/i,fg=e=>{var d;const t=[],{name:n,value:s}=au(e),[r,...o]=s.split(iN).map(p=>p.trim()).filter(Boolean),i=o.length>1,a=i?r:"",c={type:"none"},u=i?o:[r,...o];if(oN.test(a))c.type="angle",c.value=a;else if(/^to\s/.test(a))c.type="side-or-corner",c.value=a;else if(aN.test(a))c.type="size",c.value=a;else if(bd.test(a)||/^at\s/.test(a)||/\sat\s/.test(a)){c.type="at",c.value=a;const p=((d=a.match(bd))==null?void 0:d[0])||"circle";c.shape=p;const g={x:"0%",y:"0%"},h={x:"0%",y:"0%"},[m,b]=a.replace(bd,"").trim().split("at").map(v=>v.trim());if(m){const[v,x]=m.split(md);g.x=v,g.y=x||v}if(b){const[v,x]=b.split(md);h.x=v,h.y=x||v}c.size=g,c.position=h}return u.forEach(p=>{const[g,h]=p.split(md);t.push({color:g,hint:h?parseFloat(h):null})}),t.forEach((p,g)=>{p.hint===null&&(p.hint=g/(t.length-1)*100)}),{name:n,orientation:c,colorStops:t}},ur=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const r=(e.length===1?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map(o=>`${o.color} ${o.hint?`${o.hint}%`:""}`.trim()).join(", ");return r?`${n}(${t}, ${r})`:"none"},lN=e=>e.slice().sort((t,n)=>(t.hint||0)-(n.hint||0)),cN="gs-cmp-grad-picker";function uN({className:e,value:t,onChange:n}){var H,U,B;const s=fg(t),[r,o]=f.useState(s.colorStops),[i,a]=f.useState(null),c=f.useRef(null),u=W(cN,"gs-grad-picker gs-utl-select-none gs-utl-gap-1",e,re.rnd),d=s.name||"linear-gradient",p=d.indexOf("radial")>=0,g=d.indexOf("repeating")>=0,h=s.orientation.value,m=`${parseFloat(`${h}`)||180}`,b=`${parseFloat(`${(H=s.orientation.size)==null?void 0:H.x}`)||0}`,v=`${parseFloat(`${(U=s.orientation.position)==null?void 0:U.x}`)||0}`,x=`${parseFloat(`${(B=s.orientation.position)==null?void 0:B.y}`)||0}`,y=0,S=100,w=(k,D=!1)=>{const $=lN(k);o($),n==null||n(ur({name:d,orientation:h,stops:$}),D)},j=(k,D=!1)=>{n==null||n(ur({stops:r,name:d,orientation:`${k}deg`}),D)},C=(k,D=!1)=>{n==null||n(ur({stops:r,name:d,orientation:`${k}px at ${v}% ${x}%`}),D)},P=(k,D=!1)=>{n==null||n(ur({stops:r,name:d,orientation:`${b}px at ${k}% ${x}%`}),D)},O=(k,D=!1)=>{n==null||n(ur({stops:r,name:d,orientation:`${b}px at ${v}% ${k}%`}),D)},T=k=>{const D=`${k?"repeating-":""}${p?"radial":"linear"}-gradient`;n==null||n(ur({stops:r,orientation:h,name:D}))},E=k=>{const D=`${g?"repeating-":""}${k?"radial":"linear"}-gradient`;n==null||n(ur({stops:r,orientation:k?"100px at 50% 50%":"90deg",name:D}))};f.useEffect(()=>{if(!i)return;const k=parseFloat(`${i.stop.hint}`),D=z=>{let Y=(z.clientX-i.x)*100;Y=Y/i.w,Y=k+Y,Y=Y<y?y:Y,Y=Y>S?S:Y,i.stop.hint=parseInt(`${Y}`,10),w(r,!0)},$=()=>{a(null),w(r)};return window.addEventListener("pointermove",D),window.addEventListener("pointerup",$),()=>{window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",$),$()}},[i]);const A=(k,D)=>{const $=c.current;a({stop:D,w:($==null?void 0:$.clientWidth)||0,h:($==null?void 0:$.clientHeight)||0,x:k.clientX,y:k.clientY})},_=k=>{const D=c.current,$=(D==null?void 0:D.clientWidth)||0,z=(D==null?void 0:D.clientHeight)||0,J=k.nativeEvent.offsetX-((D==null?void 0:D.clientLeft)||0),Y=k.nativeEvent.offsetY-((D==null?void 0:D.clientTop)||0),Q=J/$*100,ne=document.createElement("canvas"),ee=ne.getContext("2d");if(!ee)return;ne.width=$,ne.height=z;const K=ee.createLinearGradient(0,0,$,z);r.forEach(he=>K.addColorStop(parseFloat(`${he.hint}`)/100,he.color)),ee.fillStyle=K,ee.fillRect(0,0,ne.width,ne.height),ne.style.background="black";const Z=ee.getImageData(J,Y,1,1).data,ie=Z[3]?(100/255*Z[3]/100).toFixed(2):0,ue=`rgba(${Z[0]}, ${Z[1]}, ${Z[2]}, ${ie})`,ve=ue==="rgba(0, 0, 0, 0)"?"#000":ue;w([...r,{color:ve,hint:Q}])},N=k=>{w(r.filter(D=>D!==k))},V=(k,D,$)=>{D&&(k.color=D),w(r,$)},M=k=>(i==null?void 0:i.stop)===k;return l.jsxs(R,{className:u,col:!0,children:[!!(i!=null&&i.stop)&&l.jsx("div",{className:W("fixed inset-0 z-50 cursor-colr")}),l.jsxs("div",{className:W("relative gjs-mb-6 gjs-mt-3"),children:[l.jsx("div",{className:W("bg-checker h-8",re.rnd),children:l.jsx("div",{ref:c,className:W("w-full h-full cursor-cross",re.b,re.rnd,F.br),style:{backgroundImage:ur({stops:r})},onClick:_})}),r.map((k,D)=>l.jsxs("div",{className:W("absolute top-0 h-full"),style:{left:`${k.hint}%`},children:[l.jsx("div",{className:W("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>N(k),children:l.jsx(se,{icon:G.close,size:ae.s3x})}),l.jsx("div",{onPointerDown:$=>A($,k),className:W("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",re.br,re.bl,M(k)?"gjs-bg-white":"gjs-bg-black")}),l.jsx("div",{className:W("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:l.jsx(Ty,{value:k.color,onChange:($,z)=>V(k,$,z),className:W("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},D))]}),l.jsxs(R,{space:"s",items:"center",children:[l.jsx(I,{grow:!0,children:l.jsx(ha,{label:"Repeat",value:g,onChange:T})}),l.jsx(I,{grow:!0,children:l.jsx(ha,{label:"Radial",value:p,onChange:E})})]}),p?l.jsxs(R,{space:"s",col:!0,children:[l.jsx(I,{children:l.jsx(R,{space:"s",items:"center",children:l.jsx(I,{grow:!0,children:l.jsx(Ae,{pan:"S",size:"s",value:b,onChange:C,valueUnit:"px",units:["px"]})})})}),l.jsx(I,{children:l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:l.jsx(Ae,{pan:"X",size:"s",value:v,onChange:P,valueUnit:"%",units:["%"]})}),l.jsx(I,{grow:!0,children:l.jsx(Ae,{pan:"Y",size:"s",value:x,onChange:O,valueUnit:"%",units:["%"]})})]})})]}):l.jsx(R,{space:"s",items:"center",nowrap:!0,children:l.jsx(I,{grow:!0,children:l.jsx(Ae,{pan:"A",size:"s",value:m,onChange:j,valueUnit:"deg",units:["deg"]})})})]})}function Or(e){return["data-variable","data-condition"].includes((e==null?void 0:e.type)??"")}const dN=e=>{const{value:t={},onConfirm:n,additionalSources:s,editor:r}=e;if(!r)return;const o="DataValuePicker",i={id:o,header:!1,layout:{type:"panelDataValuePicker",value:t,onConfirm:({value:a})=>{n==null||n(a),r.runCommand(ce.layoutRemove,{id:o})},additionalSources:s},placer:{type:"dialog",size:"l"}};r.runCommand(ce.layoutToggle,{...i})};function _y(e){const{initialDataValue:t,handleDataValueChange:n,handleValueClear:s,editor:r,additionalSources:o,enableDataValue:i,hasDataResolverValue:a}=e;if(!r||!i)return[];const c={type:"button",className:a?F.tAo:"",variant:"out-clear",size:"x2s",block:!0,border:!1},u=[{...c,title:r.I18n.t("dataSources.connectDataValue"),icon:{icon:G.databaseOutline,size:ae.s2x},onClick:()=>dN({value:t,onConfirm:n,additionalSources:o,editor:r})}];return a&&u.push({...c,title:r.I18n.t("dataSources.clearDataValue"),icon:{icon:G.close,size:ae.s2x},onClick:s}),u}const gg="gs-cmp-accordion",Ap=`${gg}-handler`,hl=`${Ap}__content`,pN=`${gg}-content`;function Eo({className:e,classNameWrap:t,classNameContent:n,style:s,handler:r,handlerIcon:o,children:i,inverted:a,disabled:c,sticky:u,onChange:d,open:p}){return l.jsx(Ku,{as:"div",defaultOpen:p,className:W(gg,t,"relative"),children:({open:g})=>l.jsxs(l.Fragment,{children:[l.jsx(Ku.Button,{as:c?"div":"button",disabled:c,style:s,onClick:h=>d==null?void 0:d({event:h,open:!g}),className:({open:h})=>L(Ap,Xe(e)?e(h):e,u&&"gs-utl-sticky gs-utl-top-0 gs-utl-z-10","gs-utl-w-full"),children:({open:h})=>l.jsxs(R,{items:"center",className:W("gap-2"),full:!0,children:[l.jsx(I,{className:W(hl,"text-left"),grow:!0,children:Xe(r)?r(h):l.jsxs(R,{items:"center",className:W(`${hl}-wrp`,"gap-3"),nowrap:!0,children:[!!o&&l.jsx(se,{className:W(`${hl}-icon`),icon:o,size:ae.s2x}),l.jsx(I,{className:W(`${hl}-label gs-utl-w-full`),children:r})]})}),l.jsx(I,{className:W(`${Ap}-toggle`,a&&"-order-1",c&&"gs-utl-hidden"),children:l.jsx(se,{icon:G.chevronDown,className:W("w-5 h-5 transition-transform",h&&"rotate-180")})})]})}),l.jsx(Ku.Panel,{className:W(pN,n),children:i})]})})}function gr({label:e,property:t,hasValue:n,empty:s,onClear:r,children:o,shallow:i,row:a,tooltip:c,skipClear:u,className:d,...p}){const g=e||(t==null?void 0:t.getLabel()),h=t==null?void 0:t.getParentTarget(),m=n||!s&&(t==null?void 0:t.hasValue({noParent:!0})),b=!m&&(t==null?void 0:t.hasValue())&&h,v=h==null?void 0:h.getDevice(),x=h==null?void 0:h.getState(),y=h==null?void 0:h.getComponent(),S=()=>r?r():t==null?void 0:t.clear(),w={className:L(d,"gs-utl-text-sm gs-utl-w-full"),col:!a,items:a?"center":void 0,...p},j=L("gs-utl-flex-1",m&&!i&&F.tAo);return t&&!t.isVisible()?null:l.jsxs(R,{gap:"xs",...w,children:[l.jsxs(R,{className:j,as:"label",items:"center",gap:"xs",nowrap:!0,children:[c&&l.jsx(I,{children:l.jsx(It,{title:c,children:l.jsx(se,{icon:G.information,size:ae.sx})})}),l.jsx(I,{children:s?l.jsx("span",{children:""}):g}),!!b&&!i&&l.jsx(It,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:L("gs-utl-mb-1"),children:"Value inherited from"}),!!v&&l.jsxs(R,{gap:"s",children:[l.jsx(I,{children:l.jsx(se,{icon:G.cellphoneLink,size:ae.sx})}),l.jsx(I,{children:l.jsx("b",{children:v.getName()})})]}),l.jsxs(R,{gap:"s",children:[l.jsx(I,{children:l.jsx(se,{icon:y?G.targetVariant:G.tag,size:ae.sx})}),l.jsxs(I,{children:[l.jsx("b",{children:y?"Components":"Selectors"}),l.jsxs("span",{className:L("gs-utl-text-xs gs-utl-opacity-75"),children:[" ",h==null?void 0:h.selectorsToString({skipState:1})]})]})]}),!!x&&l.jsxs(R,{gap:"s",children:[l.jsx(I,{children:l.jsx(se,{icon:G.flare,size:ae.sx})}),l.jsx(I,{children:l.jsx("b",{children:x.getLabel()})})]})]}),children:l.jsx("div",{className:L("gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",F.bgW)})}),m&&!i&&!u&&l.jsx(It,{title:"Clear value",onClick:S,children:l.jsx(se,{className:Le.click,icon:G.close,size:ae.s2x})})]}),!!o&&l.jsx(I,{grow:!0,className:"gs-utl-max-w-full",children:o})]})}function qt(e){const{className:t,options:n,name:s,value:r,size:o="m",required:i,disabled:a,onChange:c,labelAs:u}=e,d=h=>{const m=n.filter(b=>b.id===h)[0];return n.indexOf(m)===n.length-1},p=(h,m)=>L("gs-utl-cursor-pointer",o==="m"&&Me.xy,o==="s"&&"gs-utl-px-2 gs-utl-py-1 text-sm",o==="xs"&&"gs-utl-p-1 text-sm",F.br,h&&F.bgO,!d(m)&&re.br),g=$r({...e,className:"gs-field-buttons"});return l.jsxs(Oh,{value:r,onChange:c,disabled:a,...g,children:[l.jsx(os,{...e,as:u}),s&&l.jsx("input",{type:"hidden",name:s,value:r,required:i}),l.jsx(R,{className:L(t,re.b,re.rnd,F.br,"gs-utl-cursor-pointer"),items:"center",full:!0,nowrap:!0,children:n.map(({id:h,label:m,title:b,icon:v})=>l.jsx(It,{title:b,className:L("gs-utl-w-full"),classNameWrp:L("gs-utl-flex-1"),children:l.jsx(Oh.Option,{value:h,className:({checked:x})=>p(x,h),children:l.jsxs(R,{justify:"center",gap:"s",full:!0,children:[!!v&&l.jsx(se,{...nt(v)?{icon:v,size:ae.s}:v}),m&&l.jsx(I,{children:m})]})})},h))})]})}const fN="gs-cmp-color-field";function sr(e){const{className:t,value:n,placeholder:s,preventSubmitOnEnter:r=!1,onChange:o,labelAs:i,disabled:a}=e,[c,u]=f.useState(lc(n)),d=Ba(e);f.useEffect(()=>{u(lc(n))},[n]);const p=(b,v)=>{o==null||o(b,v)},g=b=>{switch(b.key){case"Escape":return u(n);case"Enter":p(c),r&&(b.preventDefault(),b.stopPropagation())}},h=()=>{p(c)},m=$r({...e,className:L(fN,t)});return l.jsxs("div",{...m,children:[l.jsx(os,{...e,as:i}),l.jsxs(R,{className:Gf(e),items:"center",space:"s",children:[l.jsx(I,{children:l.jsx(Ty,{value:n,onChange:o,disabled:a})}),l.jsx(I,{grow:!0,children:l.jsx("input",{className:L(d,a&&"gs-utl-pointer-events-none"),value:c,onChange:b=>u(b.target.value),placeholder:s,onBlur:h,onKeyDown:g,disabled:a})})]})]})}const Kr="gs-cmp-file-field";function ma(e){var j;const{className:t,value:n,btnLabel:s,nameLabel:r,size:o,isContain:i,clear:a,inputField:c,placeholder:u,preview:d=50,disabled:p,hideButton:g,labelAs:h,onChange:m,onOpen:b}=e,v=(n||"").replace(/^"|"$/gi,""),x=((j=v.split("/").pop())==null?void 0:j.split("?")[0])||"",y={minWidth:d,minHeight:d},S=v?{...y,backgroundImage:`url("${v}")`}:y,w=L(" gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",i?"gs-utl-bg-contain":"gs-utl-bg-cover",re.b,re.rnd,F.br);return l.jsxs(R,{className:L(Kr,t,"gs-utl-gap-1"),col:!0,nowrap:!0,children:[l.jsx(os,{...e,as:h}),l.jsxs(R,{className:L(`${Kr}-content gs-utl-gap-1`,F.bg),items:"center",nowrap:!0,children:[l.jsx(I,{className:L(`${Kr}-preview`),children:l.jsx("div",{className:w,style:S})}),l.jsxs(I,{className:L(`${Kr}-fields gs-utl-overflow-hidden`),grow:!0,children:[x&&r!==!1&&l.jsx(Pr,{className:L(`${Kr}-name`,"gs-utl-mb-2",Le.txtEllips),as:"div",size:o,capitalize:!1,children:x}),l.jsxs(R,{className:L(`${Kr}-buttons`),space:"s",nowrap:!0,children:[!g&&l.jsx(ze,{onClick:()=>b==null?void 0:b(n),size:o,type:"button",block:!0,full:!0,disabled:p,children:s||"Select image"}),!!n&&a&&l.jsx(vt,{onClick:()=>m==null?void 0:m(""),title:a.tooltip,size:o,icon:{icon:G.close,size:ae.s},type:"button",block:!0})]})]})]}),c&&l.jsx(Je,{className:L(`${Kr}-input`),value:v,onChange:m,size:o,placeholder:u})]})}const du=oe(e=>{const{buttonClassName:t,value:n,...s}=e,{editor:r}=ge(),o=je(),i=So(),a=Wa(),c=[...s.options||[],...a.fontFamilyOptions].map(u=>{const d=a.getFont(u.id),p=d?Xf(d):u.id;return{...u,content:l.jsx(R,{col:!0,children:l.jsx(I,{style:{fontFamily:p},children:u.label})})}});return l.jsx(Ee,{...s,value:ho(n),options:c,afterLabel:a.sdkAddFonts&&i.hasType("font")&&l.jsx(vt,{className:t,title:o.t("fontManager.addFontToProject"),icon:G.plus,size:"xs",border:!1,block:!0,onClick:()=>r&&ug(r,{onSelect:({assetProps:u})=>{const{customData:{font:d}}=u;s.onChange(ho(d.family))}})})})});function gN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>s=>{t.forEach(r=>r(s))},t)}const pu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hg(e){return"nodeType"in e}function Dr(e){var t,n;return e?bi(e)?e:hg(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mg(e){const{Document:t}=Dr(e);return e instanceof t}function vi(e){return bi(e)?!1:e instanceof Dr(e).HTMLElement}function Ay(e){return e instanceof Dr(e).SVGElement}function yi(e){return e?bi(e)?e.document:hg(e)?mg(e)?e:vi(e)||Ay(e)?e.ownerDocument:document:document:document}const mo=pu?f.useLayoutEffect:f.useEffect;function hN(e){const t=f.useRef(e);return mo(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.current==null?void 0:t.current(...s)},[])}function mN(){const e=f.useRef(null),t=f.useCallback((s,r)=>{e.current=setInterval(s,r)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ka(e,t){const n=f.useRef();return f.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function bg(e){const t=hN(e),n=f.useRef(null),s=f.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,s]}let vd={};function qa(e,t){return f.useMemo(()=>{if(t)return t;const n=vd[e]==null?0:vd[e]+1;return vd[e]=n,e+"-"+n},[e,t])}function My(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((o,i)=>{const a=Object.entries(i);for(const[c,u]of a){const d=o[c];d!=null&&(o[c]=d+e*u)}return o},{...t})}}const ba=My(1),Ly=My(-1);function bN(e){return"clientX"in e&&"clientY"in e}function vN(e){if(!e)return!1;const{KeyboardEvent:t}=Dr(e.target);return t&&e instanceof t}function yN(e){if(!e)return!1;const{TouchEvent:t}=Dr(e.target);return t&&e instanceof t}function Mp(e){if(yN(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return bN(e)?{x:e.clientX,y:e.clientY}:null}const va=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[va.Translate.toString(e),va.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),xN={display:"none"};function wN(e){let{id:t,value:n}=e;return f.createElement("div",{id:t,style:xN},n)}function SN(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const r={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return f.createElement("div",{id:t,style:r,role:"status","aria-live":s,"aria-atomic":!0},n)}function jN(){const[e,t]=f.useState("");return{announce:f.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const CN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},EN={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function yd(...e){}class Ki extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:t})=>!t)}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const fu=f.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:yd,draggableNodes:{},droppableRects:new Map,droppableContainers:new Ki,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yd},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:yd,windowRect:null,willRecomputeLayouts:!1});function PN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new Ki}}}function TN(e,t){switch(t.type){case lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lt.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case lt.DragEnd:case lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:n}=t,{id:s}=n,r=new Ki(e.droppable.containers);return r.set(s,n),{...e,droppable:{...e.droppable,containers:r}}}case lt.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=t,o=e.droppable.containers.get(n);if(!o||s!==o.key)return e;const i=new Ki(e.droppable.containers);return i.set(n,{...o,disabled:r}),{...e,droppable:{...e.droppable,containers:i}}}case lt.UnregisterDroppable:{const{id:n,key:s}=t,r=e.droppable.containers.get(n);if(!r||s!==r.key)return e;const o=new Ki(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}const Ny=f.createContext({type:null,event:null});function ON({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:s,onDragCancel:r}){const o=f.useContext(Ny),i=f.useRef(o);f.useEffect(()=>{if(o!==i.current){const{type:a,event:c}=o;switch(a){case lt.DragStart:e==null||e(c);break;case lt.DragMove:t==null||t(c);break;case lt.DragOver:n==null||n(c);break;case lt.DragCancel:r==null||r(c);break;case lt.DragEnd:s==null||s(c);break}i.current=o}},[o,e,t,n,s,r])}function _N({announcements:e=EN,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:s,announcement:r}=jN(),o=qa("DndLiveRegion"),[i,a]=f.useState(!1);return f.useEffect(()=>{a(!0)},[]),ON(f.useMemo(()=>({onDragStart({active:c}){s(e.onDragStart(c.id))},onDragMove({active:c,over:u}){e.onDragMove&&s(e.onDragMove(c.id,u==null?void 0:u.id))},onDragOver({active:c,over:u}){s(e.onDragOver(c.id,u==null?void 0:u.id))},onDragEnd({active:c,over:u}){s(e.onDragEnd(c.id,u==null?void 0:u.id))},onDragCancel({active:c}){s(e.onDragCancel(c.id))}}),[s,e])),i?wn.createPortal(f.createElement(f.Fragment,null,f.createElement(wN,{id:t,value:n.draggable}),f.createElement(SN,{id:o,announcement:r})),document.body):null}const rr=Object.freeze({x:0,y:0});function ky(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Hm(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}const AN=({collisionRect:e,droppableContainers:t})=>{const n=Hm(e,e.left,e.top);let s=1/0,r=null;for(const o of t){const{rect:{current:i}}=o;if(i){const a=ky(Hm(i),n);a<s&&(s=a,r=o.id)}}return r};function MN(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function LN(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:rr}function NN(e){return function(n,...s){return s.reduce((r,o)=>({...r,top:r.top+e*o.y,bottom:r.bottom+e*o.y,left:r.left+e*o.x,right:r.right+e*o.x,offsetLeft:r.offsetLeft+e*o.x,offsetTop:r.offsetTop+e*o.y}),{...n})}}const Fm=NN(1);function kN(e,t=window.getComputedStyle(e)){return t.position==="fixed"}function RN(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(r=>{const o=t[r];return typeof o=="string"?n.test(o):!1})!=null}function vg(e){const t=[];function n(s){if(!s)return t;if(mg(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!vi(s)||Ay(s)||t.includes(s))return t;const r=window.getComputedStyle(s);return RN(s,r)&&t.push(s),kN(s,r)?t:n(s.parentNode)}return e?n(e.parentNode):t}function xd(e){return!pu||!e?null:bi(e)?e:hg(e)?mg(e)||e===yi(e).scrollingElement?window:vi(e)?e:null:null}function Lp(e){return bi(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var Do;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Do||(Do={}));function Ry(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},s=e.scrollTop<=t.y,r=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,i=e.scrollLeft>=n.x;return{isTop:s,isLeft:r,isBottom:o,isRight:i,maxScroll:n,minScroll:t}}function $N(e){return!pu||!e?!1:e===document.scrollingElement}const IN={x:.2,y:.2};function VN(e,t,{top:n,left:s,right:r,bottom:o},i=10,a=IN){const{clientHeight:c,clientWidth:u}=e,d=$N(e)?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t,{isTop:p,isBottom:g,isLeft:h,isRight:m}=Ry(e),b={x:0,y:0},v={x:0,y:0},x={height:d.height*a.y,width:d.width*a.x};return!p&&n<=d.top+x.height?(b.y=Do.Backward,v.y=i*Math.abs((d.top+x.height-n)/x.height)):!g&&o>=d.bottom-x.height&&(b.y=Do.Forward,v.y=i*Math.abs((d.bottom-x.height-o)/x.height)),!m&&r>=d.right-x.width?(b.x=Do.Forward,v.x=i*Math.abs((d.right-x.width-r)/x.width)):!h&&s<=d.left+x.width&&(b.x=Do.Backward,v.x=i*Math.abs((d.left+x.width-s)/x.width)),{direction:b,speed:v}}function DN(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:s,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:r,width:e.clientWidth,height:e.clientHeight}}function $y(e){return e.reduce((t,n)=>ba(t,Lp(n)),rr)}function Iy(e,t,n=rr){if(!e||!vi(e))return n;const s={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?s:Iy(e.offsetParent,t,s)}function gu(e){const{offsetWidth:t,offsetHeight:n}=e,{x:s,y:r}=Iy(e,null);return{width:t,height:n,offsetTop:r,offsetLeft:s}}function hu(e){if(bi(e)){const u=window.innerWidth,d=window.innerHeight;return{top:0,left:0,right:u,bottom:d,width:u,height:d,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=gu(e),{width:s,height:r,top:o,bottom:i,left:a,right:c}=e.getBoundingClientRect();return{width:s,height:r,top:o,bottom:i,right:c,left:a,offsetTop:t,offsetLeft:n}}function Np(e){const{width:t,height:n,offsetTop:s,offsetLeft:r}=gu(e),o=vg(e),i=$y(o),a=s-i.y,c=r-i.x;return{width:t,height:n,top:a,bottom:a+n,right:c+t,left:c,offsetTop:s,offsetLeft:r}}function Bm(e){return"top"in e}function zm(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const HN=({collisionRect:e,droppableContainers:t})=>{let n=1/0,s=null;const r=zm(e,e.left,e.top);for(const o of t){const{rect:{current:i}}=o;if(i){const a=zm(i,Bm(i)?i.left:void 0,Bm(i)?i.top:void 0),c=r.reduce((d,p,g)=>d+ky(a[g],p),0),u=Number((c/4).toFixed(4));u<n&&(n=u,s=o.id)}}return s};function FN(e,t){const n=Math.max(t.top,e.offsetTop),s=Math.max(t.left,e.offsetLeft),r=Math.min(t.left+t.width,e.offsetLeft+e.width),o=Math.min(t.top+t.height,e.offsetTop+e.height),i=r-s,a=o-n;if(s<r&&n<o){const c=t.width*t.height,u=e.width*e.height,d=i*a,p=d/(c+u-d);return Number(p.toFixed(4))}return 0}const BN=({collisionRect:e,droppableContainers:t})=>{let n=0,s=null;for(const r of t){const{rect:{current:o}}=r;if(o){const i=FN(o,e);i>n&&(n=i,s=r.id)}}return s};var qi;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qi||(qi={}));var bc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(bc||(bc={}));function zN({acceleration:e,activator:t=qi.Pointer,canScroll:n,draggingRect:s,enabled:r,interval:o=5,order:i=bc.TreeOrder,pointerCoordinates:a,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[p,g]=mN(),h=f.useRef({x:1,y:1}),m=f.useMemo(()=>{switch(t){case qi.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case qi.DraggableRect:return s}return null},[t,s,a]),b=f.useRef(rr),v=f.useRef(null),x=f.useCallback(()=>{const S=v.current;if(!S)return;const w=h.current.x*b.current.x,j=h.current.y*b.current.y;S.scrollBy(w,j)},[]),y=f.useMemo(()=>i===bc.TreeOrder?[...c].reverse():c,[i,c]);f.useEffect(()=>{if(!r||!c.length||!m){g();return}for(const S of y){if((n==null?void 0:n(S))===!1)continue;const w=c.indexOf(S),j=u[w];if(!j)continue;const{direction:C,speed:P}=VN(S,j,m,e,d);if(P.x>0||P.y>0){g(),v.current=S,p(x,o),h.current=P,b.current=C;return}}h.current={x:0,y:0},b.current={x:0,y:0},g()},[e,x,n,g,r,o,JSON.stringify(m),p,c,y,u,JSON.stringify(d)])}function UN(e,t){const n=t!==null?e[t]:void 0,s=n?n.node.current:null;return Ka(r=>{var o;return t===null?null:(o=s??r)!=null?o:null},[s,t])}function WN(e,t){return f.useMemo(()=>e.reduce((n,s)=>{const{sensor:r}=s,o=r.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,s)}));return[...n,...o]},[]),[e,t])}function Vy(e){const t=f.useRef(e);return mo(()=>{t.current!==e&&(t.current=e)},[e]),t}var ya;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ya||(ya={}));var kp;(function(e){e.Optimized="optimized"})(kp||(kp={}));const Um=new Map,GN={measure:gu,strategy:ya.WhileDragging,frequency:kp.Optimized};function KN(e,{dragging:t,dependencies:n,config:s}){const[r,o]=f.useState(!1),{frequency:i,measure:a,strategy:c}={...GN,...s},u=f.useRef(e),d=f.useCallback(()=>o(!0),[]),p=f.useRef(null),g=m(),h=Ka(b=>{if(g&&!t)return Um;if(!b||b===Um||u.current!==e||r){for(let v of e)v&&(v.rect.current=v.node.current?a(v.node.current):null);return qN(e)}return b},[e,t,g,a,r]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{r&&o(!1)},[r]),f.useEffect(function(){g||requestAnimationFrame(d)},[t,g]),f.useEffect(function(){g||typeof i!="number"||p.current!==null||(p.current=setTimeout(()=>{d(),p.current=null},i))},[i,g,d,...n]),{layoutRectMap:h,recomputeLayouts:d,willRecomputeLayouts:r};function m(){switch(c){case ya.Always:return!1;case ya.BeforeDragging:return t;default:return!t}}}function qN(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:s,rect:r}=n;r.current!=null&&t.set(s,r.current)}return t}function YN(e){const[t,n]=f.useState(null),s=f.useRef(e),r=f.useCallback(o=>{const i=xd(o.target);i&&n(a=>a?(a.set(i,Lp(i)),new Map(a)):null)},[]);return f.useEffect(()=>{const o=s.current;if(e!==o){i(o);const a=e.map(c=>{const u=xd(c);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,Lp(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(c=>{const u=xd(c);u==null||u.removeEventListener("scroll",r)})}},[r,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>ba(o,i),rr):$y(e):rr,[e,t])}const ZN=[];function XN(e){const t=f.useRef(e),n=Ka(s=>e?s&&e&&t.current&&e.parentNode===t.current.parentNode?s:vg(e):ZN,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function JN(e){f.useEffect(()=>{if(!pu)return;const t=e.map(({sensor:n})=>n.setup==null?void 0:n.setup());return()=>{for(const n of t)n==null||n()}},e.map(({sensor:t})=>t))}function QN(e,t){return f.useMemo(()=>e.reduce((n,{eventName:s,handler:r})=>(n[s]=o=>{r(o,t)},n),{}),[e,t])}const wd=Hy(hu),ek=tk(hu);function Dy(e,t,n){const s=f.useRef(e);return Ka(r=>e?n||!r&&e||e!==s.current?vi(e)&&e.parentNode==null?null:t(e):r??null:null,[e,n,t])}function Hy(e){return(t,n)=>Dy(t,e,n)}function tk(e){const t=[];return function(s,r){const o=f.useRef(s);return Ka(i=>s.length?r||!i&&s.length||s!==o.current?s.map(a=>e(a)):i??t:t,[s,r])}}function nk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vi(t)?t:e}function sk(e){const{width:t,height:n,offsetLeft:s,offsetTop:r}=gu(e);return{top:r,bottom:r+n,left:s,right:s+t,width:t,height:n,offsetTop:r,offsetLeft:s}}const rk=Hy(sk);function ok({disabled:e,forceRecompute:t}){const[n,s]=bg(),r=rk(e?null:nk(n.current),t);return f.useMemo(()=>({nodeRef:n,rect:r,setRef:s}),[r,n,s])}function Wm(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ik(...e){return f.useMemo(()=>[...e].filter(t=>t!=null),[...e])}class Yi{constructor(t){this.target=t,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})}}add(t,n,s){var r;(r=this.target)==null||r.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function ak(e){const{EventTarget:t}=Dr(e);return e instanceof t?e:yi(e)}function Sd(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Rn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rn||(Rn={}));function Gm(e){e.preventDefault()}function lk(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Fe||(Fe={}));const Fy={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter]},ck=(e,{currentCoordinates:t})=>{switch(e.code){case Fe.Right:return{...t,x:t.x+25};case Fe.Left:return{...t,x:t.x-25};case Fe.Down:return{...t,y:t.y+25};case Fe.Up:return{...t,y:t.y-25}}};class yg{constructor(t){this.props=t,this.autoScrollEnabled=!1,this.coordinates=rr;const{event:{target:n}}=t;this.props=t,this.listeners=new Yi(yi(n)),this.windowListeners=new Yi(Dr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props;if(!t.node.current)throw new Error("Active draggable node is undefined");const s=hu(t.node.current),r={x:s.left,y:s.top};this.coordinates=r,n(r)}handleKeyDown(t){if(vN(t)){const{coordinates:n}=this,{active:s,context:r,options:o}=this.props,{keyboardCodes:i=Fy,coordinateGetter:a=ck,scrollBehavior:c="smooth"}=o,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const d=a(t,{active:s,context:r.current,currentCoordinates:n});if(d){const p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const h of g){const m=t.code,b=Ly(d,n),{isTop:v,isRight:x,isLeft:y,isBottom:S,maxScroll:w,minScroll:j}=Ry(h),C=DN(h),P={x:Math.min(m===Fe.Right?C.right-C.width/2:C.right,Math.max(m===Fe.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(m===Fe.Down?C.bottom-C.height/2:C.bottom,Math.max(m===Fe.Down?C.top:C.top+C.height/2,d.y))},O=m===Fe.Right&&!x||m===Fe.Left&&!y,T=m===Fe.Down&&!S||m===Fe.Up&&!v;if(O&&P.x!==d.x){if(m===Fe.Right&&h.scrollLeft+b.x<=w.x||m===Fe.Left&&h.scrollLeft+b.x>=j.x){h.scrollBy({left:b.x,behavior:c});return}p.x=m===Fe.Right?h.scrollLeft-w.x:h.scrollLeft-j.x,h.scrollBy({left:-p.x,behavior:c});break}else if(T&&P.y!==d.y){if(m===Fe.Down&&h.scrollTop+b.y<=w.y||m===Fe.Up&&h.scrollTop+b.y>=j.y){h.scrollBy({top:b.y,behavior:c});return}p.y=m===Fe.Down?h.scrollTop-w.y:h.scrollTop-j.y,h.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(t,ba(d,p))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n),this.coordinates=n}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yg.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Fy,onActivation:n})=>{const{code:s}=e.nativeEvent;return t.start.includes(s)?(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0):!1}}];function Km(e){return!!(e&&"distance"in e)}function qm(e){return!!(e&&"delay"in e)}class xg{constructor(t,n,s=ak(t.event.target)){this.props=t,this.events=n,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:r}=t,{target:o}=r;this.props=t,this.events=n,this.document=yi(o),this.documentListeners=new Yi(this.document),this.listeners=new Yi(s),this.windowListeners=new Yi(Dr(o)),this.initialCoordinates=Mp(r),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.DragStart,Gm),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),this.windowListeners.add(Rn.ContextMenu,Gm),this.documentListeners.add(Rn.Keydown,this.handleKeydown),n){if(Km(n))return;if(qm(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rn.Click,lk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){const{activated:n,initialCoordinates:s,props:r}=this,{onMove:o,options:{activationConstraint:i}}=r;if(!s)return;const a=Mp(t),c=Ly(s,a);if(!n&&i){if(qm(i))return Sd(c,i.tolerance)?this.handleCancel():void 0;if(Km(i))return i.tolerance!=null&&Sd(c,i.tolerance)?this.handleCancel():Sd(c,i.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),o(a)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uk={move:{name:"pointermove"},end:{name:"pointerup"}};class wg extends xg{constructor(t){const{event:n}=t,s=yi(n.target);super(t,uk,s)}}wg.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t==null||t({event:e}),!0)}];const dk={move:{name:"mousemove"},end:{name:"mouseup"}};var Rp;(function(e){e[e.RightClick=2]="RightClick"})(Rp||(Rp={}));class pk extends xg{constructor(t){super(t,dk,yi(t.event.target))}}pk.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===Rp.RightClick?!1:(t==null||t({event:e}),!0)}];const jd={move:{name:"touchmove"},end:{name:"touchend"}};class fk extends xg{constructor(t){super(t,jd)}static setup(){return window.addEventListener(jd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(jd.move.name,t)};function t(){}}}fk.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return n.length>1?!1:(t==null||t({event:e}),!0)}}];function gk(e,{transform:t,...n}){return e!=null&&e.length?e.reduce((s,r)=>r({transform:s,...n}),t):t}const hk=[{sensor:wg,options:{}},{sensor:yg,options:{}}],mk={current:{}},By=f.createContext({...rr,scaleX:1,scaleY:1}),bk=f.memo(function({id:t,autoScroll:n=!0,announcements:s,children:r,sensors:o=hk,collisionDetection:i=BN,measuring:a,modifiers:c,screenReaderInstructions:u=CN,...d}){var p,g,h,m,b;const v=f.useReducer(TN,void 0,PN),[x,y]=v,[S,w]=f.useState(()=>({type:null,event:null})),[j,C]=f.useState(!1),{draggable:{active:P,nodes:O,translate:T},droppable:{containers:E}}=x,A=P?O[P]:null,_=f.useRef({initial:null,translated:null}),N=f.useMemo(()=>{var Ye;return P!=null?{id:P,data:(Ye=A==null?void 0:A.data)!=null?Ye:mk,rect:_}:null},[P,A]),V=f.useRef(null),[M,H]=f.useState(null),[U,B]=f.useState(null),k=f.useRef(d),D=qa("DndDescribedBy",t),$=f.useMemo(()=>E.getEnabled(),[E]),{layoutRectMap:z,recomputeLayouts:J,willRecomputeLayouts:Y}=KN($,{dragging:j,dependencies:[T.x,T.y],config:a==null?void 0:a.droppable}),Q=UN(O,P),ne=U?Mp(U):null,ee=Dy(Q,(p=a==null||(g=a.draggable)==null?void 0:g.measure)!=null?p:Np),K=wd(Q),Z=f.useRef(null),ie=Z.current,ue=f.useRef({active:null,activeNode:Q,collisionRect:null,droppableRects:z,draggableNodes:O,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),ve=E.getNodeFor((h=ue.current.over)==null?void 0:h.id),he=wd(Q?Q.ownerDocument.defaultView:null),ke=wd(Q?Q.parentElement:null),Ge=XN(P?ve??Q:null),ht=ek(Ge),rt=ok({disabled:P==null,forceRecompute:Y}),Ve=(m=rt.rect)!=null?m:ee,Nt=Ve===ee?LN(ee,ie):rr,ot=gk(c,{transform:{x:T.x-Nt.x,y:T.y-Nt.y,scaleX:1,scaleY:1},activatorEvent:U,active:N,activeNodeRect:K,containerNodeRect:ke,draggingNodeRect:Ve,over:ue.current.over,overlayNodeRect:rt.rect,scrollableAncestors:Ge,scrollableAncestorRects:ht,windowRect:he}),St=ne?ba(ne,T):null,mt=YN(Ge),ut=ba(ot,mt),Qe=Ve?Fm(Ve,ot):null,it=Qe?Fm(Qe,mt):null,Vt=N&&it?i({active:N,collisionRect:it,droppableContainers:$}):null,[pe,Re]=f.useState(null),Ie=MN(ot,(b=pe==null?void 0:pe.rect)!=null?b:null,ee),Pe=f.useCallback((Ye,{sensor:pt,options:Ut})=>{if(!V.current)return;const Xt=O[V.current];if(!Xt)return;const sn=new pt({active:V.current,activeNode:Xt,event:Ye.nativeEvent,options:Ut,context:ue,onStart(Wt){const ar=V.current;if(!ar)return;const Vs=O[ar];if(!Vs)return;const{onDragStart:zr}=k.current,Ur={active:{id:ar,data:Vs.data,rect:_}};wn.unstable_batchedUpdates(()=>{y({type:lt.DragStart,initialCoordinates:Wt,active:ar}),w({type:lt.DragStart,event:Ur})}),zr==null||zr(Ur)},onMove(Wt){y({type:lt.DragMove,coordinates:Wt})},onEnd:Br(lt.DragEnd),onCancel:Br(lt.DragCancel)});wn.unstable_batchedUpdates(()=>{H(sn),B(Ye.nativeEvent)});function Br(Wt){return async function(){const{active:Vs,over:zr,scrollAdjustedTranslate:Ur}=ue.current;let Dt=null;if(Vs&&Ur){const{cancelDrop:hn}=k.current;Dt={active:Vs,delta:Ur,over:zr},Wt===lt.DragEnd&&typeof hn=="function"&&await Promise.resolve(hn(Dt))&&(Wt=lt.DragCancel)}if(V.current=null,wn.unstable_batchedUpdates(()=>{y({type:Wt}),Re(null),C(!1),H(null),B(null),Dt&&w({type:Wt,event:Dt})}),Dt){const{onDragCancel:hn,onDragEnd:tl}=k.current,Ds=Wt===lt.DragEnd?tl:hn;Ds==null||Ds(Dt)}}}},[y,O]),dt=f.useCallback((Ye,pt)=>(Ut,Xt)=>{const sn=Ut.nativeEvent;V.current!==null||sn.dndKit||sn.defaultPrevented||Ye(Ut,pt.options)===!0&&(sn.dndKit={capturedBy:pt.sensor},V.current=Xt,Pe(Ut,pt))},[Pe]),kt=WN(o,dt);JN(o),mo(()=>{k.current=d},Object.values(d)),f.useEffect(()=>{P!=null&&C(!0)},[P]),f.useEffect(()=>{N||(Z.current=null),N&&ee&&!Z.current&&(Z.current=ee)},[ee,N]),f.useEffect(()=>{const{onDragMove:Ye}=k.current,{active:pt,over:Ut}=ue.current;if(!pt)return;const Xt={active:pt,delta:{x:ut.x,y:ut.y},over:Ut};w({type:lt.DragMove,event:Xt}),Ye==null||Ye(Xt)},[ut.x,ut.y]),f.useEffect(()=>{const{active:Ye,droppableContainers:pt,scrollAdjustedTranslate:Ut}=ue.current;if(!Ye||!V.current||!Ut)return;const{onDragOver:Xt}=k.current,sn=pt.get(Vt),Br=sn&&sn.rect.current?{id:sn.id,rect:sn.rect.current,data:sn.data,disabled:sn.disabled}:null,Wt={active:Ye,delta:{x:Ut.x,y:Ut.y},over:Br};wn.unstable_batchedUpdates(()=>{Re(Br),w({type:lt.DragOver,event:Wt}),Xt==null||Xt(Wt)})},[Vt]),mo(()=>{ue.current={active:N,activeNode:Q,collisionRect:it,droppableRects:z,draggableNodes:O,draggingNodeRect:Ve,droppableContainers:E,over:pe,scrollableAncestors:Ge,scrollAdjustedTranslate:ut,translatedRect:Qe},_.current={initial:Ve,translated:Qe}},[N,Q,it,O,Ve,z,E,pe,Ge,ut,Qe]),zN({...Fr(),draggingRect:Qe,pointerCoordinates:St,scrollableAncestors:Ge,scrollableAncestorRects:ht});const Is=f.useMemo(()=>({active:N,activeNode:Q,activeNodeRect:ee,activeNodeClientRect:K,activatorEvent:U,activators:kt,ariaDescribedById:{draggable:D},containerNodeRect:ke,dispatch:y,dragOverlay:rt,draggableNodes:O,droppableContainers:E,droppableRects:z,over:pe,recomputeLayouts:J,scrollableAncestors:Ge,scrollableAncestorRects:ht,willRecomputeLayouts:Y,windowRect:he}),[N,Q,K,ee,U,kt,ke,rt,y,O,D,E,z,pe,J,Ge,ht,Y,he]);return f.createElement(Ny.Provider,{value:S},f.createElement(fu.Provider,{value:Is},f.createElement(By.Provider,{value:Ie},r)),f.createElement(_N,{announcements:s,hiddenTextDescribedById:D,screenReaderInstructions:u}));function Fr(){const Ye=(M==null?void 0:M.autoScrollEnabled)===!1,pt=typeof n=="object"?n.enabled===!1:n===!1,Ut=!Ye&&!pt;return typeof n=="object"?{...n,enabled:Ut}:{enabled:Ut}}}),vk=f.createContext(null),Ym="button",yk="Droppable";function xk({id:e,data:t,disabled:n=!1,attributes:s}){const r=qa(yk),{active:o,activeNodeRect:i,activatorEvent:a,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:p,over:g}=f.useContext(fu),{role:h=Ym,roleDescription:m="draggable",tabIndex:b=0}=s??{},v=(o==null?void 0:o.id)===e,x=f.useContext(v?By:vk),[y,S]=bg(),w=QN(p,e),j=Vy(t);f.useEffect(()=>(u[e]={id:e,key:r,node:y,data:j},()=>{const P=u[e];P&&P.key===r&&delete u[e]}),[u,e]);const C=f.useMemo(()=>({role:h,tabIndex:b,"aria-pressed":v&&h===Ym?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[h,b,v,m,c.draggable]);return{active:o,activeNodeRect:i,activatorEvent:a,attributes:C,droppableRects:d,isDragging:v,listeners:n?void 0:w,node:y,over:g,setNodeRef:S,transform:x}}function wk(){return f.useContext(fu)}const Sk="Droppable";function jk({data:e,disabled:t=!1,id:n}){const s=qa(Sk),{active:r,dispatch:o,over:i}=f.useContext(fu),a=f.useRef(null),[c,u]=bg(),d=Vy(e);return mo(()=>(o({type:lt.RegisterDroppable,element:{id:n,key:s,disabled:t,node:c,rect:a,data:d}}),()=>o({type:lt.UnregisterDroppable,key:s,id:n})),[n]),f.useEffect(()=>{o({type:lt.SetDroppableDisabled,id:n,key:s,disabled:t})},[t]),{active:r,rect:a,isOver:(i==null?void 0:i.id)===n,node:c,over:i,setNodeRef:u}}function Ck(e,t,n){const s={...e};return t.top+e.y<=n.top?s.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(s.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?s.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(s.x=n.left+n.width-t.right),s}const Ek=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const s=n[0];return!e||!s?t:Ck(t,e,s)},Pk=({transform:e})=>({...e,x:0});function zy(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function Tk(e,t){return e.reduce((n,s,r)=>{const o=t.get(s);return o&&(n[r]=o),n},Array(e.length))}function ml(e){return e!==null&&e>=0}const Uy=({layoutRects:e,activeIndex:t,overIndex:n,index:s})=>{const r=zy(e,n,t),o=e[s],i=r[s];return!i||!o?null:{x:i.offsetLeft-o.offsetLeft,y:i.offsetTop-o.offsetTop,scaleX:i.width/o.width,scaleY:i.height/o.height}},bl={scaleX:1,scaleY:1},Ok=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:s,overIndex:r})=>{var o;const i=(o=s[e])!=null?o:t;if(!i)return null;if(n===e){const c=s[r];return c?{x:0,y:e<r?c.offsetTop+c.height-(i.offsetTop+i.height):c.offsetTop-i.offsetTop,...bl}:null}const a=_k(s,n,e);return n>e&&n<=r?{x:0,y:-i.height-a,...bl}:n<e&&n>=r?{x:0,y:i.height+a,...bl}:{x:0,y:0,...bl}};function _k(e,t,n){const s=e[t],r=e[t-1],o=e[t+1];return s?n<t?r?s.offsetTop-(r.offsetTop+r.height):o?o.offsetTop-(s.offsetTop+s.height):0:o?o.offsetTop-(s.offsetTop+s.height):r?s.offsetTop-(r.offsetTop+r.height):0:0}const Wy="Sortable",Gy=f.createContext({activeIndex:-1,containerId:Wy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Uy,wasDragging:{current:!1}});function Ak({children:e,id:t,items:n,strategy:s=Uy}){const{active:r,dragOverlay:o,droppableRects:i,over:a,recomputeLayouts:c,willRecomputeLayouts:u}=wk(),d=qa(Wy,t),p=o.rect!==null,g=f.useMemo(()=>n.map(P=>typeof P=="string"?P:P.id),[n]),h=r!=null,m=f.useRef(!1),b=r?g.indexOf(r.id):-1,v=b!==-1,x=a?g.indexOf(a.id):-1,y=f.useRef(g),S=Tk(g,i),w=!Mk(g,y.current),j=x!==-1&&b===-1||w;mo(()=>{w&&v&&!u&&c()},[w,v,c,u]),f.useEffect(()=>{y.current=g},[g]),f.useEffect(()=>{const P=setTimeout(()=>{m.current=h},100);return()=>clearTimeout(P)},[h]);const C=f.useMemo(()=>({activeIndex:b,containerId:d,disableTransforms:j,items:g,overIndex:x,useDragOverlay:p,sortedRects:S,strategy:s,wasDragging:m}),[b,d,j,g,x,S,p,s,m]);return f.createElement(Gy.Provider,{value:C},e)}function Mk(e,t){return e.join()===t.join()}const Lk=({id:e,items:t,activeIndex:n,overIndex:s})=>zy(t,n,s).indexOf(e),Nk=({containerId:e,isSorting:t,wasDragging:n,index:s,items:r,newIndex:o,previousItems:i,previousContainerId:a,transition:c})=>!c||!n||i!==r&&s===o?!1:t?!0:o!==s&&e===a,kk={duration:200,easing:"ease"},Ky="transform",Rk=va.Transition.toString({property:Ky,duration:0,easing:"linear"}),$k={roleDescription:"sortable"};function Ik({disabled:e,index:t,node:n,rect:s}){const[r,o]=f.useState(null),i=f.useRef(t);return mo(()=>{if(!e&&t!==i.current&&n.current){const a=s.current;if(a){const c=hu(n.current),u={x:a.offsetLeft-c.offsetLeft,y:a.offsetTop-c.offsetTop,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&o(u)}}t!==i.current&&(i.current=t)},[e,t,n,s]),f.useEffect(()=>{r&&requestAnimationFrame(()=>{o(null)})},[r]),r}function Vk({animateLayoutChanges:e=Nk,attributes:t,disabled:n,data:s,getNewIndex:r=Lk,id:o,strategy:i,transition:a=kk}){const{items:c,containerId:u,activeIndex:d,disableTransforms:p,sortedRects:g,overIndex:h,useDragOverlay:m,strategy:b,wasDragging:v}=f.useContext(Gy),x=c.indexOf(o),y=f.useMemo(()=>({sortable:{containerId:u,index:x,items:c},...s}),[u,s,x,c]),{rect:S,node:w,setNodeRef:j}=jk({id:o,data:y}),{active:C,activeNodeRect:P,activatorEvent:O,attributes:T,setNodeRef:E,listeners:A,isDragging:_,over:N,transform:V}=xk({id:o,data:y,attributes:{...$k,...t},disabled:n}),M=gN(j,E),H=!!C,U=H&&v.current&&!p&&ml(d)&&ml(h),B=!m&&_,k=B&&U?V:null,$=U?k??(i??b)({layoutRects:g,activeNodeRect:P,activeIndex:d,overIndex:h,index:x}):null,z=ml(d)&&ml(h)?r({id:o,items:c,activeIndex:d,overIndex:h}):x,J=f.useRef(c),Y=c!==J.current,Q=f.useRef(z),ne=f.useRef(u),ee=e({active:C,containerId:u,isDragging:_,isSorting:H,id:o,index:x,items:c,newIndex:Q.current,previousItems:J.current,previousContainerId:ne.current,transition:a,wasDragging:v.current}),K=Ik({disabled:!ee,index:x,node:w,rect:S});return f.useEffect(()=>{H&&Q.current!==z&&(Q.current=z),u!==ne.current&&(ne.current=u),c!==J.current&&(J.current=c)},[H,z,u,c]),{active:C,attributes:T,activatorEvent:O,rect:S,index:x,isSorting:H,isDragging:_,listeners:A,node:w,overIndex:h,over:N,setNodeRef:M,setDroppableNodeRef:j,setDraggableNodeRef:E,transform:K??$,transition:Z()};function Z(){if(K||Y&&Q.current===x)return Rk;if(!(B||!a)&&(H||ee))return va.Transition.toString({...a,property:Ky})}}const Dk=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],Hk=(e,{context:{active:t,droppableContainers:n,translatedRect:s,scrollableAncestors:r}})=>{if(Dk.includes(e.code)){if(e.preventDefault(),!t||!s)return;const i=[];n.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const u=c==null?void 0:c.node.current;if(!u)return;const d=Np(u),p={...c,rect:{current:d}};switch(e.code){case Fe.Down:s.top+s.height<=d.top&&i.push(p);break;case Fe.Up:s.top>=d.top+d.height&&i.push(p);break;case Fe.Left:s.left>=d.left+d.width&&i.push(p);break;case Fe.Right:s.left+s.width<=d.left&&i.push(p);break}});const a=HN({active:t,collisionRect:s,droppableContainers:i});if(a){var o;const c=(o=n.get(a))==null?void 0:o.node.current;if(c){const d=vg(c).some((m,b)=>r[b]!==m),p=Np(c),g=d?{x:0,y:0}:{x:s.width-p.width,y:s.height-p.height};return{x:p.left-g.x,y:p.top-g.y}}}}};function mu({children:e,text:t,onConfirm:n,onCancel:s,className:r="w-[200px]",confirmButtonProps:o={},...i}){const a=je();return l.jsx(Ns,{...i,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:c})=>l.jsxs(R,{className:W(r),space:"m",col:!0,children:[l.jsx(I,{grow:!0,className:W("text-center"),children:t||a.t("confirmAction")}),l.jsxs(R,{justify:"center",items:"center",gap:"m",nowrap:!0,children:[l.jsx(ze,{variant:"pr",size:"m2",className:"gs-utl-whitespace-nowrap",onClick:()=>{c(),n==null||n()},...o,children:o.children||a.t("confirm")}),l.jsx(ze,{size:"m2",className:"gs-utl-whitespace-nowrap",onClick:()=>{c(),s==null||s()},children:a.t("cancel")})]})]})})}function Fk(e){const{id:t,item:n,className:s,select:r,remove:o,renderItem:i,previewStyle:a,sortable:c=!0,disabled:u,confirmRemove:d}=e,{attributes:p,listeners:g,setNodeRef:h,transform:m,transition:b}=Vk({id:t,disabled:u}),v={transform:va.Transform.toString(m),transition:b},x=()=>!u&&(r==null?void 0:r(n));return l.jsx("div",{...c?{ref:h,style:v,...p}:{},children:l.jsxs(R,{space:"s",onClick:x,className:s,items:"center",nowrap:!0,children:[c&&l.jsx(I,{className:W(!u&&Le.hover,!u&&"cursor-grab"),...g,children:l.jsx(se,{icon:G.dotsVertical,size:ae.sx})}),l.jsx(I,{grow:!0,className:W("overflow-hidden"),children:l.jsxs(R,{children:[l.jsx(I,{grow:!0,className:W("overflow-ellipsis overflow-hidden"),children:i(n)}),!!a&&l.jsx(I,{children:l.jsx("div",{className:W("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:a(n)})})]})}),o&&d?l.jsx(mu,{disabled:u,onConfirm:()=>{o==null||o(n)},children:l.jsx(I,{className:W(!u&&Le.click),children:l.jsx(se,{icon:G.close,size:ae.sx})})}):l.jsx(I,{className:W(!u&&Le.click),onClick:y=>{po(y),!u&&(o==null||o(n))},children:l.jsx(se,{icon:G.close,size:ae.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}function ms(e){const{className:t,items:n,selected:s,renderItem:r,select:o,add:i,remove:a,move:c,previewStyle:u,getItemId:d=E=>E.id||E.name||E.title||E.label||"",label:p,labelAs:g,children:h,title:m="Select",titleAdd:b="Add",emptyState:v,disabled:x=!1,hidePopover:y,popoverPlacement:S="left",confirmRemove:w}=e,j=ik(Wm(wg),Wm(yg,{coordinateGetter:Hk}));function C(E){const{active:A,over:_}=E;if(A.id!==(_==null?void 0:_.id)){const N=n.find(M=>d(M)===A.id),V=n.findIndex(M=>d(M)===(_==null?void 0:_.id));N&&(c==null||c(N,V))}}const P=W(re.rnd,F.br,n.length&&re.b,n.length&&"gjs-mt-1");let O=l.jsxs("div",{className:P,children:[n.length===0&&v&&l.jsx(R,{className:L("gs-utl-p-2 gs-utl-text-center",F.txtLowEmphasis),items:"center",justify:"center",children:v}),n.map((E,A)=>{const _=d(E),N=E===s,V=W("gjs-px-2 gjs-py-2 text-xs",F.br,A&&re.bt,!!o&&!N&&!x&&F.hBgH2,N&&F.bgH,x&&"opacity-75");return l.jsx(Fk,{id:_,item:E,className:V,select:o,remove:a,renderItem:r,previewStyle:u,sortable:!!c,disabled:x,confirmRemove:w},_||A)})]});c&&(O=l.jsx(bk,{sensors:j,collisionDetection:AN,onDragEnd:C,modifiers:[Pk,Ek],children:l.jsx(Ak,{items:n.map(d),strategy:Ok,children:O})})),o&&!y&&(O=l.jsx(Ns,{placement:S,size:"s",buttonAs:"div",title:m,classNameBody:"gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",open:!!s&&!x,onClose:()=>o==null?void 0:o(null),handler:O,children:h}));const T=i?[{type:"button",icon:G.plus,tooltip:b,variant:"outline",size:"xs",disabled:x,onClick:i}]:[];return l.jsxs("div",{className:W(t,"w-full"),children:[!!(p||i)&&l.jsx(os,{...e,as:g,afterLabelButtons:T}),O]})}const Bk="gs-sm-custom-type",zk=oe(function({property:t,editor:n}){const s=f.useRef(null),r=t.getType(),o=n.StyleManager,i=o.getType(r),a=i==null?void 0:i.view;return f.useEffect(()=>{const c=s.current;if(a&&c){const u=new a({model:t,config:o.getConfig(),attributes:t.get("attributes")}),d=u.render().el;return c.appendChild(d),()=>{c.removeChild(d),u.remove()}}},[a,t,n]),a&&l.jsx("div",{className:Bk,ref:s})});function qy(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}const Zm="gs-cmp-style-field";function Yy({property:e,sector:t,styleManagerDataConfig:n,fieldProps:s}){const r=L(Zm,`${Zm}__${e.id}`),o={sector:t,styleManagerDataConfig:n},i=t.em.getEditor(),a=e.getType();switch(a){case"selectFont":return l.jsx(du,{className:r,...Qy(e,o),...s});case"number":case"slider":case"integer":return l.jsx(Ae,{className:r,...et(e,o),...s});case"color":return l.jsx(sr,{className:r,...bo(e,o),...s});case"select":return l.jsx(Ee,{className:r,...xt(e,o),...s});case"radio":return l.jsx(qt,{className:r,...ys(e,o),...s});case"file":return l.jsx(ma,{className:r,...cR(e,o),...s});case"composite":return l.jsx(cn,{className:r,property:e,corners:e.get("corners"),generic:e.get("generic"),...o});case"stack":{const c=e.getProperties();return l.jsx(ms,{className:r,...hr(e,o),children:l.jsx(Sg,{properties:c,sector:t})})}default:{const c=i.StyleManager.getType(a);return!!(c!=null&&c.create)&&!!(c!=null&&c.view)?l.jsx(zk,{editor:i,property:e}):l.jsx(Je,{className:r,...jg(e,o)})}}}const Xm="gs-cmp-style-prop-row";function Sg({properties:e,sector:t,styleManagerDataConfig:n}){const s={sector:t,styleManagerDataConfig:n};return l.jsx(l.Fragment,{children:e.map(r=>{const o=r.getId(),i=L(Xm,`${Xm}__${o}`,qy(r)&&"gs-utl-col-span-full");return r.isVisible()?l.jsx("div",{className:i,children:l.jsx(Yy,{property:r,...s})},o):null})})}function Uk({sector:e,styleManagerDataConfig:t}){const n=Wa(),s=e.getProperties().filter(r=>r.isVisible()).map(r=>(n.sdkAddFonts&&r.getId()==="font-family"&&r.set("type","selectFont"),r));return l.jsx("div",{className:L("gs-utl-grid gs-utl-grid-cols-2 gs-utl-gap-2"),children:l.jsx(Sg,{properties:s,sector:e,styleManagerDataConfig:t})})}const Wk="gs-cmp-sector-row";function be({className:e,children:t,bottom:n,separator:s,separatorTop:r,property:o,...i}){const a=l.jsx("div",{className:W("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",re.bb,F.br)}),c=W(Wk,e,"w-full gs-utl-gap-2",n),u=(Array.isArray(o)?o:[o]).filter(Boolean);return(u.length?u.some(p=>p.isVisible()):!0)?l.jsxs(l.Fragment,{children:[r&&a,l.jsx(R,{className:c,nowrap:!0,...i,children:t}),s&&a]}):null}function Mi(e,t,n={}){const s=e.getType(),{compact:r=!1,sector:o,styleManagerDataConfig:i}=n,a=e.getParent(),c={sector:o,styleManagerDataConfig:i},u=e.getDefaultValue();if(s==="select"){const p={property:a.getName()};return l.jsx(Ee,{...xt(e,c,p),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(u,p)||u:"Custom",onChange:g=>t.all.map(h=>h.upValue(g))}:{},label:void 0})}else return s==="color"?l.jsx(sr,{...bo(e,c),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?u:"Custom",onChange:(d,p)=>t.all.map(g=>g.upValue(d,{partial:p}))}:{},label:void 0}):l.jsx(Ae,{...et(e,c),...r?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?u:"Custom",onChange:(d,p)=>t.all.map(g=>g.upValue(d,{partial:p})),onChangeUnit:d=>t.all.map(p=>p.upUnit(d))}:{},label:void 0})}const vl="gs-cmp-style-prop-composite";function cn({className:e,property:t,sector:n,styleManagerDataConfig:s,corners:r,compact:o,generic:i,children:a,options:c}){const[u,d]=f.useState(null);if(!(t!=null&&t.isVisible()))return null;const p={id:"custom",label:l.jsx(se,{icon:G.borderStyle,size:ae.s}),title:"Custom"},g=[{id:"all",label:l.jsx(se,{icon:G.borderAllVariant,size:ae.s}),title:"All"},p],h=t.isDetached(),m=t.getProperties(),b=m.length,[v,x,y,S]=m,w=v.getFullValue(),C=m.map(B=>B.getFullValue()).every(B=>B===w),P=u!==null?u:C||c?"all":p.id,O=c?[...c,p]:[],T=t.getFullValue(),E=O.some(B=>B.id===T),A=P===p.id||(c?!E:!1)||!!i,_={compact:o,sector:n,styleManagerDataConfig:s},N=l.jsx(gr,{property:o?null:v,shallow:!h,children:Mi(v,null,_)}),V=l.jsx(gr,{property:o?null:x,shallow:!h,children:Mi(x,null,_)}),M=!!y&&l.jsx(gr,{property:o?null:y,shallow:!h,children:Mi(y,null,_)}),H=!!S&&l.jsx(gr,{property:o?null:S,shallow:!h,children:Mi(S,null,_)}),U=o?{label:t.getLabel()}:{property:t};return l.jsxs(R,{className:W(vl,e,"gs-utl-w-full gs-utl-gap-2"),col:!0,nowrap:!0,children:[l.jsx(be,{className:`${vl}__main`,children:l.jsx(gr,{...U,children:!i&&l.jsx(be,{bottom:"0",children:a!==void 0?a:c?l.jsx(l.Fragment,{children:l.jsx(I,{grow:!0,children:l.jsx(qt,{size:"s",options:O,value:A?p.id:T,onChange:B=>{B===p.id?d(B):(t.upValue(B),d(""))}})})}):l.jsxs(l.Fragment,{children:[l.jsx(I,{grow:!0,children:Mi(v,{same:C,all:m},_)}),l.jsx(I,{grow:!0,children:l.jsx(qt,{size:"s",options:g,value:P,onChange:d})})]})})})}),A&&l.jsx(be,{col:!0,className:W(`${vl}__details`,"gjs-px-2 gjs-py-1",F.bgH2,re.rnd,re.b,F.br),children:i?l.jsx("div",{className:W(`${vl}__props`,"grid grid-cols-2 gap-2"),children:m.map(B=>l.jsx(gr,{property:B,shallow:!h,className:W(qy(B)&&"col-span-full"),children:l.jsx(Yy,{property:B,..._,fieldProps:{label:void 0}})},B.getId()))}):b===2?l.jsx(l.Fragment,{children:l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:N}),l.jsx(I,{grow:!0,children:V})]})}):b===3?l.jsxs(l.Fragment,{children:[l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:N}),l.jsx(I,{grow:!0,children:V})]}),l.jsx(R,{space:"s",children:l.jsx(I,{grow:!0,children:M})})]}):r?l.jsxs(l.Fragment,{children:[l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:N}),l.jsx(I,{grow:!0,children:V})]}),l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:H}),l.jsx(I,{grow:!0,children:M})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(R,{className:W("gs-utl-w-1/2 gjs-m-auto"),children:N}),l.jsxs(R,{space:"s",children:[l.jsx(I,{grow:!0,children:H}),l.jsx(I,{grow:!0,children:V})]}),l.jsx(R,{className:W("gs-utl-w-1/2 gjs-m-auto"),children:M})]})})]})}function Gk({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("border-radius"),s={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsx(cn,{property:n,corners:!0,...s}),l.jsx(cn,{property:e.getProperty("border-width"),...s}),l.jsx(cn,{property:e.getProperty("border-style"),...s}),l.jsx(cn,{property:e.getProperty("border-color"),...s})]})}const qr=e=>uu({value:parseFloat(e),min:-3,max:3}),Cd=(e,t="filter",n)=>{const s=e.getProperty(`${t}-value`),r=e.getProperty(`${t}-name`).getOption()||{},o=r.units||[],i=s.getUnit(),a=nN(i,o)?i:o[0];return{...et(s,n),units:o,valueUnit:a,onChange:(c,u)=>{s.upValue(c,{partial:u,units:o,min:r.min,max:r.max})}}},Jm=(e,t,n,s)=>{const r=e.getProperty(`${t}-name`),o=e.getProperty(`${t}-value`);return{...xt(r,n,s),onChange:i=>{r.upValue(i),o.upValue("")}}},Kk={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function qk({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("box-shadow"),s=e.getProperty("text-shadow"),r=e.getProperty("filter"),o=e.getProperty("backdrop-filter"),i=e.getProperty("transition"),a=e.getProperty("transform"),c=e.getProperty("perspective-origin"),u=e.getProperty("backface-visibility"),d=e.getProperty("perspective"),p=e.getProperty("transform-style"),g=e.getProperty("opacity"),h=e.getProperty("mix-blend-mode"),m=e.getProperty("cursor"),b={sector:e,styleManagerDataConfig:t},v=y=>{const{boxShadowH:S,boxShadowV:w,boxShadowBlur:j,boxShadowColor:C,boxShadowSpread:P,boxShadowType:O}=y.getValues({camelCase:!0}),T=qr(S),E=qr(w),A=qr(j),_=qr(P),N=`${T}px ${E}px ${A}px ${_}px ${C} ${O}`.trim();return l.jsxs(R,{space:"s",items:"center",children:[l.jsxs(I,{grow:!0,children:[S," ",w," ",j," ",P]}),l.jsx(I,{children:l.jsx("div",{className:W("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:{boxShadow:N}})})]})},x=y=>{const{textShadowH:S,textShadowV:w,textShadowBlur:j,textShadowColor:C}=y.getValues({camelCase:!0}),P=qr(S),O=qr(w),T=qr(j),E=`${P}px ${O}px ${T}px ${C}`.trim();return l.jsxs(R,{space:"s",items:"center",children:[l.jsxs(I,{grow:!0,children:[S," ",w," ",j]}),l.jsx(I,{children:l.jsx("div",{className:W("w-4 h-4 gjs-bg-white",re.b,re.rnd),style:{boxShadow:E}})})]})};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:[g,h],children:[l.jsx(Ae,{...et(g,b)}),l.jsx(Ee,{...xt(h,b)})]}),l.jsx(be,{property:m,separator:!0,children:l.jsx(Ee,{...xt(m,b)})}),l.jsx(be,{property:n,separator:!0,children:l.jsxs(ms,{...hr(n,b),renderItem:v,children:[l.jsx(be,{children:l.jsx(qt,{...ys(n.getProperty("box-shadow-type"),b),label:""})}),l.jsxs(be,{children:[l.jsx(Ae,{...et(n.getProperty("box-shadow-h"),b),label:"X offset"}),l.jsx(Ae,{...et(n.getProperty("box-shadow-v"),b),label:"Y offset"})]}),l.jsxs(be,{children:[l.jsx(Ae,{...et(n.getProperty("box-shadow-blur"),b),label:"Blur"}),l.jsx(Ae,{...et(n.getProperty("box-shadow-spread"),b),label:"Spread"})]}),l.jsx(be,{children:l.jsx(sr,{...bo(n.getProperty("box-shadow-color"),b),label:"Color"})})]})}),l.jsx(be,{property:s,separator:!0,children:l.jsxs(ms,{...hr(s,b,Kk),renderItem:x,children:[l.jsxs(be,{children:[l.jsx(Ae,{...et(s.getProperty("text-shadow-h"),b),label:"X offset"}),l.jsx(Ae,{...et(s.getProperty("text-shadow-v"),b),label:"Y offset"})]}),l.jsx(be,{children:l.jsx(Ae,{...et(s.getProperty("text-shadow-blur"),b),label:"Blur"})}),l.jsx(be,{children:l.jsx(sr,{...bo(s.getProperty("text-shadow-color"),b),label:"Color"})})]})}),l.jsx(be,{property:r,separator:!0,children:l.jsx(ms,{...hr(r,b,{"filter-name":"blur","filter-value":"3px"}),children:l.jsxs(be,{children:[l.jsx(Ee,{...Jm(r,"filter",b),label:"Type"}),l.jsx(Ae,{...Cd(r,void 0,b),label:"Value"})]})})}),l.jsx(be,{property:o,separator:!0,children:l.jsx(ms,{...hr(o,b,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:l.jsxs(be,{children:[l.jsx(Ee,{...xt(o.getProperty("backdrop-filter-name"),b),label:"Type"}),l.jsx(Ae,{...Cd(o,"backdrop-filter",b),label:"Value"})]})})}),l.jsx(be,{property:i,separator:!0,children:l.jsxs(ms,{...hr(i,b),children:[l.jsx(be,{children:l.jsx(Ee,{...xt(i.getProperty("transition-property"),b),label:"Type"})}),l.jsx(be,{children:l.jsx(Ee,{...xt(i.getProperty("transition-timing-function"),b),label:"Easing"})}),l.jsxs(be,{children:[l.jsx(Ae,{...et(i.getProperty("transition-duration"),b),label:"Duration"}),l.jsx(Ae,{...et(i.getProperty("transition-delay"),b),label:"Delay"})]})]})}),l.jsx(be,{property:a,separator:!0,children:l.jsx(ms,{...hr(a,b),children:l.jsxs(be,{children:[l.jsx(Ee,{...Jm(a,"transform",b),label:"Type"}),l.jsx(Ae,{...Cd(a,"transform",b),label:"Value"})]})})}),l.jsx(cn,{property:e.getProperty("transform-origin"),...b}),l.jsx(cn,{property:e.getProperty("overflow"),...b}),l.jsx(be,{property:u,children:l.jsx(qt,{...ys(u,b)})}),l.jsx(be,{property:[d,p,c],separatorTop:!0,children:"Children transform"}),l.jsxs(be,{property:[d,p],children:[l.jsx(Ae,{...et(d,b)}),l.jsx(qt,{...ys(p,b)})]}),l.jsx(cn,{property:c,...b})]})}function Yk(e,t){return e.indexOf(t)>=0}const ft=ae.s,yl="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",xl="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",wl="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",Qm="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",e1="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",Zk="M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",Ed="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function Xk({sector:e,styleManagerDataConfig:t}){const n=e.em.getEditor(),s=je(),[r,o]=f.useState({}),[i,a]=f.useState({}),c=e.getProperty("display"),u=e.getProperty("flex-direction"),d=e.getProperty("justify-content"),p=e.getProperty("align-items"),g=e.getProperty("flex-wrap"),h=e.getProperty("align-content"),m=e.getProperty("align-self"),b=e.getProperty("order"),v=e.getProperty("gap"),x=e.getProperty("flex"),y={sector:e,styleManagerDataConfig:t},S=[c,u,d,p,g,h,m,b,v,x].map(B=>B.id),w=e.getProperties().filter(B=>!S.includes(`${B.id}`)),j=B=>s.t(`styleManager.layout.${B}`),C=c.getValue(),P=C==="flex",O=(i.display||"").indexOf("flex")>=0,T=u.getValue(),E=T.indexOf("reverse")>=0,A=!Yk(["column","column-reverse"],T),_=[{id:"row",label:l.jsx(se,{icon:G.arrowRight,size:ae.sx}),title:j("direction.title.row")},{id:"row-reverse",label:l.jsx(se,{icon:G.arrowRight,size:ft,horizontal:!0}),title:j("direction.title.row-reverse")},{id:"column",label:l.jsx(se,{icon:G.arrowDown,size:ae.sx}),title:j("direction.title.column")},{id:"column-reverse",label:l.jsx(se,{icon:G.arrowDown,size:ft,vertical:!0}),title:j("direction.title.column-reverse")}],N=[{id:"flex-start",title:"Start",label:l.jsx(se,{icon:yl,size:ft,rotate:A?0:90,horizontal:A&&E,vertical:!A&&E})},{id:"center",title:"Center",label:l.jsx(se,{icon:xl,size:ft,rotate:A?0:90})},{id:"flex-end",title:"End",label:l.jsx(se,{icon:wl,size:ft,rotate:A?0:90,horizontal:A&&E,vertical:!A&&E})},{id:"space-between",title:"Space between",label:l.jsx(se,{icon:Qm,size:ft,rotate:A?0:90})},{id:"space-around",title:"Space around",label:l.jsx(se,{icon:e1,size:ft,rotate:A?0:90})},{id:"space-evenly",title:"Space evenly",label:l.jsx(se,{icon:Zk,size:ft,rotate:A?0:90})}],V=[{id:"stretch",title:"Stretch",label:l.jsx(se,{icon:Ed,size:ft,rotate:A?0:90})},{id:"flex-start",title:"Start",label:l.jsx(se,{icon:yl,size:ft,rotate:A?90:0})},{id:"center",title:"Center",label:l.jsx(se,{icon:xl,size:ft,rotate:A?90:0})},{id:"flex-end",title:"End",label:l.jsx(se,{icon:wl,size:ft,rotate:A?90:0})}],M=[{id:"flex-start",title:"Start",label:l.jsx(se,{icon:yl,size:ft,rotate:A?90:0,horizontal:A&&E,vertical:!A&&E})},{id:"center",title:"Center",label:l.jsx(se,{icon:xl,size:ft,rotate:A?90:0})},{id:"flex-end",title:"End",label:l.jsx(se,{icon:wl,size:ft,rotate:A?90:0,horizontal:A&&E,vertical:!A&&E})},{id:"space-between",title:"Space between",label:l.jsx(se,{icon:Qm,size:ft,rotate:A?90:0})},{id:"space-around",title:"Space around",label:l.jsx(se,{icon:e1,size:ft,rotate:A?90:0})},{id:"stretch",title:"Stretch",label:l.jsx(se,{icon:Ed,size:ft,rotate:A?0:90})}],H=[{id:"auto",title:"Auto",label:l.jsx(se,{icon:G.close,size:ft})},{id:"flex-start",title:"Start",label:l.jsx(se,{icon:yl,size:ft,rotate:90})},{id:"center",title:"Center",label:l.jsx(se,{icon:xl,size:ft,rotate:90})},{id:"flex-end",title:"End",label:l.jsx(se,{icon:wl,size:ft,rotate:90})},{id:"stretch",title:"Stretch",label:l.jsx(se,{icon:Ed,size:ft,rotate:0})}],U=[{id:"0 0 auto",label:l.jsx(se,{icon:G.close,size:ft}),title:"Auto"},{id:"1 1 0%",label:l.jsx(se,{icon:G.unfoldMoreHorizontal,size:ft,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:l.jsx(se,{icon:G.unfoldLessHorizontal,size:ft,rotate:90}),title:"Hug contents"}];return f.useEffect(()=>{if(!n)return()=>{};const{Styles:B}=n,k=()=>{const $=n.getSelected();let z={},J={};if($){const Y=$.getEl();if(Y){z=window.getComputedStyle(Y);const Q=Y.parentElement;Q&&(J=window.getComputedStyle(Q))}}o(z),a(J)},D=B.events.target;return n.on(D,k),k(),()=>n.off(D,k)},[n]),l.jsxs(l.Fragment,{children:[l.jsx(be,{children:l.jsx(Ee,{...xt(c,y),...$p,tip:j(`display.tips.${C}`)})}),P&&l.jsxs(l.Fragment,{children:[l.jsx(be,{children:l.jsx(qt,{...ys(u,y),options:_})}),l.jsx(be,{children:l.jsx(qt,{...ys(d,y),options:N})}),l.jsx(be,{children:l.jsx(qt,{...ys(p,y),options:V})}),l.jsx(be,{children:l.jsx(cn,{property:v,...y})}),l.jsx(be,{children:l.jsx(Ee,{...xt(g,y),...$p})}),g.getValue()!=="nowrap"&&l.jsx(be,{children:l.jsx(qt,{...ys(h,y),options:M})})]}),O&&l.jsxs(l.Fragment,{children:[l.jsx(be,{separatorTop:!0,children:j("flexChild")}),l.jsx(be,{children:l.jsx(cn,{property:x,options:U,...y})}),l.jsx(be,{children:l.jsx(qt,{...ys(m,y),options:H})}),l.jsx(be,{children:l.jsx(Ae,{...et(b,{sector:e,styleManagerDataConfig:t})})})]}),w.length>0&&l.jsx(Sg,{properties:w,...y})]})}const Jk=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function Qk({sector:e,styleManagerDataConfig:t}){var m;const n=je(),s=e.getProperty("position"),r=s.getValue(),o=e.getProperty("top"),i=e.getProperty("right"),a=e.getProperty("bottom"),c=e.getProperty("left"),u={sector:e,styleManagerDataConfig:t},d=b=>n.t(`styleManager.position.${b}`),p=Jk.map(b=>({id:b,label:d(`presets.options.${b}`)})),g=["absolute","fixed"].includes(r),h=b=>{let v="auto",x="auto",y="auto",S="auto";switch(b){case"topLeft":v="0%",S="0%";break;case"topRight":v="0%",x="0%";break;case"bottomLeft":y="0%",S="0%";break;case"bottomRight":y="0%",x="0%";break;case"left":v="0%",y="0%",S="0%";break;case"right":v="0%",y="0%",x="0%";break;case"bottom":S="0%",y="0%",x="0%";break;case"top":S="0%",v="0%",x="0%";break;case"full":S="0%",v="0%",x="0%",y="0%";break}o.upValue(v),i.upValue(x),a.upValue(y),c.upValue(S)};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:s,children:[l.jsx(Ee,{...xt(s,u),tip:d(`tips.${(m=s.getOption())==null?void 0:m.id}`),...$p}),g&&l.jsx(I,{children:l.jsx(It,{title:d("presets.title"),children:l.jsx(Ee,{options:p,onChange:h,emptyState:"P",size:"s",caret:"",value:!0})})})]}),r!=="static"&&l.jsxs(l.Fragment,{children:[l.jsxs(be,{col:!0,children:[l.jsx(R,{className:W("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(Ae,{...et(o,u)})}),l.jsxs(R,{gap:"s",children:[l.jsx(I,{grow:!0,children:l.jsx(Ae,{...et(c,u)})}),l.jsx(I,{grow:!0,children:l.jsx(Ae,{...et(i,u)})})]}),l.jsx(R,{className:W("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(Ae,{...et(a,u)})})]}),l.jsx(be,{children:l.jsx(Ae,{...et(e.getProperty("z-index"),u)})})]})]})}function eR({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("width"),s=e.getProperty("min-width"),r=e.getProperty("max-width"),o=e.getProperty("height"),i=e.getProperty("min-height"),a=e.getProperty("max-height"),c={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:[n,o],children:[l.jsx(Ae,{...et(n,c)}),l.jsx(Ae,{...et(o,c)})]}),l.jsxs(be,{property:[s,i],children:[l.jsx(Ae,{...et(s,c)}),l.jsx(Ae,{...et(i,c)})]}),l.jsxs(be,{property:[r,a],children:[l.jsx(Ae,{...et(r,c)}),l.jsx(Ae,{...et(a,c)})]})]})}function tR({sector:e,styleManagerDataConfig:t}){const n={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsx(cn,{property:e.getProperty("padding"),...n}),l.jsx(cn,{property:e.getProperty("margin"),...n})]})}function nR({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("font-family"),s=e.getProperty("color"),r=e.getProperty("font-size"),o=e.getProperty("font-weight"),i=e.getProperty("line-height"),a=e.getProperty("letter-spacing"),c=e.getProperty("text-align"),u=e.getProperty("vertical-align"),d=e.getProperty("text-decoration"),p=e.getProperty("text-transform"),g=e.getProperty("direction"),h=e.getProperty("white-space"),m={sector:e,styleManagerDataConfig:t},{sdkAddFonts:b}=Wa();return l.jsxs(l.Fragment,{children:[!!n&&l.jsx(be,{property:n,children:b?l.jsx(du,{...Qy(n,m)}):l.jsx(Ee,{...xt(n,m)})}),!!s&&l.jsx(be,{property:s,children:l.jsx(sr,{...bo(s,m)})}),l.jsxs(be,{property:[r,o],children:[!!r&&l.jsx(Ae,{...et(r,m)}),!!o&&l.jsx(Ee,{...xt(o,m)})]}),l.jsxs(be,{property:[i,a],children:[!!i&&l.jsx(Ae,{...et(i,m)}),!!a&&l.jsx(Ae,{...et(a,m)})]}),l.jsxs(be,{property:[c,u],children:[!!c&&l.jsx(Ee,{...xt(c,m)}),!!u&&l.jsx(Ee,{...xt(u,m)})]}),l.jsxs(be,{property:[p,g],children:[!!p&&l.jsx(Ee,{...xt(p,m)}),!!g&&l.jsx(Ee,{...xt(g,m)})]}),l.jsxs(be,{property:[h,d],children:[!!h&&l.jsx(Ee,{...xt(h,m)}),!!d&&l.jsx(Ee,{...xt(d,m)})]})]})}const $p={row:!0,classNameLabel:"gs-utl-w-full"},sR=({property:e,skipClear:t,label:n,afterLabelButtons:s=[]})=>l.jsxs(R,{nowrap:!0,full:!0,items:"center",justify:"between",gap:"s",children:[l.jsx(I,{grow:!1,children:l.jsx(gr,{property:e,skipClear:t,label:n})}),!!s.length&&l.jsx(R,{nowrap:!0,items:"center",justify:"start",gap:"x2s",children:s.map((r,o)=>l.jsx(vt,{...r},o))})]}),Zy="gs-style-manager",vc=`${Zy}-sector`,rR=`${vc}-header`,oR=`${vc}-content`,Xy=(e,t=0,n=!0)=>L(rR,F.bgH2,Me.xyS,F.br,t&&re.bt,(e||n)&&re.bb),iR=(e,t={})=>e.getOptions().map(n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title})),aR=(e,t)=>t.map(n=>({...n,title:e.getOptionLabel(e.getOptionId(n))})),Ya=(e,t)=>{const n=lR(e,t),s=_y(n),{hasDataResolverValue:r}=n,{label:o}=t;return{connectDataSources:n,commonProps:{size:"s",disabled:r,placeholder:e.getDefaultValue(),tip:e.get("tip")||e.get("info"),labelAs:s.length?"span":void 0,label:l.jsx(sR,{property:e,skipClear:r,label:o,afterLabelButtons:s})}}},jg=(e,t)=>{const{connectDataSources:n,commonProps:s}=Ya(e,t);return{...s,value:n.dataResolverValue??e.getValue({noDefault:!0}),onChange:(r,o)=>e.upValue(r,{partial:o})}},Jy=(e,t,n)=>{const{connectDataSources:s,commonProps:r}=Ya(e,t),{hasDataResolverValue:o,initialDataValue:i}=s;return{fieldProps:{...r,value:o?i:e.getValue(),options:iR(e,n??{}),onChange:a=>e.upValue(a)},connectDataSources:s}},ys=(e,t,n)=>Jy(e,t,n).fieldProps,xt=(e,t,n)=>{const{fieldProps:s,connectDataSources:r}=Jy(e,t,n),{hasDataResolverValue:o}=r,i=o?e.getValue()||" ":s.emptyState;return{...s,emptyState:i,hideCaret:o}},Qy=(e,t)=>{const{commonProps:n,connectDataSources:s}=Ya(e,t),r=s.hasDataResolverValue?e.getValue()||" ":void 0;return{...n,options:void 0,emptyState:r,hideCaret:s.hasDataResolverValue,value:s.dataResolverValue??e.getValue(),onChange:o=>e.upValue(o)}},hr=(e,t,n={})=>{const{connectDataSources:s,commonProps:r}=Ya(e,t),{hasDataResolverValue:o,dataResolverValue:i}=s;return{...r,title:e.getLabel(),emptyState:o?i:void 0,titleAdd:`Add new ${e.getLabel()}`,items:o?[]:e.getLayers(),selected:e.getSelectedLayer(),renderItem:a=>e.getLayerLabel(a),add:o?void 0:()=>e.addLayer(n,{at:0}),select:a=>e.selectLayer(a),remove:a=>e.removeLayer(a),move:(a,c=0)=>e.moveLayer(a,c)}},et=(e,t)=>{const{connectDataSources:n,commonProps:s}=Ya(e,t),{hasDataResolverValue:r}=n;return{...s,value:n.dataResolverValue??e.getValue({noDefault:!0}),onChange:(o,i)=>e.upValue(o,{partial:i}),valueUnit:e.getUnit(),pan:!r,units:r?[]:e.getUnits(),min:e.getMin(),max:e.getMax()||void 0,step:e.getStep(),onChangeUnit:o=>e.upUnit(o)}};function lR(e,t){const{styleManagerDataConfig:n=!1,sector:s}=t,r=e.em.getEditor(),{Styles:o}=r,i=r.getSelected(),a=o.getSelectedAll(),c=o.getSelected();let u=!1;n===!0?u=!0:i&&ss(n)&&Xe(n.enable)&&(u=n.enable({property:e,sector:s,component:i,editor:r}));const d=e.getName(),p=(c==null?void 0:c.getStyle("",{skipResolve:!0})[d])??"",g=Or(p),h=i==null?void 0:i.collectionsStateMap;return{hasDataResolverValue:g,dataResolverValue:g?c==null?void 0:c.getStyle()[d]:void 0,enableDataValue:u,initialDataValue:p,handleDataValueChange:m=>{a.forEach(b=>{b.addStyle({[d]:m})})},handleValueClear:()=>{a.forEach(m=>{const b=m.getStyle()[d]??"";m.addStyle({[d]:b})})},editor:r,additionalSources:h}}const bo=(e,t)=>jg(e,t),cR=(e,t)=>{const{label:n,...s}=jg(e,t);return{...s,label:n,isContain:e.get("contain")??!0,hideButton:s.disabled,inputField:e.get("inputField"),onOpen(){const r=e.em.Assets;r.open({select(o){e.upValue(o.getSrc()),r.close()}})}}},uR=(e,{styleManagerDataConfig:t})=>{const n=e.getId();let s=Uk;switch(n){case"gs-layout":s=Xk;break;case"gs-size":s=eR;break;case"gs-space":s=tR;break;case"gs-position":s=Qk;break;case"gs-borders":s=Gk;break;case"gs-effects":s=qk;break;case"gs-typography":s=nR;break;case"gs-background":s=fR;break}return l.jsx(s,{sector:e,styleManagerDataConfig:t})},Pd={},ex=oe(function({className:t,sectors:n}){var g;const[s,r]=f.useState(Pd),o=ge(),{editor:i}=o,a=i==null?void 0:i.Styles,c=a==null?void 0:a.getSelected(),u=i==null?void 0:i.getSelected();if(f.useEffect(()=>{if(u&&i){const h=setTimeout(()=>{let m=Pd;const b=u.get("styleManager");Xe(b)&&(m=b({editor:i,component:u})),r(m||Pd)});return()=>clearTimeout(h)}},[u,i]),!a||!c)return null;const d=n.length?n:a.getSectors({visible:!0}),p=(g=o.sdkOptions.dataSources)==null?void 0:g.styleManager;return s.disabled?null:l.jsx("div",{className:L(Zy,t,"gs-utl-select-none"),children:d.map((h,m)=>l.jsx(Eo,{open:h.isOpen(),onChange:({open:b})=>h.setOpen(b),classNameWrap:L(vc,`${vc}__${h.id}`),sticky:!0,handler:()=>{const b=h.getProperties({withValue:!0}).length>0,v=h.getProperties({withParentValue:!0}).length>0;return l.jsxs(R,{gap:"xs",items:"center",children:[l.jsx(I,{className:"gs-utl-mr-2",children:h.getName()}),b&&l.jsx(I,{children:l.jsx("div",{className:L(Le.dot,F.bgA2)})}),v&&l.jsx(I,{children:l.jsx("div",{className:L(Le.dot,F.bgW)})})]})},className:b=>Xy(b,m,m===d.length-1),children:l.jsx(R,{className:L(oR,"gs-utl-p-2 gs-utl-gap-2"),col:!0,children:uR(h,{styleManagerDataConfig:p})})},h.id))})});var wr=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(wr||{});const ql="background-image",js="__background-type",Zi=ql,tx="https://placehold.co/150/777/white.png?text=IMAGE",Ip="50px",dR={[js]:"image","background-image":`url("${tx}")`,"background-size":`${Ip} ${Ip}`,"background-repeat":"repeat","background-position":"0px 0px"},pR=e=>(e.includes("gradient(")?fg(e).colorStops[0].color:e)||"";function fR({sector:e,styleManagerDataConfig:t}){var y;const n=_n(),s=e.getProperty("background"),r=s.getProperty(js),o=s.getProperty("background-image"),i=s.getProperty("background-position"),a=s.getProperty("background-size"),c=e.getProperty("background-color"),u=e.getProperty("background-clip"),d={sector:e,styleManagerDataConfig:t},p=((y=s.getSelectedLayer())==null?void 0:y.getIndex())||-1,g=r==null?void 0:r.getValue(),h=g==="image",m=o.getValue(),b=()=>{const S=n.Assets;S.open({select(w){const j=w.getSrc();o.upValue(`url("${j}")`),S.close()}})},v=S=>{let w="none",j="100%";S==="image"?(w=`url("${tx}")`,j=Ip):S==="gradient"?w="linear-gradient(90deg, black 10%, white 90%)":S==="color"&&(w="rgba(0, 0, 0, 0.5)"),o.upValue(w),r.upValue(S),i.upValue("0 0"),a.upValue(`${j} ${j}`)},x=aR(r,[{id:"image",label:l.jsx(se,{icon:G.image,size:ae.s})},{id:"gradient",label:l.jsx(se,{icon:G.gradientVertical,size:ae.s})},{id:"color",label:l.jsx(se,{icon:G.checkboxBlank,size:ae.s})}]);return l.jsxs(l.Fragment,{children:[l.jsx(be,{property:s,separator:!0,children:l.jsxs(ms,{...hr(s,d,dR),previewStyle:S=>s.getStyleFromLayer(S,{camelCase:!0}),children:[l.jsx(be,{children:l.jsx(qt,{...ys(r,d),options:x,onChange:v,label:void 0})}),l.jsx(be,{children:l.jsxs(gr,{children:[h&&l.jsx(ma,{value:au(m).value,onOpen:b}),g==="color"&&l.jsx(sr,{...bo(o,d),value:pR(m),label:void 0}),g==="gradient"&&l.jsx(uN,{value:m,onChange:(S,w)=>o.upValue(S,{partial:w})},p)]})}),h&&l.jsxs(l.Fragment,{children:[l.jsx(be,{col:!0,children:l.jsx(cn,{property:i,...d})}),l.jsx(be,{col:!0,children:l.jsx(cn,{property:a,...d})}),l.jsxs(be,{children:[l.jsx(Ee,{...xt(s.getProperty("background-repeat"),{sector:e})}),l.jsx(Ee,{...xt(s.getProperty("background-attachment"),{sector:e})})]}),l.jsx(be,{children:l.jsx(Ee,{...xt(s.getProperty("background-origin"),{sector:e})})})]})]})}),l.jsx(be,{property:c,children:l.jsx(sr,{...bo(c,d)})}),l.jsx(be,{property:u,children:l.jsx(Ee,{...xt(u,d)})})]})}const Sl=["%"],jl=["s","ms"],Li=["deg","rad","grad"],fs=["px","%","em","rem","vw","vh"],t1={type:"select",options:["visible","hidden","scroll","auto"].map(e=>({id:e})),default:"visible"},gR=e=>`linear-gradient(${e} 1%, ${e} 100%)`,yc=e=>({id:e,label:e.split("-").map(Ss).join(" ")}),nx=e=>({property:t,to:n})=>{if(n.value){const s=t.getOption(),r=t.getParent().getProperty(e),o=r.getUnit(),i={units:s.units||[],min:s.min,max:s.max,unit:""};(!o||(i==null?void 0:i.units.indexOf(o))<0)&&(i.unit=(i==null?void 0:i.units[0])||""),r.up(i)}},hR=e=>{const t=`${e}-name`,n=`${e}-value`;return(s,{separatorLayers:r})=>{const o=s[e]||"";return o?o.split(r).map(i=>{const{name:a,value:c}=au(i);return{[t]:a,[n]:c}}):[]}},n1=e=>{const t={[Zi]:e};if(e.indexOf("url(")>-1)t[js]=wr.Image;else if(e.indexOf("gradient(")>-1){const n=fg(e),s=n.colorStops,r=n.name.indexOf("linear")>=0;s.length===2&&r&&s[0].color===s[1].color?t[js]=wr.Color:t[js]=wr.Gradient}else t[js]=wr.Color,t[Zi]=gR(e);return t},s1=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(s,{separatorLayers:r}){const o=s[e]||"";return o?o.split(r).map(i=>{const{name:a,value:c}=au(i);return{[t]:a,[n]:c}}):[]},toStyle(s,{name:r}){return{[r]:`${s[t]}(${s[n]||"0"})`}},properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:nx(n)},{property:n,type:"integer"}]}},Cl=(e,{x:t,y:n,mergable:s}={})=>{const r={property:`${e}-x`,type:"integer",units:fs,...t},o={property:`${e}-y`,type:"integer",units:fs,...n};return{property:e,type:"composite",properties:[r,o],...s&&{fromStyle(i,{name:a,separator:c,property:u}){const[d,p]=u.getProperties(),[g,h]=(i[a]||"").split(c);return{[d.getId()]:i[d.getName()]||g||"",[p.getId()]:i[p.getName()]||h||g||""}},toStyle(i,{name:a,property:c}){const[u,d]=c.getProperties(),p=i[u.getId()],g=i[d.getId()];return{[a]:p===g?p:`${p} ${g}`}}}}},mR=(e,t="")=>{const n=`${e}-name`,s=`${e}-value`;return(r,{name:o})=>({[o]:`${r[n]}(${r[s]||t})`})},bR=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","inner-padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{extend:"padding",property:"inner-padding",isVisible:({component:e})=>e&&["mj-button","mj-social"].includes(e.getType())},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(yc)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(yc)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","inner-background-color","container-background-color","background-url","background-position","background-repeat","background-size"],properties:[{name:"Container background",property:"container-background-color",default:"none",full:!0,type:"color"},{name:"Inner background",property:"inner-background-color",info:"Requires padding to be set",default:"none",full:!0,type:"color"},{property:"background-url",name:"Background image",type:"file",inputField:!0},{property:"background-position",name:"Background position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,fixedValues:e==="background-position-x"?["left","center","right"]:["top","center","bottom"],units:["px"],default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"no-repeat",label:"No repeat"}]}]}],vR=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},Cl("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:fs,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{property:"vertical-align",type:"select",default:"baseline",options:["baseline","top","middle","bottom"].map(yc)},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:k2("(?<!\\(.*[^)]),(?![^()]*\\))")||", ",layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(js).getOptionLabel(t[js]),toStyle(e){const t=e[js];let n=e[Zi];return t==="color"&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[Zi]:n}},fromStyle(e,{property:t,name:n,separatorLayers:s}){const r=s,o=t.getProperties();let i=[];return e[ql]?(i=t.__splitStyleName(e,ql,r).map(n1),o.forEach(a=>{const c=a.getId(),u=a.getName();u!==ql&&t.__splitStyleName(e,u,r).map(d=>({[c]:d||a.getDefaultValue()})).forEach((d,p)=>{i[p]=i[p]?{...i[p],...d}:d})})):e[n]&&(i=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(a=>a.substring(0,a.lastIndexOf(")")+1)).map(n1)),i},properties:[{property:js,type:"radio",default:"image",options:[{id:wr.Image},{id:wr.Gradient},{id:wr.Color}]},{property:Zi,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,units:fs,default:"0px"}))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map(e=>({type:"integer",property:e,units:fs,default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:s}=e;if(s!==void 0){const r=s==="text";t.__upTargetsStyle({"-webkit-background-clip":r?s:"","-webkit-text-fill-color":r?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map(e=>({type:"integer",property:e,default:"0",units:fs}))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map(e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]}))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map(e=>({type:"color",property:e,default:"currentColor"}))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},Cl("overflow",{x:t1,y:t1,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map(r=>{const{x:o,y:i,blur:a,spread:c,inset:u,color:d}=Om(r);return{"box-shadow-h":o,"box-shadow-v":i,"box-shadow-blur":a,"box-shadow-spread":c,"box-shadow-color":d,"box-shadow-type":u?"inset":""}}):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map(r=>{const{x:o,y:i,blur:a,color:c}=Om(r);return{"text-shadow-h":o,"text-shadow-v":i,"text-shadow-blur":a,"text-shadow-color":c}}):[]}},s1(),s1("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${Ss(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(yc)},{property:"transition-duration",type:"integer",default:"1s",unit:jl[0],units:jl,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:jl[0],units:jl}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const s=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${Ss(s)}: ${t["transform-value"]}`},fromStyle:hR("transform"),toStyle:mR("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:fs},{id:"translateY",label:"Move Y",units:fs},{id:"translateZ",label:"Move Z",units:fs},{id:"rotateX",label:"Rotate X",units:Li},{id:"rotateY",label:"Rotate Y",units:Li},{id:"rotateZ",label:"Rotate Z",units:Li},{id:"scale",label:"Scale",units:Sl},{id:"scaleX",label:"Scale X",units:Sl},{id:"scaleY",label:"Scale Y",units:Sl},{id:"scaleZ",label:"Scale Z",units:Sl},{id:"skewX",label:"Skew X",units:Li},{id:"skewY",label:"Skew Y",units:Li}],onChange:nx("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},Cl("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:fs},Cl("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}],r1=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function sx(e,t){return[n=>LM(n,t),...MM[e],n=>jL(n,t),TM(e,t)]}function yR(e,t={}){var i;const n=e===Ce.email,{devices:s}=t,r=s?{default:s.selected,devices:s.default??(n?r1:void 0)}:n?{devices:r1}:{},o={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},styleManager:{sectors:n?bR:vR},parser:{optionsHtml:{convertDataGjsAttributesHyphens:!0}},selectorManager:{componentFirst:!0},i18n:{messagesAdd:oa({en:t4},((i=t.i18n)==null?void 0:i.locales)??{})},deviceManager:r,canvasCss:`
      [contenteditable] { outline: 0px solid transparent;}
    `,canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}},telemetry:!1};return oa(o,t.gjsOptions??{})}class xR{constructor(t){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=t,nn(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(t){this.clearPending();const s=(yield bu()).filter(r=>r.projectType.includes(t));this.setProjectPlugins(s)}setProjectPlugins(t,n={}){this.projectPlugins=[...t],n.clearPending&&this.clearPending()}clearPending(){this.pendingInstalled=[],this.pendingUninstalled=[]}getPluginsToLoad(t,n){const s=[...sx(t,{appStore:n}),...this.projectPlugins||[]],r=n.sdkOptions.plugins||[];return Xe(r)?r({plugins:s}):[...s,...r]}addPendingInstalled(t){const{pendingInstalled:n,pendingUninstalled:s}=this,r=t.id;s.includes(r)?this.pendingUninstalled=s.filter(o=>o!==r):n.includes(r)||n.push(r)}addPendingUninstalled(t){const{pendingInstalled:n,pendingUninstalled:s}=this,r=t.id;n.includes(r)?this.pendingInstalled=n.filter(o=>o!==r):s.push(r)}setSelectedShown(t){this.selectedShown=t}}const Cg={db:N0.gjsStudio},bu=()=>new Promise(async e=>{let t=[];try{t=await B3(gi.Settings,"plugins",Cg)||[]}catch(n){Ls()&&console.error(n)}e(t)}),wR=(e,t={})=>new Promise(async n=>{try{const r=[...t.installed||await bu(),e];rx().addPendingInstalled(e),t.skipUpdateLocal||await k0(gi.Settings,"plugins",r,Cg)}catch(s){console.error(s)}n()}),SR=(e,t={})=>new Promise(async n=>{try{const r=(t.installed||await bu()).filter(o=>o.id!==e.id);rx().addPendingUninstalled(e),t.skipUpdateLocal||await k0(gi.Settings,"plugins",r,Cg)}catch(s){console.error(s)}n()}),Eg=()=>zt().pluginStore,rx=()=>vu().pluginStore;let xc;const ox=f.createContext(void 0);class ix{constructor(t){this.blockManagerStore=new Y3(this),this.appEditorStore=new PR(this,t==null?void 0:t.appEditorStore),this.localSettingsStore=new JA(t==null?void 0:t.localSettingsStore),this.toastStore=new q3(this),this.modalStore=new e4(this),this.i18nStore=new k3(this),this.pluginStore=new xR(this),this.pointerBadgeStore=new V3(this),this.contextMenu=new Q_(this),this.layoutStore=new $3(this),this.templatesStore=new K3(this),this.assetsStore=new L3(this),this.globalStylesStore=new YA(this),this.fontsStore=new N3(this),this.appEditorStore.init(),sf()&&(window.__gjss=this)}}const jR=e=>{QA(e.localSettingsStore),OR(e.appEditorStore)},CR=({children:e,initialState:t})=>(xc=f.useMemo(()=>{const n=new ix(t);return jR(n),n},[]),l.jsx(ox.Provider,{value:xc,children:e})),zt=()=>{const e=f.useContext(ox);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},vu=()=>{if(!xc)throw new Error("Store has not been initialized");return xc},El=({icon:e,layout:t,tooltip:n,className:s,forceRemove:r,removeLayouts:o})=>({type:"button",icon:e,tooltip:n,className:s,size:"s",editorEvents:{[`${pn.layoutToggleId}${t.id}`]:({fromEvent:i,setState:a})=>{a({active:i.isOpen})}},onClick:({editor:i})=>{o==null||o.forEach(a=>i.runCommand(ce.layoutRemove,{id:a,force:r})),i.runCommand(ce.layoutToggle,{...t})}}),o1={type:"static",layoutId:"leftPanelsContainer"},i1={width:240,overflow:"hidden"};El({tooltip:"Blocks",removeLayouts:["pagesLayers","ps"],layout:{id:"blocks",layout:"panelBlocks",header:{label:"Blocks"},style:i1,placer:o1}}),El({tooltip:"Pages & Layers",removeLayouts:["blocks","ps"],layout:{id:"pagesLayers",layout:"panelPagesLayers",header:!1,style:i1,placer:o1}}),El({tooltip:"Page Settings",removeLayouts:["pagesLayers","blocks"],layout:{id:"ps",layout:"panelPageSettings",header:{label:"Page Settings"},style:{marginLeft:40}}}),El({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',tooltip:"Custom Component",className:"gs-utl-mt-auto",layout:{id:"customLayout",layout:{type:"custom",component:()=>l.jsx("div",{children:"Custom Reat component"})},header:{label:"Custom"},style:{marginLeft:40}}});const ER={type:"row",style:{height:"100%"},children:[{type:"sidebarLeft"},{type:"canvasSidebarTop"},{type:"sidebarRight"}]};class PR{constructor(t,n){this.projectType=Ce.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isTopSidebarOpen=!0,this.isBottomSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=36,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.licenseCheckStarted=!1,this.studioSdkVersion="1.0.57",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isDraggingAbsolute=!1,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=t,n&&Object.keys(n).forEach(r=>{const o=r,i=n[o];i!==void 0&&(this[o]=i)});const s=Ls()?window.location.search:"";this.queryParams=F2(s),nn(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:t,isStage:n}=this;return N2({isDev:t,isStage:n})}get projectId(){var s,r;const{project:t,storage:n}=this.sdkOptions;return this._projectId||((r=(s=(n==null?void 0:n.project)||(t==null?void 0:t.default))==null?void 0:s.custom)==null?void 0:r.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return this.displayMode==="browser"}get sdkOptions(){return this.sdkProps.options}get sdkProjectId(){var t,n;return(n=(t=this.sdkOptions.project)==null?void 0:t.id)==null?void 0:n.toString()}get sdkIdentityId(){var t,n;return(n=(t=this.sdkOptions.identity)==null?void 0:t.id)==null?void 0:n.toString()}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkComponentsConfig(){return this.sdkOptions.components}get sdkCanvasConfig(){return this.sdkOptions.canvas}get sdkGlobalStylesConfig(){return this.sdkOptions.globalStyles}get currentLayout(){const{sdkLayoutConfig:t,rootElWidth:n,store:s}=this,{customConfig:r}=s.layoutStore,o=(r==null?void 0:r.responsive)||(t==null?void 0:t.responsive);let i=(r==null?void 0:r.default)||(t==null?void 0:t.default)||ER;if(n&&o){const c=Object.keys(o).map(Number).sort((u,d)=>u-d).find(u=>n<=u);i=c?o[c]:i}return i}get sdkCustomIcons(){var t;return(t=this.sdkOptions.customTheme)==null?void 0:t.icons}get isProjectTypeEmail(){return this.projectType===Ce.email}get showPages(){return this.isReady&&this.sdkPagesConfig!==!1&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){if(this.store.assetsStore.isUsingAssetCloud||this.isUsingProjectCloud){const n=this.sdkProjectId,s=this.sdkIdentityId;if(!n||!s)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingProjectSelfHosted(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===uc.self}get isUsingProjectCloud(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===uc.cloud}get publicStateTheme(){const{theme:t,resolvedTheme:n}=this.store.localSettingsStore;return{theme:t,resolvedTheme:n}}setPublicStateTheme(t){t.theme!==void 0&&(this.store.localSettingsStore.theme=t.theme)}*init(){var p,g;const{store:t,sdkOptions:n}=this,{lastProjectId:s,lastProjectType:r}=t.localSettingsStore,o=(p=n.project)==null?void 0:p.default,{project:i}=n.storage||{};let a,c;r&&(this.store.templatesStore._projectTypeFilter=r),s&&(a=(g=(yield R0(r)).find(m=>m.id===s))==null?void 0:g.data),a?c=a:i?c=i:o&&(c=o);const u=(c==null?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield t.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(t){this.installEvent=t}setAppInstalled(t){this.appInstalled=t}setDisplayMode(t){this.displayMode=t}setProject(t){const n=this.editor,{id:s,data:r,isTemplate:o}=t,i=n.Storage.getConfig().options.local,a=o?`${s}__${B2()}`:s;this._projectId=a,i.key=a,H2(r)||this.loadProjectData({...r,custom:{...r.custom,id:a,projectType:this.store.templatesStore.projectTypeFilter}})}setProjectDataCustom(t){const n={...this.projectDataCustom,...t};this.projectDataCustom=n,this.projectType=n.projectType||Ce.web,this.editor&&A3(this.editor,n),n.id&&this.store.localSettingsStore.setLocalState({lastProjectId:n.id,lastProjectType:this.projectType})}loadProjectData(t){const n=t.custom||{};if(TR(t)!==this.projectType)this.setNextProjectData(t),this.setProjectDataCustom(n),this.updateStudio();else{const s=this.editor;s.loadProjectData(t),s.UndoManager.clear(),this.setProjectDataCustom(n)}}setNextProjectData(t){this.nextProjectData=t}setLeftSidebarSize(t){this.leftSidebarSize=t}setRightSidebarSize(t){this.rightSidebarSize=t}setEditor(t){this.editor=t}setPreview(t){this.isInPreview=t}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(t){this.isLeftSidebarOpen=t,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(t){this.isRightSidebarOpen=t,this.refreshEditorPostTransition()}setTopSidebarOpen(t){this.isTopSidebarOpen=t,this.refreshEditorPostTransition()}setBottomSidebarOpen(t){this.isBottomSidebarOpen=t,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout(()=>{var t;return(t=this.editor)==null?void 0:t.refresh()},this.transitionTime)}setCanvasPanning(t){this.isCanvasPanning=t}setSelectingTarget(t){this.isSelectingTarget=t}setSelectedDesignerTab(t){this.selectedDesignerTab=t}setCustomAssets(t){this.customAssets=t}setIsDraggingAbsolute(t){this.isDraggingAbsolute=t}setIsSaving(t){this.isSaving=t}setIsReady(t){this.isReady=t}setPanelPageSettings(t){this.panelPageSettings={...this.panelPageSettings,...t}}setSdkPagesConfig(t){this.sdkProps.options.pages=t&&{...this.sdkPagesConfig,...t},++this.sdkPagesConfigUpdates}setRootElWidth(t){this.rootElWidth=t,this.refreshEditorCanvas()}*loadLicense(){const{editor:t}=this;try{this.licenseCheckStarted=!0;const{licenseKey:n,baseApiUrl:s,studioSdkVersion:r}=this;t==null||t.trigger(S2,{baseApiUrl:s});const o=yield Ms.post(`${s}/sdk/${n||"na"}`,{params:{d:window.location.hostname,v:r}});if(o instanceof Error)throw o;const i=o.result||{},{license:a,error:c,plan:u}=i;c?this.sdkLicenseError=c:(this.sdkLicense=a,u!=null&&u.poweredBy&&(this.showPoweredBy=!0)),t==null||t.trigger(ch,i)}catch(n){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout(()=>this.loadLicense(),3e3)):(console.error(n),this.showPoweredBy=!0,t==null||t.trigger(ch,{}))}}*updateStudio(){const{pluginStore:t}=this.store,{projectType:n}=this.projectDataCustom;yield t.initProjectPlugins(n),this.setEditor(),this.editorKey++}refreshStudio(){var t;this.editorKey&&(this.setNextProjectData((t=this.editor)==null?void 0:t.getProjectData()),this.store.layoutStore.clear(),this.setEditor(),this.editorKey++)}refreshEditorCanvas(){var t;(t=this.editor)==null||t.refresh({tools:!0})}}const TR=e=>{var t;return((t=e.custom)==null?void 0:t.projectType)||Ce.web},OR=e=>{Ub(()=>e.currentLayout,()=>e.refreshStudio())},ge=()=>zt().appEditorStore,_R=()=>{try{return ge()}catch{}},Xi=()=>vu().appEditorStore,AR=()=>{try{return vu().appEditorStore}catch{}},yu=()=>{const[e,t]=f.useState(0),n=zt().appEditorStore,{transitionTime:s}=n;return f.useEffect(()=>{setTimeout(()=>t(r=>++r),s)},[s]),[e]},MR={light:{colors:{global:{background1:"rgba(244, 244, 244, 1)",background2:"rgba(253, 253, 253, 1)",background3:"rgba(255, 255, 255, 1)",backgroundHover:"rgba(244, 244, 244, 1)",text:"rgba(24, 24, 24, 1)",border:"rgba(210, 210, 210, 1)",focus:"rgba(195, 180, 253, 80%)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(242.25, 239.7, 255, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(31.87, 127.5, 223.12, 1)",background2:"rgba(121.12, 178.5, 235.87, 1)",background3:"rgba(210.37, 229.5, 248.62, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(221.68, 215.22, 253.98, 1)",background3:"rgba(242.25, 239.7, 255, 1)",text:"rgba(255, 255, 255, 1)"}}},dark:{colors:{global:{background1:"rgba(63, 63, 63, 1)",background2:"rgba(39, 39, 39, 1)",background3:"rgba(24, 24, 24, 1)",backgroundHover:"rgba(55, 55, 55, 1)",text:"rgba(163, 163, 163, 1)",border:"rgba(63, 63, 63, 1)",focus:"rgba(194.95, 180.41, 253.09, 0.8)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(39, 39, 39, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(50.06, 135.15, 220.24, 1)",background2:"rgba(6.89, 87.44, 130.82, 1)",background3:"rgba(31.21, 41.33, 55.49, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(89.86, 33.2, 181, 1)",background3:"rgba(44.61, 27.03, 74.97, 1)",text:"rgba(255, 255, 255, 1)"}}}},ax=String.raw,Ue=(e,t)=>{if(t==null)return"";const n=e[0],s=e[1];return`${n}${t}${s}`},LR=(e,t="")=>{var n,s,r,o,i,a,c,u,d,p,g,h,m,b,v,x,y,S,w,j,C,P,O,T,E,A,_,N,V,M,H,U,B,k,D,$,z,J,Y,Q,ne,ee,K,Z,ie,ue,ve,he,ke,Ge,ht,rt,Ve,Nt,ot,St,mt,ut,Qe,it,Vt,pe,Re,Ie,Pe,dt;return ax`
  ${t}.${De.txt} {
    ${Ue`color: ${(s=(n=e.colors)==null?void 0:n.global)==null?void 0:s.text};`}
  }

  ${t}.${De.bg} {
    ${Ue`background-color: ${(o=(r=e.colors)==null?void 0:r.global)==null?void 0:o.background3};`}
  }

  ${t}.${De.br} {
    ${Ue`border-color: ${(a=(i=e.colors)==null?void 0:i.global)==null?void 0:a.border};`}
  }

  ${t}.${De.bgA} {
    ${Ue`background-color: ${(u=(c=e.colors)==null?void 0:c.primary)==null?void 0:u.background1};`}
    ${Ue`color: ${(p=(d=e.colors)==null?void 0:d.primary)==null?void 0:p.text};`}
  }

  ${t}.${De.bgA2} {
    ${Ue`background-color: ${(h=(g=e.colors)==null?void 0:g.primary)==null?void 0:h.background1};`}
    ${Ue`color: ${(b=(m=e.colors)==null?void 0:m.primary)==null?void 0:b.text};`}
  }

  ${t}.${De.hBgAct}:hover.${De.hBgAct}:hover,
  ${t}.${De.hBgA2}:hover.${De.hBgA2}:hover {
    ${Ue`background-color: ${(x=(v=e.colors)==null?void 0:v.primary)==null?void 0:x.backgroundHover};`}
  }

  ${t}.${De.tA} {
    ${Ue`color: ${(S=(y=e.colors)==null?void 0:y.primary)==null?void 0:S.background1};`}
  }

  ${t}.${De.tAo} {
    ${Ue`color: ${(j=(w=e.colors)==null?void 0:w.primary)==null?void 0:j.background1};`}
  }

  ${t}.${De.hTAo}:hover.${De.hTAo}:hover,
  ${t}.group:hover .${De.grouphTAo} {
    ${Ue`color: ${(P=(C=e.colors)==null?void 0:C.primary)==null?void 0:P.backgroundHover};`}
  }

  ${t}.${De.bA} {
    ${Ue`border-color: ${(T=(O=e.colors)==null?void 0:O.primary)==null?void 0:T.background1};`}
  }

  ${t}.${De.bg0} {
    ${Ue`background-color: ${(A=(E=e.colors)==null?void 0:E.primary)==null?void 0:A.background3};`}
    ${Ue`color: ${(N=(_=e.colors)==null?void 0:_.primary)==null?void 0:N.background1};`}
  }

  ${t}.${De.bgH} {
    ${Ue`background-color: ${(M=(V=e.colors)==null?void 0:V.global)==null?void 0:M.background1};`}
  }

  ${t}.${De.bgH2} {
    ${Ue`background-color: ${(U=(H=e.colors)==null?void 0:H.global)==null?void 0:U.background2};`}
  }

  ${t}.${De.hBgH}:hover,
  ${t}.${De.hBgH2}:hover {
    ${Ue`background-color: ${(k=(B=e.colors)==null?void 0:B.global)==null?void 0:k.backgroundHover};`}
  }

  ${t}.${De.sel} {
    ${Ue`background-color: ${($=(D=e.colors)==null?void 0:D.selector)==null?void 0:$.background2};`}
    ${Ue`color: ${(J=(z=e.colors)==null?void 0:z.selector)==null?void 0:J.text};`}
  }

  ${t}.${De.selBr} {
    ${Ue`border-color: ${(Q=(Y=e.colors)==null?void 0:Y.selector)==null?void 0:Q.background1};`}
  }

  ${t}.${De.cmp} {
    ${Ue`background-color: ${(ee=(ne=e.colors)==null?void 0:ne.component)==null?void 0:ee.background1};`}
    ${Ue`color: ${(Z=(K=e.colors)==null?void 0:K.component)==null?void 0:Z.text};`}
  }

  ${t}.${De.cmpBgSoft} {
    ${Ue`background-color: ${(ue=(ie=e.colors)==null?void 0:ie.component)==null?void 0:ue.background2};`}
  }

  ${t}.${De.cmpBgSoftX} {
    ${Ue`background-color: ${(he=(ve=e.colors)==null?void 0:ve.component)==null?void 0:he.background3};`}
  }

  ${t}.${De.cmpBr} {
    ${Ue`border-color: ${(Ge=(ke=e.colors)==null?void 0:ke.component)==null?void 0:Ge.background1};`}
  }

  ${t}.${De.cmpSymbol} {
    ${Ue`background-color: ${(rt=(ht=e.colors)==null?void 0:ht.symbol)==null?void 0:rt.background1};`}
    ${Ue`color: ${(Nt=(Ve=e.colors)==null?void 0:Ve.symbol)==null?void 0:Nt.text};`}
  }

  ${t}.${De.cmpBgSymbolSoft} {
    ${Ue`background-color: ${(St=(ot=e.colors)==null?void 0:ot.symbol)==null?void 0:St.background2};`}
  }

  ${t}.${De.cmpBgSymbolSoftX} {
    ${Ue`background-color: ${(ut=(mt=e.colors)==null?void 0:mt.symbol)==null?void 0:ut.background3};`}
  }

  ${t}.${De.cmpSymbolBr} {
    ${Ue`border-color: ${(it=(Qe=e.colors)==null?void 0:Qe.symbol)==null?void 0:it.background1};`}
  }

  ${t}.${De.cmpTxtActive} {
    ${Ue`color: ${(pe=(Vt=e.colors)==null?void 0:Vt.component)==null?void 0:pe.text};`}
  }

  ${t}.${De.focus}:focus-visible {
    ${Ue`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(Ie=(Re=e.colors)==null?void 0:Re.global)==null?void 0:Ie.focus};`}
  }

  ${t}.${De.inputText}::placeholder {
    ${Ue`color: ${(dt=(Pe=e.colors)==null?void 0:Pe.global)==null?void 0:dt.placeholder};`}
  }
`},NR=e=>{var i,a,c,u,d;const t=(i=e.colors)==null?void 0:i.global,n=(a=e.colors)==null?void 0:a.primary,s=(c=e.colors)==null?void 0:c.component,r=(u=e.colors)==null?void 0:u.symbol,o=(d=e.colors)==null?void 0:d.selector;return`
  :root {
    --gs-theme-cl-glb-bg1: ${t==null?void 0:t.background1};
    --gs-theme-cl-glb-bg2: ${t==null?void 0:t.background2};
    --gs-theme-cl-glb-bg3: ${t==null?void 0:t.background3};
    --gs-theme-cl-glb-bgh: ${t==null?void 0:t.backgroundHover};
    --gs-theme-cl-glb-br: ${t==null?void 0:t.border};
    --gs-theme-cl-glb-fcs: ${t==null?void 0:t.focus};
    --gs-theme-cl-glb-plh: ${t==null?void 0:t.placeholder};
    --gs-theme-cl-glb-txt: ${t==null?void 0:t.text};
    --gs-theme-cl-prm-bg1: ${n==null?void 0:n.background1};
    --gs-theme-cl-prm-bg2: ${n==null?void 0:n.background2};
    --gs-theme-cl-prm-bg3: ${n==null?void 0:n.background3};
    --gs-theme-cl-prm-bgh: ${n==null?void 0:n.backgroundHover};
    --gs-theme-cl-prm-txt: ${n==null?void 0:n.text};
    --gs-theme-cl-cmp-bg1: ${s==null?void 0:s.background1};
    --gs-theme-cl-cmp-bg2: ${s==null?void 0:s.background2};
    --gs-theme-cl-cmp-bg3: ${s==null?void 0:s.background3};
    --gs-theme-cl-cmp-bgh: ${s==null?void 0:s.backgroundHover};
    --gs-theme-cl-cmp-txt: ${s==null?void 0:s.text};
    --gs-theme-cl-symb-bg1: ${r==null?void 0:r.background1};
    --gs-theme-cl-symb-bg2: ${r==null?void 0:r.background2};
    --gs-theme-cl-symb-bg3: ${r==null?void 0:r.background3};
    --gs-theme-cl-symb-bgh: ${r==null?void 0:r.backgroundHover};
    --gs-theme-cl-symb-txt: ${r==null?void 0:r.text};
    --gs-theme-cl-sel-bg1: ${o==null?void 0:o.background1};
    --gs-theme-cl-sel-bg2: ${o==null?void 0:o.background2};
    --gs-theme-cl-sel-bg3: ${o==null?void 0:o.background3};
    --gs-theme-cl-sel-bgh: ${o==null?void 0:o.backgroundHover};
    --gs-theme-cl-sel-txt: ${o==null?void 0:o.text};
  }
`},kR=()=>{const{sdkOptions:e,publicStateTheme:t}=ge(),[n,s]=f.useState(""),{customTheme:r}=e,{resolvedTheme:o}=t,i=e.theme===zn.light,a=r==null?void 0:r.default,c=f.useMemo(()=>{const p=MR[o],g=oa(oa({},p||{}),a||{});return NR(g).trim()},[o]),u=ax`
    ${a?LR(a,i?`:not(.gs-utl-${zn.dark}) `:`.gs-utl-${zn.dark} `):""}
  `.trim(),d=`
    ${c}
    ${u}
  `.trim();return f.useEffect(()=>{s(d)},[d]),l.jsx("style",{"data-gs-editor-theme":!0,children:n})},RR=oe(kR),$R=oe(function(){const t=Wf(),{isOpen:n,items:s,coordinates:r}=t,{x:o,y:i}=r;return f.useEffect(()=>{const a=window.document,c=u=>u.key==="Escape"&&t.hide();return a.addEventListener("keydown",c),()=>{a.removeEventListener("keydown",c)}},[]),l.jsxs(l.Fragment,{children:[l.jsx(y0,{open:n,items:s,x:o,y:i,className:"gs-utl-text-sm"}),n&&l.jsx("div",{onClick:t.hide,className:X("z-10 fixed inset-0")})]})});function Tt({children:e,label:t,s:n="m",pill:s,border:r,nopad:o,className:i,block:a,...c}){return l.jsx("div",{className:L(!a&&"gs-utl-inline-block",i,!o&&Me.xyS2,s?re.pill:re.rnd,r&&`${re.b} ${F.br}`,n==="s"&&"gs-utl-text-sm",n==="xs"&&"gs-utl-p-1"),...c,children:t||e})}const a1=15,IR=oe(function(){const{isActive:t,content:n}=L0(),[s,r]=f.useState({x:0,y:0});f.useEffect(()=>{const i=a=>{r({x:a.clientX,y:Math.max(0,a.clientY)})};return t&&window.addEventListener("pointermove",i),()=>{window.removeEventListener("pointermove",i)}},[t]);const o=f.useMemo(()=>({transform:`translate(${s.x+a1}px, ${s.y+a1}px)`}),[s]);return l.jsx(Ts,{show:t,...Ma,children:l.jsx("div",{className:X("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:o,children:l.jsx(Tt,{className:X("gjs-px-4 gjs-py-2",F.bgBlur,F.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:n})})})}),VR=oe(function(){const t=I0();return l.jsx(a3,{className:W("fixed top-5 right-5 z-20"),toasts:t.toasts,onDismiss:t.remove})}),Td=typeof window<"u"?window.location.hostname:"";Td||Td==="[::1]"||Td.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function DR(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),Xi().setInstallEvent(r)}),window.addEventListener("appinstalled",()=>{Xi().setAppInstalled(!0)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{});const n=r=>{let o="browser";const i=navigator.standalone||document.referrer.startsWith("android-app://");(r||i)&&(o="standalone"),Xi().setDisplayMode(o)},s=window.matchMedia("(display-mode: standalone)");s.addEventListener("change",r=>n(r.matches)),n(s.matches)}}const HR=f.forwardRef(function({children:t},n){const[s,r]=f.useState(""),o=gn(),i=f.useRef(null),a=ge(),{style:c,className:u,options:d=Kp,onUpdate:p,onEditor:g,onReady:h,...m}=a.sdkProps,{autoHeight:b=!0,serviceWorker:v}=d;f.useImperativeHandle(n,()=>i.current,[]);const x=f.useMemo(()=>({...c,height:s||(c==null?void 0:c.height)||""}),[c,s]);return f.useEffect(()=>{const y=i.current,S=()=>{var C;return(C=y==null?void 0:y.parentElement)==null?void 0:C.offsetHeight},w=S(),j=()=>{const C=y.style.position;y.style.position="absolute";const P=S();P&&r(`${P}px`),y.style.position=C};if(w&&b)return r(`${w}px`),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[b,i.current]),f.useEffect(()=>{const y=i.current;if(!y)return;o.rootEl||o.setRootEl(y),o.init();const S=new ResizeObserver(()=>{a.setRootElWidth(y.offsetWidth)});return a.setRootElWidth(y.offsetWidth),S.observe(y),()=>{S.disconnect()}},[i.current]),f.useEffect(()=>{v&&DR()},[]),l.jsxs("div",{ref:i,className:L(X(iv,"gs-studio-editor overflow-hidden h-full w-full text-base"),u),style:x,...m,children:[l.jsx(RR,{}),t,l.jsxs("div",{className:X("gs-studio-els",F.txt),children:[l.jsx(VR,{}),l.jsx(IR,{}),l.jsx($R,{})]})]})});var Ii=(e=>(e.REGULAR="regular",e.SYMBOLS="symbols",e))(Ii||{});const Pl="gs-cmp-tabs";function ir({tabs:e,className:t,classNamePanel:n,classNameTab:s,variant:r,style:o,onChange:i=I2,value:a}){const c=r==="pills",u=c?L("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",F.bgH):"",d=b=>c?L("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",b?F.bg:""):L("gs-utl-border-b-2",Me.xy),p=b=>{b&&(b.tabIndex=-1)},g=b=>{const v=b.currentTarget;setTimeout(()=>v.blur(),10)},h=Lt(a)?e.findIndex(b=>b.id===a):void 0,m=!e.some(b=>!!b.content);return l.jsxs(Ti.Group,{onChange:b=>i(e[b].id),defaultIndex:e.findIndex(b=>b.id===a),selectedIndex:h,children:[l.jsx(Ti.List,{as:R,className:L(Pl,t,u),style:o,full:!0,nowrap:!0,children:e.map(b=>l.jsx(Ti,{disabled:b.disabled,className:({selected:v})=>L(`${Pl}__tab`,"gs-utl-flex-1 focus:gs-utl-outline-none",b.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",ia.focus,d(v),v?`${F.tAo} ${F.bA}`:F.br,s),children:b.label},b.id))}),l.jsx(Ti.Panels,{className:L(`${Pl}__panels`,"gs-utl-overflow-hidden gs-utl-flex-1",m&&"gs-utl-hidden",n),children:e.map(b=>l.jsx(Ti.Panel,{tabIndex:-1,className:L(`${Pl}__panel`,"gs-utl-h-full"),ref:p,onFocus:g,children:b.content},b.id))})]})}var xs=(e=>(e.before="before",e.beforeInside="beforeInside",e.afterInside="afterInside",e.after="after",e))(xs||{});const FR="gs-cmp-button-group-field",BR=f.memo(oe(function({className:t,label:n,name:s,value:r,options:o,size:i,required:a,disabled:c,onChange:u,editorEvents:d}){const{editor:p}=ge(),[g,h]=f.useState(()=>({className:t,label:n,name:s,value:r,options:o,size:i,required:a,disabled:c})),m=b=>{u({value:b,editor:p,state:g,setState:v=>h(x=>({...x,...v}))})};return wi({editor:p,editorEvents:d,localState:g,setLocalState:h}),l.jsx(qt,{className:L(FR,g.className),label:g.label,name:g.name,value:g.value,options:g.options??[],size:g.size,required:g.required,disabled:g.disabled,onChange:m})}));function xu({colors:e,...t}){return e?l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[l.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),l.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{stopColor:"#D7709E"}),l.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const zR=f.memo(oe(function(){const{isStage:e,updateStudio:t}=ge(),{isDarkTheme:n}=gn(),s=f.useRef(null),{bg:r,text:o}=vv(n);return p0({ref:s,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${r};
                  color: ${o};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            `}),l.jsx(fn,{className:"gs-banner",children:l.jsxs(R,{className:"gs-banner-row",children:[l.jsx(xu,{className:"gs-gs-logo",colors:!0}),l.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),l.jsx("div",{ref:s})})),UR=()=>`https://grapesjs.com?ref=${window.location.host}`,WR=f.memo(oe(function(){const{updateStudio:e,showPoweredBy:t}=ge(),{isDarkTheme:n}=gn(),s=f.useRef(null),{bg:r,text:o,link:i}=vv(n);return p0({ref:s,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${r};
                  color: ${o};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${i};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             `}),l.jsx(fn,{className:"gs-banner",children:l.jsxs(R,{className:"gs-banner-row",children:[l.jsx("a",{className:"gs-link",href:UR(),target:"_blank",children:"GrapesJS Studio"}),l.jsx(xu,{className:"gs-logo",colors:!0})]})})]})}),l.jsx("div",{ref:s})})),Za=f.forwardRef(function({full:t,abs:n,small:s,className:r,bg:o,currentColor:i},a){const c=L(t&&"gs-utl-w-full gs-utl-h-full",n?Le.coverAbs:"gs-utl-relative",r),u=L(s?"gs-utl-w-5 gs-utl-h-5":"gs-utl-w-10 gs-utl-h-10","gs-utl-animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",re.pill,re.bS,i?"gs-utl-border-current":re.bA);return l.jsxs(R,{ref:a,className:c,items:"center",justify:"center",children:[!!o&&l.jsx("div",{className:L(Le.coverAbs,F.bg,Le.disabled)}),l.jsx("div",{className:u})]})}),l1="gs-canvas-content",GR=f.memo(oe(function({children:t}){const{isReady:n}=ge(),s=L(`${l1}__overlay gs-utl-pointer-events-none gs-utl-absolute gs-utl-inset-0`,F.bgH2);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:l1,children:[l.jsx("div",{className:s}),!n&&l.jsx(Za,{className:L("gs-utl-z-10"),abs:!0,full:!0}),n&&Ot(t)]}),l.jsx(zR,{}),l.jsx(WR,{})]})})),KR="gs-canvas",lx=f.memo(function({className:t,style:n,grow:s,children:r}){return l.jsx(DM,{style:n,className:L(KR,"gs-utl-relative",s&&"gs-utl-flex-grow",t),children:l.jsx(Co,{children:l.jsx(GR,{children:r})})})}),wu=({className:e,grow:t,alignItems:n,justifyContent:s})=>L(e,F.br,t&&"gs-utl-flex-grow",n==="start"&&"gs-utl-items-start",n==="end"&&"gs-utl-items-end",n==="center"&&"gs-utl-items-center",n==="baseline"&&"gs-utl-items-baseline",n==="stretch"&&"gs-utl-items-stretch",s==="start"&&"gs-utl-justify-start",s==="end"&&"gs-utl-justify-end",s==="center"&&"gs-utl-justify-center",s==="between"&&"gs-utl-justify-between",s==="around"&&"gs-utl-justify-around",s==="evenly"&&"gs-utl-justify-evenly"),Su=({style:e,width:t,height:n,gap:s})=>({height:n,gap:s,width:t,...e}),An=f.memo(oe(function({id:t,children:n,className:s,style:r,width:o,gap:i,height:a,grow:c,alignItems:u,justifyContent:d,htmlAttrs:p,...g}){const{layoutsById:h}=eg(),[m,b]=f.useState({}),{className:v,style:x,...y}=p||{},S=s??v,w=r??x,j=f.useMemo(()=>Su({height:a,gap:i,width:o,style:w}),[w,o,a,i]),C=wu({className:S,grow:c,alignItems:u,justifyContent:d});f.useEffect(()=>{if(t)return h.set(t,{state:m,setState:b}),()=>{h.delete(t)}},[h,m]);const P=g.as??"div";return l.jsx(P,{style:j,className:C,...g,...y,children:m.children??n})})),Pg=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),qR=Pg?Promise.resolve().then(function(){return e$}):Promise.resolve().then(function(){return i$});async function YR(...e){return(await qR).default(...e)}Pg?Promise.resolve().then(function(){return n$}):Promise.resolve().then(function(){return l$});const ZR=Pg?Promise.resolve().then(function(){return r$}):Promise.resolve().then(function(){return u$});async function XR(...e){return(await ZR).default(...e)}const JR=async e=>{const t=await e.getFile();return t.handle=e,t};var QR=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((r,o)=>{t[o]={description:r.description||"Files",accept:{}},r.mimeTypes?r.mimeTypes.map(i=>{t[o].accept[i]=r.extensions||[]}):t[o].accept["*/*"]=r.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),s=await Promise.all(n.map(JR));return e[0].multiple?s:s[0]},e$={__proto__:null,default:QR};function Yl(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var s=n.done;return Promise.resolve(n.value).then(function(r){return{value:r,done:s}})}return Yl=function(n){this.s=n,this.n=n.next},Yl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var s=this.s.return;return s===void 0?Promise.resolve({value:n,done:!0}):t(s.apply(this.s,arguments))},throw:function(n){var s=this.s.return;return s===void 0?Promise.reject(n):t(s.apply(this.s,arguments))}},new Yl(e)}const cx=async(e,t,n=e.name,s)=>{const r=[],o=[];var i,a=!1,c=!1;try{for(var u,d=function(p){var g,h,m,b=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,m=Symbol.iterator);b--;){if(h&&(g=p[h])!=null)return g.call(p);if(m&&(g=p[m])!=null)return new Yl(g.call(p));h="@@asyncIterator",m="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());a=!(u=await d.next()).done;a=!1){const p=u.value,g=`${n}/${p.name}`;p.kind==="file"?o.push(p.getFile().then(h=>(h.directoryHandle=e,h.handle=p,Object.defineProperty(h,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>g})))):p.kind!=="directory"||!t||s&&s(p)||r.push(cx(p,t,g,s))}}catch(p){c=!0,i=p}finally{try{a&&d.return!=null&&await d.return()}finally{if(c)throw i}}return[...(await Promise.all(r)).flat(),...await Promise.all(o)]};var t$=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:cx(t,e.recursive,void 0,e.skipDirectory)},n$={__proto__:null,default:t$},s$=async(e,t=[{}],n=null,s=!1,r=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),t.forEach((u,d)=>{o[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&i&&u.mimeTypes.push(i),u.mimeTypes.map(p=>{o[d].accept[p]=u.extensions||[]})):i?o[d].accept[i]=u.extensions||[]:o[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,s)throw u}const a=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&r&&r(a);const c=await a.createWritable();return"stream"in e?(await e.stream().pipeTo(c),a):"body"in e?(await e.body.pipeTo(c),a):(await c.write(await e),await c.close(),a)},r$={__proto__:null,default:s$},o$=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const s=document.createElement("input");s.type="file";const r=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();s.multiple=e[0].multiple||!1,s.accept=r||"",s.style.display="none",document.body.append(s);const o=c=>{typeof i=="function"&&i(),t(c)},i=e[0].legacySetup&&e[0].legacySetup(o,()=>i(n),s),a=()=>{window.removeEventListener("focus",a),s.remove()};s.addEventListener("click",()=>{window.addEventListener("focus",a)}),s.addEventListener("change",()=>{window.removeEventListener("focus",a),s.remove(),o(s.multiple?Array.from(s.files):s.files[0])}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),i$={__proto__:null,default:o$},a$=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const s=document.createElement("input");s.type="file",s.webkitdirectory=!0;const r=i=>{typeof o=="function"&&o(),t(i)},o=e[0].legacySetup&&e[0].legacySetup(r,()=>o(n),s);s.addEventListener("change",()=>{let i=Array.from(s.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(i=i.filter(a=>a.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):i=i.filter(a=>a.webkitRelativePath.split("/").length===2),r(i)}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})),l$={__proto__:null,default:a$},c$=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let s=e;"body"in e&&(s=await async function(i,a){const c=i.getReader(),u=new ReadableStream({start:g=>async function h(){return c.read().then(({done:m,value:b})=>{if(!m)return g.enqueue(b),h();g.close()})}()}),d=new Response(u),p=await d.blob();return c.releaseLock(),new Blob([p],{type:a})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await s);const r=()=>{typeof o=="function"&&o()},o=t.legacySetup&&t.legacySetup(r,()=>o(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),r()}),n.click(),null},u$={__proto__:null,default:c$};const d$={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.REACT_APP_VERSION??"1.0.0",p$=oe(function(){var n;const t=(n=window.grapesjs)==null?void 0:n.version;return l.jsxs(R,{col:!0,space:"m",children:[l.jsx(R,{justify:"center",children:l.jsxs(I,{className:X("relative"),children:[l.jsx(xu,{className:X("w-24 opacity-50")}),t&&l.jsx(Tt,{className:X(F.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),l.jsxs(I,{children:[l.jsxs("p",{children:[l.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",l.jsx("a",{className:X(Jo.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),l.jsx("br",{}),l.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",l.jsx("a",{className:X(Jo.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),l.jsxs(I,{className:X(F.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",d$]})]})}),f$=oe(function(){return l.jsxs(R,{col:!0,space:"m",children:[l.jsx(R,{justify:"center",children:l.jsx(I,{className:W("relative"),children:l.jsx(xu,{className:W("w-24 opacity-50")})})}),l.jsx(I,{children:l.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",l.jsx("br",{}),l.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",l.jsx("br",{}),l.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",l.jsx("a",{className:W(Jo.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),l.jsx("br",{}),l.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",l.jsx("a",{className:W(Jo.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})}),g$=()=>[{id:Ce.web,label:Ss(Ce.web),content:l.jsxs(R,{gap:"s",items:"center",nowrap:!0,children:[l.jsx(se,{icon:G.web,size:ae.s}),l.jsx("span",{children:Ss(Ce.web)})]})},{id:Ce.email,label:Ss(Ce.email),content:l.jsxs(R,{gap:"s",items:"center",nowrap:!0,children:[l.jsx(se,{icon:G.emailOutline,size:ae.s}),l.jsx("span",{children:Ss(Ce.email)})]})}],ju=0,Hr=1,xi=2,ux=4;function h$(e,t){return n=>e(t(n))}function m$(e,t){return t(e)}function dx(e,t){return n=>e(t,n)}function c1(e,t){return()=>e(t)}function Tg(e,t){return t(e),e}function Po(...e){return e}function b$(e){e()}function u1(e){return()=>e}function v$(...e){return()=>{e.map(b$)}}function Cu(){}function Yt(e,t){return e(Hr,t)}function Rt(e,t){e(ju,t)}function Og(e){e(xi)}function zo(e){return e(ux)}function ct(e,t){return Yt(e,dx(t,ju))}function d1(e,t){const n=e(Hr,s=>{n(),t(s)});return n}function Et(){const e=[];return(t,n)=>{switch(t){case xi:e.splice(0,e.length);return;case Hr:return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)};case ju:e.slice().forEach(s=>{s(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function ye(e){let t=e;const n=Et();return(s,r)=>{switch(s){case Hr:r(t);break;case ju:t=r;break;case ux:return t}return n(s,r)}}function y$(e){let t,n;const s=()=>t&&t();return function(r,o){switch(r){case Hr:return o?n===o?void 0:(s(),n=o,t=Yt(e,o),t):(s(),Cu);case xi:s(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function Ji(e){return Tg(Et(),t=>ct(e,t))}function Uo(e,t){return Tg(ye(t),n=>ct(e,n))}function x$(...e){return t=>e.reduceRight(m$,t)}function we(e,...t){const n=x$(...t);return(s,r)=>{switch(s){case Hr:return Yt(e,n(r));case xi:Og(e);return}}}function px(e,t){return e===t}function an(e=px){let t;return n=>s=>{e(t,s)||(t=s,n(s))}}function Ft(e){return t=>n=>{e(n)&&t(n)}}function bt(e){return t=>h$(t,e)}function mr(e){return t=>()=>t(e)}function Tl(e,t){return n=>s=>n(t=e(t,s))}function Vp(e){return t=>n=>{e>0?e--:t(n)}}function Vi(e){let t=null,n;return s=>r=>{t=r,!n&&(n=setTimeout(()=>{n=void 0,s(t)},e))}}function p1(e){let t,n;return s=>r=>{t=r,n&&clearTimeout(n),n=setTimeout(()=>{s(t)},e)}}function bs(...e){const t=new Array(e.length);let n=0,s=null;const r=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const a=Math.pow(2,i);Yt(o,c=>{const u=n;n=n|a,t[i]=c,u!==r&&n===r&&s&&(s(),s=null)})}),o=>i=>{const a=()=>o([i].concat(t));n===r?a():s=a}}function f1(...e){return function(t,n){switch(t){case Hr:return v$(...e.map(s=>Yt(s,n)));case xi:return;default:throw new Error(`unrecognized action ${t}`)}}}function He(e,t=px){return we(e,an(t))}function Ys(...e){const t=Et(),n=new Array(e.length);let s=0;const r=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const a=Math.pow(2,i);Yt(o,c=>{n[i]=c,s=s|a,s===r&&Rt(t,n)})}),function(o,i){switch(o){case Hr:return s===r&&i(n),Yt(t,i);case xi:return Og(t);default:throw new Error(`unrecognized action ${o}`)}}}function $s(e,t=[],{singleton:n}={singleton:!0}){return{id:w$(),constructor:e,dependencies:t,singleton:n}}const w$=()=>Symbol();function S$(e){const t=new Map,n=({id:s,constructor:r,dependencies:o,singleton:i})=>{if(i&&t.has(s))return t.get(s);const a=r(o.map(c=>n(c)));return i&&t.set(s,a),a};return n(e)}function j$(e,t){const n={},s={};let r=0;const o=e.length;for(;r<o;)s[e[r]]=1,r+=1;for(const i in t)s.hasOwnProperty(i)||(n[i]=t[i]);return n}const Ol=typeof document<"u"?f.useLayoutEffect:f.useEffect;function C$(e,t,n){const s=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),a=f.createContext({});function c(x,y){x.propsReady&&Rt(x.propsReady,!1);for(const S of s){const w=x[t.required[S]];Rt(w,y[S])}for(const S of r)if(S in y){const w=x[t.optional[S]];Rt(w,y[S])}x.propsReady&&Rt(x.propsReady,!0)}function u(x){return o.reduce((y,S)=>(y[S]=w=>{const j=x[t.methods[S]];Rt(j,w)},y),{})}function d(x){return i.reduce((y,S)=>(y[S]=y$(x[t.events[S]]),y),{})}const p=f.forwardRef((x,y)=>{const{children:S,...w}=x,[j]=f.useState(()=>Tg(S$(e),O=>c(O,w))),[C]=f.useState(c1(d,j));Ol(()=>{for(const O of i)O in w&&Yt(C[O],w[O]);return()=>{Object.values(C).map(Og)}},[w,C,j]),Ol(()=>{c(j,w)}),f.useImperativeHandle(y,u1(u(j)));const P=n;return l.jsx(a.Provider,{value:j,children:n?l.jsx(P,{...j$([...s,...r,...i],w),children:S}):S})}),g=x=>f.useCallback(dx(Rt,f.useContext(a)[x]),[x]),h=x=>{const S=f.useContext(a)[x],w=f.useCallback(j=>Yt(S,j),[S]);return f.useSyncExternalStore(w,()=>zo(S),()=>zo(S))},m=x=>{const S=f.useContext(a)[x],[w,j]=f.useState(c1(zo,S));return Ol(()=>Yt(S,C=>{C!==w&&j(u1(C))}),[S,w]),w},b=f.version.startsWith("18")?h:m;return{Component:p,usePublisher:g,useEmitterValue:b,useEmitter:(x,y)=>{const w=f.useContext(a)[x];Ol(()=>Yt(w,y),[y,w])}}}const fx=typeof document<"u"?f.useLayoutEffect:f.useEffect;var _g=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(_g||{});const E$={0:"debug",1:"log",2:"warn",3:"error"},P$=()=>typeof globalThis>"u"?window:globalThis,gx=$s(()=>{const e=ye(3);return{log:ye((n,s,r=1)=>{var o;const i=(o=P$().VIRTUOSO_LOG_LEVEL)!=null?o:zo(e);r>=i&&console[E$[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,s)}),logLevel:e}},[],{singleton:!0});function hx(e,t,n){const s=f.useRef(null);let r=o=>{};if(typeof ResizeObserver<"u"){const o=f.useMemo(()=>new ResizeObserver(i=>{const a=()=>{const c=i[0].target;c.offsetParent!==null&&e(c)};n?a():requestAnimationFrame(a)}),[e]);r=i=>{i&&t?(o.observe(i),s.current=i):(s.current&&o.unobserve(s.current),s.current=null)}}return{ref:s,callbackRef:r}}function Eu(e,t,n){return hx(e,t,n).callbackRef}function wc(e,t){return Math.round(e.getBoundingClientRect()[t])}function mx(e,t){return Math.abs(e-t)<1.01}function bx(e,t,n,s=Cu,r,o){const i=f.useRef(null),a=f.useRef(null),c=f.useRef(null),u=f.useCallback(g=>{const h=g.target,m=h===window||h===document,b=o?m?window.pageXOffset||document.documentElement.scrollLeft:h.scrollLeft:m?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,v=o?m?document.documentElement.scrollWidth:h.scrollWidth:m?document.documentElement.scrollHeight:h.scrollHeight,x=o?m?window.innerWidth:h.offsetWidth:m?window.innerHeight:h.offsetHeight,y=()=>{e({scrollTop:Math.max(b,0),scrollHeight:v,viewportHeight:x})};g.suppressFlushSync?y():wn.flushSync(y),a.current!==null&&(b===a.current||b<=0||b===v-x)&&(a.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);f.useEffect(()=>{const g=r||i.current;return s(r||i.current),u({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",u,{passive:!0}),()=>{s(null),g.removeEventListener("scroll",u)}},[i,u,n,s,r]);function d(g){const h=i.current;if(!h||(o?"offsetWidth"in h&&h.offsetWidth===0:"offsetHeight"in h&&h.offsetHeight===0))return;const m=g.behavior==="smooth";let b,v,x;h===window?(v=Math.max(wc(document.documentElement,o?"width":"height"),o?document.documentElement.scrollWidth:document.documentElement.scrollHeight),b=o?window.innerWidth:window.innerHeight,x=o?document.documentElement.scrollLeft:document.documentElement.scrollTop):(v=h[o?"scrollWidth":"scrollHeight"],b=wc(h,o?"width":"height"),x=h[o?"scrollLeft":"scrollTop"]);const y=v-b;if(g.top=Math.ceil(Math.max(Math.min(y,g.top),0)),mx(b,v)||g.top===x){e({scrollTop:x,scrollHeight:v,viewportHeight:b}),m&&t(!0);return}m?(a.current=g.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,a.current=null,t(!0)},1e3)):a.current=null,o&&(g={left:g.top,behavior:g.behavior}),h.scrollTo(g)}function p(g){o&&(g={left:g.top,behavior:g.behavior}),i.current.scrollBy(g)}return{scrollerRef:i,scrollByCallback:p,scrollToCallback:d}}const Pu=$s(()=>{const e=Et(),t=Et(),n=ye(0),s=Et(),r=ye(0),o=Et(),i=Et(),a=ye(0),c=ye(0),u=ye(0),d=ye(0),p=Et(),g=Et(),h=ye(!1),m=ye(!1),b=ye(!1);return ct(we(e,bt(({scrollTop:v})=>v)),t),ct(we(e,bt(({scrollHeight:v})=>v)),i),ct(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:a,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:d,scrollHeight:i,smoothScrollTargetReached:s,horizontalDirection:m,skipAnimationFrameInResizeObserver:b,scrollTo:p,scrollBy:g,statefulScrollTop:r,deviation:n,scrollingInProgress:h}},[],{singleton:!0}),T$=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function O$(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!T$)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Sc="up",Qi="down",_$="none",A$={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},M$=0,vx=$s(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:s,footerHeight:r,scrollBy:o}])=>{const i=ye(!1),a=ye(!0),c=Et(),u=Et(),d=ye(4),p=ye(M$),g=Uo(we(f1(we(He(t),Vp(1),mr(!0)),we(He(t),Vp(1),mr(!1),p1(100))),an()),!1),h=Uo(we(f1(we(o,mr(!0)),we(o,mr(!1),p1(200))),an()),!1);ct(we(Ys(He(t),He(p)),bt(([y,S])=>y<=S),an()),a),ct(we(a,Vi(50)),u);const m=Ji(we(Ys(e,He(n),He(s),He(r),He(d)),Tl((y,[{scrollTop:S,scrollHeight:w},j,C,P,O])=>{const T=S+j-w>-O,E={viewportHeight:j,scrollTop:S,scrollHeight:w};if(T){let _,N;return S>y.state.scrollTop?(_="SCROLLED_DOWN",N=y.state.scrollTop-S):(_="SIZE_DECREASED",N=y.state.scrollTop-S||y.scrollTopDelta),{atBottom:!0,state:E,atBottomBecause:_,scrollTopDelta:N}}let A;return E.scrollHeight>y.state.scrollHeight?A="SIZE_INCREASED":j<y.state.viewportHeight?A="VIEWPORT_HEIGHT_DECREASING":S<y.state.scrollTop?A="SCROLLING_UPWARDS":A="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:A,state:E}},A$),an((y,S)=>y&&y.atBottom===S.atBottom))),b=Uo(we(e,Tl((y,{scrollTop:S,scrollHeight:w,viewportHeight:j})=>{if(mx(y.scrollHeight,w))return{scrollTop:S,scrollHeight:w,jump:0,changed:!1};{const C=w-(S+j)<1;return y.scrollTop!==S&&C?{scrollHeight:w,scrollTop:S,jump:y.scrollTop-S,changed:!0}:{scrollHeight:w,scrollTop:S,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Ft(y=>y.changed),bt(y=>y.jump)),0);ct(we(m,bt(y=>y.atBottom)),i),ct(we(i,Vi(50)),c);const v=ye(Qi);ct(we(e,bt(({scrollTop:y})=>y),an(),Tl((y,S)=>zo(h)?{direction:y.direction,prevScrollTop:S}:{direction:S<y.prevScrollTop?Sc:Qi,prevScrollTop:S},{direction:Qi,prevScrollTop:0}),bt(y=>y.direction)),v),ct(we(e,Vi(50),mr(_$)),v);const x=ye(0);return ct(we(g,Ft(y=>!y),mr(0)),x),ct(we(t,Vi(100),bs(g),Ft(([y,S])=>!!S),Tl(([y,S],[w])=>[S,w],[0,0]),bt(([y,S])=>S-y)),x),{isScrolling:g,isAtTop:a,isAtBottom:i,atBottomState:m,atTopStateChange:u,atBottomStateChange:c,scrollDirection:v,atBottomThreshold:d,atTopThreshold:p,scrollVelocity:x,lastJumpDueToItemResize:b}},Po(Pu)),L$=$s(([{log:e}])=>{const t=ye(!1),n=Ji(we(t,Ft(s=>s),an()));return Yt(t,s=>{s&&zo(e)("props updated",{},_g.DEBUG)}),{propsReady:t,didMount:n}},Po(gx),{singleton:!0});function yx(e,t){e==0?t():requestAnimationFrame(()=>yx(e-1,t))}function N$(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}function Dp(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function k$(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const jc="top",Cc="bottom",g1="none";function h1(e,t,n){return typeof e=="number"?n===Sc&&t===jc||n===Qi&&t===Cc?e:0:n===Sc?t===jc?e.main:e.reverse:t===Cc?e.main:e.reverse}function m1(e,t){return typeof e=="number"?e:e[t]||0}const R$=$s(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:s,fixedHeaderHeight:r}])=>{const o=Et(),i=ye(0),a=ye(0),c=ye(0),u=Uo(we(Ys(He(e),He(t),He(s),He(o,Dp),He(c),He(i),He(r),He(n),He(a)),bt(([d,p,g,[h,m],b,v,x,y,S])=>{const w=d-y,j=v+x,C=Math.max(g-w,0);let P=g1;const O=m1(S,jc),T=m1(S,Cc);return h-=y,h+=g+x,m+=g+x,m-=y,h>d+j-O&&(P=Sc),m<d-C+p+T&&(P=Qi),P!==g1?[Math.max(w-g-h1(b,jc,P)-O,0),w-C-x+p+h1(b,Cc,P)+T]:null}),Ft(d=>d!=null),an(Dp)),[0,0]);return{listBoundary:o,overscan:c,topListHeight:i,increaseViewportBy:a,visibleRange:u}},Po(Pu),{singleton:!0}),$$=$s(([{scrollVelocity:e}])=>{const t=ye(!1),n=Et(),s=ye(!1);return ct(we(e,bs(s,t,n),Ft(([r,o])=>!!o),bt(([r,o,i,a])=>{const{exit:c,enter:u}=o;if(i){if(c(r,a))return!1}else if(u(r,a))return!0;return i}),an()),t),Yt(we(Ys(t,e,n),bs(s)),([[r,o,i],a])=>r&&a&&a.change&&a.change(o,i)),{isSeeking:t,scrollSeekConfiguration:s,scrollVelocity:e,scrollSeekRangeChanged:n}},Po(vx),{singleton:!0});function I$(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const V$=$s(([{scrollTo:e,scrollContainerState:t}])=>{const n=Et(),s=Et(),r=Et(),o=ye(!1),i=ye(void 0);return ct(we(Ys(n,s),bt(([{viewportHeight:a,scrollTop:c,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:u,viewportHeight:a}))),t),ct(we(e,bs(s),bt(([a,{offsetTop:c}])=>({...a,top:a.top+c}))),r),{useWindowScroll:o,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:s,windowScrollTo:r}},Po(Pu)),Od="-webkit-sticky",b1="sticky",xx=I$(()=>{if(typeof document>"u")return b1;const e=document.createElement("div");return e.style.position=Od,e.style.position===Od?Od:b1});function D$(e,t,n){const s=f.useRef(null),r=f.useCallback(c=>{if(c===null||!c.offsetParent)return;const u=c.getBoundingClientRect(),d=u.width;let p,g;if(t){const h=t.getBoundingClientRect(),m=u.top-h.top;p=h.height-Math.max(0,m),g=m+t.scrollTop}else p=window.innerHeight-Math.max(0,u.top),g=u.top+window.pageYOffset;s.current={offsetTop:g,visibleHeight:p,visibleWidth:d},e(s.current)},[e,t]),{callbackRef:o,ref:i}=hx(r,!0,n),a=f.useCallback(()=>{r(i.current)},[r,i]);return f.useEffect(()=>{if(t){t.addEventListener("scroll",a);const c=new ResizeObserver(()=>{requestAnimationFrame(a)});return c.observe(t),()=>{t.removeEventListener("scroll",a),c.unobserve(t)}}else return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[a,t]),o}f.createContext(void 0);const wx=f.createContext(void 0);function H$(e){return e}xx();const F$={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},B$={outline:"none",overflowX:"auto",position:"relative"},Sx=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});xx();function oo(e,t){if(typeof e!="string")return{context:t}}function z$({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:o,children:i,...a}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("scrollerRef"),g=n("context"),h=n("horizontalDirection")||!1,{scrollerRef:m,scrollByCallback:b,scrollToCallback:v}=bx(c,d,u,p,void 0,h);t("scrollTo",v),t("scrollBy",b);const x=h?B$:F$;return l.jsx(u,{ref:m,style:{...x,...o},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...a,...oo(u,g),children:i})})}function U$({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:o,children:i,...a}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("totalListHeight"),g=n("deviation"),h=n("customScrollParent"),m=n("context"),{scrollerRef:b,scrollByCallback:v,scrollToCallback:x}=bx(c,d,u,Cu,h);return fx(()=>(b.current=h||window,()=>{b.current=null}),[b,h]),t("windowScrollTo",x),t("scrollBy",v),l.jsx(u,{style:{position:"relative",...o,...p!==0?{height:p+g}:{}},"data-virtuoso-scroller":!0,...a,...oo(u,m),children:i})})}const v1={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},W$={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:y1,ceil:x1,floor:Ec,min:_d,max:ea}=Math;function G$(e){return{...W$,items:e}}function w1(e,t,n){return Array.from({length:t-e+1}).map((s,r)=>{const o=n===null?null:n[r+e];return{index:r+e,data:o}})}function K$(e,t){return e&&e.column===t.column&&e.row===t.row}function _l(e,t){return e&&e.width===t.width&&e.height===t.height}const q$=$s(([{overscan:e,visibleRange:t,listBoundary:n,increaseViewportBy:s},{scrollTop:r,viewportHeight:o,scrollBy:i,scrollTo:a,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:d,headerHeight:p},g,h,{propsReady:m,didMount:b},{windowViewportRect:v,useWindowScroll:x,customScrollParent:y,windowScrollContainerState:S,windowScrollTo:w},j])=>{const C=ye(0),P=ye(0),O=ye(v1),T=ye({height:0,width:0}),E=ye({height:0,width:0}),A=Et(),_=Et(),N=ye(0),V=ye(null),M=ye({row:0,column:0}),H=Et(),U=Et(),B=ye(!1),k=ye(0),D=ye(!0),$=ye(!1),z=ye(!1);Yt(we(b,bs(k),Ft(([K,Z])=>!!Z)),()=>{Rt(D,!1)}),Yt(we(Ys(b,D,E,T,k,$),Ft(([K,Z,ie,ue,,ve])=>K&&!Z&&ie.height!==0&&ue.height!==0&&!ve)),([,,,,K])=>{Rt($,!0),yx(1,()=>{Rt(A,K)}),d1(we(r),()=>{Rt(n,[0,0]),Rt(D,!0)})}),ct(we(U,Ft(K=>K!=null&&K.scrollTop>0),mr(0)),P),Yt(we(b,bs(U),Ft(([,K])=>K!=null)),([,K])=>{K&&(Rt(T,K.viewport),Rt(E,K==null?void 0:K.item),Rt(M,K.gap),K.scrollTop>0&&(Rt(B,!0),d1(we(r,Vp(1)),Z=>{Rt(B,!1)}),Rt(a,{top:K.scrollTop})))}),ct(we(T,bt(({height:K})=>K)),o),ct(we(Ys(He(T,_l),He(E,_l),He(M,(K,Z)=>K&&K.column===Z.column&&K.row===Z.row),He(r)),bt(([K,Z,ie,ue])=>({viewport:K,item:Z,gap:ie,scrollTop:ue}))),H),ct(we(Ys(He(C),t,He(M,K$),He(E,_l),He(T,_l),He(V),He(P),He(B),He(D),He(k)),Ft(([,,,,,,,K])=>!K),bt(([K,[Z,ie],ue,ve,he,ke,Ge,,ht,rt])=>{const{row:Ve,column:Nt}=ue,{height:ot,width:St}=ve,{width:mt}=he;if(Ge===0&&(K===0||mt===0))return v1;if(St===0){const kt=N$(rt,K),Is=Math.max(kt+Ge-1,0);return G$(w1(kt,Is,ke))}const ut=jx(mt,St,Nt);let Qe,it;ht?Z===0&&ie===0&&Ge>0?(Qe=0,it=Ge-1):(Qe=ut*Ec((Z+Ve)/(ot+Ve)),it=ut*x1((ie+Ve)/(ot+Ve))-1,it=_d(K-1,ea(it,ut-1)),Qe=_d(it,ea(0,Qe))):(Qe=0,it=-1);const Vt=w1(Qe,it,ke),{top:pe,bottom:Re}=S1(he,ue,ve,Vt),Ie=x1(K/ut),dt=Ie*ot+(Ie-1)*Ve-Re;return{items:Vt,offsetTop:pe,offsetBottom:dt,top:pe,bottom:Re,itemHeight:ot,itemWidth:St}})),O),ct(we(V,Ft(K=>K!==null),bt(K=>K.length)),C),ct(we(Ys(T,E,O,M),Ft(([K,Z,{items:ie}])=>ie.length>0&&Z.height!==0&&K.height!==0),bt(([K,Z,{items:ie},ue])=>{const{top:ve,bottom:he}=S1(K,ue,Z,ie);return[ve,he]}),an(Dp)),n);const J=ye(!1);ct(we(r,bs(J),bt(([K,Z])=>Z||K!==0)),J);const Y=Ji(we(He(O),Ft(({items:K})=>K.length>0),bs(C,J),Ft(([{items:K},Z,ie])=>ie&&K[K.length-1].index===Z-1),bt(([,K])=>K-1),an())),Q=Ji(we(He(O),Ft(({items:K})=>K.length>0&&K[0].index===0),mr(0),an())),ne=Ji(we(He(O),bs(B),Ft(([{items:K},Z])=>K.length>0&&!Z),bt(([{items:K}])=>({startIndex:K[0].index,endIndex:K[K.length-1].index})),an(k$),Vi(0)));ct(ne,h.scrollSeekRangeChanged),ct(we(A,bs(T,E,C,M),bt(([K,Z,ie,ue,ve])=>{const he=O$(K),{align:ke,behavior:Ge,offset:ht}=he;let rt=he.index;rt==="LAST"&&(rt=ue-1),rt=ea(0,rt,_d(ue-1,rt));let Ve=Hp(Z,ve,ie,rt);return ke==="end"?Ve=y1(Ve-Z.height+ie.height):ke==="center"&&(Ve=y1(Ve-Z.height/2+ie.height/2)),ht&&(Ve+=ht),{top:Ve,behavior:Ge}})),a);const ee=Uo(we(O,bt(K=>K.offsetBottom+K.bottom)),0);return ct(we(v,bt(K=>({width:K.visibleWidth,height:K.visibleHeight}))),T),{data:V,totalCount:C,viewportDimensions:T,itemDimensions:E,scrollTop:r,scrollHeight:_,overscan:e,increaseViewportBy:s,scrollBy:i,scrollTo:a,scrollToIndex:A,smoothScrollTargetReached:c,windowViewportRect:v,windowScrollTo:w,useWindowScroll:x,customScrollParent:y,windowScrollContainerState:S,deviation:N,scrollContainerState:u,footerHeight:d,headerHeight:p,initialItemCount:P,gap:M,restoreStateFrom:U,...h,initialTopMostItemIndex:k,horizontalDirection:z,gridState:O,totalListHeight:ee,...g,startReached:Q,endReached:Y,rangeChanged:ne,stateChanged:H,propsReady:m,stateRestoreInProgress:B,...j}},Po(R$,Pu,vx,$$,L$,V$,gx));function S1(e,t,n,s){const{height:r}=n;if(r===void 0||s.length===0)return{top:0,bottom:0};const o=Hp(e,t,n,s[0].index),i=Hp(e,t,n,s[s.length-1].index)+r;return{top:o,bottom:i}}function Hp(e,t,n,s){const r=jx(e.width,n.width,t.column),o=Ec(s/r),i=o*n.height+ea(0,o-1)*t.row;return i>0?i+t.row:i}function jx(e,t,n){return ea(1,Ec((e+n)/(Ec(t)+n)))}const Y$=$s(()=>{const e=ye(p=>`Item ${p}`),t=ye({}),n=ye(null),s=ye("virtuoso-grid-item"),r=ye("virtuoso-grid-list"),o=ye(H$),i=ye("div"),a=ye(Cu),c=(p,g=null)=>Uo(we(t,bt(h=>h[p]),an()),g),u=ye(!1),d=ye(!1);return ct(He(d),u),{readyStateChanged:u,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:o,itemClassName:s,listClassName:r,headerFooterTag:i,scrollerRef:a,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),Z$=$s(([e,t])=>({...e,...t}),Po(q$,Y$)),X$=f.memo(function(){const t=yt("gridState"),n=yt("listClassName"),s=yt("itemClassName"),r=yt("itemContent"),o=yt("computeItemKey"),i=yt("isSeeking"),a=Fn("scrollHeight"),c=yt("ItemComponent"),u=yt("ListComponent"),d=yt("ScrollSeekPlaceholder"),p=yt("context"),g=Fn("itemDimensions"),h=Fn("gap"),m=yt("log"),b=yt("stateRestoreInProgress"),v=Fn("reportReadyState"),x=Eu(f.useMemo(()=>y=>{const S=y.parentElement.parentElement.scrollHeight;a(S);const w=y.firstChild;if(w){const{width:j,height:C}=w.getBoundingClientRect();g({width:j,height:C})}h({row:j1("row-gap",getComputedStyle(y).rowGap,m),column:j1("column-gap",getComputedStyle(y).columnGap,m)})},[a,g,h,m]),!0,!1);return fx(()=>{t.itemHeight>0&&t.itemWidth>0&&v(!0)},[t]),b?null:l.jsx(u,{ref:x,className:n,...oo(u,p),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(y=>{const S=o(y.index,y.data,p);return i?l.jsx(d,{...oo(d,p),index:y.index,height:t.itemHeight,width:t.itemWidth},S):f.createElement(c,{...oo(c,p),className:s,"data-index":y.index,key:S},r(y.index,y.data,p))})})}),J$=f.memo(function(){const t=yt("HeaderComponent"),n=Fn("headerHeight"),s=yt("headerFooterTag"),r=Eu(f.useMemo(()=>i=>n(wc(i,"height")),[n]),!0,!1),o=yt("context");return t?l.jsx(s,{ref:r,children:l.jsx(t,{...oo(t,o)})}):null}),Q$=f.memo(function(){const t=yt("FooterComponent"),n=Fn("footerHeight"),s=yt("headerFooterTag"),r=Eu(f.useMemo(()=>i=>n(wc(i,"height")),[n]),!0,!1),o=yt("context");return t?l.jsx(s,{ref:r,children:l.jsx(t,{...oo(t,o)})}):null}),e8=({children:e})=>{const t=f.useContext(wx),n=Fn("itemDimensions"),s=Fn("viewportDimensions"),r=Eu(f.useMemo(()=>o=>{s(o.getBoundingClientRect())},[s]),!0,!1);return f.useEffect(()=>{t&&(s({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,s,n]),l.jsx("div",{style:Sx(!1),ref:r,children:e})},t8=({children:e})=>{const t=f.useContext(wx),n=Fn("windowViewportRect"),s=Fn("itemDimensions"),r=yt("customScrollParent"),o=D$(n,r,!1);return f.useEffect(()=>{t&&(s({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,s]),l.jsx("div",{ref:o,style:Sx(!1),children:e})},n8=f.memo(function({...t}){const n=yt("useWindowScroll"),s=yt("customScrollParent"),r=s||n?o8:r8,o=s||n?t8:e8;return l.jsx(r,{...t,children:l.jsxs(o,{children:[l.jsx(J$,{}),l.jsx(X$,{}),l.jsx(Q$,{})]})})}),{Component:s8,usePublisher:Fn,useEmitterValue:yt,useEmitter:Cx}=C$(Z$,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},n8),r8=z$({usePublisher:Fn,useEmitterValue:yt,useEmitter:Cx}),o8=U$({usePublisher:Fn,useEmitterValue:yt,useEmitter:Cx});function j1(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,_g.WARN),t==="normal"?0:parseInt(t??"0",10)}const Xa=s8,Ag=e=>{const t="gs-utl-grid-cols-4",n=parseInt(`${e||4}`,10);return n===1?"gs-utl-grid-cols-1":n===2?"gs-utl-grid-cols-2":n===3?"gs-utl-grid-cols-3":n===4?t:n===5?"gs-utl-grid-cols-5":n===6?"gs-utl-grid-cols-6":n===7?"gs-utl-grid-cols-7":n===8?"gs-utl-grid-cols-8":n===9?"gs-utl-grid-cols-9":n===10?"gs-utl-grid-cols-10":n===11?"gs-utl-grid-cols-11":n===12?"gs-utl-grid-cols-12":t},i8=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function a8(e){const t=e.map(({id:i,src:a})=>({id:i,src:a})),n=e.reduce((i,a)=>(i[a.id]=a,i),{}),s=[],r=[];return(await O2(t)).forEach(i=>{i.status==="fulfilled"?s.push(n[i.value]):r.push(n[i.reason])}),{loaded:s,failed:r}}const l8=async e=>{const t=[...e],n={};if(t.length){const s={},r=[];if(t.forEach((o,i)=>{i8(o)&&(s[o.id]={index:i},r.push(o))}),r.length){const{loaded:o}=await a8(r);o.forEach(({id:i,options:a})=>{s[i].loaded=!0,n[i]=a||{}})}Object.keys(s).forEach(o=>{const i=s[o];i.loaded?t[i.index]=o:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},c8=(e,t,n,s={})=>{const{skipReplace:r}=s;e.loadData(t);const o=e.getCss()||"",i=r?o:o.replace(/:root\s*{/gi,"[data-body]{");let a=`${e.getHtml()}<style>${i}</style>`;if(n===Ce.email)try{a=e.runCommand(ou).html}catch(c){console.error(c)}return s.removeScripts&&(a=a.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<script[^>]*src=["'][^"']*["'][^>]*><\/script>/gi,"").replace(/<script[^>]*src=["'][^"']*["'][^>]*\/?>/gi,"")),r?a:a.replace("<body","<div data-body").replace("</body>","</div>")},u8=async(e,t,n)=>{const s=sx(t,{appStore:n}),r=await l8(s);return e==null?void 0:e.init({headless:!0,projectData:{},log:!1,undoManager:!1,noticeOnUnload:!1,storageManager:!1,plugins:[...r.plugins,o=>{o.Storage.setCurrent("")}],pluginsOpts:r.pluginOptions,protectedCss:`
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `})},C1=new Map,E1=new Map,d8=async({html:e="",el:t})=>{const n=e,s={};if(document.body.attachShadow){const r=t.shadowRoot||t.attachShadow({mode:"open"});r.innerHTML=n}return s},p8=oe(function({template:t,projectType:n,skipProjectNamePopover:s,className:r,onSelect:o,onRemove:i}){var P;const a=je(),c=ge(),u=c.editor,[d,p]=f.useState(""),g=f.useRef(null),h=a.t("projectManager.projectName"),m=!t.isTemplate&&c.currentProjectId===((P=t.data.custom)==null?void 0:P.id),b=n===Ce.web,v=!t.isTemplate||s,x=()=>{v&&(o==null||o({editor:u,template:t,loadTemplate:y}))},y=c.setProject,S=O=>{O.preventDefault(),o({editor:u,template:t,loadTemplate:y})};f.useEffect(()=>{const T=setTimeout(async()=>{if(!g.current||!u)return;const E=`${t.isTemplate?"t-":""}${t.id}`;let A=C1.get(E);if(!A){let N=E1.get(n);if(!N){const V=new ix({appEditorStore:{sdkProps:{options:{licenseKey:""}}}});N=await u8(u.config.grapesjs,n,V.appEditorStore),E1.set(n,N)}A=N?c8(N,t.data,n):"",C1.set(E,A)}const _=g.current;d8({el:_,html:A})});return()=>clearTimeout(T)},[g,u,n,t.data]);const{media:w,author:j}=t,C=l.jsx(ze,{className:X("text-sm"),size:"m2",variant:"pr",onClick:x,disabled:m,children:a.t("select")});return l.jsx(fn,{padding:!1,className:X("overflow-hidden max-w-full group",r),children:l.jsxs(R,{col:!0,children:[l.jsxs(I,{className:X("relative group h-36 bg-checker max-w-full"),children:[l.jsx("div",{className:X("gs-utl-relative","gs-utl-h-full","gs-utl-overflow-hidden","gs-utl-flex","gs-utl-justify-center"),children:w?l.jsx("img",{src:w,alt:t.name,className:X("max-w-full")}):l.jsx("div",{className:X("gs-utl-w-[1200px]","gs-utl-flex-shrink-0","gs-utl-flex-grow-0","gs-utl-origin-top","gs-utl-bg-white","gs-utl-scale-[0.232]","gs-utl-h-[431.034%]"),ref:g})}),m&&l.jsx(Tt,{className:X("absolute top-2 right-2",F.bgA2),label:a.t("current"),s:"s",pill:!0}),l.jsx(R,{justify:"center",items:"center",className:X(Le.coverAbs,F.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:v?C:l.jsx(Ns,{overlay:!0,title:!1,buttonAs:"span",handler:C,children:()=>l.jsx("form",{onSubmit:S,children:l.jsxs(R,{space:"m",col:!0,children:[l.jsx(I,{children:l.jsx(Je,{size:"s",value:d,onChange:p,placeholder:h,required:!0})}),l.jsx(I,{children:l.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:a.t("load")})})]})})})})]}),l.jsxs(R,{className:X("gjs-p-2 max-w-full",re.bt,F.br),col:!0,space:"s",children:[l.jsxs(R,{className:X("text-sm w-full"),space:"s",nowrap:!0,children:[l.jsx(I,{className:X(Le.txtEllips,"max-w-full"),grow:!0,children:t.name}),!!j&&l.jsxs(I,{children:["by"," ",l.jsx("a",{className:X(Jo.link),href:j.link,rel:"noreferrer",target:"_blank",children:j.name})]})]}),l.jsxs(R,{items:"center",children:[b&&l.jsxs(I,{className:X("gjs-mr-auto"),children:[a.t("projectManager.pages"),": ",t.data.pages.length]}),!t.isTemplate&&i&&l.jsx(I,{className:X("gjs-ml-auto"),children:l.jsx(mu,{onConfirm:()=>i(t),className:"",children:l.jsx(vt,{title:a.t("delete"),children:l.jsx(se,{icon:G.delete,size:ae.sx})})})})]})]})]})})}),Ex=oe(function({templates:e,projectType:t,content:n,skipProjectNamePopover:s,onSelect:r,onRemove:o}){const[i]=yu(),c=je().tScoped("templates"),d=ge().editor,p=Ag(n==null?void 0:n.itemsPerRow),g=r??(({template:h,loadTemplate:m})=>m(h));return l.jsx(l.Fragment,{children:d&&e?e.length===0?l.jsx(R,{justify:"center",children:c("notFound")}):l.jsx(Xa,{data:e,listClassName:X("grid gap-2 gjs-pr-2",p),itemContent:(h,m)=>l.jsx(p8,{template:m,projectType:t,onSelect:g,onRemove:o,skipProjectNamePopover:s},m.id)},i):l.jsx(Za,{})})}),f8=oe(function(){var b;const t=ge(),n=$0(),{filteredTemplates:s,projectSourceFilter:r,projectTypeFilter:o}=n,i=je(),a=ks(),{sdkOptions:c}=t,u=i.tScoped("projectManager"),d=async({loadTemplate:v,template:x})=>{v(x),a.close()},p=async v=>{n.setProjectTypeFilter(v),await n.loadAllTemplates()},g=v=>{n.removeProject(v.id),n.loadProjects()},h=f.useMemo(()=>[{id:pa.Existing,label:u("existentProjects")},{id:pa.Templates,label:u("templates")}],[i]),m=((b=c.project)==null?void 0:b.types)&&sf();return f.useEffect(()=>{n.loadAllTemplates()},[]),l.jsxs(R,{col:!0,full:!0,space:"m",children:[m&&l.jsx(R,{items:"center",space:"m",children:l.jsx(I,{className:X("gjs-ml-auto"),children:l.jsx(Ee,{value:o,onChange:p,options:g$(),handlerSelected:v=>l.jsxs(l.Fragment,{children:[l.jsx("b",{children:u("projectType")}),": ",v.label]})})})}),l.jsx(I,{children:l.jsx(ir,{tabs:h,value:r,onChange:n.setProjectSourceFilter})}),l.jsx(I,{grow:!0,children:l.jsx(Ex,{templates:s,projectType:Ce[o],onSelect:d,onRemove:g,content:{itemsPerRow:3}})})]})}),g8=({items:e,editor:t,customItems:n})=>n===!1?[]:Xe(n)?n({items:e,editor:t}):n||e,P1=e=>({icon:G.plus,size:ae.s,className:W("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),Px=e=>!e.type||e.type==="button",h8="gs-cmp-topbar-left",m8=oe(function({buttons:t,className:n,style:s}){const r=ge(),o=je(),{isOpen:i,toggleOpen:a}=V0(),c=r.editor,d=o.tScoped("blockManager")("blocks"),p=g8({items:[{id:`blocks-${d}`,tooltip:d,size:g0.s,icon:P1(i),variant:f0.primary,editorEvents:{[pn.toggleBlocksPanel]:({fromEvent:g,setState:h})=>{h({icon:P1(g.isOpen)})}},onClick:()=>a()}],customItems:t,editor:c});return l.jsx(R,{gap:"s",items:"center",justify:"start",className:W(h8,Me.xS,n),style:s,nowrap:!0,children:p.map(({id:g,...h})=>Px(h)?l.jsx(Jc,{...h},g):Ot({id:g,...h}))})}),b8=[{id:zn.auto,label:"Auto"},{id:zn.dark,label:"Dark"},{id:zn.light,label:"Light"}],v8={size:"s"},Ad=".grapesjs",y8=(e,t)=>{const n=e==null?void 0:e.settingsMenu;return n!==!1&&(n==null?void 0:n[t])!==!1},x8=({actions:e,editor:t,buttons:n,sdkOptions:s})=>{const r=s.actions;return r===!1?[]:Xe(r)?r({actions:e,editor:t}):r||(n?Xe(n)?n({items:e,editor:t}):n:e)},w8="gs-cmp-topbar-right",S8=oe(function({editor:t,className:n,buttons:s,...r}){const o=ge(),{theme:i,setTheme:a}=gn(),{Commands:c,UndoManager:u}=t,{installEvent:d,appInstalled:p,isBrowserMode:g,setInstallEvent:h,sdkOptions:m,isProjectTypeEmail:b}=o,v=ks(),x=je(),y=_=>x.t(`actions.${_}`),S=t.Storage.events,w=c.events,j="change:changesCount",C=(_,N)=>()=>{Xe(_)?_({editor:t}):c.isActive(_)?c.stop(_):c.run(_,N)},P=_=>({[`${w.runCommand}${_}`]:({setState:N})=>N({active:!0}),[`${w.stopCommand}${_}`]:({setState:N})=>N({active:!1})}),O=[{id:Nn.componentOutline,icon:G.borderRadius,tooltip:y("componentOutline.title"),onClick:C("core:component-outline"),editorEvents:P("core:component-outline")},{id:Nn.preview,icon:G.eye,tooltip:y("preview.title"),onClick:C("core:preview"),editorEvents:P("core:preview")},{id:Nn.fullscreen,icon:G.arrowExpandAll,tooltip:y("fullscreen.title"),onClick:C("core:fullscreen",{target:"body"}),editorEvents:P("core:fullscreen")},{id:Nn.showCode,icon:G.xml,tooltip:y("showCode.title"),onClick:()=>t.runCommand(ce.dialogExportCode)},{id:Nn.showImportCode,icon:G.trayArrowDown,tooltip:y("importCode.title"),onClick:()=>v.open({title:y("importCode.title"),content:()=>l.jsx(ly,{})})},{id:Nn.clearCanvas,icon:G.delete,tooltip:y("clearCanvas.title"),onClick:()=>v.confirm({title:y("clearCanvas.title"),content:y("clearCanvas.content"),confirmButton:{variant:"danger",children:y("clearCanvas.title")},onConfirm:()=>{b?t.loadProjectData({pages:[{component:"<mjml><mj-body></mj-body></mjml>"}]}):t.Components.clear()}})},{id:Nn.store,tooltip:y("store.title"),onClick:async()=>!o.isSaving&&t.store(),editorEvents:{"change:changesCount":({setState:_})=>_({}),[S.startStore]:({setState:_})=>_({disabled:!0}),[S.endStore]:({setState:_})=>_({disabled:!1})},label:()=>l.jsxs("div",{className:W("relative"),children:[l.jsx(se,{icon:G.floppy,size:ae.s}),!!t.getDirtyCount()&&!o.isSaving&&l.jsx("div",{className:W("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",F.bg),children:l.jsx("div",{className:W(Le.dot,F.bgW)})}),o.isSaving&&l.jsx("div",{className:W("absolute right-0 bottom-0 gjs-rounded-full",F.bg),children:l.jsx(se,{icon:G.refresh,size:"11px",className:W(Le.spin)})})]})},{id:Nn.undo,icon:G.arrowULeftTop,disabled:!0,onClick:C("core:undo"),editorEvents:{[j]:({setState:_})=>_({disabled:!u.hasUndo()})}},{id:Nn.redo,icon:G.arrowURightTop,disabled:!0,onClick:C("core:redo"),editorEvents:{[j]:({setState:_})=>_({disabled:!u.hasRedo()})}}],T=x8({actions:O,sdkOptions:m,editor:t,buttons:s}),E=[{id:"about",label:y("about.title"),icon:G.helpCircle,action:()=>v.open({size:"m",title:y("about.title"),content:()=>l.jsx(p$,{})})},{id:"embed",label:y("embed.title"),icon:G.powerPlug,action:()=>v.open({size:"m",title:y("embed.title"),content:()=>l.jsx(f$,{})})},{id:"openProject",label:y("open.title"),icon:G.folder,action:async()=>{let _="";try{_=await(await YR({extensions:[Ad]})).text()}catch(N){return console.error(N)}o.loadProjectData(JSON.parse(_))}},{id:"saveProject",label:y("save.title"),icon:G.contentSave,action:async()=>{const _=t.getProjectData(),N=new Blob([JSON.stringify(_)]),V=`Untitled-${new Date().toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;try{await XR(N,{fileName:`${V}${Ad}`,extensions:[Ad]})}catch(M){return console.error(M)}}},{id:"loadProject",label:y("newProject.title"),icon:G.newspaperVariantOutline,action:()=>v.open({fullH:!0,title:y("newProject.title"),content:()=>l.jsx(f8,{})})},{id:"installApp",label:y(p?"installApp.installed":"installApp.title"),icon:G.applicationBracketsOutline,action:async()=>{if(p)return;d==null||d.prompt();const _=await(d==null?void 0:d.userChoice);(_==null?void 0:_.outcome)==="accepted"&&h()}},...m.customTheme?[]:[{id:"theme",label:l.jsxs(R,{items:"center",space:"m",children:[l.jsx(I,{children:"Theme"}),l.jsx(I,{children:l.jsx(ir,{tabs:b8,onChange:_=>a(_),value:i,variant:"pills"})})]})}]].filter(({id:_})=>!((!g||!d)&&_==="installApp"||!y8(m,_))),A=(_,N)=>V=>{Xe(_)&&(_(V),N())};return l.jsxs(R,{space:"s",items:"center",justify:"end",className:W(w8,Me.xS,n),nowrap:!0,...r,children:[T.map(({id:_,...N})=>Px(N)?l.jsx(Jc,{size:"s",...N},_):Ot({id:_,...N})),l.jsx(I,{children:m.settingsMenu!==!1&&E.length>0&&l.jsx(Ns,{placement:"bottom-end",title:!1,padding:!1,handler:l.jsx(se,{icon:G.cog,size:ae.s}),buttonProps:v8,overlay:!0,children:({close:_})=>l.jsx(l.Fragment,{children:E.map(N=>l.jsx(Fa,{action:A(N.action,_),icon:N.icon,label:N.label},N.id))})})})]})});function j8({devices:e,selected:t,className:n,style:s,select:r}){const o=e.map(i=>({id:i.id,label:i.getName(),icon:i.attributes.icon}));return o.length?l.jsx(Ee,{size:"xs",className:n,style:s,value:t,options:o,onChange:r}):null}const C8="gs-devices",Tx=f.memo(function({className:t,style:n}){return l.jsx(HM,{children:s=>l.jsx(j8,{className:L(C8,t),style:n,...s})})}),Ni="gs-cmp-editor-topbar",E8=oe(function({className:t,height:n,style:s,children:r,leftContainer:o,rightContainer:i,devices:a}){const{topBarSize:c,isInPreview:u,editor:d,isTopSidebarOpen:p}=ge(),g=n??c,h=f.useMemo(()=>({...s,minHeight:g,marginTop:u||!p?`-${g}px`:0}),[u,p,s]);return l.jsxs(l.Fragment,{children:[l.jsx(I,{className:L(Ni,"gs-utl-transition-spacing gs-utl-w-full",re.bb,F.br,t),style:h,children:r??l.jsxs(R,{className:L(`${Ni}__wrp`,"gs-utl-h-full"),items:"center",full:!0,nowrap:!0,children:[l.jsx(I,{className:L(`${Ni}__wrp-left`),grow:!0,children:o!==!1&&l.jsx(m8,{...o})}),l.jsx(I,{className:L(`${Ni}__wrp-center`),children:a!==!1&&l.jsx(Tx,{...a})}),l.jsx(I,{className:L(`${Ni}__wrp-right`),grow:!0,children:i!==!1&&d&&l.jsx(S8,{editor:d,...i})})]})}),l.jsx(I,{className:L("gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",!u&&"-gs-utl-translate-y-full"),children:l.jsx(ze,{className:L("gs-cmp-close-preview gs-utl-m-4",F.bg),size:"s",onClick:()=>d==null?void 0:d.Commands.stop("core:preview"),children:l.jsx(se,{icon:G.eyeOff,size:ae.s})})})]})}),P8="gs-sidebar-top",Ox=f.memo(oe(function({height:t,children:n,...s}){return l.jsx(E8,{height:t,...s,style:Su(s),className:L(P8,"gs-utl-flex",wu(s)),children:n?Ot(n):void 0})})),T8="gs-canvas-sidebar-top",O8=f.memo(oe(function({className:t,sidebarTop:n,...s}){return l.jsxs(An,{className:L(T8,"gs-utl-flex gs-utl-flex-col",t),grow:!0,...s,children:[l.jsx(Ox,{...n}),l.jsx(lx,{grow:!0})]})})),_8="gs-cmp-column",A8=f.memo(function({className:t,children:n,full:s,...r}){return l.jsx(An,{className:L(_8,F.bg,"gs-utl-flex gs-utl-flex-col",s&&"gs-utl-h-full",t),...r,children:Ot(n)})}),M8="gs-cmp-input-field",L8=f.memo(oe(function({className:t,style:n,label:s,name:r,value:o,size:i,disabled:a,inputType:c,readOnly:u,required:d,placeholder:p,onChange:g,onInput:h,editorEvents:m}){const{editor:b}=ge(),[v,x]=f.useState(()=>({className:t,style:n,label:s,name:r,value:o,size:i,readOnly:u,disabled:a,required:d,placeholder:p})),y=j=>({value:j,editor:b,state:v,setState:C=>x(P=>({...P,...C}))}),S=j=>g==null?void 0:g(y(j)),w=j=>h==null?void 0:h(y(j));return wi({editor:b,editorEvents:m,localState:v,setLocalState:x}),l.jsx(Je,{type:c,className:L(M8,v.className),style:v.style,label:v.label,name:v.name,value:v.value,size:v.size,required:v.required,disabled:v.disabled,readOnly:v.readOnly,placeholder:v.placeholder,onChange:S,onInput:w})}));function N8({children:e,accept:t,onChange:n,multiple:s=!0,...r}){const o=je(),i=f.useRef(null),a=()=>{const{current:c}=i;c&&(c.value="",c.click())};return l.jsxs(l.Fragment,{children:[l.jsx("input",{className:W("hidden"),ref:i,type:"file",multiple:s,accept:t,onChange:n}),l.jsx(ze,{variant:"pr",size:"m2",...r,onClick:a,children:e||o.t("upload")})]})}const k8=oe(N8),R8=oe(function({editor:t,assetProps:n,itemLayout:s,onSelect:r,onRemove:o}){const i=So();return Ot(s({asset:vr(i.toAsset(n)),assetProps:vr(n),onSelect:a=>r(i.toAssetProps(a)),onDelete:o&&(a=>o(i.toAssetProps(a))),editor:t}))}),$8="gs-cmp-asset-card",I8=oe(function(t){var p;const{assetProps:n,onSelect:s,onRemove:r,className:o,itemLayout:i}=t,a=je(),{editor:c}=ge();if(i)return c?l.jsx(R8,{...t,editor:c,itemLayout:i}):null;const{src:u}=n,d=n.name||((p=u.split("/").pop())==null?void 0:p.split("?").shift());return l.jsx(fn,{padding:!1,className:X($8,"overflow-hidden max-w-full group",o),children:l.jsxs(R,{col:!0,children:[l.jsxs(I,{className:X("relative group h-24 cursor-pointer bg-checker"),onClick:()=>s(n),children:[l.jsx("div",{className:X("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${u}")`}}),l.jsx(R,{justify:"center",items:"center",className:X(Le.coverAbs,F.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:l.jsx(ze,{className:X("text-sm"),size:"m2",variant:"pr",children:a.t("select")})})]}),l.jsxs(R,{className:X("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[l.jsx(I,{className:X(Le.txtEllips,"text-sm gjs-mr-auto"),children:d}),r&&l.jsx(mu,{onConfirm:()=>r==null?void 0:r(n),text:l.jsxs(R,{col:!0,space:"m",items:"stretch",children:[l.jsx("p",{className:X("text-center",F.txtHighEmphasis),children:a.t("assetManager.deleteConfirmQuestion")}),l.jsx("p",{className:X("text-center"),children:a.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:l.jsx(vt,{title:a.t("delete"),children:l.jsx(se,{icon:G.delete,size:ae.sx})})})]})]})})}),cs="gs-asset-manager",V8={search:!0,addUrl:!0,upload:!0},D8=oe(function({assetProps:t,typeFilterOptions:n,providerFilterOptions:s,typeFilter:r,providerFilter:o,searchValue:i,isLoading:a,optionalType:c,optionalProvider:u,useLocalSearch:d,itemLayout:p,content:g,onSelect:h,onChangeTypeFilter:m,onChangeProviderFilter:b,onChangeSearchValue:v,onChangeUpload:x,onAddUrl:y,onRemove:S,onEndReached:w,layoutAfterHeader:j}){const C=ge(),{editor:P}=C,O=je(),[T]=yu(),E=Ag(g==null?void 0:g.itemsPerRow),[A,_]=f.useState(""),N=(g==null?void 0:g.header)===!1?!1:{...V8,...ss(g==null?void 0:g.header)?g.header:{}};if(!P)return;const V=d?t.filter(M=>!(i&&!Ho(M.src,i)&&!Ho(M.name??"",i))):t;return l.jsxs(R,{className:W(cs,"relative gs-utl-h-full",a&&Le.disabled),nowrap:!0,col:!0,space:"m",children:[N!==!1&&l.jsxs(R,{className:`${cs}__header`,gap:"m",justify:"between",items:"center",children:[l.jsxs(R,{className:`${cs}__header-filters`,items:"center",gap:"m",children:[N.search&&l.jsx(I,{children:l.jsx(Je,{className:`${cs}__search-filter`,size:"m",type:"search",value:i,onInput:v,placeholder:`${O.t("search")}...`})}),n.length>(c?0:1)&&l.jsx(I,{children:l.jsx(Ee,{className:W(`${cs}__type-filter`,"items-center"),size:"m",options:n,value:r,onChange:m,emptyState:O.t("assetManager.assetTypes.all"),includeEmpty:c})}),s.length>(u?0:1)&&l.jsx(I,{children:l.jsx(Ee,{classNameContainer:W(`${cs}__provider-filter`,"items-center"),size:"m",options:s.map(M=>({...M,label:Xe(M.label)?M.label({editor:P}):M.label,icon:M.icon})),value:o,onChange:b,emptyState:O.t("assetManager.noProvider"),includeEmpty:u})})]}),l.jsxs(R,{className:`${cs}__header-buttons`,items:"center",gap:"m",children:[N.upload&&l.jsx(I,{children:l.jsx(k8,{className:`${cs}__upload-field`,onChange:x})}),N.addUrl&&!!y&&l.jsx(I,{children:l.jsx(Ns,{className:`${cs}__add-url-popover`,overlay:!0,placement:"bottom-end",title:!1,buttonAs:"span",handler:l.jsx(ze,{variant:"pr",size:"m2",children:O.t("assetManager.addUrl")}),children:({close:M})=>l.jsxs(R,{gap:"m",children:[l.jsx(I,{children:l.jsx(Je,{type:"url",size:"s",value:A,onChange:_,placeholder:O.t("assetManager.inputPlh")})}),l.jsx(I,{children:l.jsx(ze,{variant:"pr",size:"m2",onClick:()=>{y(A),M()},children:O.t("add")})})]})})})]}),j&&l.jsx(l.Fragment,{children:Ot(j({editor:P}))})]}),l.jsx(R,{className:W(`${cs}__content`,"gs-utl-h-[75vh] gs-utl-flex-grow"),space:"m",col:!0,nowrap:!0,children:!a&&!V.length?l.jsx(R,{justify:"center",children:O.t("noItems")}):!!T&&l.jsx(Xa,{data:V,listClassName:W("gs-utl-grid gs-utl-gap-2",E),endReached:w,itemContent:(M,H)=>l.jsx(I8,{assetProps:H,onSelect:h,onRemove:S,itemLayout:p},H.id),components:{Footer:w?H8:void 0}})}),a&&l.jsx(Za,{abs:!0})]})}),H8=()=>l.jsx("div",{style:{padding:"2rem",display:"flex",justifyContent:"center",height:200}}),_x=oe(function({panelId:t,content:n,assets:s,types:r,providers:o,typeId:i,providerId:a,optionalType:c,optionalProvider:u,onSelect:d,close:p,layoutAfterHeader:g}){const{appEditorStore:h,i18nStore:m}=zt(),{editor:b}=h,v=So(),{customOnLoad:x}=v,y=M0(t);f.useEffect(()=>{const P=T=>nt(T)?{id:T,label:m.t(`assetManager.assetTypes.${T}`)||T}:T;y.setCustomTypes(r==null?void 0:r.map(P)),y.setCustomProviders(nt(o)?[o]:o),i?y.setTypeFilter(i):y.initTypeFilter(),a?y.setProviderFilter(a):y.initProviderFilter(),Lt(c)?y.setOptionalType(c):y.initOptionalType(),Lt(u)?y.setOptionalProvider(u):y.initOptionalProvider();const O=setTimeout(()=>y.loadAssets());return()=>clearTimeout(O)},[r,o,i,a,c,u]);const S=P=>{v.addToProjectAssets([{id:P,src:P,type:y.typeFilter??jr.image}])},w=P=>{b&&(d==null||d({asset:v.toAsset(P),assetProps:P,editor:b}),p==null||p())},j=s==null?void 0:s.map(v.toAssetProps),C=y.shouldLoadNextPage?()=>y.loadAssets(!1):void 0;return l.jsx(D8,{assetProps:j??y.assetProps,typeFilter:y.typeFilter,typeFilterOptions:y.typeFilterOptions,providerFilter:y.providerFilter,providerFilterOptions:y.providerFilterOptions,searchValue:y.searchValue,onChangeTypeFilter:P=>{y.setTypeFilter(P),y.loadAssets()},onChangeProviderFilter:P=>{y.setProviderFilter(P),y.loadAssets()},onChangeSearchValue:y.setSearchValue,onSelect:w,onAddUrl:x?void 0:S,onChangeUpload:P=>v.uploadFile(P.nativeEvent),onRemove:j?void 0:y.handleDelete,onEndReached:C,isLoading:y.isLoading,itemLayout:y.itemLayout,content:n,optionalType:y.optionalType,optionalProvider:y.optionalProvider,useLocalSearch:!y.reloadOnInput,layoutAfterHeader:g})});var F8=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pt.apply(this,arguments)},T1={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},O1={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Al={width:"20px",height:"20px",position:"absolute"},B8={top:Pt(Pt({},T1),{top:"-5px"}),right:Pt(Pt({},O1),{left:void 0,right:"-5px"}),bottom:Pt(Pt({},T1),{top:void 0,bottom:"-5px"}),left:Pt(Pt({},O1),{left:"-5px"}),topRight:Pt(Pt({},Al),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Pt(Pt({},Al),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Pt(Pt({},Al),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Pt(Pt({},Al),{left:"-10px",top:"-10px",cursor:"nw-resize"})},z8=function(e){F8(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(s){n.props.onResizeStart(s,n.props.direction)},n.onTouchStart=function(s){n.props.onResizeStart(s,n.props.direction)},n}return t.prototype.render=function(){return We.createElement("div",{className:this.props.className||"",style:Pt(Pt({position:"absolute",userSelect:"none"},B8[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(We.PureComponent),U8=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),gs=globalThis&&globalThis.__assign||function(){return gs=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gs.apply(this,arguments)},W8={width:"auto",height:"auto"},Ml=function(e,t,n){return Math.max(Math.min(e,n),t)},_1=function(e,t,n){var s=Math.round(e/t);return s*t+n*(s-1)},Lo=function(e,t){return new RegExp(e,"i").test(t)},Ll=function(e){return!!(e.touches&&e.touches.length)},G8=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},A1=function(e,t,n){n===void 0&&(n=0);var s=t.reduce(function(o,i,a){return Math.abs(i-e)<Math.abs(t[o]-e)?a:o},0),r=Math.abs(t[s]-e);return n===0||r<n?t[s]:e},Md=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Nl=function(e,t,n,s){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var r=Number(e.replace("%",""))/100;return t*r}if(e.endsWith("vw")){var r=Number(e.replace("vw",""))/100;return n*r}if(e.endsWith("vh")){var r=Number(e.replace("vh",""))/100;return s*r}}return e},K8=function(e,t,n,s,r,o,i){return s=Nl(s,e.width,t,n),r=Nl(r,e.height,t,n),o=Nl(o,e.width,t,n),i=Nl(i,e.height,t,n),{maxWidth:typeof s>"u"?void 0:Number(s),maxHeight:typeof r>"u"?void 0:Number(r),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},q8=function(e){return Array.isArray(e)?e:[e,e]},Y8=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],M1="__resizable_base__",Z8=function(e){U8(t,e);function t(n){var s,r,o,i,a=e.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var c=a.parentNode;if(!c)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(M1):u.className+=M1,c.appendChild(u),u},a.removeBase=function(c){var u=a.parentNode;u&&u.removeChild(c)},a.state={isResizing:!1,width:(r=(s=a.propsSize)===null||s===void 0?void 0:s.width)!==null&&r!==void 0?r:"auto",height:(i=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||W8},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,s=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:r,s=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,s=this.props.size,r=function(a){var c;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((c=n.propsSize[a])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),d=Number(n.state[a].toString().replace("px","")),p=d/u[a]*100;return p+"%"}return Md(n.state[a])},o=s&&typeof s.width<"u"&&!this.state.isResizing?Md(s.width):r("width"),i=s&&typeof s.height<"u"&&!this.state.isResizing?Md(s.height):r("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var s=!1,r=this.parentNode.style.flexWrap;r!=="wrap"&&(s=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return s&&(this.parentNode.style.flexWrap=r),this.removeBase(n),o},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,s){var r=this.propsSize&&this.propsSize[s];return this.state[s]==="auto"&&this.state.original[s]===n&&(typeof r>"u"||r==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,s){var r=this.props.boundsByDirection,o=this.state.direction,i=r&&Lo("left",o),a=r&&Lo("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(s=s&&s<u?s:u),{maxWidth:n,maxHeight:s}},t.prototype.calculateNewSizeFromDirection=function(n,s){var r=this.props.scale||1,o=q8(this.props.resizeRatio||1),i=o[0],a=o[1],c=this.state,u=c.direction,d=c.original,p=this.props,g=p.lockAspectRatio,h=p.lockAspectRatioExtraHeight,m=p.lockAspectRatioExtraWidth,b=d.width,v=d.height,x=h||0,y=m||0;return Lo("right",u)&&(b=d.width+(n-d.x)*i/r,g&&(v=(b-y)/this.ratio+x)),Lo("left",u)&&(b=d.width-(n-d.x)*i/r,g&&(v=(b-y)/this.ratio+x)),Lo("bottom",u)&&(v=d.height+(s-d.y)*a/r,g&&(b=(v-x)*this.ratio+y)),Lo("top",u)&&(v=d.height-(s-d.y)*a/r,g&&(b=(v-x)*this.ratio+y)),{newWidth:b,newHeight:v}},t.prototype.calculateNewSizeFromAspectRatio=function(n,s,r,o){var i=this.props,a=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,p=typeof r.width>"u"||r.width<0?n:r.width,g=typeof o.height>"u"?10:o.height,h=typeof r.height>"u"||r.height<0?s:r.height,m=c||0,b=u||0;if(a){var v=(g-m)*this.ratio+b,x=(h-m)*this.ratio+b,y=(d-b)/this.ratio+m,S=(p-b)/this.ratio+m,w=Math.max(d,v),j=Math.min(p,x),C=Math.max(g,y),P=Math.min(h,S);n=Ml(n,w,j),s=Ml(s,C,P)}else n=Ml(n,d,p),s=Ml(s,g,h);return{newWidth:n,newHeight:s}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var s=this.parentNode;if(s){var r=s.getBoundingClientRect();this.parentLeft=r.left*n,this.parentTop=r.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),a=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,s){if(!(!this.resizable||!this.window)){var r=0,o=0;if(n.nativeEvent&&G8(n.nativeEvent)?(r=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&Ll(n.nativeEvent)&&(r=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,s,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",a=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:r,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:gs(gs({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:s,flexBasis:a};this.setState(p)}},t.prototype.onMouseMove=function(n){var s=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Ll(n))try{n.preventDefault(),n.stopPropagation()}catch{}var r=this.props,o=r.maxWidth,i=r.maxHeight,a=r.minWidth,c=r.minHeight,u=Ll(n)?n.touches[0].clientX:n.clientX,d=Ll(n)?n.touches[0].clientY:n.clientY,p=this.state,g=p.direction,h=p.original,m=p.width,b=p.height,v=this.getParentSize(),x=K8(v,this.window.innerWidth,this.window.innerHeight,o,i,a,c);o=x.maxWidth,i=x.maxHeight,a=x.minWidth,c=x.minHeight;var y=this.calculateNewSizeFromDirection(u,d),S=y.newHeight,w=y.newWidth,j=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(w=A1(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=A1(S,this.props.snap.y,this.props.snapGap));var C=this.calculateNewSizeFromAspectRatio(w,S,{width:j.maxWidth,height:j.maxHeight},{width:a,height:c});if(w=C.newWidth,S=C.newHeight,this.props.grid){var P=_1(w,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),O=_1(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),T=this.props.snapGap||0,E=T===0||Math.abs(P-w)<=T?P:w,A=T===0||Math.abs(O-S)<=T?O:S;w=E,S=A}var _={width:w-h.width,height:S-h.height};if(m&&typeof m=="string"){if(m.endsWith("%")){var N=w/v.width*100;w=N+"%"}else if(m.endsWith("vw")){var V=w/this.window.innerWidth*100;w=V+"vw"}else if(m.endsWith("vh")){var M=w/this.window.innerHeight*100;w=M+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var N=S/v.height*100;S=N+"%"}else if(b.endsWith("vw")){var V=S/this.window.innerWidth*100;S=V+"vw"}else if(b.endsWith("vh")){var M=S/this.window.innerHeight*100;S=M+"vh"}}var H={width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?H.flexBasis=H.width:this.flexDir==="column"&&(H.flexBasis=H.height);var U=this.state.width!==H.width,B=this.state.height!==H.height,k=this.state.flexBasis!==H.flexBasis,D=U||B||k;D&&wn.flushSync(function(){s.setState(H)}),this.props.onResize&&D&&this.props.onResize(n,g,this.resizable,_)}},t.prototype.onMouseUp=function(n){var s,r,o=this.state,i=o.isResizing,a=o.direction,c=o.original;if(!(!i||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,u),this.props.size&&this.setState({width:(s=this.props.size.width)!==null&&s!==void 0?s:"auto",height:(r=this.props.size.height)!==null&&r!==void 0?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:gs(gs({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var s,r;this.setState({width:(s=n.width)!==null&&s!==void 0?s:"auto",height:(r=n.height)!==null&&r!==void 0?r:"auto"})},t.prototype.renderResizer=function(n){var s=this,r=this.props,o=r.enable,i=r.handleStyles,a=r.handleClasses,c=r.handleWrapperStyle,u=r.handleWrapperClass,d=r.handleComponent;if(!o)return null;var p=n.filter(function(g){return o[g]!==!1}).map(function(g){return o[g]!==!1?We.createElement(z8,{key:g,direction:g,onResizeStart:s.onResizeStart,replaceStyles:i&&i[g],className:a&&a[g]},d&&d[g]?d[g]:null):null});return We.createElement("div",{className:u,style:c},p)},t.prototype.render=function(){var n=this,s=Object.keys(this.props).reduce(function(i,a){return Y8.indexOf(a)!==-1||(i[a]=n.props[a]),i},{}),r=gs(gs(gs({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return We.createElement(o,gs({style:r,className:this.props.className},s,{ref:function(i){i&&(n.resizable=i)}}),this.state.isResizing&&We.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(We.PureComponent);function Ja({className:e,children:t,top:n,bottom:s,right:r,left:o,width:i,height:a,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:g,onResize:h,onResizeStop:m,...b}){const v={top:n||!1,right:r||!1,bottom:s||!1,left:o||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},x={width:i||"auto",height:a||"auto"},y=L("gs-utl-z-10",F.hBgAct),S={top:y,bottom:y,right:y,left:y},w={top:{top:-1,height:2},bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}};return l.jsx(Z8,{className:e,enable:b.enable??v,defaultSize:x,handleStyles:w,handleClasses:S,onResize:h,onResizeStop:m,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:g,children:t})}const ki="gs-studio-panel",Ax=(e,t={})=>({...t,...e===!0?{}:e||void 0}),is=f.memo(function({children:t,header:n,resizable:s,className:r,classNameAccordion:o,classNameAccordionContent:i,...a}){const c=l.jsx(An,{className:L(ki,r),...a,children:t}),u=s?s===!0?{top:!0,right:!0,bottom:!0,left:!0}:s:void 0,d=u?l.jsx(Ja,{className:L([`${ki}__resizer`]),...u,children:c}):c,p=n===!0?{collapsible:!0}:n||void 0;return p?l.jsx(Eo,{classNameWrap:L(`${ki}__accordion`,o),className:L(`${ki}__accordion-header`,Me.xy,p.className),classNameContent:L(`${ki}__accordion-content`,i),disabled:p.collapsible===!1,style:p.style,handler:l.jsxs(R,{space:"s",items:"center",children:[!!p.icon&&l.jsx(se,{icon:p.icon,size:ae.s}),l.jsx(I,{grow:!0,children:p.label})]}),open:n?p.collapsed!==!0:!0,children:d}):d}),X8="gs-panel-assets",J8=f.memo(oe(function({className:t,onSelect:n,content:s,assets:r,types:o,providers:i,typeId:a,providerId:c,optionalType:u,optionalProvider:d,projectAssetsOption:p,layoutAfterHeader:g,...h}){var j;const m=ge(),b=So(),v=m.editor,x=(j=m.sdkOptions.assets)==null?void 0:j.layoutAfterHeader,y=g||x,[S]=f.useState(()=>h.id||cv());return f.useEffect(()=>(b.createAssetManager(S),()=>{b.removeAssetManager(S)}),[S]),M0(S)?l.jsx(is,{className:L(X8,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...h,children:v&&l.jsx(_x,{panelId:S,assets:r,types:o,providers:i,onSelect:n,typeId:a,providerId:c,content:s,optionalType:u,optionalProvider:p??d,layoutAfterHeader:y})}):null})),Mg=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-block-manager-after"),n),ref:r,...s,children:t})}),Lg=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-block-manager-before"),n),ref:r,...s,children:t})}),Q8="gs-panel-blocks",e6=f.memo(oe(function({className:t,symbols:n,search:s,hideCategories:r,target:o,variant:i,blocks:a,itemLayout:c,...u}){const d=ge().sdkProps.children,p={search:s,symbols:n,hideCategories:r,isOpen:!0,target:o,variant:i,blocks:a,itemLayout:c};return l.jsx(is,{className:L(Q8,"gs-utl-overflow-hidden",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...u,children:l.jsxs(Co,{children:[ln(d,Lg),l.jsx(rw,{className:L("gs-utl-overflow-hidden gs-utl-flex-nowrap"),...p}),ln(d,Mg)]})})})),t6=(e,{t,id:n})=>t(`fields.${n}.label`)||Ss(`${e}`.replace(/-/g," ")),Mx=(e,{t,id:n})=>{const s=nt(e)?{id:e,label:e}:e;return{...s,label:t(`fields.${n}.options.${s.id}`)||s.label}},Lx=e=>e.get("defaultValue")||"",Qa=e=>e.get("field"),Nx=e=>{const t=Qa(e);return nt(t)?{type:t}:t},kx=e=>`${e.get("value")||Lx(e)||Nx(e).defaultValue||""}`,n6=(e,t)=>e||Lx(t)||"",xa=({record:e,value:t,partial:n})=>{e.set({value:n6(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},wa=(e,t)=>{const{className:n,defaultValue:s,size:r,...o}=Nx(e),i=s??e.get("defaultValue");return{...o,hasClear:()=>{const a=e.get("value");return!!a&&Lt(i)&&a!==i},className:L(n,"gs-utl-w-full"),size:r||"s",value:kx(e),label:t6(e.get("label")||e.id||"",t),onChange:(a,c)=>xa({record:e,value:a,partial:c})}},s6=(e,t)=>{const n=Qa(e),s=ss(n)?n:void 0,r=(s==null?void 0:s.units)||[],o=QL(kx(e)),i=o.number,a=o.unit||r[0]||"";return{...wa(e,t),value:i,valueUnit:a,min:s==null?void 0:s.min,max:s==null?void 0:s.max,step:s==null?void 0:s.step,units:s==null?void 0:s.units,onChange:(c,u)=>{xa({value:c?`${c}${a}`:"",record:e,partial:u})},onChangeUnit:c=>{xa({value:i?`${i}${c}`:"",record:e})}}},Rx=(e,t)=>{var o;const n=Qa(e),s=ss(n)?n:void 0,r=((o=s==null?void 0:s.options)==null?void 0:o.map(i=>Mx(i,t)))||[];return{...wa(e,t),options:r,onChange:i=>xa({value:i,record:e})}},r6=(e,t)=>({...wa(e,t),onChange:n=>xa({value:n,record:e})}),o6=(e,t)=>{var o;const n=Qa(e),s=ss(n)?n:void 0,r=((o=s==null?void 0:s.options)==null?void 0:o.map(i=>Mx(i,t)))||[];return{...Rx(e,t),size:"s",options:r}};function i6(e,t){const n=Qa(e);switch(nt(n)?n:n==null?void 0:n.type){case"radio":return l.jsx(qt,{...o6(e,t)});case"select":return l.jsx(Ee,{...Rx(e,t)});case"selectFont":{const r=r6(e,t);return l.jsx(du,{...r,labelAs:"div"})}case"number":return l.jsx(Ae,{...s6(e,t)});case"color":return l.jsx(sr,{...wa(e,t)});default:return l.jsx(Je,{...wa(e,t)})}}const L1="gs-cmp-global-style-field",a6=oe(function({record:t}){const n=ge(),r=je().tScoped("globalStyleManager"),[,o]=f.useState(0),i=n.editor,a=t.id,c={t:r,id:a};return f.useEffect(()=>{if(!i)return;const u=`data:path:${t.getPath("value")}`,d=()=>o(p=>++p);return i.on(u,d),()=>{i.off(u,d)}},[i]),l.jsx(R,{className:L(L1,`${L1}__${a}`),children:i6(t,c)})}),ta="gs-cmp-global-style-manager",N1=({items:e,category:t,className:n})=>{const s=L(t?`${ta}__cat-fields--${t.id}`:`${ta}__uncat-fields`,"gs-utl-gap-2",Me.xy,n);return l.jsx(R,{className:s,nowrap:!0,col:!0,children:e.map(r=>l.jsx(a6,{record:r},r.id))})},l6=oe(function(){const t=ZA(),{recordsByCategory:n,openCategories:s}=t,o=je().tScoped("globalStyleManager");return l.jsx(R,{col:!0,full:!0,nowrap:!0,className:L(ta,"gs-utl-flex-grow gs-utl-overflow-hidden"),children:l.jsx(R,{col:!0,nowrap:!0,className:L(`${ta}__fields`,Le.scrollY,"gs-utl-select-none"),children:n.length?n.map(({category:i,items:a},c)=>i?l.jsx(Eo,{sticky:!0,open:s.get(i.id)??i.open,handler:o(`categories.${i.id}.label`)||i.label||i.id,onChange:({open:u})=>t.setCategoryOpen(i.id,u),className:u=>L(`${ta}__cat-fields`,uf.itemList({index:c,open:u,length:n.length}),c===0&&re.bt),children:l.jsx(N1,{category:i,items:a})},i.id):l.jsx(N1,{items:a,className:L(n.length!==1&&[re.bt,F.br])},c)):l.jsx(R,{className:L("gs-utl-text-center"),justify:"center",children:o("notFound")})})})}),c6="gs-panel-global-styles",u6=f.memo(oe(function({className:t,...n}){return l.jsx(is,{className:L(c6,"gs-utl-overflow-auto",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-auto"),...n,children:l.jsx(Co,{children:l.jsx(l6,{})})})}));function Ng({className:e,value:t,onChange:n}){const[s,r]=f.useState(t),o=f.useRef(null),i=u=>{const{value:d}=u.target;r(d)},a=()=>{n(s||t)},c=u=>{switch(u.key){case"Escape":n(t);break;case"Enter":n(s||t);break}};return f.useEffect(()=>{o.current&&o.current.select()},[]),l.jsx("input",{autoFocus:!0,className:W([e,"w-full",F.bgTr]),value:s,onChange:i,onBlur:a,onKeyDown:c,onPointerDown:po,ref:o})}const d6={maxWidth:`${V2}px`},p6="gs-cmp-layer-item";function $x({component:e,draggingCmp:t,dragParent:n,...s}){const r=_n(),{Layers:o}=r,i=f.useRef(null),[a,c]=f.useState(!1),[u,d]=f.useState(o.getLayerData(e)),{open:p,selected:g,hovered:h,components:m,visible:b,locked:v,name:x}=u,y=m.map(B=>B.cid),S=t===e,w=y.join("-"),j=s.level+1,C=h||n===e;f.useEffect(()=>{j===0&&d(o.getLayerData(e)),i.current&&(i.current.__cmp=e)},[e]),f.useEffect(()=>{const B=i.current;if(!B)return;const{select:k}=r.Components.events,D=$=>$===e&&B.scrollIntoView({block:"nearest"});return r.on(k,D),()=>{r.off(k,D)}},[e,i.current]),f.useEffect(()=>{const B=D=>{D===e&&d(o.getLayerData(D))},k=o.events.component;return r.on(k,B),()=>{r.off(k,B)}},[r,o,e]);const P=f.useMemo(()=>m.map(B=>l.jsx($x,{component:B,level:j,draggingCmp:t,dragParent:n},B.cid)),[w,t,n]),O=B=>{o.setLayerData(e,{name:B}),c(!1)},T=B=>{B.stopPropagation(),o.setLayerData(e,{open:!p})},E=B=>{B.stopPropagation(),o.setLayerData(e,{visible:!b})},A=B=>{B.stopPropagation(),o.setLayerData(e,{locked:!v})},_=B=>{B.stopPropagation(),o.setLayerData(e,{selected:!0},{event:B})},N=B=>{B.preventDefault(),r.runCommand(ce.contextMenuComponent,{source:Xc.layers,component:e,event:B.nativeEvent,x:B.clientX,y:B.clientY})},V=B=>{(!B||!t)&&o.setLayerData(e,{hovered:B})},M=ci(e),H=W("layer-item",(g||M.isSymbol)&&M.bgSoftX,(!b||S)&&"opacity-50"),U=W(Me.xyS,re.b,C?M.border:re.bT,g&&M.bgSoft);return l.jsx("div",{className:p6,children:l.jsxs(R,{col:!0,className:H,children:[l.jsx(I,{onClick:_,onContextMenu:N,onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),className:W("group max-w-full"),"data-layer-item":!0,ref:i,children:l.jsxs(R,{items:"center",space:"xs",className:U,children:[l.jsx(I,{style:{marginLeft:`${j*10}px`},className:W("cursor-pointer",!m.length&&"pointer-events-none opacity-0"),onClick:T,children:l.jsx(se,{icon:G.menuDown,size:ae.sx,rotate:p?0:-90})}),l.jsx(I,{children:Jf(e)}),l.jsx(I,{className:W("truncate"),onDoubleClick:()=>c(!0),style:d6,grow:!0,children:a?l.jsx(Ng,{value:x,onChange:O}):l.jsx(l.Fragment,{children:x})}),!a&&l.jsxs(l.Fragment,{children:[l.jsx(I,{className:W("group-hover:gs-utl-opacity-100 cursor-pointer",v?"opacity-100":"opacity-0"),onClick:A,children:l.jsx(se,{icon:v?G.lock:G.lockOpenVariant,size:ae.s3x})}),l.jsx(I,{className:W("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-0":"opacity-100"),onClick:E,children:l.jsx(se,{icon:b?G.eyeOutline:G.eyeOffOutline,size:ae.sx})})]})]})}),!!(p&&m.length)&&l.jsx(I,{className:W("max-w-full",!p&&"hidden"),children:P})]})})}const f6={touchAction:"none"},k1=5,g6=e=>{var o,i;const t=document.elementFromPoint(e.clientX,e.clientY),n=t==null?void 0:t.closest("[data-layer-item]"),s=n==null?void 0:n.__cmp,r=((i=(o=s==null?void 0:s.delegate)==null?void 0:o.move)==null?void 0:i.call(o,s))||s;return{el:n,cmp:r}},Ix=oe(function({root:t,header:n}){const{editor:s}=ge(),[r,o]=f.useState(!1),[i,a]=f.useState({}),[c,u]=f.useState(),[d,p]=f.useState(),[g,h]=f.useState(),[m,b]=f.useState(),v=f.useRef(null);if(f.useEffect(()=>{const T=window.document,E=A=>{A.key==="Escape"&&(a({...i,result:!1}),w())};return T.addEventListener("keydown",E),()=>{T.removeEventListener("keydown",E)}},[]),!s)return null;const{Components:x}=s,y=T=>{T.button===0&&o(!0)},S=T=>{if(!r)return;const{cmp:E,el:A}=g6(T);if(!A||!E)return;const _=A.getBoundingClientRect(),N=A.offsetHeight,V=A.offsetTop,M=T.clientY,H=M<_.y+N/2,U=d||E,B=E.parent(),k=E.index()+(H?0:1);!d&&p(E),u(E);const D=x.canMove(B,U,k),$=x.canMove(E,U),z={...D,canMoveInside:$,index:k};let J=!1;$.result&&M>_.y+k1&&M<_.y+N-k1&&(J=!0,z.target=E,delete z.index),h(J?E:void 0),a(z),b({pointerInside:J,y:V+(H?0:N),h:N})},w=()=>{var T;i!=null&&i.result&&((T=i.source)==null||T.move(i.target,{at:i.index})),a({}),o(!1),p(void 0),u(void 0),h(void 0),b(void 0)},j=(c?c.parents():[]).length,C=!!(d&&m&&(i!=null&&i.result)&&!m.pointerInside),P=C?{top:m.y,left:0,marginLeft:j*10+20}:{},O=n&&(n==null?void 0:n.label)||"Layers";return l.jsxs(R,{col:!0,full:!0,nowrap:!0,className:W("gs-layer-manager flex-grow overflow-hidden"),children:[n!==!1&&l.jsx(I,{children:l.jsxs(R,{space:"s",items:"center",className:W([Me.xy,re.bb,F.br]),children:[l.jsx(I,{children:l.jsx(se,{icon:G.layers,size:ae.s})}),l.jsx(I,{grow:!0,children:O})]})}),l.jsxs(I,{className:W("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:f6,onPointerDown:y,onPointerMove:S,onPointerUp:w,grow:!0,children:[!!t&&l.jsx($x,{component:t,level:-1,draggingCmp:d,dragParent:g}),C&&l.jsx("div",{ref:v,className:W("absolute w-full gs-utl-h-0.5",F.cmp),style:P})]})]})}),kg=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-layer-manager-after"),n),ref:r,...s,children:t})}),Rg=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-layer-manager-before"),n),ref:r,...s,children:t})}),h6="gs-panel-layers",Vx=f.memo(oe(function({className:t,...n}){const s=ge().sdkProps.children;return l.jsx(is,{className:L(h6,"gs-utl-overflow-auto",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-auto"),...n,children:l.jsx(sg,{children:r=>l.jsxs(l.Fragment,{children:[ln(s,Rg),l.jsx(Ix,{...r,header:!1}),ln(s,kg)]})})})})),m6=oe(function(){const t=je(),{editor:n}=ge(),s=So(),r=Wa(),o=r.sortedFonts;return n?l.jsx(ms,{items:o,selected:null,renderItem:i=>{const a=Xf(i);return l.jsxs(R,{col:!0,children:[l.jsx(I,{className:"gs-utl-text-lg",style:{fontFamily:a},children:i.familyLabel}),l.jsx(I,{children:i.familyLabel})]})},remove:i=>r.removeFont(i.family),add:r.sdkAddFonts&&s.hasType("font")?()=>ug(n):void 0,titleAdd:t.t("fontManager.addFontToProject"),label:t.t("fontManager.projectFonts"),getItemId:i=>i.family,emptyState:t.t("fontManager.emptyProjectFonts")}):null}),Dx=f.forwardRef(function({size:t="m",className:n,classNameContent:s,border:r=!0,children:o,...i},a){const c=X(F.bg,F.br,r&&`${re.b} ${re.rnd}`,t==="m"&&Me.xy,t==="s"&&"gjs-px-3 gjs-py-1",n);return l.jsx(R,{className:c,items:"center",space:"x2s",...i,ref:a,children:l.jsx(I,{grow:!0,className:s,children:o})})}),Hx=f.forwardRef(({autoResize:e,style:t={},...n},s)=>{const r=f.useRef(null),o=s||r;return f.useEffect(()=>{!o.current||!e||(o.current.style.height="auto",o.current.style.height=o.current.scrollHeight+"px")},[n.value,e,o]),l.jsx("textarea",{ref:o,style:{...t,...e?{resize:"none"}:{}},...n})});Hx.displayName="TextAreaWithAutoResize";const b6="gs-field-textarea";function R1(e){const{className:t,value:n,label:s,size:r,description:o,placeholder:i,readOnly:a,disabled:c,required:u,onChange:d,onKeyDown:p,afterInput:g,minHeight:h,maxHeight:m,autoResize:b,classNameField:v,classNameFieldContent:x,classNameInput:y}=e,S=Ba(e);return l.jsxs("div",{className:W(b6,t),children:[!!s&&l.jsx(Pr,{size:r,children:s}),!!o&&l.jsx(Pr,{size:r,as:"span",className:W(F.txtLowEmphasis),capitalize:!1,children:o}),l.jsxs(Dx,{size:r,className:v,classNameContent:x,children:[l.jsx(Hx,{className:W(S,y),autoResize:b,value:n,placeholder:i,readOnly:a,disabled:c,required:u,onChange:w=>d==null?void 0:d(w.target.value),onKeyDown:p,style:{minHeight:h,maxHeight:m}}),g]})]})}const Tu="gs-page-settings",v6=`${Tu}-header`,y6=`${Tu}-content`,x6=`${Tu}-footer`,$1="",Fx=oe(function({className:t,classNameHeader:n,classNameContent:s,classNameFooter:r,page:o,size:i=Qc.m}){const a=ge(),{isDarkTheme:c}=gn(),u=Wa(),d=je(),[p,g]=f.useState(o),[h,m]=f.useState(()=>Qh(p,a)),[b,v]=f.useState(()=>d.t("update")),x=d.tScoped("pageManager.settings"),y=d.tScoped("pageManager.settings.fields"),{editor:S}=a,w={containerClassName:"gs-utl-min-h-80",size:i,padding:5,isDarkTheme:c,clean:!0};if(!S)return null;const j=N=>m(V=>({...V,...N})),C=N=>{N.preventDefault();const{name:V,...M}=h;M.customCodeHead=M2(M.customCodeHead),M.customCodeBody=A2(M.customCodeBody),p?(E3(p,M),p.setName(V)):a.setProjectDataCustom({globalPageSettings:M}),v(d.t("updated")),setTimeout(()=>v(d.t("update")),2e3),E0(S),S.trigger(pn.pageSettingsUpdate,{page:p,data:{name:V,...M}})},P={tooltip:d.t("clear")},O=(p==null?void 0:p.getId())??$1,T=N=>{const V=S.Pages.get(N);g(V),m(Qh(V,a))},E=Qf(p),A=!!p&&nu(p),_=[{id:$1,label:x("global")},...S.Pages.getAll().map(N=>({icon:C0(N),id:N.getId(),label:N.getName()}))];return l.jsx("form",{onSubmit:C,className:L(Tu,"gs-utl-h-full",t),children:l.jsxs(R,{col:!0,full:!0,className:"gs-utl-gap-1 gs-utl-overflow-hidden",nowrap:!0,children:[l.jsx(I,{className:L(v6,n,F.br,re.bb),children:l.jsx(Ee,{value:O,onChange:T,options:_,handlerSelected:N=>l.jsxs(R,{items:"center",gap:"xs",nowrap:!0,children:[l.jsxs("b",{children:[d.t("pageManager.page"),":"]}),N.icon&&nt(N.icon)&&l.jsx(se,{icon:N.icon,size:ae.s2x}),l.jsx("span",{children:N.label})]})})}),l.jsxs(R,{col:!0,className:L(y6,"gs-utl-gap-5 gs-utl-overflow-y-auto",s),nowrap:!0,children:[!!O&&l.jsxs(l.Fragment,{children:[l.jsx(Je,{size:i,value:h.name,onChange:N=>j({name:N}),label:y("name.label"),description:y("name.description"),required:!0}),!E&&l.jsx(Je,{size:i,value:h.slug,onChange:N=>j({slug:A?U2(N,["id"]):Ic(N)}),label:y("slug.label"),description:y("slug.description"),required:!0})]}),l.jsx(Je,{size:i,value:h.title,onChange:N=>j({title:N}),label:y("title.label"),description:y("title.description")}),l.jsx(R1,{size:i,value:h.description,onChange:N=>j({description:N}),label:y("description.label"),description:y("description.description")}),l.jsx(ma,{size:i,clear:P,value:h.favicon,onChange:N=>j({favicon:N}),onOpen:()=>{S.Assets.open({select(N){j({favicon:N.getSrc()}),S.Assets.close()}})},label:y("favicon.label"),description:y("favicon.description")}),l.jsx(Je,{size:i,value:h.keywords,onChange:N=>j({keywords:N}),label:y("keywords.label"),description:y("keywords.description")}),l.jsx(Je,{size:i,value:h.socialTitle,onChange:N=>j({socialTitle:N}),label:y("socialTitle.label"),description:y("socialTitle.description")}),l.jsx(ma,{size:i,clear:P,value:h.socialImage,onChange:N=>j({socialImage:N}),onOpen:()=>{S.Assets.open({select(N){j({socialImage:N.getSrc()}),S.Assets.close()}})},label:y("socialImage.label"),description:y("socialImage.description")}),l.jsx(R1,{size:i,value:h.socialDescription,onChange:N=>j({socialDescription:N}),label:y("socialDescription.label"),description:y("socialDescription.description")}),l.jsx(nr,{language:"html",defaultValue:h.customCodeHead,onChange:N=>j({customCodeHead:N}),label:y("customCodeHead.label"),description:y("customCodeHead.description"),...w},`head-${O}`),l.jsx(nr,{language:"html",defaultValue:h.customCodeBody,onChange:N=>j({customCodeBody:N}),label:y("customCodeBody.label"),description:y("customCodeBody.description"),...w},`body-${O}`),u.sdkShowProjectFonts&&!O&&l.jsx(m6,{})]}),l.jsx(R,{className:L(x6,"gs-utl-mt-auto",r,F.br,re.bt),children:l.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:b})})]})})}),w6="gs-panel-page-settings",S6=f.memo(oe(function({className:t,page:n,...s}){return l.jsx(is,{className:L(w6,"gs-utl-overflow-hidden",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...s,children:l.jsx(Co,{children:l.jsx(Fx,{className:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:n,size:Qc.s,classNameHeader:Me.s,classNameContent:Me.s,classNameFooter:Me.s})})})})),kl="gs-page-item",I1=oe(function({page:t,rename:n,setRename:s,commandItems:r}){const o=ge(),i=je(),a=o.editor,{Pages:c}=a,u=o.sdkPagesConfig,d=u==null?void 0:u.settings,p=u==null?void 0:u.showHomeIcon,g=u==null?void 0:u.layoutBefore,h=C=>i.t(`pageManager.${C}`),m=C=>c.select(C),b=C=>c.getSelected()===C,v=C=>C===n,x=b(t),y=C=>C.getName()||C.getId(),S=C=>{n==null||n.set({name:C}),s(void 0)},w=X("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"),j=()=>a.runCommand(ce.setPageSettings,{page:t,isOpen:!0});return l.jsxs(R,{gap:"s",items:"center",onClick:()=>m(t),className:X([kl,"group cursor-default",Me.xy,x?F.bgH:F.hBgH2]),children:[p&&Qf(t)&&l.jsx(I,{className:`${kl}__icon-home`,title:h("homePage"),children:l.jsx(se,{icon:G.home,size:ae.s3x})}),g&&Ot(g({page:t,editor:a,isSelected:x})),l.jsx(I,{className:X(`${kl}__name truncate`),grow:!0,children:v(t)?l.jsx(Ng,{value:y(t),onChange:S}):l.jsx(l.Fragment,{children:y(t)})}),l.jsxs(R,{className:`${kl}__actions`,gap:"xs",onClick:po,items:"center",children:[!n&&d!==!1&&l.jsx(vt,{className:w,size:"xs",border:!1,title:h("settings.label"),onClick:j,block:!0,children:l.jsx(se,{icon:G.cog,size:ae.s3x})}),x&&!!r.length&&l.jsx(Ns,{placement:"right-start",handler:l.jsx(se,{icon:G.dotsVertical,size:ae.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:C})=>r.map(P=>l.jsx(Fa,{icon:P.icon,label:Xe(P.label)?P.label({editor:a}):P.label,action:()=>{var O;C(),(O=P.cmd)==null||O.call(P,{page:t,editor:a})}},P.id))})]})]},t.getId())});function j6({dragging:e,dragRect:t}){const n=!!(e&&t),s=n?{top:t.y,left:0,marginLeft:0}:{};return{showIndicator:n,indicatorStyle:s}}var Bx=(e=>(e.horizontal="horizontal",e.vertical="vertical",e))(Bx||{});const Ld="gs-cmp-sortable",V1=3;function C6({items:e,direction:t,onDrop:n,renderItem:s}){const[r,o]=f.useState(null),[i,a]=f.useState(-1),[c,u]=f.useState(),[d,p]=f.useState(!1),g=f.useRef(null),{showIndicator:h,indicatorStyle:m}=j6({dragging:!!r&&d,dragRect:c}),b=f.useMemo(()=>[],[e]);f.useEffect(()=>{const P=window.document,O=T=>T.key==="Escape"&&y(T);return P.addEventListener("keydown",O),()=>P.removeEventListener("keydown",O)},[]);const v=P=>O=>{O.button===0&&(g.current={x:O.clientX,y:O.clientY},o(P),p(!1),O.target.setPointerCapture(O.pointerId))},x=P=>{const O=g.current;if(!r||!O)return;if(!d){const N=Math.abs(P.clientX-O.x),V=Math.abs(P.clientY-O.y);(t==="vertical"?V>V1:N>V1)&&p(!0);return}const T=P.clientY;let E=-1;b.forEach((N,V)=>{const M=N.getBoundingClientRect();T>M.top+M.height/2&&(E=V)});const A=e.findIndex(N=>N.id===r.id);E<A&&(E+=1),E=Math.min(E,e.length-1),a(E);const _=b[E];if(_){const{height:N,top:V}=_.getBoundingClientRect(),M=T<V+N/2;u({y:_.offsetTop+(M?0:N),h:N})}},y=P=>{o(null),p(!1),g.current=null,u(void 0);const O=P.target,{pointerId:T}=P;T&&(O==null||O.releasePointerCapture(T))},S=P=>{!r||!g.current||(c&&i!==-1&&(n==null||n(r,i)),y(P))},w=L(Ld,"gs-utl-relative"),j=L(`${Ld}__indicator`,F.cmp,"gs-utl-absolute gs-utl-w-full gs-utl-h-0.5"),C=P=>L(`${Ld}__item`,h&&(r==null?void 0:r.id)===P.id&&"gs-utl-opacity-50 gs-utl-select-none");return l.jsxs(l.Fragment,{children:[l.jsx(R,{col:t==="vertical",className:w,children:e.map((P,O)=>l.jsx(I,{ref:T=>{T&&(b[O]=T)},className:C(P),onPointerDown:v(P),onPointerMove:x,onPointerUp:S,children:s(P)},P.id))}),h&&l.jsx("div",{className:j,style:m})]})}const E6=({pages:e,commandItems:t,rename:n,setRename:s,editor:r})=>{if(!r.Pages.move)return e.map(c=>l.jsx(I1,{page:c,commandItems:t,rename:n,setRename:s},c.getId()));const o=(c,u)=>{r.Pages.move(c.entity,{at:u})},i=c=>l.jsx(I1,{page:c.entity,commandItems:t,rename:n,setRename:s},c.id),a=e.map(c=>({id:c.getId(),entity:c}));return l.jsx(C6,{items:a,direction:Bx.vertical,onDrop:o,renderItem:i})},P6=({items:e,editor:t,sdkPageConfig:n})=>{const s=n==null?void 0:n.commandItems;return s===!1?[]:Xe(s)?s({items:e,editor:t}):s||e},Nd="gs-panel-page-manager",zx=oe(function({pages:t,select:n,add:s,remove:r,header:o,resizable:i={bottom:!0},height:a=200}){const c=ge(),u=ks(),d=je(),{sdkPagesConfig:p}=c,g=c.editor,[h,m]=f.useState(),b=_=>d.t(`pageManager.${_}`),v=p==null?void 0:p.add,x=p==null?void 0:p.duplicate,y=p==null?void 0:p.remove,S=_=>{po(_);const N=M=>{const H=t.length+1;return s({name:`${b("page")} ${H}`,component:`<div>${b("newPage")} ${H}</div>`,...M},{select:!0})};if(v)return v({event:_,editor:g,rename:m,addPage:N});const V=N();V&&m(V)},w=({page:_})=>{if(y)return y({editor:g,page:_});u.confirm({title:b("deletePage"),content:b("confirmDelete"),confirmButton:{variant:"danger",children:b("deletePage")},onConfirm:()=>{const N=t.indexOf(_),V=t[N+1]||t[0];n(V),r(_)}})},j=({page:_})=>{if(x)return x({editor:g,page:_,rename:m});const N=_.getMainComponent(),V=s({name:`${_.getName()} (${b("copy")})`,component:N.clone()},{select:!0});V&&m(V)},C=[{id:"rename",label:b("rename"),icon:G.pencil,cmd:({page:_})=>m(_)},x!==!1&&{id:"duplicate",label:b("duplicate"),icon:G.contentCopy,cmd:j},t.length>1&&y!==!1&&{id:"remove",label:b("delete"),icon:G.delete,cmd:w}].filter(Boolean),P=P6({items:C,editor:g,sdkPageConfig:p}),O=Ax(o,{collapsible:!0,label:b("pages"),icon:G.textBoxMultiple}),T=i?i===!0?{top:!0,right:!0,bottom:!0,left:!0}:i:void 0,E=l.jsx(E6,{pages:t,commandItems:P,rename:h,setRename:m,editor:g}),A=T?l.jsx(Ja,{className:W([`${Nd}__content`,"text-sm overflow-auto",re.bt,F.br]),height:a,...T,children:E}):E;return l.jsx(Eo,{classNameWrap:Nd,className:W(`${Nd}__header`,Me.xy,o===!1&&"gs-utl-hidden"),disabled:O&&O.collapsible===!1,handler:l.jsxs(R,{space:"s",items:"center",children:[!!O.icon&&l.jsx(I,{children:l.jsx(se,{icon:O.icon,size:ae.s})}),l.jsx(I,{grow:!0,children:O.label}),v!==!1&&l.jsx(It,{title:b("add"),children:l.jsx(R,{onClick:S,className:W("cursor-pointer"),children:l.jsx(se,{icon:G.plus,size:ae.s})})})]}),open:O?O.collapsed!==!0:!0,children:A})}),$g=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-page-manager-after"),n),ref:r,...s,children:t})}),Ig=f.forwardRef(function({children:t,className:n,...s},r){return l.jsx("div",{className:L(X("gs-page-manager-before"),n),ref:r,...s,children:t})}),T6="gs-panel-pages",Ux=f.memo(oe(function({className:t,header:n,height:s,resizable:r,...o}){const i=ge().sdkProps.children;return l.jsx(An,{className:L(T6,t),...o,children:l.jsx(rg,{children:a=>l.jsxs(l.Fragment,{children:[ln(i,Ig),l.jsx(zx,{header:n,height:s,resizable:r,...a}),ln(i,$g)]})})})})),O6="gs-panel-pages-layers",_6=f.memo(oe(function({className:t,panelPagesProps:n,panelLayersProps:s,...r}){const{showPages:o}=ge(),i=je(),{className:a,...c}=n||{},u=Ax(s==null?void 0:s.header,{icon:G.layers,collapsible:!1,label:i.t("layerManager.layers"),className:L(re.bb,F.br)});return l.jsxs(is,{className:L(O6,"gs-utl-flex gs-utl-flex-col gs-utl-h-full",t),...r,children:[o&&l.jsx(Ux,{className:L(a,re.bb,F.br),...c}),l.jsx(Vx,{...s,header:u})]})})),A6="gs-trait-custom",M6=oe(function(t){const{trait:n,editor:s,value:r,disabled:o,labelAs:i,className:a}=t,[,c]=f.useState(0),u=f.useRef(null),d=n.get("component"),p=n.get("render"),g=n.target,h=u.current;if(f.useEffect(()=>{if(g){let v=()=>{},x=()=>{};const y=()=>{x(),c(S=>++S)};if(g.on("change",y),!d&&p&&h){const S=C=>h.appendChild(C),w=C=>h.removeChild(C),j=p({editor:s,component:g,trait:n,addEl:S,removeEl:w,onUpdate:C=>{x=C}});j instanceof HTMLElement?(S(j),v=()=>w(j)):Xe(j)&&(v=()=>j())}return()=>{g.off("change",y),v()}}},[g,h,r]),!g)return null;const m=$r({...t,className:L(A6,a)}),b={trait:n,component:g,editor:s,value:r,disabled:o};return l.jsxs("div",{...m,children:[l.jsx(os,{...t,as:i}),l.jsx("div",{className:L(o&&"gs-utl-pointer-events-none opacity-50"),children:d?l.jsx(d,{...b}):p?l.jsx("div",{ref:u}):null})]})});function Wx({className:e,options:t,value:n,name:s,label:r,border:o,hideCaret:i,size:a="s",autoFocus:c,open:u,allowNew:d,onChange:p,onBlur:g,placeholder:h}){const[m,b]=f.useState(null),[v,x]=f.useState(null),{styles:y,attributes:S}=fi(m,v,Kf),[w,j]=f.useState(""),C=Ba(),P=w===""?t:t.filter(V=>V.label.toLowerCase().includes(w.toLowerCase())),O=V=>j(V.target.value),T=V=>V==null?void 0:V.label,E=d&&w.length>0&&!P.some(V=>V.label===w),A=Xe(d)?d(w):d,_={minWidth:`${m==null?void 0:m.offsetWidth}px`,maxHeight:200},N=()=>g==null?void 0:g();return l.jsxs("div",{className:W("w-full",e),children:[!!r&&l.jsx(Pr,{size:a,children:r}),l.jsxs(_o,{value:n,onChange:p,name:s,nullable:!0,children:[l.jsx(Dx,{size:a,ref:b,border:o,children:l.jsxs(R,{nowrap:!0,children:[l.jsx(_o.Input,{autoFocus:c,className:C,displayValue:T,onChange:O,onBlur:N,placeholder:h}),!i&&l.jsx(_o.Button,{children:l.jsx(se,{icon:G.chevronDown,size:ae.sx})})]})}),l.jsx(_o.Options,{static:u,className:b0,ref:x,style:y.popper,...S.popper,children:l.jsxs(fn,{className:W("h-full"),padding:!1,style:_,children:[E&&l.jsx(_o.Option,{value:{id:null,label:w},children:({active:V})=>l.jsx(Bh,{option:{id:null,label:A},active:V,selected:n})}),!E&&P.length===0&&l.jsx("div",{className:W(Me.xy),children:"No items found"}),P.map(V=>l.jsx(_o.Option,{value:V,children:({active:M})=>l.jsx(Bh,{option:V,active:M,selected:n})},V.id))]})})]})]})}const L6=(e,t)=>{const n=`${eu}${t}`,s=e.get(n,{skipResolve:!0});return s?Gx(s):e.get(n)||""};function Gx(e){return`${e.collectionId}.${e.variableType}.${e.path}`}const N6=({page:e,component:t})=>{const{DataSources:n,I18n:s}=e.em,r=["prevItem","currentItem","nextItem"],o=tu(e)||"",i=Object.values((t==null?void 0:t.collectionsStateMap)||{}).map(u=>{const d=u;return r.map(p=>{if(d!=null&&d[p]){const{collectionId:g}=d,h=s.t(`dataSources.collections.${g}`)||g,m=s.t(`dataSources.variableTypes.${p}`)||p,b={collectionId:g,path:"id",type:n.dataComponentTypes.variable,variableType:p};return{id:Gx(b),label:`${h} > ${m}`,dataVariable:b}}}).filter(Boolean)}).flat().filter(Boolean),a=n.get(o),c=a==null?void 0:a.getRecords().map(u=>({id:u.id,label:u.get("title")||u.get("name")||u.id}));return[...i,...c]},Kx="#",Zl="mailto:",kd="subject=",Fp="tel:",qx="hrefType",D1="showIdList",H1=(e,t)=>{const n=t==null?void 0:t.get(qx);return n||(e.startsWith(Fp)?"phone":e.startsWith(Zl)?"email":e.startsWith(da)?"pages":e.startsWith(Kx)?"elements":"url")},F1=e=>`${e.getName()} - #${e.getId()}`,k6="gs-trait-href",R6=oe(function(t){const{trait:n,value:s,disabled:r,labelAs:o,className:i}=t,a=n.component,c=ge(),{isSelectingTarget:u,editor:d}=c,[,p]=f.useState(0),[g,h]=f.useState(""),[m,b]=f.useState(""),[v,x]=f.useState(""),[y,S]=f.useState([]),w=je(),j=d==null?void 0:d.Pages.getAll(),C=w.tScoped("traitManager.traits.labels"),P=()=>p(ne=>++ne),O=a.get(D1)??!1,T=H1(s,a),E=T==="pages"?s==null?void 0:s.replace(da,""):"",A=!!E&&(d==null?void 0:d.Pages.get(E)),_=A?nu(A):!1,N=f.useMemo(()=>!_||!A||!d?[]:N6({page:A,component:a}),[d,A,_,a]),V=ne=>{n.setValue(ne)},M=ne=>{a.set({[D1]:ne}),P()},H=ne=>{h(""),b(""),x(""),V(""),a.set({[qx]:ne}),P()},U=ne=>{V(ne),P()},B=(ne,ee)=>{O3(a,"id",(ee==null?void 0:ee.dataVariable)||ne),P()},k=ne=>{ne&&(V(ne.id),P())},D=ne=>{V(`${Fp}${ne}`),x(ne)},$=ne=>{V(`${Zl}${ne}${m?`?${kd}${m}`:""}`),h(ne)},z=ne=>{V(`${Zl}${g}${ne?`?${kd}${ne}`:""}`),b(ne)},J=()=>{c.setSelectingTarget(!u)},Y=ne=>{const ee=ne.replace(Kx,""),K=d==null?void 0:d.Components.componentsById[ee];return{id:ne,label:K?F1(K):ne}};f.useEffect(()=>{var ee;const ne=[];if(O){const K=["path","br","b","u","i","strike"],Z=(ee=d==null?void 0:d.Pages.getSelected())==null?void 0:ee.getMainComponent();Z==null||Z.forEachChild(ie=>{!ie.is("comment")&&!ie.is("textnode")&&!K.includes(ie.get("tagName"))&&ne.push({id:`#${ie.getId()}`,label:F1(ie)})})}S(ne)},[d,O]),f.useEffect(()=>{let ne=()=>{};const ee=()=>{ne(),!(d!=null&&d.em.destroyed)&&(d==null||d.stopCommand(mc))};return u&&(ne=P2(ee),d==null||d.runCommand(mc,{onSelect:K=>V(`#${K.getId()}`)})),ee},[d,u]),f.useEffect(()=>{if(!s)return;switch(H1(s,a)){case"phone":x(s.replace(Fp,""));break;case"email":{const[ee,K=""]=s.replace(Zl,"").split("?");h(ee),b(K.replace(kd,""));break}}},[s]);const Q=$r({className:L(k6,i)});return l.jsxs("div",{...Q,children:[l.jsx(os,{...t,as:o}),l.jsx("div",{className:L(r&&"gs-utl-pointer-events-none opacity-50"),children:l.jsx(ir,{onChange:H,classNamePanel:"gs-utl-p-1",value:T,tabs:[{id:"url",label:l.jsx(se,{icon:G.link,size:ae.s}),content:l.jsx(Je,{placeholder:"eg. https://google.com",value:s,label:"URL",onChange:V,size:"s",type:"url"})},{id:"pages",label:l.jsx(se,{icon:G.textBoxMultiple,size:ae.s}),content:l.jsxs(R,{gap:"s",col:!0,children:[l.jsx(Ee,{size:"s",options:(j||[]).map(ne=>({id:`${da}${ne.getId()}`,icon:C0(ne),label:ne.getName()})),value:s,onChange:U,label:"Page"}),_&&l.jsx(Ee,{size:"s",options:N,value:L6(a,"id"),onChange:B,label:w.t("dataSources.collectionItem")})]})},{id:"elements",label:l.jsx(se,{icon:G.viewDayOutline,size:ae.s}),content:l.jsxs(R,{gap:"s",col:!0,children:[l.jsx(Pr,{size:"s",children:"Element ID"}),l.jsxs(R,{gap:"xs",nowrap:!0,children:[O?l.jsx(Wx,{options:y,onChange:k,value:Y(s),placeholder:w.t("selectList")}):l.jsx(Je,{size:"s",placeholder:"eg. #my-element-in-page",value:s,onChange:V,className:"gs-utl-flex-1"}),l.jsx(vt,{title:w.t("selectTarget"),size:"m2",active:u,onClick:J,className:"gs-utl-h-[30px]",children:l.jsx(se,{icon:G.target,size:ae.sx})})]}),l.jsx(ha,{value:O,onChange:M,label:C("showList")})]})},{id:"email",label:l.jsx(se,{icon:G.email,size:ae.s}),content:l.jsxs(R,{gap:"s",col:!0,children:[l.jsx(Je,{placeholder:"eg. mail@gmail.com",value:g,onChange:$,size:"s",label:"Email",type:"email"}),l.jsx(Je,{placeholder:"eg. My subject",value:m,onChange:z,label:"Subject",size:"s"})]})},{id:"phone",label:l.jsx(se,{icon:G.phone,size:ae.s}),content:l.jsx(Je,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:v,onChange:D})}]})})]})});function $6({trait:e,value:t,disabled:n,label:s,labelAs:r}){const[o,i]=f.useState(),a=e.get("properties"),c=e.get("addItem"),u=e.get("labelItem"),d=t||[],p=d.findIndex(g=>g.id===(o==null?void 0:o.id));return l.jsx(ms,{items:d,selected:p>-1?o:null,select:i,disabled:n,label:s,labelAs:r,add:()=>{const g=d.length+1,h=c?c(g):{id:`opt${g}`,label:`New option ${g}`};e.setValue([...d,h])},move:(g,h)=>{const m=e.getValue().filter(b=>b.id!==g.id);m.splice(h,0,g),e.setValue(m)},remove:g=>{const h=e.getValue().filter(m=>m.id!==g.id);e.setValue(h,{removed:g})},renderItem:g=>u?u(g):g.label,children:l.jsx(R,{space:"m",col:!0,children:!!o&&a.map(g=>{const{name:h,getValue:m}=g,b=g.setValue,v=g.label||h,x=d[p];if(!x)return null;const y=x[h],S=m?m(y):y,w=C=>{const P={...x};x[h]=b?b(C,S):C,e.setValue([...d],{item:x,previous:P}),h==="id"&&i(x)};let j=l.jsx(Je,{label:v,value:S,onChange:w});switch(g.type){case"select":j=l.jsx(Ee,{label:v,options:g.options,value:S,onChange:w})}return l.jsx(f.Fragment,{children:j},h)})})})}const I6="gs-trait-custom-type",V6=oe(function({trait:t,editor:n}){const s=f.useRef(null),r=t.getType(),o=t.target,{Traits:i}=n,a=i.getType(r),c=!!(o&&a);return f.useEffect(()=>{const u=s.current;if(a&&u&&o){const d=new a({model:t,config:i.getConfig(),attributes:t.get("attributes")}),p=d.render().el;return u.appendChild(p),d.listenTo(o,"change",()=>d.postUpdate()),()=>{u.removeChild(p),d.removeView()}}},[o,a,t]),c&&l.jsx("div",{className:I6,ref:s})});function D6(e,t){const n=e.em.getEditor(),s=e.target;let r=!1;t===!0?r=!0:ss(t)&&Xe(t.enable)&&(r=t.enable({trait:e,component:s,editor:n}));const o=e.getValue({skipResolve:!0}),i=s.collectionsStateMap,a=Or(o);return{hasDataResolverValue:a,dataResolverValue:a?e.getValue():void 0,enableDataValue:r,initialDataValue:o,handleDataValueChange:c=>e.setValue(c),handleValueClear:()=>{const c=e.getValue();e.setValue(""),e.setValue(c)},editor:n,additionalSources:i}}const H6=({label:e,buttons:t})=>l.jsxs(R,{items:"center",nowrap:!0,full:!0,children:[l.jsx(I,{grow:!0,children:e}),l.jsx(R,{nowrap:!0,items:"center",justify:"end",gap:"x2s",children:t.map((n,s)=>l.jsx(vt,{...n},s))})]}),Yx=e=>Ss((e||"").replace(/-/g," ")),F6=(e,t)=>({size:"s",tip:e.get("tip"),type:e.getType(),value:e.getValue(),label:e.get("label")!==!1&&Yx(e.getLabel({locale:!0})),placeholder:(t==null?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(n,s)=>e.setValue(n,{partial:s})}),as=(e,t,n)=>{const s=D6(e,n.traitManagerDataConfig),r=_y(s),{hasDataResolverValue:o,dataResolverValue:i}=s,a=F6(e,t);return{...a,value:i??a.value,disabled:o,labelAs:r.length?"span":void 0,label:l.jsx(H6,{label:a.label,buttons:r})}},B1=(e,t,n)=>as(e,t,n),B6=(e,t,n)=>as(e,t,n),z6=(e,t,n)=>{const s=Or(e.getValue({skipResolve:!0})),r=as(e,t,n),o={min:e.get("min"),max:e.get("max"),step:e.get("step"),pan:!s,units:s?[]:e.get("units"),onChange:(i,a)=>{const c=a||isNaN(parseFloat(i))?i:parseFloat(i);e.setValue(c,{partial:a})}};return{...r,...o}},Zx=(e,t,n)=>{const s=e.get("labelToTitle"),r=Or(e.getValue({skipResolve:!0})),o=as(e,t,n),i={options:e.getOptions().map(a=>{const c=a.labelReact||a.name||a.label||a.value;return nt(a)?{id:a,label:a}:{id:a.id||a.value,title:s?c:a.title,icon:a.icon,label:s?"":c}}),onChange:a=>e.setValue(a),emptyState:r&&e.getValue()||void 0,hideCaret:r};return{...o,...i}},U6=(e,t,n)=>{const{options:s,onChange:r}=Zx(e,t,n),o={options:s,onChange:r};return{...as(e,t,n),...o}},W6=(e,t,n)=>{const s=e.get("typeProps")||{},r=Or(e.getValue({skipResolve:!0}));return{...as(e,t,n),isContain:!0,hideButton:r,btnLabel:e.get("text"),onOpen(){if(r)return;const i=t==null?void 0:t.Assets;i==null||i.open({select(a){e.setValue(a.getSrc()),i.close()}})},...s}},G6=e=>({children:Yx(e.getLabel()||e.get("text")||e.get("labelButton")),onClick:()=>{const t=e.em.Editor,n=e.get("command");nt(n)?t.runCommand(n):n==null||n(t,e)},full:!0}),K6=(e,t,n)=>{const s=as(e,t,n),o={value:!!(s.disabled?s.value:e.getValue({useType:!0})),onChange:i=>e.setValue(i)};return{...s,...o}},q6=(e,t,n)=>{const s=as(e,t,n),r=e.get("typeProps")||{},o=Or(e.getValue({skipResolve:!0}));return{language:"css",...r,...s,formatOnMount:!o,onChange:i=>e.setValue(i)}},Y6=(e,t,n)=>({...as(e,t,n),trait:e}),Z6=(e,t,n)=>({...as(e,t,n),trait:e}),X6=(e,t,n)=>({...as(e,t,n),trait:e,editor:t});function J6(e,t,n={}){var i;const s=e.get("visible"),r=e.getType(),o={traitManagerDataConfig:n.traitManagerDataConfig};if(Xe(s)&&s({component:e.target,trait:e})===!1)return null;switch(r){case"text":return l.jsx(Je,{...B1(e,t,o)});case"select":return l.jsx(Ee,{...Zx(e,t,o)});case"number":return l.jsx(Ae,{...z6(e,t,o)});case"color":return l.jsx(sr,{...B6(e,t,o)});case"checkbox":return l.jsx(ha,{...K6(e,t,o)});case"button":return l.jsx(ze,{...G6(e)});case"radio":return l.jsx(qt,{...U6(e,t,o)});case"code":return l.jsx(nr,{...q6(e,t,o),...n},((i=t==null?void 0:t.getSelected())==null?void 0:i.getId())||"");case"image":case"file":return l.jsx(ma,{...W6(e,t,o)});case"stack":return l.jsx($6,{...Y6(e,t,o)});case"href":return l.jsx(R6,{...Z6(e,t,o)});case"custom":return l.jsx(M6,{...X6(e,t,o)});default:return!!t.Traits.getType(r)?l.jsx(V6,{editor:t,trait:e}):l.jsx(Je,{...B1(e,t,o)})}}const Bp="gs-trait-manager",z1=({trait:e,isDarkTheme:t,traitManagerDataConfig:n})=>l.jsx(I,{className:W(`${Bp}-field gs-utl-mb-2 gs-utl-w-full`),children:J6(e,e.em.getEditor(),{isDarkTheme:t,traitManagerDataConfig:n})});function Q6({traits:e,className:t}){var d,p;const n=_n(),{isDarkTheme:s}=gn(),o=(d=ge().sdkOptions.dataSources)==null?void 0:d.traitManager,i=n.Traits.getTraitsByCategory(e),a=(p=i.find(g=>!g.category))==null?void 0:p.items,c=i.filter(g=>g.category),u=W("gs-utl-text-center");return l.jsx(R,{className:W(Bp,t),col:!0,children:n.getSelected()?e.length?l.jsxs(l.Fragment,{children:[a==null?void 0:a.map(g=>l.jsx(z1,{trait:g,isDarkTheme:s,traitManagerDataConfig:o},g.id)),c.map(({category:g,items:h},m)=>l.jsx(Eo,{open:!!(g!=null&&g.get("open")),onChange:({open:b})=>g==null?void 0:g.set({open:b}),handler:g==null?void 0:g.getLabel(),handlerIcon:g==null?void 0:g.get("icon"),classNameContent:"gs-utl-p-2",classNameWrap:`${Bp}-category -gs-utl-mx-2`,className:b=>W(uf.itemList({index:m+(a?1:0),open:b,length:c.length})),children:h.map(b=>l.jsx(z1,{trait:b,isDarkTheme:s,traitManagerDataConfig:o},b.id))},g==null?void 0:g.id))]}):l.jsx(I,{className:u,children:"No properties available"}):l.jsx(I,{className:u,children:n.t("traitManager.empty")})})}const zp=oe(Q6),e7="gs-panel-properties",t7=f.memo(oe(function({className:t,...n}){return l.jsx(is,{className:L(e7,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-auto"),...n,children:l.jsx(jp,{children:s=>l.jsx(zp,{...s})})})})),n7=async({html:e="",css:t="",el:n})=>{const s=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`,r={};if(document.body.attachShadow){const o=n.shadowRoot||n.attachShadow({mode:"open"});o.innerHTML=s}return r},s7=oe(function({rule:t,onSelect:n,onRemove:s,className:r}){const o=f.useRef(null),a=ge().editor,c=je(),u=t.getDevice(),d=t.getState(),{isDarkTheme:p}=gn(),[g,h]=f.useState(t.toCSS({allowEmpty:!0})),[m,b]=f.useState(g),v=t.selectorsToString(),x=()=>{a.select(),setTimeout(()=>a.Selectors.select(t)),n==null||n()},y=()=>{a.Css.remove(t),s==null||s()},S=()=>{if(m){const w=a.Parser.parseCss(m)[0];w&&(t.setStyle(w.style),h(m))}};return f.useEffect(()=>{if(o.current){const w=o.current;n7({el:w,html:'<div class="prv-rule">Preview</div>',css:`
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${g}
        `})}},[o,g]),l.jsx(fn,{padding:!1,className:X("overflow-hidden max-w-full group",r),children:l.jsxs(R,{col:!0,space:"xs",children:[l.jsx(R,{className:X("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:l.jsx("div",{ref:o,className:X("relative flex items-center justify-center")})}),l.jsxs(R,{className:X("gjs-p-1 w-full"),col:!0,space:"s",children:[l.jsxs(R,{nowrap:!0,items:"center",space:"xs",full:!0,children:[l.jsx(I,{grow:!0,children:l.jsx("pre",{className:X("text-xs bg-white/10",F.txt,re.rnd,Me.xyS),children:v})}),!!u&&u.getWidthMedia()&&l.jsx(I,{children:l.jsx(It,{title:l.jsxs(l.Fragment,{children:[c.t("deviceManager.device"),": ",l.jsx("b",{children:u.getName()})]}),children:l.jsx(se,{icon:G.cellphoneLink,size:ae.sx})})}),!!d&&l.jsx(I,{children:l.jsx(It,{title:l.jsxs(l.Fragment,{children:[c.t("selectorManager.state"),": ",l.jsx("b",{children:d.getLabel()})]}),children:l.jsx(se,{icon:G.flare,size:ae.sx})})})]}),l.jsxs(R,{nowrap:!0,className:X(Le.txtEllips),space:"s",children:[l.jsx(I,{className:X("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:l.jsx(ze,{onClick:x,className:X("text-sm gjs-mr-auto"),size:"m2",full:!0,children:c.t("select")})}),l.jsx(Ns,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:l.jsx(vt,{title:c.t("selectorManager.showCSS"),children:l.jsx(se,{icon:G.codeBraces,size:ae.sx})}),children:({close:w})=>l.jsxs(R,{className:X("relative w-80 h-48"),col:!0,children:[l.jsx(I,{grow:!0,children:l.jsx(nr,{defaultValue:ig(g),onChange:b,language:"css",padding:5,isDarkTheme:p,clean:!0})}),l.jsx(ze,{className:X("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{S(),w()},children:c.t("update")})]})}),l.jsx(mu,{onConfirm:y,className:X("w-48"),children:l.jsx(vt,{title:c.t("selectorManager.deleteStyle"),children:l.jsx(se,{icon:G.delete,size:ae.sx})})})]})]})]},t.cid)})}),r7=oe(function(){const[t]=yu(),n=ks(),s=je(),[r,o]=f.useState(""),[i,a]=f.useState(""),u=ge().editor,[d,p]=f.useState(u.Css.getRules("")),g=u.Devices.getDevices().map(b=>({id:b.id,label:b.getName()})),h=d.filter(b=>{var v;return!(r&&!Ho(b.selectorsToString(),r)||i&&((v=b.getDevice())==null?void 0:v.id)!==i)}),m=()=>p(u.Css.getRules(""));return l.jsxs(R,{col:!0,space:"m",children:[l.jsxs(R,{items:"center",space:"m",children:[l.jsx(I,{children:l.jsx(Je,{size:"s",type:"search",value:r,onInput:o,placeholder:`${s.t("selectorManager.searchStyle")}...`})}),l.jsx(I,{children:l.jsx(Ee,{includeEmpty:!0,size:"s",value:i,options:g,onChange:a,emptyState:s.t("deviceManager.allDevices"),handlerSelected:b=>l.jsxs(R,{space:"s",items:"center",children:[l.jsx(se,{icon:G.cellphoneLink,size:ae.sx}),l.jsx("span",{children:b.label})]})})})]}),l.jsx(I,{className:X("gs-utl-h-[75vh] w-full overflow-auto"),children:h.length?l.jsx(Xa,{data:h,listClassName:X("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(b,v)=>l.jsx(s7,{rule:v,onRemove:m,onSelect:n.close},v.cid)},t):l.jsx(R,{justify:"center",children:s.t("modals.styleCatalog.noStyles")})})]})});function Xx({className:e,value:t,active:n,unstyled:s,activable:r,onChange:o,onActive:i,...a}){const[c,u]=f.useState(n);f.useEffect(()=>{u(n)},[n]);const d=g=>{i==null||i(g),u(g)},p=g=>{o(g),d(!1)};return l.jsx("div",{className:W("truncate",e),...a,onDoubleClick:()=>r&&d(!0),children:c?l.jsx(Ng,{className:W(s&&Le.noFocusOut),value:t,onChange:p}):l.jsx(l.Fragment,{children:t})})}const o7=oe(function({selector:t,className:n,removable:s,toggleable:r}){const o=je(),i=ge(),[a,c]=f.useState(),[u,d]=f.useState(t.getActive()),p=i.editor,{Selectors:g}=p,h=t.getLabel(),m=l.jsx(se,{icon:G.dotsVertical,size:ae.sx}),b=()=>{g.removeSelected(t)},v=C=>{a&&g.rename(a,C),c(void 0)},x=()=>{g.duplicateSelected(t)},y=()=>{const C=!t.getActive();d(C),t.setActive(C)},w=[{id:"rename",label:o.t("rename"),action:()=>c(t)},{id:"duplicate",label:o.t("duplicate"),action:x},s&&{id:"delete",label:o.t("delete"),action:b},r&&{id:"active",label:o.t(u?"disable":"enable"),action:y}].filter(Boolean),j=(C,P)=>O=>{C(),Xe(P)&&P(O)};return l.jsx(Tt,{className:X(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",F.sel,n]),s:"s",children:l.jsxs(R,{items:"center",children:[l.jsx(I,{className:X("gjs-mr-4",!a&&!u&&"opacity-50 line-through"),children:l.jsx(Xx,{value:h,onChange:v,active:!!a,unstyled:!0})}),l.jsx(R,{className:X("absolute h-full right-0 transition-opacity",F.sel,F.selBr,re.bl),children:l.jsx(Ns,{handler:m,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:C})=>w.map(P=>l.jsx(Fa,{className:X(F.txt),label:P.label,action:j(C,P.action)},P.id))})})]})})}),i7=e=>(e==null?void 0:e.get("groups"))||[],a7=/^\.[a-zA-Z_][\w-]*$/;function l7(e,t={}){const n=e.Css.getAll().filter(s=>i7(s).some(r=>r.startsWith(jo.globalStyles)));return t.withSingleClass?n.filter(s=>a7.test(s.getSelectorsString())):n}const c7=e=>{const{Selectors:t}=e,n=t.getAll({array:!0});return t.getSelectedAll().reduce((o,i)=>{const a=o.indexOf(i);return a>=0&&o.splice(a,1),o},n).filter(o=>o.isClass())},u7=(e,t)=>{const{sdkGlobalStylesConfig:n}=t,{i18nStore:s}=t.store,o=(n!=null&&n.showInClassSelectors?l7(e,{withSingleClass:!0}):[]).map(a=>{const c=a.getSelectorsString().replace(".","");return{id:c,label:`${s.t("globalStyleManager.globalStyles")}: ${c}`}});return[...c7(e).map(a=>({id:a,label:a.getLabel()})),...o]},d7=e=>{var s,r;let t=(s=e==null?void 0:e.selectorsToString)==null?void 0:s.call(e);const n=(r=e==null?void 0:e.getAtRule)==null?void 0:r.call(e);return t&&n&&(t=`${n} {
	${t}
}`),t},Ln="gs-cmp-selector-manager",Rd={},Jx=oe(function(t){var ie,ue,ve;const{selectedState:n,states:s,setState:r,styleCatalog:o,stateSelector:i}=t,a=ge(),[c,u]=f.useState(!1),[d,p]=f.useState([]),[g,h]=f.useState(Rd),{toggleCssPanel:m,isCssPanelActive:b,editor:v,store:x}=ge(),{i18nStore:y,modalStore:S}=x,w=v==null?void 0:v.getSelected(),j=v==null?void 0:v.Styles.getSelected();if(f.useEffect(()=>{if(v&&j&&a){const he=setTimeout(()=>{let ke=Rd;const Ge=w==null?void 0:w.get("selectorManager");w&&Xe(Ge)&&(ke=Ge({editor:v,component:w})),h(ke||Rd),p(u7(v,a))});return()=>clearTimeout(he)}},[w,v,j,a]),!v)return null;const{Selectors:C}=v,P=g.disableClasses,O=g.disableComponent,T=P&&O,E=C.getComponentFirst()&&!O,A=C.getSelectedAll(),_=v.getSelectedAll(),N=s.map(he=>({id:he.getName(),label:he.getLabel()})),V=v.getModel(),M=(ie=j==null?void 0:j.getDevice)==null?void 0:ie.call(j),H=(ue=j==null?void 0:j.getState)==null?void 0:ue.call(j),U=L("gs-utl-overflow-hidden",re.b,re.rnd,F.br),B=L(F.bA),k=L("gs-utl-flex gs-utl-h-full gs-utl-cursor-pointer gs-utl-p-2",re.br,F.br),D=`${F.bgA}`,$=d7(j),z=A.length>0,J=_.length>0,Y=z||J,Q=E&&J||!E&&!z,ne=Q?"Components":"Selectors",ee=he=>y.t(`selectorManager.${he}`),K=y.t("modals.styleCatalog.title"),Z=()=>S.open({title:K,content:l.jsx(r7,{})});return l.jsxs(R,{className:Ln,gap:"s",col:!0,full:!0,children:[l.jsxs(R,{className:L(`${Ln}__head`),items:"center",justify:"between",gap:"m",children:[l.jsxs(R,{className:L(`${Ln}__head-start`),items:"center",gap:"s",children:[l.jsx(I,{className:L(`${Ln}__head-title`),children:ee("selection")}),o!==!1&&l.jsx(I,{className:L(`${Ln}__style-catalog`),children:l.jsx(It,{className:"gs-utl-cursor-pointer",onClick:Z,title:K,children:l.jsx(se,{icon:G.paletteSwatch,size:ae.s})})})]}),!!j&&i!==!1&&!T&&l.jsx(I,{className:`${Ln}__head-end`,children:l.jsx(Ee,{size:"s",value:n,options:N,includeEmpty:!0,onChange:r,emptyState:`- ${ee("state")} -`,className:L(n&&F.bA)})})]}),Y&&!T?l.jsxs(l.Fragment,{children:[!P&&l.jsxs(R,{className:L(`${Ln}__field-selectors`,U,!Q&&B),items:"stretch",gap:"xs",children:[l.jsx(It,{title:ee(z?"applyOnSelector":"noSelectors"),className:L(k,!Q&&D),onClick:()=>z&&C.setComponentFirst(!1),children:l.jsx(R,{className:"gs-utl-h-full",items:"center",children:l.jsx(se,{icon:G.tag,size:ae.sx})})}),l.jsx(I,{grow:!0,children:l.jsx(R,{className:"gs-utl-h-full gs-utl-pr-1",items:"center",children:c?l.jsx(Wx,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:d,allowNew:ee("addNewSelector"),onBlur:()=>setTimeout(()=>u(!1),100),onChange:he=>{he&&(C.addSelected(he.id||he.label),u(!1))}}):l.jsxs(l.Fragment,{children:[J&&l.jsx(vt,{title:ee("addNewSelector"),variant:"out",size:"xs",className:"gs-utl-p-0.5",onClick:()=>u(!0),block:!0,children:l.jsx(se,{icon:G.plus,size:ae.sx})}),A.map(he=>l.jsx(o7,{selector:he,removable:J,toggleable:J&&A.filter(ke=>ke.getActive()||ke===he).length>1},he.toString()))]})})})]}),!O&&l.jsxs(R,{className:L(`${Ln}__field-components`,U,Q&&B),items:"stretch",gap:"xs",children:[l.jsx(It,{title:ee(J?"applyOnComponents":"noComponents"),onClick:()=>J&&C.setComponentFirst(!0),className:L(k,Q&&D),children:l.jsx(R,{className:"gs-utl-h-full",items:"center",children:l.jsx(se,{icon:G.targetVariant,size:ae.sx})})}),l.jsx(I,{grow:!0,className:"gs-utl-py-0.5",children:l.jsx(R,{className:"gs-utl-h-full gs-utl-pr-1",items:"center",children:_.map(he=>l.jsx(Tt,{s:"s",className:L("gs-utl-ml-1 gs-utl-my-0.5 gs-utl-cursor-default",F.cmp),onPointerEnter:()=>V.setHovered(he),onPointerOut:()=>V.setHovered(),label:he.getName()},he.getId()))})})]}),l.jsxs(R,{className:`${Ln}__actions`,gap:"s",items:"center",justify:"between",children:[l.jsx(It,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:ee("selected")}),l.jsx("pre",{className:L("gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",re.rnd,Me.xyS),children:$}),l.jsx("div",{className:"gs-utl-text-xs gs-utl-mt-1.5",children:ee("currentSelection")})]}),children:l.jsx(Tt,{className:L(re.b,re.rnd,F.br),s:"xs",nopad:!0,block:!0,children:l.jsx(se,{icon:G.target,size:ae.sx})})}),l.jsx(I,{className:"gs-utl-text-sm",children:l.jsx(Tt,{className:L(re.b,re.rnd,F.br),s:"xs",nopad:!0,children:l.jsxs(R,{space:"xs",items:"center",nowrap:!0,children:[!!M&&M.getWidthMedia()&&l.jsxs(l.Fragment,{children:[l.jsx(It,{title:l.jsxs(l.Fragment,{children:[ee("device"),": ",l.jsx("b",{children:M.getName()})]}),children:l.jsx(se,{icon:G.cellphoneLink,size:ae.sx})}),l.jsx(I,{className:"gs-utl-opacity-30",children:"|"})]}),l.jsx(It,{title:l.jsxs(l.Fragment,{children:[ee("target"),": ",l.jsx("b",{children:ne}),l.jsxs("span",{className:"gs-utl-text-xs gs-utl-opacity-75",children:[" ",(ve=j==null?void 0:j.selectorsToString)==null?void 0:ve.call(j,{skipState:1})]})]}),children:l.jsx(se,{icon:Q?G.targetVariant:G.tag,size:ae.sx})}),!!H&&l.jsxs(l.Fragment,{children:[l.jsx(I,{className:"gs-utl-opacity-30",children:"|"}),l.jsx(It,{title:l.jsxs(l.Fragment,{children:[ee("state"),": ",l.jsx("b",{children:H.getLabel()})]}),children:l.jsx(se,{icon:G.flare,size:ae.sx})})]})]})})}),l.jsx(vt,{title:y.t("toggleCss"),onClick:m,active:b,size:"s",children:l.jsx(se,{icon:G.codeBraces,size:ae.sx})})]})]}):l.jsxs(R,{className:L(`${Ln}__empty-state`,"gs-utl-text-sm gs-utl-leading-6 gs-utl-my-4"),col:!0,children:[l.jsx(I,{className:`${Ln}__empty-state-title`,children:ee("noSelecton")}),l.jsxs("ul",{className:L(`${Ln}__empty-state-list`,"gs-utl-list-disc gs-utl-pl-5 gs-utl-mt-2"),children:[l.jsx("li",{children:ee("selectFromCanvas")}),l.jsx("li",{children:ee("selectFromList")})]})]})]})}),p7="gs-panel-selectors",f7=f.memo(oe(function({className:t,styleCatalog:n,stateSelector:s,...r}){return l.jsx(is,{className:L(p7,t),...r,children:l.jsx(og,{children:o=>l.jsx(Jx,{...o,styleCatalog:n,stateSelector:s})})})})),Qx=f.forwardRef(function({children:t,className:n,content:s,...r},o){return l.jsx("div",{className:L(X("gs-design-manager-tab"),n),ref:o,...r,children:t})}),U1="gs-cmp-sidebar-right",W1="gs-cmp-traits-provider",$d=L("gs-utl-overflow-y-auto gs-utl-overflow-x-hidden gs-utl-max-w-full");function g7(){var y,S,w;const{isCssPanelActive:e,selectedDesignerTab:t,showSelectors:n,setSelectedDesignerTab:s,sdkProps:r,sdkOptions:o,isProjectTypeEmail:i}=ge(),a=je(),c=L(e&&"gs-utl-hidden"),d=(((y=ln(r.children,Qx))==null?void 0:y.filter(Boolean))||[]).map(({props:j},C)=>({id:j.id,label:j.label,content:l.jsx(Co,{children:j.children}),order:j.order??2+C+1})),p=(S=o.designPanel)==null?void 0:S.propsInStyles,g=(w=o.designPanel)==null?void 0:w.hideTabs,h=p===!0||i&&p!==!1,m=g===!0||i&&g!==!1,b=a.t("traitManager.panelLabel"),x=[{id:"style",label:a.t("styleManager.panelLabel"),order:1,content:l.jsxs(R,{col:!0,full:!0,children:[!!n&&l.jsx(I,{className:L("gs-cmp-selectors-provider",Me.s,re.bb,F.br),children:l.jsx(og,{children:j=>l.jsx(Jx,{...j})})}),h&&l.jsx(I,{className:L(W1,$d),children:l.jsx(Eo,{handler:b,className:Xy(!1),sticky:!0,open:!0,children:l.jsx(jp,{children:j=>l.jsx(zp,{...j,className:L("gs-utl-p-2",F.br,re.bb)})})})}),l.jsx(I,{className:L("gs-cmp-styles-provider",$d),grow:!0,children:l.jsx(hy,{children:j=>l.jsxs(l.Fragment,{children:[e&&l.jsx(my,{}),l.jsx(ex,{className:c,...j})]})})})]})},!h&&{id:"props",label:b,order:2,content:l.jsx(R,{className:W1,col:!0,full:!0,children:l.jsx(I,{className:L(Me.s,$d),children:l.jsx(jp,{children:j=>l.jsx(zp,{...j})})})})},...d].filter(Boolean).sort((j,C)=>j.order-C.order);return l.jsx(R,{className:U1,col:!0,full:!0,nowrap:!0,children:l.jsx(ir,{value:t,onChange:s,tabs:x,className:L(`${U1}__tabs`,m&&"gs-utl-hidden")})})}const ew=oe(g7),h7="gs-panel-sidebar-tabs",m7=f.memo(oe(function({className:t,...n}){return l.jsx(is,{className:L(h7,"gs-utl-h-full",t),...n,children:l.jsx(ew,{})})})),b7="gs-panel-styles",v7=f.memo(oe(function({className:t,...n}){const{isCssPanelActive:s}=ge(),r=L(s&&" gs-utl-hidden");return l.jsx(is,{className:L(b7,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-auto"),...n,children:l.jsx(hy,{children:o=>l.jsxs(l.Fragment,{children:[s&&l.jsx(my,{}),l.jsx(ex,{className:r,...o})]})})})})),y7="gs-panel-templates",x7=f.memo(oe(function({className:t,templates:n,content:s,onSelect:r,...o}){const i=$0(),{projectTypeFilter:a}=i;let c=n??i.templates;return c=c==null?void 0:c.map(u=>({...u,isTemplate:!0})),f.useEffect(()=>{n||i.loadTemplates()},[n]),l.jsx(is,{className:L(y7,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:L("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...o,children:l.jsx(R,{className:X("relative gs-utl-h-full"),nowrap:!0,col:!0,space:"m",children:l.jsx(R,{className:X("gs-utl-h-[75vh] gs-utl-flex-grow"),nowrap:!0,col:!0,space:"m",children:l.jsx(Ex,{templates:c,projectType:Ce[a],content:s,onSelect:r,skipProjectNamePopover:!0})})})})})),w7="gs-cmp-row",S7=f.memo(function({className:t,children:n,full:s,...r}){return l.jsx(An,{className:L(w7,F.bg,"gs-utl-flex",s&&"gs-utl-w-full",t),...r,children:Ot(n)})}),j7="gs-cmp-select-field",C7=f.memo(oe(function({className:t,style:n,label:s,name:r,value:o,options:i,size:a,onChange:c,required:u,disabled:d,emptyState:p,editorEvents:g}){const{editor:h}=ge(),[m,b]=f.useState(()=>({required:u,disabled:d,style:n,className:t,label:s,name:r,value:o,options:i,size:a,emptyState:p})),v=x=>{c({value:x,editor:h,state:m,setState:y=>b(S=>({...S,...y}))})};return wi({editor:h,editorEvents:g,localState:m,setLocalState:b}),l.jsx(Ee,{classNameContainer:L(j7,m.className),style:m.style,label:m.label,name:m.name,value:m.value??"",options:m.options??[],size:m.size,required:m.required,disabled:m.disabled,emptyState:m.emptyState,onChange:v})})),E7="gs-cmp-select-field",P7=f.memo(oe(function({className:t,style:n,label:s,name:r,value:o,size:i,onChange:a,required:c,disabled:u,emptyState:d,editorEvents:p}){const{editor:g}=ge(),[h,m]=f.useState(()=>({required:c,disabled:u,style:n,className:t,label:s,name:r,value:o,size:i,emptyState:d})),b=v=>{a({value:v,editor:g,state:h,setState:x=>m(y=>({...y,...x}))})};return wi({editor:g,editorEvents:p,localState:h,setLocalState:m}),l.jsx(du,{classNameContainer:L(E7,h.className),style:h.style,label:h.label,name:h.name,value:h.value??"",size:h.size,required:h.required,disabled:h.disabled,emptyState:h.emptyState,onChange:b})})),T7="gs-sidebar-bottom",O7=f.memo(oe(function({children:t,className:n,style:s,height:r,...o}){const{isInPreview:i,isBottomSidebarOpen:a}=ge(),c=r??35,u=f.useMemo(()=>({height:c,marginBottom:i||!a?`-${c}px`:0,...s}),[i,a,s]);return l.jsx(An,{className:L(T7,"gs-utl-flex gs-utl-transition-spacing",re.bt,F.br,n),style:u,...o,children:t?Ot(t):void 0})})),_7=oe(function(t){var S;const{leftSidebarSize:n,setLeftSidebarSize:s,editor:r,isInPreview:o,isLeftSidebarOpen:i,sdkProps:a,showPages:c}=ge(),u=a.children,d=((S=t.style)==null?void 0:S.width)??t.width,p=d??n,g=t.resizable===!1,h=L(t.className,"gs-utl-h-full gs-utl-transition-spacing",re.br,F.br),m=L("gs-utl-w-full",re.bb,F.br),b=L("gs-utl-w-full gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),v=f.useMemo(()=>({marginLeft:o||!i?`-${p}px`:0,...t.style}),[p,o,i,t.style]),x=()=>r==null?void 0:r.refresh(),y=(w,j,C)=>{s(C.getBoundingClientRect().width)};return l.jsx(Ja,{className:h,enable:g?!1:void 0,right:!g,style:v,height:"100%",width:p,minWidth:d??200,maxWidth:d??400,onResize:x,onResizeStop:y,children:t.children??l.jsxs(R,{full:!0,col:!0,children:[c&&l.jsx(I,{className:m,children:l.jsx(rg,{children:w=>l.jsxs(l.Fragment,{children:[ln(u,Ig),l.jsx(zx,{...w}),ln(u,$g)]})})}),l.jsx(I,{className:b,grow:!0,children:l.jsx(sg,{children:w=>l.jsxs(l.Fragment,{children:[ln(u,Rg),l.jsx(Ix,{...w}),ln(u,kg)]})})})]})})}),A7="gs-sidebar-left",M7=f.memo(oe(function({children:t,width:n,resizable:s,...r}){return l.jsx(_7,{className:L(A7,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",wu(r)),width:n,resizable:s,style:Su(r),children:t?Ot(t):void 0})})),L7=oe(function(t){var m;const{rightSidebarSize:n,setRightSidebarSize:s,editor:r,isInPreview:o,isRightSidebarOpen:i}=ge(),a=((m=t.style)==null?void 0:m.width)??t.width,c=a??n,u=t.resizable===!1,d=L(t.className,"gs-utl-h-full gs-utl-transition-spacing",re.bl,F.br),p=f.useMemo(()=>({marginRight:o||!i?`-${c}px`:0,...t.style}),[c,o,i,t.style]),g=()=>r==null?void 0:r.refresh(),h=(b,v,x)=>{s(x.getBoundingClientRect().width)};return l.jsx(Ja,{className:d,enable:u?!1:void 0,left:!u,style:p,height:"100%",width:c,minWidth:a??200,maxWidth:a??400,onResize:g,onResizeStop:h,children:t.children??l.jsx(ew,{})})}),N7="gs-sidebar-right",k7=f.memo(oe(function({children:t,resizable:n,...s}){return l.jsx(L7,{className:L(N7,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",wu(s)),resizable:n,style:Su(s),children:t?Ot(t):void 0})})),R7=oe(function({className:t,variant:n,value:s,tabs:r,style:o,editorEvents:i,onChange:a}){const{editor:c}=ge(),[u,d]=f.useState(()=>({tabs:r,style:o,value:s,variant:n,className:t})),p=f.useMemo(()=>{var h;return((h=u.tabs)==null?void 0:h.map(m=>({...m,content:Ot(m.children)})))||[]},[u.tabs]),g=h=>{a&&c?a({value:h,editor:c,state:u,setState:m=>d(b=>({...b,...m}))}):d(m=>({...m,value:h}))};return wi({editor:c,editorEvents:i,localState:u,setLocalState:d}),l.jsx(ir,{tabs:p,className:L(u.className),variant:u.variant,value:u.value,style:u.style,onChange:g})}),$7="gs-cmp-text",I7=f.memo(function({className:t,content:n,children:s,...r}){return l.jsx(An,{className:L($7,t),...r,children:s||n})}),V7="gs-cmp-virtual-list",D7=oe(function({id:t,items:n,itemLayout:s,itemsPerRow:r=12,className:o,style:i,htmlAttrs:a}){const[c,u]=f.useState(0),{editor:d,transitionTime:p}=ge(),g=Ag(r);return f.useEffect(()=>{const h=setTimeout(()=>u(m=>++m),p);return()=>clearTimeout(h)},[p]),!!c&&l.jsx(Xa,{...a,data:n,className:L(V7,"gs-utl-h-full",o),listClassName:`gs-utl-grid gs-utl-gap-2 gs-utl-pr-2 ${g}`,style:i,itemContent:(h,m)=>l.jsx(f.Fragment,{children:s?Ot(s({item:m,editor:d})):l.jsx("pre",{children:JSON.stringify(m,void 0,2)})},m.id??h)},t)});var Up=(e=>(e.text="text",e.row="row",e.column="column",e.button="button",e.buttonGroupField="buttonGroupField",e.menuList="menuList",e.inputField="inputField",e.codeField="codeField",e.selectField="selectField",e.selectFontField="selectFontField",e.tabs="tabs",e.devices="devices",e.custom="custom",e.panelLayers="panelLayers",e.panelPages="panelPages",e.panelSelectors="panelSelectors",e.panelStyles="panelStyles",e.panelProperties="panelProperties",e.panelSidebarTabs="panelSidebarTabs",e.panelPagesLayers="panelPagesLayers",e.panelBlocks="panelBlocks",e.panelPageSettings="panelPageSettings",e.panelGlobalStyles="panelGlobalStyles",e.panelAssets="panelAssets",e.panelTemplates="panelTemplates",e.sidebarLeft="sidebarLeft",e.sidebarRight="sidebarRight",e.sidebarTop="sidebarTop",e.sidebarBottom="sidebarBottom",e.canvas="canvas",e.canvasSidebarTop="canvasSidebarTop",e.virtualList="virtualList",e.dataPathField="dataPathField",e.panelDataVariablePicker="panelDataVariablePicker",e.panelDataConditionPicker="panelDataConditionPicker",e.panelDataCollectionPicker="panelDataCollectionPicker",e.panelDataValuePicker="panelDataValuePicker",e))(Up||{});const H7={array:G.codeBrackets,object:G.codeBraces,string:G.codeString,number:G.number,boolean:G.toggleSwitchOffOutline,default:G.null},F7=e=>Array.isArray(e)?"array":e===null?"default":typeof e,B7=oe(({name:e,value:t,isActive:n,isCollection:s,onClick:r,className:o})=>{const i=je().tScoped("dataSources"),a=F7(t),c=typeof t=="object"&&t!==null,u=L(o,"gs-utl-text-left",F.hBgH,re.b,re.rnd,Me.xy,n?[re.bA,F.tA]:[F.br,F.txtHighEmphasisH]),d=p=>typeof p=="object"?Array.isArray(p)?i("items",{params:{length:p.length}}):p?i("properties",{params:{length:Object.keys(p).length}}):"null":String(p);return l.jsx(ze,{onClick:r,border:!1,className:u,full:!0,children:l.jsxs(R,{items:"center",justify:"between",gap:"s",nowrap:!0,children:[l.jsxs(R,{className:"gs-utl-flex-grow gs-utl-overflow-hidden",gap:"s",col:!0,children:[l.jsxs(R,{className:"gs-utl-overflow-hidden",items:"center",gap:"s",full:!0,nowrap:!0,children:[l.jsx(se,{icon:H7[a],size:ae.s}),l.jsx(I,{className:L(Le.txtEllips,s&&"gs-utl-font-bold"),children:e})]}),l.jsx(I,{className:L("gs-utl-w-full",Le.txtEllips,Le.disabled),children:d(t)})]}),c&&l.jsx(I,{children:l.jsx(se,{size:ae.sx,icon:G.arrowRight,className:L(n&&"gs-utl-rotate-180","gs-utl-transition-transform gs-utl-duration-200")})})]})})}),z7="gs-cmp-data-path-explorer",G1=oe(function({additionalSources:t,onChange:n,path:s=""}){const{editor:r}=ge(),o=f.useRef({}),[i,a]=f.useState(()=>s.split(".")),[c,u]=f.useState([]),d=f.useMemo(()=>({...r?rL(r):{},...t}),[r,t]),p=(b,v)=>{let x=o.current;for(let y=0;y<v&&y<b.length;y++){const S=b[y];if(x&&typeof x=="object"&&S in x)x=x[S];else{x=void 0;break}}return!x||typeof x!="object"?[]:Object.entries(x).map(([y,S])=>{const w=b.slice(0,v).concat(y),j=i[v]===y,C=v===0&&ss(S)&&S.collectionId===y,P=()=>{const O=j?w.slice(0,-1):w;n==null||n(O.join("."),{paths:O}),a(O)};return l.jsx(B7,{className:L(C&&"-gs-utl-order-1"),isCollection:C,name:y,value:S,isActive:j,onClick:P},y)})};f.useEffect(()=>{o.current=d;const b=[];for(let v=0;v<=i.length;v++){const x=p(i,v);x.length>0&&b.push(x)}u(b)},[d,i]);const g=L(z7,F.bg,F.br,re.b,re.rnd,Le.scrollX,"gs-utl-h-full"),h=L("gs-utl-min-w-[220px]",F.br),m=L("gs-utl-h-full gs-utl-max-h-[60vh]",Le.scrollY,Me.xyS);return l.jsx(R,{className:g,full:!0,nowrap:!0,children:c.map((b,v)=>l.jsx(I,{className:L(h,v!==c.length-1&&re.br),children:l.jsx(R,{col:!0,nowrap:!0,gap:"m",className:m,children:b})},v))})});function tw(e){const{collectionId:t,variableType:n,path:s=""}=e;return t?[t,n,s].filter(Boolean).join("."):s}function Vg(e,t){const[n="",s="",...r]=e.split(".");return n&&t[n]?{collectionId:n,variableType:s,path:r.join(".")}:{path:e,collectionId:void 0,variableType:void 0}}const U7=e=>{const{path:t,collectionId:n,variableType:s}=e.dataResolver||{};return n?[n,s,t].filter(Boolean).join("."):e.value||t||""},W7=e=>{const{dataResolver:t,editor:n,value:s,defaultValue:r,additionalSources:o}=e,{path:i="",collectionId:a,variableType:c}=t||{},u=n==null?void 0:n.DataSources;if(a){const d=o==null?void 0:o[a],p=c&&d?d[c]:d;return(u==null?void 0:u.getValue(i,r,{context:p}))||""}else return(u==null?void 0:u.getValue(s,r))||""},G7="gs-cmp-data-path-field",el=oe(e=>{const{size:t="m",value:n="",label:s,open:r,defaultValue:o,additionalSources:i,dataResolver:a,readOnly:c,disabled:u,pickerInPopover:d,onChange:p,onPickerToggle:g}=e,{editor:h}=ge(),m=je().tScoped("dataSources"),[b,v]=f.useState(!!r),[x,y]=f.useState(!1),S=!!c||b||x,w=()=>y(!x),j=B=>{const k=B??!b;v(k),g==null||g(k)},C=()=>j(!1),P=(...B)=>{p==null||p(...B)},O=B=>{S||p==null||p(B,{paths:B.split(".")})},T=U7({dataResolver:a,value:n}),E=x&&h?`"${W7({editor:h,dataResolver:a,additionalSources:i,value:n,defaultValue:o})}"`:T,A=t==="m",_=A?"lg":t,N=A?ae.l:ae.s,V=m(b?"closePathExplorer":"openPathExplorer"),M={icon:b?G.close:G.databaseOutline,size:ae.l},H={icon:x?G.eyeOff:G.eye,size:A?ae.m:N},U=l.jsx(vt,{block:!0,variant:"pr",size:_,title:V,onClick:()=>j(),icon:M});return l.jsxs(R,{className:G7,gap:t,col:!0,children:[l.jsxs(R,{gap:t,items:"end",nowrap:!0,children:[l.jsx(Je,{readOnly:S,label:s,value:x?E:T,size:t,disabled:u,onChange:O,placeholder:m("selectVariablePath"),className:L("gs-utl-flex-grow",F.txt,Le.txtEllips),afterInput:!!n&&l.jsx(vt,{block:!0,variant:"out-clear",size:"xs",border:!1,title:m("toggleResolvedPath"),onClick:w,className:Le.hover,icon:H})}),d?l.jsx(Ns,{placement:"bottom-end",classNameBody:"gs-utl-w-[400px] gs-utl-h-[300px]",title:!1,padding:!1,border:!1,buttonAs:"span",handler:U,onClose:C,overlay:!0,children:l.jsx(G1,{path:T,onChange:P,additionalSources:i})}):U]}),!!b&&!d&&l.jsx(G1,{path:T,onChange:P,additionalSources:i})]})}),K7="gs-data-path-field",q7=oe(({className:e,value:t="",onChange:n,...s})=>l.jsx(An,{className:L(K7,e),...s,children:l.jsx(el,{onChange:r=>n({value:r}),value:t})}));function Dg(e){var i;const[t,n]=f.useState(((i=e.getDataResolver)==null?void 0:i.call(e))??{}),s=f.useRef(t),r=a=>{const c={...s.current,...a};s.current=c,n(c)},o=()=>{e.setDataResolver(s.current)};return f.useEffect(()=>{const a="change:dataResolver",c=()=>{const u=e.getDataResolver();n(u)};return e.on(a,c),()=>{e.off(a,c)}},[e]),{localData:t,updateLocalData:r,syncToComponent:o}}const Y7="gs-cmp-data-variable-picker",Z7=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:s,syncToComponent:r}=Dg(e),o=je().tScoped("dataSources"),{path:i="",defaultValue:a=""}=n,c=e.collectionsStateMap,u=g=>{s(Vg(g,c))},d=()=>{r(),t==null||t({value:n})},p=g=>s({defaultValue:g});return l.jsxs(R,{className:Y7,gap:"s",col:!0,nowrap:!0,children:[l.jsx(el,{value:i,label:o("variablePath"),dataResolver:n,additionalSources:c,defaultValue:a,onChange:u}),l.jsx(Je,{label:o("defaultValue"),value:a,onChange:p}),l.jsx(R,{full:!0,justify:"end",className:Me.y,children:l.jsx(ze,{onClick:d,variant:"pr",size:"m",children:o("confirm")})})]})}),X7="gs-data-variable-picker",J7=oe(function({className:t,component:n,onConfirm:s,...r}){return l.jsx(An,{className:L(X7,t),...r,children:l.jsx(Z7,{component:n,onConfirm:s})})});var jn=(e=>(e.STRING="string",e.NUMBER="number",e.DATA_SOURCE="dataSource",e))(jn||{}),bn=(e=>(e.equals="equals",e.isTruthy="isTruthy",e.isFalsy="isFalsy",e.isDefined="isDefined",e.isNull="isNull",e.isUndefined="isUndefined",e.isArray="isArray",e.isObject="isObject",e.isString="isString",e.isNumber="isNumber",e.isBoolean="isBoolean",e.isDefaultValue="isDefaultValue",e))(bn||{}),Hg=(e=>(e.greaterThan=">",e.lessThan="<",e.greaterThanOrEqual=">=",e.lessThanOrEqual="<=",e.equals="=",e.notEquals="!=",e))(Hg||{}),Fg=(e=>(e.contains="contains",e.startsWith="startsWith",e.endsWith="endsWith",e.equalsIgnoreCase="equalsIgnoreCase",e.trimEquals="trimEquals",e))(Fg||{});const Q7=[...Object.values(Fg),...Object.values(Hg),...Object.values(bn)],Wp={string:Object.values(Fg),number:Object.values(Hg),dataSource:Q7},e9=f.memo(function(t){const{additionalSources:n,side:s,type:r,value:o,onChange:i}=t;switch(r){case jn.DATA_SOURCE:return l.jsx(el,{size:"s",pickerInPopover:!0,value:tw(o),onChange:a=>i(s,a,r),additionalSources:n});case jn.NUMBER:return l.jsx(Ae,{size:"s",value:o,onChange:a=>i(s,a,r)});default:return l.jsx(Je,{size:"s",value:o,onChange:a=>i(s,a,r)})}}),t9="gs-cmp-statement-side",K1=f.memo(function({side:t,type:n,value:s,label:r,onChange:o,onTypeChange:i,additionalSources:a,typeOptions:c}){return l.jsxs(R,{className:L(t9,"gs-utl-flex-grow"),col:!0,children:[l.jsx(Pr,{size:"s",children:r}),l.jsxs(R,{items:"center",gap:"xs",children:[l.jsx(I,{children:l.jsx(Ee,{size:"s",value:n,options:c,onChange:u=>i(t,u)})}),l.jsx(I,{grow:!0,children:l.jsx(e9,{additionalSources:a,side:t,type:n,value:s,onChange:o})})]})]})}),Rl=e=>typeof e=="object"&&(e==null?void 0:e.type)==="data-variable"?jn.DATA_SOURCE:typeof e=="string"?jn.STRING:typeof e=="number"?jn.NUMBER:jn.STRING,n9=(e,t,n)=>{switch(t){case jn.STRING:return e||"";case jn.NUMBER:return e?Number(e):0;case jn.DATA_SOURCE:{const s=n||{};return{type:"data-variable",...(nt(e)?Vg(e,s):e)??{path:"",defaultValue:""}}}default:return e}},s9=e=>Wp[e][0],r9=e=>![bn.isTruthy,bn.isFalsy,bn.isDefined,bn.isNull,bn.isUndefined,bn.isArray,bn.isObject,bn.isString,bn.isNumber,bn.isBoolean,bn.isDefaultValue].includes(e),o9="gs-cmp-statement",i9=oe(e=>{const{statement:t,onChange:n,className:s,additionalSources:r}=e,o=je().tScoped("dataSources"),[i,a]=f.useState(()=>Rl(t.left)),[c,u]=f.useState(()=>Rl(t.right)),d=Wp[i]||Wp[jn.STRING],p=f.useMemo(()=>Object.values(jn).map(w=>({id:w,label:Ss(w)})),[]),g=f.useMemo(()=>d.map(w=>({id:w,label:o(`operators.${w}`)})),[d,o]);f.useEffect(()=>{a(Rl(t.left)),u(Rl(t.right))},[t.left,t.right]);const h=w=>{n({...t,...w})},m=(w,j,C)=>{const P=n9(j,C,r),O=w==="left",T=O&&C!==jn.DATA_SOURCE;O?a(C):u(C),h({[w]:P,...T&&{operator:s9(C)}})},b=(w,j)=>m(w,null,j),v=w=>h({operator:w}),x=L(o9,s,F.br,re.b,re.rnd,Me.xy),y=r9(t.operator),S={additionalSources:r,onChange:m,onTypeChange:b,typeOptions:p};return l.jsx(R,{className:L(x,"gs-utl-w-full"),items:"stretch",gap:"m",col:!0,full:!0,nowrap:!0,children:l.jsxs(R,{gap:"m",items:"center",full:!0,nowrap:!0,children:[l.jsx(K1,{side:"left",type:i,value:t.left,label:o("leftValue"),...S}),l.jsx(I,{children:l.jsx(Ee,{size:"s",label:o("operator"),value:t.operator,options:g,onChange:v})}),y&&l.jsx(K1,{side:"right",type:c,value:t.right,label:o("rightValue"),...S})]})})}),Id="gs-cmp-statements-group",a9=e=>e==="and"||e==="or",Pc=e=>({...e,statements:[...e.statements??[],{left:"",operator:"equals",right:""}]}),nw=oe(e=>{const{className:t,condition:n,onUpdate:s,additionalSources:r,skipAddCondition:o}=e,i=je().tScoped("dataSources"),a=n.statements??[],c=n.logicalOperator||"and",u=m=>{a9(m)&&s({...n,logicalOperator:m})},d=()=>{Pc(n),s(Pc(n))},p=m=>{const b=a.filter((v,x)=>x!==m);s({...n,statements:b})},g=(m,b)=>{if(m>=0&&m<a.length){const v=[...a];v[m]=b,s({...n,statements:v})}},h=[{id:"and",label:i("conditionAnd")},{id:"or",label:i("conditionOr")}];return l.jsxs(R,{className:L(Id,t,"gs-utl-w-full"),full:!0,gap:"m",col:!0,nowrap:!0,children:[a.length>1&&l.jsx(ir,{value:c,onChange:u,tabs:h}),l.jsx(R,{className:`${Id}__items`,gap:"s",col:!0,full:!0,nowrap:!0,children:a.map((m,b)=>l.jsxs(R,{className:L(`${Id}__item`),gap:"s",col:!0,children:[l.jsx(i9,{additionalSources:r,statement:m,onChange:v=>g(b,v)}),b<a.length-1&&l.jsxs(R,{justify:"center",items:"center",gap:"m",children:[l.jsx("span",{className:L(F.txtHighEmphasis,"gs-utl-text-sm gs-utl-font-bold"),children:c.toUpperCase()}),l.jsx(vt,{block:!0,variant:"out-clear",title:i("deleteCondition"),onClick:()=>p(b+1),icon:{icon:G.delete,size:ae.s}})]})]},`stmt-${b}`))}),!o&&l.jsx(R,{justify:"end",children:l.jsx(ze,{variant:"pr",onClick:d,icon:{icon:G.plus,size:ae.s},children:i("addCondition")})})]})}),l9="gs-cmp-data-condition-picker",c9=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:s,syncToComponent:r}=Dg(e),o=je().tScoped("dataSources"),i=n.condition,a=d=>s({condition:d}),c=()=>{r(),t==null||t({value:n})},u=()=>{s({condition:Pc(i)})};return l.jsxs(R,{className:l9,items:"stretch",gap:"m",full:!0,col:!0,children:[l.jsx(nw,{additionalSources:e.collectionsStateMap??{},condition:i,onUpdate:a,skipAddCondition:!0}),l.jsxs(R,{gap:"m",justify:"end",full:!0,children:[l.jsx(ze,{variant:"out",onClick:u,icon:{icon:G.plus,size:ae.s},children:o("addCondition")}),l.jsx(ze,{onClick:c,variant:"pr",size:"m",children:o("confirm")})]})]})}),u9="gs-data-condition-picker",d9=oe(function({className:t,component:n,onConfirm:s,...r}){return l.jsx(An,{className:L(u9,t),...r,children:l.jsx(c9,{component:n,onConfirm:s})})}),p9="gs-cmp-data-collection-picker",f9=oe(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:s,syncToComponent:r}=Dg(e),{collectionId:o="",dataSource:i={},startIndex:a=0,endIndex:c=10}=n,u=tw(i),d=c===Number.MAX_VALUE,p=je().tScoped("dataSources"),g=d?"":c,h=()=>{r(),t==null||t({value:n})},m=y=>s({dataSource:{...i,path:y}}),b=y=>s({startIndex:y}),v=y=>s({endIndex:y}),x=y=>s({endIndex:y?Number.MAX_VALUE:4});return l.jsxs(R,{className:p9,gap:"s",col:!0,nowrap:!0,children:[l.jsxs(R,{items:"end",gap:"s",nowrap:!0,children:[l.jsx(Je,{className:"gs-utl-flex-grow",size:"s",label:p("collectionId"),value:o,readOnly:!0,disabled:!0}),l.jsx(uy,{size:"s",value:o,block:!0})]}),l.jsx(el,{label:p("variablePath"),value:u,onChange:m,dataResolver:n}),l.jsxs(R,{items:"end",gap:"s",nowrap:!0,children:[l.jsx(Ae,{size:"s",className:"gs-utl-flex-grow",label:p("collectionStartIndex"),value:a==null?void 0:a.toString(),onChange:b}),l.jsx(Ae,{size:"s",label:p("collectionEndIndex"),placeholder:d?"-":"",value:g==null?void 0:g.toString(),onChange:v,className:L("gs-utl-flex-grow",d&&"gs-utl-opacity-50 gs-utl-pointer-events-none")}),l.jsx(I,{children:l.jsx(ha,{label:p("collectionUpToEndIndex"),value:d,onChange:x})})]}),l.jsx(R,{full:!0,justify:"end",children:l.jsx(ze,{onClick:h,variant:"pr",size:"m",children:p("confirm")})})]})}),g9="gs-data-collection-picker",h9=oe(function({className:t,component:n,onConfirm:s,...r}){return l.jsx(An,{className:L(g9,t),...r,children:l.jsx(f9,{component:n,onConfirm:s})})}),m9="gs-code-field",b9=oe(function(e){const{editor:t}=ge(),{isDarkTheme:n}=gn(),{editorEvents:s,onChange:r}=e,[o,i]=f.useState(()=>e),a=u=>({value:u,editor:t,state:o,setState:d=>i(p=>({...p,...d}))}),c=u=>r==null?void 0:r(a(u||""));return wi({editor:t,editorEvents:s,localState:o,setLocalState:i}),l.jsx(nr,{className:L(m9,o.className),language:o.language,style:o.style,label:o.label,name:o.name,defaultValue:o.value,size:o.size,required:o.required,disabled:o.disabled,readOnly:o.readOnly,minHeight:o.minHeight,row:o.row,isDarkTheme:n,monacoOptions:e.monacoOptions,onChange:c})}),v9="gs-menu-list",y9=oe(function({className:e,items:t,onItemClick:n,...s}){const{editor:r}=ge(),[o,i]=f.useState(),a=u=>{const{onClick:d}=u;if(d&&r)return p=>d({item:u,editor:r,...p})},c=()=>{if(n&&r)return u=>n({...u,editor:r})};return l.jsx(An,{className:L(v9,F.bg,"gs-utl-flex gs-utl-flex-col",e),...s,children:(t||[]).map((u,d)=>f.createElement(Fa,{...u,label:u.layout?Ot(u.layout):u.label,key:u.id??d,className:u.className,action:a(u),onActive:()=>i(u),onItemClick:c(),active:o===u,items:u.items}))})}),$l={type:"data-variable",path:"",defaultValue:""},q1={type:"data-condition",condition:{logicalOperator:"and",statements:[{left:"",operator:"",right:""}]},ifTrue:"",ifFalse:""},Y1="gs-cmp-dynamic-value-picker",x9=oe(({value:e,onChange:t,onConfirm:n,additionalSources:s})=>{const[r,o]=f.useState(()=>Or(e)?e:$l),[i,a]=f.useState(r.type),c=je().tScoped("dataSources");f.useEffect(()=>{const S=Or(e)?e:$l;(S.type!==r.type||JSON.stringify(S)!==JSON.stringify(r))&&(o(S),a(S.type))},[e]);const u=S=>{o(S),t==null||t({value:S})},d=S=>{const w=S;a(w);const j=r.type===w?r:w==="data-variable"?$l:q1;u(j)},p=S=>{u({type:"data-variable",defaultValue:r.defaultValue,...Vg(S,s)})},g=S=>{o(w=>{const j={...w,defaultValue:S};return t==null||t({value:j}),j})},h=S=>{u({...r,condition:S})},m=(S,w)=>{u({...r,[S]:w})},b=()=>{const S=r.condition;h(Pc(S))},v=[{id:"data-variable",label:c("variable")},{id:"data-condition",label:c("condition")}],x=(r==null?void 0:r.type)==="data-variable"?r:$l,y=(r==null?void 0:r.type)==="data-condition"?r:q1;return l.jsxs(R,{className:Y1,gap:"s",col:!0,nowrap:!0,children:[l.jsxs(R,{className:Y1,gap:"m",col:!0,nowrap:!0,full:!0,children:[l.jsx(ir,{value:i,onChange:d,tabs:v}),l.jsx(I,{grow:!0,className:Me.y,style:{overflowY:"auto",overflowX:"hidden"},children:i==="data-variable"?l.jsxs(R,{gap:"s",col:!0,nowrap:!0,children:[l.jsx(el,{value:x.path,label:c("variablePath"),additionalSources:s,defaultValue:x.defaultValue,onChange:p}),l.jsx(Je,{label:c("defaultValue"),value:x.defaultValue||"",onChange:g})]}):l.jsxs(R,{gap:"m",col:!0,children:[l.jsx(nw,{additionalSources:s,condition:y.condition,onUpdate:h,skipAddCondition:!0}),l.jsxs(R,{gap:"s",col:!0,nowrap:!0,children:[l.jsx(Je,{label:c("ifTrue"),value:y.ifTrue,onChange:S=>m("ifTrue",S)}),l.jsx(Je,{label:c("ifFalse"),value:y.ifFalse,onChange:S=>m("ifFalse",S)})]})]})}),i==="data-condition"&&l.jsx(R,{full:!0,justify:"end",className:Me.x,children:l.jsx(ze,{variant:"out",onClick:b,icon:{icon:G.plus,size:ae.s},children:c("addCondition")})})]}),l.jsx(R,{full:!0,justify:"end",className:Me.y,children:l.jsx(ze,{onClick:()=>{n==null||n({value:r})},variant:"pr",size:"m",children:c("confirm")})})]})}),w9="gs-data-value-picker",S9=oe(({className:e,value:t={},onChange:n,onConfirm:s,additionalSources:r={},...o})=>l.jsx(An,{className:L(w9,e),...o,children:l.jsx(x9,{value:t,onConfirm:i=>s==null?void 0:s(i),onChange:i=>n==null?void 0:n(i),additionalSources:r})})),j9={row:S7,column:A8,text:I7,tabs:R7,button:Jc,buttonGroupField:BR,menuList:y9,inputField:L8,codeField:b9,selectField:C7,selectFontField:P7,devices:Tx,panelPages:Ux,panelPageSettings:S6,panelLayers:Vx,panelPagesLayers:_6,panelBlocks:e6,panelGlobalStyles:u6,panelSelectors:f7,panelStyles:v7,panelProperties:t7,panelSidebarTabs:m7,panelAssets:J8,panelTemplates:x7,sidebarRight:k7,sidebarLeft:M7,sidebarTop:Ox,sidebarBottom:O7,canvas:lx,canvasSidebarTop:O8,virtualList:D7,dataPathField:q7,panelDataVariablePicker:J7,panelDataConditionPicker:d9,panelDataCollectionPicker:h9,panelDataValuePicker:S9},Ot=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=I3();return t.filter(Boolean).map((s,r)=>{const{id:o="",type:i,...a}=nt(s)?{type:Up.text,content:s}:s||{},c=j9[i],u=n.layoutChildren.get(o),d=o||r;return u?l.jsx(fc,{id:o,...u},d):i===Up.custom?l.jsx(fc,{id:o,...a},d):c?l.jsx(c,{id:o,...a},d):null})},wi=e=>{const{editorEvents:t,editor:n,localState:s,setLocalState:r}=e;f.useEffect(()=>{if(!t||!n)return;const o=Object.keys(t).reduce((a,c)=>(a[c]=(u={})=>{const d=t[c];d({fromEvent:u,editor:n,state:s,setState:p=>r(g=>({...g,...p}))})},a),{}),i=Object.keys(o);return i.forEach(a=>n.on(a,o[a])),()=>{i.forEach(a=>n.off(a,o[a]))}},[n,s])},Z1="gs-block-item",C9=e=>{const{block:t,className:n,itemLayout:s,onClick:r,variant:o}=e,{editor:i}=ge(),a=je(),[,c]=f.useState(0),u=a.tScoped("blockManager.labels"),d=t.getId(),p=!!t.get("full"),g=r||t.get("onClick"),h=t.get("disable"),m=t.get("mediaReact"),b=t.getMedia(),v=t.get("attributes")||{},x=u(d)||t.getLabel(),y=o==="compact",S=L(Z1,`${Z1}--${d}`,n,"gs-utl-px-2 gs-utl-transition-colors",re.b,re.rnd,F.br,p&&"gs-utl-col-span-full",y?"gs-utl-py-1":"gs-utl-py-2",y?"gs-utl-flex-row gs-utl-nowrap gs-utl-gap-3 gs-utl-justify-start":"gs-utl-flex-col",h?Le.disabledM:L("gs-utl-cursor-pointer",F.hTAo,F.hBgH)),w=Lt(v.class)&&!y?v.class:L("gs-utl-block-media gs-utl-w-full",y?"gs-utl-max-h-7 gs-utl-max-w-7 gs-utl-overflow-hidden":"gs-utl-max-h-10 gs-utl-max-w-10"),j=L("gs-utl-text-center",Le.txtEllips,!y&&"gs-utl-w-full");if(f.useEffect(()=>{if(!i)return;const{Blocks:A}=i,_=A.events.update,N=V=>V===t&&c(M=>++M);return i.on(_,N),()=>{i.off(_,N)}},[t,i]),!i)return null;const{Blocks:C}=i,T={className:S,...!h&&{onDragStart:()=>C.startDrag(t),onDragEnd:()=>C.endDrag(!1),draggable:!r},...!!g&&{onClick:()=>g(t,i)}},E=s==null?void 0:s({editor:i,block:t,attributes:T});return E&&Ot(E)||l.jsxs(R,{items:"center",...T,children:[m||l.jsx("div",{className:w,dangerouslySetInnerHTML:{__html:b}}),l.jsx("div",{className:j,title:x,children:x})]})},X1=oe(C9),J1=X("text-sm w-full",Le.txtEllips),E9=({symbol:e,className:t})=>{const n=_n(),{Components:s}=n,r=je(),o=ks(),i=r.tScoped("blockManager.symbols"),a=()=>{const{draggable:x,droppable:y,attributes:S,type:w,tagName:j}=e.attributes;n.Canvas.startDrag({content:()=>s.addSymbol(e),model:e,dragDef:{type:w,tagName:j,draggable:x,droppable:y,attributes:S}})},c=()=>{n.Canvas.endDrag()},u=e.getIcon(),d=e.getName(),p=s.getSymbolInfo(e).instances.length,g=X("h-10 w-10 block-media",F.grouphTAo),h=X("gjs-pt-1 gjs-mt-2",re.bt,F.br),m=X("cursor-pointer gjs-p-2 transition-colors group",re.b,re.rnd,F.br,F.hBgH,t),b=()=>{o.confirm({title:i("delete"),content:i("deleteConfirm"),onConfirm:()=>e.remove()})},v=x=>{e.set("custom-name",x)};return l.jsxs(R,{className:m,onDragStart:a,onDragEnd:c,items:"center",draggable:!0,col:!0,children:[l.jsx("div",{className:g,dangerouslySetInnerHTML:{__html:u}}),l.jsxs(R,{items:"center",justify:"between",className:h,space:"m",full:!0,children:[l.jsx(I,{children:l.jsx(R,{className:X(J1,"gjs-mr-auto"),children:l.jsx(It,{title:`${p} ${i("instancesProject")}`,children:l.jsx(Tt,{label:`${p}`,className:X(F.bgH75)})})})}),l.jsx(I,{className:X("truncate"),grow:!0,title:d,children:l.jsx(Xx,{activable:!0,value:d,className:J1,onChange:v})}),l.jsx(I,{className:X(Le.hoverGroup),children:l.jsx(R,{justify:"end",full:!0,children:l.jsx(vt,{onClick:b,title:i("delete"),border:!1,size:"",block:!0,children:l.jsx(se,{icon:G.delete,size:ae.s})})})})]})]})},P9=oe(E9),dr="gs-block-manager",Q1={id:xs.before,title:"Add before",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <path d="M4 5v14"/> <rect fill="none" x="8" y="5" width="12" height="14" rx="2" ry="2"/> </svg>'},T9={id:xs.beforeInside,title:"Add inside first",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M8 8v8"/> </svg>'},O9={id:xs.afterInside,title:"Add inside last",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M16 8v8"/> </svg>'},eb={id:xs.after,title:"Add after",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="12" height="14" rx="2" ry="2"/> <path d="M20 5v14"/> </svg>'},tb=(e,t)=>{const n=t==null?void 0:t.getId();return n&&e.I18n.t(`blockManager.categories.${n}`)||(t==null?void 0:t.getLabel())||""},sw=e=>{const t=e.getContent();return Xe(t)?e.getDragDef():t},_9=e=>{const t=sw(e);return Array.isArray(t)?t[0]:t},rw=oe(function({isOpen:t,className:n,hideCategories:s,target:r,variant:o,itemLayout:i,...a}){var it,Vt;const{editor:c}=ge(),u=je(),[d,p]=f.useState(0),[g,h]=f.useState(Ii.REGULAR),[m,b]=f.useState(""),[v,x]=f.useState(""),y=f.useRef(new Set),[S,w]=f.useState((r==null?void 0:r.position)||xs.after),[j,C]=f.useState(()=>(c==null?void 0:c.Components.getSymbols())||[]),P=g===Ii.SYMBOLS,O=f.useRef(null),T=u.tScoped("blockManager"),E=r==null?void 0:r.component;if(f.useEffect(()=>{if(!c)return;const{Blocks:pe,Components:Re}=c,Ie=pe.events.custom,Pe=Re.events.symbol,dt=()=>{C(Re.getSymbols()),p(kt=>++kt)};return c.on(Pe,dt),c.on(Ie,dt),()=>{c.off(Pe,dt),c.off(Ie,dt)}},[c]),f.useEffect(()=>{if(O.current&&t){const pe=O.current.querySelector("input");setTimeout(()=>pe==null?void 0:pe.focus(),af)}},[O.current,t]),!c)return null;const{Blocks:A,Components:_}=c,N=pe=>T(`labels.${pe.getId()}`)||pe.getLabel(),V=j.filter(pe=>Ho(pe.getName(),m)),M=A.getAll().map(pe=>pe),H=((it=a.blocks)==null?void 0:it.call(a,{blocks:M}))||M,U=S===xs.before,B=S===xs.beforeInside,k=S===xs.afterInside,D=S===xs.after,$=!!(E!=null&&E.attributes.droppable),z=H.filter(pe=>{const Re=tb(c,pe.category);if(m&&!Ho(Re,m)&&!Ho(N(pe),m))return!1;if(E){const Ie=_9(pe);if($&&(B||k)){const Pe=B?0:void 0;return _.canMove(E,Ie,Pe).result}else if(U||D){const Pe=E.index(),dt=E.parent(),kt=U?Pe:Pe+1;return dt&&_.canMove(dt,Ie,kt).result}}return!0}),J=A.getBlocksByCategory(z),Y=s?z:(Vt=J.find(pe=>!pe.category))==null?void 0:Vt.items,Q=s?[]:J.filter(pe=>pe.category),ne=a.symbols!==!1,ee=a.search!==!1,K=!ne&&!ee,Z=o==="compact",ie=T("search")||u.t("search"),ue=L(dr,n,"gap-2"),ve=L(`${dr}__header`,"gs-utl-pt-2",Me.xS,K&&"gs-utl-hidden"),he=L(`${dr}__content`,Le.scrollY,F.br,re.bt),ke=L(`${dr}__symbols`,"gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-p-2"),Ge=L(`${dr}__not-found`,"gs-utl-text-center gs-utl-p-4"),ht=L(`${dr}__blocks`,"gs-utl-grid gs-utl-gap-2 gs-utl-p-2 gs-utl-text-sm",Z?"gs-utl-grid-cols-1":"gs-utl-grid-cols-2"),rt=L(`${dr}__no-category`,ht,F.br,Q.length&&re.bb),Ve=L(F.tAo,F.bgH75,re.bA),Nt=`${dr}__category`,ot=[{id:Ii.REGULAR,label:T("types.regular")},{id:Ii.SYMBOLS,label:T("types.symbols")}],St=$?[Q1,T9,O9,eb]:[Q1,eb],mt=E?pe=>{const Re=sw(pe);if(!Re)return;let Ie;if(B||k){const Pe=B?0:void 0;Ie=E.append(Re,{at:Pe})[0]}else if(U||D){const Pe=E.index(),dt=E.parent(),kt=U?Pe:Pe+1;Ie=dt==null?void 0:dt.append(Re,{at:kt})[0]}if(Ie){const{activate:Pe,select:dt}=pe.attributes;dt||Pe&&dt!==!1?c.em.setSelected(Ie,{activate:Pe}):Pe&&Ie.trigger("active")}}:void 0,ut=pe=>{if(!E)return;const Re=Array.from(y.current);if(pe.key==="ArrowDown")pe.preventDefault(),x(Ie=>{const Pe=Re.indexOf(Ie);return Re.at(Math.min(Pe+1,Re.length-1))||""});else if(pe.key==="ArrowUp")pe.preventDefault(),x(Ie=>{const Pe=Re.indexOf(Ie);return Re.at(Math.max(Pe-1,0))||""});else if(pe.key==="Enter"&&v){const Ie=A.get(v);Ie&&(mt==null||mt(Ie))}},Qe=pe=>{y.current.clear(),b(pe)};return l.jsxs(R,{className:ue,col:!0,full:!0,children:[l.jsxs(R,{className:ve,gap:"s",col:!0,children:[ne&&l.jsx(ir,{tabs:ot,onChange:h,value:g,variant:"pills"}),E&&l.jsx(qt,{size:"s",options:St,value:S,onChange:pe=>w(pe)}),ee&&l.jsx(Je,{ref:O,size:"s",value:m,onInput:Qe,onKeyDown:ut,placeholder:ie,type:"search"})]}),l.jsxs(I,{className:he,grow:!0,children:[P&&(V.length?l.jsx(R,{className:ke,children:V.map(pe=>l.jsx(P9,{symbol:pe},`${d}_${pe.getId()}`))}):l.jsx(R,{className:Ge,justify:"center",children:T("symbols.notFound")})),!P&&(z.length?l.jsxs(l.Fragment,{children:[!!(Y!=null&&Y.length)&&l.jsx(R,{className:rt,children:Y==null?void 0:Y.map(pe=>(y.current.add(`${pe.id}`),l.jsx(X1,{block:pe,itemLayout:i,onClick:mt,variant:o,className:L(v===pe.id&&Ve)},pe.id)))}),Q.map(({category:pe,items:Re},Ie)=>l.jsx(Eo,{sticky:!0,className:Pe=>uf.itemList({index:Ie,open:Pe,length:Q.length}),open:!!(pe!=null&&pe.get("open")),onChange:({open:Pe})=>pe==null?void 0:pe.set({open:Pe}),handler:tb(c,pe),handlerIcon:pe==null?void 0:pe.get("icon"),classNameWrap:L(Nt,`${Nt}--${pe==null?void 0:pe.id}`),children:l.jsx(R,{className:ht,children:Re.map(Pe=>(y.current.add(`${Pe.id}`),l.jsx(X1,{block:Pe,itemLayout:i,onClick:mt,variant:o,className:L(v===Pe.id&&Ve)},Pe.id)))})},pe==null?void 0:pe.id))]}):l.jsx(R,{className:Ge,justify:"center",children:T("notFound")}))]})]})}),A9={add:G.plus},nb=(e,t)=>t||A9[e];function Bg({className:e,icon:t,title:n,onClose:s,actions:r=[],children:o}){const{t:i}=je();return l.jsxs(R,{className:W("gjs-card-title",e),items:"center",children:[l.jsx(I,{className:W("truncate"),grow:!0,children:n}),o,l.jsxs(R,{space:"s",children:[!!r.length&&l.jsx(R,{space:"xs",className:W("gjs-px-1"),children:r.map(({id:a,icon:c,className:u,...d})=>l.jsx(I,{children:l.jsx(vt,{block:!0,border:!1,size:"xs",icon:nb(a,c)?{icon:nb(a,c),size:ae.s}:void 0,className:W(Le.click,u),...d})},a))}),(s||t)&&l.jsx(vt,{title:i("close"),onClick:s,border:!1,className:W(Le.click),icon:{icon:G.close,size:ae.s},size:"xs",block:!0})]})]})}const ow="0.22.14",M9="1.0.30",br="https://cdn.jsdelivr.net/npm/",L9=`${br}grapesjs@${ow}/dist/grapes.min.js`,N9=`${br}grapesjs@${ow}/dist/css/grapes.min.css`,k9=!1,ds=M9,Bs=`${br}@grapesjs/studio-sdk-plugins@${ds}`,on={category:"Extra",select:!0},iw=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Live countdown timer to highlight upcoming events, launches, or deadlines.",category:Jt.components,src:`${br}grapesjs-component-countdown@1.0.1/dist/index.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/b2b347be-144d-4860-8f1a-2d8678ab07c7__plugin-counter.png",version:"1.0.1",projectType:[Ce.web],options:{props:{emptyState:!0}},instructions:`Provide data-gjs-type="countdown" on the outer wrapper and data-js attributes for inner elements:

\`\`\`html
<div data-gjs-type="countdown" data-gjs-startfrom="2025-09-30" data-gjs-end-text="Expired">
  <span data-js="countdown" class="countdown-cont">
    <div class="countdown-block">
      <div data-js="countdown-day" class="countdown-digit">00</div>
      <div class="countdown-label">days</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-hour" class="countdown-digit">00</div>
      <div class="countdown-label">hours</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-minute" class="countdown-digit">00</div>
      <div class="countdown-label">minutes</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-second" class="countdown-digit">00</div>
      <div class="countdown-label">seconds</div>
    </div>
  </span>
  <span data-js="countdown-endtext" class="countdown-endtext"></span>
</div>
\`\`\`

The attribute data-gjs-startfrom accepts a date format YYYY-MM-DD (not datetime).
`},{id:"grapesjs-tabs",name:"Tabs",description:"Organize content into easy-to-navigate sections using tabs.",category:Jt.components,src:`${br}grapesjs-tabs@1.0.18/dist/index.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/e322063c-a8b4-46d4-a21e-20f885ab53df__plugin-tabs.png",version:"1.0.18",projectType:[Ce.web],options:{tabsBlock:on},instructions:`Provide data-gjs-type to identify the components, classes and aria attributes as in the following structure:

\`\`\`html
<div data-gjs-type="tabs">
  <div data-gjs-type="tab-container" class="tab-container">
    <div data-gjs-type="tab" id="tab1" aria-controls="tab-content-1" class="tab tab-active">
      <span>Tab 1</span>
    </div>
    <div data-gjs-type="tab" id="tab2" aria-controls="tab-content-2" class="tab">
      <span>Tab 2</span>
    </div>
    <div data-gjs-type="tab" id="tab3" aria-controls="tab-content-3" class="tab">
      <span>Tab 3</span>
    </div>
  </div>
  <div data-gjs-type="tab-contents" class="tab-contents">
    <div data-gjs-type="tab-content" id="tab-content-1" aria-labelledby="tab1" class="tab-content">
      <div>Tab Content 1</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-2" aria-labelledby="tab2" class="tab-content" hidden>
      <div>Tab Content 2</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-3" aria-labelledby="tab3" class="tab-content" hidden>
      <div>Tab Content 3</div>
    </div>
  </div>
</div>
\`\`\`

The default classes provide already basic horizontal styling for the tabs and their contents but you can extend them.
IMPORTANT: The editor allows to update active tab via this selector ".tab.tab-active", so ensure ".tab" class is always there and extend ".tab-active" styles if needed.
`},{id:"grapesjs-custom-code",name:"Custom code",description:"Insert your own custom code directly into the page. Perfect for adding third-party widgets, advanced styling, or custom functionality.",category:Jt.components,src:`${br}grapesjs-custom-code@1.0.2/dist/index.js`,image:"https://user-images.githubusercontent.com/11614725/43289377-15322c5e-912b-11e8-9a29-cc2dc45af48a.gif",version:"1.0.2",projectType:[Ce.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"A simple, CSS-only, tooltip component. Great for adding helpful hints or extra info on hover.",src:`${br}grapesjs-tooltip@0.1.8/dist/index.js`,category:Jt.components,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/53239882-2c3f-4480-84cb-16fb9dd3d713__plugin-tooltip.webp",version:"0.1.8",projectType:[Ce.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}},instructions:`Provide data-gjs-type="tooltip" to identify the component, and set the tooltip text and position:

\`\`\`html
<span data-gjs-type="tooltip" data-tooltip="Your tooltip text here" data-tooltip-pos="top">Hover me</span>
\`\`\`

Available positions: top, bottom, left, right
AVOID additional CSS, the component is fully functional with just the above HTML.
`},{id:"grapesjs-typed",name:"Typed",description:"A typewriter-style animation component powered by Typed.js. Ideal for dynamic hero headings and attention-grabbing text effects.",category:Jt.components,src:`${br}grapesjs-typed@2.0.1/dist/index.js`,image:"https://user-images.githubusercontent.com/11614725/67621063-3f31c380-f80d-11e9-8d62-7f1da9f27111.png",version:"2.0.1",projectType:[Ce.web],options:{block:on},instructions:`Provide data-gjs-type="typed" to identify the component, and set the text strings to cycle through:

\`\`\`html
<div data-gjs-type="typed" data-gjs-strings='["First text", "Second text", "Third text"]' data-gjs-type-speed="40" data-gjs-start-delay="1000">Loading...</div>
\`\`\`

Available options: data-gjs-strings (array), data-gjs-type-speed (ms), data-gjs-start-delay (ms), data-gjs-back-speed (ms), data-gjs-loop (boolean)`},{id:"StudioSdkPlugins_tableComponent",name:"Table",description:"Add table component with additional functionalities.",category:Jt.components,src:`${Bs}/dist/tableComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/table-plugin-f8c7596df01f9e12fb5d94a9de4ee502.png",version:ds,projectType:[Ce.web],options:{block:on}},{id:"StudioSdkPlugins_listPagesComponent",name:"List Pages",description:"Add a list component that dynamically generates navigation links based on the pages in your project.",category:Jt.components,src:`${Bs}/dist/listPagesComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/list-pages-plugin-a315be106d0897f4167a6c93c71e7878.png",version:ds,projectType:[Ce.web],options:{block:on},instructions:`Provide data-gjs-type to identify the components and use "page://PAGE_ID" format to connect to available pages:

\`\`\`html
<ul data-gjs-type="list-pages">
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://HOME_PAGE_ID">Home</a>
  </li>
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://ABOUT_PAGE_ID">About</a>
  </li>
</ul>
\`\`\`

IMPORTANT: The href format must use \`page://PAGE_ID\` where PAGE_ID is the actual string ID of the page in the project.
Add list items based on your available pages and replace the href with the proper page ID.`},{id:"StudioSdkPlugins_fsLightboxComponent",name:"FsLightbox",description:"Image viewer plugin based on FsLightbox.",category:Jt.components,src:`${Bs}/dist/fsLightboxComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/fslightbox-plugin-5d9d81980202b475e60ccaa248036915.png",version:ds,projectType:[Ce.web],options:{block:on},instructions:`Provide data-gjs-type="fslightbox" to identify the component, and place images inside:

\`\`\`html
<a data-fslightbox="image-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-2" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="videos" data-gjs-source-type="video" href="YOUTUBE_VIDEO_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="custom-types" href="#custom-element">Custom element</a>
<div style="display: none">
  <div id="custom-element">
    <div>Custom content</div>
  </div>
</div>
\`\`\``},{id:"StudioSdkPlugins_lightGalleryComponent",name:"LightGallery",description:"Gallery component based on lightGallery.",category:Jt.components,src:`${Bs}/dist/lightGalleryComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/lightgallery-plugin-0ef8d47f0aaa2bbdd0c83cffb9087fa4.png",version:ds,projectType:[Ce.web],options:{block:on},instructions:`Use data-gjs-type="lightGallery" to create image galleries. Examples:

\`\`\`html
<!-- Single image -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>

<!-- Multiple images in gallery -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE1_URL">
    <img src="IMAGE1_PREVIEW_URL" alt="Image 1" />
  </a>
  <a href="IMAGE2_URL">
    <img src="IMAGE2_PREVIEW_URL" alt="Image 2" />
  </a>
</div>

<!-- Video gallery -->
<div data-gjs-type="lightGallery">
  <a data-src="YOUTUBE_URL" data-poster="THUMBNAIL_URL" data-sub-html="Video Caption">
    <img src="THUMBNAIL_URL" alt="Video thumbnail" />
  </a>
</div>

<!-- Inline gallery -->
<div data-gjs-type="lightGallery" data-gjs-inline="true">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>
\`\`\``},{id:"StudioSdkPlugins_swiperComponent",name:"Swiper (Slider)",description:"Slider component plugin based on Swiper.",category:Jt.components,src:`${Bs}/dist/swiperComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/swiper-plugin-ded7740b473376f249829eced9003fee.png",version:ds,projectType:[Ce.web],options:{block:on},instructions:`Use standard SwiperJS structure. SwiperJS options can be passed via data-gjs-{option-name} attributes:

\`\`\`html
<div class="swiper" data-gjs-space-between="100" style="height: 200px">
  <div class="swiper-wrapper">
    <div class="swiper-slide">Slide 1</div>
    <div class="swiper-slide">Slide 2</div>
    <div class="swiper-slide">Slide 3</div>
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>
\`\`\`

SwiperJS options can be passed via data-gjs-{option-name} attributes.`},{id:"StudioSdkPlugins_iconifyComponent",name:"Iconify",description:"Add an icon component with the icon picker by levering the Iconify collections.",category:Jt.components,src:`${Bs}/dist/iconifyComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/iconify-plugin-265b0e0e9218b0d33744366e5a069bef.png",version:ds,projectType:[Ce.web],options:{block:on}},{id:"StudioSdkPlugins_accordionComponent",name:"Accordion",description:"Accordion component, allowing users to create collapsible content sections with smooth animations and keyboard navigation support.",category:Jt.components,src:`${Bs}/dist/accordionComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/accordion-plugin-09ee15747de2cbc119e7e9ca654abec6.webp",version:ds,projectType:[Ce.web],options:{block:on,blockGroup:on},instructions:`Provide data-gjs-type="accordion" to identify the component, and use the accordion structure:

\`\`\`html
<details data-gjs-type="accordion">
  <summary data-gjs-type="accordion-header">
    <div>Accordion header</div>
    <div data-gjs-type="accordion-marker"></div>
  </summary>
  <div data-gjs-type="accordion-content">
    <div>Accordion content</div>
  </div>
</details>
\`\`\`

Available properties: open (checkbox), clsMarkerOpen. The component uses HTML details/summary elements with custom styling and animations.`},{id:"StudioSdkPlugins_animationComponent",name:"Animations",description:"Add scroll-triggered animation components with support for staggered grouping effects.",category:Jt.components,src:`${Bs}/dist/animationComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/animation-plugin-f099c7cb5c88ffd5ca7794cbfcd0d7af.webp",version:ds,projectType:[Ce.web],options:{block:on,blockGroup:on},instructions:`Use data-gjs-type="animation" to identify the component. Animation options are set via CSS properties in the style attribute:

\`\`\`html
<!-- Basic animation -->
<div data-gjs-type="animation" style="animation-name: fadeInUp; animation-duration: 1s">
  Content to animate
</div>

<!-- Scroll-triggered animation -->
<div data-gjs-type="animation" style="animation-name: slideInLeft; animation-delay: 0.5s">
  Content that animates on scroll
</div>

<!-- Grouped animations (staggered) -->
<div data-gjs-type="animation-group">
  <div data-gjs-type="animation" style="animation-name: fadeInDown" class="animated-box">Item 1</div>
  <div data-gjs-type="animation" style="animation-name: fadeInLeft" class="animated-box">Item 2</div>
  <div data-gjs-type="animation" style="animation-name: fadeInUp" class="animated-box">Item 3</div>
</div>

<!-- Repeat animation on scroll -->
<div data-gjs-type="animation" style="animation-name: zoomIn; --animation-repeat: true">
  Content that repeats animation on each scroll
</div>
\`\`\``},{id:"StudioSdkPlugins_shapeDividerComponent",name:"Shape Divider",description:"Add shape divider components to create visually appealing section transitions.",category:Jt.components,src:`${Bs}/dist/shapeDividerComponent/index.umd.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/4d65c7f4-aa7c-4019-80a4-7c06b3143207__plugin-shape-divider.webp",version:ds,projectType:[Ce.web],options:{block:on,blockGroup:on}}],R9=iw.reduce((e,t)=>(e[t.id]=t,e),{}),$9=()=>new Promise(e=>{setTimeout(()=>e(iw),100)}),sb=oe(function({plugin:t,className:n,installed:s,onInstall:r,onSelect:o}){const i=je(),a=m=>i.t(`pluginManager.${m}`),c=s[t.id],u=()=>o==null?void 0:o(t),d=()=>r(t),p=L("gs-cmp-plugin-item gs-utl-overflow-hidden gs-utl-max-w-full gs-utl-group gs-utl-px-4 gs-utl-py-3",n),g=L("gs-utl-cursor-pointer gs-utl-font-bold",Le.txtEllips),h=L("gs-utl-max-w-full gs-utl-h-48 gs-utl-w-72 gs-utl-mx-auto gs-utl-object-cover",F.br,re.b,re.rnd);return l.jsxs(fn,{className:p,padding:!1,classNameBody:"gs-utl-flex gs-utl-flex-col gs-utl-gap-2",children:[l.jsxs(R,{items:"center",gap:"s",nowrap:!0,children:[l.jsx(I,{className:g,onClick:u,children:t.name}),l.jsx(I,{grow:!0,children:l.jsx(Tt,{className:"gs-utl-opacity-90",label:`v${t.version}`,s:"s",pill:!0,border:!0})}),l.jsx(ze,{className:"gs-utl-text-sm",size:"m2",variant:"pr",onClick:d,children:a(c?"uninstall":"install")})]}),l.jsxs(R,{gap:"s",col:!0,className:"md:gs-utl-flex-nowrap md:gs-utl-flex-row",children:[l.jsx(I,{grow:!0,className:"gs-utl-text-sm",children:t.description}),t.image&&l.jsx("img",{className:h,src:t.image,alt:t.name})]})]})}),aw=oe(function(t){const{selectedId:n,loadPlugins:s,loadPluginsInstalled:r}=t,o=je(),[i]=yu(),a=Eg(),c=ge(),[u,d]=f.useState(),[p,g]=f.useState(),[h,m]=f.useState(),[b,v]=f.useState("all"),x=b==="all"?h:p,y=o.tScoped("pluginManager"),{editor:S}=c,w={editor:S},j=async()=>(r?await r(w):await bu()).map(_=>({...R9[_.id],..._}));f.useEffect(()=>{const _=setTimeout(async()=>{if(p||g(await j()),!h){const N=s?await s(w):await $9();m(N)}});return()=>clearTimeout(_)},[p,h,S]),f.useEffect(()=>{if(n&&h&&!a.selectedShown){const A=h.find(_=>_.id===n);A&&d(A),a.setSelectedShown(!0)}},[h]);const C=f.useMemo(()=>[{id:"all",label:y("all")},{id:"installed",label:y("installed")+(p!=null&&p.length?` (${p.length})`:"")}],[o,p==null?void 0:p.length]),P=f.useCallback(async A=>{const{onInstall:_,onUninstall:N}=t;p!=null&&p.find(V=>V.id===A.id)?(await(N==null?void 0:N(A,w)),await SR(A,{skipUpdateLocal:!!N,installed:N?p:void 0})):(await(_==null?void 0:_(A,w)),await wR(A,{skipUpdateLocal:!!_,installed:_?p:void 0})),g(await j())},[p,S]),O=f.useMemo(()=>(p==null?void 0:p.reduce((A,_)=>(A[_.id]=_.version,A),{}))||{},[p]),T=!!(u||a.hasPending),E=async()=>{if(r){const A=await j();a.setProjectPlugins(A,{clearPending:!0}),c.refreshStudio(),c.store.modalStore.close()}else c.updateStudio()};return l.jsxs(R,{gap:"m",col:!0,full:!0,children:[T&&l.jsxs(R,{children:[!!u&&l.jsx(ze,{onClick:()=>d(void 0),className:F.tAo,border:!1,children:l.jsxs(R,{gap:"xs",items:"center",children:[l.jsx(se,{icon:G.chevronLeft,size:ae.s}),l.jsx("div",{children:y("allPlugins")})]})}),a.hasPending&&l.jsx(ze,{className:"gs-utl-text-sm gs-utl-ml-auto",size:"m2",variant:"out",onClick:E,children:y("updateStudio")})]}),u?l.jsx(I,{grow:!0,className:"gs-utl-w-full",children:l.jsx(sb,{plugin:u,installed:O,onInstall:P,selected:!0})}):l.jsxs(l.Fragment,{children:[l.jsx(I,{children:l.jsx(ir,{tabs:C,onChange:v,value:b})}),l.jsx(I,{grow:!0,children:x?x.length?l.jsx(Xa,{data:x,listClassName:"gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-pr-2",itemContent:(A,_)=>l.jsx(sb,{plugin:_,installed:O,onInstall:P,onSelect:d},_.id)},i):l.jsx(R,{justify:"center",children:o.t("notItemsFound")}):l.jsx(Za,{})})]})]})}),I9=oe(function(){const{isOpen:t,toggleOpen:n}=V0(),{editor:s,sdkProps:r,sdkOptions:o,isProjectTypeEmail:i}=ge(),a=ks(),c=je(),u=r.children,d=c.tScoped("blockManager"),p=W("absolute left-0 top-0 h-full transition-transform z-10",!t&&"-translate-x-full",re.br,F.br,F.bg),g=()=>{a.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>l.jsx(aw,{})})},h=f.useMemo(()=>[!!o.pluginManager&&!i&&{id:"add",title:d("add"),className:F.tAo,onClick:g,icon:G.viewGridPlus}].filter(Boolean),[s]);return l.jsxs(R,{className:p,style:{width:240},col:!0,nowrap:!0,children:[l.jsx(I,{children:l.jsx(Bg,{title:d("blocks"),onClose:n,className:W(Me.s),actions:h})}),l.jsxs(Co,{children:[ln(u,Lg),l.jsx(I,{className:W("overflow-hidden"),grow:!0,children:l.jsx(rw,{isOpen:t})}),ln(u,Mg)]})]})}),Vd="gs-canvas-spot-drag";function V9({spot:e,className:t}){const n=_n(),s=ci(e.component),r=L(re.b,s.border),{originComponent:o,matchedComponents:i,originMatchedDistances:a}=e.attributes;return l.jsxs("div",{className:t,children:[l.jsx(rb,{editor:n,componentEl:o,className:L(Vd,r)}),i.map(c=>l.jsx(rb,{editor:n,componentEl:c,className:L(`${Vd}__matched`,r)},c.id)),a.map((c,u)=>l.jsx(D9,{editor:n,originMatchedDistance:c,className:L(`${Vd}__distance`),componentColorClasses:s},u))]})}function rb(e){const{editor:t,componentEl:n,className:s}=e,r=t.Canvas.getCanvasView(),{x:o,y:i,width:a,height:c}=r.getElBoxRect(n),u=L(s,"gs-utl-absolute gs-utl-top-0 gs-utl-left-0"),d={translate:`${o}px ${i}px`,width:`${a}px`,height:`${c}px`};return l.jsx("div",{className:u,style:d})}function D9(e){const{originMatchedDistance:t,editor:n,className:s,componentColorClasses:r}=e,i=n.Canvas.getCanvasView().clsUnscale||"",{axis:a,x:c,y:u,width:d,height:p}=t,g=a==="y",h=g?d:p,m={translate:`${c}px ${u}px`,width:`${d}px`,height:`${p}px`},b=`${s}__guides`,v=`${s}__guide-info ${s}__guide-info__${a} gs-utl-absolute`,x=L(`${s}__guide-info__line`,r.bg,g?"gs-utl-w-full gs-utl-h-[1px]":"gs-utl-h-full gs-utl-w-[1px]"),y=L(`${s}__guide-info__content gs-utl-w-full gs-utl-h-full gs-utl-flex gs-utl-justify-center gs-utl-items-center`),S=L(`${s}__guide-info__badge gs-utl-shadow-md`,i,r.bg);return l.jsx("div",{className:b,children:l.jsx("div",{className:v,style:m,children:l.jsx("div",{className:x,children:l.jsx("div",{className:y,children:l.jsxs(Tt,{className:S,s:"s",children:[Math.round(h),"px"]})})})})})}const H9={pointerEvents:"all"};function Wo({spot:e,children:t,style:n,spotStyles:s,...r}){const o={...s||e.getStyle(),...n};return l.jsx("div",{...r,style:o,children:l.jsx("div",{style:H9,children:t})})}const kn=f.forwardRef(function({children:t,className:n,position:s,out:r,skipUnscale:o,...i},a){var h;const{Canvas:c}=_n(),u=!o&&((h=c.getCanvasView())==null?void 0:h.clsUnscale)||"",d=[],p={};switch(s){case"top-left":d.push("top-0","left-0"),p.transformOrigin="top left",r&&(p.translate="0 -100%",p.transformOrigin="bottom left");break;case"top-center":d.push("top-0"),p.left="50%",p.translate="-50% 0",p.transformOrigin="top center",r&&(p.translate="-50% -100%",p.transformOrigin="bottom center");break;case"top-right":d.push("top-0","right-0"),p.transformOrigin="top right",r&&(p.translate="0 -100%",p.transformOrigin="bottom right");break;case"center-left":d.push("left-0"),p.top="50%",p.translate="0 -50%",p.transformOrigin="center left",r&&(p.translate="-100% -50%",p.transformOrigin="center right");break;case"center-center":p.top="50%",p.left="50%",p.translate="-50% -50%",p.transformOrigin="center";break;case"center-right":d.push("right-0"),p.top="50%",p.translate="0 -50%",p.transformOrigin="center right",r&&(p.translate="100% -50%",p.transformOrigin="center left");break;case"bottom-left":d.push("left-0","bottom-0"),p.transformOrigin="bottom left",r&&(p.translate="0 100%",p.transformOrigin="top left");break;case"bottom-center":d.push("bottom-0"),p.left="50%",p.translate="-50% 0",p.transformOrigin="bottom center",r&&(p.translate="-50% 100%",p.transformOrigin="top center");break;case"bottom-right":d.push("right-0","bottom-0"),p.transformOrigin="bottom right",r&&(p.translate="0 100%",p.transformOrigin="top right");break}const g={...p,...i.style};return l.jsx("div",{...i,className:L(u,X(n,"gs-utl-flex gs-utl-absolute",d.join(" "))),style:g,ref:a,children:t})});function lw({spot:e,className:t,badgeConfig:n}){const s=_n(),{Canvas:r}=s,o=(n==null?void 0:n.position)||"top-left",[i,a]=f.useState(o),c=e.component,u=e.getBoxRect(),d=r.getWorldRectToScreen(u),p=f.useRef(null),g=r.getElement().clientHeight;return d0(p,{zoomMultiplier:r.getZoomMultiplier(),boxRectScreen:d,vwHeight:g,setPos:a,initialPos:o}),!c||c.get("badgable")===!1?null:l.jsx(kn,{className:"gs-utl-pointer-events-none",ref:p,style:dw,position:i,out:!0,children:l.jsx(Tt,{className:L(n==null?void 0:n.className,"gs-utl-shadow-md",t||ci(c).bg),style:n==null?void 0:n.style,s:"s",children:l.jsxs(R,{gap:"xs",items:"center",nowrap:!0,children:[(n==null?void 0:n.icon)!==!1&&Jf(c),l.jsx("div",{className:"gs-utl-whitespace-nowrap gs-utl-max-w-36 gs-utl-truncate",children:c.getName()})]})})})}function F9({spot:e,className:t,spotConfig:n}){const s=cw(n),r=L(n==null?void 0:n.className,re.b,ci(e.component).border,t);return l.jsx(Wo,{spot:e,className:r,style:n==null?void 0:n.style,children:s&&l.jsx(lw,{spot:e,badgeConfig:s})})}function cw(e){const t=e==null?void 0:e.badge;return t===!1?!1:t===!0?{}:t||{}}const Tc="gs-cmp-canvas-spot-slots",Gp=e=>{var i,a;const{appEditorStore:t,position:n,slots:s,className:r}=e,o=(a=(i=t.sdkCanvasConfig)==null?void 0:i.spotSlotsContainer)==null?void 0:a.call(i,{position:n,slots:s});return{...o,className:L(`${r} gs-utl-pointer-events-none`,o==null?void 0:o.className)}},B9=oe(function(t){const n=ge(),{slots:s=[],cmpRect:r}=t,{topLeft:o,topCenter:i,topRight:a,bottomLeft:c,bottomCenter:u,bottomRight:d}=Yf,p={[o]:[],[i]:[],[a]:[],[c]:[],[u]:[],[d]:[]};s.forEach(j=>{if(!j)return;const{position:C}=j;C&&p[C]&&p[C].push(j)});const g=p[o],h=p[i],m=p[a],b=p[c],v=p[u],x=p[d],y=!!(g.length||h.length||m.length),S=!!(b.length||v.length||x.length),w={width:(r==null?void 0:r.width)||"100%"};return l.jsxs(l.Fragment,{children:[y&&l.jsxs(kn,{position:i,style:w,out:!0,...Gp({appEditorStore:n,className:`${Tc}__top gs-utl-justify-between`,position:"top",slots:[...g,...h,...m]}),children:[l.jsx(No,{slots:g,position:o,align:"start"}),l.jsx(No,{slots:h,position:i,align:"center"}),l.jsx(No,{slots:m,position:a,align:"end"})]}),S&&l.jsxs(kn,{position:u,style:w,out:!0,...Gp({appEditorStore:n,className:`${Tc}__bottom gs-utl-justify-between`,position:"bottom",slots:[...b,...v,...x]}),children:[l.jsx(No,{slots:b,position:c,align:"start"}),l.jsx(No,{slots:v,position:u,align:"center"}),l.jsx(No,{slots:x,position:d,align:"end"})]})]})}),No=oe(function({slots:t,align:n,position:s}){var c;const r=ge(),{editor:o}=r,i=((c=o==null?void 0:o.Canvas.getCanvasView())==null?void 0:c.clsUnscale)||"",a=L(`${Tc}__items ${Tc}__items-${s} gs-utl-pointer-events-auto`,i);return l.jsx(R,{className:"gs-utl-w-full",justify:n,nowrap:!0,children:l.jsx(R,{className:a,gap:"s",items:"center",nowrap:!0,...Gp({appEditorStore:r,className:a,position:s,slots:t}),children:t.map((u,d)=>l.jsx(f.Fragment,{children:Ot(u.layout)},u.id||d))})})});function z9({spot:e,className:t,spotConfig:n}){const s=_n(),r=ge(),o=f.useRef(null),[i]=f.useState(dw),[a,c]=f.useState([]),[u,d]=f.useState([]),[p,g]=f.useState("top-right"),h=e.component,m=e.getBoxRect(),{Canvas:b}=s,v=b.getWorldRectToScreen(m),x=e.getStyle({boxRect:m}),y=s.getSelected()===h,S=b.getElement().clientHeight,w=Wf();f.useEffect(()=>{const V=async()=>d(await W9(h,r)),M=async()=>c(await w.getItemsForComponent(h)),U=setTimeout(()=>{V(),M()},10);return()=>clearTimeout(U)},[h]),d0(o,{zoomMultiplier:b.getZoomMultiplier(),boxRectScreen:v,vwHeight:S,setPos:g});const j=(V={})=>{var D,$,z;const M=(z=($=(D=s.getSelected())==null?void 0:D.view)==null?void 0:$.el)==null?void 0:z.getBoundingClientRect(),H=M?M.left+M.width/2:0,U=M?M.top+M.height/2:0,B={...V.event,clientX:H,clientY:U};return{...V,event:B}},C=(V,M)=>{V==="tlb-move"&&(M=j(M)),nt(V)?s.runCommand(V,M):V==null||V(s,"",M)},P=V=>{const M=V.currentTarget.getBoundingClientRect();w.show({items:a,x:M.x+M.width,y:M.y})},O=ci(h),T=uw(n),E=L(n==null?void 0:n.className,"gs-utl-border-2",O.border,t),A=L(T&&T.className,O.bg,"gs-utl-shadow-md"),_=U9(n),N=T!==!1;return l.jsxs(Wo,{spot:e,spotStyles:x,style:n==null?void 0:n.style,className:E,children:[y&&N&&l.jsx(kn,{ref:o,style:i,position:p,out:!0,children:l.jsx(Tt,{className:A,style:T==null?void 0:T.style,s:"s",nopad:!0,block:!0,children:l.jsxs(R,{gap:"x2s",items:"center",nowrap:!0,children:[_&&l.jsxs(R,{className:L(_.className,"gs-utl-py-1 gs-utl-px-2"),style:_.style,gap:"xs",items:"center",nowrap:!0,children:[_.icon!==!1&&Jf(h),l.jsx("div",{className:L(Le.txtEllips,"gs-utl-max-w-36"),children:h.getName()})]}),u.map(({label:V,command:M="",tooltip:H})=>l.jsx(I,{children:l.jsx(vt,{border:!1,rounded:!1,size:"s",onMouseDown:U=>C(M,{event:U}),tooltipProps:{title:H,strategy:"absolute"},className:L("gs-utl-block gs-utl-py-1.5 gs-utl-px-1.5",F.hBgDark),children:V!=null&&V.startsWith("<svg")?l.jsx(of,{className:"gs-utl-w-4 gs-utl-fill-current",svg:V}):V})},V)),!!a.length&&l.jsx(I,{children:l.jsx(ze,{border:!1,rounded:!1,size:"s",className:L("gs-utl-block",F.hBgDark),onClick:P,children:l.jsx(se,{icon:G.dotsVertical,size:ae.s})})})]})})}),(n==null?void 0:n.slots)&&l.jsx(B9,{slots:n.slots,cmpRect:v})]})}function uw(e){return e&&e.toolbar}function U9(e){const t=uw(e),n=t&&t.badge;return n===!0?{}:n||!1}async function W9(e,t){var d;if(!(e!=null&&e.em))return[];const n=e.em.getEditor(),s=e.toolbar.filter(Boolean),r=e.get("toolbarItems"),o=await Dd(r,{items:s,component:e,editor:n}),i={items:o,component:e,editor:n},a=await Dd(o,i),c=(d=t.sdkComponentsConfig)==null?void 0:d.toolbar;return await Dd(c,{...i,items:a})}const Dd=async(e,t)=>Xe(e)?(await e(t)).filter(Boolean):t.items;var Yn=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(Yn||{});const{PaddingTop:Il,PaddingRight:Hd,PaddingBottom:Vl,PaddingLeft:Fd,MarginTop:Dl,MarginRight:Bd,MarginBottom:Hl,MarginLeft:zd}=Yn,G9=(e,t)=>{const n=t!=null&&t.startsWith("p")?"padding":"margin";return M3(e,n,t)},pr=(e,t,n={})=>{const s=_n(),r=L0(),[o,i]=f.useState(),a=d=>{const g=s.Canvas.getFramesEl().classList,h=d?"add":"remove";g[h]("gs-utl-pointer-events-none"),g[h]("gs-utl-select-none")},c=d=>{var p,g;(p=n.setAltKey)==null||p.call(n,d.altKey),(g=n.setShiftKey)==null||g.call(n,d.shiftKey)};return f.useEffect(()=>{var A;const d=[Il,Vl,Dl,Hl].includes(t),p=document.body.classList,g=e.component.getEl(),h=s.Styles.getSelected(),m=window.getComputedStyle(g),b=d?"!cursor-ns-resize":"!cursor-ew-resize",v=s.Canvas.getZoomMultiplier(),x={};let y=parseFloat(m[t])??0,S,w="",j={};for(const _ of Object.values(Yn)){const N=_;x[N]=m[N]}const C=(_,N)=>{const V=t==null?void 0:t.startsWith("p"),{altKey:M,shiftKey:H}=N,U=x,B={[Il]:H||t===Vl&&M?_:U[Il],[Hd]:H||t===Fd&&M?_:U[Hd],[Vl]:H||t===Il&&M?_:U[Vl],[Fd]:H||t===Hd&&M?_:U[Fd]},k={[Dl]:H||t===Hl&&M?_:U[Dl],[Bd]:H||t===zd&&M?_:U[Bd],[Hl]:H||t===Dl&&M?_:U[Hl],[zd]:H||t===Bd&&M?_:U[zd]};return B[t]=_,k[t]=_,V?B:k},P=_=>{w&&(S?S.upValue(w,_):h==null||h.addStyle(j,_))},O=_=>{if(!o||!h)return;const N=d?_.clientY-o.y:_.clientX-o.x,V=Math.max(0,parseInt(`${y+N*v}`));w=`${V}px`,j=C(w,_),P({partial:!0}),r.show(V)},T=()=>{!o||!h||(i(void 0),a(!1),r.hide(),P())},E=_=>{c(_),j=C(w,_),P({partial:!0})};return o&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",T),document.addEventListener("keydown",E),document.addEventListener("keyup",E),p.add(b),(A=n.onActive)==null||A.call(n,t),n.useStyleProperty&&(S=G9(s,t),y=(S==null?void 0:S.getValue())??y)),()=>{var _;document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",T),document.removeEventListener("keydown",E),document.removeEventListener("keyup",E),p.remove(b),(_=n.onActive)==null||_.call(n,void 0)}},[o]),[f.useCallback(d=>{if(d.button!==0)return;const{clientX:p,clientY:g}=d;i({x:p,y:g}),a(!0),c(d.nativeEvent)},[]),!!o]},Fl="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",ob="gs-utl-bg-[#7fc65e]",ib="gs-utl-bg-[#ebae70]",ab="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",lb="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",K9=f.memo(function({spot:t,disabledHandler:n,useStyleProperty:s,onActive:r}){const[o,i]=f.useState(!1),[a,c]=f.useState(!1),u={onActive:r,setAltKey:i,setShiftKey:c,useStyleProperty:s},[d,p]=pr(t,"padding-top",u),[g,h]=pr(t,"padding-right",u),[m,b]=pr(t,"padding-bottom",u),[v,x]=pr(t,"padding-left",u),[y,S]=pr(t,"margin-top",u),[w,j]=pr(t,"margin-right",u),[C,P]=pr(t,"margin-bottom",u),[O,T]=pr(t,"margin-left",u),E=X(Fl,ob,ab),A=X(Fl,ob,lb),_=X(Fl,ib,ab),N=X(Fl,ib,lb),V=p||h||b||x,M=S||j||P||T,H=V||M,U=(K,Z)=>{let ie=!1;const ue=V&&a,ve=M&&a;switch(Z){case"padding-top":ie=b&&o||ue;break;case"padding-right":ie=x&&o||ue;break;case"padding-bottom":ie=p&&o||ue;break;case"padding-left":ie=h&&o||ue;break;case"margin-top":ie=P&&o||ve;break;case"margin-right":ie=T&&o||ve;break;case"margin-bottom":ie=S&&o||ve;break;case"margin-left":ie=j&&o||ve;break}return!H||K||ie},B=!!(n!=null&&n.padding),k=!!(n!=null&&n.margin),D=!B&&U(p,"padding-top"),$=!B&&U(h,"padding-right"),z=!B&&U(b,"padding-bottom"),J=!B&&U(x,"padding-left"),Y=!k&&U(S,"margin-top"),Q=!k&&U(j,"margin-right"),ne=!k&&U(P,"margin-bottom"),ee=!k&&U(T,"margin-left");return l.jsxs(l.Fragment,{children:[D&&l.jsx(kn,{position:"top-center",onPointerDown:d,children:l.jsx(Tt,{className:A,s:"s",pill:!0,block:!0,nopad:!0})}),$&&l.jsx(kn,{position:"center-right",onPointerDown:g,children:l.jsx(Tt,{className:E,s:"s",pill:!0,block:!0,nopad:!0})}),z&&l.jsx(kn,{position:"bottom-center",onPointerDown:m,children:l.jsx(Tt,{className:A,s:"s",pill:!0,block:!0,nopad:!0})}),J&&l.jsx(kn,{position:"center-left",onPointerDown:v,children:l.jsx(Tt,{className:E,s:"s",pill:!0,block:!0,nopad:!0})}),Y&&l.jsx(kn,{position:"top-center",onPointerDown:y,out:!0,children:l.jsx(Tt,{className:N,s:"s",pill:!0,block:!0,nopad:!0})}),Q&&l.jsx(kn,{position:"center-right",onPointerDown:w,out:!0,children:l.jsx(Tt,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),ne&&l.jsx(kn,{position:"bottom-center",onPointerDown:C,out:!0,children:l.jsx(Tt,{className:N,s:"s",pill:!0,block:!0,nopad:!0})}),ee&&l.jsx(kn,{position:"center-left",onPointerDown:O,out:!0,children:l.jsx(Tt,{className:_,s:"s",pill:!0,block:!0,nopad:!0})})]})}),cb=(e,t)=>{var n;return!!((n=A0(e,t))!=null&&n.isVisible())},q9=(e={})=>{const[t,n,s,r]=fm(e.padding||""),[o,i,a,c]=fm(e.margin||"");return{paddingTop:e[Yn.PaddingTop]||t,paddingRight:e[Yn.PaddingRight]||n,paddingBottom:e[Yn.PaddingBottom]||s,paddingLeft:e[Yn.PaddingLeft]||r,marginTop:e[Yn.MarginTop]||o,marginRight:e[Yn.MarginTop]||i,marginBottom:e[Yn.MarginTop]||a,marginLeft:e[Yn.MarginTop]||c}};function Y9({spot:e,className:t}){const n=_n(),{isProjectTypeEmail:s}=ge(),[r,o]=f.useState(),[i,a]=f.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),p=n.Canvas.getZoomDecimal(),g=d.height*p,h=d.width*p,m=e.getStyle({boxRect:d}),b=n.getSelectedAll().includes(u),v=n.getSelected()===u,x=(r==null?void 0:r.startsWith("p"))??!1,y=(r==null?void 0:r.startsWith("m"))??!1,S=q9(s?u==null?void 0:u.getStyle():{});if(f.useEffect(()=>{b&&a({padding:!cb(n,"padding"),margin:!cb(n,"margin")})},[b]),e.type==="spacing"&&b)return null;const w={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},j={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},C=window.getComputedStyle(c);w.borderTopWidth=S.paddingTop||C.paddingTop,w.borderRightWidth=S.paddingRight||C.paddingRight,w.borderBottomWidth=S.paddingBottom||C.paddingBottom,w.borderLeftWidth=S.paddingLeft||C.paddingLeft,j.borderTopWidth=S.marginTop||C.marginTop,j.borderRightWidth=S.marginTop||C.marginRight,j.borderBottomWidth=S.marginTop||C.marginBottom,j.borderLeftWidth=S.marginTop||C.marginLeft;const P={...m,...w},O={...m,...j,translate:`${d.x-parseFloat(C.marginLeft)}px ${d.y-parseFloat(C.marginTop)}px`};return l.jsxs(l.Fragment,{children:[(!b||x)&&l.jsx(Wo,{spot:e,spotStyles:P,className:X(t)}),(!b||y)&&l.jsx(Wo,{spot:e,spotStyles:O,className:X(t)}),v&&(g>60&&h>60||r)&&l.jsx(Wo,{spot:e,spotStyles:m,className:X(t),children:l.jsx(K9,{spot:e,onActive:o,disabledHandler:i,useStyleProperty:s})})]})}function Z9({spot:e,className:t,spotConfig:n}){const s=cw(n),r=L(n==null?void 0:n.className,"gs-utl-border-2",F.cmpTargetBr,F.cmpTargetBgOpac,t);return l.jsx(Wo,{spot:e,className:r,style:n==null?void 0:n.style,children:s&&l.jsx(lw,{spot:e,className:F.cmpTargetBg,badgeConfig:s})})}async function X9(e,t){var p;const n=e.component,s=n==null?void 0:n.em.getEditor();if(!n||!s)return{};const r={},o=ci(n),i={editor:s,component:n,spot:e,componentTheme:o,result:r},a=n.get("canvasSpots"),c=await(a==null?void 0:a(i))||r,u=(p=t.sdkCanvasConfig)==null?void 0:p.canvasSpots;return await(u==null?void 0:u({...i,result:c}))||c}const J9=9,dw={padding:`${J9}px 0`},ub="dragAbsolute";function Q9({spot:e}){const t=_n(),[n,s]=f.useState(),{Canvas:r}=t,o=ge(),i=t.getEditing(),{type:a,component:c}=e,u=a==="select",d=a==="spacing",p=a==="hover",g=a==="target",h=a===ub,m=[ub];return f.useEffect(()=>{const b="change:editing",v=`${t.Components.events.update}:status ${b}`,x=async()=>s(await X9(e,o)),y=setTimeout(x);return t.on(v,x),()=>{clearTimeout(y),t.off(v,x)}},[c]),!n||!e.el||o.isInPreview||!r.hasCustomSpot(a)&&!m.includes(a)||o.isSelectingTarget&&!g||(p||d)&&i&&(c!=null&&c.isChildOf(i))?null:l.jsxs(l.Fragment,{children:[(d||u)&&n.spacing!==!1&&l.jsx(Y9,{spot:e,className:"gs-utl-z-0"}),g&&n.target!==!1&&l.jsx(Z9,{spot:e,spotConfig:n.target,className:"gs-utl-z-10"}),u&&n.select!==!1&&l.jsx(z9,{spot:e,spotConfig:n.select,className:"gs-utl-z-20"}),p&&n.hover!==!1&&l.jsx(F9,{spot:e,spotConfig:n.hover,className:"gs-utl-z-30"}),h&&l.jsx(V9,{spot:e,className:"gs-utl-z-40"})]})}const db=new WeakMap;function pw(e){if(!e)return()=>null;const t=db.get(e);if(t)return t;const n=function({children:r}){return wn.createPortal(r,e)};return db.set(e,n),n}const eI=f.memo(function({children:t}){const n=ng(),[s,r]=f.useState([]),[o,i]=f.useState({});f.useEffect(()=>{if(!n)return;n.onReady(()=>{const d=n.Canvas.getSpotsEl(),p=pw(d);i({Container:p})});const c="canvas:spot",u=()=>{const d=n.Canvas.getSpots();r(d)};return n.on(c,u),()=>{n.off(c,u)}},[n]);const{Container:a}=o;return n&&a?l.jsx(a,{children:t({spots:s})}):null}),tI=oe(function(){const{isCanvasPanning:t}=ge();return l.jsx(eI,{children:({spots:n})=>l.jsx(Ts,{show:!t,...bv,children:n.map(s=>l.jsx(Q9,{spot:s},s.id))})})}),Yr="gs-layout-panel",nI=f.memo(oe(function({className:t,layout:n,children:s}){const r=eg(),o=ks(),[i,a]=f.useState(!1),[c,u]=f.useState(null),{id:d,header:p,layout:g,props:h,full:m=!0,style:b,toRemove:v,disablePropagation:x}=n,y=()=>{a(!1),setTimeout(()=>r.remove(d,{force:!0}),150)},S=n.placer||{type:Zr.absolute,position:fr.left},w=S.type===Zr.absolute?S:null,j=S.type===Zr.popover?S:null,C=S.type===Zr.static?S:null,P=S.type===Zr.dialog?S:null,O=(w==null?void 0:w.position)===fr.left,T=(w==null?void 0:w.position)===fr.right,E=(w==null?void 0:w.position)===fr.top,A=(w==null?void 0:w.position)===fr.bottom,_=(w==null?void 0:w.position)===fr.center,N=(w==null?void 0:w.resizable)||(C==null?void 0:C.resizable),V=C||P,M=nt(g)?{type:g}:g,H=!!w,{x:U,y:B}=j||{},k=(j==null?void 0:j.w)||(j==null?void 0:j.width),D=(j==null?void 0:j.h)||(j==null?void 0:j.height),$=j==null?void 0:j.target,z=f.useMemo(()=>$&&i?$:{getBoundingClientRect:()=>$?$.getBoundingClientRect():new DOMRect(U,B,k,D)},[U,B,k,D,$,i]),J=fi(z,c,{...v0,placement:"auto",...j==null?void 0:j.options}),Y=L(Yr,F.br,F.bg,F.txt,"gs-utl-z-10",H&&"gs-utl-absolute gs-utl-transition",(O||E)&&"gs-utl-top-0 gs-utl-left-0",T&&"gs-utl-top-0 gs-utl-right-0",A&&"gs-utl-bottom-0 gs-utl-left-0",_&&"gs-utl-scale-100 gs-utl-inset-0",H&&m&&(O||T?"gs-utl-h-full":"gs-utl-w-full"),!i&&H?"gs-utl-opacity-0":"gs-utl-opacity-100",!i&&O&&"-gs-utl-translate-x-full",!i&&T&&"gs-utl-translate-x-full",!i&&E&&"-gs-utl-translate-y-full",!i&&A&&"gs-utl-translate-y-full",!i&&_&&"gs-utl-scale-75",j&&re.rnd,j&&re.b,n.className,t);f.useEffect(()=>{const Z=setTimeout(()=>a(!0));return()=>clearTimeout(Z)},[]),f.useEffect(()=>{v&&y()},[v]);const Q={...b,width:(b==null?void 0:b.width)||(O||T?240:void 0)};u0({current:c},{onTrigger:y,enabled:(j==null?void 0:j.closeOnClickAway)&&i});const ne=Z=>{x&&Z.nativeEvent.stopImmediatePropagation()},ee=l.jsxs(l.Fragment,{children:[p!==!1&&l.jsx(I,{className:L(`${Yr}__header`,p==null?void 0:p.className),style:p==null?void 0:p.style,children:l.jsx(Bg,{onClose:(p==null?void 0:p.close)!==!1?y:void 0,className:X(Me.s),title:l.jsxs(R,{className:`${Yr}__title`,space:"s",items:"center",children:[!!(p!=null&&p.icon)&&l.jsx(se,{icon:p.icon,size:ae.s}),!!(p!=null&&p.label)&&l.jsx(I,{grow:!0,children:p.label})]})})}),l.jsx(I,{className:L(`${Yr}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:g||d?Ot({...h,id:d,...M}):s})]}),K=l.jsx(R,{className:Y,style:Q,col:!0,nowrap:!0,onPointerDown:ne,onMouseDown:ne,children:N?l.jsx(Ja,{...N,className:L(`${Yr}__resizable`,N.className),children:ee}):ee});return f.useEffect(()=>{if(i){if(C){const Z=r.layoutsById.get(C.layoutId);if(Z)return Z.setState({children:K}),()=>{!n.placer.skipCleanup&&Z.setState({children:null})}}else if(P)return o.open({content:()=>K,disablePropagation:x,title:P.title,size:P.size,onClose:y}),()=>{o.close()}}},[i]),V?null:j?l.jsx("div",{className:X(Yr,`${Yr}-popover`,"gs-utl-z-20"),ref:u,style:J.styles.popper,...J.attributes.popper,children:l.jsx(Ts,{show:i,...Ma,unmount:!1,children:K})}):K})),sI=oe(function({className:t,...n}){const{layouts:s}=eg();return l.jsx("div",{className:L("gs-layout-panel-container",t),...n,children:s.map(r=>l.jsx(nI,{layout:r},r.id))})}),zs="gs-cmp-modal";function fw({open:e=!1,title:t,disablePropagation:n,isDarkTheme:s,description:r,children:o,onClose:i,preventOverflow:a,closable:c=!0,fullH:u,buttons:d=[],size:p}){const g=()=>c&&i(),h=L(iv,`${zs} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,s&&xp),m=L(`${zs}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,u?"gs-utl-items-stretch gs-utl-h-full":"gs-utl-items-center",a&&"gs-utl-h-dvh"),b=L(`${zs}-container`,"gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",re.b,F.br,F.bg,F.txt,p==="lg"?"gs-utl-max-w-lg":p==="l"?"gs-utl-max-w-5xl":p==="s"?"gs-utl-max-w-sm":"gs-utl-max-w-md"),v=L(`${zs}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`),x=L(`${zs}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`),y=L(`${zs}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`),S=L(`${zs}-desc gs-utl-m-0`),w=L(`${zs}-content gs-utl-mt-4 gs-utl-h-full gs-utl-min-h-0`,a&&"gs-utl-overflow-hidden"),j=L(`${zs}-buttons gs-utl-mt-4`),C=P=>{n&&P.nativeEvent.stopImmediatePropagation()};return l.jsx(Ts,{show:e,as:f.Fragment,children:l.jsx(Ei,{onClose:g,className:h,onPointerDown:C,onMouseDown:C,children:l.jsxs("div",{className:m,children:[l.jsx(Ts.Child,{as:f.Fragment,...Ma,children:l.jsx(Ei.Overlay,{className:v})}),l.jsx(Ts.Child,{as:f.Fragment,...lf,children:l.jsxs("div",{className:b,children:[c&&l.jsx("div",{className:x,children:l.jsx(vt,{block:!0,border:!1,onClick:g,children:l.jsx(se,{icon:G.close,size:1})})}),l.jsx(Ei.Title,{as:"h3",className:y,children:t}),l.jsx(Ei.Description,{className:S,children:r}),l.jsx("div",{className:w,children:o}),d.length>0&&l.jsx(R,{className:j,space:"m",items:"center",justify:"end",children:d.map((P,O)=>l.jsx(ze,{...P},O))})]})}),l.jsx(Ei,{onClose:()=>{},open:!1})]})})})}const rI=oe(function(){const{isOpen:t,close:n,content:s,modalProps:r}=ks(),{isDarkTheme:o}=gn();return l.jsx(fw,{open:t,onClose:n,isDarkTheme:o,...r,children:Xe(s)?s():s})}),oI="gs-panel-page-settings-cnt",iI=oe(function(){const t=je(),n=ge(),{panelPageSettings:s}=n,r=t.tScoped("pageManager.settings"),{isOpen:o,page:i,width:a}=s,c=W(oI,"absolute left-0 top-0 h-full transition-transform z-10",!o&&"-translate-x-full",re.br,F.br,F.bg),u=W(Me.s),d=()=>n.setPanelPageSettings({isOpen:!1});return l.jsxs(R,{className:c,style:{width:a},col:!0,nowrap:!0,children:[l.jsx(I,{children:l.jsx(Bg,{title:r("title"),onClose:d,className:u})}),l.jsx(Co,{children:l.jsx(I,{className:W("overflow-hidden"),grow:!0,children:s.isOpen&&l.jsx(Fx,{page:i,size:Qc.s,classNameHeader:u,classNameContent:u,classNameFooter:u})})})]})}),pb="gs-cmp-custom-rte",aI=oe(function({items:t}){const n=s=>s.nativeEvent.stopImmediatePropagation();return l.jsx(fn,{className:L(pb,"gs-utl-m-2"),size:"s",onPointerDown:n,onMouseDown:n,classNameBody:L(`${pb}__body`,"gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),children:Ot(t)})});function lI({children:e}){const t=ng(),[n,s]=f.useState({enabled:!1,actions:[],Container:()=>null});f.useEffect(()=>{if(!t)return;const c=t.RichTextEditor,u=c.events.custom,d=p=>{let g;const h=c.customRte,m=h==null?void 0:h.toolbar,b=c.model.attributes.currentView;m&&(b!=null&&b.model)&&(g=m({editor:t,view:b,component:b.model,el:b.getChildrenContainer()}));const v=c.getAll().map(x=>({id:x.name,icon:x.icon,run:()=>c.run(x),state:x.currentState}));s({customRte:h,customToolbar:g,enabled:p.enabled,Container:pw(p.container),actions:v})};return t.on(u,d),()=>{t.off(u,d)}},[t]);const{Container:r,customToolbar:o,customRte:i}=n,a=o?l.jsx(aI,{items:o}):null;return t&&r?l.jsx(r,{children:i?a:e(n)}):null}function cI(){return l.jsx(lI,{children:({actions:e})=>l.jsx(R,{className:W(F.bg,re.b,re.rnd,F.br,"gjs-m-2"),nowrap:!0,children:e.map((t,n)=>l.jsx(ze,{border:!1,rounded:!1,active:t.state===1,disabled:t.state===-1,className:W("w-6",F.br,n!==0&&re.bl),dangerouslySetInnerHTML:{__html:t.icon},onClick:t.run},t.id))})})}const uI=oe(e=>{const{select:t,close:n,Container:s,open:r}=e,o=So(),{editor:i}=ge();if(!i||!r)return l.jsx(s,{children:null});const{providers:a,onSelect:c,typeId:u,providerId:d,types:p,optionalType:g,optionalProvider:h,projectAssetsOption:m,content:b}=i.Assets.__customData().options;return l.jsx(s,{children:l.jsx(_x,{panelId:o.mainPanelId,onSelect:c??(({asset:v})=>t(v)),close:n,types:p,providers:a,typeId:u,providerId:d,optionalType:g,optionalProvider:m??h,content:b})})}),dI=oe(function(){var x,y;const t=ge(),n=So(),{projectType:s,editorKey:r,setEditor:o,sdkProps:i,sdkOptions:a,currentLayout:c}=t,{isDarkTheme:u}=gn(),d=!!((y=(x=a.gjsOptions)==null?void 0:x.assetManager)!=null&&y.custom),p=Eg(),[g,h]=f.useMemo(()=>[yR(s,a),p.getPluginsToLoad(s,t)],[s,r]),m=S=>{var w,j;o(S),n.onEditor(),(w=i.onEditor)==null||w.call(i,S),(j=a.onEditor)==null||j.call(a,S),S.on("destroy",()=>{var C;o(),(C=a.onDestroy)==null||C.call(a,S),t.setIsReady(!1)})},b=S=>{var w,j;(w=i.onReady)==null||w.call(i,S),(j=a.onReady)==null||j.call(a,S),t.setIsReady(!0)},v=(S,w)=>{var j,C;(j=i.onUpdate)==null||j.call(i,S,w),(C=a.onUpdate)==null||C.call(a,S,w)};return l.jsxs(GM,{className:W("gs-editor-gjs h-full w-full",re.b,F.br),grapesjs:a.gjsScript,grapesjsCss:a.gjsStyle,options:g,plugins:h,onEditor:m,onReady:b,onUpdate:v,children:[Ot(c),l.jsx(sI,{}),l.jsx(I9,{}),l.jsx(iI,{}),!d&&l.jsx(VM,{children:S=>l.jsx(uI,{...S})}),l.jsx(KM,{children:({open:S,title:w,close:j,content:C})=>l.jsx(fw,{open:S,onClose:j,title:l.jsx(l.Fragment,{children:w}),isDarkTheme:u,size:"l",children:l.jsx(l.Fragment,{children:C})})}),l.jsx(tI,{}),l.jsx(cI,{}),l.jsx(rI,{})]},r)}),pI=oe(function(){const t=ge(),{updateAppShell:n}=gn(),{editor:s,editorKey:r,sdkLicenseError:o,sdkMisconfigurationError:i,isReady:a,licenseCheckStarted:c,rootElWidth:u}=t,d=ks(),p=je(),g=Eg();I0();const h=!!r&&!!u;return f.useEffect(()=>{n&&document.querySelector("body").classList.add(...X(F.bg,"overflow-hidden").split(" "))},[]),f.useEffect(()=>{if(a&&!c&&!sf()){const m=setTimeout(()=>t.loadLicense(),100);return()=>clearTimeout(m)}},[a,c]),f.useEffect(()=>{i&&console.error(i)},[i]),f.useEffect(()=>{if(!s)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async v=>{if(!v.files.length)return;const S=await(await v.files[0].getFile()).text();t.loadProjectData(JSON.parse(S))});const{plg:m}=t.queryParams;m&&!g.selectedShown&&d.open({fullH:!0,title:p.t("pluginManager.plugins"),content:()=>l.jsx(aw,{selectedId:m})});const b=qs(()=>t.refreshEditorCanvas(),100);return window.addEventListener("scroll",b,!0),()=>window.removeEventListener("scroll",b,!0)},[s]),f.useEffect(()=>{},[]),l.jsxs(R,{className:X("relative transition-colors h-full",F.bg,F.txt),justify:"center",items:"center",col:!0,children:[h&&(o?l.jsxs(R,{col:!0,justify:"center",items:"center",children:[l.jsx("div",{children:"SDK License Error"}),l.jsx("span",{className:X("text-sm"),children:o})]}):i?l.jsx(R,{col:!0,justify:"center",items:"center",children:l.jsx("div",{children:"SDK Misconfiguration Error"})}):l.jsx(dI,{})),l.jsx(Ts,{show:!h,as:f.Fragment,...Ma,children:l.jsx(Za,{className:X("z-10",F.bg),abs:!0})})]})});function fI({projectType:e,project:t}){const n=gI({projectType:e}),s={type:e,default:{pages:[n]}};return t?(t.type=t.type??s.type,t.default=t.default??s.default,t):s}function gI({projectType:e}){const t={name:"Web",component:hI},n={name:"Email",component:mI};switch(e){case Ce.web:return t;case Ce.email:return n;default:return t}}const Oc="https://app.grapesjs.com/docs-sdk/configuration/projects#self-hosted-storage",_c="https://app.grapesjs.com/docs-sdk/configuration/projects#setup",gw="https://app.grapesjs.com/docs-sdk/img/grapesjs-logo-black.svg",hI=`<body>
    <header class="head">
      <img class="logo" src="${gw}" alt="GrapesJS Logo">
    </header>
    <div class="card">
        <h1 class="title">Welcome to GrapesJS Studio SDK!</h1>
        <p class="subtitle">You're currently viewing the default fallback project for web.</p>

        <p class="paragraph">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a class="link" href="${Oc}" target="_blank">${Oc}</a>
        </p>

        <p class="paragraph">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a class="link" href="${_c}" target="_blank">${_c}</a>
        </p>

        <footer class="footer">Happy building! </footer>
    </div>
    <style>
      body {
        background-color: #e7e7e7;
        font-family: Arial, sans-serif;
      }
      .head {
        padding: 50px 50px 35px;
      }
      .logo {
        max-width: 250px;
        display: block;
        margin: 0 auto;
      }
      .card {
        max-width: 600px;
        padding: 40px 45px;
        background-color: white;
        border-radius: 15px;
        margin: 0 auto;
        color: #333333;
        font-size: 16px;
      }
      .title {
        color: #af4e8a;
        font-size: 24px;
        font-weight: bold;
        margin: 0;
        text-align: center;
      }
      .subtitle {
        text-align: center;
        margin: 0;
        padding: 25px 0;
      }
      .paragraph {
        line-height: 1.5;
        margin-bottom: 40px;
      }
      .link {
        color:#af4e8a;
        text-decoration:none;
        font-size:13px;
      }
      .footer {
        margin-top: 30px;
        text-align: center;
      }
  </style>
</body>`,mI=`<mjml>
  <mj-body background-color="#E7E7E7">
    <mj-section full-width="full-width" padding="50px 50px 35px 50px">
      <mj-column width="100%">
        <mj-image src="${gw}" width="250px" padding="0px" />
      </mj-column>
    </mj-section>
    <mj-section padding="0px">
      <mj-column background-color="white" border-radius="15px" padding="40px 20px">
        <mj-text color="#af4e8a" font-size="24px" font-weight="bold" align="center">
          Welcome to GrapesJS Studio SDK!
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" align="center" padding="10px 25px 25px 25px">
          You're currently viewing the default fallback project for emails.
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" padding="10px 25px 30px 25px">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a href="${Oc}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Oc}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a id="iu9rf-2" href="${_c}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${_c}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" align="center" padding="30px 25px 10px 25px">Happy building! 
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>`,Kp={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},bI=f.forwardRef(function(t,n){var d;const{options:s=Kp}=t,r={theme:s.theme},o=s.localStorage,i=o?Y0(o,r):r,a=(i==null?void 0:i.lastProjectType)||((d=s.project)==null?void 0:d.type)||Ce.web,c=fI({projectType:a,project:s.project}),u={localSettingsStore:{...i,key:o,updateAppShell:s.updateAppShell,rootEl:s.root},appEditorStore:{isDev:k9,isStage:!!s.stg,licenseKey:s.licenseKey,projectType:a,sdkProps:{...t,options:{...Kp,gjsScript:L9,gjsStyle:N9,...s,project:c}}}};return l.jsx(CR,{initialState:u,children:l.jsx(HR,{ref:n,children:l.jsx(pI,{})})})});const hw=bI;exports.AssetStorageType=cc;exports.AssetType=jr;exports.BlockManagerAfter=Mg;exports.BlockManagerBefore=Lg;exports.BuiltInActionButtons=Nn;exports.CanvasSpotSlotPosition=Yf;exports.ComponentContextMenuItem=Us;exports.ComponentContextMenuSource=Xc;exports.DataComponentTypes=At;exports.DesignManagerTab=Qx;exports.GlobalStyleFieldType=w0;exports.IconNames=G;exports.LayerManagerAfter=kg;exports.LayerManagerBefore=Rg;exports.LayersProvider=sg;exports.LayoutPlacers=Zr;exports.LayoutPosition=fr;exports.PageManagerAfter=$g;exports.PageManagerBefore=Ig;exports.PagesProvider=rg;exports.ProjectStorageType=uc;exports.ProjectType=Ce;exports.SelectorsProvider=og;exports.StudioCanvasSpotType=x0;exports.StudioCommands=ce;exports.StudioCustomLayout=fc;exports.StudioEditor=hw;exports.StudioEvents=pn;exports.ThemeValue=zn;exports.ToastVariant=Kt;exports.default=hw;exports.useEditor=_n;
