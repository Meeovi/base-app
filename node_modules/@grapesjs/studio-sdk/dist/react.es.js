import { jsx as u, jsxs as L, Fragment as pe } from "react/jsx-runtime";
import * as et from "react";
import B, { useRef as q, useEffect as G, useState as W, forwardRef as Yt, memo as Pe, useLayoutEffect as Fc, useMemo as ue, Fragment as It, isValidElement as RS, cloneElement as IS, createElement as Ro, useCallback as Et, createContext as Je, useContext as He, useReducer as Ho, createRef as ma, useImperativeHandle as zc, Children as jS } from "react";
import * as VS from "react-dom";
import Sb, { unstable_batchedUpdates as qi, flushSync as Cb, createPortal as df } from "react-dom";
import { createRoot as DS } from "react-dom/client";
class HS extends Error {
  constructor(t, n) {
    super(t), this.error = t, this.errorData = n;
  }
}
const Ri = async (e, { onError: t, onLoading: n, onResult: r, params: o, rawText: s, ...i }) => {
  try {
    n == null || n(!0);
    const a = o ? new URLSearchParams(o).toString() : "", l = a ? `?${a}` : "", c = await fetch(`${e}${l}`, i);
    if (!c.ok) {
      const p = await c.json();
      throw new HS(p.error || "Request failed!", p.errorData);
    }
    let d;
    if (s)
      d = await c.text();
    else
      try {
        d = await c.json();
      } catch {
        d = void 0;
      }
    return r == null || r(d), d;
  } catch (a) {
    const l = a instanceof Error ? a : new Error(a);
    if (t == null || t(l), i.throwError)
      throw l;
    return l;
  } finally {
    n == null || n(!1);
  }
};
class Fr {
  static async get(t, n) {
    return Ri(t, { ...n, method: "GET" });
  }
  static async post(t, n) {
    return Ri(t, { ...n, method: "POST" });
  }
  static async put(t, n) {
    return Ri(t, { ...n, method: "PUT" });
  }
  static async patch(t, n) {
    return Ri(t, { ...n, method: "PATCH" });
  }
  static async delete(t, n) {
    return Ri(t, { ...n, method: "DELETE" });
  }
}
function Ze(e) {
  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
    n[r - 1] = arguments[r];
  throw new Error(typeof e == "number" ? "[MobX] minified error nr: " + e + (n.length ? " " + n.map(String).join(",") : "") + ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts" : "[MobX] " + e);
}
var BS = {};
function Uc() {
  return typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : BS;
}
var xb = Object.assign, pc = Object.getOwnPropertyDescriptor, Rr = Object.defineProperty, ja = Object.prototype, rp = [];
Object.freeze(rp);
var pf = {};
Object.freeze(pf);
var FS = typeof Proxy < "u", zS = /* @__PURE__ */ Object.toString();
function Pb() {
  FS || Ze("Proxy not available");
}
function Eb(e) {
  var t = !1;
  return function() {
    if (!t)
      return t = !0, e.apply(this, arguments);
  };
}
var qs = function() {
};
function pr(e) {
  return typeof e == "function";
}
function ys(e) {
  var t = typeof e;
  switch (t) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function Wc(e) {
  return e !== null && typeof e == "object";
}
function co(e) {
  if (!Wc(e))
    return !1;
  var t = Object.getPrototypeOf(e);
  if (t == null)
    return !0;
  var n = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
  return typeof n == "function" && n.toString() === zS;
}
function Tb(e) {
  var t = e == null ? void 0 : e.constructor;
  return t ? t.name === "GeneratorFunction" || t.displayName === "GeneratorFunction" : !1;
}
function Va(e, t, n) {
  Rr(e, t, {
    enumerable: !1,
    writable: !0,
    configurable: !0,
    value: n
  });
}
function Ob(e, t, n) {
  Rr(e, t, {
    enumerable: !1,
    writable: !1,
    configurable: !0,
    value: n
  });
}
function Bo(e, t) {
  var n = "isMobX" + e;
  return t.prototype[n] = !0, function(r) {
    return Wc(r) && r[n] === !0;
  };
}
function wi(e) {
  return e != null && Object.prototype.toString.call(e) === "[object Map]";
}
function US(e) {
  var t = Object.getPrototypeOf(e), n = Object.getPrototypeOf(t), r = Object.getPrototypeOf(n);
  return r === null;
}
function to(e) {
  return e != null && Object.prototype.toString.call(e) === "[object Set]";
}
var _b = typeof Object.getOwnPropertySymbols < "u";
function WS(e) {
  var t = Object.keys(e);
  if (!_b)
    return t;
  var n = Object.getOwnPropertySymbols(e);
  return n.length ? [].concat(t, n.filter(function(r) {
    return ja.propertyIsEnumerable.call(e, r);
  })) : t;
}
var si = typeof Reflect < "u" && Reflect.ownKeys ? Reflect.ownKeys : _b ? function(e) {
  return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));
} : (
  /* istanbul ignore next */
  Object.getOwnPropertyNames
);
function Ab(e) {
  return e === null ? null : typeof e == "object" ? "" + e : e;
}
function io(e, t) {
  return ja.hasOwnProperty.call(e, t);
}
var GS = Object.getOwnPropertyDescriptors || function(t) {
  var n = {};
  return si(t).forEach(function(r) {
    n[r] = pc(t, r);
  }), n;
};
function Ln(e, t) {
  return !!(e & t);
}
function Nn(e, t, n) {
  return n ? e |= t : e &= ~t, e;
}
function eh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function th(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, qS(r.key), r);
  }
}
function Si(e, t, n) {
  return t && th(e.prototype, t), n && th(e, n), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}
function Ys(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n)
    return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = YS(e)) || t && e && typeof e.length == "number") {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? {
        done: !0
      } : {
        done: !1,
        value: e[r++]
      };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function ws() {
  return ws = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ws.apply(null, arguments);
}
function Lb(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, op(e, t);
}
function op(e, t) {
  return op = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, r) {
    return n.__proto__ = r, n;
  }, op(e, t);
}
function KS(e, t) {
  if (typeof e != "object" || !e)
    return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(e, t || "default");
    if (typeof r != "object")
      return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function qS(e) {
  var t = KS(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function YS(e, t) {
  if (e) {
    if (typeof e == "string")
      return eh(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? eh(e, t) : void 0;
  }
}
var kr = /* @__PURE__ */ Symbol("mobx-stored-annotations");
function Ir(e) {
  function t(n, r) {
    if (Ha(r))
      return e.decorate_20223_(n, r);
    Da(n, r, e);
  }
  return Object.assign(t, e);
}
function Da(e, t, n) {
  io(e, kr) || Va(e, kr, ws({}, e[kr])), o2(n) || (e[kr][t] = n);
}
function ZS(e) {
  return io(e, kr) || Va(e, kr, ws({}, e[kr])), e[kr];
}
function Ha(e) {
  return typeof e == "object" && typeof e.kind == "string";
}
var Oe = /* @__PURE__ */ Symbol("mobx administration"), Fo = /* @__PURE__ */ function() {
  function e(n) {
    n === void 0 && (n = "Atom"), this.name_ = void 0, this.flags_ = 0, this.observers_ = /* @__PURE__ */ new Set(), this.lastAccessedBy_ = 0, this.lowestObserverState_ = rt.NOT_TRACKING_, this.onBOL = void 0, this.onBUOL = void 0, this.name_ = n;
  }
  var t = e.prototype;
  return t.onBO = function() {
    this.onBOL && this.onBOL.forEach(function(r) {
      return r();
    });
  }, t.onBUO = function() {
    this.onBUOL && this.onBUOL.forEach(function(r) {
      return r();
    });
  }, t.reportObserved = function() {
    return Gb(this);
  }, t.reportChanged = function() {
    Kn(), Kb(this), qn();
  }, t.toString = function() {
    return this.name_;
  }, Si(e, [{
    key: "isBeingObserved",
    get: function() {
      return Ln(this.flags_, e.isBeingObservedMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isBeingObservedMask_, r);
    }
  }, {
    key: "isPendingUnobservation",
    get: function() {
      return Ln(this.flags_, e.isPendingUnobservationMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isPendingUnobservationMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Ln(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
Fo.isBeingObservedMask_ = 1;
Fo.isPendingUnobservationMask_ = 2;
Fo.diffValueMask_ = 4;
var ff = /* @__PURE__ */ Bo("Atom", Fo);
function Nb(e, t, n) {
  t === void 0 && (t = qs), n === void 0 && (n = qs);
  var r = new Fo(e);
  return t !== qs && uC(r, t), n !== qs && ev(r, n), r;
}
function XS(e, t) {
  return e === t;
}
function JS(e, t) {
  return yf(e, t);
}
function QS(e, t) {
  return yf(e, t, 1);
}
function e2(e, t) {
  return Object.is ? Object.is(e, t) : e === t ? e !== 0 || 1 / e === 1 / t : e !== e && t !== t;
}
var ii = {
  identity: XS,
  structural: JS,
  default: e2,
  shallow: QS
};
function Ss(e, t, n) {
  return mf(e) ? e : Array.isArray(e) ? en.array(e, {
    name: n
  }) : co(e) ? en.object(e, void 0, {
    name: n
  }) : wi(e) ? en.map(e, {
    name: n
  }) : to(e) ? en.set(e, {
    name: n
  }) : typeof e == "function" && !va(e) && !ya(e) ? Tb(e) ? xs(e) : ba(n, e) : e;
}
function t2(e, t, n) {
  if (e == null || ai(e) || Wa(e) || zo(e) || ir(e))
    return e;
  if (Array.isArray(e))
    return en.array(e, {
      name: n,
      deep: !1
    });
  if (co(e))
    return en.object(e, void 0, {
      name: n,
      deep: !1
    });
  if (wi(e))
    return en.map(e, {
      name: n,
      deep: !1
    });
  if (to(e))
    return en.set(e, {
      name: n,
      deep: !1
    });
}
function Gc(e) {
  return e;
}
function n2(e, t) {
  return yf(e, t) ? t : e;
}
var r2 = "override";
function o2(e) {
  return e.annotationType_ === r2;
}
function Ba(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: s2,
    extend_: i2,
    decorate_20223_: a2
  };
}
function s2(e, t, n, r) {
  var o;
  if ((o = this.options_) != null && o.bound)
    return this.extend_(e, t, n, !1) === null ? 0 : 1;
  if (r === e.target_)
    return this.extend_(e, t, n, !1) === null ? 0 : 2;
  if (va(n.value))
    return 1;
  var s = kb(e, this, t, n, !1);
  return Rr(r, t, s), 2;
}
function i2(e, t, n, r) {
  var o = kb(e, this, t, n);
  return e.defineProperty_(t, o, r);
}
function a2(e, t) {
  var n = t.kind, r = t.name, o = t.addInitializer, s = this, i = function(c) {
    var d, p, f, g;
    return Cs((d = (p = s.options_) == null ? void 0 : p.name) != null ? d : r.toString(), c, (f = (g = s.options_) == null ? void 0 : g.autoAction) != null ? f : !1);
  };
  if (n == "field")
    return function(l) {
      var c, d = l;
      return va(d) || (d = i(d)), (c = s.options_) != null && c.bound && (d = d.bind(this), d.isMobxAction = !0), d;
    };
  if (n == "method") {
    var a;
    return va(e) || (e = i(e)), (a = this.options_) != null && a.bound && o(function() {
      var l = this, c = l[r].bind(l);
      c.isMobxAction = !0, l[r] = c;
    }), e;
  }
  Ze("Cannot apply '" + s.annotationType_ + "' to '" + String(r) + "' (kind: " + n + "):" + (`
'` + s.annotationType_ + "' can only be used on properties with a function value."));
}
function l2(e, t, n, r) {
  t.annotationType_, r.value;
}
function kb(e, t, n, r, o) {
  var s, i, a, l, c, d, p;
  o === void 0 && (o = ye.safeDescriptors), l2(e, t, n, r);
  var f = r.value;
  if ((s = t.options_) != null && s.bound) {
    var g;
    f = f.bind((g = e.proxy_) != null ? g : e.target_);
  }
  return {
    value: Cs(
      (i = (a = t.options_) == null ? void 0 : a.name) != null ? i : n.toString(),
      f,
      (l = (c = t.options_) == null ? void 0 : c.autoAction) != null ? l : !1,
      // https://github.com/mobxjs/mobx/discussions/3140
      (d = t.options_) != null && d.bound ? (p = e.proxy_) != null ? p : e.target_ : void 0
    ),
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: o ? e.isPlainObject_ : !0,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: !1,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: !o
  };
}
function Mb(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: c2,
    extend_: u2,
    decorate_20223_: d2
  };
}
function c2(e, t, n, r) {
  var o;
  if (r === e.target_)
    return this.extend_(e, t, n, !1) === null ? 0 : 2;
  if ((o = this.options_) != null && o.bound && (!io(e.target_, t) || !ya(e.target_[t])) && this.extend_(e, t, n, !1) === null)
    return 0;
  if (ya(n.value))
    return 1;
  var s = $b(e, this, t, n, !1, !1);
  return Rr(r, t, s), 2;
}
function u2(e, t, n, r) {
  var o, s = $b(e, this, t, n, (o = this.options_) == null ? void 0 : o.bound);
  return e.defineProperty_(t, s, r);
}
function d2(e, t) {
  var n, r = t.name, o = t.addInitializer;
  return ya(e) || (e = xs(e)), (n = this.options_) != null && n.bound && o(function() {
    var s = this, i = s[r].bind(s);
    i.isMobXFlow = !0, s[r] = i;
  }), e;
}
function p2(e, t, n, r) {
  t.annotationType_, r.value;
}
function $b(e, t, n, r, o, s) {
  s === void 0 && (s = ye.safeDescriptors), p2(e, t, n, r);
  var i = r.value;
  if (ya(i) || (i = xs(i)), o) {
    var a;
    i = i.bind((a = e.proxy_) != null ? a : e.target_), i.isMobXFlow = !0;
  }
  return {
    value: i,
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: s ? e.isPlainObject_ : !0,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: !1,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: !s
  };
}
function gf(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: f2,
    extend_: g2,
    decorate_20223_: h2
  };
}
function f2(e, t, n) {
  return this.extend_(e, t, n, !1) === null ? 0 : 1;
}
function g2(e, t, n, r) {
  return m2(e, this, t, n), e.defineComputedProperty_(t, ws({}, this.options_, {
    get: n.get,
    set: n.set
  }), r);
}
function h2(e, t) {
  var n = this, r = t.name, o = t.addInitializer;
  return o(function() {
    var s = Ns(this)[Oe], i = ws({}, n.options_, {
      get: e,
      context: this
    });
    i.name || (i.name = "ObservableObject." + r.toString()), s.values_.set(r, new fr(i));
  }), function() {
    return this[Oe].getObservablePropValue_(r);
  };
}
function m2(e, t, n, r) {
  t.annotationType_, r.get;
}
function Kc(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: b2,
    extend_: v2,
    decorate_20223_: y2
  };
}
function b2(e, t, n) {
  return this.extend_(e, t, n, !1) === null ? 0 : 1;
}
function v2(e, t, n, r) {
  var o, s;
  return w2(e, this), e.defineObservableProperty_(t, n.value, (o = (s = this.options_) == null ? void 0 : s.enhancer) != null ? o : Ss, r);
}
function y2(e, t) {
  var n = this, r = t.kind, o = t.name, s = /* @__PURE__ */ new WeakSet();
  function i(a, l) {
    var c, d, p = Ns(a)[Oe], f = new Mo(l, (c = (d = n.options_) == null ? void 0 : d.enhancer) != null ? c : Ss, "ObservableObject." + o.toString(), !1);
    p.values_.set(o, f), s.add(a);
  }
  if (r == "accessor")
    return {
      get: function() {
        return s.has(this) || i(this, e.get.call(this)), this[Oe].getObservablePropValue_(o);
      },
      set: function(l) {
        return s.has(this) || i(this, l), this[Oe].setObservablePropValue_(o, l);
      },
      init: function(l) {
        return s.has(this) || i(this, l), l;
      }
    };
}
function w2(e, t, n, r) {
  t.annotationType_;
}
var S2 = "true", C2 = /* @__PURE__ */ Rb();
function Rb(e) {
  return {
    annotationType_: S2,
    options_: e,
    make_: x2,
    extend_: P2,
    decorate_20223_: E2
  };
}
function x2(e, t, n, r) {
  var o, s;
  if (n.get)
    return qc.make_(e, t, n, r);
  if (n.set) {
    var i = Cs(t.toString(), n.set);
    return r === e.target_ ? e.defineProperty_(t, {
      configurable: ye.safeDescriptors ? e.isPlainObject_ : !0,
      set: i
    }) === null ? 0 : 2 : (Rr(r, t, {
      configurable: !0,
      set: i
    }), 2);
  }
  if (r !== e.target_ && typeof n.value == "function") {
    var a;
    if (Tb(n.value)) {
      var l, c = (l = this.options_) != null && l.autoBind ? xs.bound : xs;
      return c.make_(e, t, n, r);
    }
    var d = (a = this.options_) != null && a.autoBind ? ba.bound : ba;
    return d.make_(e, t, n, r);
  }
  var p = ((o = this.options_) == null ? void 0 : o.deep) === !1 ? en.ref : en;
  if (typeof n.value == "function" && (s = this.options_) != null && s.autoBind) {
    var f;
    n.value = n.value.bind((f = e.proxy_) != null ? f : e.target_);
  }
  return p.make_(e, t, n, r);
}
function P2(e, t, n, r) {
  var o, s;
  if (n.get)
    return qc.extend_(e, t, n, r);
  if (n.set)
    return e.defineProperty_(t, {
      configurable: ye.safeDescriptors ? e.isPlainObject_ : !0,
      set: Cs(t.toString(), n.set)
    }, r);
  if (typeof n.value == "function" && (o = this.options_) != null && o.autoBind) {
    var i;
    n.value = n.value.bind((i = e.proxy_) != null ? i : e.target_);
  }
  var a = ((s = this.options_) == null ? void 0 : s.deep) === !1 ? en.ref : en;
  return a.extend_(e, t, n, r);
}
function E2(e, t) {
  Ze("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var T2 = "observable", O2 = "observable.ref", _2 = "observable.shallow", A2 = "observable.struct", Ib = {
  deep: !0,
  name: void 0,
  defaultDecorator: void 0,
  proxy: !0
};
Object.freeze(Ib);
function bl(e) {
  return e || Ib;
}
var sp = /* @__PURE__ */ Kc(T2), L2 = /* @__PURE__ */ Kc(O2, {
  enhancer: Gc
}), N2 = /* @__PURE__ */ Kc(_2, {
  enhancer: t2
}), k2 = /* @__PURE__ */ Kc(A2, {
  enhancer: n2
}), jb = /* @__PURE__ */ Ir(sp);
function vl(e) {
  return e.deep === !0 ? Ss : e.deep === !1 ? Gc : $2(e.defaultDecorator);
}
function M2(e) {
  var t;
  return e ? (t = e.defaultDecorator) != null ? t : Rb(e) : void 0;
}
function $2(e) {
  var t, n;
  return e && (t = (n = e.options_) == null ? void 0 : n.enhancer) != null ? t : Ss;
}
function Vb(e, t, n) {
  if (Ha(t))
    return sp.decorate_20223_(e, t);
  if (ys(t)) {
    Da(e, t, sp);
    return;
  }
  return mf(e) ? e : co(e) ? en.object(e, t, n) : Array.isArray(e) ? en.array(e, t) : wi(e) ? en.map(e, t) : to(e) ? en.set(e, t) : typeof e == "object" && e !== null ? e : en.box(e, t);
}
xb(Vb, jb);
var R2 = {
  box: function(t, n) {
    var r = bl(n);
    return new Mo(t, vl(r), r.name, !0, r.equals);
  },
  array: function(t, n) {
    var r = bl(n);
    return (ye.useProxies === !1 || r.proxy === !1 ? RC : EC)(t, vl(r), r.name);
  },
  map: function(t, n) {
    var r = bl(n);
    return new iv(t, vl(r), r.name);
  },
  set: function(t, n) {
    var r = bl(n);
    return new av(t, vl(r), r.name);
  },
  object: function(t, n, r) {
    return Uo(function() {
      return nv(ye.useProxies === !1 || (r == null ? void 0 : r.proxy) === !1 ? Ns({}, r) : SC({}, r), t, n);
    });
  },
  ref: /* @__PURE__ */ Ir(L2),
  shallow: /* @__PURE__ */ Ir(N2),
  deep: jb,
  struct: /* @__PURE__ */ Ir(k2)
}, en = /* @__PURE__ */ xb(Vb, R2), Db = "computed", I2 = "computed.struct", ip = /* @__PURE__ */ gf(Db), j2 = /* @__PURE__ */ gf(I2, {
  equals: ii.structural
}), qc = function(t, n) {
  if (Ha(n))
    return ip.decorate_20223_(t, n);
  if (ys(n))
    return Da(t, n, ip);
  if (co(t))
    return Ir(gf(Db, t));
  var r = co(n) ? n : {};
  return r.get = t, r.name || (r.name = t.name || ""), new fr(r);
};
Object.assign(qc, ip);
qc.struct = /* @__PURE__ */ Ir(j2);
var nh, rh, fc = 0, V2 = 1, D2 = (nh = (rh = /* @__PURE__ */ pc(function() {
}, "name")) == null ? void 0 : rh.configurable) != null ? nh : !1, oh = {
  value: "action",
  configurable: !0,
  writable: !1,
  enumerable: !1
};
function Cs(e, t, n, r) {
  n === void 0 && (n = !1);
  function o() {
    return H2(e, n, t, r || this, arguments);
  }
  return o.isMobxAction = !0, o.toString = function() {
    return t.toString();
  }, D2 && (oh.value = e, Rr(o, "name", oh)), o;
}
function H2(e, t, n, r, o) {
  var s = B2(e, t);
  try {
    return n.apply(r, o);
  } catch (i) {
    throw s.error_ = i, i;
  } finally {
    F2(s);
  }
}
function B2(e, t, n, r) {
  var o = !1, s = 0, i = ye.trackingDerivation, a = !t || !i;
  Kn();
  var l = ye.allowStateChanges;
  a && (Ls(), l = Yc(!0));
  var c = hf(!0), d = {
    runAsAction_: a,
    prevDerivation_: i,
    prevAllowStateChanges_: l,
    prevAllowStateReads_: c,
    notifySpy_: o,
    startTime_: s,
    actionId_: V2++,
    parentActionId_: fc
  };
  return fc = d.actionId_, d;
}
function F2(e) {
  fc !== e.actionId_ && Ze(30), fc = e.parentActionId_, e.error_ !== void 0 && (ye.suppressReactionErrors = !0), Zc(e.prevAllowStateChanges_), Qi(e.prevAllowStateReads_), qn(), e.runAsAction_ && ao(e.prevDerivation_), ye.suppressReactionErrors = !1;
}
function z2(e, t) {
  var n = Yc(e);
  try {
    return t();
  } finally {
    Zc(n);
  }
}
function Yc(e) {
  var t = ye.allowStateChanges;
  return ye.allowStateChanges = e, t;
}
function Zc(e) {
  ye.allowStateChanges = e;
}
var Mo = /* @__PURE__ */ function(e) {
  function t(r, o, s, i, a) {
    var l;
    return s === void 0 && (s = "ObservableValue"), a === void 0 && (a = ii.default), l = e.call(this, s) || this, l.enhancer = void 0, l.name_ = void 0, l.equals = void 0, l.hasUnreportedChange_ = !1, l.interceptors_ = void 0, l.changeListeners_ = void 0, l.value_ = void 0, l.dehancer = void 0, l.enhancer = o, l.name_ = s, l.equals = a, l.value_ = o(r, void 0, s), l;
  }
  Lb(t, e);
  var n = t.prototype;
  return n.dehanceValue = function(o) {
    return this.dehancer !== void 0 ? this.dehancer(o) : o;
  }, n.set = function(o) {
    this.value_, o = this.prepareNewValue_(o), o !== ye.UNCHANGED && this.setNewValue_(o);
  }, n.prepareNewValue_ = function(o) {
    if (Wn(this)) {
      var s = Gn(this, {
        object: this,
        type: jr,
        newValue: o
      });
      if (!s)
        return ye.UNCHANGED;
      o = s.newValue;
    }
    return o = this.enhancer(o, this.value_, this.name_), this.equals(this.value_, o) ? ye.UNCHANGED : o;
  }, n.setNewValue_ = function(o) {
    var s = this.value_;
    this.value_ = o, this.reportChanged(), lr(this) && cr(this, {
      type: jr,
      object: this,
      newValue: o,
      oldValue: s
    });
  }, n.get = function() {
    return this.reportObserved(), this.dehanceValue(this.value_);
  }, n.intercept_ = function(o) {
    return za(this, o);
  }, n.observe_ = function(o, s) {
    return s && o({
      observableKind: "value",
      debugObjectName: this.name_,
      object: this,
      type: jr,
      newValue: this.value_,
      oldValue: void 0
    }), Ua(this, o);
  }, n.raw = function() {
    return this.value_;
  }, n.toJSON = function() {
    return this.get();
  }, n.toString = function() {
    return this.name_ + "[" + this.value_ + "]";
  }, n.valueOf = function() {
    return Ab(this.get());
  }, n[Symbol.toPrimitive] = function() {
    return this.valueOf();
  }, t;
}(Fo), U2 = /* @__PURE__ */ Bo("ObservableValue", Mo), fr = /* @__PURE__ */ function() {
  function e(n) {
    this.dependenciesState_ = rt.NOT_TRACKING_, this.observing_ = [], this.newObserving_ = null, this.observers_ = /* @__PURE__ */ new Set(), this.runId_ = 0, this.lastAccessedBy_ = 0, this.lowestObserverState_ = rt.UP_TO_DATE_, this.unboundDepsCount_ = 0, this.value_ = new hc(null), this.name_ = void 0, this.triggeredBy_ = void 0, this.flags_ = 0, this.derivation = void 0, this.setter_ = void 0, this.isTracing_ = gc.NONE, this.scope_ = void 0, this.equals_ = void 0, this.requiresReaction_ = void 0, this.keepAlive_ = void 0, this.onBOL = void 0, this.onBUOL = void 0, n.get || Ze(31), this.derivation = n.get, this.name_ = n.name || "ComputedValue", n.set && (this.setter_ = Cs("ComputedValue-setter", n.set)), this.equals_ = n.equals || (n.compareStructural || n.struct ? ii.structural : ii.default), this.scope_ = n.context, this.requiresReaction_ = n.requiresReaction, this.keepAlive_ = !!n.keepAlive;
  }
  var t = e.prototype;
  return t.onBecomeStale_ = function() {
    Y2(this);
  }, t.onBO = function() {
    this.onBOL && this.onBOL.forEach(function(r) {
      return r();
    });
  }, t.onBUO = function() {
    this.onBUOL && this.onBUOL.forEach(function(r) {
      return r();
    });
  }, t.get = function() {
    if (this.isComputing && Ze(32, this.name_, this.derivation), ye.inBatch === 0 && // !globalState.trackingDerivatpion &&
    this.observers_.size === 0 && !this.keepAlive_)
      ap(this) && (this.warnAboutUntrackedRead_(), Kn(), this.value_ = this.computeValue_(!1), qn());
    else if (Gb(this), ap(this)) {
      var r = ye.trackingContext;
      this.keepAlive_ && !r && (ye.trackingContext = this), this.trackAndCompute() && q2(this), ye.trackingContext = r;
    }
    var o = this.value_;
    if (rc(o))
      throw o.cause;
    return o;
  }, t.set = function(r) {
    if (this.setter_) {
      this.isRunningSetter && Ze(33, this.name_), this.isRunningSetter = !0;
      try {
        this.setter_.call(this.scope_, r);
      } finally {
        this.isRunningSetter = !1;
      }
    } else
      Ze(34, this.name_);
  }, t.trackAndCompute = function() {
    var r = this.value_, o = (
      /* see #1208 */
      this.dependenciesState_ === rt.NOT_TRACKING_
    ), s = this.computeValue_(!0), i = o || rc(r) || rc(s) || !this.equals_(r, s);
    return i && (this.value_ = s), i;
  }, t.computeValue_ = function(r) {
    this.isComputing = !0;
    var o = Yc(!1), s;
    if (r)
      s = Hb(this, this.derivation, this.scope_);
    else if (ye.disableErrorBoundaries === !0)
      s = this.derivation.call(this.scope_);
    else
      try {
        s = this.derivation.call(this.scope_);
      } catch (i) {
        s = new hc(i);
      }
    return Zc(o), this.isComputing = !1, s;
  }, t.suspend_ = function() {
    this.keepAlive_ || (lp(this), this.value_ = void 0);
  }, t.observe_ = function(r, o) {
    var s = this, i = !0, a = void 0;
    return sC(function() {
      var l = s.get();
      if (!i || o) {
        var c = Ls();
        r({
          observableKind: "computed",
          debugObjectName: s.name_,
          type: jr,
          object: s,
          newValue: l,
          oldValue: a
        }), ao(c);
      }
      i = !1, a = l;
    });
  }, t.warnAboutUntrackedRead_ = function() {
  }, t.toString = function() {
    return this.name_ + "[" + this.derivation.toString() + "]";
  }, t.valueOf = function() {
    return Ab(this.get());
  }, t[Symbol.toPrimitive] = function() {
    return this.valueOf();
  }, Si(e, [{
    key: "isComputing",
    get: function() {
      return Ln(this.flags_, e.isComputingMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isComputingMask_, r);
    }
  }, {
    key: "isRunningSetter",
    get: function() {
      return Ln(this.flags_, e.isRunningSetterMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isRunningSetterMask_, r);
    }
  }, {
    key: "isBeingObserved",
    get: function() {
      return Ln(this.flags_, e.isBeingObservedMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isBeingObservedMask_, r);
    }
  }, {
    key: "isPendingUnobservation",
    get: function() {
      return Ln(this.flags_, e.isPendingUnobservationMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isPendingUnobservationMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Ln(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
fr.isComputingMask_ = 1;
fr.isRunningSetterMask_ = 2;
fr.isBeingObservedMask_ = 4;
fr.isPendingUnobservationMask_ = 8;
fr.diffValueMask_ = 16;
var Fa = /* @__PURE__ */ Bo("ComputedValue", fr), rt;
(function(e) {
  e[e.NOT_TRACKING_ = -1] = "NOT_TRACKING_", e[e.UP_TO_DATE_ = 0] = "UP_TO_DATE_", e[e.POSSIBLY_STALE_ = 1] = "POSSIBLY_STALE_", e[e.STALE_ = 2] = "STALE_";
})(rt || (rt = {}));
var gc;
(function(e) {
  e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK";
})(gc || (gc = {}));
var hc = function(t) {
  this.cause = void 0, this.cause = t;
};
function rc(e) {
  return e instanceof hc;
}
function ap(e) {
  switch (e.dependenciesState_) {
    case rt.UP_TO_DATE_:
      return !1;
    case rt.NOT_TRACKING_:
    case rt.STALE_:
      return !0;
    case rt.POSSIBLY_STALE_: {
      for (var t = hf(!0), n = Ls(), r = e.observing_, o = r.length, s = 0; s < o; s++) {
        var i = r[s];
        if (Fa(i)) {
          if (ye.disableErrorBoundaries)
            i.get();
          else
            try {
              i.get();
            } catch {
              return ao(n), Qi(t), !0;
            }
          if (e.dependenciesState_ === rt.STALE_)
            return ao(n), Qi(t), !0;
        }
      }
      return Fb(e), ao(n), Qi(t), !1;
    }
  }
}
function Hb(e, t, n) {
  var r = hf(!0);
  Fb(e), e.newObserving_ = new Array(
    // Reserve constant space for initial dependencies, dynamic space otherwise.
    // See https://github.com/mobxjs/mobx/pull/3833
    e.runId_ === 0 ? 100 : e.observing_.length
  ), e.unboundDepsCount_ = 0, e.runId_ = ++ye.runId;
  var o = ye.trackingDerivation;
  ye.trackingDerivation = e, ye.inBatch++;
  var s;
  if (ye.disableErrorBoundaries === !0)
    s = t.call(n);
  else
    try {
      s = t.call(n);
    } catch (i) {
      s = new hc(i);
    }
  return ye.inBatch--, ye.trackingDerivation = o, W2(e), Qi(r), s;
}
function W2(e) {
  for (var t = e.observing_, n = e.observing_ = e.newObserving_, r = rt.UP_TO_DATE_, o = 0, s = e.unboundDepsCount_, i = 0; i < s; i++) {
    var a = n[i];
    a.diffValue === 0 && (a.diffValue = 1, o !== i && (n[o] = a), o++), a.dependenciesState_ > r && (r = a.dependenciesState_);
  }
  for (n.length = o, e.newObserving_ = null, s = t.length; s--; ) {
    var l = t[s];
    l.diffValue === 0 && Ub(l, e), l.diffValue = 0;
  }
  for (; o--; ) {
    var c = n[o];
    c.diffValue === 1 && (c.diffValue = 0, K2(c, e));
  }
  r !== rt.UP_TO_DATE_ && (e.dependenciesState_ = r, e.onBecomeStale_());
}
function lp(e) {
  var t = e.observing_;
  e.observing_ = [];
  for (var n = t.length; n--; )
    Ub(t[n], e);
  e.dependenciesState_ = rt.NOT_TRACKING_;
}
function Bb(e) {
  var t = Ls();
  try {
    return e();
  } finally {
    ao(t);
  }
}
function Ls() {
  var e = ye.trackingDerivation;
  return ye.trackingDerivation = null, e;
}
function ao(e) {
  ye.trackingDerivation = e;
}
function hf(e) {
  var t = ye.allowStateReads;
  return ye.allowStateReads = e, t;
}
function Qi(e) {
  ye.allowStateReads = e;
}
function Fb(e) {
  if (e.dependenciesState_ !== rt.UP_TO_DATE_) {
    e.dependenciesState_ = rt.UP_TO_DATE_;
    for (var t = e.observing_, n = t.length; n--; )
      t[n].lowestObserverState_ = rt.UP_TO_DATE_;
  }
}
var oc = function() {
  this.version = 6, this.UNCHANGED = {}, this.trackingDerivation = null, this.trackingContext = null, this.runId = 0, this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], this.pendingReactions = [], this.isRunningReactions = !1, this.allowStateChanges = !1, this.allowStateReads = !0, this.enforceActions = !0, this.spyListeners = [], this.globalReactionErrorHandlers = [], this.computedRequiresReaction = !1, this.reactionRequiresObservable = !1, this.observableRequiresReaction = !1, this.disableErrorBoundaries = !1, this.suppressReactionErrors = !1, this.useProxies = !0, this.verifyProxies = !1, this.safeDescriptors = !0;
}, sc = !0, zb = !1, ye = /* @__PURE__ */ function() {
  var e = /* @__PURE__ */ Uc();
  return e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (sc = !1), e.__mobxGlobals && e.__mobxGlobals.version !== new oc().version && (sc = !1), sc ? e.__mobxGlobals ? (e.__mobxInstanceCount += 1, e.__mobxGlobals.UNCHANGED || (e.__mobxGlobals.UNCHANGED = {}), e.__mobxGlobals) : (e.__mobxInstanceCount = 1, e.__mobxGlobals = /* @__PURE__ */ new oc()) : (setTimeout(function() {
    zb || Ze(35);
  }, 1), new oc());
}();
function G2() {
  if ((ye.pendingReactions.length || ye.inBatch || ye.isRunningReactions) && Ze(36), zb = !0, sc) {
    var e = Uc();
    --e.__mobxInstanceCount === 0 && (e.__mobxGlobals = void 0), ye = new oc();
  }
}
function K2(e, t) {
  e.observers_.add(t), e.lowestObserverState_ > t.dependenciesState_ && (e.lowestObserverState_ = t.dependenciesState_);
}
function Ub(e, t) {
  e.observers_.delete(t), e.observers_.size === 0 && Wb(e);
}
function Wb(e) {
  e.isPendingUnobservation === !1 && (e.isPendingUnobservation = !0, ye.pendingUnobservations.push(e));
}
function Kn() {
  ye.inBatch++;
}
function qn() {
  if (--ye.inBatch === 0) {
    qb();
    for (var e = ye.pendingUnobservations, t = 0; t < e.length; t++) {
      var n = e[t];
      n.isPendingUnobservation = !1, n.observers_.size === 0 && (n.isBeingObserved && (n.isBeingObserved = !1, n.onBUO()), n instanceof fr && n.suspend_());
    }
    ye.pendingUnobservations = [];
  }
}
function Gb(e) {
  var t = ye.trackingDerivation;
  return t !== null ? (t.runId_ !== e.lastAccessedBy_ && (e.lastAccessedBy_ = t.runId_, t.newObserving_[t.unboundDepsCount_++] = e, !e.isBeingObserved && ye.trackingContext && (e.isBeingObserved = !0, e.onBO())), e.isBeingObserved) : (e.observers_.size === 0 && ye.inBatch > 0 && Wb(e), !1);
}
function Kb(e) {
  e.lowestObserverState_ !== rt.STALE_ && (e.lowestObserverState_ = rt.STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === rt.UP_TO_DATE_ && t.onBecomeStale_(), t.dependenciesState_ = rt.STALE_;
  }));
}
function q2(e) {
  e.lowestObserverState_ !== rt.STALE_ && (e.lowestObserverState_ = rt.STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === rt.POSSIBLY_STALE_ ? t.dependenciesState_ = rt.STALE_ : t.dependenciesState_ === rt.UP_TO_DATE_ && (e.lowestObserverState_ = rt.UP_TO_DATE_);
  }));
}
function Y2(e) {
  e.lowestObserverState_ === rt.UP_TO_DATE_ && (e.lowestObserverState_ = rt.POSSIBLY_STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === rt.UP_TO_DATE_ && (t.dependenciesState_ = rt.POSSIBLY_STALE_, t.onBecomeStale_());
  }));
}
var Hr = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    n === void 0 && (n = "Reaction"), this.name_ = void 0, this.onInvalidate_ = void 0, this.errorHandler_ = void 0, this.requiresObservable_ = void 0, this.observing_ = [], this.newObserving_ = [], this.dependenciesState_ = rt.NOT_TRACKING_, this.runId_ = 0, this.unboundDepsCount_ = 0, this.flags_ = 0, this.isTracing_ = gc.NONE, this.name_ = n, this.onInvalidate_ = r, this.errorHandler_ = o, this.requiresObservable_ = s;
  }
  var t = e.prototype;
  return t.onBecomeStale_ = function() {
    this.schedule_();
  }, t.schedule_ = function() {
    this.isScheduled || (this.isScheduled = !0, ye.pendingReactions.push(this), qb());
  }, t.runReaction_ = function() {
    if (!this.isDisposed) {
      Kn(), this.isScheduled = !1;
      var r = ye.trackingContext;
      if (ye.trackingContext = this, ap(this)) {
        this.isTrackPending = !0;
        try {
          this.onInvalidate_();
        } catch (o) {
          this.reportExceptionInDerivation_(o);
        }
      }
      ye.trackingContext = r, qn();
    }
  }, t.track = function(r) {
    if (!this.isDisposed) {
      Kn(), this.isRunning = !0;
      var o = ye.trackingContext;
      ye.trackingContext = this;
      var s = Hb(this, r, void 0);
      ye.trackingContext = o, this.isRunning = !1, this.isTrackPending = !1, this.isDisposed && lp(this), rc(s) && this.reportExceptionInDerivation_(s.cause), qn();
    }
  }, t.reportExceptionInDerivation_ = function(r) {
    var o = this;
    if (this.errorHandler_) {
      this.errorHandler_(r, this);
      return;
    }
    if (ye.disableErrorBoundaries)
      throw r;
    var s = "[mobx] uncaught error in '" + this + "'";
    ye.suppressReactionErrors || console.error(s, r), ye.globalReactionErrorHandlers.forEach(function(i) {
      return i(r, o);
    });
  }, t.dispose = function() {
    this.isDisposed || (this.isDisposed = !0, this.isRunning || (Kn(), lp(this), qn()));
  }, t.getDisposer_ = function(r) {
    var o = this, s = function i() {
      o.dispose(), r == null || r.removeEventListener == null || r.removeEventListener("abort", i);
    };
    return r == null || r.addEventListener == null || r.addEventListener("abort", s), s[Oe] = this, s;
  }, t.toString = function() {
    return "Reaction[" + this.name_ + "]";
  }, t.trace = function(r) {
  }, Si(e, [{
    key: "isDisposed",
    get: function() {
      return Ln(this.flags_, e.isDisposedMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isDisposedMask_, r);
    }
  }, {
    key: "isScheduled",
    get: function() {
      return Ln(this.flags_, e.isScheduledMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isScheduledMask_, r);
    }
  }, {
    key: "isTrackPending",
    get: function() {
      return Ln(this.flags_, e.isTrackPendingMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isTrackPendingMask_, r);
    }
  }, {
    key: "isRunning",
    get: function() {
      return Ln(this.flags_, e.isRunningMask_);
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.isRunningMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Ln(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Nn(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
Hr.isDisposedMask_ = 1;
Hr.isScheduledMask_ = 2;
Hr.isTrackPendingMask_ = 4;
Hr.isRunningMask_ = 8;
Hr.diffValueMask_ = 16;
var Z2 = 100, cp = function(t) {
  return t();
};
function qb() {
  ye.inBatch > 0 || ye.isRunningReactions || cp(X2);
}
function X2() {
  ye.isRunningReactions = !0;
  for (var e = ye.pendingReactions, t = 0; e.length > 0; ) {
    ++t === Z2 && (console.error("[mobx] cycle in reaction: " + e[0]), e.splice(0));
    for (var n = e.splice(0), r = 0, o = n.length; r < o; r++)
      n[r].runReaction_();
  }
  ye.isRunningReactions = !1;
}
var mc = /* @__PURE__ */ Bo("Reaction", Hr);
function J2(e) {
  var t = cp;
  cp = function(r) {
    return e(function() {
      return t(r);
    });
  };
}
function ea() {
  return !1;
}
function Q2(e) {
  return console.warn("[mobx.spy] Is a no-op in production builds"), function() {
  };
}
var Yb = "action", eC = "action.bound", Zb = "autoAction", tC = "autoAction.bound", nC = "<unnamed action>", up = /* @__PURE__ */ Ba(Yb), rC = /* @__PURE__ */ Ba(eC, {
  bound: !0
}), dp = /* @__PURE__ */ Ba(Zb, {
  autoAction: !0
}), oC = /* @__PURE__ */ Ba(tC, {
  autoAction: !0,
  bound: !0
});
function Xb(e) {
  var t = function(r, o) {
    if (pr(r))
      return Cs(r.name || nC, r, e);
    if (pr(o))
      return Cs(r, o, e);
    if (Ha(o))
      return (e ? dp : up).decorate_20223_(r, o);
    if (ys(o))
      return Da(r, o, e ? dp : up);
    if (ys(r))
      return Ir(Ba(e ? Zb : Yb, {
        name: r,
        autoAction: e
      }));
  };
  return t;
}
var us = /* @__PURE__ */ Xb(!1);
Object.assign(us, up);
var ba = /* @__PURE__ */ Xb(!0);
Object.assign(ba, dp);
us.bound = /* @__PURE__ */ Ir(rC);
ba.bound = /* @__PURE__ */ Ir(oC);
function va(e) {
  return pr(e) && e.isMobxAction === !0;
}
function sC(e, t) {
  var n, r, o, s;
  t === void 0 && (t = pf);
  var i = (n = (r = t) == null ? void 0 : r.name) != null ? n : "Autorun", a = !t.scheduler && !t.delay, l;
  if (a)
    l = new Hr(i, function() {
      this.track(p);
    }, t.onError, t.requiresObservable);
  else {
    var c = Jb(t), d = !1;
    l = new Hr(i, function() {
      d || (d = !0, c(function() {
        d = !1, l.isDisposed || l.track(p);
      }));
    }, t.onError, t.requiresObservable);
  }
  function p() {
    e(l);
  }
  return (o = t) != null && (o = o.signal) != null && o.aborted || l.schedule_(), l.getDisposer_((s = t) == null ? void 0 : s.signal);
}
var iC = function(t) {
  return t();
};
function Jb(e) {
  return e.scheduler ? e.scheduler : e.delay ? function(t) {
    return setTimeout(t, e.delay);
  } : iC;
}
function Qb(e, t, n) {
  var r, o, s;
  n === void 0 && (n = pf);
  var i = (r = n.name) != null ? r : "Reaction", a = us(i, n.onError ? aC(n.onError, t) : t), l = !n.scheduler && !n.delay, c = Jb(n), d = !0, p = !1, f, g = n.compareStructural ? ii.structural : n.equals || ii.default, h = new Hr(i, function() {
    d || l ? m() : p || (p = !0, c(m));
  }, n.onError, n.requiresObservable);
  function m() {
    if (p = !1, !h.isDisposed) {
      var b = !1, y = f;
      h.track(function() {
        var v = z2(!1, function() {
          return e(h);
        });
        b = d || !g(f, v), f = v;
      }), (d && n.fireImmediately || !d && b) && a(f, y, h), d = !1;
    }
  }
  return (o = n) != null && (o = o.signal) != null && o.aborted || h.schedule_(), h.getDisposer_((s = n) == null ? void 0 : s.signal);
}
function aC(e, t) {
  return function() {
    try {
      return t.apply(this, arguments);
    } catch (n) {
      e.call(this, n);
    }
  };
}
var lC = "onBO", cC = "onBUO";
function uC(e, t, n) {
  return tv(lC, e, t, n);
}
function ev(e, t, n) {
  return tv(cC, e, t, n);
}
function tv(e, t, n, r) {
  var o = typeof r == "function" ? li(t, n) : li(t), s = pr(r) ? r : n, i = e + "L";
  return o[i] ? o[i].add(s) : o[i] = /* @__PURE__ */ new Set([s]), function() {
    var a = o[i];
    a && (a.delete(s), a.size === 0 && delete o[i]);
  };
}
var dC = "never", yl = "always", pC = "observed";
function fC(e) {
  e.isolateGlobalState === !0 && G2();
  var t = e.useProxies, n = e.enforceActions;
  if (t !== void 0 && (ye.useProxies = t === yl ? !0 : t === dC ? !1 : typeof Proxy < "u"), t === "ifavailable" && (ye.verifyProxies = !0), n !== void 0) {
    var r = n === yl ? yl : n === pC;
    ye.enforceActions = r, ye.allowStateChanges = !(r === !0 || r === yl);
  }
  ["computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "disableErrorBoundaries", "safeDescriptors"].forEach(function(o) {
    o in e && (ye[o] = !!e[o]);
  }), ye.allowStateReads = !ye.observableRequiresReaction, e.reactionScheduler && J2(e.reactionScheduler);
}
function nv(e, t, n, r) {
  var o = GS(t);
  return Uo(function() {
    var s = Ns(e, r)[Oe];
    si(o).forEach(function(i) {
      s.extend_(
        i,
        o[i],
        // must pass "undefined" for { key: undefined }
        n && i in n ? n[i] : !0
      );
    });
  }), e;
}
function gC(e, t) {
  return rv(li(e, t));
}
function rv(e) {
  var t = {
    name: e.name_
  };
  return e.observing_ && e.observing_.length > 0 && (t.dependencies = hC(e.observing_).map(rv)), t;
}
function hC(e) {
  return Array.from(new Set(e));
}
var mC = 0;
function ov() {
  this.message = "FLOW_CANCELLED";
}
ov.prototype = /* @__PURE__ */ Object.create(Error.prototype);
var Fu = /* @__PURE__ */ Mb("flow"), bC = /* @__PURE__ */ Mb("flow.bound", {
  bound: !0
}), xs = /* @__PURE__ */ Object.assign(function(t, n) {
  if (Ha(n))
    return Fu.decorate_20223_(t, n);
  if (ys(n))
    return Da(t, n, Fu);
  var r = t, o = r.name || "<unnamed flow>", s = function() {
    var a = this, l = arguments, c = ++mC, d = us(o + " - runid: " + c + " - init", r).apply(a, l), p, f = void 0, g = new Promise(function(h, m) {
      var b = 0;
      p = m;
      function y(w) {
        f = void 0;
        var C;
        try {
          C = us(o + " - runid: " + c + " - yield " + b++, d.next).call(d, w);
        } catch (x) {
          return m(x);
        }
        S(C);
      }
      function v(w) {
        f = void 0;
        var C;
        try {
          C = us(o + " - runid: " + c + " - yield " + b++, d.throw).call(d, w);
        } catch (x) {
          return m(x);
        }
        S(C);
      }
      function S(w) {
        if (pr(w == null ? void 0 : w.then)) {
          w.then(S, m);
          return;
        }
        return w.done ? h(w.value) : (f = Promise.resolve(w.value), f.then(y, v));
      }
      y(void 0);
    });
    return g.cancel = us(o + " - runid: " + c + " - cancel", function() {
      try {
        f && sh(f);
        var h = d.return(void 0), m = Promise.resolve(h.value);
        m.then(qs, qs), sh(m), p(new ov());
      } catch (b) {
        p(b);
      }
    }), g;
  };
  return s.isMobXFlow = !0, s;
}, Fu);
xs.bound = /* @__PURE__ */ Ir(bC);
function sh(e) {
  pr(e.cancel) && e.cancel();
}
function ya(e) {
  return (e == null ? void 0 : e.isMobXFlow) === !0;
}
function vC(e, t) {
  return e ? t !== void 0 ? ai(e) ? e[Oe].values_.has(t) : !1 : ai(e) || !!e[Oe] || ff(e) || mc(e) || Fa(e) : !1;
}
function mf(e) {
  return vC(e);
}
function yC(e) {
  if (ai(e))
    return e[Oe].ownKeys_();
  Ze(38);
}
function wl(e, t, n) {
  return e.set(t, n), n;
}
function Gs(e, t) {
  if (e == null || typeof e != "object" || e instanceof Date || !mf(e))
    return e;
  if (U2(e) || Fa(e))
    return Gs(e.get(), t);
  if (t.has(e))
    return t.get(e);
  if (Wa(e)) {
    var n = wl(t, e, new Array(e.length));
    return e.forEach(function(i, a) {
      n[a] = Gs(i, t);
    }), n;
  }
  if (ir(e)) {
    var r = wl(t, e, /* @__PURE__ */ new Set());
    return e.forEach(function(i) {
      r.add(Gs(i, t));
    }), r;
  }
  if (zo(e)) {
    var o = wl(t, e, /* @__PURE__ */ new Map());
    return e.forEach(function(i, a) {
      o.set(a, Gs(i, t));
    }), o;
  } else {
    var s = wl(t, e, {});
    return yC(e).forEach(function(i) {
      ja.propertyIsEnumerable.call(e, i) && (s[i] = Gs(e[i], t));
    }), s;
  }
}
function Ao(e, t) {
  return Gs(e, /* @__PURE__ */ new Map());
}
function no(e, t) {
  t === void 0 && (t = void 0), Kn();
  try {
    return e.apply(t);
  } finally {
    qn();
  }
}
function Ds(e) {
  return e[Oe];
}
var wC = {
  has: function(t, n) {
    return Ds(t).has_(n);
  },
  get: function(t, n) {
    return Ds(t).get_(n);
  },
  set: function(t, n, r) {
    var o;
    return ys(n) ? (o = Ds(t).set_(n, r, !0)) != null ? o : !0 : !1;
  },
  deleteProperty: function(t, n) {
    var r;
    return ys(n) ? (r = Ds(t).delete_(n, !0)) != null ? r : !0 : !1;
  },
  defineProperty: function(t, n, r) {
    var o;
    return (o = Ds(t).defineProperty_(n, r)) != null ? o : !0;
  },
  ownKeys: function(t) {
    return Ds(t).ownKeys_();
  },
  preventExtensions: function(t) {
    Ze(13);
  }
};
function SC(e, t) {
  var n, r;
  return Pb(), e = Ns(e, t), (r = (n = e[Oe]).proxy_) != null ? r : n.proxy_ = new Proxy(e, wC);
}
function Wn(e) {
  return e.interceptors_ !== void 0 && e.interceptors_.length > 0;
}
function za(e, t) {
  var n = e.interceptors_ || (e.interceptors_ = []);
  return n.push(t), Eb(function() {
    var r = n.indexOf(t);
    r !== -1 && n.splice(r, 1);
  });
}
function Gn(e, t) {
  var n = Ls();
  try {
    for (var r = [].concat(e.interceptors_ || []), o = 0, s = r.length; o < s && (t = r[o](t), t && !t.type && Ze(14), !!t); o++)
      ;
    return t;
  } finally {
    ao(n);
  }
}
function lr(e) {
  return e.changeListeners_ !== void 0 && e.changeListeners_.length > 0;
}
function Ua(e, t) {
  var n = e.changeListeners_ || (e.changeListeners_ = []);
  return n.push(t), Eb(function() {
    var r = n.indexOf(t);
    r !== -1 && n.splice(r, 1);
  });
}
function cr(e, t) {
  var n = Ls(), r = e.changeListeners_;
  if (r) {
    r = r.slice();
    for (var o = 0, s = r.length; o < s; o++)
      r[o](t);
    ao(n);
  }
}
function CC(e, t, n) {
  return Uo(function() {
    var r, o = Ns(e, n)[Oe];
    (r = t) != null || (t = ZS(e)), si(t).forEach(function(s) {
      return o.make_(s, t[s]);
    });
  }), e;
}
var zu = /* @__PURE__ */ Symbol("mobx-keys");
function hn(e, t, n) {
  return co(e) ? nv(e, e, t, n) : (Uo(function() {
    var r = Ns(e, n)[Oe];
    if (!e[zu]) {
      var o = Object.getPrototypeOf(e), s = new Set([].concat(si(e), si(o)));
      s.delete("constructor"), s.delete(Oe), Va(o, zu, s);
    }
    e[zu].forEach(function(i) {
      return r.make_(
        i,
        // must pass "undefined" for { key: undefined }
        t && i in t ? t[i] : !0
      );
    });
  }), e);
}
var ih = "splice", jr = "update", xC = 1e4, PC = {
  get: function(t, n) {
    var r = t[Oe];
    return n === Oe ? r : n === "length" ? r.getArrayLength_() : typeof n == "string" && !isNaN(n) ? r.get_(parseInt(n)) : io(bc, n) ? bc[n] : t[n];
  },
  set: function(t, n, r) {
    var o = t[Oe];
    return n === "length" && o.setArrayLength_(r), typeof n == "symbol" || isNaN(n) ? t[n] = r : o.set_(parseInt(n), r), !0;
  },
  preventExtensions: function() {
    Ze(15);
  }
}, bf = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    n === void 0 && (n = "ObservableArray"), this.owned_ = void 0, this.legacyMode_ = void 0, this.atom_ = void 0, this.values_ = [], this.interceptors_ = void 0, this.changeListeners_ = void 0, this.enhancer_ = void 0, this.dehancer = void 0, this.proxy_ = void 0, this.lastKnownLength_ = 0, this.owned_ = o, this.legacyMode_ = s, this.atom_ = new Fo(n), this.enhancer_ = function(i, a) {
      return r(i, a, "ObservableArray[..]");
    };
  }
  var t = e.prototype;
  return t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.dehanceValues_ = function(r) {
    return this.dehancer !== void 0 && r.length > 0 ? r.map(this.dehancer) : r;
  }, t.intercept_ = function(r) {
    return za(this, r);
  }, t.observe_ = function(r, o) {
    return o === void 0 && (o = !1), o && r({
      observableKind: "array",
      object: this.proxy_,
      debugObjectName: this.atom_.name_,
      type: "splice",
      index: 0,
      added: this.values_.slice(),
      addedCount: this.values_.length,
      removed: [],
      removedCount: 0
    }), Ua(this, r);
  }, t.getArrayLength_ = function() {
    return this.atom_.reportObserved(), this.values_.length;
  }, t.setArrayLength_ = function(r) {
    (typeof r != "number" || isNaN(r) || r < 0) && Ze("Out of range: " + r);
    var o = this.values_.length;
    if (r !== o)
      if (r > o) {
        for (var s = new Array(r - o), i = 0; i < r - o; i++)
          s[i] = void 0;
        this.spliceWithArray_(o, 0, s);
      } else
        this.spliceWithArray_(r, o - r);
  }, t.updateArrayLength_ = function(r, o) {
    r !== this.lastKnownLength_ && Ze(16), this.lastKnownLength_ += o, this.legacyMode_ && o > 0 && dv(r + o + 1);
  }, t.spliceWithArray_ = function(r, o, s) {
    var i = this;
    this.atom_;
    var a = this.values_.length;
    if (r === void 0 ? r = 0 : r > a ? r = a : r < 0 && (r = Math.max(0, a + r)), arguments.length === 1 ? o = a - r : o == null ? o = 0 : o = Math.max(0, Math.min(o, a - r)), s === void 0 && (s = rp), Wn(this)) {
      var l = Gn(this, {
        object: this.proxy_,
        type: ih,
        index: r,
        removedCount: o,
        added: s
      });
      if (!l)
        return rp;
      o = l.removedCount, s = l.added;
    }
    if (s = s.length === 0 ? s : s.map(function(p) {
      return i.enhancer_(p, void 0);
    }), this.legacyMode_) {
      var c = s.length - o;
      this.updateArrayLength_(a, c);
    }
    var d = this.spliceItemsIntoValues_(r, o, s);
    return (o !== 0 || s.length !== 0) && this.notifyArraySplice_(r, s, d), this.dehanceValues_(d);
  }, t.spliceItemsIntoValues_ = function(r, o, s) {
    if (s.length < xC) {
      var i;
      return (i = this.values_).splice.apply(i, [r, o].concat(s));
    } else {
      var a = this.values_.slice(r, r + o), l = this.values_.slice(r + o);
      this.values_.length += s.length - o;
      for (var c = 0; c < s.length; c++)
        this.values_[r + c] = s[c];
      for (var d = 0; d < l.length; d++)
        this.values_[r + s.length + d] = l[d];
      return a;
    }
  }, t.notifyArrayChildUpdate_ = function(r, o, s) {
    var i = !this.owned_ && ea(), a = lr(this), l = a || i ? {
      observableKind: "array",
      object: this.proxy_,
      type: jr,
      debugObjectName: this.atom_.name_,
      index: r,
      newValue: o,
      oldValue: s
    } : null;
    this.atom_.reportChanged(), a && cr(this, l);
  }, t.notifyArraySplice_ = function(r, o, s) {
    var i = !this.owned_ && ea(), a = lr(this), l = a || i ? {
      observableKind: "array",
      object: this.proxy_,
      debugObjectName: this.atom_.name_,
      type: ih,
      index: r,
      removed: s,
      added: o,
      removedCount: s.length,
      addedCount: o.length
    } : null;
    this.atom_.reportChanged(), a && cr(this, l);
  }, t.get_ = function(r) {
    if (this.legacyMode_ && r >= this.values_.length) {
      console.warn("[mobx] Out of bounds read: " + r);
      return;
    }
    return this.atom_.reportObserved(), this.dehanceValue_(this.values_[r]);
  }, t.set_ = function(r, o) {
    var s = this.values_;
    if (this.legacyMode_ && r > s.length && Ze(17, r, s.length), r < s.length) {
      this.atom_;
      var i = s[r];
      if (Wn(this)) {
        var a = Gn(this, {
          type: jr,
          object: this.proxy_,
          // since "this" is the real array we need to pass its proxy
          index: r,
          newValue: o
        });
        if (!a)
          return;
        o = a.newValue;
      }
      o = this.enhancer_(o, i);
      var l = o !== i;
      l && (s[r] = o, this.notifyArrayChildUpdate_(r, o, i));
    } else {
      for (var c = new Array(r + 1 - s.length), d = 0; d < c.length - 1; d++)
        c[d] = void 0;
      c[c.length - 1] = o, this.spliceWithArray_(s.length, 0, c);
    }
  }, e;
}();
function EC(e, t, n, r) {
  return n === void 0 && (n = "ObservableArray"), r === void 0 && (r = !1), Pb(), Uo(function() {
    var o = new bf(n, t, r, !1);
    Ob(o.values_, Oe, o);
    var s = new Proxy(o.values_, PC);
    return o.proxy_ = s, e && e.length && o.spliceWithArray_(0, 0, e), s;
  });
}
var bc = {
  clear: function() {
    return this.splice(0);
  },
  replace: function(t) {
    var n = this[Oe];
    return n.spliceWithArray_(0, n.values_.length, t);
  },
  // Used by JSON.stringify
  toJSON: function() {
    return this.slice();
  },
  /*
   * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)
   * since these functions alter the inner structure of the array, the have side effects.
   * Because the have side effects, they should not be used in computed function,
   * and for that reason the do not call dependencyState.notifyObserved
   */
  splice: function(t, n) {
    for (var r = arguments.length, o = new Array(r > 2 ? r - 2 : 0), s = 2; s < r; s++)
      o[s - 2] = arguments[s];
    var i = this[Oe];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return i.spliceWithArray_(t);
      case 2:
        return i.spliceWithArray_(t, n);
    }
    return i.spliceWithArray_(t, n, o);
  },
  spliceWithArray: function(t, n, r) {
    return this[Oe].spliceWithArray_(t, n, r);
  },
  push: function() {
    for (var t = this[Oe], n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.spliceWithArray_(t.values_.length, 0, r), t.values_.length;
  },
  pop: function() {
    return this.splice(Math.max(this[Oe].values_.length - 1, 0), 1)[0];
  },
  shift: function() {
    return this.splice(0, 1)[0];
  },
  unshift: function() {
    for (var t = this[Oe], n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.spliceWithArray_(0, 0, r), t.values_.length;
  },
  reverse: function() {
    return ye.trackingDerivation && Ze(37, "reverse"), this.replace(this.slice().reverse()), this;
  },
  sort: function() {
    ye.trackingDerivation && Ze(37, "sort");
    var t = this.slice();
    return t.sort.apply(t, arguments), this.replace(t), this;
  },
  remove: function(t) {
    var n = this[Oe], r = n.dehanceValues_(n.values_).indexOf(t);
    return r > -1 ? (this.splice(r, 1), !0) : !1;
  }
};
Ct("at", Dn);
Ct("concat", Dn);
Ct("flat", Dn);
Ct("includes", Dn);
Ct("indexOf", Dn);
Ct("join", Dn);
Ct("lastIndexOf", Dn);
Ct("slice", Dn);
Ct("toString", Dn);
Ct("toLocaleString", Dn);
Ct("toSorted", Dn);
Ct("toSpliced", Dn);
Ct("with", Dn);
Ct("every", hr);
Ct("filter", hr);
Ct("find", hr);
Ct("findIndex", hr);
Ct("findLast", hr);
Ct("findLastIndex", hr);
Ct("flatMap", hr);
Ct("forEach", hr);
Ct("map", hr);
Ct("some", hr);
Ct("toReversed", hr);
Ct("reduce", sv);
Ct("reduceRight", sv);
function Ct(e, t) {
  typeof Array.prototype[e] == "function" && (bc[e] = t(e));
}
function Dn(e) {
  return function() {
    var t = this[Oe];
    t.atom_.reportObserved();
    var n = t.dehanceValues_(t.values_);
    return n[e].apply(n, arguments);
  };
}
function hr(e) {
  return function(t, n) {
    var r = this, o = this[Oe];
    o.atom_.reportObserved();
    var s = o.dehanceValues_(o.values_);
    return s[e](function(i, a) {
      return t.call(n, i, a, r);
    });
  };
}
function sv(e) {
  return function() {
    var t = this, n = this[Oe];
    n.atom_.reportObserved();
    var r = n.dehanceValues_(n.values_), o = arguments[0];
    return arguments[0] = function(s, i, a) {
      return o(s, i, a, t);
    }, r[e].apply(r, arguments);
  };
}
var TC = /* @__PURE__ */ Bo("ObservableArrayAdministration", bf);
function Wa(e) {
  return Wc(e) && TC(e[Oe]);
}
var OC = {}, Lo = "add", vc = "delete", iv = /* @__PURE__ */ function() {
  function e(n, r, o) {
    var s = this;
    r === void 0 && (r = Ss), o === void 0 && (o = "ObservableMap"), this.enhancer_ = void 0, this.name_ = void 0, this[Oe] = OC, this.data_ = void 0, this.hasMap_ = void 0, this.keysAtom_ = void 0, this.interceptors_ = void 0, this.changeListeners_ = void 0, this.dehancer = void 0, this.enhancer_ = r, this.name_ = o, pr(Map) || Ze(18), Uo(function() {
      s.keysAtom_ = Nb("ObservableMap.keys()"), s.data_ = /* @__PURE__ */ new Map(), s.hasMap_ = /* @__PURE__ */ new Map(), n && s.merge(n);
    });
  }
  var t = e.prototype;
  return t.has_ = function(r) {
    return this.data_.has(r);
  }, t.has = function(r) {
    var o = this;
    if (!ye.trackingDerivation)
      return this.has_(r);
    var s = this.hasMap_.get(r);
    if (!s) {
      var i = s = new Mo(this.has_(r), Gc, "ObservableMap.key?", !1);
      this.hasMap_.set(r, i), ev(i, function() {
        return o.hasMap_.delete(r);
      });
    }
    return s.get();
  }, t.set = function(r, o) {
    var s = this.has_(r);
    if (Wn(this)) {
      var i = Gn(this, {
        type: s ? jr : Lo,
        object: this,
        newValue: o,
        name: r
      });
      if (!i)
        return this;
      o = i.newValue;
    }
    return s ? this.updateValue_(r, o) : this.addValue_(r, o), this;
  }, t.delete = function(r) {
    var o = this;
    if (this.keysAtom_, Wn(this)) {
      var s = Gn(this, {
        type: vc,
        object: this,
        name: r
      });
      if (!s)
        return !1;
    }
    if (this.has_(r)) {
      var i = ea(), a = lr(this), l = a || i ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: vc,
        object: this,
        oldValue: this.data_.get(r).value_,
        name: r
      } : null;
      return no(function() {
        var c;
        o.keysAtom_.reportChanged(), (c = o.hasMap_.get(r)) == null || c.setNewValue_(!1);
        var d = o.data_.get(r);
        d.setNewValue_(void 0), o.data_.delete(r);
      }), a && cr(this, l), !0;
    }
    return !1;
  }, t.updateValue_ = function(r, o) {
    var s = this.data_.get(r);
    if (o = s.prepareNewValue_(o), o !== ye.UNCHANGED) {
      var i = ea(), a = lr(this), l = a || i ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: jr,
        object: this,
        oldValue: s.value_,
        name: r,
        newValue: o
      } : null;
      s.setNewValue_(o), a && cr(this, l);
    }
  }, t.addValue_ = function(r, o) {
    var s = this;
    this.keysAtom_, no(function() {
      var c, d = new Mo(o, s.enhancer_, "ObservableMap.key", !1);
      s.data_.set(r, d), o = d.value_, (c = s.hasMap_.get(r)) == null || c.setNewValue_(!0), s.keysAtom_.reportChanged();
    });
    var i = ea(), a = lr(this), l = a || i ? {
      observableKind: "map",
      debugObjectName: this.name_,
      type: Lo,
      object: this,
      name: r,
      newValue: o
    } : null;
    a && cr(this, l);
  }, t.get = function(r) {
    return this.has(r) ? this.dehanceValue_(this.data_.get(r).get()) : this.dehanceValue_(void 0);
  }, t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.keys = function() {
    return this.keysAtom_.reportObserved(), this.data_.keys();
  }, t.values = function() {
    var r = this, o = this.keys();
    return ah({
      next: function() {
        var i = o.next(), a = i.done, l = i.value;
        return {
          done: a,
          value: a ? void 0 : r.get(l)
        };
      }
    });
  }, t.entries = function() {
    var r = this, o = this.keys();
    return ah({
      next: function() {
        var i = o.next(), a = i.done, l = i.value;
        return {
          done: a,
          value: a ? void 0 : [l, r.get(l)]
        };
      }
    });
  }, t[Symbol.iterator] = function() {
    return this.entries();
  }, t.forEach = function(r, o) {
    for (var s = Ys(this), i; !(i = s()).done; ) {
      var a = i.value, l = a[0], c = a[1];
      r.call(o, c, l, this);
    }
  }, t.merge = function(r) {
    var o = this;
    return zo(r) && (r = new Map(r)), no(function() {
      co(r) ? WS(r).forEach(function(s) {
        return o.set(s, r[s]);
      }) : Array.isArray(r) ? r.forEach(function(s) {
        var i = s[0], a = s[1];
        return o.set(i, a);
      }) : wi(r) ? (US(r) || Ze(19, r), r.forEach(function(s, i) {
        return o.set(i, s);
      })) : r != null && Ze(20, r);
    }), this;
  }, t.clear = function() {
    var r = this;
    no(function() {
      Bb(function() {
        for (var o = Ys(r.keys()), s; !(s = o()).done; ) {
          var i = s.value;
          r.delete(i);
        }
      });
    });
  }, t.replace = function(r) {
    var o = this;
    return no(function() {
      for (var s = _C(r), i = /* @__PURE__ */ new Map(), a = !1, l = Ys(o.data_.keys()), c; !(c = l()).done; ) {
        var d = c.value;
        if (!s.has(d)) {
          var p = o.delete(d);
          if (p)
            a = !0;
          else {
            var f = o.data_.get(d);
            i.set(d, f);
          }
        }
      }
      for (var g = Ys(s.entries()), h; !(h = g()).done; ) {
        var m = h.value, b = m[0], y = m[1], v = o.data_.has(b);
        if (o.set(b, y), o.data_.has(b)) {
          var S = o.data_.get(b);
          i.set(b, S), v || (a = !0);
        }
      }
      if (!a)
        if (o.data_.size !== i.size)
          o.keysAtom_.reportChanged();
        else
          for (var w = o.data_.keys(), C = i.keys(), x = w.next(), E = C.next(); !x.done; ) {
            if (x.value !== E.value) {
              o.keysAtom_.reportChanged();
              break;
            }
            x = w.next(), E = C.next();
          }
      o.data_ = i;
    }), this;
  }, t.toString = function() {
    return "[object ObservableMap]";
  }, t.toJSON = function() {
    return Array.from(this);
  }, t.observe_ = function(r, o) {
    return Ua(this, r);
  }, t.intercept_ = function(r) {
    return za(this, r);
  }, Si(e, [{
    key: "size",
    get: function() {
      return this.keysAtom_.reportObserved(), this.data_.size;
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Map";
    }
  }]);
}(), zo = /* @__PURE__ */ Bo("ObservableMap", iv);
function ah(e) {
  return e[Symbol.toStringTag] = "MapIterator", wf(e);
}
function _C(e) {
  if (wi(e) || zo(e))
    return e;
  if (Array.isArray(e))
    return new Map(e);
  if (co(e)) {
    var t = /* @__PURE__ */ new Map();
    for (var n in e)
      t.set(n, e[n]);
    return t;
  } else
    return Ze(21, e);
}
var AC = {}, av = /* @__PURE__ */ function() {
  function e(n, r, o) {
    var s = this;
    r === void 0 && (r = Ss), o === void 0 && (o = "ObservableSet"), this.name_ = void 0, this[Oe] = AC, this.data_ = /* @__PURE__ */ new Set(), this.atom_ = void 0, this.changeListeners_ = void 0, this.interceptors_ = void 0, this.dehancer = void 0, this.enhancer_ = void 0, this.name_ = o, pr(Set) || Ze(22), this.enhancer_ = function(i, a) {
      return r(i, a, o);
    }, Uo(function() {
      s.atom_ = Nb(s.name_), n && s.replace(n);
    });
  }
  var t = e.prototype;
  return t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.clear = function() {
    var r = this;
    no(function() {
      Bb(function() {
        for (var o = Ys(r.data_.values()), s; !(s = o()).done; ) {
          var i = s.value;
          r.delete(i);
        }
      });
    });
  }, t.forEach = function(r, o) {
    for (var s = Ys(this), i; !(i = s()).done; ) {
      var a = i.value;
      r.call(o, a, a, this);
    }
  }, t.add = function(r) {
    var o = this;
    if (this.atom_, Wn(this)) {
      var s = Gn(this, {
        type: Lo,
        object: this,
        newValue: r
      });
      if (!s)
        return this;
    }
    if (!this.has(r)) {
      no(function() {
        o.data_.add(o.enhancer_(r, void 0)), o.atom_.reportChanged();
      });
      var i = !1, a = lr(this), l = a || i ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: Lo,
        object: this,
        newValue: r
      } : null;
      a && cr(this, l);
    }
    return this;
  }, t.delete = function(r) {
    var o = this;
    if (Wn(this)) {
      var s = Gn(this, {
        type: vc,
        object: this,
        oldValue: r
      });
      if (!s)
        return !1;
    }
    if (this.has(r)) {
      var i = !1, a = lr(this), l = a || i ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: vc,
        object: this,
        oldValue: r
      } : null;
      return no(function() {
        o.atom_.reportChanged(), o.data_.delete(r);
      }), a && cr(this, l), !0;
    }
    return !1;
  }, t.has = function(r) {
    return this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(r));
  }, t.entries = function() {
    var r = 0, o = Array.from(this.keys()), s = Array.from(this.values());
    return lh({
      next: function() {
        var a = r;
        return r += 1, a < s.length ? {
          value: [o[a], s[a]],
          done: !1
        } : {
          value: void 0,
          done: !0
        };
      }
    });
  }, t.keys = function() {
    return this.values();
  }, t.values = function() {
    this.atom_.reportObserved();
    var r = this, o = 0, s = Array.from(this.data_.values());
    return lh({
      next: function() {
        return o < s.length ? {
          value: r.dehanceValue_(s[o++]),
          done: !1
        } : {
          value: void 0,
          done: !0
        };
      }
    });
  }, t.intersection = function(r) {
    if (to(r) && !ir(r))
      return r.intersection(this);
    var o = new Set(this);
    return o.intersection(r);
  }, t.union = function(r) {
    if (to(r) && !ir(r))
      return r.union(this);
    var o = new Set(this);
    return o.union(r);
  }, t.difference = function(r) {
    return new Set(this).difference(r);
  }, t.symmetricDifference = function(r) {
    if (to(r) && !ir(r))
      return r.symmetricDifference(this);
    var o = new Set(this);
    return o.symmetricDifference(r);
  }, t.isSubsetOf = function(r) {
    return new Set(this).isSubsetOf(r);
  }, t.isSupersetOf = function(r) {
    return new Set(this).isSupersetOf(r);
  }, t.isDisjointFrom = function(r) {
    if (to(r) && !ir(r))
      return r.isDisjointFrom(this);
    var o = new Set(this);
    return o.isDisjointFrom(r);
  }, t.replace = function(r) {
    var o = this;
    return ir(r) && (r = new Set(r)), no(function() {
      Array.isArray(r) ? (o.clear(), r.forEach(function(s) {
        return o.add(s);
      })) : to(r) ? (o.clear(), r.forEach(function(s) {
        return o.add(s);
      })) : r != null && Ze("Cannot initialize set from " + r);
    }), this;
  }, t.observe_ = function(r, o) {
    return Ua(this, r);
  }, t.intercept_ = function(r) {
    return za(this, r);
  }, t.toJSON = function() {
    return Array.from(this);
  }, t.toString = function() {
    return "[object ObservableSet]";
  }, t[Symbol.iterator] = function() {
    return this.values();
  }, Si(e, [{
    key: "size",
    get: function() {
      return this.atom_.reportObserved(), this.data_.size;
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Set";
    }
  }]);
}(), ir = /* @__PURE__ */ Bo("ObservableSet", av);
function lh(e) {
  return e[Symbol.toStringTag] = "SetIterator", wf(e);
}
var ch = /* @__PURE__ */ Object.create(null), uh = "remove", lv = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    r === void 0 && (r = /* @__PURE__ */ new Map()), s === void 0 && (s = C2), this.target_ = void 0, this.values_ = void 0, this.name_ = void 0, this.defaultAnnotation_ = void 0, this.keysAtom_ = void 0, this.changeListeners_ = void 0, this.interceptors_ = void 0, this.proxy_ = void 0, this.isPlainObject_ = void 0, this.appliedAnnotations_ = void 0, this.pendingKeys_ = void 0, this.target_ = n, this.values_ = r, this.name_ = o, this.defaultAnnotation_ = s, this.keysAtom_ = new Fo("ObservableObject.keys"), this.isPlainObject_ = co(this.target_);
  }
  var t = e.prototype;
  return t.getObservablePropValue_ = function(r) {
    return this.values_.get(r).get();
  }, t.setObservablePropValue_ = function(r, o) {
    var s = this.values_.get(r);
    if (s instanceof fr)
      return s.set(o), !0;
    if (Wn(this)) {
      var i = Gn(this, {
        type: jr,
        object: this.proxy_ || this.target_,
        name: r,
        newValue: o
      });
      if (!i)
        return null;
      o = i.newValue;
    }
    if (o = s.prepareNewValue_(o), o !== ye.UNCHANGED) {
      var a = lr(this), l = !1, c = a || l ? {
        type: jr,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        oldValue: s.value_,
        name: r,
        newValue: o
      } : null;
      s.setNewValue_(o), a && cr(this, c);
    }
    return !0;
  }, t.get_ = function(r) {
    return ye.trackingDerivation && !io(this.target_, r) && this.has_(r), this.target_[r];
  }, t.set_ = function(r, o, s) {
    return s === void 0 && (s = !1), io(this.target_, r) ? this.values_.has(r) ? this.setObservablePropValue_(r, o) : s ? Reflect.set(this.target_, r, o) : (this.target_[r] = o, !0) : this.extend_(r, {
      value: o,
      enumerable: !0,
      writable: !0,
      configurable: !0
    }, this.defaultAnnotation_, s);
  }, t.has_ = function(r) {
    if (!ye.trackingDerivation)
      return r in this.target_;
    this.pendingKeys_ || (this.pendingKeys_ = /* @__PURE__ */ new Map());
    var o = this.pendingKeys_.get(r);
    return o || (o = new Mo(r in this.target_, Gc, "ObservableObject.key?", !1), this.pendingKeys_.set(r, o)), o.get();
  }, t.make_ = function(r, o) {
    if (o === !0 && (o = this.defaultAnnotation_), o !== !1) {
      if (!(r in this.target_)) {
        var s;
        if ((s = this.target_[kr]) != null && s[r])
          return;
        Ze(1, o.annotationType_, this.name_ + "." + r.toString());
      }
      for (var i = this.target_; i && i !== ja; ) {
        var a = pc(i, r);
        if (a) {
          var l = o.make_(this, r, a, i);
          if (l === 0)
            return;
          if (l === 1)
            break;
        }
        i = Object.getPrototypeOf(i);
      }
      ph(this, o, r);
    }
  }, t.extend_ = function(r, o, s, i) {
    if (i === void 0 && (i = !1), s === !0 && (s = this.defaultAnnotation_), s === !1)
      return this.defineProperty_(r, o, i);
    var a = s.extend_(this, r, o, i);
    return a && ph(this, s, r), a;
  }, t.defineProperty_ = function(r, o, s) {
    s === void 0 && (s = !1), this.keysAtom_;
    try {
      Kn();
      var i = this.delete_(r);
      if (!i)
        return i;
      if (Wn(this)) {
        var a = Gn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Lo,
          newValue: o.value
        });
        if (!a)
          return null;
        var l = a.newValue;
        o.value !== l && (o = ws({}, o, {
          value: l
        }));
      }
      if (s) {
        if (!Reflect.defineProperty(this.target_, r, o))
          return !1;
      } else
        Rr(this.target_, r, o);
      this.notifyPropertyAddition_(r, o.value);
    } finally {
      qn();
    }
    return !0;
  }, t.defineObservableProperty_ = function(r, o, s, i) {
    i === void 0 && (i = !1), this.keysAtom_;
    try {
      Kn();
      var a = this.delete_(r);
      if (!a)
        return a;
      if (Wn(this)) {
        var l = Gn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Lo,
          newValue: o
        });
        if (!l)
          return null;
        o = l.newValue;
      }
      var c = dh(r), d = {
        configurable: ye.safeDescriptors ? this.isPlainObject_ : !0,
        enumerable: !0,
        get: c.get,
        set: c.set
      };
      if (i) {
        if (!Reflect.defineProperty(this.target_, r, d))
          return !1;
      } else
        Rr(this.target_, r, d);
      var p = new Mo(o, s, "ObservableObject.key", !1);
      this.values_.set(r, p), this.notifyPropertyAddition_(r, p.value_);
    } finally {
      qn();
    }
    return !0;
  }, t.defineComputedProperty_ = function(r, o, s) {
    s === void 0 && (s = !1), this.keysAtom_;
    try {
      Kn();
      var i = this.delete_(r);
      if (!i)
        return i;
      if (Wn(this)) {
        var a = Gn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Lo,
          newValue: void 0
        });
        if (!a)
          return null;
      }
      o.name || (o.name = "ObservableObject.key"), o.context = this.proxy_ || this.target_;
      var l = dh(r), c = {
        configurable: ye.safeDescriptors ? this.isPlainObject_ : !0,
        enumerable: !1,
        get: l.get,
        set: l.set
      };
      if (s) {
        if (!Reflect.defineProperty(this.target_, r, c))
          return !1;
      } else
        Rr(this.target_, r, c);
      this.values_.set(r, new fr(o)), this.notifyPropertyAddition_(r, void 0);
    } finally {
      qn();
    }
    return !0;
  }, t.delete_ = function(r, o) {
    if (o === void 0 && (o = !1), this.keysAtom_, !io(this.target_, r))
      return !0;
    if (Wn(this)) {
      var s = Gn(this, {
        object: this.proxy_ || this.target_,
        name: r,
        type: uh
      });
      if (!s)
        return null;
    }
    try {
      var i;
      Kn();
      var a = lr(this), l = !1, c = this.values_.get(r), d = void 0;
      if (!c && (a || l)) {
        var p;
        d = (p = pc(this.target_, r)) == null ? void 0 : p.value;
      }
      if (o) {
        if (!Reflect.deleteProperty(this.target_, r))
          return !1;
      } else
        delete this.target_[r];
      if (c && (this.values_.delete(r), c instanceof Mo && (d = c.value_), Kb(c)), this.keysAtom_.reportChanged(), (i = this.pendingKeys_) == null || (i = i.get(r)) == null || i.set(r in this.target_), a || l) {
        var f = {
          type: uh,
          observableKind: "object",
          object: this.proxy_ || this.target_,
          debugObjectName: this.name_,
          oldValue: d,
          name: r
        };
        a && cr(this, f);
      }
    } finally {
      qn();
    }
    return !0;
  }, t.observe_ = function(r, o) {
    return Ua(this, r);
  }, t.intercept_ = function(r) {
    return za(this, r);
  }, t.notifyPropertyAddition_ = function(r, o) {
    var s, i = lr(this), a = !1;
    if (i || a) {
      var l = i || a ? {
        type: Lo,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        name: r,
        newValue: o
      } : null;
      i && cr(this, l);
    }
    (s = this.pendingKeys_) == null || (s = s.get(r)) == null || s.set(!0), this.keysAtom_.reportChanged();
  }, t.ownKeys_ = function() {
    return this.keysAtom_.reportObserved(), si(this.target_);
  }, t.keys_ = function() {
    return this.keysAtom_.reportObserved(), Object.keys(this.target_);
  }, e;
}();
function Ns(e, t) {
  var n;
  if (io(e, Oe))
    return e;
  var r = (n = t == null ? void 0 : t.name) != null ? n : "ObservableObject", o = new lv(e, /* @__PURE__ */ new Map(), String(r), M2(t));
  return Va(e, Oe, o), e;
}
var LC = /* @__PURE__ */ Bo("ObservableObjectAdministration", lv);
function dh(e) {
  return ch[e] || (ch[e] = {
    get: function() {
      return this[Oe].getObservablePropValue_(e);
    },
    set: function(n) {
      return this[Oe].setObservablePropValue_(e, n);
    }
  });
}
function ai(e) {
  return Wc(e) ? LC(e[Oe]) : !1;
}
function ph(e, t, n) {
  var r;
  (r = e.target_[kr]) == null || delete r[n];
}
var NC = /* @__PURE__ */ uv(0), kC = /* @__PURE__ */ function() {
  var e = !1, t = {};
  return Object.defineProperty(t, "0", {
    set: function() {
      e = !0;
    }
  }), Object.create(t)[0] = 1, e === !1;
}(), Uu = 0, cv = function() {
};
function MC(e, t) {
  Object.setPrototypeOf ? Object.setPrototypeOf(e.prototype, t) : e.prototype.__proto__ !== void 0 ? e.prototype.__proto__ = t : e.prototype = t;
}
MC(cv, Array.prototype);
var vf = /* @__PURE__ */ function(e) {
  function t(r, o, s, i) {
    var a;
    return s === void 0 && (s = "ObservableArray"), i === void 0 && (i = !1), a = e.call(this) || this, Uo(function() {
      var l = new bf(s, o, i, !0);
      l.proxy_ = a, Ob(a, Oe, l), r && r.length && a.spliceWithArray(0, 0, r), kC && Object.defineProperty(a, "0", NC);
    }), a;
  }
  Lb(t, e);
  var n = t.prototype;
  return n.concat = function() {
    this[Oe].atom_.reportObserved();
    for (var o = arguments.length, s = new Array(o), i = 0; i < o; i++)
      s[i] = arguments[i];
    return Array.prototype.concat.apply(
      this.slice(),
      //@ts-ignore
      s.map(function(a) {
        return Wa(a) ? a.slice() : a;
      })
    );
  }, n[Symbol.iterator] = function() {
    var r = this, o = 0;
    return wf({
      next: function() {
        return o < r.length ? {
          value: r[o++],
          done: !1
        } : {
          done: !0,
          value: void 0
        };
      }
    });
  }, Si(t, [{
    key: "length",
    get: function() {
      return this[Oe].getArrayLength_();
    },
    set: function(o) {
      this[Oe].setArrayLength_(o);
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Array";
    }
  }]);
}(cv);
Object.entries(bc).forEach(function(e) {
  var t = e[0], n = e[1];
  t !== "concat" && Va(vf.prototype, t, n);
});
function uv(e) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function() {
      return this[Oe].get_(e);
    },
    set: function(n) {
      this[Oe].set_(e, n);
    }
  };
}
function $C(e) {
  Rr(vf.prototype, "" + e, uv(e));
}
function dv(e) {
  if (e > Uu) {
    for (var t = Uu; t < e + 100; t++)
      $C(t);
    Uu = e;
  }
}
dv(1e3);
function RC(e, t, n) {
  return new vf(e, t, n);
}
function li(e, t) {
  if (typeof e == "object" && e !== null) {
    if (Wa(e))
      return t !== void 0 && Ze(23), e[Oe].atom_;
    if (ir(e))
      return e.atom_;
    if (zo(e)) {
      if (t === void 0)
        return e.keysAtom_;
      var n = e.data_.get(t) || e.hasMap_.get(t);
      return n || Ze(25, t, pp(e)), n;
    }
    if (ai(e)) {
      if (!t)
        return Ze(26);
      var r = e[Oe].values_.get(t);
      return r || Ze(27, t, pp(e)), r;
    }
    if (ff(e) || Fa(e) || mc(e))
      return e;
  } else if (pr(e) && mc(e[Oe]))
    return e[Oe];
  Ze(28);
}
function pv(e, t) {
  if (e || Ze(29), t !== void 0)
    return pv(li(e, t));
  if (ff(e) || Fa(e) || mc(e) || zo(e) || ir(e))
    return e;
  if (e[Oe])
    return e[Oe];
  Ze(24, e);
}
function pp(e, t) {
  var n;
  if (t !== void 0)
    n = li(e, t);
  else {
    if (va(e))
      return e.name;
    ai(e) || zo(e) || ir(e) ? n = pv(e) : n = li(e);
  }
  return n.name_;
}
function Uo(e) {
  var t = Ls(), n = Yc(!0);
  Kn();
  try {
    return e();
  } finally {
    qn(), Zc(n), ao(t);
  }
}
var fh = ja.toString;
function yf(e, t, n) {
  return n === void 0 && (n = -1), fp(e, t, n);
}
function fp(e, t, n, r, o) {
  if (e === t)
    return e !== 0 || 1 / e === 1 / t;
  if (e == null || t == null)
    return !1;
  if (e !== e)
    return t !== t;
  var s = typeof e;
  if (s !== "function" && s !== "object" && typeof t != "object")
    return !1;
  var i = fh.call(e);
  if (i !== fh.call(t))
    return !1;
  switch (i) {
    case "[object RegExp]":
    case "[object String]":
      return "" + e == "" + t;
    case "[object Number]":
      return +e != +e ? +t != +t : +e == 0 ? 1 / +e === 1 / t : +e == +t;
    case "[object Date]":
    case "[object Boolean]":
      return +e == +t;
    case "[object Symbol]":
      return typeof Symbol < "u" && Symbol.valueOf.call(e) === Symbol.valueOf.call(t);
    case "[object Map]":
    case "[object Set]":
      n >= 0 && n++;
      break;
  }
  e = gh(e), t = gh(t);
  var a = i === "[object Array]";
  if (!a) {
    if (typeof e != "object" || typeof t != "object")
      return !1;
    var l = e.constructor, c = t.constructor;
    if (l !== c && !(pr(l) && l instanceof l && pr(c) && c instanceof c) && "constructor" in e && "constructor" in t)
      return !1;
  }
  if (n === 0)
    return !1;
  n < 0 && (n = -1), r = r || [], o = o || [];
  for (var d = r.length; d--; )
    if (r[d] === e)
      return o[d] === t;
  if (r.push(e), o.push(t), a) {
    if (d = e.length, d !== t.length)
      return !1;
    for (; d--; )
      if (!fp(e[d], t[d], n - 1, r, o))
        return !1;
  } else {
    var p = Object.keys(e), f;
    if (d = p.length, Object.keys(t).length !== d)
      return !1;
    for (; d--; )
      if (f = p[d], !(io(t, f) && fp(e[f], t[f], n - 1, r, o)))
        return !1;
  }
  return r.pop(), o.pop(), !0;
}
function gh(e) {
  return Wa(e) ? e.slice() : wi(e) || zo(e) || to(e) || ir(e) ? Array.from(e.entries()) : e;
}
var hh, IC = ((hh = Uc().Iterator) == null ? void 0 : hh.prototype) || {};
function wf(e) {
  return e[Symbol.iterator] = jC, Object.assign(Object.create(IC), e);
}
function jC() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function(e) {
  var t = Uc();
  typeof t[e] > "u" && Ze("MobX requires global '" + e + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
  spy: Q2,
  extras: {
    getDebugName: pp
  },
  $mobx: Oe
});
const fv = "app.grapesjs.com", gv = "app-stage.grapesjs.com", VC = "app2.grapesjs.com", DC = "app-stage2.grapesjs.com", hv = "gs-studio-root", mh = [
  fv,
  VC,
  gv,
  DC,
  "localhost",
  "127.0.0.1",
  ".local-credentialless.webcontainer.io",
  // For stackblitz.com demos
  ".local.webcontainer.io",
  // For stackblitz.com demos
  "-sandpack.codesandbox.io"
  // For Sandpack demos
], HC = "license:check:start", bh = "license:check:end", zr = () => typeof window < "u", Ps = (e) => e && e.stopPropagation(), BC = (e) => e.getAttributeNames().reduce(
  (t, n) => ({
    ...t,
    [n]: e.getAttribute(n) || ""
  }),
  {}
), FC = (e, t) => {
  const n = (r) => r.key === e && t();
  return document.addEventListener("keydown", n), () => document.removeEventListener("keydown", n);
}, zC = (e = "") => {
  const t = document.createElement("textarea");
  t.value = e, t.setAttribute("readonly", ""), t.style.position = "absolute", t.style.left = "-9999px", document.body.appendChild(t), t.select(), document.execCommand("copy"), document.body.removeChild(t);
}, UC = (e) => FC("Escape", e), WC = (e, t = {}) => {
  const n = ut(e) ? { id: e, src: e } : e;
  return new Promise((r, o) => {
    var f, g;
    const { loadedScripts: s } = t, { id: i, src: a } = n, l = document.querySelector(`script[src="${a}"]`);
    if (l) {
      if ((f = t.onScript) == null || f.call(t, l), s && !s.get(a)) {
        l.addEventListener("load", () => r(i)), l.addEventListener("error", () => o(i));
        return;
      }
      return r(i);
    }
    const c = window.define;
    window.define = void 0;
    const d = () => {
      s == null || s.set(a, !0), window.define = c;
    }, p = document.createElement("script");
    p.src = a, p.onload = () => {
      r(i), d();
    }, p.onerror = () => {
      o(i), d();
    }, document.head.appendChild(p), (g = t.onScript) == null || g.call(t, p);
  });
}, GC = (e) => {
  const t = e.map((n) => WC(n));
  return Promise.allSettled(t);
};
function KC(e) {
  const t = e.ownerDocument.createElement("script");
  return t.text = e.innerHTML, Array.from(e.attributes).forEach((n) => t.setAttribute(n.nodeName, n.nodeValue)), t;
}
function vh(e) {
  const t = (r) => {
    var o;
    if (r.length) {
      const s = r.shift(), i = KC(s);
      i.onerror = i.onload = t.bind(null, r), (o = s.parentNode) == null || o.replaceChild(i, s);
    }
  }, n = Array.from(e.querySelectorAll("script"));
  t(n);
}
const mv = (e) => new DOMParser().parseFromString(e, "text/html"), qC = (e = "") => mv(`<body>${e}</body>`).body.innerHTML, YC = (e = "") => mv(`<head>${e}</head>`).head.innerHTML, ZC = (e = "", t) => {
  const r = new DOMParser().parseFromString(e, "text/html");
  if (t) {
    const s = r.querySelectorAll("svg")[0].style || {}, i = rx(t) ? `${t}px` : t;
    s.width = i, s.height = i, s.fill = "currentColor";
  }
  return new XMLSerializer().serializeToString(r);
}, XC = ({ isDev: e, isStage: t }) => `${e ? "" : `https://${t ? gv : fv}`}/api`, JC = (e, t) => {
  try {
    return new RegExp(e, t);
  } catch {
    console.warn("Failed to create regexp", e);
    return;
  }
}, bv = (e = {}) => {
  const { width: t = 300, height: n, text: r = "IMAGE", bg: o = "777", fg: s = "white" } = e, i = n ? `x${n}` : "";
  return `https://placehold.co/${t}${i}/${o}/${s}.png?text=${r}`;
}, QC = bv(), Sf = () => {
  const e = zr() && window.location.hostname;
  return !!e && (mh.includes(e) || mh.some((t) => e.endsWith(t)));
}, Mr = (e) => e && e.charAt(0).toUpperCase() + e.substring(1), ex = (e) => e.replace(/[A-Z]+(?![a-z])|[A-Z]/g, (t, n) => (n ? "-" : "") + t.toLowerCase()), tx = () => {
}, nx = 240, Ft = (e) => typeof e < "u", ut = (e) => typeof e == "string", rx = (e) => typeof e == "number";
function it(e) {
  return typeof e == "function";
}
function gr(e) {
  return e && !Array.isArray(e) && typeof e == "object";
}
const ox = (e) => !e || Object.keys(e).length === 0, wa = (e, t) => {
  const n = { ...e }, r = { ...t };
  for (const o in r) {
    const s = n[o], i = r[o];
    gr(s) && gr(i) ? n[o] = wa(s, i) : n[o] = i;
  }
  return n;
}, Qs = (e, t) => {
  const n = (e || "").toLocaleLowerCase(), r = (t || "").toLocaleLowerCase();
  return n.includes(r);
}, sx = (e = "") => {
  const t = e[0] === "?" ? e.substring(1) : e, n = new URLSearchParams(t);
  return Object.fromEntries(n);
}, ix = (e = 16) => {
  let t = "";
  const n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r = n.length;
  for (let o = 0; o < e; o++)
    t += n.charAt(Math.floor(Math.random() * r));
  return t;
}, ax = (e) => !!e.Components.getType("mjml"), Xc = (e) => (e || "").toLowerCase().trim().replace(/\s+/g, "-").replace(/[^a-zA-Z0-9-._]+/g, "").replace(/--+/g, "-").trim(), lx = (e, t = []) => {
  const n = new Set(t);
  return (e || "").trim().replace(/\{\{\s*([a-zA-Z0-9_]*)\s*\}\}/g, (s, i) => {
    const a = i.trim();
    return !a || !n.has(a) ? "" : `__var__${a}__`;
  }).replace(/\s+/g, "-").replace(/[^a-zA-Z0-9-._/]+/g, "").replace(/--+/g, "-").replace(/^[-/]+|[-/]+$/g, "").replace(/__var__([a-zA-Z0-9_]+)__/g, (s, i) => `{{ ${i} }}`);
};
var Sl, cx = new Uint8Array(16);
function ux() {
  if (!Sl && (Sl = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto < "u" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), !Sl))
    throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return Sl(cx);
}
const dx = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function px(e) {
  return typeof e == "string" && dx.test(e);
}
var Jt = [];
for (var Wu = 0; Wu < 256; ++Wu)
  Jt.push((Wu + 256).toString(16).substr(1));
function fx(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = (Jt[e[t + 0]] + Jt[e[t + 1]] + Jt[e[t + 2]] + Jt[e[t + 3]] + "-" + Jt[e[t + 4]] + Jt[e[t + 5]] + "-" + Jt[e[t + 6]] + Jt[e[t + 7]] + "-" + Jt[e[t + 8]] + Jt[e[t + 9]] + "-" + Jt[e[t + 10]] + Jt[e[t + 11]] + Jt[e[t + 12]] + Jt[e[t + 13]] + Jt[e[t + 14]] + Jt[e[t + 15]]).toLowerCase();
  if (!px(n))
    throw TypeError("Stringified UUID is invalid");
  return n;
}
function vv(e, t, n) {
  e = e || {};
  var r = e.random || (e.rng || ux)();
  if (r[6] = r[6] & 15 | 64, r[8] = r[8] & 63 | 128, t) {
    n = n || 0;
    for (var o = 0; o < 16; ++o)
      t[n + o] = r[o];
    return t;
  }
  return fx(r);
}
var he = /* @__PURE__ */ ((e) => (e.toastAdd = "studio:toastAdd", e.toastRemove = "studio:toastRemove", e.dialogOpen = "studio:dialogOpen", e.dialogClose = "studio:dialogClose", e.dialogExportCode = "studio:dialogExportCode", e.sidebarLeftSet = "studio:sidebarLeft:set", e.sidebarLeftGet = "studio:sidebarLeft:get", e.sidebarLeftToggle = "studio:sidebarLeft:toggle", e.sidebarRightSet = "studio:sidebarRight:set", e.sidebarRightGet = "studio:sidebarRight:get", e.sidebarRightToggle = "studio:sidebarRight:toggle", e.sidebarTopSet = "studio:sidebarTop:set", e.sidebarTopGet = "studio:sidebarTop:get", e.sidebarTopToggle = "studio:sidebarTop:toggle", e.sidebarBottomSet = "studio:sidebarBottom:set", e.sidebarBottomGet = "studio:sidebarBottom:get", e.sidebarBottomToggle = "studio:sidebarBottom:toggle", e.symbolAdd = "studio:symbolAdd", e.symbolDetach = "studio:symbolDetach", e.symbolOverride = "studio:symbolOverride", e.symbolPropagateStyles = "studio:propagateStyles", e.getPagesConfig = "studio:getPagesConfig", e.setPagesConfig = "studio:setPagesConfig", e.getPageSettings = "studio:getPageSettings", e.setPageSettings = "studio:setPageSettings", e.clearPage = "studio:clearPage", e.projectFiles = "studio:projectFiles", e.validateCode = "studio:validateCode", e.canvasReload = "studio:canvasReload", e.getBlocksPanel = "studio:getBlocksPanel", e.setBlocksPanel = "studio:setBlocksPanel", e.getStateContextMenu = "studio:getStateContextMenu", e.setStateContextMenu = "studio:setStateContextMenu", e.contextMenuComponent = "studio:contextMenuComponent", e.layoutAdd = "studio:layoutAdd", e.layoutRemove = "studio:layoutRemove", e.layoutToggle = "studio:layoutToggle", e.layoutUpdate = "studio:layoutUpdate", e.layoutGet = "studio:layoutGet", e.layoutConfigGet = "studio:layoutConfigGet", e.layoutConfigSet = "studio:layoutConfigSet", e.getStateTheme = "studio:getStateTheme", e.setStateTheme = "studio:setStateTheme", e.assetProviderGet = "studio:assetProviderGet", e.assetProviderAdd = "studio:assetProviderAdd", e.assetProviderRemove = "studio:assetProviderRemove", e.fontGet = "studio:fontGet", e.fontAdd = "studio:fontAdd", e.fontRemove = "studio:fontRemove", e.fontManagerOpen = "studio:fontManagerOpen", e.menuFontLoad = "studio:menuFontLoad", e.toggleStateDataSource = "studio:toggleStateDataSource", e.getStateDataSource = "studio:getStateDataSource", e.dataSourceSetGlobalData = "studio:dataSourceSetGlobalData", e.dataSourceSetImporter = "studio:dataSourceSetImporter", e.dataSourceSetExporter = "studio:dataSourceSetExporter", e.setDragAbsolute = "studio:setDragAbsolute", e))(he || {}), Rn = /* @__PURE__ */ ((e) => (e.layoutToggleId = "studio:layoutToggle:", e.toggleBlocksPanel = "studio:toggleBlocksPanel", e.pageSettingsUpdate = "studio:pageSettingsUpdate", e.toggleDataSourcesPreview = "studio:toggleDataSourcesPreview", e))(Rn || {});
const yv = /* @__PURE__ */ new Set(), $n = /* @__PURE__ */ new WeakMap(), ei = /* @__PURE__ */ new WeakMap(), Es = /* @__PURE__ */ new WeakMap(), gp = /* @__PURE__ */ new WeakMap(), gx = /* @__PURE__ */ new WeakMap(), ci = /* @__PURE__ */ new WeakMap(), yc = /* @__PURE__ */ new WeakMap();
let Io;
const ds = "__aa_tgt", hp = "__aa_del", hx = (e) => {
  const t = wx(e);
  t && t.forEach((n) => Sx(n));
}, mx = (e) => {
  e.forEach((t) => {
    t.target === Io && vx(), $n.has(t.target) && ks(t.target);
  });
};
function bx(e) {
  const t = gp.get(e);
  t == null || t.disconnect();
  let n = $n.get(e), r = 0;
  const o = 5;
  n || (n = ui(e), $n.set(e, n));
  const { offsetWidth: s, offsetHeight: i } = Io, l = [
    n.top - o,
    s - (n.left + o + n.width),
    i - (n.top + o + n.height),
    n.left - o
  ].map((d) => `${-1 * Math.floor(d)}px`).join(" "), c = new IntersectionObserver(() => {
    ++r > 1 && ks(e);
  }, {
    root: Io,
    threshold: 1,
    rootMargin: l
  });
  c.observe(e), gp.set(e, c);
}
function ks(e) {
  clearTimeout(yc.get(e));
  const t = Jc(e), n = typeof t == "function" ? 500 : t.duration;
  yc.set(e, setTimeout(() => {
    const r = Es.get(e);
    (!r || r.finished) && ($n.set(e, ui(e)), bx(e));
  }, n));
}
function vx() {
  clearTimeout(yc.get(Io)), yc.set(Io, setTimeout(() => {
    yv.forEach((e) => Cv(e, (t) => wv(() => ks(t))));
  }, 100));
}
function yx(e) {
  setTimeout(() => {
    gx.set(e, setInterval(() => wv(ks.bind(null, e)), 2e3));
  }, Math.round(2e3 * Math.random()));
}
function wv(e) {
  typeof requestIdleCallback == "function" ? requestIdleCallback(() => e()) : requestAnimationFrame(() => e());
}
let mp, Zs;
typeof window < "u" && (Io = document.documentElement, mp = new MutationObserver(hx), Zs = new ResizeObserver(mx), Zs.observe(Io));
function wx(e) {
  return e.reduce((t, n) => {
    if (t === !1)
      return !1;
    if (n.target instanceof Element) {
      if (Gu(n.target), !t.has(n.target)) {
        t.add(n.target);
        for (let r = 0; r < n.target.children.length; r++) {
          const o = n.target.children.item(r);
          if (o) {
            if (hp in o)
              return !1;
            Gu(n.target, o), t.add(o);
          }
        }
      }
      if (n.removedNodes.length)
        for (let r = 0; r < n.removedNodes.length; r++) {
          const o = n.removedNodes[r];
          if (hp in o)
            return !1;
          o instanceof Element && (t.add(o), Gu(n.target, o), ei.set(o, [
            n.previousSibling,
            n.nextSibling
          ]));
        }
    }
    return t;
  }, /* @__PURE__ */ new Set());
}
function Gu(e, t) {
  !t && !(ds in e) ? Object.defineProperty(e, ds, { value: e }) : t && !(ds in t) && Object.defineProperty(t, ds, { value: e });
}
function Sx(e) {
  var t;
  const n = Io.contains(e), r = $n.has(e);
  n && ei.has(e) && ei.delete(e), Es.has(e) && ((t = Es.get(e)) === null || t === void 0 || t.cancel()), r && n ? Cx(e) : r && !n ? Px(e) : xx(e);
}
function xr(e) {
  return Number(e.replace(/[^0-9.\-]/g, ""));
}
function ui(e) {
  const t = e.getBoundingClientRect();
  return {
    top: t.top + window.scrollY,
    left: t.left + window.scrollX,
    width: t.width,
    height: t.height
  };
}
function Sv(e, t, n) {
  let r = t.width, o = t.height, s = n.width, i = n.height;
  const a = getComputedStyle(e);
  if (a.getPropertyValue("box-sizing") === "content-box") {
    const c = xr(a.paddingTop) + xr(a.paddingBottom) + xr(a.borderTopWidth) + xr(a.borderBottomWidth), d = xr(a.paddingLeft) + xr(a.paddingRight) + xr(a.borderRightWidth) + xr(a.borderLeftWidth);
    r -= d, s -= d, o -= c, i -= c;
  }
  return [r, s, o, i].map(Math.round);
}
function Jc(e) {
  return ds in e && ci.has(e[ds]) ? ci.get(e[ds]) : { duration: 250, easing: "ease-in-out" };
}
function Cv(e, ...t) {
  t.forEach((n) => n(e, ci.has(e)));
  for (let n = 0; n < e.children.length; n++) {
    const r = e.children.item(n);
    r && t.forEach((o) => o(r, ci.has(r)));
  }
}
function Cx(e) {
  const t = $n.get(e), n = ui(e);
  let r;
  if (!t)
    return;
  const o = Jc(e);
  if (typeof o != "function") {
    const s = t.left - n.left, i = t.top - n.top, [a, l, c, d] = Sv(e, t, n), p = {
      transform: `translate(${s}px, ${i}px)`
    }, f = {
      transform: "translate(0, 0)"
    };
    a !== l && (p.width = `${a}px`, f.width = `${l}px`), c !== d && (p.height = `${c}px`, f.height = `${d}px`), r = e.animate([p, f], o);
  } else
    r = new Animation(o(e, "remain", t, n)), r.play();
  Es.set(e, r), $n.set(e, n), r.addEventListener("finish", ks.bind(null, e));
}
function xx(e) {
  const t = ui(e);
  $n.set(e, t);
  const n = Jc(e);
  let r;
  typeof n != "function" ? r = e.animate([
    { transform: "scale(.98)", opacity: 0 },
    { transform: "scale(0.98)", opacity: 0, offset: 0.5 },
    { transform: "scale(1)", opacity: 1 }
  ], {
    duration: n.duration * 1.5,
    easing: "ease-in"
  }) : (r = new Animation(n(e, "add", t)), r.play()), Es.set(e, r), r.addEventListener("finish", ks.bind(null, e));
}
function Px(e) {
  if (!ei.has(e) || !$n.has(e))
    return;
  const [t, n] = ei.get(e);
  Object.defineProperty(e, hp, { value: !0 }), n && n.parentNode && n.parentNode instanceof Element ? n.parentNode.insertBefore(e, n) : t && t.parentNode && t.parentNode.appendChild(e);
  const [r, o, s, i] = Ex(e), a = Jc(e), l = $n.get(e);
  let c;
  Object.assign(e.style, {
    position: "absolute",
    top: `${r}px`,
    left: `${o}px`,
    width: `${s}px`,
    height: `${i}px`,
    margin: 0,
    pointerEvents: "none",
    transformOrigin: "center",
    zIndex: 100
  }), typeof a != "function" ? c = e.animate([
    {
      transform: "scale(1)",
      opacity: 1
    },
    {
      transform: "scale(.98)",
      opacity: 0
    }
  ], { duration: a.duration, easing: "ease-out" }) : (c = new Animation(a(e, "remove", l)), c.play()), Es.set(e, c), c.addEventListener("finish", () => {
    var d;
    e.remove(), $n.delete(e), ei.delete(e), Es.delete(e), (d = gp.get(e)) === null || d === void 0 || d.disconnect();
  });
}
function Ex(e) {
  const t = $n.get(e), [n, , r] = Sv(e, t, ui(e));
  let o = e.parentElement;
  for (; o && (getComputedStyle(o).position === "static" || o instanceof HTMLBodyElement); )
    o = o.parentElement;
  o || (o = document.body);
  const s = getComputedStyle(o), i = $n.get(o) || ui(o), a = Math.round(t.top - i.top) - xr(s.borderTopWidth), l = Math.round(t.left - i.left) - xr(s.borderLeftWidth);
  return [a, l, n, r];
}
function Tx(e, t = {}) {
  mp && Zs && (getComputedStyle(e).position === "static" && Object.assign(e.style, { position: "relative" }), Cv(e, ks, yx, (n) => Zs == null ? void 0 : Zs.observe(n)), typeof t == "function" ? ci.set(e, t) : ci.set(e, { duration: 250, easing: "ease-in-out", ...t }), mp.observe(e, { childList: !0 }), yv.add(e));
}
function Ox(e) {
  const t = q(null);
  return G(() => {
    t.current instanceof HTMLElement && Tx(t.current, e);
  }, [t]), t;
}
if (!W)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!CC)
  throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");
function _x(e) {
  e();
}
function Ax(e) {
  e || (e = _x), fC({ reactionScheduler: e });
}
function Lx(e) {
  return gC(e);
}
var Nx = 1e4, kx = 1e4, Mx = (
  /** @class */
  function() {
    function e(t) {
      var n = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
      }), Object.defineProperty(this, "registrations", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: /* @__PURE__ */ new Map()
      }), Object.defineProperty(this, "sweepTimeout", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: void 0
      }), Object.defineProperty(this, "sweep", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: function(r) {
          r === void 0 && (r = Nx), clearTimeout(n.sweepTimeout), n.sweepTimeout = void 0;
          var o = Date.now();
          n.registrations.forEach(function(s, i) {
            o - s.registeredAt >= r && (n.finalize(s.value), n.registrations.delete(i));
          }), n.registrations.size > 0 && n.scheduleSweep();
        }
      }), Object.defineProperty(this, "finalizeAllImmediately", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: function() {
          n.sweep(0);
        }
      });
    }
    return Object.defineProperty(e.prototype, "register", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function(t, n, r) {
        this.registrations.set(r, {
          value: n,
          registeredAt: Date.now()
        }), this.scheduleSweep();
      }
    }), Object.defineProperty(e.prototype, "unregister", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function(t) {
        this.registrations.delete(t);
      }
    }), Object.defineProperty(e.prototype, "scheduleSweep", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function() {
        this.sweepTimeout === void 0 && (this.sweepTimeout = setTimeout(this.sweep, kx));
      }
    }), e;
  }()
), $x = typeof FinalizationRegistry < "u" ? FinalizationRegistry : Mx, bp = new $x(function(e) {
  var t;
  (t = e.reaction) === null || t === void 0 || t.dispose(), e.reaction = null;
});
function Cf(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var xv = { exports: {} }, Ku = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var yh;
function Rx() {
  if (yh)
    return Ku;
  yh = 1;
  var e = B;
  function t(p, f) {
    return p === f && (p !== 0 || 1 / p === 1 / f) || p !== p && f !== f;
  }
  var n = typeof Object.is == "function" ? Object.is : t, r = e.useState, o = e.useEffect, s = e.useLayoutEffect, i = e.useDebugValue;
  function a(p, f) {
    var g = f(), h = r({ inst: { value: g, getSnapshot: f } }), m = h[0].inst, b = h[1];
    return s(function() {
      m.value = g, m.getSnapshot = f, l(m) && b({ inst: m });
    }, [p, g, f]), o(function() {
      return l(m) && b({ inst: m }), p(function() {
        l(m) && b({ inst: m });
      });
    }, [p]), i(g), g;
  }
  function l(p) {
    var f = p.getSnapshot;
    p = p.value;
    try {
      var g = f();
      return !n(p, g);
    } catch {
      return !0;
    }
  }
  function c(p, f) {
    return f();
  }
  var d = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? c : a;
  return Ku.useSyncExternalStore = e.useSyncExternalStore !== void 0 ? e.useSyncExternalStore : d, Ku;
}
xv.exports = Rx();
var Ix = xv.exports;
function wh(e) {
  e.reaction = new Hr("observer".concat(e.name), function() {
    var t;
    e.stateVersion = Symbol(), (t = e.onStoreChange) === null || t === void 0 || t.call(e);
  });
}
function jx(e, t) {
  t === void 0 && (t = "observed");
  var n = B.useRef(null);
  if (!n.current) {
    var r = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: t,
      subscribe: function(a) {
        return bp.unregister(r), r.onStoreChange = a, r.reaction || (wh(r), r.stateVersion = Symbol()), function() {
          var l;
          r.onStoreChange = null, (l = r.reaction) === null || l === void 0 || l.dispose(), r.reaction = null;
        };
      },
      getSnapshot: function() {
        return r.stateVersion;
      }
    };
    n.current = r;
  }
  var o = n.current;
  o.reaction || (wh(o), bp.register(n, o, o)), B.useDebugValue(o.reaction, Lx), Ix.useSyncExternalStore(
    // Both of these must be stable, otherwise it would keep resubscribing every render.
    o.subscribe,
    o.getSnapshot,
    o.getSnapshot
  );
  var s, i;
  if (o.reaction.track(function() {
    try {
      s = e();
    } catch (a) {
      i = a;
    }
  }), i)
    throw i;
  return s;
}
var qu, Yu, Pv = typeof Symbol == "function" && Symbol.for, Vx = (Yu = (qu = Object.getOwnPropertyDescriptor(function() {
}, "name")) === null || qu === void 0 ? void 0 : qu.configurable) !== null && Yu !== void 0 ? Yu : !1, Sh = Pv ? Symbol.for("react.forward_ref") : typeof Yt == "function" && Yt(function(e) {
  return null;
}).$$typeof, Ch = Pv ? Symbol.for("react.memo") : typeof Pe == "function" && Pe(function(e) {
  return null;
}).$$typeof;
function ce(e, t) {
  var n;
  if (Ch && e.$$typeof === Ch)
    throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");
  var r = (n = t == null ? void 0 : t.forwardRef) !== null && n !== void 0 ? n : !1, o = e, s = e.displayName || e.name;
  if (Sh && e.$$typeof === Sh && (r = !0, o = e.render, typeof o != "function"))
    throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");
  var i = function(a, l) {
    return jx(function() {
      return o(a, l);
    }, s);
  };
  return i.displayName = e.displayName, Vx && Object.defineProperty(i, "name", {
    value: e.name,
    writable: !0,
    configurable: !0
  }), e.contextTypes && (i.contextTypes = e.contextTypes), r && (i = Yt(i)), i = Pe(i), Hx(e, i), i;
}
var Dx = {
  $$typeof: !0,
  render: !0,
  compare: !0,
  type: !0,
  // Don't redefine `displayName`,
  // it's defined as getter-setter pair on `memo` (see #3192).
  displayName: !0
};
function Hx(e, t) {
  Object.keys(e).forEach(function(n) {
    Dx[n] || Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));
  });
}
var Zu;
Ax(qi);
Zu = bp.finalizeAllImmediately;
const te = Y;
function Y(...e) {
  return (Array.isArray(e[0]) ? e[0] : [...e]).filter(Boolean).flatMap((o) => typeof o == "string" ? o.split(" ").map((s) => {
    if (s = s.replace(/gjs-/g, "gs-utl-"), !s.includes("gs-utl-") && !s.startsWith("gs-")) {
      const i = s.split(":"), a = i.pop(), l = i.join(":"), c = a == null ? void 0 : a.startsWith("!"), p = `gs-utl-${c ? a == null ? void 0 : a.slice(1) : a}`, f = c ? `!${p}` : p;
      return l ? `${l}:${f}` : f;
    }
    return s;
  }) : o).join(" ");
}
var Bx = "M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z", Fx = "M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z", zx = "M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z", Ux = "M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z", Wx = "M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z", Gx = "M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z", Kx = "M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91L13.09,9.5Z", qx = "M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z", Yx = "M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z", Zx = "M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z", Xx = "M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z", Jx = "M3,21V3H21V21H3M5,5V19H19V5H5Z", Qx = "M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z", eP = "M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19", tP = "M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z", nP = "M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z", rP = "M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z", oP = "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z", sP = "M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z", iP = "M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z", aP = "M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z", lP = "M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z", cP = "M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z", uP = "M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z", dP = "M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z", pP = "M11 20H6.5Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13V12.85L14.6 14.4L16 13L12 9L8 13L9.4 14.4L11 12.85Z", fP = "M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z", gP = "M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z", hP = "M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M12.5,11H11.5A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 11.5,8H12.5A1.5,1.5 0 0,1 14,9.5H16A3.5,3.5 0 0,0 12.5,6H11.5A3.5,3.5 0 0,0 8,9.5A3.5,3.5 0 0,0 11.5,13H12.5A1.5,1.5 0 0,1 14,14.5A1.5,1.5 0 0,1 12.5,16H11.5A1.5,1.5 0 0,1 10,14.5H8A3.5,3.5 0 0,0 11.5,18H12.5A3.5,3.5 0 0,0 16,14.5A3.5,3.5 0 0,0 12.5,11Z", mP = "M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z", bP = "M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z", vP = "M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z", yP = "M19,1L17.74,3.75L15,5L17.74,6.26L19,9L20.25,6.26L23,5L20.25,3.75M9,4L6.5,9.5L1,12L6.5,14.5L9,20L11.5,14.5L17,12L11.5,9.5M19,15L17.74,17.74L15,19L17.74,20.25L19,23L20.25,20.25L23,19L20.25,17.74", wP = "M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z", SP = "M23 19C22.9 19.2 22.8 19.4 22.7 19.5L18.3 15.1C20.5 15.6 22.2 17.1 23 19M12 5C15.9 5 18 6.5 18 7C18 7.5 15.9 8.9 12.2 9L14.1 10.9C15.6 10.7 17 10.3 18 9.7V12.5C17.7 12.7 17.4 12.9 17 13.1C18 13.1 19 13.3 20 13.7V7C20 4.8 16.4 3 12 3C10.1 3 8.4 3.3 7.1 3.9L8.7 5.5C9.5 5.2 10.7 5 12 5M22.1 21.5L20.8 22.8L20.2 22.2C19.2 22.7 18.1 23.1 17 23.1C14.3 23.1 11.9 21.4 11 19.1C11.6 17.7 12.6 16.6 13.9 15.9L12.4 14.4C11.7 14.8 11.1 15.4 10.5 16C8.8 15.9 7.2 15.5 5.9 14.8V17C5.9 17.3 7 18.2 8.9 18.6L8.8 19L9.1 19.7C9.3 20.1 9.4 20.4 9.6 20.8C6.4 20.3 4 18.8 4 17V7C4 6.7 4.1 6.4 4.2 6.1L1.1 3L2.4 1.7L22.1 21.5M12.1 14L8.7 10.6C7.6 10.4 6.7 10 5.9 9.6V12.4C7.2 13.4 9.5 13.9 11.9 13.9C12 14 12.1 14 12.1 14M18.8 20.7L17.7 19.6C17.6 19.9 17.3 20 17 20C16.4 20 16 19.6 16 19C16 18.7 16.1 18.4 16.4 18.2L15.3 17.1C14.8 17.6 14.5 18.2 14.5 18.9C14.5 20.3 15.6 21.4 17 21.4C17.7 21.5 18.4 21.2 18.8 20.7Z", CP = "M9.1 19.7L8.8 19L9 18.6C7.1 18.1 6 17.3 6 17V14.8C7.3 15.4 8.8 15.8 10.6 16C11.3 15.2 12.2 14.5 13.1 14H12C9.6 14 7.3 13.4 6 12.5V9.6C7.5 10.4 9.6 11 12 11S16.5 10.5 18 9.6V12.4C17.7 12.6 17.4 12.8 17 13C18 13 19 13.2 20 13.6V7C20 4.8 16.4 3 12 3S4 4.8 4 7V17C4 18.8 6.4 20.3 9.7 20.8C9.5 20.5 9.3 20.1 9.1 19.7M12 5C15.9 5 18 6.5 18 7S15.9 9 12 9 6 7.5 6 7 8.1 5 12 5M17 18C17.6 18 18 18.4 18 19S17.6 20 17 20 16 19.6 16 19 16.4 18 17 18M17 15C14.3 15 11.9 16.7 11 19C11.9 21.3 14.3 23 17 23S22.1 21.3 23 19C22.1 16.7 19.7 15 17 15M17 21.5C15.6 21.5 14.5 20.4 14.5 19S15.6 16.5 17 16.5 19.5 17.6 19.5 19 18.4 21.5 17 21.5Z", xP = "M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.59 21 12 21S20 19.21 20 17V7C20 4.79 16.42 3 12 3M18 17C18 17.5 15.87 19 12 19S6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16S16.39 15.55 18 14.77V17M18 12.45C16.7 13.4 14.42 14 12 14C9.58 14 7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11C14.39 11 16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5C15.87 5 18 6.5 18 7S15.87 9 12 9Z", PP = "M20 13.09V7C20 4.79 16.42 3 12 3S4 4.79 4 7V17C4 19.21 7.59 21 12 21C12.46 21 12.9 21 13.33 20.94C13.12 20.33 13 19.68 13 19L13 18.95C12.68 19 12.35 19 12 19C8.13 19 6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16C12.65 16 13.27 15.96 13.88 15.89C14.93 14.16 16.83 13 19 13C19.34 13 19.67 13.04 20 13.09M18 12.45C16.7 13.4 14.42 14 12 14S7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11S16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5 18 6.5 18 7 15.87 9 12 9M20.41 19L22.54 21.12L21.12 22.54L19 20.41L16.88 22.54L15.47 21.12L17.59 19L15.47 16.88L16.88 15.47L19 17.59L21.12 15.47L22.54 16.88L20.41 19", EP = "M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z", TP = "M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z", OP = "M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z", _P = "M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z", AP = "M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z", LP = "M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z", NP = "M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z", kP = "M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z", MP = "M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z", $P = "M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z", RP = "M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z", IP = "M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z", jP = "M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z", VP = "M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z", DP = "M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z", HP = "M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z", BP = "M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z", FP = "M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z", zP = "M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", UP = "M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z", WP = "M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z", GP = "M11 15H6L13 1V9H18L11 23V15Z", KP = "M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z", qP = "M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z", YP = "M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z", ZP = "M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z", XP = "M7,10L12,15L17,10H7Z", JP = "M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z", QP = "M12,2C13.85,2 15.55,2.78 16.9,4.1L18.6,1.93L20.18,3.16L18.2,5.68C19.33,7.41 20,9.6 20,12C20,17.5 16.42,22 12,22C10.15,22 8.45,21.22 7.1,19.9L5.4,22.07L3.82,20.84L5.8,18.32C4.67,16.59 4,14.4 4,12C4,6.5 7.58,2 12,2M12,4C8.69,4 6,7.58 6,12C6,13.73 6.41,15.33 7.11,16.64L15.67,5.67C14.66,4.62 13.38,4 12,4M12,20C15.31,20 18,16.42 18,12C18,10.27 17.59,8.67 16.89,7.36L8.33,18.33C9.34,19.38 10.62,20 12,20Z", e5 = "M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z", t5 = "M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z", n5 = "M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z", r5 = "M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z", o5 = "M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z", s5 = "M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z", i5 = "M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z", a5 = "M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z", l5 = "M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z", c5 = "M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z", u5 = "M12 2C11.5 2 11 2.19 10.59 2.59L7.29 5.88L12 10.58L16.71 5.88L13.41 2.59C13 2.19 12.5 2 12 2M5.88 7.29L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L5.88 16.71L10.58 12L5.88 7.29M18.12 7.29L13.42 12L18.12 16.71L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L18.12 7.29M12 13.42L7.29 18.12L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L16.71 18.12L12 13.42Z", d5 = "M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L15.29 7.29L12 10.59L8.71 7.29L12 4M7.29 8.71L10.59 12L7.29 15.29L4 12L7.29 8.71M16.71 8.71L20 12L16.71 15.29L13.41 12L16.71 8.71M12 13.41L15.29 16.71L12 20L8.71 16.71L12 13.41Z", p5 = "M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39C21.61 2.39 16.66 .269 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.79 17.45 10.61 17.63 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z", f5 = "M18,18H6V6H18V18Z", g5 = "M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z", h5 = "M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z", m5 = "M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z", b5 = "M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z", v5 = "M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z", y5 = "M17 6H7C3.69 6 1 8.69 1 12S3.69 18 7 18H17C20.31 18 23 15.31 23 12S20.31 6 17 6M17 16H7C4.79 16 3 14.21 3 12S4.79 8 7 8H17C19.21 8 21 9.79 21 12S19.21 16 17 16M17 9C15.34 9 14 10.34 14 12S15.34 15 17 15 20 13.66 20 12 18.66 9 17 9Z", w5 = "M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z", S5 = "M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z", C5 = "M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z", x5 = "M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z", P5 = "M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z", E5 = "M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z", T5 = "M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", O5 = "M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";
const R = B.forwardRef(function({ as: t, children: n, className: r, col: o, revert: s, full: i, nowrap: a, space: l, gap: c, justify: d, items: p, ...f }, g) {
  return (
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    /* @__PURE__ */ u(
      t || "div",
      {
        ref: g,
        className: Y([
          r,
          "gs-utl-flex",
          o && !s && "gs-utl-flex-col",
          o && s && "gs-utl-flex-col-reverse",
          !o && s && "gs-utl-flex-row-reverse",
          i && !o && "gs-utl-w-full",
          i && o && "gs-utl-h-full",
          a ? "gs-utl-flex-nowrap" : "gs-utl-flex-wrap",
          l === "x2s" && (o ? "gs-utl-space-y-0.5" : "gs-utl-space-x-0.5"),
          l === "xs" && (o ? "gs-utl-space-y-1" : "gs-utl-space-x-1"),
          l === "s" && (o ? "gs-utl-space-y-2" : "gs-utl-space-x-2"),
          l === "m" && (o ? "gs-utl-space-y-4" : "gs-utl-space-x-4"),
          l === "l" && (o ? "gs-utl-space-y-6" : "gs-utl-space-x-6"),
          l === "xl" && (o ? "gs-utl-space-y-8" : "gs-utl-space-x-8"),
          // Gap
          c === "x2s" && "gs-utl-gap-0.5",
          c === "xs" && "gs-utl-gap-1",
          c === "s" && "gs-utl-gap-2",
          c === "m" && "gs-utl-gap-4",
          c === "l" && "gs-utl-gap-6",
          c === "xl" && "gs-utl-gap-8",
          // Items
          p === "start" && "gs-utl-items-start",
          p === "end" && "gs-utl-items-end",
          p === "center" && "gs-utl-items-center",
          // Justify
          d === "start" && "gs-utl-justify-start",
          d === "end" && "gs-utl-justify-end",
          d === "center" && "gs-utl-justify-center",
          d === "between" && "gs-utl-justify-between"
        ]),
        ...f,
        children: n
      }
    )
  );
}), j = B.forwardRef(function({ children: t, className: n, grow: r, ...o }, s) {
  return /* @__PURE__ */ u("div", { ref: s, className: Y([n, r && "flex-1"]), ...o, children: t });
});
var Xu = { exports: {} }, Ju, xh;
function _5() {
  if (xh)
    return Ju;
  xh = 1;
  var e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Ju = e, Ju;
}
var Qu, Ph;
function A5() {
  if (Ph)
    return Qu;
  Ph = 1;
  var e = _5();
  function t() {
  }
  function n() {
  }
  return n.resetWarningCache = t, Qu = function() {
    function r(i, a, l, c, d, p) {
      if (p !== e) {
        var f = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw f.name = "Invariant Violation", f;
      }
    }
    r.isRequired = r;
    function o() {
      return r;
    }
    var s = {
      array: r,
      bigint: r,
      bool: r,
      func: r,
      number: r,
      object: r,
      string: r,
      symbol: r,
      any: r,
      arrayOf: o,
      element: r,
      elementType: r,
      instanceOf: o,
      node: r,
      objectOf: o,
      oneOf: o,
      oneOfType: o,
      shape: o,
      exact: o,
      checkPropTypes: n,
      resetWarningCache: t
    };
    return s.PropTypes = s, s;
  }, Qu;
}
var Eh;
function L5() {
  return Eh || (Eh = 1, Xu.exports = A5()()), Xu.exports;
}
var N5 = function(e) {
  var t = {};
  function n(r) {
    if (t[r])
      return t[r].exports;
    var o = t[r] = { i: r, l: !1, exports: {} };
    return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
  }
  return n.m = e, n.c = t, n.d = function(r, o, s) {
    n.o(r, o) || Object.defineProperty(r, o, { enumerable: !0, get: s });
  }, n.r = function(r) {
    typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(r, "__esModule", { value: !0 });
  }, n.t = function(r, o) {
    if (1 & o && (r = n(r)), 8 & o || 4 & o && typeof r == "object" && r && r.__esModule)
      return r;
    var s = /* @__PURE__ */ Object.create(null);
    if (n.r(s), Object.defineProperty(s, "default", { enumerable: !0, value: r }), 2 & o && typeof r != "string")
      for (var i in r)
        n.d(s, i, (function(a) {
          return r[a];
        }).bind(null, i));
    return s;
  }, n.n = function(r) {
    var o = r && r.__esModule ? function() {
      return r.default;
    } : function() {
      return r;
    };
    return n.d(o, "a", o), o;
  }, n.o = function(r, o) {
    return Object.prototype.hasOwnProperty.call(r, o);
  }, n.p = "", n(n.s = 2);
}([function(e, t) {
  e.exports = L5();
}, function(e, t) {
  e.exports = B;
}, function(e, t, n) {
  n.r(t);
  var r = n(1), o = n(0), s = function() {
    return (s = Object.assign || function(h) {
      for (var m, b = 1, y = arguments.length; b < y; b++)
        for (var v in m = arguments[b])
          Object.prototype.hasOwnProperty.call(m, v) && (h[v] = m[v]);
      return h;
    }).apply(this, arguments);
  }, i = function(h, m) {
    var b = {};
    for (var y in h)
      Object.prototype.hasOwnProperty.call(h, y) && m.indexOf(y) < 0 && (b[y] = h[y]);
    if (h != null && typeof Object.getOwnPropertySymbols == "function") {
      var v = 0;
      for (y = Object.getOwnPropertySymbols(h); v < y.length; v++)
        m.indexOf(y[v]) < 0 && Object.prototype.propertyIsEnumerable.call(h, y[v]) && (b[y[v]] = h[y[v]]);
    }
    return b;
  }, a = 0, l = r.forwardRef(function(h, m) {
    var b = h.title, y = b === void 0 ? null : b, v = h.description, S = v === void 0 ? null : v, w = h.size, C = w === void 0 ? null : w, x = h.color, E = x === void 0 ? "currentColor" : x, O = h.horizontal, T = O === void 0 ? null : O, P = h.vertical, A = P === void 0 ? null : P, _ = h.rotate, M = _ === void 0 ? null : _, V = h.spin, N = V === void 0 ? null : V, H = h.style, K = H === void 0 ? {} : H, z = h.children, $ = i(h, ["title", "description", "size", "color", "horizontal", "vertical", "rotate", "spin", "style", "children"]);
    a++;
    var D, I = N !== null && N, U = r.Children.map(z, function(ie) {
      var oe = ie;
      I !== !0 && (I = (N === null ? oe.props.spin : N) === !0);
      var X = oe.props.size;
      typeof C == "number" && typeof oe.props.size == "number" && (X = oe.props.size / C);
      var ee = { size: X, color: E === null ? oe.props.color : E, horizontal: T === null ? oe.props.horizontal : T, vertical: A === null ? oe.props.vertical : A, rotate: M === null ? oe.props.rotate : M, spin: N === null ? oe.props.spin : N, inStack: !0 };
      return r.cloneElement(oe, ee);
    });
    C !== null && (K.width = typeof C == "string" ? C : 1.5 * C + "rem");
    var ne, Q = "stack_labelledby_" + a, re = "stack_describedby_" + a;
    if (y)
      D = S ? Q + " " + re : Q;
    else if (ne = "presentation", S)
      throw new Error("title attribute required when description is set");
    return r.createElement("svg", s({ ref: m, viewBox: "0 0 24 24", style: K, role: ne, "aria-labelledby": D }, $), y && r.createElement("title", { id: Q }, y), S && r.createElement("desc", { id: re }, S), I && r.createElement("style", null, "@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }", "@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"), U);
  });
  l.displayName = "Stack", l.propTypes = { size: o.oneOfType([o.number, o.string]), color: o.string, horizontal: o.bool, vertical: o.bool, rotate: o.number, spin: o.oneOfType([o.bool, o.number]), children: o.oneOfType([o.arrayOf(o.node), o.node]).isRequired, className: o.string, style: o.object }, l.defaultProps = { size: null, color: null, horizontal: null, vertical: null, rotate: null, spin: null };
  var c = l;
  n.d(t, "Icon", function() {
    return g;
  }), n.d(t, "Stack", function() {
    return c;
  });
  var d = function() {
    return (d = Object.assign || function(h) {
      for (var m, b = 1, y = arguments.length; b < y; b++)
        for (var v in m = arguments[b])
          Object.prototype.hasOwnProperty.call(m, v) && (h[v] = m[v]);
      return h;
    }).apply(this, arguments);
  }, p = function(h, m) {
    var b = {};
    for (var y in h)
      Object.prototype.hasOwnProperty.call(h, y) && m.indexOf(y) < 0 && (b[y] = h[y]);
    if (h != null && typeof Object.getOwnPropertySymbols == "function") {
      var v = 0;
      for (y = Object.getOwnPropertySymbols(h); v < y.length; v++)
        m.indexOf(y[v]) < 0 && Object.prototype.propertyIsEnumerable.call(h, y[v]) && (b[y[v]] = h[y[v]]);
    }
    return b;
  }, f = 0, g = r.forwardRef(function(h, m) {
    var b = h.path, y = h.id, v = y === void 0 ? ++f : y, S = h.title, w = S === void 0 ? null : S, C = h.description, x = C === void 0 ? null : C, E = h.size, O = E === void 0 ? null : E, T = h.color, P = T === void 0 ? "currentColor" : T, A = h.horizontal, _ = A !== void 0 && A, M = h.vertical, V = M !== void 0 && M, N = h.rotate, H = N === void 0 ? 0 : N, K = h.spin, z = K !== void 0 && K, $ = h.style, D = $ === void 0 ? {} : $, I = h.inStack, U = I !== void 0 && I, ne = p(h, ["path", "id", "title", "description", "size", "color", "horizontal", "vertical", "rotate", "spin", "style", "inStack"]), Q = {}, re = [];
    O !== null && (U ? re.push("scale(" + O + ")") : (D.width = typeof O == "string" ? O : 1.5 * O + "rem", D.height = D.width)), _ && re.push("scaleX(-1)"), V && re.push("scaleY(-1)"), H !== 0 && re.push("rotate(" + H + "deg)"), P !== null && (Q.fill = P);
    var ie = r.createElement("path", d({ d: b, style: Q }, U ? ne : {})), oe = ie;
    re.length > 0 && (D.transform = re.join(" "), D.transformOrigin = "center", U && (oe = r.createElement("g", { style: D }, ie, r.createElement("rect", { width: "24", height: "24", fill: "transparent" }))));
    var X, ee = oe, de = z === !0 || typeof z != "number" ? 2 : z, me = !U && (_ || V);
    if (de < 0 && (me = !me), z && (ee = r.createElement("g", { style: { animation: "spin" + (me ? "-inverse" : "") + " linear " + Math.abs(de) + "s infinite", transformOrigin: "center" } }, oe, !(_ || V || H !== 0) && r.createElement("rect", { width: "24", height: "24", fill: "transparent" }))), U)
      return ee;
    var Ee, Se = "icon_labelledby_" + v, Fe = "icon_describedby_" + v;
    if (w)
      X = x ? Se + " " + Fe : Se;
    else if (Ee = "presentation", x)
      throw new Error("title attribute required when description is set");
    return r.createElement("svg", d({ ref: m, viewBox: "0 0 24 24", style: D, role: Ee, "aria-labelledby": X }, ne), w && r.createElement("title", { id: Se }, w), x && r.createElement("desc", { id: Fe }, x), !U && z && (me ? r.createElement("style", null, "@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }") : r.createElement("style", null, "@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")), ee);
  });
  g.displayName = "Icon", g.propTypes = { path: o.string.isRequired, size: o.oneOfType([o.number, o.string]), color: o.string, horizontal: o.bool, vertical: o.bool, rotate: o.number, spin: o.oneOfType([o.bool, o.number]), style: o.object, inStack: o.bool, className: o.string }, g.defaultProps = { size: null, color: "currentColor", horizontal: !1, vertical: !1, rotate: 0, spin: !1 }, t.default = g;
}]);
const k5 = /* @__PURE__ */ Cf(N5);
var Ev = { exports: {} };
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
(function(e) {
  (function() {
    var t = {}.hasOwnProperty;
    function n() {
      for (var s = "", i = 0; i < arguments.length; i++) {
        var a = arguments[i];
        a && (s = o(s, r(a)));
      }
      return s;
    }
    function r(s) {
      if (typeof s == "string" || typeof s == "number")
        return s;
      if (typeof s != "object")
        return "";
      if (Array.isArray(s))
        return n.apply(null, s);
      if (s.toString !== Object.prototype.toString && !s.toString.toString().includes("[native code]"))
        return s.toString();
      var i = "";
      for (var a in s)
        t.call(s, a) && s[a] && (i = o(i, a));
      return i;
    }
    function o(s, i) {
      return i ? s ? s + " " + i : s + i : s;
    }
    e.exports ? (n.default = n, e.exports = n) : window.classNames = n;
  })();
})(Ev);
var M5 = Ev.exports;
const k = /* @__PURE__ */ Cf(M5), Th = /* @__PURE__ */ new Map(), $5 = (e, t) => `${t}-${e}`, xf = B.forwardRef(function({ svg: t, iconSize: n, ...r }, o) {
  const s = $5(t, n);
  let i = Th.get(s);
  return i || (i = ZC(t, n), Th.set(s, i)), /* @__PURE__ */ u("div", { ...r, ref: o, dangerouslySetInnerHTML: { __html: i } });
});
var Z = /* @__PURE__ */ ((e) => (e.alertRhombus = "alertRhombus", e.alignHorizontalCenter = "alignHorizontalCenter", e.alignHorizontalLeft = "alignHorizontalLeft", e.alignHorizontalRight = "alignHorizontalRight", e.applicationBracketsOutline = "applicationBracketsOutline", e.arrowDown = "arrowDown", e.arrowExpandAll = "arrowExpandAll", e.arrowRight = "arrowRight", e.arrowULeftTop = "arrowULeftTop", e.arrowURightTop = "arrowURightTop", e.borderAllVariant = "borderAllVariant", e.borderRadius = "borderRadius", e.borderStyle = "borderStyle", e.calendar = "calendar", e.cellphoneLink = "cellphoneLink", e.check = "check", e.checkBold = "checkBold", e.checkboxBlank = "checkboxBlank", e.chevronUp = "chevronUp", e.chevronDown = "chevronDown", e.chevronLeft = "chevronLeft", e.chevronRight = "chevronRight", e.close = "close", e.codeBraces = "codeBraces", e.cog = "cog", e.contentCopy = "contentCopy", e.contentSave = "contentSave", e.delete = "delete", e.dotsVertical = "dotsVertical", e.email = "email", e.emailOutline = "emailOutline", e.eye = "eye", e.eyedropperVariant = "eyedropperVariant", e.eyeOff = "eyeOff", e.eyeOffOutline = "eyeOffOutline", e.eyeOutline = "eyeOutline", e.fire = "fire", e.flare = "flare", e.floppy = "floppy", e.folder = "folder", e.fullscreen = "fullscreen", e.gradientVertical = "gradientVertical", e.helpCircle = "helpCircle", e.home = "home", e.image = "image", e.information = "information", e.informationVariant = "informationVariant", e.layers = "layers", e.link = "link", e.lock = "lock", e.lockOpenVariant = "lockOpenVariant", e.menuDown = "menuDown", e.newspaperVariantOutline = "newspaperVariantOutline", e.paletteSwatch = "paletteSwatch", e.panVertical = "panVertical", e.pencil = "pencil", e.phone = "phone", e.plus = "plus", e.plusBox = "plusBox", e.powerPlug = "powerPlug", e.refresh = "refresh", e.rhombusOutline = "rhombusOutline", e.rhombusSplit = "rhombusSplit", e.rhombusSplitOutline = "rhombusSplitOutline", e.tag = "tag", e.target = "target", e.targetVariant = "targetVariant", e.textBoxMultiple = "textBoxMultiple", e.trayArrowDown = "trayArrowDown", e.unfoldLessHorizontal = "unfoldLessHorizontal", e.unfoldMoreHorizontal = "unfoldMoreHorizontal", e.viewDayOutline = "viewDayOutline", e.viewGridPlus = "viewGridPlus", e.web = "web", e.xml = "xml", e.database = "database", e.databaseOutline = "databaseOutline", e.databaseOutlineOn = "databaseOutlineOn", e.databaseOutlineOff = "databaseOutlineOff", e.databaseOutlineRemove = "databaseOutlineRemove", e.toggleSwitchOutline = "toggleSwitchOutline", e.toggleSwitchOffOutline = "toggleSwitchOffOutline", e.codeBrackets = "codeBrackets", e.null = "null", e.codeString = "string", e.number = "number", e.cloudUpload = "cloudUpload", e.chat = "chat", e.creation = "creation", e.viewDashboard = "viewDashboard", e.rocketLaunch = "rocketLaunch", e.lightningBolt = "lightningBolt", e.stop = "stop", e.arrowUp = "arrowUp", e))(Z || {});
const ic = {
  alertRhombus: Bx,
  alignHorizontalCenter: Fx,
  alignHorizontalLeft: zx,
  alignHorizontalRight: Ux,
  applicationBracketsOutline: Wx,
  arrowDown: Gx,
  arrowExpandAll: Kx,
  arrowRight: qx,
  arrowULeftTop: Yx,
  arrowURightTop: Zx,
  borderAllVariant: Jx,
  borderRadius: Qx,
  borderStyle: eP,
  calendar: tP,
  cellphoneLink: nP,
  check: oP,
  checkBold: sP,
  checkboxBlank: iP,
  chevronUp: uP,
  chevronDown: aP,
  chevronLeft: lP,
  chevronRight: cP,
  close: dP,
  codeBraces: fP,
  cog: mP,
  contentCopy: bP,
  contentSave: vP,
  delete: EP,
  dotsVertical: TP,
  email: OP,
  emailOutline: _P,
  eye: AP,
  eyedropperVariant: MP,
  eyeOff: LP,
  eyeOffOutline: NP,
  eyeOutline: kP,
  fire: $P,
  flare: RP,
  floppy: IP,
  folder: jP,
  fullscreen: VP,
  gradientVertical: DP,
  helpCircle: HP,
  home: BP,
  image: FP,
  information: zP,
  informationVariant: UP,
  layers: WP,
  link: KP,
  lock: YP,
  lockOpenVariant: ZP,
  menuDown: XP,
  newspaperVariantOutline: JP,
  paletteSwatch: t5,
  panVertical: n5,
  pencil: r5,
  phone: o5,
  plus: s5,
  plusBox: i5,
  powerPlug: a5,
  refresh: l5,
  rhombusOutline: c5,
  rhombusSplit: u5,
  rhombusSplitOutline: d5,
  tag: g5,
  target: h5,
  targetVariant: m5,
  textBoxMultiple: b5,
  trayArrowDown: w5,
  unfoldLessHorizontal: S5,
  unfoldMoreHorizontal: C5,
  viewDayOutline: P5,
  viewGridPlus: E5,
  web: T5,
  xml: O5,
  database: wP,
  databaseOutline: xP,
  databaseOutlineOn: CP,
  databaseOutlineOff: SP,
  databaseOutlineRemove: PP,
  codeBrackets: gP,
  toggleSwitchOutline: y5,
  toggleSwitchOffOutline: v5,
  null: QP,
  string: hP,
  number: e5,
  cloudUpload: pP,
  chat: rP,
  creation: yP,
  viewDashboard: x5,
  rocketLaunch: p5,
  lightningBolt: GP,
  stop: f5,
  arrowUp: Xx
}, R5 = "gs-cmp-icon", ae = ce(function({
  className: t,
  icon: n,
  size: r,
  rotate: o,
  horizontal: s,
  vertical: i
}) {
  var p;
  const a = (p = Y8()) == null ? void 0 : p.sdkCustomIcons, l = (a == null ? void 0 : a[n]) || (ic == null ? void 0 : ic[n]) || n, c = [s && "scaleX(-1)", i && "scaleY(-1)", o && `rotate(${o}deg)`].filter((f) => !!f).join(" ");
  if (!l)
    return null;
  const d = k(R5, t);
  return l.startsWith("<svg") || l.startsWith("<?xml") ? /* @__PURE__ */ u(
    xf,
    {
      className: d,
      style: {
        transform: c || void 0
      },
      svg: l,
      iconSize: r
    }
  ) : /* @__PURE__ */ u(
    k5,
    {
      className: d,
      path: l,
      size: r,
      rotate: o,
      horizontal: s,
      vertical: i
    }
  );
}), Pf = 150;
var Ke = /* @__PURE__ */ ((e) => (e.txt = "gs-theme-cl-txt", e.bg = "gs-theme-cl-bg", e.br = "gs-theme-cl-br", e.bgA = "gs-theme-cl-bgA", e.bgA2 = "gs-theme-cl-bgA2", e.hBgAct = "gs-theme-cl-hBgAct", e.hBgA2 = "gs-theme-cl-hBgA2", e.tA = "gs-theme-cl-tA", e.tAo = "gs-theme-cl-tAo", e.hTAo = "gs-theme-cl-hTAo", e.grouphTAo = "gs-theme-cl-grouphTAo", e.bA = "gs-theme-cl-bA", e.bg0 = "gs-theme-cl-bg0", e.bgH = "gs-theme-cl-bgH", e.hBgH = "gs-theme-cl-hBgH", e.bgH2 = "gs-theme-cl-bgH2", e.hBgH2 = "gs-theme-cl-hBgH2", e.sel = "gs-theme-cl-sel", e.selBr = "gs-theme-cl-selBr", e.cmp = "gs-theme-cl-cmp", e.cmpBgSoft = "gs-theme-cl-cmpBgSoft", e.cmpBgSoftX = "gs-theme-cl-cmpBgSoftX", e.cmpBr = "gs-theme-cl-cmpBr", e.cmpSymbol = "gs-theme-cl-cmpSymbol", e.cmpBgSymbolSoft = "gs-theme-cl-cmpBgSymbolSoft", e.cmpBgSymbolSoftX = "gs-theme-cl-cmpBgSymbolSoftX", e.cmpSymbolBr = "gs-theme-cl-cmpSymbolBr", e.cmpTxtActive = "gs-theme-cl-cmpTxtActive", e.focus = "gs-theme-ring-focus", e.inputText = "gs-theme-elStyles-inputText", e))(Ke || {});
const F = {
  /** background transparent */
  bgTr: "gs-utl-bg-transparent",
  /** text */
  txt: "gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",
  /** text low emphasis */
  txtLowEmphasis: "gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",
  /** text high emphasis */
  txtHighEmphasis: "gs-utl-text-black dark:gs-utl-text-gray-200",
  /** text high emphasis hovered */
  txtHighEmphasisH: "hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",
  /** text active */
  tA: "gs-theme-cl-tA gs-utl-text-violet-400",
  /** text active opaque */
  tAo: "gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",
  /** text active hovered opaque */
  hTAo: "gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",
  /** text active group hovered opaque */
  grouphTAo: "gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",
  /** border active */
  bA: "gs-theme-cl-bA gs-utl-border-violet-400",
  /** background active */
  bgA: "gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",
  /** background active level 2 */
  bgA2: "gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",
  /** background opaque */
  bgO: "gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",
  /** background */
  bg: "gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",
  /** background that blurs content behind it */
  bgBlur: "gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",
  /** background heading */
  bgH: "gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",
  /** background heading 75 */
  bgH75: "gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",
  /** background hovered heading */
  hBgH: "gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",
  /** background heading 2 */
  bgH2: "gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",
  /** background hovered heading 2 */
  hBgH2: "gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",
  /** background hovered active */
  hBgAct: "gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",
  /** background hovered active 2 */
  hBgA2: "gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",
  /** background hovered dark */
  hBgDark: "hover:gs-utl-bg-black/10",
  /** selector */
  sel: "gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",
  /** selector border */
  selBr: "gs-theme-cl-selBr gs-utl-border-pink-900",
  /** component */
  cmp: "gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",
  /** component symbol */
  cmpSymbol: "gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",
  /** component background soft */
  cmpBgSoft: "gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",
  /** component background symbol soft */
  cmpBgSymbolSoft: "gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",
  /** component background soft X?? */
  cmpBgSoftX: "gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",
  /** component background symbol soft X?? */
  cmpBgSymbolSoftX: "gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",
  /** component text active */
  cmpTxtActive: "gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",
  /** component border */
  cmpBr: "gs-theme-cl-cmpBr gs-utl-border-blue-450",
  /** component symbol border */
  cmpSymbolBr: "gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",
  /** component target background */
  cmpTargetBg: "gs-utl-bg-amber-500 gs-utl-text-white",
  /** component target background opaque */
  cmpTargetBgOpac: "gs-utl-bg-amber-500/5",
  /** component target border */
  cmpTargetBr: "gs-utl-border-amber-500",
  // warning
  /** text warning */
  tW: "gs-utl-text-amber-500",
  /** text error */
  tE: "gs-utl-text-red-500",
  /** text success */
  tS: "gs-utl-text-green-500",
  boxWarn: "gs-utl-bg-amber-50 gs-utl-border-amber-200 gs-utl-text-amber-700 dark:gs-utl-bg-amber-200/10 dark:gs-utl-border-amber-200/20 dark:gs-utl-text-amber-100/80",
  /** background warning */
  bgW: "gs-utl-bg-amber-500",
  /** background red */
  bgRed: "gs-utl-bg-red-500",
  /** hovered background red */
  hBgRed: "hover:gs-utl-bg-red-600",
  /** hovered background warning */
  hBgW: "hover:gs-utl-bg-amber-600",
  /** border */
  br: "gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",
  brRed: "gs-utl-border-red-500",
  /** border light */
  brLight: "gs-utl-border-white/25"
}, Ef = {
  enter: "gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",
  enterFrom: "gs-utl-scale-95 gs-utl-opacity-0",
  enterTo: "gs-utl-opacity-100",
  leave: "gs-utl-transition gs-utl-ease-in gs-utl-duration-100",
  leaveFrom: "gs-utl-scale-100 gs-utl-opacity-100",
  leaveTo: "gs-utl-scale-95 gs-utl-opacity-0"
}, Tv = {
  enter: "gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",
  enterFrom: "gs-utl-opacity-0",
  enterTo: "gs-utl-opacity-100"
}, I5 = {
  leave: "gs-utl-transition gs-utl-ease-in gs-utl-duration-100",
  leaveFrom: "gs-utl-opacity-100",
  leaveTo: "gs-utl-opacity-0"
}, Ga = {
  ...Tv,
  ...I5
}, Ve = {
  xy: "gs-utl-px-4 gs-utl-py-2",
  xyS: "gs-utl-px-2 gs-utl-py-1",
  xyS2: "gs-utl-px-2 gs-utl-py-0.5",
  x: "gs-utl-px-4",
  xS: "gs-utl-px-2",
  y: "gs-utl-py-2",
  s: "gs-utl-p-2"
}, Tf = {
  bg: F.bg,
  bgH: F.bgH
}, Oh = {
  bg: "gs-utl-bg-zinc-700",
  //'gs-utl-bg-gray-800',
  txt: "gs-utl-text-white",
  block: "gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"
}, le = {
  /** rounded */
  rnd: "gs-utl-rounded",
  pill: "gs-utl-rounded-full",
  /** border */
  b: "gs-utl-border",
  /** border transparent */
  bT: "gs-utl-border-transparent",
  /** border super? */
  bS: "gs-utl-border-2",
  /** border top */
  bt: "gs-utl-border-t",
  /** border bottom */
  bb: "gs-utl-border-b",
  /** border right */
  br: "gs-utl-border-r",
  /** border left */
  bl: "gs-utl-border-l",
  /** border active */
  bA: "gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"
}, Sa = {
  focus: "gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",
  deepFocus: "focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"
}, fe = {
  s3x: "13px",
  s2x: "14px",
  sx: "16px",
  s: "18px",
  m: "20px",
  l: "22px"
}, De = {
  click: "gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",
  hover: "gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",
  hoverGroup: "group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",
  dot: "gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",
  scrollX: "gs-utl-overflow-x-auto gs-utl-overflow-y-hidden",
  scrollY: "gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",
  txtEllips: "gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",
  coverAbs: "gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",
  hiddenVisually: "gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001]",
  disabled: "gs-utl-opacity-50 gs-utl-pointer-events-none",
  disabledM: "gs-utl-opacity-50 gs-utl-cursor-not-allowed",
  noFocusOut: "focus:gs-utl-outline-none",
  spin: "gs-utl-animate-spin-fast"
}, di = {
  link: Y(F.tAo),
  inputText: "gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"
}, Of = {
  itemList: ({ index: e = 0, open: t = !1, length: n = 0 } = {}) => Y(F.bgH2, Ve.xyS, F.br, e && le.bt, (t || e === n - 1) && le.bb)
}, Ov = (e) => ({
  bg: e ? "#18181b" : "#f9f9f9",
  text: e ? "#9ca3af" : "#111827",
  link: e ? "#a78bfa" : "#5b21b6"
}), Ci = (e) => {
  let t = {
    isSymbol: !1,
    bg: F.cmp,
    bgSoft: `${F.cmpBgSoft} ${F.cmpTxtActive}`,
    bgSoftX: F.cmpBgSoftX,
    border: F.cmpBr,
    txt: ""
  };
  if (!(e != null && e.em))
    return t;
  const { isSymbol: n } = e.em.Components.getSymbolInfo(e);
  return n && (t = {
    isSymbol: n,
    bg: F.cmpSymbol,
    bgSoft: `${F.cmpBgSymbolSoft} ${F.cmpTxtActive}`,
    bgSoftX: F.cmpBgSymbolSoftX,
    border: F.cmpSymbolBr,
    txt: ""
  }), t;
}, _v = ({
  variant: e,
  size: t = "m",
  className: n,
  disabledClassName: r,
  active: o,
  border: s = !0,
  rounded: i = !0,
  disabled: a = !1,
  withBg: l,
  block: c,
  full: d
}) => {
  const p = e === "pr", f = e === "out", g = e === "out-clear", h = e === "warn", m = e === "danger", b = s && (f || g || !e);
  return [
    "gs-utl-transition-colors gs-utl-cursor-pointer",
    c && "gs-utl-block",
    t === "x2s" && "gs-utl-text-xs",
    t === "s" && "gs-utl-p-1 gs-utl-text-sm",
    t === "m" && "gs-utl-p-1 gs-utl-px-2",
    t === "m2" && "gs-utl-p-1 gs-utl-px-3",
    t === "lg" && "gs-utl-p-2 gs-utl-px-4 gs-utl-text-lg",
    n,
    i && le.rnd,
    l && F.bg,
    // isDef && !disabled && !active && cl.hBgH,
    b ? Y(le.b, F.br, f && F.bA, f && F.tAo, !a && F.hBgH) : Y(le.b, le.bT),
    h && Y(F.bgW, !a && F.hBgW, "gs-utl-text-white"),
    m && Y(F.bgRed, !a && F.hBgRed, "gs-utl-text-white"),
    p && Y(F.bgA2, !a && F.hBgAct),
    o && F.bgA,
    a && (r ?? "disabled:gs-utl-opacity-80 gs-utl-cursor-not-allowed"),
    d && "gs-utl-w-full",
    Sa.focus
  ];
};
function Xe({ children: e, ...t }) {
  const {
    variant: n,
    size: r,
    active: o,
    border: s,
    rounded: i,
    block: a,
    full: l,
    className: c,
    icon: d,
    loading: p,
    withBg: f,
    disabled: g,
    type: h = "button",
    disabledClassName: m,
    ...b
  } = t, y = p ? { icon: qP, size: "18px", className: Y("animate-spin-fast") } : ut(d) ? { icon: d, size: "18px" } : d;
  return /* @__PURE__ */ u("button", { className: Y(_v(t)), disabled: g || p, type: h, ...b, children: y ? /* @__PURE__ */ L(R, { className: Y("gap-2"), items: "center", justify: "center", nowrap: !0, children: [
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { ...y }) }),
    e && /* @__PURE__ */ u(j, { children: e })
  ] }) : e });
}
function Hs(e, t, n) {
  let r = n.initialDeps ?? [], o;
  return () => {
    var s, i, a, l;
    let c;
    n.key && ((s = n.debug) != null && s.call(n)) && (c = Date.now());
    const d = e();
    if (!(d.length !== r.length || d.some((g, h) => r[h] !== g)))
      return o;
    r = d;
    let f;
    if (n.key && ((i = n.debug) != null && i.call(n)) && (f = Date.now()), o = t(...d), n.key && ((a = n.debug) != null && a.call(n))) {
      const g = Math.round((Date.now() - c) * 100) / 100, h = Math.round((Date.now() - f) * 100) / 100, m = h / 16, b = (y, v) => {
        for (y = String(y); y.length < v; )
          y = " " + y;
        return y;
      };
      console.info(
        `%c ${b(h, 5)} /${b(g, 5)} ms`,
        `
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(
          0,
          Math.min(120 - 120 * m, 120)
        )}deg 100% 31%);`,
        n == null ? void 0 : n.key
      );
    }
    return (l = n == null ? void 0 : n.onChange) == null || l.call(n, o), o;
  };
}
function ed(e, t) {
  if (e === void 0)
    throw new Error(`Unexpected undefined${t ? `: ${t}` : ""}`);
  return e;
}
const j5 = (e, t) => Math.abs(e - t) < 1, V5 = (e, t, n) => {
  let r;
  return function(...o) {
    e.clearTimeout(r), r = e.setTimeout(() => t.apply(this, o), n);
  };
}, D5 = (e) => e, H5 = (e) => {
  const t = Math.max(e.startIndex - e.overscan, 0), n = Math.min(e.endIndex + e.overscan, e.count - 1), r = [];
  for (let o = t; o <= n; o++)
    r.push(o);
  return r;
}, B5 = (e, t) => {
  const n = e.scrollElement;
  if (!n)
    return;
  const r = e.targetWindow;
  if (!r)
    return;
  const o = (i) => {
    const { width: a, height: l } = i;
    t({ width: Math.round(a), height: Math.round(l) });
  };
  if (o(n.getBoundingClientRect()), !r.ResizeObserver)
    return () => {
    };
  const s = new r.ResizeObserver((i) => {
    const a = i[0];
    if (a != null && a.borderBoxSize) {
      const l = a.borderBoxSize[0];
      if (l) {
        o({ width: l.inlineSize, height: l.blockSize });
        return;
      }
    }
    o(n.getBoundingClientRect());
  });
  return s.observe(n, { box: "border-box" }), () => {
    s.unobserve(n);
  };
}, _h = {
  passive: !0
}, F5 = typeof window > "u" ? !0 : "onscrollend" in window, z5 = (e, t) => {
  const n = e.scrollElement;
  if (!n)
    return;
  const r = e.targetWindow;
  if (!r)
    return;
  let o = 0;
  const s = F5 ? () => {
  } : V5(
    r,
    () => {
      t(o, !1);
    },
    e.options.isScrollingResetDelay
  ), i = (c) => () => {
    const { horizontal: d, isRtl: p } = e.options;
    o = d ? n.scrollLeft * (p && -1 || 1) : n.scrollTop, s(), t(o, c);
  }, a = i(!0), l = i(!1);
  return l(), n.addEventListener("scroll", a, _h), n.addEventListener("scrollend", l, _h), () => {
    n.removeEventListener("scroll", a), n.removeEventListener("scrollend", l);
  };
}, U5 = (e, t, n) => {
  if (t != null && t.borderBoxSize) {
    const r = t.borderBoxSize[0];
    if (r)
      return Math.round(
        r[n.options.horizontal ? "inlineSize" : "blockSize"]
      );
  }
  return Math.round(
    e.getBoundingClientRect()[n.options.horizontal ? "width" : "height"]
  );
}, W5 = (e, {
  adjustments: t = 0,
  behavior: n
}, r) => {
  var o, s;
  const i = e + t;
  (s = (o = r.scrollElement) == null ? void 0 : o.scrollTo) == null || s.call(o, {
    [r.options.horizontal ? "left" : "top"]: i,
    behavior: n
  });
};
class G5 {
  constructor(t) {
    this.unsubs = [], this.scrollElement = null, this.targetWindow = null, this.isScrolling = !1, this.scrollToIndexTimeoutId = null, this.measurementsCache = [], this.itemSizeCache = /* @__PURE__ */ new Map(), this.pendingMeasuredCacheIndexes = [], this.scrollRect = null, this.scrollOffset = null, this.scrollDirection = null, this.scrollAdjustments = 0, this.elementsCache = /* @__PURE__ */ new Map(), this.observer = /* @__PURE__ */ (() => {
      let n = null;
      const r = () => n || (!this.targetWindow || !this.targetWindow.ResizeObserver ? null : n = new this.targetWindow.ResizeObserver((o) => {
        o.forEach((s) => {
          this._measureElement(s.target, s);
        });
      }));
      return {
        disconnect: () => {
          var o;
          (o = r()) == null || o.disconnect(), n = null;
        },
        observe: (o) => {
          var s;
          return (s = r()) == null ? void 0 : s.observe(o, { box: "border-box" });
        },
        unobserve: (o) => {
          var s;
          return (s = r()) == null ? void 0 : s.unobserve(o);
        }
      };
    })(), this.range = null, this.setOptions = (n) => {
      Object.entries(n).forEach(([r, o]) => {
        typeof o > "u" && delete n[r];
      }), this.options = {
        debug: !1,
        initialOffset: 0,
        overscan: 1,
        paddingStart: 0,
        paddingEnd: 0,
        scrollPaddingStart: 0,
        scrollPaddingEnd: 0,
        horizontal: !1,
        getItemKey: D5,
        rangeExtractor: H5,
        onChange: () => {
        },
        measureElement: U5,
        initialRect: { width: 0, height: 0 },
        scrollMargin: 0,
        gap: 0,
        indexAttribute: "data-index",
        initialMeasurementsCache: [],
        lanes: 1,
        isScrollingResetDelay: 150,
        enabled: !0,
        isRtl: !1,
        ...n
      };
    }, this.notify = (n) => {
      var r, o;
      (o = (r = this.options).onChange) == null || o.call(r, this, n);
    }, this.maybeNotify = Hs(
      () => (this.calculateRange(), [
        this.isScrolling,
        this.range ? this.range.startIndex : null,
        this.range ? this.range.endIndex : null
      ]),
      (n) => {
        this.notify(n);
      },
      {
        key: !1,
        debug: () => this.options.debug,
        initialDeps: [
          this.isScrolling,
          this.range ? this.range.startIndex : null,
          this.range ? this.range.endIndex : null
        ]
      }
    ), this.cleanup = () => {
      this.unsubs.filter(Boolean).forEach((n) => n()), this.unsubs = [], this.observer.disconnect(), this.scrollElement = null, this.targetWindow = null;
    }, this._didMount = () => () => {
      this.cleanup();
    }, this._willUpdate = () => {
      var n;
      const r = this.options.enabled ? this.options.getScrollElement() : null;
      if (this.scrollElement !== r) {
        if (this.cleanup(), !r) {
          this.maybeNotify();
          return;
        }
        this.scrollElement = r, this.scrollElement && "ownerDocument" in this.scrollElement ? this.targetWindow = this.scrollElement.ownerDocument.defaultView : this.targetWindow = ((n = this.scrollElement) == null ? void 0 : n.window) ?? null, this.elementsCache.forEach((o) => {
          this.observer.observe(o);
        }), this._scrollToOffset(this.getScrollOffset(), {
          adjustments: void 0,
          behavior: void 0
        }), this.unsubs.push(
          this.options.observeElementRect(this, (o) => {
            this.scrollRect = o, this.maybeNotify();
          })
        ), this.unsubs.push(
          this.options.observeElementOffset(this, (o, s) => {
            this.scrollAdjustments = 0, this.scrollDirection = s ? this.getScrollOffset() < o ? "forward" : "backward" : null, this.scrollOffset = o, this.isScrolling = s, this.maybeNotify();
          })
        );
      }
    }, this.getSize = () => this.options.enabled ? (this.scrollRect = this.scrollRect ?? this.options.initialRect, this.scrollRect[this.options.horizontal ? "width" : "height"]) : (this.scrollRect = null, 0), this.getScrollOffset = () => this.options.enabled ? (this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset == "function" ? this.options.initialOffset() : this.options.initialOffset), this.scrollOffset) : (this.scrollOffset = null, 0), this.getFurthestMeasurement = (n, r) => {
      const o = /* @__PURE__ */ new Map(), s = /* @__PURE__ */ new Map();
      for (let i = r - 1; i >= 0; i--) {
        const a = n[i];
        if (o.has(a.lane))
          continue;
        const l = s.get(
          a.lane
        );
        if (l == null || a.end > l.end ? s.set(a.lane, a) : a.end < l.end && o.set(a.lane, !0), o.size === this.options.lanes)
          break;
      }
      return s.size === this.options.lanes ? Array.from(s.values()).sort((i, a) => i.end === a.end ? i.index - a.index : i.end - a.end)[0] : void 0;
    }, this.getMeasurementOptions = Hs(
      () => [
        this.options.count,
        this.options.paddingStart,
        this.options.scrollMargin,
        this.options.getItemKey,
        this.options.enabled
      ],
      (n, r, o, s, i) => (this.pendingMeasuredCacheIndexes = [], {
        count: n,
        paddingStart: r,
        scrollMargin: o,
        getItemKey: s,
        enabled: i
      }),
      {
        key: !1
      }
    ), this.getMeasurements = Hs(
      () => [this.getMeasurementOptions(), this.itemSizeCache],
      ({ count: n, paddingStart: r, scrollMargin: o, getItemKey: s, enabled: i }, a) => {
        if (!i)
          return this.measurementsCache = [], this.itemSizeCache.clear(), [];
        this.measurementsCache.length === 0 && (this.measurementsCache = this.options.initialMeasurementsCache, this.measurementsCache.forEach((d) => {
          this.itemSizeCache.set(d.key, d.size);
        }));
        const l = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;
        this.pendingMeasuredCacheIndexes = [];
        const c = this.measurementsCache.slice(0, l);
        for (let d = l; d < n; d++) {
          const p = s(d), f = this.options.lanes === 1 ? c[d - 1] : this.getFurthestMeasurement(c, d), g = f ? f.end + this.options.gap : r + o, h = a.get(p), m = typeof h == "number" ? h : this.options.estimateSize(d), b = g + m, y = f ? f.lane : d % this.options.lanes;
          c[d] = {
            index: d,
            start: g,
            size: m,
            end: b,
            key: p,
            lane: y
          };
        }
        return this.measurementsCache = c, c;
      },
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.calculateRange = Hs(
      () => [this.getMeasurements(), this.getSize(), this.getScrollOffset()],
      (n, r, o) => this.range = n.length > 0 && r > 0 ? K5({
        measurements: n,
        outerSize: r,
        scrollOffset: o
      }) : null,
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.getIndexes = Hs(
      () => [
        this.options.rangeExtractor,
        this.calculateRange(),
        this.options.overscan,
        this.options.count
      ],
      (n, r, o, s) => r === null ? [] : n({
        startIndex: r.startIndex,
        endIndex: r.endIndex,
        overscan: o,
        count: s
      }),
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.indexFromElement = (n) => {
      const r = this.options.indexAttribute, o = n.getAttribute(r);
      return o ? parseInt(o, 10) : (console.warn(
        `Missing attribute name '${r}={index}' on measured element.`
      ), -1);
    }, this._measureElement = (n, r) => {
      const o = this.indexFromElement(n), s = this.measurementsCache[o];
      if (!s)
        return;
      const i = s.key, a = this.elementsCache.get(i);
      a !== n && (a && this.observer.unobserve(a), this.observer.observe(n), this.elementsCache.set(i, n)), n.isConnected && this.resizeItem(o, this.options.measureElement(n, r, this));
    }, this.resizeItem = (n, r) => {
      const o = this.measurementsCache[n];
      if (!o)
        return;
      const s = this.itemSizeCache.get(o.key) ?? o.size, i = r - s;
      i !== 0 && ((this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(o, i, this) : o.start < this.getScrollOffset() + this.scrollAdjustments) && this._scrollToOffset(this.getScrollOffset(), {
        adjustments: this.scrollAdjustments += i,
        behavior: void 0
      }), this.pendingMeasuredCacheIndexes.push(o.index), this.itemSizeCache = new Map(this.itemSizeCache.set(o.key, r)), this.notify(!1));
    }, this.measureElement = (n) => {
      if (!n) {
        this.elementsCache.forEach((r, o) => {
          r.isConnected || (this.observer.unobserve(r), this.elementsCache.delete(o));
        });
        return;
      }
      this._measureElement(n, void 0);
    }, this.getVirtualItems = Hs(
      () => [this.getIndexes(), this.getMeasurements()],
      (n, r) => {
        const o = [];
        for (let s = 0, i = n.length; s < i; s++) {
          const a = n[s], l = r[a];
          o.push(l);
        }
        return o;
      },
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.getVirtualItemForOffset = (n) => {
      const r = this.getMeasurements();
      if (r.length !== 0)
        return ed(
          r[Av(
            0,
            r.length - 1,
            (o) => ed(r[o]).start,
            n
          )]
        );
    }, this.getOffsetForAlignment = (n, r) => {
      const o = this.getSize(), s = this.getScrollOffset();
      r === "auto" && (n <= s ? r = "start" : n >= s + o ? r = "end" : r = "start"), r === "start" ? n = n : r === "end" ? n = n - o : r === "center" && (n = n - o / 2);
      const i = this.options.horizontal ? "scrollWidth" : "scrollHeight", l = (this.scrollElement ? "document" in this.scrollElement ? this.scrollElement.document.documentElement[i] : this.scrollElement[i] : 0) - o;
      return Math.max(Math.min(l, n), 0);
    }, this.getOffsetForIndex = (n, r = "auto") => {
      n = Math.max(0, Math.min(n, this.options.count - 1));
      const o = this.measurementsCache[n];
      if (!o)
        return;
      const s = this.getSize(), i = this.getScrollOffset();
      if (r === "auto")
        if (o.end >= i + s - this.options.scrollPaddingEnd)
          r = "end";
        else if (o.start <= i + this.options.scrollPaddingStart)
          r = "start";
        else
          return [i, r];
      const a = r === "end" ? o.end + this.options.scrollPaddingEnd : o.start - this.options.scrollPaddingStart;
      return [this.getOffsetForAlignment(a, r), r];
    }, this.isDynamicMode = () => this.elementsCache.size > 0, this.cancelScrollToIndex = () => {
      this.scrollToIndexTimeoutId !== null && this.targetWindow && (this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId), this.scrollToIndexTimeoutId = null);
    }, this.scrollToOffset = (n, { align: r = "start", behavior: o } = {}) => {
      this.cancelScrollToIndex(), o === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      ), this._scrollToOffset(this.getOffsetForAlignment(n, r), {
        adjustments: void 0,
        behavior: o
      });
    }, this.scrollToIndex = (n, { align: r = "auto", behavior: o } = {}) => {
      n = Math.max(0, Math.min(n, this.options.count - 1)), this.cancelScrollToIndex(), o === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      );
      const s = this.getOffsetForIndex(n, r);
      if (!s)
        return;
      const [i, a] = s;
      this._scrollToOffset(i, { adjustments: void 0, behavior: o }), o !== "smooth" && this.isDynamicMode() && this.targetWindow && (this.scrollToIndexTimeoutId = this.targetWindow.setTimeout(() => {
        if (this.scrollToIndexTimeoutId = null, this.elementsCache.has(
          this.options.getItemKey(n)
        )) {
          const [c] = ed(
            this.getOffsetForIndex(n, a)
          );
          j5(c, this.getScrollOffset()) || this.scrollToIndex(n, { align: a, behavior: o });
        } else
          this.scrollToIndex(n, { align: a, behavior: o });
      }));
    }, this.scrollBy = (n, { behavior: r } = {}) => {
      this.cancelScrollToIndex(), r === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      ), this._scrollToOffset(this.getScrollOffset() + n, {
        adjustments: void 0,
        behavior: r
      });
    }, this.getTotalSize = () => {
      var n;
      const r = this.getMeasurements();
      let o;
      return r.length === 0 ? o = this.options.paddingStart : o = this.options.lanes === 1 ? ((n = r[r.length - 1]) == null ? void 0 : n.end) ?? 0 : Math.max(
        ...r.slice(-this.options.lanes).map((s) => s.end)
      ), Math.max(
        o - this.options.scrollMargin + this.options.paddingEnd,
        0
      );
    }, this._scrollToOffset = (n, {
      adjustments: r,
      behavior: o
    }) => {
      this.options.scrollToFn(n, { behavior: o, adjustments: r }, this);
    }, this.measure = () => {
      this.itemSizeCache = /* @__PURE__ */ new Map(), this.notify(!1);
    }, this.setOptions(t);
  }
}
const Av = (e, t, n, r) => {
  for (; e <= t; ) {
    const o = (e + t) / 2 | 0, s = n(o);
    if (s < r)
      e = o + 1;
    else if (s > r)
      t = o - 1;
    else
      return o;
  }
  return e > 0 ? e - 1 : 0;
};
function K5({
  measurements: e,
  outerSize: t,
  scrollOffset: n
}) {
  const r = e.length - 1, s = Av(0, r, (a) => e[a].start, n);
  let i = s;
  for (; i < r && e[i].end < n + t; )
    i++;
  return { startIndex: s, endIndex: i };
}
const q5 = typeof document < "u" ? et.useLayoutEffect : et.useEffect;
function Y5(e) {
  const t = et.useReducer(() => ({}), {})[1], n = {
    ...e,
    onChange: (o, s) => {
      var i;
      s ? Cb(t) : t(), (i = e.onChange) == null || i.call(e, o, s);
    }
  }, [r] = et.useState(
    () => new G5(n)
  );
  return r.setOptions(n), et.useEffect(() => r._didMount(), []), q5(() => r._willUpdate()), r;
}
function Z5(e) {
  return Y5({
    observeElementRect: B5,
    observeElementOffset: z5,
    scrollToFn: W5,
    ...e
  });
}
var X5 = Object.defineProperty, J5 = (e, t, n) => t in e ? X5(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, td = (e, t, n) => (J5(e, typeof t != "symbol" ? t + "" : t, n), n);
let Q5 = class {
  constructor() {
    td(this, "current", this.detect()), td(this, "handoffState", "pending"), td(this, "currentId", 0);
  }
  set(t) {
    this.current !== t && (this.handoffState = "pending", this.currentId = 0, this.current = t);
  }
  reset() {
    this.set(this.detect());
  }
  nextId() {
    return ++this.currentId;
  }
  get isServer() {
    return this.current === "server";
  }
  get isClient() {
    return this.current === "client";
  }
  detect() {
    return typeof window > "u" || typeof document > "u" ? "server" : "client";
  }
  handoff() {
    this.handoffState === "pending" && (this.handoffState = "complete");
  }
  get isHandoffComplete() {
    return this.handoffState === "complete";
  }
}, lo = new Q5(), Ue = (e, t) => {
  lo.isServer ? G(e, t) : Fc(e, t);
};
function Bt(e) {
  let t = q(e);
  return Ue(() => {
    t.current = e;
  }, [e]), t;
}
function Ka(e, t) {
  let [n, r] = W(e), o = Bt(e);
  return Ue(() => r(o.current), [o, r, ...t]), n;
}
let se = function(e) {
  let t = Bt(e);
  return B.useCallback((...n) => t.current(...n), [t]);
};
function Qc(e, t, n) {
  let [r, o] = W(n), s = e !== void 0, i = q(s), a = q(!1), l = q(!1);
  return s && !i.current && !a.current ? (a.current = !0, i.current = s, console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")) : !s && i.current && !l.current && (l.current = !0, i.current = s, console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")), [s ? e : r, se((c) => (s || o(c), t == null ? void 0 : t(c)))];
}
function qa(e) {
  typeof queueMicrotask == "function" ? queueMicrotask(e) : Promise.resolve().then(e).catch((t) => setTimeout(() => {
    throw t;
  }));
}
function Jn() {
  let e = [], t = { addEventListener(n, r, o, s) {
    return n.addEventListener(r, o, s), t.add(() => n.removeEventListener(r, o, s));
  }, requestAnimationFrame(...n) {
    let r = requestAnimationFrame(...n);
    return t.add(() => cancelAnimationFrame(r));
  }, nextFrame(...n) {
    return t.requestAnimationFrame(() => t.requestAnimationFrame(...n));
  }, setTimeout(...n) {
    let r = setTimeout(...n);
    return t.add(() => clearTimeout(r));
  }, microTask(...n) {
    let r = { current: !0 };
    return qa(() => {
      r.current && n[0]();
    }), t.add(() => {
      r.current = !1;
    });
  }, style(n, r, o) {
    let s = n.style.getPropertyValue(r);
    return Object.assign(n.style, { [r]: o }), this.add(() => {
      Object.assign(n.style, { [r]: s });
    });
  }, group(n) {
    let r = Jn();
    return n(r), this.add(() => r.dispose());
  }, add(n) {
    return e.push(n), () => {
      let r = e.indexOf(n);
      if (r >= 0)
        for (let o of e.splice(r, 1))
          o();
    };
  }, dispose() {
    for (let n of e.splice(0))
      n();
  } };
  return t;
}
function Qn() {
  let [e] = W(Jn);
  return G(() => () => e.dispose(), [e]), e;
}
function eE() {
  let e = typeof document > "u";
  return "useSyncExternalStore" in et ? ((t) => t.useSyncExternalStore)(et)(() => () => {
  }, () => !1, () => !e) : !1;
}
function xi() {
  let e = eE(), [t, n] = et.useState(lo.isHandoffComplete);
  return t && lo.isHandoffComplete === !1 && n(!1), et.useEffect(() => {
    t !== !0 && n(!0);
  }, [t]), et.useEffect(() => lo.handoff(), []), e ? !1 : t;
}
var Ah;
let dt = (Ah = B.useId) != null ? Ah : function() {
  let e = xi(), [t, n] = B.useState(e ? () => lo.nextId() : null);
  return Ue(() => {
    t === null && n(lo.nextId());
  }, [t]), t != null ? "" + t : void 0;
};
function Ae(e, t, ...n) {
  if (e in t) {
    let o = t[e];
    return typeof o == "function" ? o(...n) : o;
  }
  let r = new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((o) => `"${o}"`).join(", ")}.`);
  throw Error.captureStackTrace && Error.captureStackTrace(r, Ae), r;
}
function Wo(e) {
  return lo.isServer ? null : e instanceof Node ? e.ownerDocument : e != null && e.hasOwnProperty("current") && e.current instanceof Node ? e.current.ownerDocument : document;
}
let vp = ["[contentEditable=true]", "[tabindex]", "a[href]", "area[href]", "button:not([disabled])", "iframe", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].map((e) => `${e}:not([tabindex='-1'])`).join(",");
var ct = ((e) => (e[e.First = 1] = "First", e[e.Previous = 2] = "Previous", e[e.Next = 4] = "Next", e[e.Last = 8] = "Last", e[e.WrapAround = 16] = "WrapAround", e[e.NoScroll = 32] = "NoScroll", e))(ct || {}), ar = ((e) => (e[e.Error = 0] = "Error", e[e.Overflow = 1] = "Overflow", e[e.Success = 2] = "Success", e[e.Underflow = 3] = "Underflow", e))(ar || {}), tE = ((e) => (e[e.Previous = -1] = "Previous", e[e.Next = 1] = "Next", e))(tE || {});
function eu(e = document.body) {
  return e == null ? [] : Array.from(e.querySelectorAll(vp)).sort((t, n) => Math.sign((t.tabIndex || Number.MAX_SAFE_INTEGER) - (n.tabIndex || Number.MAX_SAFE_INTEGER)));
}
var tu = ((e) => (e[e.Strict = 0] = "Strict", e[e.Loose = 1] = "Loose", e))(tu || {});
function _f(e, t = 0) {
  var n;
  return e === ((n = Wo(e)) == null ? void 0 : n.body) ? !1 : Ae(t, { 0() {
    return e.matches(vp);
  }, 1() {
    let r = e;
    for (; r !== null; ) {
      if (r.matches(vp))
        return !0;
      r = r.parentElement;
    }
    return !1;
  } });
}
var nE = ((e) => (e[e.Keyboard = 0] = "Keyboard", e[e.Mouse = 1] = "Mouse", e))(nE || {});
typeof window < "u" && typeof document < "u" && (document.addEventListener("keydown", (e) => {
  e.metaKey || e.altKey || e.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0), document.addEventListener("click", (e) => {
  e.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0));
function hs(e) {
  e == null || e.focus({ preventScroll: !0 });
}
let rE = ["textarea", "input"].join(",");
function oE(e) {
  var t, n;
  return (n = (t = e == null ? void 0 : e.matches) == null ? void 0 : t.call(e, rE)) != null ? n : !1;
}
function ro(e, t = (n) => n) {
  return e.slice().sort((n, r) => {
    let o = t(n), s = t(r);
    if (o === null || s === null)
      return 0;
    let i = o.compareDocumentPosition(s);
    return i & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : i & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;
  });
}
function Ht(e, t, { sorted: n = !0, relativeTo: r = null, skipElements: o = [] } = {}) {
  let s = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument, i = Array.isArray(e) ? n ? ro(e) : e : eu(e);
  o.length > 0 && i.length > 1 && (i = i.filter((g) => !o.includes(g))), r = r ?? s.activeElement;
  let a = (() => {
    if (t & 5)
      return 1;
    if (t & 10)
      return -1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), l = (() => {
    if (t & 1)
      return 0;
    if (t & 2)
      return Math.max(0, i.indexOf(r)) - 1;
    if (t & 4)
      return Math.max(0, i.indexOf(r)) + 1;
    if (t & 8)
      return i.length - 1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), c = t & 32 ? { preventScroll: !0 } : {}, d = 0, p = i.length, f;
  do {
    if (d >= p || d + p <= 0)
      return 0;
    let g = l + d;
    if (t & 16)
      g = (g + p) % p;
    else {
      if (g < 0)
        return 3;
      if (g >= p)
        return 1;
    }
    f = i[g], f == null || f.focus(c), d += a;
  } while (f !== s.activeElement);
  return t & 6 && oE(f) && f.select(), 2;
}
function Lv() {
  return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;
}
function sE() {
  return /Android/gi.test(window.navigator.userAgent);
}
function Nv() {
  return Lv() || sE();
}
function Cl(e, t, n) {
  let r = Bt(t);
  G(() => {
    function o(s) {
      r.current(s);
    }
    return document.addEventListener(e, o, n), () => document.removeEventListener(e, o, n);
  }, [e, n]);
}
function kv(e, t, n) {
  let r = Bt(t);
  G(() => {
    function o(s) {
      r.current(s);
    }
    return window.addEventListener(e, o, n), () => window.removeEventListener(e, o, n);
  }, [e, n]);
}
function nu(e, t, n = !0) {
  let r = q(!1);
  G(() => {
    requestAnimationFrame(() => {
      r.current = n;
    });
  }, [n]);
  function o(i, a) {
    if (!r.current || i.defaultPrevented)
      return;
    let l = a(i);
    if (l === null || !l.getRootNode().contains(l) || !l.isConnected)
      return;
    let c = function d(p) {
      return typeof p == "function" ? d(p()) : Array.isArray(p) || p instanceof Set ? p : [p];
    }(e);
    for (let d of c) {
      if (d === null)
        continue;
      let p = d instanceof HTMLElement ? d : d.current;
      if (p != null && p.contains(l) || i.composed && i.composedPath().includes(p))
        return;
    }
    return !_f(l, tu.Loose) && l.tabIndex !== -1 && i.preventDefault(), t(i, l);
  }
  let s = q(null);
  Cl("pointerdown", (i) => {
    var a, l;
    r.current && (s.current = ((l = (a = i.composedPath) == null ? void 0 : a.call(i)) == null ? void 0 : l[0]) || i.target);
  }, !0), Cl("mousedown", (i) => {
    var a, l;
    r.current && (s.current = ((l = (a = i.composedPath) == null ? void 0 : a.call(i)) == null ? void 0 : l[0]) || i.target);
  }, !0), Cl("click", (i) => {
    Nv() || s.current && (o(i, () => s.current), s.current = null);
  }, !0), Cl("touchend", (i) => o(i, () => i.target instanceof HTMLElement ? i.target : null), !0), kv("blur", (i) => o(i, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), !0);
}
function mo(...e) {
  return ue(() => Wo(...e), [...e]);
}
function Lh(e) {
  var t;
  if (e.type)
    return e.type;
  let n = (t = e.as) != null ? t : "button";
  if (typeof n == "string" && n.toLowerCase() === "button")
    return "button";
}
function Pi(e, t) {
  let [n, r] = W(() => Lh(e));
  return Ue(() => {
    r(Lh(e));
  }, [e.type, e.as]), Ue(() => {
    n || t.current && t.current instanceof HTMLButtonElement && !t.current.hasAttribute("type") && r("button");
  }, [n, t]), n;
}
let Mv = Symbol();
function Af(e, t = !0) {
  return Object.assign(e, { [Mv]: t });
}
function Be(...e) {
  let t = q(e);
  G(() => {
    t.current = e;
  }, [e]);
  let n = se((r) => {
    for (let o of t.current)
      o != null && (typeof o == "function" ? o(r) : o.current = r);
  });
  return e.every((r) => r == null || (r == null ? void 0 : r[Mv])) ? void 0 : n;
}
function Nh(e) {
  return [e.screenX, e.screenY];
}
function $v() {
  let e = q([-1, -1]);
  return { wasMoved(t) {
    let n = Nh(t);
    return e.current[0] === n[0] && e.current[1] === n[1] ? !1 : (e.current = n, !0);
  }, update(t) {
    e.current = Nh(t);
  } };
}
function Rv({ container: e, accept: t, walk: n, enabled: r = !0 }) {
  let o = q(t), s = q(n);
  G(() => {
    o.current = t, s.current = n;
  }, [t, n]), Ue(() => {
    if (!e || !r)
      return;
    let i = Wo(e);
    if (!i)
      return;
    let a = o.current, l = s.current, c = Object.assign((p) => a(p), { acceptNode: a }), d = i.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, c, !1);
    for (; d.nextNode(); )
      l(d.currentNode);
  }, [e, r, o, s]);
}
function Ca(e, t) {
  let n = q([]), r = se(e);
  G(() => {
    let o = [...n.current];
    for (let [s, i] of t.entries())
      if (n.current[s] !== i) {
        let a = r(t, o);
        return n.current = t, a;
      }
  }, [r, ...t]);
}
function wc(...e) {
  return Array.from(new Set(e.flatMap((t) => typeof t == "string" ? t.split(" ") : []))).filter(Boolean).join(" ");
}
var ln = ((e) => (e[e.None = 0] = "None", e[e.RenderStrategy = 1] = "RenderStrategy", e[e.Static = 2] = "Static", e))(ln || {}), No = ((e) => (e[e.Unmount = 0] = "Unmount", e[e.Hidden = 1] = "Hidden", e))(No || {});
function $e({ ourProps: e, theirProps: t, slot: n, defaultTag: r, features: o, visible: s = !0, name: i, mergeRefs: a }) {
  a = a ?? iE;
  let l = Iv(t, e);
  if (s)
    return xl(l, n, r, i, a);
  let c = o ?? 0;
  if (c & 2) {
    let { static: d = !1, ...p } = l;
    if (d)
      return xl(p, n, r, i, a);
  }
  if (c & 1) {
    let { unmount: d = !0, ...p } = l;
    return Ae(d ? 0 : 1, { 0() {
      return null;
    }, 1() {
      return xl({ ...p, hidden: !0, style: { display: "none" } }, n, r, i, a);
    } });
  }
  return xl(l, n, r, i, a);
}
function xl(e, t = {}, n, r, o) {
  let { as: s = n, children: i, refName: a = "ref", ...l } = nd(e, ["unmount", "static"]), c = e.ref !== void 0 ? { [a]: e.ref } : {}, d = typeof i == "function" ? i(t) : i;
  "className" in l && l.className && typeof l.className == "function" && (l.className = l.className(t));
  let p = {};
  if (t) {
    let f = !1, g = [];
    for (let [h, m] of Object.entries(t))
      typeof m == "boolean" && (f = !0), m === !0 && g.push(h);
    f && (p["data-headlessui-state"] = g.join(" "));
  }
  if (s === It && Object.keys(pi(l)).length > 0) {
    if (!RS(d) || Array.isArray(d) && d.length > 1)
      throw new Error(['Passing props on "Fragment"!', "", `The current component <${r} /> is rendering a "Fragment".`, "However we need to passthrough the following props:", Object.keys(l).map((m) => `  - ${m}`).join(`
`), "", "You can apply a few solutions:", ['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".', "Render a single element as the child so that we can forward the props onto that element."].map((m) => `  - ${m}`).join(`
`)].join(`
`));
    let f = d.props, g = typeof (f == null ? void 0 : f.className) == "function" ? (...m) => wc(f == null ? void 0 : f.className(...m), l.className) : wc(f == null ? void 0 : f.className, l.className), h = g ? { className: g } : {};
    return IS(d, Object.assign({}, Iv(d.props, pi(nd(l, ["ref"]))), p, c, { ref: o(d.ref, c.ref) }, h));
  }
  return Ro(s, Object.assign({}, nd(l, ["ref"]), s !== It && c, s !== It && p), d);
}
function Lf() {
  let e = q([]), t = Et((n) => {
    for (let r of e.current)
      r != null && (typeof r == "function" ? r(n) : r.current = n);
  }, []);
  return (...n) => {
    if (!n.every((r) => r == null))
      return e.current = n, t;
  };
}
function iE(...e) {
  return e.every((t) => t == null) ? void 0 : (t) => {
    for (let n of e)
      n != null && (typeof n == "function" ? n(t) : n.current = t);
  };
}
function Iv(...e) {
  if (e.length === 0)
    return {};
  if (e.length === 1)
    return e[0];
  let t = {}, n = {};
  for (let r of e)
    for (let o in r)
      o.startsWith("on") && typeof r[o] == "function" ? (n[o] != null || (n[o] = []), n[o].push(r[o])) : t[o] = r[o];
  if (t.disabled || t["aria-disabled"])
    return Object.assign(t, Object.fromEntries(Object.keys(n).map((r) => [r, void 0])));
  for (let r in n)
    Object.assign(t, { [r](o, ...s) {
      let i = n[r];
      for (let a of i) {
        if ((o instanceof Event || (o == null ? void 0 : o.nativeEvent) instanceof Event) && o.defaultPrevented)
          return;
        a(o, ...s);
      }
    } });
  return t;
}
function Re(e) {
  var t;
  return Object.assign(Yt(e), { displayName: (t = e.displayName) != null ? t : e.name });
}
function pi(e) {
  let t = Object.assign({}, e);
  for (let n in t)
    t[n] === void 0 && delete t[n];
  return t;
}
function nd(e, t = []) {
  let n = Object.assign({}, e);
  for (let r of t)
    r in n && delete n[r];
  return n;
}
let aE = "div";
var In = ((e) => (e[e.None = 1] = "None", e[e.Focusable = 2] = "Focusable", e[e.Hidden = 4] = "Hidden", e))(In || {});
function lE(e, t) {
  var n;
  let { features: r = 1, ...o } = e, s = { ref: t, "aria-hidden": (r & 2) === 2 ? !0 : (n = o["aria-hidden"]) != null ? n : void 0, hidden: (r & 4) === 4 ? !0 : void 0, style: { position: "fixed", top: 1, left: 1, width: 1, height: 0, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0", ...(r & 4) === 4 && (r & 2) !== 2 && { display: "none" } } };
  return $e({ ourProps: s, theirProps: o, slot: {}, defaultTag: aE, name: "Hidden" });
}
let jn = Re(lE), Nf = Je(null);
Nf.displayName = "OpenClosedContext";
var st = ((e) => (e[e.Open = 1] = "Open", e[e.Closed = 2] = "Closed", e[e.Closing = 4] = "Closing", e[e.Opening = 8] = "Opening", e))(st || {});
function Go() {
  return He(Nf);
}
function Ya({ value: e, children: t }) {
  return B.createElement(Nf.Provider, { value: e }, t);
}
function cE(e) {
  function t() {
    document.readyState !== "loading" && (e(), document.removeEventListener("DOMContentLoaded", t));
  }
  typeof window < "u" && typeof document < "u" && (document.addEventListener("DOMContentLoaded", t), t());
}
let Ar = [];
cE(() => {
  function e(t) {
    t.target instanceof HTMLElement && t.target !== document.body && Ar[0] !== t.target && (Ar.unshift(t.target), Ar = Ar.filter((n) => n != null && n.isConnected), Ar.splice(10));
  }
  window.addEventListener("click", e, { capture: !0 }), window.addEventListener("mousedown", e, { capture: !0 }), window.addEventListener("focus", e, { capture: !0 }), document.body.addEventListener("click", e, { capture: !0 }), document.body.addEventListener("mousedown", e, { capture: !0 }), document.body.addEventListener("focus", e, { capture: !0 });
});
function uo(e) {
  let t = e.parentElement, n = null;
  for (; t && !(t instanceof HTMLFieldSetElement); )
    t instanceof HTMLLegendElement && (n = t), t = t.parentElement;
  let r = (t == null ? void 0 : t.getAttribute("disabled")) === "";
  return r && uE(n) ? !1 : r;
}
function uE(e) {
  if (!e)
    return !1;
  let t = e.previousElementSibling;
  for (; t !== null; ) {
    if (t instanceof HTMLLegendElement)
      return !1;
    t = t.previousElementSibling;
  }
  return !0;
}
function dE(e) {
  throw new Error("Unexpected object: " + e);
}
var nt = ((e) => (e[e.First = 0] = "First", e[e.Previous = 1] = "Previous", e[e.Next = 2] = "Next", e[e.Last = 3] = "Last", e[e.Specific = 4] = "Specific", e[e.Nothing = 5] = "Nothing", e))(nt || {});
function yp(e, t) {
  let n = t.resolveItems();
  if (n.length <= 0)
    return null;
  let r = t.resolveActiveIndex(), o = r ?? -1;
  switch (e.focus) {
    case 0: {
      for (let s = 0; s < n.length; ++s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 1: {
      for (let s = o - 1; s >= 0; --s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 2: {
      for (let s = o + 1; s < n.length; ++s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 3: {
      for (let s = n.length - 1; s >= 0; --s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 4: {
      for (let s = 0; s < n.length; ++s)
        if (t.resolveId(n[s], s, n) === e.id)
          return s;
      return r;
    }
    case 5:
      return null;
    default:
      dE(e);
  }
}
function ru(e = {}, t = null, n = []) {
  for (let [r, o] of Object.entries(e))
    Vv(n, jv(t, r), o);
  return n;
}
function jv(e, t) {
  return e ? e + "[" + t + "]" : t;
}
function Vv(e, t, n) {
  if (Array.isArray(n))
    for (let [r, o] of n.entries())
      Vv(e, jv(t, r.toString()), o);
  else
    n instanceof Date ? e.push([t, n.toISOString()]) : typeof n == "boolean" ? e.push([t, n ? "1" : "0"]) : typeof n == "string" ? e.push([t, n]) : typeof n == "number" ? e.push([t, `${n}`]) : n == null ? e.push([t, ""]) : ru(n, t, e);
}
function Dv(e) {
  var t, n;
  let r = (t = e == null ? void 0 : e.form) != null ? t : e.closest("form");
  if (r) {
    for (let o of r.elements)
      if (o !== e && (o.tagName === "INPUT" && o.type === "submit" || o.tagName === "BUTTON" && o.type === "submit" || o.nodeName === "INPUT" && o.type === "image")) {
        o.click();
        return;
      }
    (n = r.requestSubmit) == null || n.call(r);
  }
}
var Ce = ((e) => (e.Space = " ", e.Enter = "Enter", e.Escape = "Escape", e.Backspace = "Backspace", e.Delete = "Delete", e.ArrowLeft = "ArrowLeft", e.ArrowUp = "ArrowUp", e.ArrowRight = "ArrowRight", e.ArrowDown = "ArrowDown", e.Home = "Home", e.End = "End", e.PageUp = "PageUp", e.PageDown = "PageDown", e.Tab = "Tab", e))(Ce || {}), pE = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(pE || {}), fE = ((e) => (e[e.Single = 0] = "Single", e[e.Multi = 1] = "Multi", e))(fE || {}), gE = ((e) => (e[e.Pointer = 0] = "Pointer", e[e.Focus = 1] = "Focus", e[e.Other = 2] = "Other", e))(gE || {}), hE = ((e) => (e[e.OpenCombobox = 0] = "OpenCombobox", e[e.CloseCombobox = 1] = "CloseCombobox", e[e.GoToOption = 2] = "GoToOption", e[e.RegisterOption = 3] = "RegisterOption", e[e.UnregisterOption = 4] = "UnregisterOption", e[e.RegisterLabel = 5] = "RegisterLabel", e[e.SetActivationTrigger = 6] = "SetActivationTrigger", e[e.UpdateVirtualOptions = 7] = "UpdateVirtualOptions", e))(hE || {});
function rd(e, t = (n) => n) {
  let n = e.activeOptionIndex !== null ? e.options[e.activeOptionIndex] : null, r = t(e.options.slice()), o = r.length > 0 && r[0].dataRef.current.order !== null ? r.sort((i, a) => i.dataRef.current.order - a.dataRef.current.order) : ro(r, (i) => i.dataRef.current.domRef.current), s = n ? o.indexOf(n) : null;
  return s === -1 && (s = null), { options: o, activeOptionIndex: s };
}
let mE = { 1(e) {
  var t;
  return (t = e.dataRef.current) != null && t.disabled || e.comboboxState === 1 ? e : { ...e, activeOptionIndex: null, comboboxState: 1 };
}, 0(e) {
  var t, n;
  if ((t = e.dataRef.current) != null && t.disabled || e.comboboxState === 0)
    return e;
  if ((n = e.dataRef.current) != null && n.value) {
    let r = e.dataRef.current.calculateIndex(e.dataRef.current.value);
    if (r !== -1)
      return { ...e, activeOptionIndex: r, comboboxState: 0 };
  }
  return { ...e, comboboxState: 0 };
}, 2(e, t) {
  var n, r, o, s, i;
  if ((n = e.dataRef.current) != null && n.disabled || (r = e.dataRef.current) != null && r.optionsRef.current && !((o = e.dataRef.current) != null && o.optionsPropsRef.current.static) && e.comboboxState === 1)
    return e;
  if (e.virtual) {
    let d = t.focus === nt.Specific ? t.idx : yp(t, { resolveItems: () => e.virtual.options, resolveActiveIndex: () => {
      var f, g;
      return (g = (f = e.activeOptionIndex) != null ? f : e.virtual.options.findIndex((h) => !e.virtual.disabled(h))) != null ? g : null;
    }, resolveDisabled: e.virtual.disabled, resolveId() {
      throw new Error("Function not implemented.");
    } }), p = (s = t.trigger) != null ? s : 2;
    return e.activeOptionIndex === d && e.activationTrigger === p ? e : { ...e, activeOptionIndex: d, activationTrigger: p };
  }
  let a = rd(e);
  if (a.activeOptionIndex === null) {
    let d = a.options.findIndex((p) => !p.dataRef.current.disabled);
    d !== -1 && (a.activeOptionIndex = d);
  }
  let l = t.focus === nt.Specific ? t.idx : yp(t, { resolveItems: () => a.options, resolveActiveIndex: () => a.activeOptionIndex, resolveId: (d) => d.id, resolveDisabled: (d) => d.dataRef.current.disabled }), c = (i = t.trigger) != null ? i : 2;
  return e.activeOptionIndex === l && e.activationTrigger === c ? e : { ...e, ...a, activeOptionIndex: l, activationTrigger: c };
}, 3: (e, t) => {
  var n, r, o;
  if ((n = e.dataRef.current) != null && n.virtual)
    return { ...e, options: [...e.options, t.payload] };
  let s = t.payload, i = rd(e, (l) => (l.push(s), l));
  e.activeOptionIndex === null && (r = e.dataRef.current) != null && r.isSelected(t.payload.dataRef.current.value) && (i.activeOptionIndex = i.options.indexOf(s));
  let a = { ...e, ...i, activationTrigger: 2 };
  return (o = e.dataRef.current) != null && o.__demoMode && e.dataRef.current.value === void 0 && (a.activeOptionIndex = 0), a;
}, 4: (e, t) => {
  var n;
  if ((n = e.dataRef.current) != null && n.virtual)
    return { ...e, options: e.options.filter((o) => o.id !== t.id) };
  let r = rd(e, (o) => {
    let s = o.findIndex((i) => i.id === t.id);
    return s !== -1 && o.splice(s, 1), o;
  });
  return { ...e, ...r, activationTrigger: 2 };
}, 5: (e, t) => e.labelId === t.id ? e : { ...e, labelId: t.id }, 6: (e, t) => e.activationTrigger === t.trigger ? e : { ...e, activationTrigger: t.trigger }, 7: (e, t) => {
  var n;
  if (((n = e.virtual) == null ? void 0 : n.options) === t.options)
    return e;
  let r = e.activeOptionIndex;
  if (e.activeOptionIndex !== null) {
    let o = t.options.indexOf(e.virtual.options[e.activeOptionIndex]);
    o !== -1 ? r = o : r = null;
  }
  return { ...e, activeOptionIndex: r, virtual: Object.assign({}, e.virtual, { options: t.options }) };
} }, kf = Je(null);
kf.displayName = "ComboboxActionsContext";
function Za(e) {
  let t = He(kf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Combobox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Za), n;
  }
  return t;
}
let Hv = Je(null);
function bE(e) {
  var t;
  let n = Ms("VirtualProvider"), [r, o] = ue(() => {
    let l = n.optionsRef.current;
    if (!l)
      return [0, 0];
    let c = window.getComputedStyle(l);
    return [parseFloat(c.paddingBlockStart || c.paddingTop), parseFloat(c.paddingBlockEnd || c.paddingBottom)];
  }, [n.optionsRef.current]), s = Z5({ scrollPaddingStart: r, scrollPaddingEnd: o, count: n.virtual.options.length, estimateSize() {
    return 40;
  }, getScrollElement() {
    var l;
    return (l = n.optionsRef.current) != null ? l : null;
  }, overscan: 12 }), [i, a] = W(0);
  return Ue(() => {
    a((l) => l + 1);
  }, [(t = n.virtual) == null ? void 0 : t.options]), B.createElement(Hv.Provider, { value: s }, B.createElement("div", { style: { position: "relative", width: "100%", height: `${s.getTotalSize()}px` }, ref: (l) => {
    if (l) {
      if (typeof process < "u" && { NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.57" }.JEST_WORKER_ID !== void 0 || n.activationTrigger === 0)
        return;
      n.activeOptionIndex !== null && n.virtual.options.length > n.activeOptionIndex && s.scrollToIndex(n.activeOptionIndex);
    }
  } }, s.getVirtualItems().map((l) => {
    var c;
    return B.createElement(It, { key: l.key }, B.cloneElement((c = e.children) == null ? void 0 : c.call(e, { option: n.virtual.options[l.index], open: n.comboboxState === 0 }), { key: `${i}-${l.key}`, "data-index": l.index, "aria-setsize": n.virtual.options.length, "aria-posinset": l.index + 1, style: { position: "absolute", top: 0, left: 0, transform: `translateY(${l.start}px)`, overflowAnchor: "none" } }));
  })));
}
let Mf = Je(null);
Mf.displayName = "ComboboxDataContext";
function Ms(e) {
  let t = He(Mf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Combobox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Ms), n;
  }
  return t;
}
function vE(e, t) {
  return Ae(t.type, mE, e, t);
}
let yE = It;
function wE(e, t) {
  let { value: n, defaultValue: r, onChange: o, form: s, name: i, by: a = null, disabled: l = !1, __demoMode: c = !1, nullable: d = !1, multiple: p = !1, immediate: f = !1, virtual: g = null, ...h } = e, m = !1, b = null, [y = p ? [] : void 0, v] = Qc(n, o, r), [S, w] = Ho(vE, { dataRef: ma(), comboboxState: c ? 0 : 1, options: [], virtual: null, activeOptionIndex: null, activationTrigger: 2, labelId: null }), C = q(!1), x = q({ static: !1, hold: !1 }), E = q(null), O = q(null), T = q(null), P = q(null), A = se(typeof a == "string" ? (ee, de) => {
    let me = a;
    return (ee == null ? void 0 : ee[me]) === (de == null ? void 0 : de[me]);
  } : a ?? ((ee, de) => ee === de)), _ = se((ee) => S.options.findIndex((de) => A(de.dataRef.current.value, ee))), M = Et((ee) => Ae(N.mode, { 1: () => y.some((de) => A(de, ee)), 0: () => A(y, ee) }), [y]), V = se((ee) => S.activeOptionIndex === _(ee)), N = ue(() => ({ ...S, immediate: m, optionsPropsRef: x, labelRef: E, inputRef: O, buttonRef: T, optionsRef: P, value: y, defaultValue: r, disabled: l, mode: p ? 1 : 0, virtual: S.virtual, get activeOptionIndex() {
    if (C.current && S.activeOptionIndex === null && S.options.length > 0) {
      let ee = S.options.findIndex((de) => !de.dataRef.current.disabled);
      if (ee !== -1)
        return ee;
    }
    return S.activeOptionIndex;
  }, calculateIndex: _, compare: A, isSelected: M, isActive: V, nullable: d, __demoMode: c }), [y, r, l, p, d, c, S, b]);
  Ue(() => {
  }, [b, void 0]), Ue(() => {
    S.dataRef.current = N;
  }, [N]), nu([N.buttonRef, N.inputRef, N.optionsRef], () => re.closeCombobox(), N.comboboxState === 0);
  let H = ue(() => {
    var ee, de, me;
    return { open: N.comboboxState === 0, disabled: l, activeIndex: N.activeOptionIndex, activeOption: N.activeOptionIndex === null ? null : N.virtual ? N.virtual.options[(ee = N.activeOptionIndex) != null ? ee : 0] : (me = (de = N.options[N.activeOptionIndex]) == null ? void 0 : de.dataRef.current.value) != null ? me : null, value: y };
  }, [N, l, y]), K = se(() => {
    if (N.activeOptionIndex !== null) {
      if (N.virtual)
        ne(N.virtual.options[N.activeOptionIndex]);
      else {
        let { dataRef: ee } = N.options[N.activeOptionIndex];
        ne(ee.current.value);
      }
      re.goToOption(nt.Specific, N.activeOptionIndex);
    }
  }), z = se(() => {
    w({ type: 0 }), C.current = !0;
  }), $ = se(() => {
    w({ type: 1 }), C.current = !1;
  }), D = se((ee, de, me) => (C.current = !1, ee === nt.Specific ? w({ type: 2, focus: nt.Specific, idx: de, trigger: me }) : w({ type: 2, focus: ee, trigger: me }))), I = se((ee, de) => (w({ type: 3, payload: { id: ee, dataRef: de } }), () => {
    N.isActive(de.current.value) && (C.current = !0), w({ type: 4, id: ee });
  })), U = se((ee) => (w({ type: 5, id: ee }), () => w({ type: 5, id: null }))), ne = se((ee) => Ae(N.mode, { 0() {
    return v == null ? void 0 : v(ee);
  }, 1() {
    let de = N.value.slice(), me = de.findIndex((Ee) => A(Ee, ee));
    return me === -1 ? de.push(ee) : de.splice(me, 1), v == null ? void 0 : v(de);
  } })), Q = se((ee) => {
    w({ type: 6, trigger: ee });
  }), re = ue(() => ({ onChange: ne, registerOption: I, registerLabel: U, goToOption: D, closeCombobox: $, openCombobox: z, setActivationTrigger: Q, selectActiveOption: K }), []), ie = t === null ? {} : { ref: t }, oe = q(null), X = Qn();
  return G(() => {
    oe.current && r !== void 0 && X.addEventListener(oe.current, "reset", () => {
      v == null || v(r);
    });
  }, [oe, v]), B.createElement(kf.Provider, { value: re }, B.createElement(Mf.Provider, { value: N }, B.createElement(Ya, { value: Ae(N.comboboxState, { 0: st.Open, 1: st.Closed }) }, i != null && y != null && ru({ [i]: y }).map(([ee, de], me) => B.createElement(jn, { features: In.Hidden, ref: me === 0 ? (Ee) => {
    var Se;
    oe.current = (Se = Ee == null ? void 0 : Ee.closest("form")) != null ? Se : null;
  } : void 0, ...pi({ key: ee, as: "input", type: "hidden", hidden: !0, readOnly: !0, form: s, disabled: l, name: ee, value: de }) })), $e({ ourProps: ie, theirProps: h, slot: H, defaultTag: yE, name: "Combobox" }))));
}
let SE = "input";
function CE(e, t) {
  var n, r, o, s, i;
  let a = dt(), { id: l = `headlessui-combobox-input-${a}`, onChange: c, displayValue: d, type: p = "text", ...f } = e, g = Ms("Combobox.Input"), h = Za("Combobox.Input"), m = Be(g.inputRef, t), b = mo(g.inputRef), y = q(!1), v = Qn(), S = se(() => {
    h.onChange(null), g.optionsRef.current && (g.optionsRef.current.scrollTop = 0), h.goToOption(nt.Nothing);
  }), w = function() {
    var N;
    return typeof d == "function" && g.value !== void 0 ? (N = d(g.value)) != null ? N : "" : typeof g.value == "string" ? g.value : "";
  }();
  Ca(([N, H], [K, z]) => {
    if (y.current)
      return;
    let $ = g.inputRef.current;
    $ && ((z === 0 && H === 1 || N !== K) && ($.value = N), requestAnimationFrame(() => {
      if (y.current || !$ || (b == null ? void 0 : b.activeElement) !== $)
        return;
      let { selectionStart: D, selectionEnd: I } = $;
      Math.abs((I ?? 0) - (D ?? 0)) === 0 && D === 0 && $.setSelectionRange($.value.length, $.value.length);
    }));
  }, [w, g.comboboxState, b]), Ca(([N], [H]) => {
    if (N === 0 && H === 1) {
      if (y.current)
        return;
      let K = g.inputRef.current;
      if (!K)
        return;
      let z = K.value, { selectionStart: $, selectionEnd: D, selectionDirection: I } = K;
      K.value = "", K.value = z, I !== null ? K.setSelectionRange($, D, I) : K.setSelectionRange($, D);
    }
  }, [g.comboboxState]);
  let C = q(!1), x = se(() => {
    C.current = !0;
  }), E = se(() => {
    v.nextFrame(() => {
      C.current = !1;
    });
  }), O = se((N) => {
    switch (y.current = !0, N.key) {
      case Ce.Enter:
        if (y.current = !1, g.comboboxState !== 0 || C.current)
          return;
        if (N.preventDefault(), N.stopPropagation(), g.activeOptionIndex === null) {
          h.closeCombobox();
          return;
        }
        h.selectActiveOption(), g.mode === 0 && h.closeCombobox();
        break;
      case Ce.ArrowDown:
        return y.current = !1, N.preventDefault(), N.stopPropagation(), Ae(g.comboboxState, { 0: () => h.goToOption(nt.Next), 1: () => h.openCombobox() });
      case Ce.ArrowUp:
        return y.current = !1, N.preventDefault(), N.stopPropagation(), Ae(g.comboboxState, { 0: () => h.goToOption(nt.Previous), 1: () => {
          h.openCombobox(), v.nextFrame(() => {
            g.value || h.goToOption(nt.Last);
          });
        } });
      case Ce.Home:
        if (N.shiftKey)
          break;
        return y.current = !1, N.preventDefault(), N.stopPropagation(), h.goToOption(nt.First);
      case Ce.PageUp:
        return y.current = !1, N.preventDefault(), N.stopPropagation(), h.goToOption(nt.First);
      case Ce.End:
        if (N.shiftKey)
          break;
        return y.current = !1, N.preventDefault(), N.stopPropagation(), h.goToOption(nt.Last);
      case Ce.PageDown:
        return y.current = !1, N.preventDefault(), N.stopPropagation(), h.goToOption(nt.Last);
      case Ce.Escape:
        return y.current = !1, g.comboboxState !== 0 ? void 0 : (N.preventDefault(), g.optionsRef.current && !g.optionsPropsRef.current.static && N.stopPropagation(), g.nullable && g.mode === 0 && g.value === null && S(), h.closeCombobox());
      case Ce.Tab:
        if (y.current = !1, g.comboboxState !== 0)
          return;
        g.mode === 0 && g.activationTrigger !== 1 && h.selectActiveOption(), h.closeCombobox();
        break;
    }
  }), T = se((N) => {
    c == null || c(N), g.nullable && g.mode === 0 && N.target.value === "" && S(), h.openCombobox();
  }), P = se((N) => {
    var H, K, z;
    let $ = (H = N.relatedTarget) != null ? H : Ar.find((D) => D !== N.currentTarget);
    if (y.current = !1, !((K = g.optionsRef.current) != null && K.contains($)) && !((z = g.buttonRef.current) != null && z.contains($)) && g.comboboxState === 0)
      return N.preventDefault(), g.mode === 0 && (g.nullable && g.value === null ? S() : g.activationTrigger !== 1 && h.selectActiveOption()), h.closeCombobox();
  }), A = se((N) => {
    var H, K, z;
    let $ = (H = N.relatedTarget) != null ? H : Ar.find((D) => D !== N.currentTarget);
    (K = g.buttonRef.current) != null && K.contains($) || (z = g.optionsRef.current) != null && z.contains($) || g.disabled || g.immediate && g.comboboxState !== 0 && (h.openCombobox(), v.nextFrame(() => {
      h.setActivationTrigger(1);
    }));
  }), _ = Ka(() => {
    if (g.labelId)
      return [g.labelId].join(" ");
  }, [g.labelId]), M = ue(() => ({ open: g.comboboxState === 0, disabled: g.disabled }), [g]), V = { ref: m, id: l, role: "combobox", type: p, "aria-controls": (n = g.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": g.comboboxState === 0, "aria-activedescendant": g.activeOptionIndex === null ? void 0 : g.virtual ? (r = g.options.find((N) => {
    var H;
    return !((H = g.virtual) != null && H.disabled(N.dataRef.current.value)) && g.compare(N.dataRef.current.value, g.virtual.options[g.activeOptionIndex]);
  })) == null ? void 0 : r.id : (o = g.options[g.activeOptionIndex]) == null ? void 0 : o.id, "aria-labelledby": _, "aria-autocomplete": "list", defaultValue: (i = (s = e.defaultValue) != null ? s : g.defaultValue !== void 0 ? d == null ? void 0 : d(g.defaultValue) : null) != null ? i : g.defaultValue, disabled: g.disabled, onCompositionStart: x, onCompositionEnd: E, onKeyDown: O, onChange: T, onFocus: A, onBlur: P };
  return $e({ ourProps: V, theirProps: f, slot: M, defaultTag: SE, name: "Combobox.Input" });
}
let xE = "button";
function PE(e, t) {
  var n;
  let r = Ms("Combobox.Button"), o = Za("Combobox.Button"), s = Be(r.buttonRef, t), i = dt(), { id: a = `headlessui-combobox-button-${i}`, ...l } = e, c = Qn(), d = se((m) => {
    switch (m.key) {
      case Ce.ArrowDown:
        return m.preventDefault(), m.stopPropagation(), r.comboboxState === 1 && o.openCombobox(), c.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        });
      case Ce.ArrowUp:
        return m.preventDefault(), m.stopPropagation(), r.comboboxState === 1 && (o.openCombobox(), c.nextFrame(() => {
          r.value || o.goToOption(nt.Last);
        })), c.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        });
      case Ce.Escape:
        return r.comboboxState !== 0 ? void 0 : (m.preventDefault(), r.optionsRef.current && !r.optionsPropsRef.current.static && m.stopPropagation(), o.closeCombobox(), c.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        }));
      default:
        return;
    }
  }), p = se((m) => {
    if (uo(m.currentTarget))
      return m.preventDefault();
    r.comboboxState === 0 ? o.closeCombobox() : (m.preventDefault(), o.openCombobox()), c.nextFrame(() => {
      var b;
      return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
    });
  }), f = Ka(() => {
    if (r.labelId)
      return [r.labelId, a].join(" ");
  }, [r.labelId, a]), g = ue(() => ({ open: r.comboboxState === 0, disabled: r.disabled, value: r.value }), [r]), h = { ref: s, id: a, type: Pi(e, r.buttonRef), tabIndex: -1, "aria-haspopup": "listbox", "aria-controls": (n = r.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": r.comboboxState === 0, "aria-labelledby": f, disabled: r.disabled, onClick: p, onKeyDown: d };
  return $e({ ourProps: h, theirProps: l, slot: g, defaultTag: xE, name: "Combobox.Button" });
}
let EE = "label";
function TE(e, t) {
  let n = dt(), { id: r = `headlessui-combobox-label-${n}`, ...o } = e, s = Ms("Combobox.Label"), i = Za("Combobox.Label"), a = Be(s.labelRef, t);
  Ue(() => i.registerLabel(r), [r]);
  let l = se(() => {
    var d;
    return (d = s.inputRef.current) == null ? void 0 : d.focus({ preventScroll: !0 });
  }), c = ue(() => ({ open: s.comboboxState === 0, disabled: s.disabled }), [s]);
  return $e({ ourProps: { ref: a, id: r, onClick: l }, theirProps: o, slot: c, defaultTag: EE, name: "Combobox.Label" });
}
let OE = "ul", _E = ln.RenderStrategy | ln.Static;
function AE(e, t) {
  let n = dt(), { id: r = `headlessui-combobox-options-${n}`, hold: o = !1, ...s } = e, i = Ms("Combobox.Options"), a = Be(i.optionsRef, t), l = Go(), c = (() => l !== null ? (l & st.Open) === st.Open : i.comboboxState === 0)();
  Ue(() => {
    var g;
    i.optionsPropsRef.current.static = (g = e.static) != null ? g : !1;
  }, [i.optionsPropsRef, e.static]), Ue(() => {
    i.optionsPropsRef.current.hold = o;
  }, [i.optionsPropsRef, o]), Rv({ container: i.optionsRef.current, enabled: i.comboboxState === 0, accept(g) {
    return g.getAttribute("role") === "option" ? NodeFilter.FILTER_REJECT : g.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
  }, walk(g) {
    g.setAttribute("role", "none");
  } });
  let d = Ka(() => {
    var g, h;
    return (h = i.labelId) != null ? h : (g = i.buttonRef.current) == null ? void 0 : g.id;
  }, [i.labelId, i.buttonRef.current]), p = ue(() => ({ open: i.comboboxState === 0, option: void 0 }), [i]), f = { "aria-labelledby": d, role: "listbox", "aria-multiselectable": i.mode === 1 ? !0 : void 0, id: r, ref: a };
  return i.virtual && i.comboboxState === 0 && Object.assign(s, { children: B.createElement(bE, null, s.children) }), $e({ ourProps: f, theirProps: s, slot: p, defaultTag: OE, features: _E, visible: c, name: "Combobox.Options" });
}
let LE = "li";
function NE(e, t) {
  var n;
  let r = dt(), { id: o = `headlessui-combobox-option-${r}`, disabled: s = !1, value: i, order: a = null, ...l } = e, c = Ms("Combobox.Option"), d = Za("Combobox.Option"), p = c.virtual ? c.activeOptionIndex === c.calculateIndex(i) : c.activeOptionIndex === null ? !1 : ((n = c.options[c.activeOptionIndex]) == null ? void 0 : n.id) === o, f = c.isSelected(i), g = q(null), h = Bt({ disabled: s, value: i, domRef: g, order: a }), m = He(Hv), b = Be(t, g, m ? m.measureElement : null), y = se(() => d.onChange(i));
  Ue(() => d.registerOption(o, h), [h, o]);
  let v = q(!(c.virtual || c.__demoMode));
  Ue(() => {
    if (!c.virtual || !c.__demoMode)
      return;
    let P = Jn();
    return P.requestAnimationFrame(() => {
      v.current = !0;
    }), P.dispose;
  }, [c.virtual, c.__demoMode]), Ue(() => {
    if (!v.current || c.comboboxState !== 0 || !p || c.activationTrigger === 0)
      return;
    let P = Jn();
    return P.requestAnimationFrame(() => {
      var A, _;
      (_ = (A = g.current) == null ? void 0 : A.scrollIntoView) == null || _.call(A, { block: "nearest" });
    }), P.dispose;
  }, [g, p, c.comboboxState, c.activationTrigger, c.activeOptionIndex]);
  let S = se((P) => {
    var A;
    if (s || (A = c.virtual) != null && A.disabled(i))
      return P.preventDefault();
    y(), Nv() || requestAnimationFrame(() => {
      var _;
      return (_ = c.inputRef.current) == null ? void 0 : _.focus({ preventScroll: !0 });
    }), c.mode === 0 && requestAnimationFrame(() => d.closeCombobox());
  }), w = se(() => {
    var P;
    if (s || (P = c.virtual) != null && P.disabled(i))
      return d.goToOption(nt.Nothing);
    let A = c.calculateIndex(i);
    d.goToOption(nt.Specific, A);
  }), C = $v(), x = se((P) => C.update(P)), E = se((P) => {
    var A;
    if (!C.wasMoved(P) || s || (A = c.virtual) != null && A.disabled(i) || p)
      return;
    let _ = c.calculateIndex(i);
    d.goToOption(nt.Specific, _, 0);
  }), O = se((P) => {
    var A;
    C.wasMoved(P) && (s || (A = c.virtual) != null && A.disabled(i) || p && (c.optionsPropsRef.current.hold || d.goToOption(nt.Nothing)));
  }), T = ue(() => ({ active: p, selected: f, disabled: s }), [p, f, s]);
  return $e({ ourProps: { id: o, ref: b, role: "option", tabIndex: s === !0 ? void 0 : -1, "aria-disabled": s === !0 ? !0 : void 0, "aria-selected": f, disabled: void 0, onClick: S, onFocus: w, onPointerEnter: x, onMouseEnter: x, onPointerMove: E, onMouseMove: E, onPointerLeave: O, onMouseLeave: O }, theirProps: l, slot: T, defaultTag: LE, name: "Combobox.Option" });
}
let kE = Re(wE), ME = Re(PE), $E = Re(CE), RE = Re(TE), IE = Re(AE), jE = Re(NE), Bs = Object.assign(kE, { Input: $E, Button: ME, Label: RE, Options: IE, Option: jE });
function $f(e, t, n, r) {
  let o = Bt(n);
  G(() => {
    e = e ?? window;
    function s(i) {
      o.current(i);
    }
    return e.addEventListener(t, s, r), () => e.removeEventListener(t, s, r);
  }, [e, t, r]);
}
function Ei() {
  let e = q(!1);
  return Ue(() => (e.current = !0, () => {
    e.current = !1;
  }), []), e;
}
function Bv(e) {
  let t = se(e), n = q(!1);
  G(() => (n.current = !1, () => {
    n.current = !0, qa(() => {
      n.current && t();
    });
  }), [t]);
}
var kn = ((e) => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(kn || {});
function Rf() {
  let e = q(0);
  return kv("keydown", (t) => {
    t.key === "Tab" && (e.current = t.shiftKey ? 1 : 0);
  }, !0), e;
}
function Fv(e) {
  if (!e)
    return /* @__PURE__ */ new Set();
  if (typeof e == "function")
    return new Set(e());
  let t = /* @__PURE__ */ new Set();
  for (let n of e.current)
    n.current instanceof HTMLElement && t.add(n.current);
  return t;
}
let VE = "div";
var zv = ((e) => (e[e.None = 1] = "None", e[e.InitialFocus = 2] = "InitialFocus", e[e.TabLock = 4] = "TabLock", e[e.FocusLock = 8] = "FocusLock", e[e.RestoreFocus = 16] = "RestoreFocus", e[e.All = 30] = "All", e))(zv || {});
function DE(e, t) {
  let n = q(null), r = Be(n, t), { initialFocus: o, containers: s, features: i = 30, ...a } = e;
  xi() || (i = 1);
  let l = mo(n);
  FE({ ownerDocument: l }, !!(i & 16));
  let c = zE({ ownerDocument: l, container: n, initialFocus: o }, !!(i & 2));
  UE({ ownerDocument: l, container: n, containers: s, previousActiveElement: c }, !!(i & 8));
  let d = Rf(), p = se((m) => {
    let b = n.current;
    b && ((y) => y())(() => {
      Ae(d.current, { [kn.Forwards]: () => {
        Ht(b, ct.First, { skipElements: [m.relatedTarget] });
      }, [kn.Backwards]: () => {
        Ht(b, ct.Last, { skipElements: [m.relatedTarget] });
      } });
    });
  }), f = Qn(), g = q(!1), h = { ref: r, onKeyDown(m) {
    m.key == "Tab" && (g.current = !0, f.requestAnimationFrame(() => {
      g.current = !1;
    }));
  }, onBlur(m) {
    let b = Fv(s);
    n.current instanceof HTMLElement && b.add(n.current);
    let y = m.relatedTarget;
    y instanceof HTMLElement && y.dataset.headlessuiFocusGuard !== "true" && (Uv(b, y) || (g.current ? Ht(n.current, Ae(d.current, { [kn.Forwards]: () => ct.Next, [kn.Backwards]: () => ct.Previous }) | ct.WrapAround, { relativeTo: m.target }) : m.target instanceof HTMLElement && hs(m.target)));
  } };
  return B.createElement(B.Fragment, null, !!(i & 4) && B.createElement(jn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: p, features: In.Focusable }), $e({ ourProps: h, theirProps: a, defaultTag: VE, name: "FocusTrap" }), !!(i & 4) && B.createElement(jn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: p, features: In.Focusable }));
}
let HE = Re(DE), Ii = Object.assign(HE, { features: zv });
function BE(e = !0) {
  let t = q(Ar.slice());
  return Ca(([n], [r]) => {
    r === !0 && n === !1 && qa(() => {
      t.current.splice(0);
    }), r === !1 && n === !0 && (t.current = Ar.slice());
  }, [e, Ar, t]), se(() => {
    var n;
    return (n = t.current.find((r) => r != null && r.isConnected)) != null ? n : null;
  });
}
function FE({ ownerDocument: e }, t) {
  let n = BE(t);
  Ca(() => {
    t || (e == null ? void 0 : e.activeElement) === (e == null ? void 0 : e.body) && hs(n());
  }, [t]), Bv(() => {
    t && hs(n());
  });
}
function zE({ ownerDocument: e, container: t, initialFocus: n }, r) {
  let o = q(null), s = Ei();
  return Ca(() => {
    if (!r)
      return;
    let i = t.current;
    i && qa(() => {
      if (!s.current)
        return;
      let a = e == null ? void 0 : e.activeElement;
      if (n != null && n.current) {
        if ((n == null ? void 0 : n.current) === a) {
          o.current = a;
          return;
        }
      } else if (i.contains(a)) {
        o.current = a;
        return;
      }
      n != null && n.current ? hs(n.current) : Ht(i, ct.First) === ar.Error && console.warn("There are no focusable elements inside the <FocusTrap />"), o.current = e == null ? void 0 : e.activeElement;
    });
  }, [r]), o;
}
function UE({ ownerDocument: e, container: t, containers: n, previousActiveElement: r }, o) {
  let s = Ei();
  $f(e == null ? void 0 : e.defaultView, "focus", (i) => {
    if (!o || !s.current)
      return;
    let a = Fv(n);
    t.current instanceof HTMLElement && a.add(t.current);
    let l = r.current;
    if (!l)
      return;
    let c = i.target;
    c && c instanceof HTMLElement ? Uv(a, c) ? (r.current = c, hs(c)) : (i.preventDefault(), i.stopPropagation(), hs(l)) : hs(r.current);
  }, !0);
}
function Uv(e, t) {
  for (let n of e)
    if (n.contains(t))
      return !0;
  return !1;
}
let Wv = Je(!1);
function WE() {
  return He(Wv);
}
function wp(e) {
  return B.createElement(Wv.Provider, { value: e.force }, e.children);
}
function GE(e) {
  let t = WE(), n = He(Gv), r = mo(e), [o, s] = W(() => {
    if (!t && n !== null || lo.isServer)
      return null;
    let i = r == null ? void 0 : r.getElementById("headlessui-portal-root");
    if (i)
      return i;
    if (r === null)
      return null;
    let a = r.createElement("div");
    return a.setAttribute("id", "headlessui-portal-root"), r.body.appendChild(a);
  });
  return G(() => {
    o !== null && (r != null && r.body.contains(o) || r == null || r.body.appendChild(o));
  }, [o, r]), G(() => {
    t || n !== null && s(n.current);
  }, [n, s, t]), o;
}
let KE = It;
function qE(e, t) {
  let n = e, r = q(null), o = Be(Af((d) => {
    r.current = d;
  }), t), s = mo(r), i = GE(r), [a] = W(() => {
    var d;
    return lo.isServer ? null : (d = s == null ? void 0 : s.createElement("div")) != null ? d : null;
  }), l = He(Sp), c = xi();
  return Ue(() => {
    !i || !a || i.contains(a) || (a.setAttribute("data-headlessui-portal", ""), i.appendChild(a));
  }, [i, a]), Ue(() => {
    if (a && l)
      return l.register(a);
  }, [l, a]), Bv(() => {
    var d;
    !i || !a || (a instanceof Node && i.contains(a) && i.removeChild(a), i.childNodes.length <= 0 && ((d = i.parentElement) == null || d.removeChild(i)));
  }), c ? !i || !a ? null : df($e({ ourProps: { ref: o }, theirProps: n, defaultTag: KE, name: "Portal" }), a) : null;
}
let YE = It, Gv = Je(null);
function ZE(e, t) {
  let { target: n, ...r } = e, o = { ref: Be(t) };
  return B.createElement(Gv.Provider, { value: n }, $e({ ourProps: o, theirProps: r, defaultTag: YE, name: "Popover.Group" }));
}
let Sp = Je(null);
function Kv() {
  let e = He(Sp), t = q([]), n = se((s) => (t.current.push(s), e && e.register(s), () => r(s))), r = se((s) => {
    let i = t.current.indexOf(s);
    i !== -1 && t.current.splice(i, 1), e && e.unregister(s);
  }), o = ue(() => ({ register: n, unregister: r, portals: t }), [n, r, t]);
  return [t, ue(() => function({ children: s }) {
    return B.createElement(Sp.Provider, { value: o }, s);
  }, [o])];
}
let XE = Re(qE), JE = Re(ZE), Cp = Object.assign(XE, { Group: JE });
function QE(e, t) {
  return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t;
}
const eT = typeof Object.is == "function" ? Object.is : QE, { useState: tT, useEffect: nT, useLayoutEffect: rT, useDebugValue: oT } = et;
function sT(e, t, n) {
  const r = t(), [{ inst: o }, s] = tT({ inst: { value: r, getSnapshot: t } });
  return rT(() => {
    o.value = r, o.getSnapshot = t, od(o) && s({ inst: o });
  }, [e, r, t]), nT(() => (od(o) && s({ inst: o }), e(() => {
    od(o) && s({ inst: o });
  })), [e]), oT(r), r;
}
function od(e) {
  const t = e.getSnapshot, n = e.value;
  try {
    const r = t();
    return !eT(n, r);
  } catch {
    return !0;
  }
}
function iT(e, t, n) {
  return t();
}
const aT = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", lT = !aT, cT = lT ? iT : sT, uT = "useSyncExternalStore" in et ? ((e) => e.useSyncExternalStore)(et) : cT;
function dT(e) {
  return uT(e.subscribe, e.getSnapshot, e.getSnapshot);
}
function pT(e, t) {
  let n = e(), r = /* @__PURE__ */ new Set();
  return { getSnapshot() {
    return n;
  }, subscribe(o) {
    return r.add(o), () => r.delete(o);
  }, dispatch(o, ...s) {
    let i = t[o].call(n, ...s);
    i && (n = i, r.forEach((a) => a()));
  } };
}
function fT() {
  let e;
  return { before({ doc: t }) {
    var n;
    let r = t.documentElement;
    e = ((n = t.defaultView) != null ? n : window).innerWidth - r.clientWidth;
  }, after({ doc: t, d: n }) {
    let r = t.documentElement, o = r.clientWidth - r.offsetWidth, s = e - o;
    n.style(r, "paddingRight", `${s}px`);
  } };
}
function gT() {
  return Lv() ? { before({ doc: e, d: t, meta: n }) {
    function r(o) {
      return n.containers.flatMap((s) => s()).some((s) => s.contains(o));
    }
    t.microTask(() => {
      var o;
      if (window.getComputedStyle(e.documentElement).scrollBehavior !== "auto") {
        let a = Jn();
        a.style(e.documentElement, "scrollBehavior", "auto"), t.add(() => t.microTask(() => a.dispose()));
      }
      let s = (o = window.scrollY) != null ? o : window.pageYOffset, i = null;
      t.addEventListener(e, "click", (a) => {
        if (a.target instanceof HTMLElement)
          try {
            let l = a.target.closest("a");
            if (!l)
              return;
            let { hash: c } = new URL(l.href), d = e.querySelector(c);
            d && !r(d) && (i = d);
          } catch {
          }
      }, !0), t.addEventListener(e, "touchstart", (a) => {
        if (a.target instanceof HTMLElement)
          if (r(a.target)) {
            let l = a.target;
            for (; l.parentElement && r(l.parentElement); )
              l = l.parentElement;
            t.style(l, "overscrollBehavior", "contain");
          } else
            t.style(a.target, "touchAction", "none");
      }), t.addEventListener(e, "touchmove", (a) => {
        if (a.target instanceof HTMLElement)
          if (r(a.target)) {
            let l = a.target;
            for (; l.parentElement && l.dataset.headlessuiPortal !== "" && !(l.scrollHeight > l.clientHeight || l.scrollWidth > l.clientWidth); )
              l = l.parentElement;
            l.dataset.headlessuiPortal === "" && a.preventDefault();
          } else
            a.preventDefault();
      }, { passive: !1 }), t.add(() => {
        var a;
        let l = (a = window.scrollY) != null ? a : window.pageYOffset;
        s !== l && window.scrollTo(0, s), i && i.isConnected && (i.scrollIntoView({ block: "nearest" }), i = null);
      });
    });
  } } : {};
}
function hT() {
  return { before({ doc: e, d: t }) {
    t.style(e.documentElement, "overflow", "hidden");
  } };
}
function mT(e) {
  let t = {};
  for (let n of e)
    Object.assign(t, n(t));
  return t;
}
let ps = pT(() => /* @__PURE__ */ new Map(), { PUSH(e, t) {
  var n;
  let r = (n = this.get(e)) != null ? n : { doc: e, count: 0, d: Jn(), meta: /* @__PURE__ */ new Set() };
  return r.count++, r.meta.add(t), this.set(e, r), this;
}, POP(e, t) {
  let n = this.get(e);
  return n && (n.count--, n.meta.delete(t)), this;
}, SCROLL_PREVENT({ doc: e, d: t, meta: n }) {
  let r = { doc: e, d: t, meta: mT(n) }, o = [gT(), fT(), hT()];
  o.forEach(({ before: s }) => s == null ? void 0 : s(r)), o.forEach(({ after: s }) => s == null ? void 0 : s(r));
}, SCROLL_ALLOW({ d: e }) {
  e.dispose();
}, TEARDOWN({ doc: e }) {
  this.delete(e);
} });
ps.subscribe(() => {
  let e = ps.getSnapshot(), t = /* @__PURE__ */ new Map();
  for (let [n] of e)
    t.set(n, n.documentElement.style.overflow);
  for (let n of e.values()) {
    let r = t.get(n.doc) === "hidden", o = n.count !== 0;
    (o && !r || !o && r) && ps.dispatch(n.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", n), n.count === 0 && ps.dispatch("TEARDOWN", n);
  }
});
function bT(e, t, n) {
  let r = dT(ps), o = e ? r.get(e) : void 0, s = o ? o.count > 0 : !1;
  return Ue(() => {
    if (!(!e || !t))
      return ps.dispatch("PUSH", e, n), () => ps.dispatch("POP", e, n);
  }, [t, e]), s;
}
let sd = /* @__PURE__ */ new Map(), ji = /* @__PURE__ */ new Map();
function kh(e, t = !0) {
  Ue(() => {
    var n;
    if (!t)
      return;
    let r = typeof e == "function" ? e() : e.current;
    if (!r)
      return;
    function o() {
      var i;
      if (!r)
        return;
      let a = (i = ji.get(r)) != null ? i : 1;
      if (a === 1 ? ji.delete(r) : ji.set(r, a - 1), a !== 1)
        return;
      let l = sd.get(r);
      l && (l["aria-hidden"] === null ? r.removeAttribute("aria-hidden") : r.setAttribute("aria-hidden", l["aria-hidden"]), r.inert = l.inert, sd.delete(r));
    }
    let s = (n = ji.get(r)) != null ? n : 0;
    return ji.set(r, s + 1), s !== 0 || (sd.set(r, { "aria-hidden": r.getAttribute("aria-hidden"), inert: r.inert }), r.setAttribute("aria-hidden", "true"), r.inert = !0), o;
  }, [e, t]);
}
function qv({ defaultContainers: e = [], portals: t, mainTreeNodeRef: n } = {}) {
  var r;
  let o = q((r = n == null ? void 0 : n.current) != null ? r : null), s = mo(o), i = se(() => {
    var a, l, c;
    let d = [];
    for (let p of e)
      p !== null && (p instanceof HTMLElement ? d.push(p) : "current" in p && p.current instanceof HTMLElement && d.push(p.current));
    if (t != null && t.current)
      for (let p of t.current)
        d.push(p);
    for (let p of (a = s == null ? void 0 : s.querySelectorAll("html > *, body > *")) != null ? a : [])
      p !== document.body && p !== document.head && p instanceof HTMLElement && p.id !== "headlessui-portal-root" && (p.contains(o.current) || p.contains((c = (l = o.current) == null ? void 0 : l.getRootNode()) == null ? void 0 : c.host) || d.some((f) => p.contains(f)) || d.push(p));
    return d;
  });
  return { resolveContainers: i, contains: se((a) => i().some((l) => l.contains(a))), mainTreeNodeRef: o, MainTreeNode: ue(() => function() {
    return n != null ? null : B.createElement(jn, { features: In.Hidden, ref: o });
  }, [o, n]) };
}
function vT() {
  let e = q(null);
  return { mainTreeNodeRef: e, MainTreeNode: ue(() => function() {
    return B.createElement(jn, { features: In.Hidden, ref: e });
  }, [e]) };
}
let If = Je(() => {
});
If.displayName = "StackContext";
var xp = ((e) => (e[e.Add = 0] = "Add", e[e.Remove = 1] = "Remove", e))(xp || {});
function yT() {
  return He(If);
}
function wT({ children: e, onUpdate: t, type: n, element: r, enabled: o }) {
  let s = yT(), i = se((...a) => {
    t == null || t(...a), s(...a);
  });
  return Ue(() => {
    let a = o === void 0 || o === !0;
    return a && i(0, n, r), () => {
      a && i(1, n, r);
    };
  }, [i, n, r, o]), B.createElement(If.Provider, { value: i }, e);
}
let Yv = Je(null);
function Zv() {
  let e = He(Yv);
  if (e === null) {
    let t = new Error("You used a <Description /> component, but it is not inside a relevant parent.");
    throw Error.captureStackTrace && Error.captureStackTrace(t, Zv), t;
  }
  return e;
}
function ou() {
  let [e, t] = W([]);
  return [e.length > 0 ? e.join(" ") : void 0, ue(() => function(n) {
    let r = se((s) => (t((i) => [...i, s]), () => t((i) => {
      let a = i.slice(), l = a.indexOf(s);
      return l !== -1 && a.splice(l, 1), a;
    }))), o = ue(() => ({ register: r, slot: n.slot, name: n.name, props: n.props }), [r, n.slot, n.name, n.props]);
    return B.createElement(Yv.Provider, { value: o }, n.children);
  }, [t])];
}
let ST = "p";
function CT(e, t) {
  let n = dt(), { id: r = `headlessui-description-${n}`, ...o } = e, s = Zv(), i = Be(t);
  Ue(() => s.register(r), [r, s.register]);
  let a = { ref: i, ...s.props, id: r };
  return $e({ ourProps: a, theirProps: o, slot: s.slot || {}, defaultTag: ST, name: s.name || "Description" });
}
let xT = Re(CT), jf = Object.assign(xT, {});
var PT = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(PT || {}), ET = ((e) => (e[e.SetTitleId = 0] = "SetTitleId", e))(ET || {});
let TT = { 0(e, t) {
  return e.titleId === t.id ? e : { ...e, titleId: t.id };
} }, Sc = Je(null);
Sc.displayName = "DialogContext";
function Xa(e) {
  let t = He(Sc);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Dialog /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Xa), n;
  }
  return t;
}
function OT(e, t, n = () => [document.body]) {
  bT(e, t, (r) => {
    var o;
    return { containers: [...(o = r.containers) != null ? o : [], n] };
  });
}
function _T(e, t) {
  return Ae(t.type, TT, e, t);
}
let AT = "div", LT = ln.RenderStrategy | ln.Static;
function NT(e, t) {
  let n = dt(), { id: r = `headlessui-dialog-${n}`, open: o, onClose: s, initialFocus: i, role: a = "dialog", __demoMode: l = !1, ...c } = e, [d, p] = W(0), f = q(!1);
  a = function() {
    return a === "dialog" || a === "alertdialog" ? a : (f.current || (f.current = !0, console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)), "dialog");
  }();
  let g = Go();
  o === void 0 && g !== null && (o = (g & st.Open) === st.Open);
  let h = q(null), m = Be(h, t), b = mo(h), y = e.hasOwnProperty("open") || g !== null, v = e.hasOwnProperty("onClose");
  if (!y && !v)
    throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");
  if (!y)
    throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");
  if (!v)
    throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");
  if (typeof o != "boolean")
    throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);
  if (typeof s != "function")
    throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);
  let S = o ? 0 : 1, [w, C] = Ho(_T, { titleId: null, descriptionId: null, panelRef: ma() }), x = se(() => s(!1)), E = se((me) => C({ type: 0, id: me })), O = xi() ? l ? !1 : S === 0 : !1, T = d > 1, P = He(Sc) !== null, [A, _] = Kv(), M = { get current() {
    var me;
    return (me = w.panelRef.current) != null ? me : h.current;
  } }, { resolveContainers: V, mainTreeNodeRef: N, MainTreeNode: H } = qv({ portals: A, defaultContainers: [M] }), K = T ? "parent" : "leaf", z = g !== null ? (g & st.Closing) === st.Closing : !1, $ = (() => P || z ? !1 : O)(), D = Et(() => {
    var me, Ee;
    return (Ee = Array.from((me = b == null ? void 0 : b.querySelectorAll("body > *")) != null ? me : []).find((Se) => Se.id === "headlessui-portal-root" ? !1 : Se.contains(N.current) && Se instanceof HTMLElement)) != null ? Ee : null;
  }, [N]);
  kh(D, $);
  let I = (() => T ? !0 : O)(), U = Et(() => {
    var me, Ee;
    return (Ee = Array.from((me = b == null ? void 0 : b.querySelectorAll("[data-headlessui-portal]")) != null ? me : []).find((Se) => Se.contains(N.current) && Se instanceof HTMLElement)) != null ? Ee : null;
  }, [N]);
  kh(U, I);
  let ne = (() => !(!O || T))();
  nu(V, (me) => {
    me.preventDefault(), x();
  }, ne);
  let Q = (() => !(T || S !== 0))();
  $f(b == null ? void 0 : b.defaultView, "keydown", (me) => {
    Q && (me.defaultPrevented || me.key === Ce.Escape && (me.preventDefault(), me.stopPropagation(), x()));
  });
  let re = (() => !(z || S !== 0 || P))();
  OT(b, re, V), G(() => {
    if (S !== 0 || !h.current)
      return;
    let me = new ResizeObserver((Ee) => {
      for (let Se of Ee) {
        let Fe = Se.target.getBoundingClientRect();
        Fe.x === 0 && Fe.y === 0 && Fe.width === 0 && Fe.height === 0 && x();
      }
    });
    return me.observe(h.current), () => me.disconnect();
  }, [S, h, x]);
  let [ie, oe] = ou(), X = ue(() => [{ dialogState: S, close: x, setTitleId: E }, w], [S, w, x, E]), ee = ue(() => ({ open: S === 0 }), [S]), de = { ref: m, id: r, role: a, "aria-modal": S === 0 ? !0 : void 0, "aria-labelledby": w.titleId, "aria-describedby": ie };
  return B.createElement(wT, { type: "Dialog", enabled: S === 0, element: h, onUpdate: se((me, Ee) => {
    Ee === "Dialog" && Ae(me, { [xp.Add]: () => p((Se) => Se + 1), [xp.Remove]: () => p((Se) => Se - 1) });
  }) }, B.createElement(wp, { force: !0 }, B.createElement(Cp, null, B.createElement(Sc.Provider, { value: X }, B.createElement(Cp.Group, { target: h }, B.createElement(wp, { force: !1 }, B.createElement(oe, { slot: ee, name: "Dialog.Description" }, B.createElement(Ii, { initialFocus: i, containers: V, features: O ? Ae(K, { parent: Ii.features.RestoreFocus, leaf: Ii.features.All & ~Ii.features.FocusLock }) : Ii.features.None }, B.createElement(_, null, $e({ ourProps: de, theirProps: c, slot: ee, defaultTag: AT, features: LT, visible: S === 0, name: "Dialog" }))))))))), B.createElement(H, null));
}
let kT = "div";
function MT(e, t) {
  let n = dt(), { id: r = `headlessui-dialog-overlay-${n}`, ...o } = e, [{ dialogState: s, close: i }] = Xa("Dialog.Overlay"), a = Be(t), l = se((d) => {
    if (d.target === d.currentTarget) {
      if (uo(d.currentTarget))
        return d.preventDefault();
      d.preventDefault(), d.stopPropagation(), i();
    }
  }), c = ue(() => ({ open: s === 0 }), [s]);
  return $e({ ourProps: { ref: a, id: r, "aria-hidden": !0, onClick: l }, theirProps: o, slot: c, defaultTag: kT, name: "Dialog.Overlay" });
}
let $T = "div";
function RT(e, t) {
  let n = dt(), { id: r = `headlessui-dialog-backdrop-${n}`, ...o } = e, [{ dialogState: s }, i] = Xa("Dialog.Backdrop"), a = Be(t);
  G(() => {
    if (i.panelRef.current === null)
      throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.");
  }, [i.panelRef]);
  let l = ue(() => ({ open: s === 0 }), [s]);
  return B.createElement(wp, { force: !0 }, B.createElement(Cp, null, $e({ ourProps: { ref: a, id: r, "aria-hidden": !0 }, theirProps: o, slot: l, defaultTag: $T, name: "Dialog.Backdrop" })));
}
let IT = "div";
function jT(e, t) {
  let n = dt(), { id: r = `headlessui-dialog-panel-${n}`, ...o } = e, [{ dialogState: s }, i] = Xa("Dialog.Panel"), a = Be(t, i.panelRef), l = ue(() => ({ open: s === 0 }), [s]), c = se((d) => {
    d.stopPropagation();
  });
  return $e({ ourProps: { ref: a, id: r, onClick: c }, theirProps: o, slot: l, defaultTag: IT, name: "Dialog.Panel" });
}
let VT = "h2";
function DT(e, t) {
  let n = dt(), { id: r = `headlessui-dialog-title-${n}`, ...o } = e, [{ dialogState: s, setTitleId: i }] = Xa("Dialog.Title"), a = Be(t);
  G(() => (i(r), () => i(null)), [r, i]);
  let l = ue(() => ({ open: s === 0 }), [s]);
  return $e({ ourProps: { ref: a, id: r }, theirProps: o, slot: l, defaultTag: VT, name: "Dialog.Title" });
}
let HT = Re(NT), BT = Re(RT), FT = Re(jT), zT = Re(MT), UT = Re(DT), Vi = Object.assign(HT, { Backdrop: BT, Panel: FT, Overlay: zT, Title: UT, Description: jf });
var Mh;
let WT = (Mh = B.startTransition) != null ? Mh : function(e) {
  e();
};
var GT = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(GT || {}), KT = ((e) => (e[e.ToggleDisclosure = 0] = "ToggleDisclosure", e[e.CloseDisclosure = 1] = "CloseDisclosure", e[e.SetButtonId = 2] = "SetButtonId", e[e.SetPanelId = 3] = "SetPanelId", e[e.LinkPanel = 4] = "LinkPanel", e[e.UnlinkPanel = 5] = "UnlinkPanel", e))(KT || {});
let qT = { 0: (e) => ({ ...e, disclosureState: Ae(e.disclosureState, { 0: 1, 1: 0 }) }), 1: (e) => e.disclosureState === 1 ? e : { ...e, disclosureState: 1 }, 4(e) {
  return e.linkedPanel === !0 ? e : { ...e, linkedPanel: !0 };
}, 5(e) {
  return e.linkedPanel === !1 ? e : { ...e, linkedPanel: !1 };
}, 2(e, t) {
  return e.buttonId === t.buttonId ? e : { ...e, buttonId: t.buttonId };
}, 3(e, t) {
  return e.panelId === t.panelId ? e : { ...e, panelId: t.panelId };
} }, Vf = Je(null);
Vf.displayName = "DisclosureContext";
function Df(e) {
  let t = He(Vf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Disclosure /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Df), n;
  }
  return t;
}
let Hf = Je(null);
Hf.displayName = "DisclosureAPIContext";
function Xv(e) {
  let t = He(Hf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Disclosure /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Xv), n;
  }
  return t;
}
let Bf = Je(null);
Bf.displayName = "DisclosurePanelContext";
function YT() {
  return He(Bf);
}
function ZT(e, t) {
  return Ae(t.type, qT, e, t);
}
let XT = It;
function JT(e, t) {
  let { defaultOpen: n = !1, ...r } = e, o = q(null), s = Be(t, Af((b) => {
    o.current = b;
  }, e.as === void 0 || e.as === It)), i = q(null), a = q(null), l = Ho(ZT, { disclosureState: n ? 0 : 1, linkedPanel: !1, buttonRef: a, panelRef: i, buttonId: null, panelId: null }), [{ disclosureState: c, buttonId: d }, p] = l, f = se((b) => {
    p({ type: 1 });
    let y = Wo(o);
    if (!y || !d)
      return;
    let v = (() => b ? b instanceof HTMLElement ? b : b.current instanceof HTMLElement ? b.current : y.getElementById(d) : y.getElementById(d))();
    v == null || v.focus();
  }), g = ue(() => ({ close: f }), [f]), h = ue(() => ({ open: c === 0, close: f }), [c, f]), m = { ref: s };
  return B.createElement(Vf.Provider, { value: l }, B.createElement(Hf.Provider, { value: g }, B.createElement(Ya, { value: Ae(c, { 0: st.Open, 1: st.Closed }) }, $e({ ourProps: m, theirProps: r, slot: h, defaultTag: XT, name: "Disclosure" }))));
}
let QT = "button";
function eO(e, t) {
  let n = dt(), { id: r = `headlessui-disclosure-button-${n}`, ...o } = e, [s, i] = Df("Disclosure.Button"), a = YT(), l = a === null ? !1 : a === s.panelId, c = q(null), d = Be(c, t, l ? null : s.buttonRef), p = Lf();
  G(() => {
    if (!l)
      return i({ type: 2, buttonId: r }), () => {
        i({ type: 2, buttonId: null });
      };
  }, [r, i, l]);
  let f = se((v) => {
    var S;
    if (l) {
      if (s.disclosureState === 1)
        return;
      switch (v.key) {
        case Ce.Space:
        case Ce.Enter:
          v.preventDefault(), v.stopPropagation(), i({ type: 0 }), (S = s.buttonRef.current) == null || S.focus();
          break;
      }
    } else
      switch (v.key) {
        case Ce.Space:
        case Ce.Enter:
          v.preventDefault(), v.stopPropagation(), i({ type: 0 });
          break;
      }
  }), g = se((v) => {
    switch (v.key) {
      case Ce.Space:
        v.preventDefault();
        break;
    }
  }), h = se((v) => {
    var S;
    uo(v.currentTarget) || e.disabled || (l ? (i({ type: 0 }), (S = s.buttonRef.current) == null || S.focus()) : i({ type: 0 }));
  }), m = ue(() => ({ open: s.disclosureState === 0 }), [s]), b = Pi(e, c), y = l ? { ref: d, type: b, onKeyDown: f, onClick: h } : { ref: d, id: r, type: b, "aria-expanded": s.disclosureState === 0, "aria-controls": s.linkedPanel ? s.panelId : void 0, onKeyDown: f, onKeyUp: g, onClick: h };
  return $e({ mergeRefs: p, ourProps: y, theirProps: o, slot: m, defaultTag: QT, name: "Disclosure.Button" });
}
let tO = "div", nO = ln.RenderStrategy | ln.Static;
function rO(e, t) {
  let n = dt(), { id: r = `headlessui-disclosure-panel-${n}`, ...o } = e, [s, i] = Df("Disclosure.Panel"), { close: a } = Xv("Disclosure.Panel"), l = Lf(), c = Be(t, s.panelRef, (h) => {
    WT(() => i({ type: h ? 4 : 5 }));
  });
  G(() => (i({ type: 3, panelId: r }), () => {
    i({ type: 3, panelId: null });
  }), [r, i]);
  let d = Go(), p = (() => d !== null ? (d & st.Open) === st.Open : s.disclosureState === 0)(), f = ue(() => ({ open: s.disclosureState === 0, close: a }), [s, a]), g = { ref: c, id: r };
  return B.createElement(Bf.Provider, { value: s.panelId }, $e({ mergeRefs: l, ourProps: g, theirProps: o, slot: f, defaultTag: tO, features: nO, visible: p, name: "Disclosure.Panel" }));
}
let oO = Re(JT), sO = Re(eO), iO = Re(rO), id = Object.assign(oO, { Button: sO, Panel: iO }), $h = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;
function Rh(e) {
  var t, n;
  let r = (t = e.innerText) != null ? t : "", o = e.cloneNode(!0);
  if (!(o instanceof HTMLElement))
    return r;
  let s = !1;
  for (let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))
    a.remove(), s = !0;
  let i = s ? (n = o.innerText) != null ? n : "" : r;
  return $h.test(i) && (i = i.replace($h, "")), i;
}
function aO(e) {
  let t = e.getAttribute("aria-label");
  if (typeof t == "string")
    return t.trim();
  let n = e.getAttribute("aria-labelledby");
  if (n) {
    let r = n.split(" ").map((o) => {
      let s = document.getElementById(o);
      if (s) {
        let i = s.getAttribute("aria-label");
        return typeof i == "string" ? i.trim() : Rh(s).trim();
      }
      return null;
    }).filter(Boolean);
    if (r.length > 0)
      return r.join(", ");
  }
  return Rh(e).trim();
}
function lO(e) {
  let t = q(""), n = q("");
  return se(() => {
    let r = e.current;
    if (!r)
      return "";
    let o = r.innerText;
    if (t.current === o)
      return n.current;
    let s = aO(r).trim().toLowerCase();
    return t.current = o, n.current = s, s;
  });
}
var cO = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(cO || {}), uO = ((e) => (e[e.Single = 0] = "Single", e[e.Multi = 1] = "Multi", e))(uO || {}), dO = ((e) => (e[e.Pointer = 0] = "Pointer", e[e.Other = 1] = "Other", e))(dO || {}), pO = ((e) => (e[e.OpenListbox = 0] = "OpenListbox", e[e.CloseListbox = 1] = "CloseListbox", e[e.GoToOption = 2] = "GoToOption", e[e.Search = 3] = "Search", e[e.ClearSearch = 4] = "ClearSearch", e[e.RegisterOption = 5] = "RegisterOption", e[e.UnregisterOption = 6] = "UnregisterOption", e[e.RegisterLabel = 7] = "RegisterLabel", e))(pO || {});
function ad(e, t = (n) => n) {
  let n = e.activeOptionIndex !== null ? e.options[e.activeOptionIndex] : null, r = ro(t(e.options.slice()), (s) => s.dataRef.current.domRef.current), o = n ? r.indexOf(n) : null;
  return o === -1 && (o = null), { options: r, activeOptionIndex: o };
}
let fO = { 1(e) {
  return e.dataRef.current.disabled || e.listboxState === 1 ? e : { ...e, activeOptionIndex: null, listboxState: 1 };
}, 0(e) {
  if (e.dataRef.current.disabled || e.listboxState === 0)
    return e;
  let t = e.activeOptionIndex, { isSelected: n } = e.dataRef.current, r = e.options.findIndex((o) => n(o.dataRef.current.value));
  return r !== -1 && (t = r), { ...e, listboxState: 0, activeOptionIndex: t };
}, 2(e, t) {
  var n;
  if (e.dataRef.current.disabled || e.listboxState === 1)
    return e;
  let r = ad(e), o = yp(t, { resolveItems: () => r.options, resolveActiveIndex: () => r.activeOptionIndex, resolveId: (s) => s.id, resolveDisabled: (s) => s.dataRef.current.disabled });
  return { ...e, ...r, searchQuery: "", activeOptionIndex: o, activationTrigger: (n = t.trigger) != null ? n : 1 };
}, 3: (e, t) => {
  if (e.dataRef.current.disabled || e.listboxState === 1)
    return e;
  let n = e.searchQuery !== "" ? 0 : 1, r = e.searchQuery + t.value.toLowerCase(), o = (e.activeOptionIndex !== null ? e.options.slice(e.activeOptionIndex + n).concat(e.options.slice(0, e.activeOptionIndex + n)) : e.options).find((i) => {
    var a;
    return !i.dataRef.current.disabled && ((a = i.dataRef.current.textValue) == null ? void 0 : a.startsWith(r));
  }), s = o ? e.options.indexOf(o) : -1;
  return s === -1 || s === e.activeOptionIndex ? { ...e, searchQuery: r } : { ...e, searchQuery: r, activeOptionIndex: s, activationTrigger: 1 };
}, 4(e) {
  return e.dataRef.current.disabled || e.listboxState === 1 || e.searchQuery === "" ? e : { ...e, searchQuery: "" };
}, 5: (e, t) => {
  let n = { id: t.id, dataRef: t.dataRef }, r = ad(e, (o) => [...o, n]);
  return e.activeOptionIndex === null && e.dataRef.current.isSelected(t.dataRef.current.value) && (r.activeOptionIndex = r.options.indexOf(n)), { ...e, ...r };
}, 6: (e, t) => {
  let n = ad(e, (r) => {
    let o = r.findIndex((s) => s.id === t.id);
    return o !== -1 && r.splice(o, 1), r;
  });
  return { ...e, ...n, activationTrigger: 1 };
}, 7: (e, t) => ({ ...e, labelId: t.id }) }, Ff = Je(null);
Ff.displayName = "ListboxActionsContext";
function Ja(e) {
  let t = He(Ff);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Listbox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Ja), n;
  }
  return t;
}
let zf = Je(null);
zf.displayName = "ListboxDataContext";
function Qa(e) {
  let t = He(zf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Listbox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Qa), n;
  }
  return t;
}
function gO(e, t) {
  return Ae(t.type, fO, e, t);
}
let hO = It;
function mO(e, t) {
  let { value: n, defaultValue: r, form: o, name: s, onChange: i, by: a = (Q, re) => Q === re, disabled: l = !1, horizontal: c = !1, multiple: d = !1, ...p } = e;
  const f = c ? "horizontal" : "vertical";
  let g = Be(t), [h = d ? [] : void 0, m] = Qc(n, i, r), [b, y] = Ho(gO, { dataRef: ma(), listboxState: 1, options: [], searchQuery: "", labelId: null, activeOptionIndex: null, activationTrigger: 1 }), v = q({ static: !1, hold: !1 }), S = q(null), w = q(null), C = q(null), x = se(typeof a == "string" ? (Q, re) => {
    let ie = a;
    return (Q == null ? void 0 : Q[ie]) === (re == null ? void 0 : re[ie]);
  } : a), E = Et((Q) => Ae(O.mode, { 1: () => h.some((re) => x(re, Q)), 0: () => x(h, Q) }), [h]), O = ue(() => ({ ...b, value: h, disabled: l, mode: d ? 1 : 0, orientation: f, compare: x, isSelected: E, optionsPropsRef: v, labelRef: S, buttonRef: w, optionsRef: C }), [h, l, d, b]);
  Ue(() => {
    b.dataRef.current = O;
  }, [O]), nu([O.buttonRef, O.optionsRef], (Q, re) => {
    var ie;
    y({ type: 1 }), _f(re, tu.Loose) || (Q.preventDefault(), (ie = O.buttonRef.current) == null || ie.focus());
  }, O.listboxState === 0);
  let T = ue(() => ({ open: O.listboxState === 0, disabled: l, value: h }), [O, l, h]), P = se((Q) => {
    let re = O.options.find((ie) => ie.id === Q);
    re && K(re.dataRef.current.value);
  }), A = se(() => {
    if (O.activeOptionIndex !== null) {
      let { dataRef: Q, id: re } = O.options[O.activeOptionIndex];
      K(Q.current.value), y({ type: 2, focus: nt.Specific, id: re });
    }
  }), _ = se(() => y({ type: 0 })), M = se(() => y({ type: 1 })), V = se((Q, re, ie) => Q === nt.Specific ? y({ type: 2, focus: nt.Specific, id: re, trigger: ie }) : y({ type: 2, focus: Q, trigger: ie })), N = se((Q, re) => (y({ type: 5, id: Q, dataRef: re }), () => y({ type: 6, id: Q }))), H = se((Q) => (y({ type: 7, id: Q }), () => y({ type: 7, id: null }))), K = se((Q) => Ae(O.mode, { 0() {
    return m == null ? void 0 : m(Q);
  }, 1() {
    let re = O.value.slice(), ie = re.findIndex((oe) => x(oe, Q));
    return ie === -1 ? re.push(Q) : re.splice(ie, 1), m == null ? void 0 : m(re);
  } })), z = se((Q) => y({ type: 3, value: Q })), $ = se(() => y({ type: 4 })), D = ue(() => ({ onChange: K, registerOption: N, registerLabel: H, goToOption: V, closeListbox: M, openListbox: _, selectActiveOption: A, selectOption: P, search: z, clearSearch: $ }), []), I = { ref: g }, U = q(null), ne = Qn();
  return G(() => {
    U.current && r !== void 0 && ne.addEventListener(U.current, "reset", () => {
      m == null || m(r);
    });
  }, [U, m]), B.createElement(Ff.Provider, { value: D }, B.createElement(zf.Provider, { value: O }, B.createElement(Ya, { value: Ae(O.listboxState, { 0: st.Open, 1: st.Closed }) }, s != null && h != null && ru({ [s]: h }).map(([Q, re], ie) => B.createElement(jn, { features: In.Hidden, ref: ie === 0 ? (oe) => {
    var X;
    U.current = (X = oe == null ? void 0 : oe.closest("form")) != null ? X : null;
  } : void 0, ...pi({ key: Q, as: "input", type: "hidden", hidden: !0, readOnly: !0, form: o, disabled: l, name: Q, value: re }) })), $e({ ourProps: I, theirProps: p, slot: T, defaultTag: hO, name: "Listbox" }))));
}
let bO = "button";
function vO(e, t) {
  var n;
  let r = dt(), { id: o = `headlessui-listbox-button-${r}`, ...s } = e, i = Qa("Listbox.Button"), a = Ja("Listbox.Button"), l = Be(i.buttonRef, t), c = Qn(), d = se((b) => {
    switch (b.key) {
      case Ce.Space:
      case Ce.Enter:
      case Ce.ArrowDown:
        b.preventDefault(), a.openListbox(), c.nextFrame(() => {
          i.value || a.goToOption(nt.First);
        });
        break;
      case Ce.ArrowUp:
        b.preventDefault(), a.openListbox(), c.nextFrame(() => {
          i.value || a.goToOption(nt.Last);
        });
        break;
    }
  }), p = se((b) => {
    switch (b.key) {
      case Ce.Space:
        b.preventDefault();
        break;
    }
  }), f = se((b) => {
    if (uo(b.currentTarget))
      return b.preventDefault();
    i.listboxState === 0 ? (a.closeListbox(), c.nextFrame(() => {
      var y;
      return (y = i.buttonRef.current) == null ? void 0 : y.focus({ preventScroll: !0 });
    })) : (b.preventDefault(), a.openListbox());
  }), g = Ka(() => {
    if (i.labelId)
      return [i.labelId, o].join(" ");
  }, [i.labelId, o]), h = ue(() => ({ open: i.listboxState === 0, disabled: i.disabled, value: i.value }), [i]), m = { ref: l, id: o, type: Pi(e, i.buttonRef), "aria-haspopup": "listbox", "aria-controls": (n = i.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": i.listboxState === 0, "aria-labelledby": g, disabled: i.disabled, onKeyDown: d, onKeyUp: p, onClick: f };
  return $e({ ourProps: m, theirProps: s, slot: h, defaultTag: bO, name: "Listbox.Button" });
}
let yO = "label";
function wO(e, t) {
  let n = dt(), { id: r = `headlessui-listbox-label-${n}`, ...o } = e, s = Qa("Listbox.Label"), i = Ja("Listbox.Label"), a = Be(s.labelRef, t);
  Ue(() => i.registerLabel(r), [r]);
  let l = se(() => {
    var d;
    return (d = s.buttonRef.current) == null ? void 0 : d.focus({ preventScroll: !0 });
  }), c = ue(() => ({ open: s.listboxState === 0, disabled: s.disabled }), [s]);
  return $e({ ourProps: { ref: a, id: r, onClick: l }, theirProps: o, slot: c, defaultTag: yO, name: "Listbox.Label" });
}
let SO = "ul", CO = ln.RenderStrategy | ln.Static;
function xO(e, t) {
  var n;
  let r = dt(), { id: o = `headlessui-listbox-options-${r}`, ...s } = e, i = Qa("Listbox.Options"), a = Ja("Listbox.Options"), l = Be(i.optionsRef, t), c = Qn(), d = Qn(), p = Go(), f = (() => p !== null ? (p & st.Open) === st.Open : i.listboxState === 0)();
  G(() => {
    var y;
    let v = i.optionsRef.current;
    v && i.listboxState === 0 && v !== ((y = Wo(v)) == null ? void 0 : y.activeElement) && v.focus({ preventScroll: !0 });
  }, [i.listboxState, i.optionsRef]);
  let g = se((y) => {
    switch (d.dispose(), y.key) {
      case Ce.Space:
        if (i.searchQuery !== "")
          return y.preventDefault(), y.stopPropagation(), a.search(y.key);
      case Ce.Enter:
        if (y.preventDefault(), y.stopPropagation(), i.activeOptionIndex !== null) {
          let { dataRef: v } = i.options[i.activeOptionIndex];
          a.onChange(v.current.value);
        }
        i.mode === 0 && (a.closeListbox(), Jn().nextFrame(() => {
          var v;
          return (v = i.buttonRef.current) == null ? void 0 : v.focus({ preventScroll: !0 });
        }));
        break;
      case Ae(i.orientation, { vertical: Ce.ArrowDown, horizontal: Ce.ArrowRight }):
        return y.preventDefault(), y.stopPropagation(), a.goToOption(nt.Next);
      case Ae(i.orientation, { vertical: Ce.ArrowUp, horizontal: Ce.ArrowLeft }):
        return y.preventDefault(), y.stopPropagation(), a.goToOption(nt.Previous);
      case Ce.Home:
      case Ce.PageUp:
        return y.preventDefault(), y.stopPropagation(), a.goToOption(nt.First);
      case Ce.End:
      case Ce.PageDown:
        return y.preventDefault(), y.stopPropagation(), a.goToOption(nt.Last);
      case Ce.Escape:
        return y.preventDefault(), y.stopPropagation(), a.closeListbox(), c.nextFrame(() => {
          var v;
          return (v = i.buttonRef.current) == null ? void 0 : v.focus({ preventScroll: !0 });
        });
      case Ce.Tab:
        y.preventDefault(), y.stopPropagation();
        break;
      default:
        y.key.length === 1 && (a.search(y.key), d.setTimeout(() => a.clearSearch(), 350));
        break;
    }
  }), h = Ka(() => {
    var y;
    return (y = i.buttonRef.current) == null ? void 0 : y.id;
  }, [i.buttonRef.current]), m = ue(() => ({ open: i.listboxState === 0 }), [i]), b = { "aria-activedescendant": i.activeOptionIndex === null || (n = i.options[i.activeOptionIndex]) == null ? void 0 : n.id, "aria-multiselectable": i.mode === 1 ? !0 : void 0, "aria-labelledby": h, "aria-orientation": i.orientation, id: o, onKeyDown: g, role: "listbox", tabIndex: 0, ref: l };
  return $e({ ourProps: b, theirProps: s, slot: m, defaultTag: SO, features: CO, visible: f, name: "Listbox.Options" });
}
let PO = "li";
function EO(e, t) {
  let n = dt(), { id: r = `headlessui-listbox-option-${n}`, disabled: o = !1, value: s, ...i } = e, a = Qa("Listbox.Option"), l = Ja("Listbox.Option"), c = a.activeOptionIndex !== null ? a.options[a.activeOptionIndex].id === r : !1, d = a.isSelected(s), p = q(null), f = lO(p), g = Bt({ disabled: o, value: s, domRef: p, get textValue() {
    return f();
  } }), h = Be(t, p);
  Ue(() => {
    if (a.listboxState !== 0 || !c || a.activationTrigger === 0)
      return;
    let x = Jn();
    return x.requestAnimationFrame(() => {
      var E, O;
      (O = (E = p.current) == null ? void 0 : E.scrollIntoView) == null || O.call(E, { block: "nearest" });
    }), x.dispose;
  }, [p, c, a.listboxState, a.activationTrigger, a.activeOptionIndex]), Ue(() => l.registerOption(r, g), [g, r]);
  let m = se((x) => {
    if (o)
      return x.preventDefault();
    l.onChange(s), a.mode === 0 && (l.closeListbox(), Jn().nextFrame(() => {
      var E;
      return (E = a.buttonRef.current) == null ? void 0 : E.focus({ preventScroll: !0 });
    }));
  }), b = se(() => {
    if (o)
      return l.goToOption(nt.Nothing);
    l.goToOption(nt.Specific, r);
  }), y = $v(), v = se((x) => y.update(x)), S = se((x) => {
    y.wasMoved(x) && (o || c || l.goToOption(nt.Specific, r, 0));
  }), w = se((x) => {
    y.wasMoved(x) && (o || c && l.goToOption(nt.Nothing));
  }), C = ue(() => ({ active: c, selected: d, disabled: o }), [c, d, o]);
  return $e({ ourProps: { id: r, ref: h, role: "option", tabIndex: o === !0 ? void 0 : -1, "aria-disabled": o === !0 ? !0 : void 0, "aria-selected": d, disabled: void 0, onClick: m, onFocus: b, onPointerEnter: v, onMouseEnter: v, onPointerMove: S, onMouseMove: S, onPointerLeave: w, onMouseLeave: w }, theirProps: i, slot: C, defaultTag: PO, name: "Listbox.Option" });
}
let TO = Re(mO), OO = Re(vO), _O = Re(wO), AO = Re(xO), LO = Re(EO), Di = Object.assign(TO, { Button: OO, Label: _O, Options: AO, Option: LO });
var NO = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(NO || {}), kO = ((e) => (e[e.TogglePopover = 0] = "TogglePopover", e[e.ClosePopover = 1] = "ClosePopover", e[e.SetButton = 2] = "SetButton", e[e.SetButtonId = 3] = "SetButtonId", e[e.SetPanel = 4] = "SetPanel", e[e.SetPanelId = 5] = "SetPanelId", e))(kO || {});
let MO = { 0: (e) => {
  let t = { ...e, popoverState: Ae(e.popoverState, { 0: 1, 1: 0 }) };
  return t.popoverState === 0 && (t.__demoMode = !1), t;
}, 1(e) {
  return e.popoverState === 1 ? e : { ...e, popoverState: 1 };
}, 2(e, t) {
  return e.button === t.button ? e : { ...e, button: t.button };
}, 3(e, t) {
  return e.buttonId === t.buttonId ? e : { ...e, buttonId: t.buttonId };
}, 4(e, t) {
  return e.panel === t.panel ? e : { ...e, panel: t.panel };
}, 5(e, t) {
  return e.panelId === t.panelId ? e : { ...e, panelId: t.panelId };
} }, Uf = Je(null);
Uf.displayName = "PopoverContext";
function su(e) {
  let t = He(Uf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Popover /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, su), n;
  }
  return t;
}
let Wf = Je(null);
Wf.displayName = "PopoverAPIContext";
function Gf(e) {
  let t = He(Wf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Popover /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Gf), n;
  }
  return t;
}
let Kf = Je(null);
Kf.displayName = "PopoverGroupContext";
function Jv() {
  return He(Kf);
}
let iu = Je(null);
iu.displayName = "PopoverPanelContext";
function $O() {
  return He(iu);
}
function RO(e, t) {
  return Ae(t.type, MO, e, t);
}
let IO = "div";
function jO(e, t) {
  var n;
  let { __demoMode: r = !1, ...o } = e, s = q(null), i = Be(t, Af((H) => {
    s.current = H;
  })), a = q([]), l = Ho(RO, { __demoMode: r, popoverState: r ? 0 : 1, buttons: a, button: null, buttonId: null, panel: null, panelId: null, beforePanelSentinel: ma(), afterPanelSentinel: ma() }), [{ popoverState: c, button: d, buttonId: p, panel: f, panelId: g, beforePanelSentinel: h, afterPanelSentinel: m }, b] = l, y = mo((n = s.current) != null ? n : d), v = ue(() => {
    if (!d || !f)
      return !1;
    for (let U of document.querySelectorAll("body > *"))
      if (Number(U == null ? void 0 : U.contains(d)) ^ Number(U == null ? void 0 : U.contains(f)))
        return !0;
    let H = eu(), K = H.indexOf(d), z = (K + H.length - 1) % H.length, $ = (K + 1) % H.length, D = H[z], I = H[$];
    return !f.contains(D) && !f.contains(I);
  }, [d, f]), S = Bt(p), w = Bt(g), C = ue(() => ({ buttonId: S, panelId: w, close: () => b({ type: 1 }) }), [S, w, b]), x = Jv(), E = x == null ? void 0 : x.registerPopover, O = se(() => {
    var H;
    return (H = x == null ? void 0 : x.isFocusWithinPopoverGroup()) != null ? H : (y == null ? void 0 : y.activeElement) && ((d == null ? void 0 : d.contains(y.activeElement)) || (f == null ? void 0 : f.contains(y.activeElement)));
  });
  G(() => E == null ? void 0 : E(C), [E, C]);
  let [T, P] = Kv(), A = qv({ mainTreeNodeRef: x == null ? void 0 : x.mainTreeNodeRef, portals: T, defaultContainers: [d, f] });
  $f(y == null ? void 0 : y.defaultView, "focus", (H) => {
    var K, z, $, D;
    H.target !== window && H.target instanceof HTMLElement && c === 0 && (O() || d && f && (A.contains(H.target) || (z = (K = h.current) == null ? void 0 : K.contains) != null && z.call(K, H.target) || (D = ($ = m.current) == null ? void 0 : $.contains) != null && D.call($, H.target) || b({ type: 1 })));
  }, !0), nu(A.resolveContainers, (H, K) => {
    b({ type: 1 }), _f(K, tu.Loose) || (H.preventDefault(), d == null || d.focus());
  }, c === 0);
  let _ = se((H) => {
    b({ type: 1 });
    let K = (() => H ? H instanceof HTMLElement ? H : "current" in H && H.current instanceof HTMLElement ? H.current : d : d)();
    K == null || K.focus();
  }), M = ue(() => ({ close: _, isPortalled: v }), [_, v]), V = ue(() => ({ open: c === 0, close: _ }), [c, _]), N = { ref: i };
  return B.createElement(iu.Provider, { value: null }, B.createElement(Uf.Provider, { value: l }, B.createElement(Wf.Provider, { value: M }, B.createElement(Ya, { value: Ae(c, { 0: st.Open, 1: st.Closed }) }, B.createElement(P, null, $e({ ourProps: N, theirProps: o, slot: V, defaultTag: IO, name: "Popover" }), B.createElement(A.MainTreeNode, null))))));
}
let VO = "button";
function DO(e, t) {
  let n = dt(), { id: r = `headlessui-popover-button-${n}`, ...o } = e, [s, i] = su("Popover.Button"), { isPortalled: a } = Gf("Popover.Button"), l = q(null), c = `headlessui-focus-sentinel-${dt()}`, d = Jv(), p = d == null ? void 0 : d.closeOthers, f = $O() !== null;
  G(() => {
    if (!f)
      return i({ type: 3, buttonId: r }), () => {
        i({ type: 3, buttonId: null });
      };
  }, [f, r, i]);
  let [g] = W(() => Symbol()), h = Be(l, t, f ? null : (A) => {
    if (A)
      s.buttons.current.push(g);
    else {
      let _ = s.buttons.current.indexOf(g);
      _ !== -1 && s.buttons.current.splice(_, 1);
    }
    s.buttons.current.length > 1 && console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."), A && i({ type: 2, button: A });
  }), m = Be(l, t), b = mo(l), y = se((A) => {
    var _, M, V;
    if (f) {
      if (s.popoverState === 1)
        return;
      switch (A.key) {
        case Ce.Space:
        case Ce.Enter:
          A.preventDefault(), (M = (_ = A.target).click) == null || M.call(_), i({ type: 1 }), (V = s.button) == null || V.focus();
          break;
      }
    } else
      switch (A.key) {
        case Ce.Space:
        case Ce.Enter:
          A.preventDefault(), A.stopPropagation(), s.popoverState === 1 && (p == null || p(s.buttonId)), i({ type: 0 });
          break;
        case Ce.Escape:
          if (s.popoverState !== 0)
            return p == null ? void 0 : p(s.buttonId);
          if (!l.current || b != null && b.activeElement && !l.current.contains(b.activeElement))
            return;
          A.preventDefault(), A.stopPropagation(), i({ type: 1 });
          break;
      }
  }), v = se((A) => {
    f || A.key === Ce.Space && A.preventDefault();
  }), S = se((A) => {
    var _, M;
    uo(A.currentTarget) || e.disabled || (f ? (i({ type: 1 }), (_ = s.button) == null || _.focus()) : (A.preventDefault(), A.stopPropagation(), s.popoverState === 1 && (p == null || p(s.buttonId)), i({ type: 0 }), (M = s.button) == null || M.focus()));
  }), w = se((A) => {
    A.preventDefault(), A.stopPropagation();
  }), C = s.popoverState === 0, x = ue(() => ({ open: C }), [C]), E = Pi(e, l), O = f ? { ref: m, type: E, onKeyDown: y, onClick: S } : { ref: h, id: s.buttonId, type: E, "aria-expanded": s.popoverState === 0, "aria-controls": s.panel ? s.panelId : void 0, onKeyDown: y, onKeyUp: v, onClick: S, onMouseDown: w }, T = Rf(), P = se(() => {
    let A = s.panel;
    if (!A)
      return;
    function _() {
      Ae(T.current, { [kn.Forwards]: () => Ht(A, ct.First), [kn.Backwards]: () => Ht(A, ct.Last) }) === ar.Error && Ht(eu().filter((M) => M.dataset.headlessuiFocusGuard !== "true"), Ae(T.current, { [kn.Forwards]: ct.Next, [kn.Backwards]: ct.Previous }), { relativeTo: s.button });
    }
    _();
  });
  return B.createElement(B.Fragment, null, $e({ ourProps: O, theirProps: o, slot: x, defaultTag: VO, name: "Popover.Button" }), C && !f && a && B.createElement(jn, { id: c, features: In.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: P }));
}
let HO = "div", BO = ln.RenderStrategy | ln.Static;
function FO(e, t) {
  let n = dt(), { id: r = `headlessui-popover-overlay-${n}`, ...o } = e, [{ popoverState: s }, i] = su("Popover.Overlay"), a = Be(t), l = Go(), c = (() => l !== null ? (l & st.Open) === st.Open : s === 0)(), d = se((f) => {
    if (uo(f.currentTarget))
      return f.preventDefault();
    i({ type: 1 });
  }), p = ue(() => ({ open: s === 0 }), [s]);
  return $e({ ourProps: { ref: a, id: r, "aria-hidden": !0, onClick: d }, theirProps: o, slot: p, defaultTag: HO, features: BO, visible: c, name: "Popover.Overlay" });
}
let zO = "div", UO = ln.RenderStrategy | ln.Static;
function WO(e, t) {
  let n = dt(), { id: r = `headlessui-popover-panel-${n}`, focus: o = !1, ...s } = e, [i, a] = su("Popover.Panel"), { close: l, isPortalled: c } = Gf("Popover.Panel"), d = `headlessui-focus-sentinel-before-${dt()}`, p = `headlessui-focus-sentinel-after-${dt()}`, f = q(null), g = Be(f, t, (O) => {
    a({ type: 4, panel: O });
  }), h = mo(f), m = Lf();
  Ue(() => (a({ type: 5, panelId: r }), () => {
    a({ type: 5, panelId: null });
  }), [r, a]);
  let b = Go(), y = (() => b !== null ? (b & st.Open) === st.Open : i.popoverState === 0)(), v = se((O) => {
    var T;
    switch (O.key) {
      case Ce.Escape:
        if (i.popoverState !== 0 || !f.current || h != null && h.activeElement && !f.current.contains(h.activeElement))
          return;
        O.preventDefault(), O.stopPropagation(), a({ type: 1 }), (T = i.button) == null || T.focus();
        break;
    }
  });
  G(() => {
    var O;
    e.static || i.popoverState === 1 && ((O = e.unmount) == null || O) && a({ type: 4, panel: null });
  }, [i.popoverState, e.unmount, e.static, a]), G(() => {
    if (i.__demoMode || !o || i.popoverState !== 0 || !f.current)
      return;
    let O = h == null ? void 0 : h.activeElement;
    f.current.contains(O) || Ht(f.current, ct.First);
  }, [i.__demoMode, o, f, i.popoverState]);
  let S = ue(() => ({ open: i.popoverState === 0, close: l }), [i, l]), w = { ref: g, id: r, onKeyDown: v, onBlur: o && i.popoverState === 0 ? (O) => {
    var T, P, A, _, M;
    let V = O.relatedTarget;
    V && f.current && ((T = f.current) != null && T.contains(V) || (a({ type: 1 }), ((A = (P = i.beforePanelSentinel.current) == null ? void 0 : P.contains) != null && A.call(P, V) || (M = (_ = i.afterPanelSentinel.current) == null ? void 0 : _.contains) != null && M.call(_, V)) && V.focus({ preventScroll: !0 })));
  } : void 0, tabIndex: -1 }, C = Rf(), x = se(() => {
    let O = f.current;
    if (!O)
      return;
    function T() {
      Ae(C.current, { [kn.Forwards]: () => {
        var P;
        Ht(O, ct.First) === ar.Error && ((P = i.afterPanelSentinel.current) == null || P.focus());
      }, [kn.Backwards]: () => {
        var P;
        (P = i.button) == null || P.focus({ preventScroll: !0 });
      } });
    }
    T();
  }), E = se(() => {
    let O = f.current;
    if (!O)
      return;
    function T() {
      Ae(C.current, { [kn.Forwards]: () => {
        var P;
        if (!i.button)
          return;
        let A = eu(), _ = A.indexOf(i.button), M = A.slice(0, _ + 1), V = [...A.slice(_ + 1), ...M];
        for (let N of V.slice())
          if (N.dataset.headlessuiFocusGuard === "true" || (P = i.panel) != null && P.contains(N)) {
            let H = V.indexOf(N);
            H !== -1 && V.splice(H, 1);
          }
        Ht(V, ct.First, { sorted: !1 });
      }, [kn.Backwards]: () => {
        var P;
        Ht(O, ct.Previous) === ar.Error && ((P = i.button) == null || P.focus());
      } });
    }
    T();
  });
  return B.createElement(iu.Provider, { value: r }, y && c && B.createElement(jn, { id: d, ref: i.beforePanelSentinel, features: In.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: x }), $e({ mergeRefs: m, ourProps: w, theirProps: s, slot: S, defaultTag: zO, features: UO, visible: y, name: "Popover.Panel" }), y && c && B.createElement(jn, { id: p, ref: i.afterPanelSentinel, features: In.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: E }));
}
let GO = "div";
function KO(e, t) {
  let n = q(null), r = Be(n, t), [o, s] = W([]), i = vT(), a = se((m) => {
    s((b) => {
      let y = b.indexOf(m);
      if (y !== -1) {
        let v = b.slice();
        return v.splice(y, 1), v;
      }
      return b;
    });
  }), l = se((m) => (s((b) => [...b, m]), () => a(m))), c = se(() => {
    var m;
    let b = Wo(n);
    if (!b)
      return !1;
    let y = b.activeElement;
    return (m = n.current) != null && m.contains(y) ? !0 : o.some((v) => {
      var S, w;
      return ((S = b.getElementById(v.buttonId.current)) == null ? void 0 : S.contains(y)) || ((w = b.getElementById(v.panelId.current)) == null ? void 0 : w.contains(y));
    });
  }), d = se((m) => {
    for (let b of o)
      b.buttonId.current !== m && b.close();
  }), p = ue(() => ({ registerPopover: l, unregisterPopover: a, isFocusWithinPopoverGroup: c, closeOthers: d, mainTreeNodeRef: i.mainTreeNodeRef }), [l, a, c, d, i.mainTreeNodeRef]), f = ue(() => ({}), []), g = e, h = { ref: r };
  return B.createElement(Kf.Provider, { value: p }, $e({ ourProps: h, theirProps: g, slot: f, defaultTag: GO, name: "Popover.Group" }), B.createElement(i.MainTreeNode, null));
}
let qO = Re(jO), YO = Re(DO), ZO = Re(FO), XO = Re(WO), JO = Re(KO), ld = Object.assign(qO, { Button: YO, Overlay: ZO, Panel: XO, Group: JO }), Qv = Je(null);
function e0() {
  let e = He(Qv);
  if (e === null) {
    let t = new Error("You used a <Label /> component, but it is not inside a relevant parent.");
    throw Error.captureStackTrace && Error.captureStackTrace(t, e0), t;
  }
  return e;
}
function qf() {
  let [e, t] = W([]);
  return [e.length > 0 ? e.join(" ") : void 0, ue(() => function(n) {
    let r = se((s) => (t((i) => [...i, s]), () => t((i) => {
      let a = i.slice(), l = a.indexOf(s);
      return l !== -1 && a.splice(l, 1), a;
    }))), o = ue(() => ({ register: r, slot: n.slot, name: n.name, props: n.props }), [r, n.slot, n.name, n.props]);
    return B.createElement(Qv.Provider, { value: o }, n.children);
  }, [t])];
}
let QO = "label";
function e_(e, t) {
  let n = dt(), { id: r = `headlessui-label-${n}`, passive: o = !1, ...s } = e, i = e0(), a = Be(t);
  Ue(() => i.register(r), [r, i.register]);
  let l = { ref: a, ...i.props, id: r };
  return o && ("onClick" in l && (delete l.htmlFor, delete l.onClick), "onClick" in s && delete s.onClick), $e({ ourProps: l, theirProps: s, slot: i.slot || {}, defaultTag: QO, name: i.name || "Label" });
}
let t_ = Re(e_), t0 = Object.assign(t_, {});
function n0(e = 0) {
  let [t, n] = W(e), r = Ei(), o = Et((l) => {
    r.current && n((c) => c | l);
  }, [t, r]), s = Et((l) => !!(t & l), [t]), i = Et((l) => {
    r.current && n((c) => c & ~l);
  }, [n, r]), a = Et((l) => {
    r.current && n((c) => c ^ l);
  }, [n]);
  return { flags: t, addFlag: o, hasFlag: s, removeFlag: i, toggleFlag: a };
}
var n_ = ((e) => (e[e.RegisterOption = 0] = "RegisterOption", e[e.UnregisterOption = 1] = "UnregisterOption", e))(n_ || {});
let r_ = { 0(e, t) {
  let n = [...e.options, { id: t.id, element: t.element, propsRef: t.propsRef }];
  return { ...e, options: ro(n, (r) => r.element.current) };
}, 1(e, t) {
  let n = e.options.slice(), r = e.options.findIndex((o) => o.id === t.id);
  return r === -1 ? e : (n.splice(r, 1), { ...e, options: n });
} }, Yf = Je(null);
Yf.displayName = "RadioGroupDataContext";
function r0(e) {
  let t = He(Yf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, r0), n;
  }
  return t;
}
let Zf = Je(null);
Zf.displayName = "RadioGroupActionsContext";
function o0(e) {
  let t = He(Zf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, o0), n;
  }
  return t;
}
function o_(e, t) {
  return Ae(t.type, r_, e, t);
}
let s_ = "div";
function i_(e, t) {
  let n = dt(), { id: r = `headlessui-radiogroup-${n}`, value: o, defaultValue: s, form: i, name: a, onChange: l, by: c = ($, D) => $ === D, disabled: d = !1, ...p } = e, f = se(typeof c == "string" ? ($, D) => {
    let I = c;
    return ($ == null ? void 0 : $[I]) === (D == null ? void 0 : D[I]);
  } : c), [g, h] = Ho(o_, { options: [] }), m = g.options, [b, y] = qf(), [v, S] = ou(), w = q(null), C = Be(w, t), [x, E] = Qc(o, l, s), O = ue(() => m.find(($) => !$.propsRef.current.disabled), [m]), T = ue(() => m.some(($) => f($.propsRef.current.value, x)), [m, x]), P = se(($) => {
    var D;
    if (d || f($, x))
      return !1;
    let I = (D = m.find((U) => f(U.propsRef.current.value, $))) == null ? void 0 : D.propsRef.current;
    return I != null && I.disabled ? !1 : (E == null || E($), !0);
  });
  Rv({ container: w.current, accept($) {
    return $.getAttribute("role") === "radio" ? NodeFilter.FILTER_REJECT : $.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
  }, walk($) {
    $.setAttribute("role", "none");
  } });
  let A = se(($) => {
    let D = w.current;
    if (!D)
      return;
    let I = Wo(D), U = m.filter((ne) => ne.propsRef.current.disabled === !1).map((ne) => ne.element.current);
    switch ($.key) {
      case Ce.Enter:
        Dv($.currentTarget);
        break;
      case Ce.ArrowLeft:
      case Ce.ArrowUp:
        if ($.preventDefault(), $.stopPropagation(), Ht(U, ct.Previous | ct.WrapAround) === ar.Success) {
          let ne = m.find((Q) => Q.element.current === (I == null ? void 0 : I.activeElement));
          ne && P(ne.propsRef.current.value);
        }
        break;
      case Ce.ArrowRight:
      case Ce.ArrowDown:
        if ($.preventDefault(), $.stopPropagation(), Ht(U, ct.Next | ct.WrapAround) === ar.Success) {
          let ne = m.find((Q) => Q.element.current === (I == null ? void 0 : I.activeElement));
          ne && P(ne.propsRef.current.value);
        }
        break;
      case Ce.Space:
        {
          $.preventDefault(), $.stopPropagation();
          let ne = m.find((Q) => Q.element.current === (I == null ? void 0 : I.activeElement));
          ne && P(ne.propsRef.current.value);
        }
        break;
    }
  }), _ = se(($) => (h({ type: 0, ...$ }), () => h({ type: 1, id: $.id }))), M = ue(() => ({ value: x, firstOption: O, containsCheckedOption: T, disabled: d, compare: f, ...g }), [x, O, T, d, f, g]), V = ue(() => ({ registerOption: _, change: P }), [_, P]), N = { ref: C, id: r, role: "radiogroup", "aria-labelledby": b, "aria-describedby": v, onKeyDown: A }, H = ue(() => ({ value: x }), [x]), K = q(null), z = Qn();
  return G(() => {
    K.current && s !== void 0 && z.addEventListener(K.current, "reset", () => {
      P(s);
    });
  }, [K, P]), B.createElement(S, { name: "RadioGroup.Description" }, B.createElement(y, { name: "RadioGroup.Label" }, B.createElement(Zf.Provider, { value: V }, B.createElement(Yf.Provider, { value: M }, a != null && x != null && ru({ [a]: x }).map(([$, D], I) => B.createElement(jn, { features: In.Hidden, ref: I === 0 ? (U) => {
    var ne;
    K.current = (ne = U == null ? void 0 : U.closest("form")) != null ? ne : null;
  } : void 0, ...pi({ key: $, as: "input", type: "radio", checked: D != null, hidden: !0, readOnly: !0, form: i, disabled: d, name: $, value: D }) })), $e({ ourProps: N, theirProps: p, slot: H, defaultTag: s_, name: "RadioGroup" })))));
}
var a_ = ((e) => (e[e.Empty = 1] = "Empty", e[e.Active = 2] = "Active", e))(a_ || {});
let l_ = "div";
function c_(e, t) {
  var n;
  let r = dt(), { id: o = `headlessui-radiogroup-option-${r}`, value: s, disabled: i = !1, ...a } = e, l = q(null), c = Be(l, t), [d, p] = qf(), [f, g] = ou(), { addFlag: h, removeFlag: m, hasFlag: b } = n0(1), y = Bt({ value: s, disabled: i }), v = r0("RadioGroup.Option"), S = o0("RadioGroup.Option");
  Ue(() => S.registerOption({ id: o, element: l, propsRef: y }), [o, S, l, y]);
  let w = se((_) => {
    var M;
    if (uo(_.currentTarget))
      return _.preventDefault();
    S.change(s) && (h(2), (M = l.current) == null || M.focus());
  }), C = se((_) => {
    if (uo(_.currentTarget))
      return _.preventDefault();
    h(2);
  }), x = se(() => m(2)), E = ((n = v.firstOption) == null ? void 0 : n.id) === o, O = v.disabled || i, T = v.compare(v.value, s), P = { ref: c, id: o, role: "radio", "aria-checked": T ? "true" : "false", "aria-labelledby": d, "aria-describedby": f, "aria-disabled": O ? !0 : void 0, tabIndex: (() => O ? -1 : T || !v.containsCheckedOption && E ? 0 : -1)(), onClick: O ? void 0 : w, onFocus: O ? void 0 : C, onBlur: O ? void 0 : x }, A = ue(() => ({ checked: T, disabled: O, active: b(2) }), [T, O, b]);
  return B.createElement(g, { name: "RadioGroup.Description" }, B.createElement(p, { name: "RadioGroup.Label" }, $e({ ourProps: P, theirProps: a, slot: A, defaultTag: l_, name: "RadioGroup.Option" })));
}
let u_ = Re(i_), d_ = Re(c_), Ih = Object.assign(u_, { Option: d_, Label: t0, Description: jf }), Xf = Je(null);
Xf.displayName = "GroupContext";
let p_ = It;
function f_(e) {
  var t;
  let [n, r] = W(null), [o, s] = qf(), [i, a] = ou(), l = ue(() => ({ switch: n, setSwitch: r, labelledby: o, describedby: i }), [n, r, o, i]), c = {}, d = e;
  return B.createElement(a, { name: "Switch.Description" }, B.createElement(s, { name: "Switch.Label", props: { htmlFor: (t = l.switch) == null ? void 0 : t.id, onClick(p) {
    n && (p.currentTarget.tagName === "LABEL" && p.preventDefault(), n.click(), n.focus({ preventScroll: !0 }));
  } } }, B.createElement(Xf.Provider, { value: l }, $e({ ourProps: c, theirProps: d, defaultTag: p_, name: "Switch.Group" }))));
}
let g_ = "button";
function h_(e, t) {
  var n;
  let r = dt(), { id: o = `headlessui-switch-${r}`, checked: s, defaultChecked: i = !1, onChange: a, disabled: l = !1, name: c, value: d, form: p, ...f } = e, g = He(Xf), h = q(null), m = Be(h, t, g === null ? null : g.setSwitch), [b, y] = Qc(s, a, i), v = se(() => y == null ? void 0 : y(!b)), S = se((T) => {
    if (uo(T.currentTarget))
      return T.preventDefault();
    T.preventDefault(), v();
  }), w = se((T) => {
    T.key === Ce.Space ? (T.preventDefault(), v()) : T.key === Ce.Enter && Dv(T.currentTarget);
  }), C = se((T) => T.preventDefault()), x = ue(() => ({ checked: b }), [b]), E = { id: o, ref: m, role: "switch", type: Pi(e, h), tabIndex: e.tabIndex === -1 ? 0 : (n = e.tabIndex) != null ? n : 0, "aria-checked": b, "aria-labelledby": g == null ? void 0 : g.labelledby, "aria-describedby": g == null ? void 0 : g.describedby, disabled: l, onClick: S, onKeyUp: w, onKeyPress: C }, O = Qn();
  return G(() => {
    var T;
    let P = (T = h.current) == null ? void 0 : T.closest("form");
    P && i !== void 0 && O.addEventListener(P, "reset", () => {
      y(i);
    });
  }, [h, y]), B.createElement(B.Fragment, null, c != null && b && B.createElement(jn, { features: In.Hidden, ...pi({ as: "input", type: "checkbox", hidden: !0, readOnly: !0, disabled: l, form: p, checked: b, name: c, value: d }) }), $e({ ourProps: E, theirProps: f, slot: x, defaultTag: g_, name: "Switch" }));
}
let m_ = Re(h_), b_ = f_, cd = Object.assign(m_, { Group: b_, Label: t0, Description: jf });
function v_({ onFocus: e }) {
  let [t, n] = W(!0), r = Ei();
  return t ? B.createElement(jn, { as: "button", type: "button", features: In.Focusable, onFocus: (o) => {
    o.preventDefault();
    let s, i = 50;
    function a() {
      if (i-- <= 0) {
        s && cancelAnimationFrame(s);
        return;
      }
      if (e()) {
        if (cancelAnimationFrame(s), !r.current)
          return;
        n(!1);
        return;
      }
      s = requestAnimationFrame(a);
    }
    s = requestAnimationFrame(a);
  } }) : null;
}
const s0 = et.createContext(null);
function y_() {
  return { groups: /* @__PURE__ */ new Map(), get(e, t) {
    var n;
    let r = this.groups.get(e);
    r || (r = /* @__PURE__ */ new Map(), this.groups.set(e, r));
    let o = (n = r.get(t)) != null ? n : 0;
    r.set(t, o + 1);
    let s = Array.from(r.keys()).indexOf(t);
    function i() {
      let a = r.get(t);
      a > 1 ? r.set(t, a - 1) : r.delete(t);
    }
    return [s, i];
  } };
}
function w_({ children: e }) {
  let t = et.useRef(y_());
  return et.createElement(s0.Provider, { value: t }, e);
}
function i0(e) {
  let t = et.useContext(s0);
  if (!t)
    throw new Error("You must wrap your component in a <StableCollection>");
  let n = S_(), [r, o] = t.current.get(e, n);
  return et.useEffect(() => o, []), r;
}
function S_() {
  var e, t, n;
  let r = (n = (t = (e = et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) == null ? void 0 : e.ReactCurrentOwner) == null ? void 0 : t.current) != null ? n : null;
  if (!r)
    return Symbol();
  let o = [], s = r;
  for (; s; )
    o.push(s.index), s = s.return;
  return "$." + o.join(".");
}
var C_ = ((e) => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(C_ || {}), x_ = ((e) => (e[e.Less = -1] = "Less", e[e.Equal = 0] = "Equal", e[e.Greater = 1] = "Greater", e))(x_ || {}), P_ = ((e) => (e[e.SetSelectedIndex = 0] = "SetSelectedIndex", e[e.RegisterTab = 1] = "RegisterTab", e[e.UnregisterTab = 2] = "UnregisterTab", e[e.RegisterPanel = 3] = "RegisterPanel", e[e.UnregisterPanel = 4] = "UnregisterPanel", e))(P_ || {});
let E_ = { 0(e, t) {
  var n;
  let r = ro(e.tabs, (d) => d.current), o = ro(e.panels, (d) => d.current), s = r.filter((d) => {
    var p;
    return !((p = d.current) != null && p.hasAttribute("disabled"));
  }), i = { ...e, tabs: r, panels: o };
  if (t.index < 0 || t.index > r.length - 1) {
    let d = Ae(Math.sign(t.index - e.selectedIndex), { [-1]: () => 1, 0: () => Ae(Math.sign(t.index), { [-1]: () => 0, 0: () => 0, 1: () => 1 }), 1: () => 0 });
    if (s.length === 0)
      return i;
    let p = Ae(d, { 0: () => r.indexOf(s[0]), 1: () => r.indexOf(s[s.length - 1]) });
    return { ...i, selectedIndex: p === -1 ? e.selectedIndex : p };
  }
  let a = r.slice(0, t.index), l = [...r.slice(t.index), ...a].find((d) => s.includes(d));
  if (!l)
    return i;
  let c = (n = r.indexOf(l)) != null ? n : e.selectedIndex;
  return c === -1 && (c = e.selectedIndex), { ...i, selectedIndex: c };
}, 1(e, t) {
  if (e.tabs.includes(t.tab))
    return e;
  let n = e.tabs[e.selectedIndex], r = ro([...e.tabs, t.tab], (s) => s.current), o = e.selectedIndex;
  return e.info.current.isControlled || (o = r.indexOf(n), o === -1 && (o = e.selectedIndex)), { ...e, tabs: r, selectedIndex: o };
}, 2(e, t) {
  return { ...e, tabs: e.tabs.filter((n) => n !== t.tab) };
}, 3(e, t) {
  return e.panels.includes(t.panel) ? e : { ...e, panels: ro([...e.panels, t.panel], (n) => n.current) };
}, 4(e, t) {
  return { ...e, panels: e.panels.filter((n) => n !== t.panel) };
} }, Jf = Je(null);
Jf.displayName = "TabsDataContext";
function fi(e) {
  let t = He(Jf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, fi), n;
  }
  return t;
}
let Qf = Je(null);
Qf.displayName = "TabsActionsContext";
function eg(e) {
  let t = He(Qf);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, eg), n;
  }
  return t;
}
function T_(e, t) {
  return Ae(t.type, E_, e, t);
}
let O_ = It;
function __(e, t) {
  let { defaultIndex: n = 0, vertical: r = !1, manual: o = !1, onChange: s, selectedIndex: i = null, ...a } = e;
  const l = r ? "vertical" : "horizontal", c = o ? "manual" : "auto";
  let d = i !== null, p = Bt({ isControlled: d }), f = Be(t), [g, h] = Ho(T_, { info: p, selectedIndex: i ?? n, tabs: [], panels: [] }), m = ue(() => ({ selectedIndex: g.selectedIndex }), [g.selectedIndex]), b = Bt(s || (() => {
  })), y = Bt(g.tabs), v = ue(() => ({ orientation: l, activation: c, ...g }), [l, c, g]), S = se((T) => (h({ type: 1, tab: T }), () => h({ type: 2, tab: T }))), w = se((T) => (h({ type: 3, panel: T }), () => h({ type: 4, panel: T }))), C = se((T) => {
    x.current !== T && b.current(T), d || h({ type: 0, index: T });
  }), x = Bt(d ? e.selectedIndex : g.selectedIndex), E = ue(() => ({ registerTab: S, registerPanel: w, change: C }), []);
  Ue(() => {
    h({ type: 0, index: i ?? n });
  }, [i]), Ue(() => {
    if (x.current === void 0 || g.tabs.length <= 0)
      return;
    let T = ro(g.tabs, (P) => P.current);
    T.some((P, A) => g.tabs[A] !== P) && C(T.indexOf(g.tabs[x.current]));
  });
  let O = { ref: f };
  return B.createElement(w_, null, B.createElement(Qf.Provider, { value: E }, B.createElement(Jf.Provider, { value: v }, v.tabs.length <= 0 && B.createElement(v_, { onFocus: () => {
    var T, P;
    for (let A of y.current)
      if (((T = A.current) == null ? void 0 : T.tabIndex) === 0)
        return (P = A.current) == null || P.focus(), !0;
    return !1;
  } }), $e({ ourProps: O, theirProps: a, slot: m, defaultTag: O_, name: "Tabs" }))));
}
let A_ = "div";
function L_(e, t) {
  let { orientation: n, selectedIndex: r } = fi("Tab.List"), o = Be(t);
  return $e({ ourProps: { ref: o, role: "tablist", "aria-orientation": n }, theirProps: e, slot: { selectedIndex: r }, defaultTag: A_, name: "Tabs.List" });
}
let N_ = "button";
function k_(e, t) {
  var n, r;
  let o = dt(), { id: s = `headlessui-tabs-tab-${o}`, ...i } = e, { orientation: a, activation: l, selectedIndex: c, tabs: d, panels: p } = fi("Tab"), f = eg("Tab"), g = fi("Tab"), h = q(null), m = Be(h, t);
  Ue(() => f.registerTab(h), [f, h]);
  let b = i0("tabs"), y = d.indexOf(h);
  y === -1 && (y = b);
  let v = y === c, S = se((P) => {
    var A;
    let _ = P();
    if (_ === ar.Success && l === "auto") {
      let M = (A = Wo(h)) == null ? void 0 : A.activeElement, V = g.tabs.findIndex((N) => N.current === M);
      V !== -1 && f.change(V);
    }
    return _;
  }), w = se((P) => {
    let A = d.map((_) => _.current).filter(Boolean);
    if (P.key === Ce.Space || P.key === Ce.Enter) {
      P.preventDefault(), P.stopPropagation(), f.change(y);
      return;
    }
    switch (P.key) {
      case Ce.Home:
      case Ce.PageUp:
        return P.preventDefault(), P.stopPropagation(), S(() => Ht(A, ct.First));
      case Ce.End:
      case Ce.PageDown:
        return P.preventDefault(), P.stopPropagation(), S(() => Ht(A, ct.Last));
    }
    if (S(() => Ae(a, { vertical() {
      return P.key === Ce.ArrowUp ? Ht(A, ct.Previous | ct.WrapAround) : P.key === Ce.ArrowDown ? Ht(A, ct.Next | ct.WrapAround) : ar.Error;
    }, horizontal() {
      return P.key === Ce.ArrowLeft ? Ht(A, ct.Previous | ct.WrapAround) : P.key === Ce.ArrowRight ? Ht(A, ct.Next | ct.WrapAround) : ar.Error;
    } })) === ar.Success)
      return P.preventDefault();
  }), C = q(!1), x = se(() => {
    var P;
    C.current || (C.current = !0, (P = h.current) == null || P.focus({ preventScroll: !0 }), f.change(y), qa(() => {
      C.current = !1;
    }));
  }), E = se((P) => {
    P.preventDefault();
  }), O = ue(() => {
    var P;
    return { selected: v, disabled: (P = e.disabled) != null ? P : !1 };
  }, [v, e.disabled]), T = { ref: m, onKeyDown: w, onMouseDown: E, onClick: x, id: s, role: "tab", type: Pi(e, h), "aria-controls": (r = (n = p[y]) == null ? void 0 : n.current) == null ? void 0 : r.id, "aria-selected": v, tabIndex: v ? 0 : -1 };
  return $e({ ourProps: T, theirProps: i, slot: O, defaultTag: N_, name: "Tabs.Tab" });
}
let M_ = "div";
function $_(e, t) {
  let { selectedIndex: n } = fi("Tab.Panels"), r = Be(t), o = ue(() => ({ selectedIndex: n }), [n]);
  return $e({ ourProps: { ref: r }, theirProps: e, slot: o, defaultTag: M_, name: "Tabs.Panels" });
}
let R_ = "div", I_ = ln.RenderStrategy | ln.Static;
function j_(e, t) {
  var n, r, o, s;
  let i = dt(), { id: a = `headlessui-tabs-panel-${i}`, tabIndex: l = 0, ...c } = e, { selectedIndex: d, tabs: p, panels: f } = fi("Tab.Panel"), g = eg("Tab.Panel"), h = q(null), m = Be(h, t);
  Ue(() => g.registerPanel(h), [g, h, a]);
  let b = i0("panels"), y = f.indexOf(h);
  y === -1 && (y = b);
  let v = y === d, S = ue(() => ({ selected: v }), [v]), w = { ref: m, id: a, role: "tabpanel", "aria-labelledby": (r = (n = p[y]) == null ? void 0 : n.current) == null ? void 0 : r.id, tabIndex: v ? l : -1 };
  return !v && ((o = c.unmount) == null || o) && !((s = c.static) != null && s) ? B.createElement(jn, { as: "span", "aria-hidden": "true", ...w }) : $e({ ourProps: w, theirProps: c, slot: S, defaultTag: R_, features: I_, visible: v, name: "Tabs.Panel" });
}
let V_ = Re(k_), D_ = Re(__), H_ = Re(L_), B_ = Re($_), F_ = Re(j_), Hi = Object.assign(V_, { Group: D_, List: H_, Panels: B_, Panel: F_ });
function z_(e) {
  let t = { called: !1 };
  return (...n) => {
    if (!t.called)
      return t.called = !0, e(...n);
  };
}
function ud(e, ...t) {
  e && t.length > 0 && e.classList.add(...t);
}
function dd(e, ...t) {
  e && t.length > 0 && e.classList.remove(...t);
}
function U_(e, t) {
  let n = Jn();
  if (!e)
    return n.dispose;
  let { transitionDuration: r, transitionDelay: o } = getComputedStyle(e), [s, i] = [r, o].map((l) => {
    let [c = 0] = l.split(",").filter(Boolean).map((d) => d.includes("ms") ? parseFloat(d) : parseFloat(d) * 1e3).sort((d, p) => p - d);
    return c;
  }), a = s + i;
  if (a !== 0) {
    n.group((c) => {
      c.setTimeout(() => {
        t(), c.dispose();
      }, a), c.addEventListener(e, "transitionrun", (d) => {
        d.target === d.currentTarget && c.dispose();
      });
    });
    let l = n.addEventListener(e, "transitionend", (c) => {
      c.target === c.currentTarget && (t(), l());
    });
  } else
    t();
  return n.add(() => t()), n.dispose;
}
function W_(e, t, n, r) {
  let o = n ? "enter" : "leave", s = Jn(), i = r !== void 0 ? z_(r) : () => {
  };
  o === "enter" && (e.removeAttribute("hidden"), e.style.display = "");
  let a = Ae(o, { enter: () => t.enter, leave: () => t.leave }), l = Ae(o, { enter: () => t.enterTo, leave: () => t.leaveTo }), c = Ae(o, { enter: () => t.enterFrom, leave: () => t.leaveFrom });
  return dd(e, ...t.base, ...t.enter, ...t.enterTo, ...t.enterFrom, ...t.leave, ...t.leaveFrom, ...t.leaveTo, ...t.entered), ud(e, ...t.base, ...a, ...c), s.nextFrame(() => {
    dd(e, ...t.base, ...a, ...c), ud(e, ...t.base, ...a, ...l), U_(e, () => (dd(e, ...t.base, ...a), ud(e, ...t.base, ...t.entered), i()));
  }), s.dispose;
}
function G_({ immediate: e, container: t, direction: n, classes: r, onStart: o, onStop: s }) {
  let i = Ei(), a = Qn(), l = Bt(n);
  Ue(() => {
    e && (l.current = "enter");
  }, [e]), Ue(() => {
    let c = Jn();
    a.add(c.dispose);
    let d = t.current;
    if (d && l.current !== "idle" && i.current)
      return c.dispose(), o.current(l.current), c.add(W_(d, r.current, l.current === "enter", () => {
        c.dispose(), s.current(l.current);
      })), c.dispose;
  }, [n]);
}
function yo(e = "") {
  return e.split(/\s+/).filter((t) => t.length > 1);
}
let au = Je(null);
au.displayName = "TransitionContext";
var K_ = ((e) => (e.Visible = "visible", e.Hidden = "hidden", e))(K_ || {});
function q_() {
  let e = He(au);
  if (e === null)
    throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
function Y_() {
  let e = He(lu);
  if (e === null)
    throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
let lu = Je(null);
lu.displayName = "NestingContext";
function cu(e) {
  return "children" in e ? cu(e.children) : e.current.filter(({ el: t }) => t.current !== null).filter(({ state: t }) => t === "visible").length > 0;
}
function a0(e, t) {
  let n = Bt(e), r = q([]), o = Ei(), s = Qn(), i = se((g, h = No.Hidden) => {
    let m = r.current.findIndex(({ el: b }) => b === g);
    m !== -1 && (Ae(h, { [No.Unmount]() {
      r.current.splice(m, 1);
    }, [No.Hidden]() {
      r.current[m].state = "hidden";
    } }), s.microTask(() => {
      var b;
      !cu(r) && o.current && ((b = n.current) == null || b.call(n));
    }));
  }), a = se((g) => {
    let h = r.current.find(({ el: m }) => m === g);
    return h ? h.state !== "visible" && (h.state = "visible") : r.current.push({ el: g, state: "visible" }), () => i(g, No.Unmount);
  }), l = q([]), c = q(Promise.resolve()), d = q({ enter: [], leave: [], idle: [] }), p = se((g, h, m) => {
    l.current.splice(0), t && (t.chains.current[h] = t.chains.current[h].filter(([b]) => b !== g)), t == null || t.chains.current[h].push([g, new Promise((b) => {
      l.current.push(b);
    })]), t == null || t.chains.current[h].push([g, new Promise((b) => {
      Promise.all(d.current[h].map(([y, v]) => v)).then(() => b());
    })]), h === "enter" ? c.current = c.current.then(() => t == null ? void 0 : t.wait.current).then(() => m(h)) : m(h);
  }), f = se((g, h, m) => {
    Promise.all(d.current[h].splice(0).map(([b, y]) => y)).then(() => {
      var b;
      (b = l.current.shift()) == null || b();
    }).then(() => m(h));
  });
  return ue(() => ({ children: r, register: a, unregister: i, onStart: p, onStop: f, wait: c, chains: d }), [a, i, r, p, f, d, c]);
}
function Z_() {
}
let X_ = ["beforeEnter", "afterEnter", "beforeLeave", "afterLeave"];
function jh(e) {
  var t;
  let n = {};
  for (let r of X_)
    n[r] = (t = e[r]) != null ? t : Z_;
  return n;
}
function J_(e) {
  let t = q(jh(e));
  return G(() => {
    t.current = jh(e);
  }, [e]), t;
}
let Q_ = "div", l0 = ln.RenderStrategy;
function e3(e, t) {
  var n, r;
  let { beforeEnter: o, afterEnter: s, beforeLeave: i, afterLeave: a, enter: l, enterFrom: c, enterTo: d, entered: p, leave: f, leaveFrom: g, leaveTo: h, ...m } = e, b = q(null), y = Be(b, t), v = (n = m.unmount) == null || n ? No.Unmount : No.Hidden, { show: S, appear: w, initial: C } = q_(), [x, E] = W(S ? "visible" : "hidden"), O = Y_(), { register: T, unregister: P } = O;
  G(() => T(b), [T, b]), G(() => {
    if (v === No.Hidden && b.current) {
      if (S && x !== "visible") {
        E("visible");
        return;
      }
      return Ae(x, { hidden: () => P(b), visible: () => T(b) });
    }
  }, [x, b, T, P, S, v]);
  let A = Bt({ base: yo(m.className), enter: yo(l), enterFrom: yo(c), enterTo: yo(d), entered: yo(p), leave: yo(f), leaveFrom: yo(g), leaveTo: yo(h) }), _ = J_({ beforeEnter: o, afterEnter: s, beforeLeave: i, afterLeave: a }), M = xi();
  G(() => {
    if (M && x === "visible" && b.current === null)
      throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?");
  }, [b, x, M]);
  let V = C && !w, N = w && S && C, H = (() => !M || V ? "idle" : S ? "enter" : "leave")(), K = n0(0), z = se((Q) => Ae(Q, { enter: () => {
    K.addFlag(st.Opening), _.current.beforeEnter();
  }, leave: () => {
    K.addFlag(st.Closing), _.current.beforeLeave();
  }, idle: () => {
  } })), $ = se((Q) => Ae(Q, { enter: () => {
    K.removeFlag(st.Opening), _.current.afterEnter();
  }, leave: () => {
    K.removeFlag(st.Closing), _.current.afterLeave();
  }, idle: () => {
  } })), D = a0(() => {
    E("hidden"), P(b);
  }, O), I = q(!1);
  G_({ immediate: N, container: b, classes: A, direction: H, onStart: Bt((Q) => {
    I.current = !0, D.onStart(b, Q, z);
  }), onStop: Bt((Q) => {
    I.current = !1, D.onStop(b, Q, $), Q === "leave" && !cu(D) && (E("hidden"), P(b));
  }) });
  let U = m, ne = { ref: y };
  return N ? U = { ...U, className: wc(m.className, ...A.current.enter, ...A.current.enterFrom) } : I.current && (U.className = wc(m.className, (r = b.current) == null ? void 0 : r.className), U.className === "" && delete U.className), B.createElement(lu.Provider, { value: D }, B.createElement(Ya, { value: Ae(x, { visible: st.Open, hidden: st.Closed }) | K.flags }, $e({ ourProps: ne, theirProps: U, defaultTag: Q_, features: l0, visible: x === "visible", name: "Transition.Child" })));
}
function t3(e, t) {
  let { show: n, appear: r = !1, unmount: o = !0, ...s } = e, i = q(null), a = Be(i, t);
  xi();
  let l = Go();
  if (n === void 0 && l !== null && (n = (l & st.Open) === st.Open), ![!0, !1].includes(n))
    throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");
  let [c, d] = W(n ? "visible" : "hidden"), p = a0(() => {
    d("hidden");
  }), [f, g] = W(!0), h = q([n]);
  Ue(() => {
    f !== !1 && h.current[h.current.length - 1] !== n && (h.current.push(n), g(!1));
  }, [h, n]);
  let m = ue(() => ({ show: n, appear: r, initial: f }), [n, r, f]);
  G(() => {
    if (n)
      d("visible");
    else if (!cu(p))
      d("hidden");
    else {
      let S = i.current;
      if (!S)
        return;
      let w = S.getBoundingClientRect();
      w.x === 0 && w.y === 0 && w.width === 0 && w.height === 0 && d("hidden");
    }
  }, [n, p]);
  let b = { unmount: o }, y = se(() => {
    var S;
    f && g(!1), (S = e.beforeEnter) == null || S.call(e);
  }), v = se(() => {
    var S;
    f && g(!1), (S = e.beforeLeave) == null || S.call(e);
  });
  return B.createElement(lu.Provider, { value: p }, B.createElement(au.Provider, { value: m }, $e({ ourProps: { ...b, as: It, children: B.createElement(c0, { ref: a, ...b, ...s, beforeEnter: y, beforeLeave: v }) }, theirProps: {}, defaultTag: It, features: l0, visible: c === "visible", name: "Transition" })));
}
function n3(e, t) {
  let n = He(au) !== null, r = Go() !== null;
  return B.createElement(B.Fragment, null, !n && r ? B.createElement(Pp, { ref: t, ...e }) : B.createElement(c0, { ref: t, ...e }));
}
let Pp = Re(t3), c0 = Re(e3), r3 = Re(n3), Vr = Object.assign(Pp, { Child: r3, Root: Pp });
var Vh = function(t) {
  return t.reduce(function(n, r) {
    var o = r[0], s = r[1];
    return n[o] = s, n;
  }, {});
}, Dh = typeof window < "u" && window.document && window.document.createElement ? et.useLayoutEffect : et.useEffect, Cn = "top", er = "bottom", tr = "right", xn = "left", tg = "auto", el = [Cn, er, tr, xn], gi = "start", xa = "end", o3 = "clippingParents", u0 = "viewport", Bi = "popper", s3 = "reference", Hh = /* @__PURE__ */ el.reduce(function(e, t) {
  return e.concat([t + "-" + gi, t + "-" + xa]);
}, []), d0 = /* @__PURE__ */ [].concat(el, [tg]).reduce(function(e, t) {
  return e.concat([t, t + "-" + gi, t + "-" + xa]);
}, []), i3 = "beforeRead", a3 = "read", l3 = "afterRead", c3 = "beforeMain", u3 = "main", d3 = "afterMain", p3 = "beforeWrite", f3 = "write", g3 = "afterWrite", h3 = [i3, a3, l3, c3, u3, d3, p3, f3, g3];
function Br(e) {
  return e ? (e.nodeName || "").toLowerCase() : null;
}
function Vn(e) {
  if (e == null)
    return window;
  if (e.toString() !== "[object Window]") {
    var t = e.ownerDocument;
    return t && t.defaultView || window;
  }
  return e;
}
function Ts(e) {
  var t = Vn(e).Element;
  return e instanceof t || e instanceof Element;
}
function Xn(e) {
  var t = Vn(e).HTMLElement;
  return e instanceof t || e instanceof HTMLElement;
}
function ng(e) {
  if (typeof ShadowRoot > "u")
    return !1;
  var t = Vn(e).ShadowRoot;
  return e instanceof t || e instanceof ShadowRoot;
}
function m3(e) {
  var t = e.state;
  Object.keys(t.elements).forEach(function(n) {
    var r = t.styles[n] || {}, o = t.attributes[n] || {}, s = t.elements[n];
    !Xn(s) || !Br(s) || (Object.assign(s.style, r), Object.keys(o).forEach(function(i) {
      var a = o[i];
      a === !1 ? s.removeAttribute(i) : s.setAttribute(i, a === !0 ? "" : a);
    }));
  });
}
function b3(e) {
  var t = e.state, n = {
    popper: {
      position: t.options.strategy,
      left: "0",
      top: "0",
      margin: "0"
    },
    arrow: {
      position: "absolute"
    },
    reference: {}
  };
  return Object.assign(t.elements.popper.style, n.popper), t.styles = n, t.elements.arrow && Object.assign(t.elements.arrow.style, n.arrow), function() {
    Object.keys(t.elements).forEach(function(r) {
      var o = t.elements[r], s = t.attributes[r] || {}, i = Object.keys(t.styles.hasOwnProperty(r) ? t.styles[r] : n[r]), a = i.reduce(function(l, c) {
        return l[c] = "", l;
      }, {});
      !Xn(o) || !Br(o) || (Object.assign(o.style, a), Object.keys(s).forEach(function(l) {
        o.removeAttribute(l);
      }));
    });
  };
}
const v3 = {
  name: "applyStyles",
  enabled: !0,
  phase: "write",
  fn: m3,
  effect: b3,
  requires: ["computeStyles"]
};
function Dr(e) {
  return e.split("-")[0];
}
var ms = Math.max, Cc = Math.min, hi = Math.round;
function Ep() {
  var e = navigator.userAgentData;
  return e != null && e.brands && Array.isArray(e.brands) ? e.brands.map(function(t) {
    return t.brand + "/" + t.version;
  }).join(" ") : navigator.userAgent;
}
function p0() {
  return !/^((?!chrome|android).)*safari/i.test(Ep());
}
function mi(e, t, n) {
  t === void 0 && (t = !1), n === void 0 && (n = !1);
  var r = e.getBoundingClientRect(), o = 1, s = 1;
  t && Xn(e) && (o = e.offsetWidth > 0 && hi(r.width) / e.offsetWidth || 1, s = e.offsetHeight > 0 && hi(r.height) / e.offsetHeight || 1);
  var i = Ts(e) ? Vn(e) : window, a = i.visualViewport, l = !p0() && n, c = (r.left + (l && a ? a.offsetLeft : 0)) / o, d = (r.top + (l && a ? a.offsetTop : 0)) / s, p = r.width / o, f = r.height / s;
  return {
    width: p,
    height: f,
    top: d,
    right: c + p,
    bottom: d + f,
    left: c,
    x: c,
    y: d
  };
}
function rg(e) {
  var t = mi(e), n = e.offsetWidth, r = e.offsetHeight;
  return Math.abs(t.width - n) <= 1 && (n = t.width), Math.abs(t.height - r) <= 1 && (r = t.height), {
    x: e.offsetLeft,
    y: e.offsetTop,
    width: n,
    height: r
  };
}
function f0(e, t) {
  var n = t.getRootNode && t.getRootNode();
  if (e.contains(t))
    return !0;
  if (n && ng(n)) {
    var r = t;
    do {
      if (r && e.isSameNode(r))
        return !0;
      r = r.parentNode || r.host;
    } while (r);
  }
  return !1;
}
function po(e) {
  return Vn(e).getComputedStyle(e);
}
function y3(e) {
  return ["table", "td", "th"].indexOf(Br(e)) >= 0;
}
function Ko(e) {
  return ((Ts(e) ? e.ownerDocument : (
    // $FlowFixMe[prop-missing]
    e.document
  )) || window.document).documentElement;
}
function uu(e) {
  return Br(e) === "html" ? e : (
    // this is a quicker (but less type safe) way to save quite some bytes from the bundle
    // $FlowFixMe[incompatible-return]
    // $FlowFixMe[prop-missing]
    e.assignedSlot || // step into the shadow DOM of the parent of a slotted node
    e.parentNode || // DOM Element detected
    (ng(e) ? e.host : null) || // ShadowRoot detected
    // $FlowFixMe[incompatible-call]: HTMLElement is a Node
    Ko(e)
  );
}
function Bh(e) {
  return !Xn(e) || // https://github.com/popperjs/popper-core/issues/837
  po(e).position === "fixed" ? null : e.offsetParent;
}
function w3(e) {
  var t = /firefox/i.test(Ep()), n = /Trident/i.test(Ep());
  if (n && Xn(e)) {
    var r = po(e);
    if (r.position === "fixed")
      return null;
  }
  var o = uu(e);
  for (ng(o) && (o = o.host); Xn(o) && ["html", "body"].indexOf(Br(o)) < 0; ) {
    var s = po(o);
    if (s.transform !== "none" || s.perspective !== "none" || s.contain === "paint" || ["transform", "perspective"].indexOf(s.willChange) !== -1 || t && s.willChange === "filter" || t && s.filter && s.filter !== "none")
      return o;
    o = o.parentNode;
  }
  return null;
}
function tl(e) {
  for (var t = Vn(e), n = Bh(e); n && y3(n) && po(n).position === "static"; )
    n = Bh(n);
  return n && (Br(n) === "html" || Br(n) === "body" && po(n).position === "static") ? t : n || w3(e) || t;
}
function og(e) {
  return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y";
}
function ta(e, t, n) {
  return ms(e, Cc(t, n));
}
function S3(e, t, n) {
  var r = ta(e, t, n);
  return r > n ? n : r;
}
function g0() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}
function h0(e) {
  return Object.assign({}, g0(), e);
}
function m0(e, t) {
  return t.reduce(function(n, r) {
    return n[r] = e, n;
  }, {});
}
var C3 = function(t, n) {
  return t = typeof t == "function" ? t(Object.assign({}, n.rects, {
    placement: n.placement
  })) : t, h0(typeof t != "number" ? t : m0(t, el));
};
function x3(e) {
  var t, n = e.state, r = e.name, o = e.options, s = n.elements.arrow, i = n.modifiersData.popperOffsets, a = Dr(n.placement), l = og(a), c = [xn, tr].indexOf(a) >= 0, d = c ? "height" : "width";
  if (!(!s || !i)) {
    var p = C3(o.padding, n), f = rg(s), g = l === "y" ? Cn : xn, h = l === "y" ? er : tr, m = n.rects.reference[d] + n.rects.reference[l] - i[l] - n.rects.popper[d], b = i[l] - n.rects.reference[l], y = tl(s), v = y ? l === "y" ? y.clientHeight || 0 : y.clientWidth || 0 : 0, S = m / 2 - b / 2, w = p[g], C = v - f[d] - p[h], x = v / 2 - f[d] / 2 + S, E = ta(w, x, C), O = l;
    n.modifiersData[r] = (t = {}, t[O] = E, t.centerOffset = E - x, t);
  }
}
function P3(e) {
  var t = e.state, n = e.options, r = n.element, o = r === void 0 ? "[data-popper-arrow]" : r;
  o != null && (typeof o == "string" && (o = t.elements.popper.querySelector(o), !o) || f0(t.elements.popper, o) && (t.elements.arrow = o));
}
const E3 = {
  name: "arrow",
  enabled: !0,
  phase: "main",
  fn: x3,
  effect: P3,
  requires: ["popperOffsets"],
  requiresIfExists: ["preventOverflow"]
};
function bi(e) {
  return e.split("-")[1];
}
var T3 = {
  top: "auto",
  right: "auto",
  bottom: "auto",
  left: "auto"
};
function O3(e, t) {
  var n = e.x, r = e.y, o = t.devicePixelRatio || 1;
  return {
    x: hi(n * o) / o || 0,
    y: hi(r * o) / o || 0
  };
}
function Fh(e) {
  var t, n = e.popper, r = e.popperRect, o = e.placement, s = e.variation, i = e.offsets, a = e.position, l = e.gpuAcceleration, c = e.adaptive, d = e.roundOffsets, p = e.isFixed, f = i.x, g = f === void 0 ? 0 : f, h = i.y, m = h === void 0 ? 0 : h, b = typeof d == "function" ? d({
    x: g,
    y: m
  }) : {
    x: g,
    y: m
  };
  g = b.x, m = b.y;
  var y = i.hasOwnProperty("x"), v = i.hasOwnProperty("y"), S = xn, w = Cn, C = window;
  if (c) {
    var x = tl(n), E = "clientHeight", O = "clientWidth";
    if (x === Vn(n) && (x = Ko(n), po(x).position !== "static" && a === "absolute" && (E = "scrollHeight", O = "scrollWidth")), x = x, o === Cn || (o === xn || o === tr) && s === xa) {
      w = er;
      var T = p && x === C && C.visualViewport ? C.visualViewport.height : (
        // $FlowFixMe[prop-missing]
        x[E]
      );
      m -= T - r.height, m *= l ? 1 : -1;
    }
    if (o === xn || (o === Cn || o === er) && s === xa) {
      S = tr;
      var P = p && x === C && C.visualViewport ? C.visualViewport.width : (
        // $FlowFixMe[prop-missing]
        x[O]
      );
      g -= P - r.width, g *= l ? 1 : -1;
    }
  }
  var A = Object.assign({
    position: a
  }, c && T3), _ = d === !0 ? O3({
    x: g,
    y: m
  }, Vn(n)) : {
    x: g,
    y: m
  };
  if (g = _.x, m = _.y, l) {
    var M;
    return Object.assign({}, A, (M = {}, M[w] = v ? "0" : "", M[S] = y ? "0" : "", M.transform = (C.devicePixelRatio || 1) <= 1 ? "translate(" + g + "px, " + m + "px)" : "translate3d(" + g + "px, " + m + "px, 0)", M));
  }
  return Object.assign({}, A, (t = {}, t[w] = v ? m + "px" : "", t[S] = y ? g + "px" : "", t.transform = "", t));
}
function _3(e) {
  var t = e.state, n = e.options, r = n.gpuAcceleration, o = r === void 0 ? !0 : r, s = n.adaptive, i = s === void 0 ? !0 : s, a = n.roundOffsets, l = a === void 0 ? !0 : a, c = {
    placement: Dr(t.placement),
    variation: bi(t.placement),
    popper: t.elements.popper,
    popperRect: t.rects.popper,
    gpuAcceleration: o,
    isFixed: t.options.strategy === "fixed"
  };
  t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, Fh(Object.assign({}, c, {
    offsets: t.modifiersData.popperOffsets,
    position: t.options.strategy,
    adaptive: i,
    roundOffsets: l
  })))), t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, Fh(Object.assign({}, c, {
    offsets: t.modifiersData.arrow,
    position: "absolute",
    adaptive: !1,
    roundOffsets: l
  })))), t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-placement": t.placement
  });
}
const A3 = {
  name: "computeStyles",
  enabled: !0,
  phase: "beforeWrite",
  fn: _3,
  data: {}
};
var Pl = {
  passive: !0
};
function L3(e) {
  var t = e.state, n = e.instance, r = e.options, o = r.scroll, s = o === void 0 ? !0 : o, i = r.resize, a = i === void 0 ? !0 : i, l = Vn(t.elements.popper), c = [].concat(t.scrollParents.reference, t.scrollParents.popper);
  return s && c.forEach(function(d) {
    d.addEventListener("scroll", n.update, Pl);
  }), a && l.addEventListener("resize", n.update, Pl), function() {
    s && c.forEach(function(d) {
      d.removeEventListener("scroll", n.update, Pl);
    }), a && l.removeEventListener("resize", n.update, Pl);
  };
}
const N3 = {
  name: "eventListeners",
  enabled: !0,
  phase: "write",
  fn: function() {
  },
  effect: L3,
  data: {}
};
var k3 = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function ac(e) {
  return e.replace(/left|right|bottom|top/g, function(t) {
    return k3[t];
  });
}
var M3 = {
  start: "end",
  end: "start"
};
function zh(e) {
  return e.replace(/start|end/g, function(t) {
    return M3[t];
  });
}
function sg(e) {
  var t = Vn(e), n = t.pageXOffset, r = t.pageYOffset;
  return {
    scrollLeft: n,
    scrollTop: r
  };
}
function ig(e) {
  return mi(Ko(e)).left + sg(e).scrollLeft;
}
function $3(e, t) {
  var n = Vn(e), r = Ko(e), o = n.visualViewport, s = r.clientWidth, i = r.clientHeight, a = 0, l = 0;
  if (o) {
    s = o.width, i = o.height;
    var c = p0();
    (c || !c && t === "fixed") && (a = o.offsetLeft, l = o.offsetTop);
  }
  return {
    width: s,
    height: i,
    x: a + ig(e),
    y: l
  };
}
function R3(e) {
  var t, n = Ko(e), r = sg(e), o = (t = e.ownerDocument) == null ? void 0 : t.body, s = ms(n.scrollWidth, n.clientWidth, o ? o.scrollWidth : 0, o ? o.clientWidth : 0), i = ms(n.scrollHeight, n.clientHeight, o ? o.scrollHeight : 0, o ? o.clientHeight : 0), a = -r.scrollLeft + ig(e), l = -r.scrollTop;
  return po(o || n).direction === "rtl" && (a += ms(n.clientWidth, o ? o.clientWidth : 0) - s), {
    width: s,
    height: i,
    x: a,
    y: l
  };
}
function ag(e) {
  var t = po(e), n = t.overflow, r = t.overflowX, o = t.overflowY;
  return /auto|scroll|overlay|hidden/.test(n + o + r);
}
function b0(e) {
  return ["html", "body", "#document"].indexOf(Br(e)) >= 0 ? e.ownerDocument.body : Xn(e) && ag(e) ? e : b0(uu(e));
}
function na(e, t) {
  var n;
  t === void 0 && (t = []);
  var r = b0(e), o = r === ((n = e.ownerDocument) == null ? void 0 : n.body), s = Vn(r), i = o ? [s].concat(s.visualViewport || [], ag(r) ? r : []) : r, a = t.concat(i);
  return o ? a : (
    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here
    a.concat(na(uu(i)))
  );
}
function Tp(e) {
  return Object.assign({}, e, {
    left: e.x,
    top: e.y,
    right: e.x + e.width,
    bottom: e.y + e.height
  });
}
function I3(e, t) {
  var n = mi(e, !1, t === "fixed");
  return n.top = n.top + e.clientTop, n.left = n.left + e.clientLeft, n.bottom = n.top + e.clientHeight, n.right = n.left + e.clientWidth, n.width = e.clientWidth, n.height = e.clientHeight, n.x = n.left, n.y = n.top, n;
}
function Uh(e, t, n) {
  return t === u0 ? Tp($3(e, n)) : Ts(t) ? I3(t, n) : Tp(R3(Ko(e)));
}
function j3(e) {
  var t = na(uu(e)), n = ["absolute", "fixed"].indexOf(po(e).position) >= 0, r = n && Xn(e) ? tl(e) : e;
  return Ts(r) ? t.filter(function(o) {
    return Ts(o) && f0(o, r) && Br(o) !== "body";
  }) : [];
}
function V3(e, t, n, r) {
  var o = t === "clippingParents" ? j3(e) : [].concat(t), s = [].concat(o, [n]), i = s[0], a = s.reduce(function(l, c) {
    var d = Uh(e, c, r);
    return l.top = ms(d.top, l.top), l.right = Cc(d.right, l.right), l.bottom = Cc(d.bottom, l.bottom), l.left = ms(d.left, l.left), l;
  }, Uh(e, i, r));
  return a.width = a.right - a.left, a.height = a.bottom - a.top, a.x = a.left, a.y = a.top, a;
}
function v0(e) {
  var t = e.reference, n = e.element, r = e.placement, o = r ? Dr(r) : null, s = r ? bi(r) : null, i = t.x + t.width / 2 - n.width / 2, a = t.y + t.height / 2 - n.height / 2, l;
  switch (o) {
    case Cn:
      l = {
        x: i,
        y: t.y - n.height
      };
      break;
    case er:
      l = {
        x: i,
        y: t.y + t.height
      };
      break;
    case tr:
      l = {
        x: t.x + t.width,
        y: a
      };
      break;
    case xn:
      l = {
        x: t.x - n.width,
        y: a
      };
      break;
    default:
      l = {
        x: t.x,
        y: t.y
      };
  }
  var c = o ? og(o) : null;
  if (c != null) {
    var d = c === "y" ? "height" : "width";
    switch (s) {
      case gi:
        l[c] = l[c] - (t[d] / 2 - n[d] / 2);
        break;
      case xa:
        l[c] = l[c] + (t[d] / 2 - n[d] / 2);
        break;
    }
  }
  return l;
}
function Pa(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, o = r === void 0 ? e.placement : r, s = n.strategy, i = s === void 0 ? e.strategy : s, a = n.boundary, l = a === void 0 ? o3 : a, c = n.rootBoundary, d = c === void 0 ? u0 : c, p = n.elementContext, f = p === void 0 ? Bi : p, g = n.altBoundary, h = g === void 0 ? !1 : g, m = n.padding, b = m === void 0 ? 0 : m, y = h0(typeof b != "number" ? b : m0(b, el)), v = f === Bi ? s3 : Bi, S = e.rects.popper, w = e.elements[h ? v : f], C = V3(Ts(w) ? w : w.contextElement || Ko(e.elements.popper), l, d, i), x = mi(e.elements.reference), E = v0({
    reference: x,
    element: S,
    strategy: "absolute",
    placement: o
  }), O = Tp(Object.assign({}, S, E)), T = f === Bi ? O : x, P = {
    top: C.top - T.top + y.top,
    bottom: T.bottom - C.bottom + y.bottom,
    left: C.left - T.left + y.left,
    right: T.right - C.right + y.right
  }, A = e.modifiersData.offset;
  if (f === Bi && A) {
    var _ = A[o];
    Object.keys(P).forEach(function(M) {
      var V = [tr, er].indexOf(M) >= 0 ? 1 : -1, N = [Cn, er].indexOf(M) >= 0 ? "y" : "x";
      P[M] += _[N] * V;
    });
  }
  return P;
}
function D3(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, o = n.boundary, s = n.rootBoundary, i = n.padding, a = n.flipVariations, l = n.allowedAutoPlacements, c = l === void 0 ? d0 : l, d = bi(r), p = d ? a ? Hh : Hh.filter(function(h) {
    return bi(h) === d;
  }) : el, f = p.filter(function(h) {
    return c.indexOf(h) >= 0;
  });
  f.length === 0 && (f = p);
  var g = f.reduce(function(h, m) {
    return h[m] = Pa(e, {
      placement: m,
      boundary: o,
      rootBoundary: s,
      padding: i
    })[Dr(m)], h;
  }, {});
  return Object.keys(g).sort(function(h, m) {
    return g[h] - g[m];
  });
}
function H3(e) {
  if (Dr(e) === tg)
    return [];
  var t = ac(e);
  return [zh(e), t, zh(t)];
}
function B3(e) {
  var t = e.state, n = e.options, r = e.name;
  if (!t.modifiersData[r]._skip) {
    for (var o = n.mainAxis, s = o === void 0 ? !0 : o, i = n.altAxis, a = i === void 0 ? !0 : i, l = n.fallbackPlacements, c = n.padding, d = n.boundary, p = n.rootBoundary, f = n.altBoundary, g = n.flipVariations, h = g === void 0 ? !0 : g, m = n.allowedAutoPlacements, b = t.options.placement, y = Dr(b), v = y === b, S = l || (v || !h ? [ac(b)] : H3(b)), w = [b].concat(S).reduce(function(Q, re) {
      return Q.concat(Dr(re) === tg ? D3(t, {
        placement: re,
        boundary: d,
        rootBoundary: p,
        padding: c,
        flipVariations: h,
        allowedAutoPlacements: m
      }) : re);
    }, []), C = t.rects.reference, x = t.rects.popper, E = /* @__PURE__ */ new Map(), O = !0, T = w[0], P = 0; P < w.length; P++) {
      var A = w[P], _ = Dr(A), M = bi(A) === gi, V = [Cn, er].indexOf(_) >= 0, N = V ? "width" : "height", H = Pa(t, {
        placement: A,
        boundary: d,
        rootBoundary: p,
        altBoundary: f,
        padding: c
      }), K = V ? M ? tr : xn : M ? er : Cn;
      C[N] > x[N] && (K = ac(K));
      var z = ac(K), $ = [];
      if (s && $.push(H[_] <= 0), a && $.push(H[K] <= 0, H[z] <= 0), $.every(function(Q) {
        return Q;
      })) {
        T = A, O = !1;
        break;
      }
      E.set(A, $);
    }
    if (O)
      for (var D = h ? 3 : 1, I = function(re) {
        var ie = w.find(function(oe) {
          var X = E.get(oe);
          if (X)
            return X.slice(0, re).every(function(ee) {
              return ee;
            });
        });
        if (ie)
          return T = ie, "break";
      }, U = D; U > 0; U--) {
        var ne = I(U);
        if (ne === "break")
          break;
      }
    t.placement !== T && (t.modifiersData[r]._skip = !0, t.placement = T, t.reset = !0);
  }
}
const F3 = {
  name: "flip",
  enabled: !0,
  phase: "main",
  fn: B3,
  requiresIfExists: ["offset"],
  data: {
    _skip: !1
  }
};
function Wh(e, t, n) {
  return n === void 0 && (n = {
    x: 0,
    y: 0
  }), {
    top: e.top - t.height - n.y,
    right: e.right - t.width + n.x,
    bottom: e.bottom - t.height + n.y,
    left: e.left - t.width - n.x
  };
}
function Gh(e) {
  return [Cn, tr, er, xn].some(function(t) {
    return e[t] >= 0;
  });
}
function z3(e) {
  var t = e.state, n = e.name, r = t.rects.reference, o = t.rects.popper, s = t.modifiersData.preventOverflow, i = Pa(t, {
    elementContext: "reference"
  }), a = Pa(t, {
    altBoundary: !0
  }), l = Wh(i, r), c = Wh(a, o, s), d = Gh(l), p = Gh(c);
  t.modifiersData[n] = {
    referenceClippingOffsets: l,
    popperEscapeOffsets: c,
    isReferenceHidden: d,
    hasPopperEscaped: p
  }, t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-reference-hidden": d,
    "data-popper-escaped": p
  });
}
const U3 = {
  name: "hide",
  enabled: !0,
  phase: "main",
  requiresIfExists: ["preventOverflow"],
  fn: z3
};
function W3(e, t, n) {
  var r = Dr(e), o = [xn, Cn].indexOf(r) >= 0 ? -1 : 1, s = typeof n == "function" ? n(Object.assign({}, t, {
    placement: e
  })) : n, i = s[0], a = s[1];
  return i = i || 0, a = (a || 0) * o, [xn, tr].indexOf(r) >= 0 ? {
    x: a,
    y: i
  } : {
    x: i,
    y: a
  };
}
function G3(e) {
  var t = e.state, n = e.options, r = e.name, o = n.offset, s = o === void 0 ? [0, 0] : o, i = d0.reduce(function(d, p) {
    return d[p] = W3(p, t.rects, s), d;
  }, {}), a = i[t.placement], l = a.x, c = a.y;
  t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += l, t.modifiersData.popperOffsets.y += c), t.modifiersData[r] = i;
}
const K3 = {
  name: "offset",
  enabled: !0,
  phase: "main",
  requires: ["popperOffsets"],
  fn: G3
};
function q3(e) {
  var t = e.state, n = e.name;
  t.modifiersData[n] = v0({
    reference: t.rects.reference,
    element: t.rects.popper,
    strategy: "absolute",
    placement: t.placement
  });
}
const Y3 = {
  name: "popperOffsets",
  enabled: !0,
  phase: "read",
  fn: q3,
  data: {}
};
function Z3(e) {
  return e === "x" ? "y" : "x";
}
function X3(e) {
  var t = e.state, n = e.options, r = e.name, o = n.mainAxis, s = o === void 0 ? !0 : o, i = n.altAxis, a = i === void 0 ? !1 : i, l = n.boundary, c = n.rootBoundary, d = n.altBoundary, p = n.padding, f = n.tether, g = f === void 0 ? !0 : f, h = n.tetherOffset, m = h === void 0 ? 0 : h, b = Pa(t, {
    boundary: l,
    rootBoundary: c,
    padding: p,
    altBoundary: d
  }), y = Dr(t.placement), v = bi(t.placement), S = !v, w = og(y), C = Z3(w), x = t.modifiersData.popperOffsets, E = t.rects.reference, O = t.rects.popper, T = typeof m == "function" ? m(Object.assign({}, t.rects, {
    placement: t.placement
  })) : m, P = typeof T == "number" ? {
    mainAxis: T,
    altAxis: T
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, T), A = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null, _ = {
    x: 0,
    y: 0
  };
  if (x) {
    if (s) {
      var M, V = w === "y" ? Cn : xn, N = w === "y" ? er : tr, H = w === "y" ? "height" : "width", K = x[w], z = K + b[V], $ = K - b[N], D = g ? -O[H] / 2 : 0, I = v === gi ? E[H] : O[H], U = v === gi ? -O[H] : -E[H], ne = t.elements.arrow, Q = g && ne ? rg(ne) : {
        width: 0,
        height: 0
      }, re = t.modifiersData["arrow#persistent"] ? t.modifiersData["arrow#persistent"].padding : g0(), ie = re[V], oe = re[N], X = ta(0, E[H], Q[H]), ee = S ? E[H] / 2 - D - X - ie - P.mainAxis : I - X - ie - P.mainAxis, de = S ? -E[H] / 2 + D + X + oe + P.mainAxis : U + X + oe + P.mainAxis, me = t.elements.arrow && tl(t.elements.arrow), Ee = me ? w === "y" ? me.clientTop || 0 : me.clientLeft || 0 : 0, Se = (M = A == null ? void 0 : A[w]) != null ? M : 0, Fe = K + ee - Se - Ee, tt = K + de - Se, xt = ta(g ? Cc(z, Fe) : z, K, g ? ms($, tt) : $);
      x[w] = xt, _[w] = xt - K;
    }
    if (a) {
      var ft, Ge = w === "x" ? Cn : xn, zt = w === "x" ? er : tr, gt = x[C], kt = C === "y" ? "height" : "width", Tt = gt + b[Ge], Pt = gt - b[zt], pt = [Cn, xn].indexOf(y) !== -1, ht = (ft = A == null ? void 0 : A[C]) != null ? ft : 0, Zt = pt ? Tt : gt - E[kt] - O[kt] - ht + P.altAxis, ve = pt ? gt + E[kt] + O[kt] - ht - P.altAxis : Pt, ze = g && pt ? S3(Zt, gt, ve) : ta(g ? Zt : Tt, gt, g ? ve : Pt);
      x[C] = ze, _[C] = ze - gt;
    }
    t.modifiersData[r] = _;
  }
}
const J3 = {
  name: "preventOverflow",
  enabled: !0,
  phase: "main",
  fn: X3,
  requiresIfExists: ["offset"]
};
function Q3(e) {
  return {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  };
}
function eA(e) {
  return e === Vn(e) || !Xn(e) ? sg(e) : Q3(e);
}
function tA(e) {
  var t = e.getBoundingClientRect(), n = hi(t.width) / e.offsetWidth || 1, r = hi(t.height) / e.offsetHeight || 1;
  return n !== 1 || r !== 1;
}
function nA(e, t, n) {
  n === void 0 && (n = !1);
  var r = Xn(t), o = Xn(t) && tA(t), s = Ko(t), i = mi(e, o, n), a = {
    scrollLeft: 0,
    scrollTop: 0
  }, l = {
    x: 0,
    y: 0
  };
  return (r || !r && !n) && ((Br(t) !== "body" || // https://github.com/popperjs/popper-core/issues/1078
  ag(s)) && (a = eA(t)), Xn(t) ? (l = mi(t, !0), l.x += t.clientLeft, l.y += t.clientTop) : s && (l.x = ig(s))), {
    x: i.left + a.scrollLeft - l.x,
    y: i.top + a.scrollTop - l.y,
    width: i.width,
    height: i.height
  };
}
function rA(e) {
  var t = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Set(), r = [];
  e.forEach(function(s) {
    t.set(s.name, s);
  });
  function o(s) {
    n.add(s.name);
    var i = [].concat(s.requires || [], s.requiresIfExists || []);
    i.forEach(function(a) {
      if (!n.has(a)) {
        var l = t.get(a);
        l && o(l);
      }
    }), r.push(s);
  }
  return e.forEach(function(s) {
    n.has(s.name) || o(s);
  }), r;
}
function oA(e) {
  var t = rA(e);
  return h3.reduce(function(n, r) {
    return n.concat(t.filter(function(o) {
      return o.phase === r;
    }));
  }, []);
}
function sA(e) {
  var t;
  return function() {
    return t || (t = new Promise(function(n) {
      Promise.resolve().then(function() {
        t = void 0, n(e());
      });
    })), t;
  };
}
function iA(e) {
  var t = e.reduce(function(n, r) {
    var o = n[r.name];
    return n[r.name] = o ? Object.assign({}, o, r, {
      options: Object.assign({}, o.options, r.options),
      data: Object.assign({}, o.data, r.data)
    }) : r, n;
  }, {});
  return Object.keys(t).map(function(n) {
    return t[n];
  });
}
var Kh = {
  placement: "bottom",
  modifiers: [],
  strategy: "absolute"
};
function qh() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return !t.some(function(r) {
    return !(r && typeof r.getBoundingClientRect == "function");
  });
}
function aA(e) {
  e === void 0 && (e = {});
  var t = e, n = t.defaultModifiers, r = n === void 0 ? [] : n, o = t.defaultOptions, s = o === void 0 ? Kh : o;
  return function(a, l, c) {
    c === void 0 && (c = s);
    var d = {
      placement: "bottom",
      orderedModifiers: [],
      options: Object.assign({}, Kh, s),
      modifiersData: {},
      elements: {
        reference: a,
        popper: l
      },
      attributes: {},
      styles: {}
    }, p = [], f = !1, g = {
      state: d,
      setOptions: function(y) {
        var v = typeof y == "function" ? y(d.options) : y;
        m(), d.options = Object.assign({}, s, d.options, v), d.scrollParents = {
          reference: Ts(a) ? na(a) : a.contextElement ? na(a.contextElement) : [],
          popper: na(l)
        };
        var S = oA(iA([].concat(r, d.options.modifiers)));
        return d.orderedModifiers = S.filter(function(w) {
          return w.enabled;
        }), h(), g.update();
      },
      // Sync update  it will always be executed, even if not necessary. This
      // is useful for low frequency updates where sync behavior simplifies the
      // logic.
      // For high frequency updates (e.g. `resize` and `scroll` events), always
      // prefer the async Popper#update method
      forceUpdate: function() {
        if (!f) {
          var y = d.elements, v = y.reference, S = y.popper;
          if (qh(v, S)) {
            d.rects = {
              reference: nA(v, tl(S), d.options.strategy === "fixed"),
              popper: rg(S)
            }, d.reset = !1, d.placement = d.options.placement, d.orderedModifiers.forEach(function(P) {
              return d.modifiersData[P.name] = Object.assign({}, P.data);
            });
            for (var w = 0; w < d.orderedModifiers.length; w++) {
              if (d.reset === !0) {
                d.reset = !1, w = -1;
                continue;
              }
              var C = d.orderedModifiers[w], x = C.fn, E = C.options, O = E === void 0 ? {} : E, T = C.name;
              typeof x == "function" && (d = x({
                state: d,
                options: O,
                name: T,
                instance: g
              }) || d);
            }
          }
        }
      },
      // Async and optimistically optimized update  it will not be executed if
      // not necessary (debounced to run at most once-per-tick)
      update: sA(function() {
        return new Promise(function(b) {
          g.forceUpdate(), b(d);
        });
      }),
      destroy: function() {
        m(), f = !0;
      }
    };
    if (!qh(a, l))
      return g;
    g.setOptions(c).then(function(b) {
      !f && c.onFirstUpdate && c.onFirstUpdate(b);
    });
    function h() {
      d.orderedModifiers.forEach(function(b) {
        var y = b.name, v = b.options, S = v === void 0 ? {} : v, w = b.effect;
        if (typeof w == "function") {
          var C = w({
            state: d,
            name: y,
            instance: g,
            options: S
          }), x = function() {
          };
          p.push(C || x);
        }
      });
    }
    function m() {
      p.forEach(function(b) {
        return b();
      }), p = [];
    }
    return g;
  };
}
var lA = [N3, Y3, A3, v3, K3, F3, J3, E3, U3], cA = /* @__PURE__ */ aA({
  defaultModifiers: lA
}), uA = typeof Element < "u", dA = typeof Map == "function", pA = typeof Set == "function", fA = typeof ArrayBuffer == "function" && !!ArrayBuffer.isView;
function lc(e, t) {
  if (e === t)
    return !0;
  if (e && t && typeof e == "object" && typeof t == "object") {
    if (e.constructor !== t.constructor)
      return !1;
    var n, r, o;
    if (Array.isArray(e)) {
      if (n = e.length, n != t.length)
        return !1;
      for (r = n; r-- !== 0; )
        if (!lc(e[r], t[r]))
          return !1;
      return !0;
    }
    var s;
    if (dA && e instanceof Map && t instanceof Map) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!t.has(r.value[0]))
          return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!lc(r.value[1], t.get(r.value[0])))
          return !1;
      return !0;
    }
    if (pA && e instanceof Set && t instanceof Set) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!t.has(r.value[0]))
          return !1;
      return !0;
    }
    if (fA && ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) {
      if (n = e.length, n != t.length)
        return !1;
      for (r = n; r-- !== 0; )
        if (e[r] !== t[r])
          return !1;
      return !0;
    }
    if (e.constructor === RegExp)
      return e.source === t.source && e.flags === t.flags;
    if (e.valueOf !== Object.prototype.valueOf && typeof e.valueOf == "function" && typeof t.valueOf == "function")
      return e.valueOf() === t.valueOf();
    if (e.toString !== Object.prototype.toString && typeof e.toString == "function" && typeof t.toString == "function")
      return e.toString() === t.toString();
    if (o = Object.keys(e), n = o.length, n !== Object.keys(t).length)
      return !1;
    for (r = n; r-- !== 0; )
      if (!Object.prototype.hasOwnProperty.call(t, o[r]))
        return !1;
    if (uA && e instanceof Element)
      return !1;
    for (r = n; r-- !== 0; )
      if (!((o[r] === "_owner" || o[r] === "__v" || o[r] === "__o") && e.$$typeof) && !lc(e[o[r]], t[o[r]]))
        return !1;
    return !0;
  }
  return e !== e && t !== t;
}
var gA = function(t, n) {
  try {
    return lc(t, n);
  } catch (r) {
    if ((r.message || "").match(/stack|recursion/i))
      return console.warn("react-fast-compare cannot handle circular refs"), !1;
    throw r;
  }
};
const hA = /* @__PURE__ */ Cf(gA);
var mA = [], Ti = function(t, n, r) {
  r === void 0 && (r = {});
  var o = et.useRef(null), s = {
    onFirstUpdate: r.onFirstUpdate,
    placement: r.placement || "bottom",
    strategy: r.strategy || "absolute",
    modifiers: r.modifiers || mA
  }, i = et.useState({
    styles: {
      popper: {
        position: s.strategy,
        left: "0",
        top: "0"
      },
      arrow: {
        position: "absolute"
      }
    },
    attributes: {}
  }), a = i[0], l = i[1], c = et.useMemo(function() {
    return {
      name: "updateState",
      enabled: !0,
      phase: "write",
      fn: function(g) {
        var h = g.state, m = Object.keys(h.elements);
        VS.flushSync(function() {
          l({
            styles: Vh(m.map(function(b) {
              return [b, h.styles[b] || {}];
            })),
            attributes: Vh(m.map(function(b) {
              return [b, h.attributes[b]];
            }))
          });
        });
      },
      requires: ["computeStyles"]
    };
  }, []), d = et.useMemo(function() {
    var f = {
      onFirstUpdate: s.onFirstUpdate,
      placement: s.placement,
      strategy: s.strategy,
      modifiers: [].concat(s.modifiers, [c, {
        name: "applyStyles",
        enabled: !1
      }])
    };
    return hA(o.current, f) ? o.current || f : (o.current = f, f);
  }, [s.onFirstUpdate, s.placement, s.strategy, s.modifiers, c]), p = et.useRef();
  return Dh(function() {
    p.current && p.current.setOptions(d);
  }, [d]), Dh(function() {
    if (!(t == null || n == null)) {
      var f = r.createPopper || cA, g = f(t, n, d);
      return p.current = g, function() {
        g.destroy(), p.current = null;
      };
    }
  }, [t, n, r.createPopper]), {
    state: p.current ? p.current.state : null,
    styles: a.styles,
    attributes: a.attributes,
    update: p.current ? p.current.update : null,
    forceUpdate: p.current ? p.current.forceUpdate : null
  };
};
const Pn = Yt(function({
  children: t,
  title: n,
  onClose: r,
  icon: o,
  skipOverflow: s,
  shadow: i = !0,
  padding: a = !0,
  border: l = !0,
  round: c = !0,
  className: d,
  classNameBody: p,
  size: f = "m",
  titleClass: g = Y("gs-utl-mb-2 gs-utl-mt-0.5"),
  style: h,
  bg: m,
  ...b
}, y) {
  const v = gr(o) ? o : {};
  return /* @__PURE__ */ L(
    "div",
    {
      ...b,
      ref: y,
      style: h,
      className: Y([
        "gs-utl-card",
        d,
        m || Tf.bg,
        le.b,
        c && le.rnd,
        l ? F.br : le.bT,
        !s && "gs-utl-overflow-auto",
        i && "gs-utl-shadow-md",
        a && f === "l" && "gs-utl-p-5",
        a && f === "m" && "gs-utl-px-4 gs-utl-py-2",
        a && f === "s" && "gs-utl-px-2 gs-utl-py-1",
        a && f === "xs" && "gs-utl-px-2 gs-utl-py-0.5",
        a && f === "x2s" && "gs-utl-px-0.5"
      ]),
      children: [
        (n || r) && n !== !1 && /* @__PURE__ */ L(R, { className: Y("gs-utl-card-title", g), items: "center", children: [
          /* @__PURE__ */ u(j, { className: Y("truncate"), grow: !0, children: n }),
          (r || o) && /* @__PURE__ */ u(
            j,
            {
              onClick: r,
              className: Y("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),
              children: /* @__PURE__ */ u(ae, { icon: (ut(o) ? o : "") || Z.close, size: "18px", ...v })
            }
          )
        ] }),
        /* @__PURE__ */ u("div", { className: Y("gs-utl-card-body", p), children: t })
      ]
    }
  );
});
var lg = /* @__PURE__ */ ((e) => (e.canvas = "canvas", e.layers = "layers", e))(lg || {}), Po = /* @__PURE__ */ ((e) => (e.selectParent = "selectParent", e.duplicate = "duplicate", e.delete = "delete", e.symbolCreate = "symbolCreate", e.symbolDetach = "symbolDetach", e.symbolOverride = "symbolOverride", e.symbolOverrideClear = "symbolOverrideClear", e))(Po || {});
class bA {
  constructor(t) {
    this.isOpen = !1, this.isEnabled = !0, this.items = [], this.coordinates = { x: 0, y: 0 }, this.getItemsForComponent = xs(function* (n, r = {}) {
      var y;
      if (!(n != null && n.em))
        return [];
      const o = n.em.getEditor(), { isSymbol: s, isRoot: i } = o.Components.getSymbolInfo(n), a = !!n.getSymbolOverride(), l = !!n.get("removable"), c = !!n.parent() && !!n.toolbar.length, d = !!n.get("copyable"), p = [
        c && {
          id: Po.selectParent,
          icon: Z.arrowUp,
          label: "Select parent",
          onClick: () => {
            o.runCommand("core:component-exit", { force: !0 });
          }
        },
        d && {
          id: Po.duplicate,
          icon: Z.contentCopy,
          label: "Duplicate",
          onClick: () => {
            o.runCommand("tlb-clone");
          }
        },
        !s && l && {
          id: Po.symbolCreate,
          icon: Z.rhombusSplit,
          label: "Create Symbol",
          onClick: () => {
            o.runCommand(he.symbolAdd);
          }
        },
        s && i && {
          id: Po.symbolDetach,
          icon: Z.alertRhombus,
          label: "Detach instance",
          onClick: () => {
            o.runCommand(he.symbolDetach);
          }
        },
        s && !a && {
          id: Po.symbolOverride,
          icon: Z.rhombusOutline,
          label: "Make overridable",
          onClick: () => {
            o.runCommand(he.symbolOverride, { override: !0 });
          }
        },
        s && a && {
          id: Po.symbolOverrideClear,
          icon: Z.rhombusSplitOutline,
          label: "Clear overridable",
          onClick: () => {
            o.runCommand(he.symbolOverride);
          }
        },
        l && {
          id: Po.delete,
          icon: Z.delete,
          label: "Delete",
          onClick: () => {
            o.runCommand("core:component-delete");
          }
        }
      ].filter(Boolean), f = n.get("contextMenu"), g = {
        ...r,
        items: p,
        component: n,
        editor: o,
        type: n.get("type") || "default",
        source: r.source || lg.canvas
      }, h = yield Yh(f, g), m = (y = this.store.appEditorStore.sdkComponentsConfig) == null ? void 0 : y.contextMenu;
      return yield Yh(m, {
        ...g,
        items: h
      });
    }), this.store = t, hn(this, {}, { autoBind: !0 });
  }
  get publicState() {
    return {
      enabled: this.isEnabled
    };
  }
  setPublicState(t) {
    t.enabled !== void 0 && (this.isEnabled = t.enabled);
  }
  *showForComponent(t, n) {
    const r = t == null ? void 0 : t.em;
    if (!r)
      return;
    n.skipSelect || r.selected.hasComponent(t) || r.setSelected(t);
    const o = yield this.getItemsForComponent(t, n);
    o.length && this.show({ ...n, items: o });
  }
  show({ items: t, x: n, y: r, w: o, h: s }) {
    this.isOpen = !0, this.coordinates = { x: n, y: r, w: o, h: s }, this.items = t;
  }
  hide() {
    this.isOpen = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.items = [], this.coordinates = { x: 0, y: 0 };
  }
}
const Yh = async (e, t) => it(e) ? (await e(t)).filter(Boolean) : t.items, cg = () => tn().contextMenu;
function y0(e, t) {
  G(() => {
    const n = "pointerdown", { current: r } = e;
    if (!r || !t.enabled)
      return;
    function o(s) {
      const i = s.target;
      r && i && !r.contains(i) && t.onTrigger(i);
    }
    return document.addEventListener(n, o), () => {
      document.removeEventListener(n, o);
    };
  }, [e.current, t.enabled]);
}
const w0 = (e, t) => {
  const { boxRectScreen: n, vwHeight: r, initialPos: o = "top-right", zoomMultiplier: s = 1 } = t, i = o.split("-"), a = i[0], l = i[1], c = a === "top" ? "bottom" : "top", d = l === "right" ? "left" : "right";
  Fc(() => {
    const p = e.current;
    if (p) {
      const { offsetWidth: f, offsetHeight: g } = p, h = n.y - g, m = n.x + n.width - f, b = n.height + g > r, y = h < 0, v = y && !b ? c : a, S = m < 0 ? d : l;
      if (t.setPos(`${v}-${S}`), b) {
        const w = n.y + n.height, C = w < 0 ? h - w : h;
        p.style.top = y ? `${parseInt(`${-C}`) * s}px` : "";
      } else
        p.style.top = "";
    }
  }, [e.current, n]);
}, S0 = (e) => {
  const { ref: t, show: n, node: r, styles: o, update: s, reload: i } = e, a = {
    all: "initial",
    zIndex: "10",
    fontFamily: "inherit",
    ...o
  };
  G(() => {
    const l = t.current;
    if (l && n) {
      if (!l.__sh) {
        const p = l.attachShadow({ mode: "closed" });
        l.__sh = DS(p);
      }
      l.__sh.render(r), Object.keys(a).forEach((p) => {
        l.style.setProperty(ex(p), a[p], "important");
      });
      const c = new MutationObserver(i);
      c.observe(l, { attributeFilter: ["style"] });
      const d = new MutationObserver((p) => {
        Array.from(p[0].removedNodes).includes(l) && i();
      });
      return d.observe(l.parentNode, { childList: !0 }), () => {
        c.disconnect(), d.disconnect();
      };
    }
  }, [t.current, n, s]);
}, vA = "gs-cmp-popover";
function Ur({
  children: e,
  handler: t,
  title: n,
  size: r,
  padding: o = !0,
  border: s = !0,
  overlay: i,
  clickAway: a,
  topIcon: l,
  placement: c = "auto",
  offset: d,
  open: p,
  onClose: f,
  buttonAs: g,
  className: h,
  classNameBody: m,
  buttonProps: b = {},
  disabled: y,
  hideCloseButton: v
}) {
  const [S, w] = W(!!p), [C, x] = W(S), [E, O] = W(null), [T, P] = W(null), A = Ti(E, T, {
    ...pg({ offset: d }),
    placement: c
  }), _ = () => {
    x(!1), f == null || f();
  };
  y0(
    { current: T },
    {
      onTrigger: _,
      enabled: a && S
    }
  ), G(() => {
    x(!!p);
  }, [p]), G(() => {
    var N;
    S && ((N = A.update) == null || N.call(A));
  }, [S, A.update]), G(() => {
    const N = setTimeout(() => w(C), 10);
    return () => clearTimeout(N);
  }, [C]);
  const M = Y(
    "w-full transition-colors",
    y && "pointer-events-none",
    ..._v({ border: !1, size: "", ...b })
  ), V = Y([
    "fixed z-20",
    l && "gjs-mt-5",
    r === "s" && "w-full max-w-64",
    r === "sm" && "w-full max-w-sm",
    r === "md" && "w-full max-w-md"
  ]);
  return /* @__PURE__ */ L(ld, { className: Y(vA, "relative flex", h), children: [
    /* @__PURE__ */ u(ld.Button, { ref: O, as: g, className: M, children: /* @__PURE__ */ u(
      "div",
      {
        onClick: (N) => {
          Ps(N), !(Ft(p) || y) && x(!S);
        },
        children: t
      }
    ) }),
    S && i && /* @__PURE__ */ u("div", { onClick: _, className: Y("z-10 fixed inset-0") }),
    C && /* @__PURE__ */ u(
      ld.Panel,
      {
        static: !0,
        className: V,
        ref: P,
        style: A.styles.popper,
        ...A.attributes.popper,
        children: /* @__PURE__ */ u(Vr, { as: It, show: S, unmount: !1, ...Ef, children: /* @__PURE__ */ u(
          Pn,
          {
            classNameBody: m,
            title: n,
            onClose: v ? void 0 : _,
            padding: o,
            border: s,
            children: typeof e == "function" ? e({ close: _, open: S }) : e
          }
        ) })
      }
    )
  ] });
}
function nl(e) {
  const { action: t, icon: n, label: r, className: o, items: s, onItemClick: i, ...a } = e, l = q(null), [c, d] = W(), p = l.current, f = k([
    o,
    "gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",
    F.br,
    Ve.xy,
    le.bb,
    a.disabled && De.disabled,
    ...t ? [F.hBgH, "gs-utl-cursor-pointer"] : ["gs-utl-cursor-default"]
  ]), g = (m) => {
    it(t) && (t({ event: m }), i == null || i({ event: m, item: e }));
  };
  return G(() => {
    if (!p)
      return;
    const m = setTimeout(() => d(p.getBoundingClientRect()), a.active ? 0 : Pf);
    return () => clearTimeout(m);
  }, [p, a.active]), /* @__PURE__ */ L(R, { ref: l, items: "center", nowrap: !0, className: f, onClick: g, onPointerEnter: () => {
    var m;
    return (m = a.onActive) == null ? void 0 : m.call(a);
  }, children: [
    n && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: n, size: fe.sx }) }),
    /* @__PURE__ */ u(j, { className: k(a.classNameLabel, De.txtEllips), grow: !0, children: r }),
    !!(s != null && s.length) && /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: Z.chevronRight, size: fe.s, className: "-gs-utl-mr-2" }) }),
      c && a.active && /* @__PURE__ */ u(
        _0,
        {
          items: s,
          x: c.left,
          y: c.top,
          w: c.width,
          h: c.height,
          onItemClick: i,
          open: !0
        }
      )
    ] })
  ] });
}
function jo({
  className: e,
  as: t = "label",
  bold: n,
  m: r = "gjs-mb-1",
  size: o = "m",
  capitalize: s = !0,
  children: i,
  tip: a,
  onClear: l,
  ...c
}) {
  const d = t, p = !!l;
  return (
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    /* @__PURE__ */ L(
      d,
      {
        className: k(
          e,
          r,
          p && F.tAo,
          s && "gs-utl-capitalize",
          n && "gs-utl-font-semibold",
          o === "s" && "gs-utl-text-sm",
          a || p ? "gs-utl-flex gs-utl-gap-2 gs-utl-items-center" : "gs-utl-block"
        ),
        ...p && { htmlFor: "" },
        ...c,
        children: [
          !!a && /* @__PURE__ */ u(
            Kt,
            {
              classNameWrp: "gs-utl-normal-case gs-utl-whitespace-normal",
              classNameContent: "gs-utl-max-w-60",
              title: a,
              children: /* @__PURE__ */ u(ae, { icon: Z.information, size: fe.s2x })
            }
          ),
          i,
          p && /* @__PURE__ */ u(
            _t,
            {
              title: "Clear value",
              onClick: l,
              icon: { icon: Z.close, size: fe.s2x },
              variant: "out-clear",
              border: !1,
              size: "",
              block: !0
            }
          )
        ]
      }
    )
  );
}
var C0 = /* @__PURE__ */ ((e) => (e.primary = "primary", e.secondary = "secondary", e.outline = "outline", e.shallow = "shallow", e))(C0 || {}), x0 = /* @__PURE__ */ ((e) => (e.none = "", e.x2s = "x2s", e.xs = "xs", e.s = "s", e.m = "m", e.lg = "lg", e))(x0 || {});
const yA = "gs-cmp-button", du = Pe(
  ce(function({
    classNameBtn: t,
    className: n,
    children: r,
    tooltip: o,
    variant: s,
    onClick: i,
    editorEvents: a,
    label: l,
    size: c,
    icon: d,
    active: p,
    buttonType: f,
    disabled: g,
    ...h
  }) {
    const { editor: m } = we(), [b, y] = W(() => ({
      disabled: g,
      variant: s,
      active: p,
      className: n,
      classNameBtn: t,
      tooltip: o,
      icon: d,
      size: c,
      label: l
    })), v = b.variant, S = v === "outline", w = v === "secondary", C = v === "primary" ? "pr" : S || w ? "out-clear" : void 0, x = b.label, E = (T) => {
      m && (i == null || i({ event: T, editor: m, state: b, setState: (P) => y((A) => ({ ...A, ...P })) }));
    };
    G(() => {
      if (!a || !m)
        return;
      const T = Object.keys(a).reduce(
        (A, _) => (A[_] = (M = {}) => {
          a[_]({
            fromEvent: M,
            editor: m,
            state: b,
            setState: (V) => y((N) => ({ ...N, ...V }))
          });
        }, A),
        {}
      ), P = Object.keys(T);
      return P.forEach((A) => m.on(A, T[A])), () => {
        P.forEach((A) => m.off(A, T[A]));
      };
    }, [m, b]);
    const O = b.tooltip;
    return /* @__PURE__ */ u(
      _t,
      {
        className: k(yA, b.classNameBtn),
        classNameWrp: b.className,
        variant: C,
        icon: b.icon,
        active: b.active,
        size: b.size,
        disabled: b.disabled,
        onClick: E,
        border: S || w,
        type: f,
        withBg: w,
        block: !0,
        ...ut(O) ? { title: O } : { tooltipProps: O },
        ...h,
        children: x ? it(x) ? x({ editor: m }) : x : r
      }
    );
  })
);
var pu = /* @__PURE__ */ ((e) => (e.m = "m", e.s = "s", e))(pu || {});
const P0 = "gs-input-field", xc = (e) => Ft(e) ? e : "", rl = (e = {}) => k("gs-utl-w-full", F.bgTr, di.inputText, e.disabled && F.txtLowEmphasis), ug = ({ size: e = "m" } = {}) => k(
  "gs-input-container gs-utl-w-full",
  F.bg,
  le.b,
  le.rnd,
  F.br,
  e === "m" && Ve.xy,
  e === "s" && "gs-utl-px-3 gs-utl-py-1"
), qo = ({
  className: e,
  style: t,
  row: n
}) => ({
  className: k(
    e,
    "gs-utl-w-full gs-utl-flex",
    n ? `${P0}--row gs-utl-gap-2 gs-utl-items-center` : "gs-utl-flex-col gs-utl-gap-1"
  ),
  style: t
}), mr = (e) => {
  const {
    as: t,
    size: n = "m",
    label: r,
    description: o,
    hasClear: s,
    onChange: i,
    tip: a,
    row: l,
    afterLabel: c,
    afterLabelButtons: d
  } = e, p = !!r, f = !!o, g = s != null && s(e) ? () => i == null ? void 0 : i("") : void 0;
  if (!p && !(d != null && d.length) && !f)
    return null;
  const h = /* @__PURE__ */ u(pe, { children: p && /* @__PURE__ */ u(
    jo,
    {
      as: t,
      className: "gs-utl-w-full",
      size: n,
      tip: f ? void 0 : a,
      onClear: g,
      m: "",
      children: r
    }
  ) }), m = c || d != null && d.length ? /* @__PURE__ */ L(R, { gap: "s", items: "center", nowrap: !0, children: [
    c,
    d == null ? void 0 : d.map((b, y) => /* @__PURE__ */ u(du, { ...b }, b.id ?? y))
  ] }) : null;
  return /* @__PURE__ */ L(R, { className: k("gs-label-field-container", l && "gs-utl-whitespace-nowrap"), col: !0, children: [
    m ? /* @__PURE__ */ L(R, { gap: "s", items: "center", nowrap: !0, children: [
      h,
      m
    ] }) : h,
    f && /* @__PURE__ */ u(jo, { size: n, tip: a, as: "span", className: k(F.txtLowEmphasis), capitalize: !1, children: o })
  ] });
}, at = Yt(function(t, n) {
  const {
    className: r,
    value: o,
    type: s,
    placeholder: i,
    required: a,
    disabled: l,
    readOnly: c,
    name: d,
    autoFocus: p,
    onInput: f,
    onChange: g,
    onBlur: h,
    onKeyDown: m,
    labelAs: b
  } = t, [y, v] = W(xc(o)), S = rl(t), w = q(null);
  zc(n, () => w.current, []), G(() => {
    v(xc(o));
  }, [o]), G(() => {
    const P = w.current;
    if (P && p) {
      const A = P.querySelector("input"), _ = setTimeout(() => A == null ? void 0 : A.focus(), Pf);
      return () => clearTimeout(_);
    }
  }, [w.current, p]);
  const C = (P, A) => {
    g == null || g(P, A);
  }, x = (P) => {
    const { key: A } = P;
    switch (m == null || m(P), A) {
      case "Escape":
        return v(o);
      case "Enter":
        return C(y);
    }
  }, E = () => {
    C(y), h == null || h();
  }, O = (P) => {
    const A = P.target.value;
    v(A), f == null || f(A);
  }, T = qo({ ...t, className: k(P0, r) });
  return /* @__PURE__ */ L("div", { ...T, ref: w, children: [
    /* @__PURE__ */ u(mr, { ...t, as: b }),
    /* @__PURE__ */ L(R, { className: ug(t), items: "center", gap: "x2s", children: [
      t.beforeInput,
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
        "input",
        {
          className: S,
          name: d,
          value: y,
          onChange: O,
          placeholder: i,
          required: a,
          onBlur: E,
          onKeyDown: x,
          readOnly: c,
          disabled: l,
          type: s,
          maxLength: t.maxLength
        }
      ) }),
      t.afterInput
    ] })
  ] });
}), wA = (e, t) => e.filter((n) => n.id === t)[0] || null, E0 = (e, t) => (e == null ? void 0 : e.id) === (t == null ? void 0 : t.id), SA = (e, t) => e.label.toLowerCase().indexOf(t.toLowerCase()) >= 0, T0 = Y("cursor-default select-none focus:gs-utl-outline-none", "z-20 max-h-full"), dg = {
  strategy: "fixed",
  placement: "bottom",
  modifiers: [
    {
      name: "offset",
      options: { offset: [0, 5] }
    },
    {
      name: "flip",
      options: { fallbackPlacements: ["top"] }
    }
  ]
};
function Zh(e) {
  var s;
  const { option: t, active: n, selected: r } = e, o = ((s = e.isSelected) == null ? void 0 : s.call(e)) || !0;
  return /* @__PURE__ */ L(R, { items: "center", className: Y([Ve.xy, n && Tf.bgH]), children: [
    /* @__PURE__ */ u(j, { className: Y("truncate"), grow: !0, children: t.label }),
    /* @__PURE__ */ u(j, { className: Y("gjs-pl-2"), children: E0(t, r) && o && /* @__PURE__ */ u(ae, { className: Y(F.tA), icon: Z.check, size: fe.s }) })
  ] });
}
const CA = "gs-select-field";
function Xh({ option: e }) {
  return /* @__PURE__ */ L(pe, { children: [
    e.icon && /* @__PURE__ */ u(ae, { ...ut(e.icon) ? { icon: e.icon, size: fe.s2x } : e.icon }),
    /* @__PURE__ */ u(j, { className: Y("truncate"), grow: !0, children: e.content || e.label })
  ] });
}
function Ne(e) {
  const {
    value: t,
    onChange: n,
    onBlur: r,
    onFocus: o,
    handlerSelected: s,
    label: i,
    options: a,
    includeEmpty: l,
    className: c,
    search: d,
    open: p,
    caret: f = Z.chevronDown,
    size: g = "m",
    border: h,
    emptyState: m = "- Select an option -",
    name: b,
    required: y,
    disabled: v,
    classNameContainer: S,
    autoFocus: w,
    labelAs: C,
    hideCaret: x
  } = e, [E, O] = W(null), [T, P] = W(null), [A, _] = W(""), { styles: M, attributes: V } = Ti(E, T, dg), N = typeof d == "object" ? d.onChange : void 0, H = [...a].filter((oe) => d ? N || SA(oe, A) : oe), K = d && (typeof d == "object" && d.value || A), z = K && H.length ? H[0] : wA(H, t), $ = (oe) => n(oe.id, oe), D = { id: null, label: m }, I = (z == null ? void 0 : z.content) || (z == null ? void 0 : z.label), U = z ? s ? s(z) : z.icon ? /* @__PURE__ */ u(R, { items: "center", gap: "s", children: /* @__PURE__ */ u(Xh, { option: z }) }) : I : s ? s(D) : m;
  l && H.unshift(D);
  const ne = (oe) => {
    const { value: X } = oe.target, ee = X.trim();
    switch (oe.key) {
      case "Escape":
        n(null);
        break;
      case "Enter":
        n((H.length ? H[0].id : ee) || null, H[0]);
        break;
      case " ":
        Ps(oe);
        break;
    }
  }, Q = k("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block", le.rnd, Sa.focus), re = () => {
    r == null || r();
  }, ie = qo({
    ...e,
    className: k(CA, S, "gs-utl-relative", g.includes("s") && "gs-utl-text-xs")
  });
  return /* @__PURE__ */ u(Di, { value: z, onChange: $, disabled: v, children: ({ open: oe }) => /* @__PURE__ */ L("div", { ...ie, children: [
    i && /* @__PURE__ */ u(Di.Label, { as: C, className: e.classNameLabel, children: /* @__PURE__ */ u(mr, { as: "span", ...e }) }),
    b && /* @__PURE__ */ u(
      "input",
      {
        type: "input",
        name: b,
        value: (z == null ? void 0 : z.id) ?? "",
        onChange: () => {
        },
        className: Y("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),
        required: y,
        disabled: v
      }
    ),
    /* @__PURE__ */ u(Di.Button, { ref: O, className: Q, tabIndex: d ? -1 : void 0, children: d ? /* @__PURE__ */ u(
      "input",
      {
        autoFocus: w,
        value: typeof d == "object" && d.value || A,
        className: k([c, "gs-utl-w-full", le.rnd, Sa.focus, Ve.xyS]),
        onChange: (X) => {
          _(X.target.value), N == null || N(X.target.value);
        },
        onKeyDown: ne,
        onClick: Ps,
        onBlur: re,
        onFocus: o
      }
    ) : /* @__PURE__ */ u(
      Pn,
      {
        border: h,
        size: g,
        title: U,
        icon: x ? { className: "gs-utl-opacity-0 gs-utl-pointer-events-none" } : f,
        shadow: !1,
        className: Y(c),
        titleClass: "",
        disabled: v
      }
    ) }),
    /* @__PURE__ */ u(
      Di.Options,
      {
        static: p,
        className: T0,
        ref: P,
        style: M.popper,
        ...V.popper,
        children: /* @__PURE__ */ L(
          Pn,
          {
            padding: !1,
            className: Y("h-full"),
            style: { minWidth: `${E == null ? void 0 : E.offsetWidth}px`, maxHeight: 200 },
            children: [
              !H.length && d && d !== !0 && /* @__PURE__ */ u("div", { className: Y(Ve.xy), children: d.empty }),
              H.map((X, ee) => /* @__PURE__ */ u(Di.Option, { value: X, children: ({ active: de }) => /* @__PURE__ */ L(R, { items: "center", gap: "s", className: Y([X.className, Ve.xy, de && Tf.bgH]), nowrap: !0, children: [
                /* @__PURE__ */ u(Xh, { option: X }),
                /* @__PURE__ */ u(j, { className: Y("gjs-pl-2"), children: E0(X, z) && !K && /* @__PURE__ */ u(ae, { className: Y(F.tA), icon: Z.check, size: fe.s }) })
              ] }) }, ee))
            ]
          }
        )
      }
    )
  ] }) });
}
const Jh = zr() && document.body, pg = (e = {}) => ({
  ...dg,
  placement: "right-start",
  modifiers: [
    {
      name: "offset",
      options: { offset: e.offset || [0, 5] }
    },
    {
      name: "flip",
      options: { boundary: e.boundary ?? Jh }
    },
    {
      name: "preventOverflow",
      options: { boundary: e.boundary ?? Jh }
    }
  ]
}), O0 = pg(), El = "gs-ctx-menu-list", _0 = ce(function({
  onItemClick: t,
  open: n,
  items: r,
  x: o,
  y: s,
  w: i,
  h: a,
  className: l
}) {
  const c = cg(), [d, p] = W(), [f, g] = W(null), h = ue(() => ({ getBoundingClientRect: () => new DOMRect(o, s, i, a) }), [o, s, i, a, n]), { styles: m, attributes: b } = Ti(h, f, O0), y = k(`${El}-wrp gs-utl-z-20`, l), v = k(`${El} gs-utl-z-20`), S = k(`${El}-body gs-utl-max-w-56`), w = k(`${El}-item`), C = "gs-utl-max-w-40", x = (E) => {
    const { action: O, onClick: T } = E;
    if (O || T)
      return (P) => {
        const A = {
          editor: c.store.appEditorStore.editor,
          ...P
        };
        it(O) ? (O(A), c.hide()) : it(T) && (T(A), c.hide());
      };
  };
  return /* @__PURE__ */ u("div", { className: y, ref: g, style: m.popper, ...b.popper, children: /* @__PURE__ */ u(Vr, { show: !!n, ...Ga, unmount: !1, children: /* @__PURE__ */ u(Pn, { padding: !1, className: v, classNameBody: S, children: r.map((E, O) => /* @__PURE__ */ Ro(
    nl,
    {
      onItemClick: t,
      ...E,
      key: E.id ?? O,
      className: w,
      classNameLabel: C,
      action: x(E),
      onActive: () => p(E),
      active: d === E
    }
  )) }) }) });
}), pd = "gs-cmp-tooltip";
function Kt({
  className: e,
  classNameWrp: t,
  classNameContent: n,
  strategy: r,
  placement: o = "bottom",
  children: s,
  title: i,
  onClick: a,
  inline: l,
  size: c
}) {
  const [d, p] = W(!1), [f, g] = W(!1), h = Ft(c), [m, b] = W(null), [y, v] = W(null), S = Ti(m, y, {
    ...pg(),
    placement: o,
    ...r ? { strategy: r } : {}
  });
  G(() => {
    var x;
    d && ((x = S.update) == null || x.call(S));
  }, [d, S.update]), G(() => {
    const x = setTimeout(() => p(f), 10);
    return () => clearTimeout(x);
  }, [f]);
  const w = k(`${pd}-target`, !l && "gs-utl-block", e, !a && "gs-utl-cursor-auto"), C = k(
    `${pd}-content`,
    n,
    "gs-utl-fixed gs-utl-z-30 gs-utl-text-sm",
    !h && !n && "gs-utl-whitespace-nowrap",
    c === "s" && "gs-utl-w-60"
  );
  return /* @__PURE__ */ L("div", { className: k(pd, "gs-utl-relative", t), children: [
    /* @__PURE__ */ u(
      "span",
      {
        ref: b,
        className: w,
        onMouseEnter: () => i && g(!0),
        onMouseLeave: () => g(!1),
        children: /* @__PURE__ */ u(
          "div",
          {
            className: k(l && "gs-utl-inline-block"),
            onClick: () => {
              g(!1), a == null || a();
            },
            children: s
          }
        )
      }
    ),
    !!f && /* @__PURE__ */ u(
      "div",
      {
        className: C,
        ref: v,
        style: S.styles.popper,
        ...S.attributes.popper,
        children: /* @__PURE__ */ u(Vr, { show: !!d, unmount: !1, ...Ef, children: /* @__PURE__ */ u(Pn, { className: Oh.txt, bg: Oh.bg, size: "s", border: !1, children: i }) })
      }
    )
  ] });
}
function _t({
  children: e,
  title: t,
  classNameWrp: n,
  tooltipProps: r,
  ...o
}) {
  return /* @__PURE__ */ u(Kt, { title: t, classNameWrp: n, ...r, children: /* @__PURE__ */ u(Xe, { ...o, children: e }) });
}
var fn = /* @__PURE__ */ ((e) => (e.Info = "info", e.Error = "error", e.Success = "success", e.Warning = "warning", e))(fn || {});
const xA = {
  [fn.Info]: F.bgA,
  [fn.Error]: "bg-red-500",
  [fn.Success]: "bg-green-500",
  [fn.Warning]: "bg-orange-400"
}, PA = B.forwardRef(function(t, n) {
  const r = {
    [fn.Info]: Z.informationVariant,
    [fn.Error]: Z.fire,
    [fn.Success]: Z.checkBold,
    [fn.Warning]: Z.alertRhombus
  }, { children: o, className: s, content: i, id: a, buttons: l = [], variant: c = fn.Info, autoHideTimeout: d = 3e3 } = t, p = q(null), f = q(), g = r[c], h = xA[c];
  zc(n, () => p.current, []);
  const m = () => {
    var S;
    return (S = t.onDismiss) == null ? void 0 : S.call(t, a);
  }, b = () => {
    d && (f.current = setTimeout(m, d));
  }, y = () => f.current && clearTimeout(f.current);
  G(() => (b(), y), []);
  const v = i || o;
  return /* @__PURE__ */ u(
    Pn,
    {
      className: te(s, "overflow-hidden relative"),
      ref: p,
      onPointerEnter: y,
      onPointerLeave: b,
      children: /* @__PURE__ */ L(R, { space: "m", items: "center", className: te(Ve.y), children: [
        /* @__PURE__ */ u(j, { className: te(h, le.pill, "text-white gjs-p-1"), children: /* @__PURE__ */ u(ae, { icon: g, size: fe.s }) }),
        /* @__PURE__ */ u(j, { grow: !0, className: te("gjs-pr-3"), children: /* @__PURE__ */ L(R, { col: !0, space: "xs", children: [
          /* @__PURE__ */ u(j, { className: te("text-lg font-medium leading-6"), children: t.header }),
          v && /* @__PURE__ */ u(j, { className: te(F.txtLowEmphasis), children: v }),
          !!l.length && /* @__PURE__ */ u(R, { space: "m", justify: "end", children: l.map(({ id: S, ...w }) => /* @__PURE__ */ u(Xe, { ...w }, S)) })
        ] }) }),
        /* @__PURE__ */ u(j, { className: te("absolute top-1 right-1"), children: /* @__PURE__ */ u(_t, { onClick: m, border: !1, children: /* @__PURE__ */ u(ae, { icon: Z.close, size: fe.s }) }) })
      ] })
    }
  );
}), EA = ce(
  B.forwardRef(function({ className: t, toasts: n, onDismiss: r, ...o }, s) {
    const i = Ox({});
    return (
      // For some reason with Grid, automate flickers
      /* @__PURE__ */ u("div", { className: te(t, "w-80 gs-utl-z-30"), ...o, ref: i, children: n.map((a) => /* @__PURE__ */ u(PA, { ...a, className: te("gjs-mb-2"), onDismiss: r }, a.uuid || a.id)) })
    );
  })
);
var Op = /* @__PURE__ */ ((e) => (e.self = "self", e.cloud = "cloud", e))(Op || {}), bs = /* @__PURE__ */ ((e) => (e.image = "image", e.video = "video", e))(bs || {}), or = /* @__PURE__ */ ((e) => (e.componentOutline = "componentOutline", e.preview = "preview", e.fullscreen = "fullscreen", e.showCode = "showCode", e.showImportCode = "showImportCode", e.clearCanvas = "clearCanvas", e.store = "store", e.undo = "undo", e.redo = "redo", e))(or || {}), A0 = /* @__PURE__ */ ((e) => (e.topLeft = "top-left", e.topCenter = "top-center", e.topRight = "top-right", e.bottomLeft = "bottom-left", e.bottomCenter = "bottom-center", e.bottomRight = "bottom-right", e))(A0 || {}), TA = /* @__PURE__ */ ((e) => (e.select = "select", e.hover = "hover", e.target = "target", e.spacing = "spacing", e))(TA || {}), qt = /* @__PURE__ */ ((e) => (e.variable = "data-variable", e.condition = "data-condition", e.conditionTrue = "data-condition-true-content", e.conditionFalse = "data-condition-false-content", e.collection = "data-collection", e.collectionItem = "data-collection-item", e))(qt || {}), OA = /* @__PURE__ */ ((e) => (e.text = "text", e.number = "number", e.color = "color", e.selectFont = "selectFont", e.select = "select", e.radio = "radio", e))(OA || {}), ls = /* @__PURE__ */ ((e) => (e.left = "left", e.right = "right", e.top = "top", e.bottom = "bottom", e.center = "center", e))(ls || {}), Ks = /* @__PURE__ */ ((e) => (e.popover = "popover", e.absolute = "absolute", e.static = "static", e.dialog = "dialog", e))(Ks || {}), ke = /* @__PURE__ */ ((e) => (e.web = "web", e.email = "email", e.document = "document", e.react = "react", e))(ke || {}), un = /* @__PURE__ */ ((e) => (e.components = "Components", e.rte = "Rich Text Editor", e.canvas = "Canvas", e.layout = "Layout", e.assetProviders = "Asset Providers", e))(un || {}), ur = /* @__PURE__ */ ((e) => (e.dark = "dark", e.light = "light", e.auto = "auto", e))(ur || {}), _p = /* @__PURE__ */ ((e) => (e.browser = "browser", e.self = "self", e.cloud = "cloud", e))(_p || {});
const fg = () => {
  const { baseApiUrl: e } = da();
  return `${e}/assets/sdk`;
}, _A = (e) => `${fg()}/${e}`, AA = async (e, t, n) => {
  const r = await Fr.get(fg(), {
    params: { projectId: t, identityId: n, d: window.location.hostname, licenseKey: e }
  });
  return ((r == null ? void 0 : r.result) ?? []).map(({ asset: o, cdnUrl: s }) => ({
    ...o,
    size: parseInt(o.size),
    src: s
  }));
}, LA = async (e, t, n, r) => {
  const o = await Fr.post(fg(), {
    body: JSON.stringify({ fileMetadata: e, projectId: n, identityId: r }),
    params: { d: window.location.hostname, licenseKey: t }
  });
  return o == null ? void 0 : o.result;
}, NA = async (e, t) => await Fr.put(t, {
  body: e,
  rawText: !0
}), kA = async (e, t, n, r) => Promise.all(
  e.map(
    (o) => LA(
      // don't send the whole file, just the metadata
      { name: o.name, size: o.size, type: o.type },
      t,
      n,
      r
    ).then(async (s) => {
      if (!s)
        throw new Error("No asset");
      const { asset: i, cdnUrl: a, uploadUrl: l } = s, c = await NA(o, l);
      if (c instanceof Error)
        throw console.error(c), new Error("Upload failed");
      return {
        ...i,
        size: parseInt(i.size),
        src: a,
        type: bs.image
      };
    })
  )
), MA = async (e, t, n, r) => {
  const o = await Fr.delete(_A(e), {
    body: JSON.stringify({ projectId: n, identityId: r }),
    params: { d: window.location.hostname, licenseKey: t }
  });
  return o == null ? void 0 : o.result;
}, Qh = async (e, t, n, r) => Promise.all(e.map((o) => MA(o.id || o.src, t, n, r)));
function oo(e, t, n) {
  let r, o, s, i, a;
  const l = t === void 0 ? 100 : t;
  function c() {
    const p = Date.now() - i;
    p < l && p >= 0 ? r = setTimeout(c, l - p) : (r = null, n || (a = e.apply(s, o), s = o = null));
  }
  const d = function() {
    s = this, o = arguments, i = Date.now();
    const p = n && !r;
    return r || (r = setTimeout(c, l)), p && (a = e.apply(s, o), s = o = null), a;
  };
  return d.clear = function() {
    r && (clearTimeout(r), r = null);
  }, d.flush = function() {
    r && (a = e.apply(s, o), s = o = null, clearTimeout(r), r = null);
  }, d;
}
const Ea = (e) => e.replaceAll('"', "").replaceAll("'", ""), Os = (e) => e.includes(",") ? e : /\s/.test(e) ? `'${Ea(e)}'` : Ea(e), em = (e, t, n) => ({ family: e, variant: t, ...n }), ra = (e, t) => {
  e = Os(e);
  const { menuVariant: n, variants: r } = t;
  return {
    family: e,
    familyLabel: Ea(e),
    menuVariant: n && em(
      Os(`menuFont-${Ea(e)}`),
      "regular",
      n
    ),
    variants: Object.assign(
      {},
      ...Object.entries(r).map(([o, s]) => ({
        [o]: em(e, o, s)
      }))
    )
  };
}, gg = (e, t) => {
  var a;
  const n = ra(e.family, e), r = n.menuVariant ?? ((a = Object.values(n.variants)) == null ? void 0 : a[0]);
  if (!r)
    return "Arial, Helvetica, sans-serif";
  const { source: o, descriptors: s } = r, i = Ea(r.family);
  if (!t) {
    const l = new FontFace(i, `url("${o}")`, s), c = Array.from(document.fonts.values()).filter((d) => d.family === i);
    for (const d of c)
      document.fonts.delete(d);
    document.fonts.add(l), l.load().catch(() => {
    });
  }
  return Os(i);
}, yr = ", sans-serif", tm = [
  "Arial, Helvetica" + yr,
  "Arial Black, Gadget" + yr,
  "Brush Script MT" + yr,
  "Comic Sans MS, cursive" + yr,
  "Courier New, Courier, monospace",
  "Georgia, serif",
  "Helvetica" + yr,
  "Impact, Charcoal" + yr,
  "Lucida Sans Unicode, Lucida Grande" + yr,
  "Tahoma, Geneva" + yr,
  "Times New Roman, Times, serif",
  "Trebuchet MS, Helvetica" + yr,
  "Verdana, Geneva" + yr
].map((e) => ({ id: e, label: e.split(",")[0] })), $A = String.raw, Xr = (e, t) => {
  if (!t)
    return "";
  const n = e[0], r = e[1];
  return `${n}${t}${r}`;
}, RA = ({ family: e, source: t, descriptors: n }) => {
  const {
    display: r,
    ascentOverride: o,
    descentOverride: s,
    featureSettings: i,
    lineGapOverride: a,
    stretch: l,
    style: c,
    unicodeRange: d,
    weight: p
  } = n ?? {}, f = [
    Xr`font-ascent-override: ${o};`,
    Xr`font-display: ${r};`,
    Xr`font-descent-override: ${s};`,
    Xr`font-feature-settings: ${i};`,
    Xr`font-line-gap-override: ${a};`,
    Xr`font-stretch: ${l};`,
    Xr`font-style: ${c};`,
    Xr`font-unicode-range: ${d};`,
    Xr`font-weight: ${p};`
  ].filter(Boolean);
  return $A`
    @font-face {
      font-family: ${e};
      src: url('${t}');
      ${f.join(`
`)}
    }
  `;
}, L0 = (e = {}) => {
  const t = Object.entries(e).map(([r, o]) => ra(r, o));
  let n = "";
  for (const r of t)
    for (const o of Object.values(r.variants))
      n += RA(o) + `
`;
  return n.trim();
}, Ap = "data-project-fonts", Lp = "true", IA = `${Ap}="${Lp}"`, N0 = (e = {}) => {
  const t = L0(e);
  return t ? `<style ${IA}>
${t}
</style>` : "";
}, jA = (e) => e.sort((t, n) => t.familyLabel < n.familyLabel ? -1 : t.familyLabel > n.familyLabel ? 1 : 0), VA = (e) => e.sort((t, n) => t.id < n.id ? -1 : t.id > n.id ? 1 : 0), nm = (e) => !!e.id, Fs = (e) => (t) => (t.tagName || "").toLowerCase() === e, Tr = (...e) => e.map((t) => `[data-gjs-type="${t}"]`).join(","), DA = (e, ...t) => {
  var n;
  return t.indexOf((n = e == null ? void 0 : e.tagName) == null ? void 0 : n.toUpperCase()) >= 0;
}, ti = (e, ...t) => {
  var n;
  return !!e && t.indexOf((n = e.tagName) == null ? void 0 : n.toLowerCase()) >= 0;
}, Vo = (e, t) => {
  var n;
  return (n = e == null ? void 0 : e.classList) == null ? void 0 : n.contains(t);
}, ol = (e, t) => {
  var n;
  return !!((n = e == null ? void 0 : e.hasAttribute) != null && n.call(e, t));
}, sl = (e, t) => {
  const n = e.Blocks.get(t);
  return n ? n.collection.indexOf(n) : -1;
}, HA = (e) => e.replace(/[^a-z0-9.]/gi, "_").toLowerCase(), Np = (e, t, n = "html") => {
  const { Pages: r } = e, o = pn({ page: t, key: "slug" }) ?? "";
  return `${r.getMain() === t ? "index" : Xc(o || t.getName())}.${n}`;
}, BA = (e, t) => {
  const { toolbar: n } = e;
  n.some((o) => o.id === t.id) || (n.unshift(t), e.set("toolbar", [...n]));
}, Pc = "custom-html-body", Ec = "data-custom-html-body", rm = "data-global-custom-html-head", om = "data-global-custom-html-body", sm = "global", FA = function(e, t) {
  const n = (o) => {
    if (!o)
      return e.em.logError("loadGlobalHead: document not found");
    const s = kp(t.appStore);
    let i = o.querySelector(`[${rm}]`);
    i || (i = o.createElement("div"), i.setAttribute(rm, "true"), o.head.insertBefore(i, o.head.firstChild));
    const a = N0(s.fonts), l = s.customCodeHead, c = [a, l].filter((d) => !!d).join(`
`);
    i.innerHTML = c, vh(i);
  }, r = (o) => {
    if (!o)
      return e.em.logError("loadGlobalBody: document not found");
    const s = kp(t.appStore);
    let i = o.querySelector(`[${om}]`);
    if (!i) {
      i = o.createElement("div"), i.setAttribute(om, "true");
      const a = o.querySelector('[data-gjs-type="wrapper"]');
      a == null || a.appendChild(i);
    }
    i.innerHTML = s.customCodeBody || "", vh(i);
  };
  e.on(e.Canvas.events.frameLoad, (o) => {
    var s;
    return n((s = o.el.contentWindow) == null ? void 0 : s.document);
  }), e.on(e.Canvas.events.frameLoadBody, (o) => {
    var s;
    return r((s = o.el.contentWindow) == null ? void 0 : s.document);
  }), e.on(Rn.pageSettingsUpdate, (o) => {
    var i, a;
    if (o.page)
      return;
    const s = (a = (i = e.Canvas.getFrames()[0]) == null ? void 0 : i.view) == null ? void 0 : a.getDoc();
    n(s), r(s);
  }), e.Components.addType(Pc, {
    isComponent: (o) => ol(o, Ec),
    model: {
      defaults: {
        attributes: { [Ec]: !0 },
        locked: !0,
        layerable: !1
      },
      toHTML: () => ""
    }
  }), e.on(e.events.projectLoad, () => {
    const { appStore: o } = t, { globalPageSettings: s } = o.projectDataCustom;
    let i = (s == null ? void 0 : s.customCodeHead) || "", a = (s == null ? void 0 : s.customCodeBody) || "";
    e.Pages.getAll().forEach((l) => {
      const c = l.getMainComponent(), d = c.head.components(), p = [];
      d.forEach((h) => {
        h.has(sm) && p.push(h);
      }), p.forEach((h) => {
        const m = h.toHTML();
        i.includes(m) || (i += m), h.remove();
      });
      const f = [];
      c.findType(Pc).forEach((h) => {
        h.has(sm) && f.push(h);
      }), f.forEach((h) => {
        const m = h.getInnerHTML();
        a.includes(m) || (a += m), h.remove();
      });
    }), (i || a) && o.setProjectDataCustom({
      globalPageSettings: {
        ...s,
        customCodeHead: i,
        customCodeBody: a
      }
    });
  });
}, Ta = "page://", fu = "href-params__", zA = `data-gjs-${fu}`, gu = (e) => {
  var t, n;
  return (n = (t = e == null ? void 0 : e.getMainComponent()) == null ? void 0 : t.dataResolverProps) == null ? void 0 : n.path;
}, hu = (e) => !!gu(e), im = (e) => {
  const t = e.getDirtyCount() || 0;
  e.em.set({ changesCount: t + 1 }, {});
}, UA = (e) => !!(e != null && e.Components.getType("mjml")), k0 = (e) => hu(e) ? Z.database : mg(e) ? Z.home : "", hg = (e) => !!e.getSymbolOverride() ? /* @__PURE__ */ u(ae, { icon: Z.rhombusOutline, size: fe.s3x }) : /* @__PURE__ */ u(xf, { className: k("gs-cmp-svg-icon gs-utl-w-[16px] gs-utl-fill-current"), svg: e.getIcon() }), M0 = (e) => {
  e.getModel().set({
    changesCount: e.getDirtyCount() + 1
  });
}, mg = (e) => {
  var t;
  return e && e === ((t = e.em.Pages) == null ? void 0 : t.getMain());
}, mt = {
  title: ({ cmp: e }) => e.tagName === "title",
  favicon: ({ cmp: e }) => {
    var t;
    return e.tagName === "link" && ((t = e.attributes.attributes) == null ? void 0 : t.rel) === "icon";
  },
  description: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "description";
  },
  keywords: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "keywords";
  },
  socialTitle: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:title";
  },
  socialImage: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:image";
  },
  socialDescription: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:description";
  },
  charset: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.charset);
  },
  viewport: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "viewport";
  },
  robots: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "robots";
  },
  generator: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "generator";
  }
}, $0 = (e) => {
  for (const t in mt) {
    const n = t;
    if (mt[n]({ cmp: e }))
      return n;
  }
}, R0 = (e, t, n) => {
  const r = [];
  let o = n;
  return e.getMainComponent().findType(Pc).forEach((s) => {
    r.push(s), o = (o || "") + s.getInnerHTML();
  }), { components: r, html: o, changed: o !== t };
}, WA = (e, t) => {
  const n = { ...t }, r = e.getMainComponent(), { head: o } = r;
  if (o) {
    const i = [], a = o.components();
    a.forEach((c) => {
      mt.title({ cmp: c }) ? (c.components(t.title), delete n.title) : mt.favicon({ cmp: c }) ? (c.addAttributes({ href: t.favicon }), delete n.favicon) : mt.description({ cmp: c }) ? (c.addAttributes({ content: t.description }), delete n.description) : mt.keywords({ cmp: c }) ? (c.addAttributes({ content: t.keywords }), delete n.keywords) : mt.socialTitle({ cmp: c }) ? (c.addAttributes({ content: t.socialTitle }), delete n.socialTitle) : mt.socialDescription({ cmp: c }) ? (c.addAttributes({ content: t.socialDescription }), delete n.socialDescription) : mt.socialImage({ cmp: c }) ? (c.addAttributes({ content: t.socialImage }), delete n.socialImage) : $0(c) || i.push(c);
    });
    const l = e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);
    l.head && (a.remove(i), l.head.components && a.add(l.head.components), delete n.customCodeHead);
  }
  const s = R0(e, n.customCodeBody);
  if (s.changed) {
    const [i, ...a] = s.components;
    (i || r.append({ type: Pc })[0]).components(n.customCodeBody), a.forEach((c) => c.remove()), delete n.customCodeBody;
  }
  return e.set("settings", n);
}, GA = (e, t = {}) => {
  var s;
  const n = { ...e.get("settings") ?? {} }, r = e.getMainComponent(), { head: o } = r;
  if (o) {
    const i = [];
    o.components().forEach((a) => {
      const { content: l, href: c } = a.getAttributes({ noClass: !0, noStyle: !0 });
      mt.title({ cmp: a }) ? n.title = a.getInnerHTML() : mt.favicon({ cmp: a }) ? n.favicon = c : mt.description({ cmp: a }) ? n.description = l : mt.keywords({ cmp: a }) ? n.keywords = l : mt.socialTitle({ cmp: a }) ? n.socialTitle = l : mt.socialDescription({ cmp: a }) ? n.socialDescription = l : mt.socialImage({ cmp: a }) ? n.socialImage = l : $0(a) || i.push(a.toHTML());
    }), i.length && (n.customCodeHead = i.join(`
`));
  }
  if (n.customCodeBody = R0(e, n.customCodeBody).html, t.replaceDataSources && gu(e)) {
    const { currentItem: i } = ((s = r.getCollectionsState) == null ? void 0 : s.call(r)) || {};
    i && Object.keys(n).forEach((a) => {
      const l = a, c = n[l];
      ut(c) && (n[l] = I0(c, i));
    });
  }
  return n;
}, I0 = (e, t) => e.replace(/\{\{\s*([a-zA-Z0-9_]+)\s*\}\}/g, (n, r) => {
  const o = t[r.trim()];
  return o !== void 0 ? String(o) : "";
}), j0 = (e, t = {}) => {
  const { currentItem: n } = t, r = t.ext ?? "html", o = pn({ page: e, key: "slug" }) ?? "", s = n ? I0(o, n) : o, i = s.lastIndexOf("/"), a = i >= 0, l = a ? s.substring(i + 1) : s, c = a ? s.substring(0, i) : void 0, d = `${Xc(l)}${r ? `.${r}` : ""}`;
  return {
    path: c,
    filename: d,
    fullPath: c ? `${c}/${d}` : d
  };
}, KA = (e, t) => e.get(`${fu}${t}`) || "", qA = (e, t, n) => {
  e.set({ [`${fu}${t}`]: n });
}, YA = (e, t) => {
  Object.entries(t).forEach(([n, r]) => {
    e[`${zA}${n}`] = r;
  });
}, ZA = (e, t) => {
  e.getModel().set("customData", { ...vi(e), ...t });
}, vi = (e) => e.getModel().get("customData") ?? {}, kp = (e) => (e == null ? void 0 : e.projectDataCustom.globalPageSettings) ?? {}, pn = (e) => {
  const { page: t, key: n, appEditorStore: r, def: o, defPage: s, opts: i } = e;
  return t ? GA(t, i)[n] ?? s : kp(r)[n] ?? o;
}, wo = (e, t, n) => {
  const r = e.em.getEditor(), s = vi(r).globalPageSettings || {};
  return pn({ page: e, key: t, opts: n }) || s[t];
}, am = (e, t) => {
  const n = (e == null ? void 0 : e.getName()) ?? "", r = {
    page: e,
    appEditorStore: t,
    def: "",
    pageDef: ""
  };
  return {
    name: n,
    slug: pn({ ...r, key: "slug", defPage: Xc(n) }),
    title: pn({ ...r, key: "title", defPage: n }),
    description: pn({ ...r, key: "description" }),
    favicon: pn({ ...r, key: "favicon" }),
    keywords: pn({ ...r, key: "keywords" }),
    socialTitle: pn({ ...r, key: "socialTitle", defPage: n }),
    socialImage: pn({ ...r, key: "socialImage" }),
    socialDescription: pn({ ...r, key: "socialDescription" }),
    customCodeHead: pn({ ...r, key: "customCodeHead" }),
    customCodeBody: pn({ ...r, key: "customCodeBody" })
  };
}, V0 = (e, t) => {
  var n;
  return (n = e.Styles.getSectors().find((r) => !!r.getProperty(t))) == null ? void 0 : n.getProperty(t);
}, XA = (e, t, n) => {
  const r = V0(e, t);
  return r == null ? void 0 : r.getProperty(n);
};
class lm {
  constructor(t, n) {
    this.assetsStore = t, this.layoutPanelId = n, this.itemLayout = void 0, this.isLoadingAssets = !1, this.typeFilter = void 0, this.searchValue = "", this.customTypes = void 0, this.customProviders = void 0, this.providerFilter = void 0, this.customAssetProps = void 0, this.customPages = void 0, this.totalItems = void 0, this.optionalType = !1, this.optionalProvider = !0, hn(this, {}, { autoBind: !0 }), this.initTypeFilter(), this.initProviderFilter(), this.initOptionalType(), this.loadAssetsDebounced = oo(this.loadAssets, this.searchDebounceMs);
  }
  get typeFilterOptions() {
    return this.customTypes ?? [];
  }
  get providers() {
    return this.assetsStore.allProviders.map((t) => ({
      ...t,
      types: Array.isArray(t.types) ? t.types : [t.types]
    }));
  }
  get providerFilterOptions() {
    return this.providers.filter(
      (t) => (
        // filter by type
        (!this.typeFilter || t.types.includes(this.typeFilter)) && // filter by customProviders
        (!this.customProviders || this.customProviders.includes(t.id))
      )
    );
  }
  get provider() {
    return this.providers.find((t) => t.id === this.providerFilter);
  }
  get assetPropsFromPages() {
    if (!this.customPages)
      return;
    const t = [];
    for (const n of this.customPages)
      t.push(...n.items);
    return t;
  }
  get assetProps() {
    if (!!!this.assetPropsFromPages && this.isLoadingAssets)
      return [];
    const n = this.customAssetProps ?? this.assetPropsFromPages ?? this.assetsStore.projectAssetProps ?? [];
    return this.typeFilter ? n.filter((r) => r.type === this.typeFilter) : n;
  }
  get onProviderOrProjectDelete() {
    const { provider: t, assetsStore: n } = this;
    return t ? t.onDelete : n.onProjectDelete;
  }
  get t() {
    return this.assetsStore.t;
  }
  get isLoading() {
    return this.assetsStore.isLoadingAssets || this.isLoadingAssets;
  }
  get handleDelete() {
    return this.onProviderOrProjectDelete && this.handleDeleteCallback;
  }
  get shouldLoadNextPage() {
    var n;
    const t = (n = this.customPages) == null ? void 0 : n.at(-1);
    return t ? !t.isLastPage : !1;
  }
  get reloadOnInput() {
    var t, n;
    return ((n = (t = this.provider) == null ? void 0 : t.search) == null ? void 0 : n.reloadOnInput) ?? !1;
  }
  get searchDebounceMs() {
    var t, n;
    return ((n = (t = this.provider) == null ? void 0 : t.search) == null ? void 0 : n.debounceMs) ?? 1e3;
  }
  initOptionalType() {
    this.setOptionalType(!1);
  }
  initOptionalProvider() {
    var t;
    this.setOptionalProvider(!!(((t = this.assetsStore.sdkAssetConfig) == null ? void 0 : t.projectAssetsOption) ?? !0));
  }
  initTypeFilter() {
    this.setTypeFilter(bs.image);
  }
  initProviderFilter() {
    var t;
    this.setProviderFilter((t = this.assetsStore.sdkAssetConfig) == null ? void 0 : t.providerId);
  }
  setOptionalType(t) {
    this.optionalType = t;
  }
  setOptionalProvider(t) {
    this.optionalProvider = t;
  }
  setTypeFilter(t) {
    this.typeFilter = t;
  }
  setProviderFilter(t) {
    this.providerFilter = t;
  }
  setSearchValue(t) {
    this.searchValue = t, this.reloadOnInput && this.loadAssetsDebounced();
  }
  setCustomTypes(t) {
    this.customTypes = t;
  }
  setCustomProviders(t) {
    this.customProviders = t;
  }
  setCustomAssetProps(t) {
    this.customAssetProps = t;
  }
  setCustomPages(t) {
    this.customPages = t;
  }
  setItemLayout(t) {
    this.itemLayout = t;
  }
  setIsLoadingAssets(t) {
    this.isLoadingAssets = t;
  }
  selectProjectAssets() {
    this.setCustomAssetProps(void 0), this.setCustomPages(void 0), this.setItemLayout(void 0);
  }
  async loadProviderAssets(t) {
    var a, l, c, d;
    const { assetsStore: n } = this, { editor: r } = n;
    if (!r || !this.provider)
      return;
    t && (this.setCustomAssetProps(void 0), this.setCustomPages(void 0));
    const o = ((a = this.customPages) == null ? void 0 : a.length) ?? 0, s = (c = (l = this.customPages) == null ? void 0 : l.at(-1)) == null ? void 0 : c.nextPageCustomData, i = await this.provider.onLoad({
      editor: r,
      assetTypeFilter: this.typeFilter,
      pageIndex: o,
      searchValue: this.searchValue,
      pageCustomData: s
    }) ?? [];
    if (Array.isArray(i)) {
      const p = i.map(n.toAssetProps);
      this.setCustomAssetProps(p);
    } else {
      const p = {
        ...i,
        items: i.items.map(n.toAssetProps)
      };
      this.setCustomPages([...this.customPages ?? [], p]);
    }
    this.setItemLayout((d = this.provider) == null ? void 0 : d.itemLayout);
  }
  async loadAssets(t = !0) {
    const { assetsStore: n } = this, { toastStore: r } = n.store;
    try {
      this.provider ? (this.setIsLoadingAssets(!0), await this.loadProviderAssets(t)) : this.selectProjectAssets();
    } catch (o) {
      console.error(o), r.addError("assets-error-get", this.t("errorLoad"));
    } finally {
      this.setIsLoadingAssets(!1);
    }
  }
  async reloadAssets(t) {
    const { assetsStore: n } = this, { cachedOnLoadAssetProps: r } = n;
    await this.loadAssets(t == null ? void 0 : t.clearExisting), !this.provider && r && (n.cachedOnLoadAssetProps = void 0, await n.loadProjectAssets());
  }
  async handleDeleteCallback(t) {
    const { assetsStore: n, onProviderOrProjectDelete: r } = this, { appEditorStore: o } = n.store, { editor: s } = o;
    if (!(!s || !r))
      try {
        n.setIsLoadingAssets(!0), await r({
          assets: [n.toAsset(t)],
          assetProps: [t],
          editor: s,
          loadAssets: (i) => this.reloadAssets(i)
        });
      } catch (i) {
        console.error(i), n.store.toastStore.addError("assets-error-delete", {
          header: this.t("errorDelete"),
          content: i == null ? void 0 : i.message
        });
      } finally {
        n.setIsLoadingAssets(!1);
      }
  }
}
const D0 = (e) => tn().assetsStore.assetPanelStores[e];
class JA {
  constructor(t) {
    this.store = t, this.isLoadingAssets = !1, this.mainPanelId = `main-${vv()}`, this.assetPanelStores = {}, this.cachedOnLoadAssetProps = void 0, this.projectAssetProps = void 0, this.allProviders = [], this.assetPanelStores[this.mainPanelId] = new lm(this, this.mainPanelId), this.setAllProviders(this.isUsingAssetCloud ? [this.userProvider] : []), hn(this, {}, { autoBind: !0 });
  }
  get sdkAssetConfig() {
    return this.store.appEditorStore.sdkOptions.assets;
  }
  get isUsingAssetCloud() {
    var t;
    return ((t = this.sdkAssetConfig) == null ? void 0 : t.storageType) === Op.cloud;
  }
  get storageType() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.storageType;
  }
  get isSelfStorage() {
    return this.storageType === Op.self;
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  get customOnLoad() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onLoad;
  }
  get customOnDelete() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onDelete;
  }
  get customOnUpload() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onUpload;
  }
  get onCloudOrCustomUpload() {
    const { appEditorStore: t } = this.store, { sdkProps: n } = t, o = n.options.licenseKey, s = t.sdkProjectId, i = t.sdkIdentityId, a = ({ files: l }) => kA(l, o, s, i);
    return this.isUsingAssetCloud ? a : this.customOnUpload;
  }
  get onProjectDelete() {
    const { customOnDelete: t, isSelfStorage: n, isUsingAssetCloud: r } = this;
    return n ? t ? async (o) => {
      await t(o), this.deleteFromProjectAssets(o);
    } : void 0 : r ? async (o) => {
      var l, c;
      const { sdkOptions: s } = this.store.appEditorStore, i = (l = s.project) == null ? void 0 : l.id, a = (c = s.identity) == null ? void 0 : c.id;
      await Qh(o.assetProps, s.licenseKey, i, a), this.deleteFromProjectAssets(o);
    } : this.deleteFromProjectAssets;
  }
  get t() {
    return this.store.i18nStore.tScoped("assetManager");
  }
  get userProvider() {
    var a, l;
    const { appEditorStore: t } = this.store, { sdkOptions: n } = t, r = (a = n.project) == null ? void 0 : a.id, o = (l = n.identity) == null ? void 0 : l.id, s = n.licenseKey;
    return {
      id: "grapesjs-user-provider",
      label: () => this.t("userAssets"),
      types: bs.image,
      onLoad: () => AA(
        s,
        // both mandatory for storageType === 'cloud'
        r,
        o
      ),
      onDelete: async (c) => {
        const { assetProps: d, loadAssets: p } = c;
        await Qh(
          d,
          s,
          // both mandatory for storageType === 'cloud'
          r,
          o
        ), this.deleteFromProjectAssets(c), await p({ clearExisting: !1 });
      }
    };
  }
  onEditor() {
    const t = oo(() => !this.loadProjectAssets()), n = this.store.appEditorStore.editor;
    this.addSdkProviders();
    const r = n.Assets.events.all;
    n.on(r, t), this.loadProjectAssets();
  }
  /**
   * Add sdk providers after any asset providers are added from plugins
   */
  addSdkProviders() {
    var r;
    const t = ((r = this.sdkAssetConfig) == null ? void 0 : r.providers) ?? [], n = it(t) ? t({ providers: Ao(this.allProviders) }) : [...this.allProviders, ...t];
    this.setAllProviders(n);
  }
  addProvider(t, n = this.allProviders.length) {
    const r = [...this.allProviders];
    let o = this.allProviders.findIndex((i) => i.id === t.id);
    const s = o !== -1;
    r.splice(n, 0, t), s && (o >= n && (o += 1), r.splice(o, 1)), this.setAllProviders(r);
  }
  hasType(t) {
    return !!this.allProviders.find((n) => ut(n.types) ? n.types === t : n.types.includes(t));
  }
  createAssetManager(t) {
    const n = new lm(this, t);
    this.assetPanelStores[t] = n;
  }
  removeAssetManager(t) {
    delete this.assetPanelStores[t];
  }
  async loadProjectAssets() {
    const { editor: t, isSelfStorage: n, cachedOnLoadAssetProps: r, customOnLoad: o } = this, { toastStore: s } = this.store;
    let i;
    if (t) {
      try {
        if (this.setIsLoadingAssets(!0), n && o)
          if (r)
            i = r;
          else {
            const a = await o({ editor: t });
            this.cachedOnLoadAssetProps = a.map(this.toAssetProps), i = this.cachedOnLoadAssetProps;
          }
        else
          i = t.Assets.getAll().map(this.toAssetProps);
      } catch (a) {
        console.error(a), s.addError("assets-error-load", {
          header: this.t("errorLoad"),
          content: a == null ? void 0 : a.message
        });
      } finally {
        this.setIsLoadingAssets(!1);
      }
      i && this.setProjectAssetProps(i);
    }
  }
  deleteFromProjectAssets({ assets: t, editor: n, assetProps: r }) {
    const { cachedOnLoadAssetProps: o, customOnLoad: s } = this;
    if (s) {
      if (o) {
        const i = r.map((a) => a.id);
        this.cachedOnLoadAssetProps = o.filter(({ id: a }) => !i.includes(a)), this.setProjectAssetProps(this.cachedOnLoadAssetProps);
      }
    } else
      t.forEach((i) => n.Assets.remove(i)), im(n);
  }
  addToProjectAssets(t) {
    const n = this.store.appEditorStore.editor, { cachedOnLoadAssetProps: r, customOnLoad: o } = this;
    o ? r && (this.cachedOnLoadAssetProps = [...t, ...r], this.setProjectAssetProps(this.cachedOnLoadAssetProps)) : (n.Assets.add(t), im(n));
  }
  async handleUpload(t) {
    var s, i;
    const { editor: n, onCloudOrCustomUpload: r } = this, { toastStore: o } = this.store;
    if (!(!n || !r))
      try {
        this.setIsLoadingAssets(!0);
        const a = ((s = t.dataTransfer) == null ? void 0 : s.files) || ((i = t.target) == null ? void 0 : i.files) || [], l = Array.from(a), c = await r({ files: l, editor: n });
        if (c != null && c.length) {
          const d = c.map(this.toAssetProps);
          return this.addToProjectAssets(d), d;
        } else
          console.warn("No assets returned from the upload handler. Ensure to return an array of assets.");
      } catch (a) {
        console.error(a), o.addError("assets-error-upload", {
          header: this.t("errorUpload"),
          content: a == null ? void 0 : a.message
        });
      } finally {
        this.setIsLoadingAssets(!1);
      }
  }
  uploadFile(t) {
    var n;
    return (n = this.editor) == null ? void 0 : n.Assets.FileUploader().uploadFile(t);
  }
  isAsset(t) {
    return !!t.getSrc;
  }
  toAssetProps(t) {
    if (this.isAsset(t)) {
      const r = t;
      return {
        ...r.attributes,
        id: r.attributes.id || r.getSrc(),
        src: r.getSrc(),
        name: r.attributes.name ?? r.getFilename(),
        type: r.attributes.type ?? r.getType() ?? bs.image,
        asset: r
      };
    }
    return {
      ...t,
      type: t.type || bs.image,
      id: t.id || t.src
    };
  }
  toAsset(t) {
    const { editor: n } = this.store.appEditorStore;
    if (n)
      return t.asset ?? new n.AssetManager.Asset(t);
  }
  setProjectAssetProps(t) {
    this.projectAssetProps = t;
  }
  setIsLoadingAssets(t) {
    this.isLoadingAssets = t;
  }
  setAllProviders(t) {
    this.allProviders = t;
  }
}
const $s = () => tn().assetsStore;
class QA {
  constructor(t) {
    var r;
    this.store = t, this.fonts = {}, hn(this, {}, { autoBind: !0 });
    const n = (r = this.sdkFontOptions) == null ? void 0 : r.default;
    this.sdkDefaultFonts = it(n) ? n({ baseDefault: tm }) : n;
  }
  get staticFonts() {
    return this.sdkDefaultFonts ? this.sdkDefaultFonts.map((t) => ut(t) ? { id: t, label: t } : nm(t) ? t : null).filter((t) => !!t) : tm;
  }
  get defaultWebFonts() {
    return this.sdkDefaultFonts ? this.sdkDefaultFonts.filter((n) => !ut(n) && !nm(n)).map((n) => ra(n.family, n)) : [];
  }
  get sortedFonts() {
    return jA(Object.values(this.fonts));
  }
  get fontFamilyOptions() {
    const t = (n) => ({ id: n.family, label: n.familyLabel });
    return VA([...this.staticFonts, ...Object.values(this.fonts).map(t)]);
  }
  get sdkFontOptions() {
    return this.store.appEditorStore.sdkOptions.fonts;
  }
  get enableFontManager() {
    var t;
    return (t = this.sdkFontOptions) == null ? void 0 : t.enableFontManager;
  }
  get sdkShowProjectFonts() {
    const { showProjectFonts: t, enableFontManager: n } = this.sdkFontOptions || {};
    return Ft(t) ? t : n;
  }
  get sdkAddFonts() {
    const { addFonts: t, enableFontManager: n } = this.sdkFontOptions || {};
    return Ft(t) ? t : n;
  }
  loadFonts() {
    this.loadProjectFonts(), this.loadDefaultFonts();
  }
  loadProjectFonts() {
    const { editor: t } = this.store.appEditorStore;
    if (!t)
      return;
    const { globalPageSettings: n } = vi(t) ?? {}, { fonts: r } = n ?? {};
    if (r)
      for (const [o, s] of Object.entries(r)) {
        const i = ra(o, s);
        this.addFont(i, { skipUpdate: !0 });
      }
  }
  loadDefaultFonts() {
    const { editor: t } = this.store.appEditorStore;
    if (t)
      for (const n of this.defaultWebFonts)
        this.addFont(n, { overwrite: !1, skipUpdate: !0 });
  }
  getFont(t) {
    return t = Os(t), this.fonts[t];
  }
  addFont(t, { skipUpdate: n, overwrite: r = !0 } = {}) {
    const o = ra(t.family, t), { editor: s } = this.store.appEditorStore;
    if (!s)
      return;
    const { family: i } = o;
    !r && this.fonts[i] || (this.fonts[i] = o, n || this.updateProjectFonts(s));
  }
  removeFont(t) {
    t = Os(t);
    const { editor: n } = this.store.appEditorStore;
    n && (delete this.fonts[t], this.updateProjectFonts(n));
  }
  updateProjectFonts(t) {
    const r = {
      ...vi(t).globalPageSettings,
      fonts: Ao(this.fonts)
    };
    this.store.appEditorStore.setProjectDataCustom({ globalPageSettings: r }), M0(t), t.trigger(Rn.pageSettingsUpdate, { data: r });
  }
}
const il = () => tn().fontsStore;
class e4 {
  constructor(t) {
    this.store = t, hn(this, {}, { autoBind: !0 });
  }
  t(t, n = {}) {
    var o;
    const { editor: r } = this.store.appEditorStore;
    return ((o = r == null ? void 0 : r.I18n) == null ? void 0 : o.t(t, n)) || "";
  }
  tScoped(t) {
    return (n, r) => this.t(`${t}.${n}`, r);
  }
}
const Le = () => tn().i18nStore, wn = (e, t) => jS.map(e, (n) => n && n.type === t ? n : null), cm = "gs-custom-layout", t4 = Yt(function({ className: t, component: n, noWrapper: r, id: o, render: s, ...i }, a) {
  const { editor: l } = we(), c = q(null), d = n, p = d && l ? /* @__PURE__ */ u(d, { editor: l }) : null, f = k(cm, o && `${cm}__${o}`, t), g = r && !s;
  return zc(a, () => c.current, []), G(() => {
    const h = c.current;
    if (!s || !h)
      return;
    const m = (v) => h.appendChild(v), b = (v) => h.removeChild(v), y = s({ editor: l, addEl: m, removeEl: b });
    if (ut(y))
      h.innerHTML = y;
    else {
      if (y instanceof HTMLElement)
        return m(y), () => {
          b(y);
        };
      if (it(y))
        return () => {
          y();
        };
    }
  }, [s, l, c.current]), g ? p : /* @__PURE__ */ u("div", { className: f, ref: c, ...i, children: p });
}), Mp = ce(t4);
class n4 {
  constructor(t) {
    this.customConfig = void 0, this.layouts = [], this.layoutsById = /* @__PURE__ */ new Map(), this.store = t, hn(
      this,
      {},
      {
        autoBind: !0,
        // The layout components might break due to the usage of mobx Proxies
        deep: !1
      }
    );
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  setCustomConfig(t) {
    this.customConfig = t;
  }
  add(t, n) {
    var r;
    this.get(t) || (this.layouts = [
      ...this.layouts,
      {
        id: t,
        ...n
      }
    ], (r = this.editor) == null || r.trigger(`${Rn.layoutToggleId}${t}`, { isOpen: !0 }));
  }
  remove(t, n) {
    var o;
    const r = n == null ? void 0 : n.layout;
    r && this.layouts.forEach((s) => {
      s.id === t && Object.assign(s, r);
    }), this.layouts = n != null && n.force ? this.layouts.filter((s) => s.id !== t) : this.layouts.map((s) => s.id === t ? { ...s, toRemove: !0 } : s), (o = this.editor) == null || o.trigger(`${Rn.layoutToggleId}${t}`, { isOpen: !1 });
  }
  get(t) {
    return this.layouts.find((n) => n.id === t);
  }
  clear() {
    this.layouts = [];
  }
  get layoutChildren() {
    var r;
    const { children: t } = this.store.appEditorStore.sdkProps, n = ((r = wn(t, Mp)) == null ? void 0 : r.filter(Boolean)) || [];
    return new Map(
      n.map(({ props: o }) => [o.id, o])
    );
  }
}
const bg = () => tn().layoutStore, r4 = () => Nu().layoutStore;
class o4 {
  constructor(t) {
    this.isActive = !1, this.content = "", this.store = t, hn(this, {}, { autoBind: !0 });
  }
  show(t) {
    this.isActive = !0, this.content = t;
  }
  hide() {
    this.isActive = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.content = "";
  }
}
const H0 = () => tn().pointerBadgeStore;
var Oi = /* @__PURE__ */ ((e) => (e.Projects = "projects", e.Settings = "settings", e))(Oi || {}), B0 = /* @__PURE__ */ ((e) => (e.gjs = "gjs", e.gjsStudio = "gjs-studio", e))(B0 || {});
const um = {}, s4 = 1, i4 = (e = {}) => new Promise((t, n) => {
  const r = (e == null ? void 0 : e.db) || "gjs", o = r === "gjs-studio" ? s4 : 1, s = um[r];
  if (s)
    t(s);
  else {
    if (!zr())
      return n(new Error("window context not found"));
    const i = window.indexedDB.open(r, o);
    i.onerror = n, i.onsuccess = () => {
      const a = i.result;
      a.onerror = n, um[r] = a, t(a);
    }, i.onupgradeneeded = () => {
      const a = i.result;
      a.objectStoreNames.contains(
        "projects"
        /* Projects */
      ) || a.createObjectStore(
        "projects"
        /* Projects */
      ), a.objectStoreNames.contains(
        "settings"
        /* Settings */
      ) || a.createObjectStore(
        "settings"
        /* Settings */
      );
    };
  }
}), mu = async (e, t) => (await i4(t)).transaction([e], "readwrite").objectStore(e), a4 = async (e, t) => {
  const n = await mu(e, t);
  return new Promise((r, o) => {
    const s = [], i = n.openCursor();
    i.onerror = o, i.onsuccess = function(a) {
      const c = a.target.result;
      if (c) {
        const d = c.primaryKey, p = c.value;
        s.push({ key: d, data: p }), c.continue();
      } else
        r(s);
    };
  });
}, l4 = async (e, t, n) => {
  const r = await mu(e, n);
  return new Promise((o, s) => {
    const i = r.get(t);
    i.onerror = s, i.onsuccess = () => o(i.result);
  });
}, F0 = async (e, t, n, r) => {
  const o = await mu(e, r);
  return new Promise((s, i) => {
    const a = o.put(n, t);
    a.onerror = i, a.onsuccess = () => s();
  });
}, c4 = async (e, t, n) => {
  const r = await mu(e, n);
  return new Promise((o, s) => {
    const i = r.delete(t);
    i.onerror = s, i.onsuccess = () => o();
  });
};
var Oa = /* @__PURE__ */ ((e) => (e.Existing = "existing", e.Templates = "templates", e))(Oa || {});
const u4 = (e) => {
  const t = Z8();
  return `${(t == null ? void 0 : t.baseApiUrl) || "/api"}/templates/${e}`;
}, d4 = (e, t) => Fr.get(u4(e), {
  ...t
}), p4 = async (e) => {
  try {
    const t = await d4(e);
    return (t == null ? void 0 : t.result) ?? [];
  } catch (t) {
    return console.error(`Failed to load templates for type ${e}:`, t), [];
  }
}, z0 = async (e = ke.web) => typeof window > "u" ? [] : (await a4(Oi.Projects)).map(({ key: r, data: o }) => {
  var s;
  return {
    id: `${r}`,
    name: `${((s = o.custom) == null ? void 0 : s.projectName) || r}`,
    data: o
  };
}).filter((r) => {
  var o;
  return ((o = r.data.custom) == null ? void 0 : o.projectType) === e;
});
class f4 {
  constructor(t) {
    this.store = t, this._projectSourceFilter = Oa.Existing, this._loadedProjects = void 0, this._loadedTemplates = void 0, this._projectTypeFilter = t.appEditorStore.projectType, hn(this, {}, { autoBind: !0 });
  }
  get projectTypeFilter() {
    return this._projectTypeFilter;
  }
  get projectSourceFilter() {
    return this._projectSourceFilter;
  }
  get templates() {
    return this._loadedTemplates;
  }
  get projects() {
    return this._loadedProjects;
  }
  get filteredTemplates() {
    return this.projectSourceFilter === Oa.Existing ? this.projects : this.templates;
  }
  async loadProjects() {
    const t = await z0(this.projectTypeFilter);
    this.setProjects(t);
  }
  async loadTemplates() {
    var o;
    const t = (o = this.store.appEditorStore.sdkOptions.templates) == null ? void 0 : o.onLoad, n = async () => await p4(this.projectTypeFilter);
    let r;
    if (t) {
      const s = this.store.appEditorStore.editor;
      r = await t({ editor: s, fetchCommunityTemplates: n });
    } else
      r = await n();
    this.setTemplates(r);
  }
  async loadAllTemplates() {
    await Promise.all([this.loadProjects(), this.loadTemplates()]);
  }
  async removeProject(t) {
    c4(Oi.Projects, t);
  }
  async setProjectTypeFilter(t) {
    this._projectTypeFilter = t, this.setProjects(void 0), this.setTemplates(void 0);
  }
  setProjectSourceFilter(t) {
    this._projectSourceFilter = t;
  }
  setTemplates(t) {
    this._loadedTemplates = t;
  }
  setProjects(t) {
    this._loadedProjects = t;
  }
}
const U0 = () => tn().templatesStore;
class g4 {
  constructor(t) {
    this.toasts = [], this.store = t, hn(this, {}, { autoBind: !0 });
  }
  add(t, n) {
    this.toasts.find((r) => r.id === t) || this.toasts.push({
      id: t,
      ...n
    });
  }
  addError(t, n) {
    this.add(t, {
      ...ut(n) ? { header: n } : n,
      variant: fn.Error
    });
  }
  addWarning(t, n) {
    this.add(t, {
      ...ut(n) ? { header: n } : n,
      variant: fn.Warning
    });
  }
  addSuccess(t, n) {
    this.add(t, {
      ...ut(n) ? { header: n } : n,
      variant: fn.Success
    });
  }
  addInfo(t, n) {
    this.add(t, {
      ...ut(n) ? { header: n } : n,
      variant: fn.Info
    });
  }
  remove(t) {
    this.toasts = this.toasts.filter((n) => n.id !== t);
  }
}
const W0 = () => tn().toastStore;
class h4 {
  constructor(t) {
    this.isOpen = !1, this.store = t, hn(this, {}, { autoBind: !0 });
  }
  setOpen(t) {
    this.isOpen = t, this.triggerEvent();
  }
  toggleOpen() {
    this.isOpen = !this.isOpen, this.triggerEvent();
  }
  triggerEvent() {
    var t;
    (t = this.store.appEditorStore.editor) == null || t.trigger(Rn.toggleBlocksPanel, { isOpen: this.isOpen });
  }
}
const G0 = () => tn().blockManagerStore, K0 = ":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", m4 = K0 + "\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040", b4 = "[" + K0 + "][" + m4 + "]*", v4 = new RegExp("^" + b4 + "$");
function q0(e, t) {
  const n = [];
  let r = t.exec(e);
  for (; r; ) {
    const o = [];
    o.startIndex = t.lastIndex - r[0].length;
    const s = r.length;
    for (let i = 0; i < s; i++)
      o.push(r[i]);
    n.push(o), r = t.exec(e);
  }
  return n;
}
const bu = function(e) {
  const t = v4.exec(e);
  return !(t === null || typeof t > "u");
};
function y4(e) {
  return typeof e < "u";
}
const w4 = {
  allowBooleanAttributes: !1,
  //A tag can have attributes without any value
  unpairedTags: []
};
function S4(e, t) {
  t = Object.assign({}, w4, t);
  const n = [];
  let r = !1, o = !1;
  e[0] === "\uFEFF" && (e = e.substr(1));
  for (let s = 0; s < e.length; s++)
    if (e[s] === "<" && e[s + 1] === "?") {
      if (s += 2, s = pm(e, s), s.err)
        return s;
    } else if (e[s] === "<") {
      let i = s;
      if (s++, e[s] === "!") {
        s = fm(e, s);
        continue;
      } else {
        let a = !1;
        e[s] === "/" && (a = !0, s++);
        let l = "";
        for (; s < e.length && e[s] !== ">" && e[s] !== " " && e[s] !== "	" && e[s] !== `
` && e[s] !== "\r"; s++)
          l += e[s];
        if (l = l.trim(), l[l.length - 1] === "/" && (l = l.substring(0, l.length - 1), s--), !A4(l)) {
          let p;
          return l.trim().length === 0 ? p = "Invalid space after '<'." : p = "Tag '" + l + "' is an invalid name.", $t("InvalidTag", p, dn(e, s));
        }
        const c = P4(e, s);
        if (c === !1)
          return $t("InvalidAttr", "Attributes for '" + l + "' have open quote.", dn(e, s));
        let d = c.value;
        if (s = c.index, d[d.length - 1] === "/") {
          const p = s - d.length;
          d = d.substring(0, d.length - 1);
          const f = gm(d, t);
          if (f === !0)
            r = !0;
          else
            return $t(f.err.code, f.err.msg, dn(e, p + f.err.line));
        } else if (a)
          if (c.tagClosed) {
            if (d.trim().length > 0)
              return $t("InvalidTag", "Closing tag '" + l + "' can't have attributes or invalid starting.", dn(e, i));
            if (n.length === 0)
              return $t("InvalidTag", "Closing tag '" + l + "' has not been opened.", dn(e, i));
            {
              const p = n.pop();
              if (l !== p.tagName) {
                let f = dn(e, p.tagStartPos);
                return $t(
                  "InvalidTag",
                  "Expected closing tag '" + p.tagName + "' (opened in line " + f.line + ", col " + f.col + ") instead of closing tag '" + l + "'.",
                  dn(e, i)
                );
              }
              n.length == 0 && (o = !0);
            }
          } else
            return $t("InvalidTag", "Closing tag '" + l + "' doesn't have proper closing.", dn(e, s));
        else {
          const p = gm(d, t);
          if (p !== !0)
            return $t(p.err.code, p.err.msg, dn(e, s - d.length + p.err.line));
          if (o === !0)
            return $t("InvalidXml", "Multiple possible root nodes found.", dn(e, s));
          t.unpairedTags.indexOf(l) !== -1 || n.push({ tagName: l, tagStartPos: i }), r = !0;
        }
        for (s++; s < e.length; s++)
          if (e[s] === "<")
            if (e[s + 1] === "!") {
              s++, s = fm(e, s);
              continue;
            } else if (e[s + 1] === "?") {
              if (s = pm(e, ++s), s.err)
                return s;
            } else
              break;
          else if (e[s] === "&") {
            const p = O4(e, s);
            if (p == -1)
              return $t("InvalidChar", "char '&' is not expected.", dn(e, s));
            s = p;
          } else if (o === !0 && !dm(e[s]))
            return $t("InvalidXml", "Extra text at the end", dn(e, s));
        e[s] === "<" && s--;
      }
    } else {
      if (dm(e[s]))
        continue;
      return $t("InvalidChar", "char '" + e[s] + "' is not expected.", dn(e, s));
    }
  if (r) {
    if (n.length == 1)
      return $t("InvalidTag", "Unclosed tag '" + n[0].tagName + "'.", dn(e, n[0].tagStartPos));
    if (n.length > 0)
      return $t("InvalidXml", "Invalid '" + JSON.stringify(n.map((s) => s.tagName), null, 4).replace(/\r?\n/g, "") + "' found.", { line: 1, col: 1 });
  } else
    return $t("InvalidXml", "Start tag expected.", 1);
  return !0;
}
function dm(e) {
  return e === " " || e === "	" || e === `
` || e === "\r";
}
function pm(e, t) {
  const n = t;
  for (; t < e.length; t++)
    if (e[t] == "?" || e[t] == " ") {
      const r = e.substr(n, t - n);
      if (t > 5 && r === "xml")
        return $t("InvalidXml", "XML declaration allowed only at the start of the document.", dn(e, t));
      if (e[t] == "?" && e[t + 1] == ">") {
        t++;
        break;
      } else
        continue;
    }
  return t;
}
function fm(e, t) {
  if (e.length > t + 5 && e[t + 1] === "-" && e[t + 2] === "-") {
    for (t += 3; t < e.length; t++)
      if (e[t] === "-" && e[t + 1] === "-" && e[t + 2] === ">") {
        t += 2;
        break;
      }
  } else if (e.length > t + 8 && e[t + 1] === "D" && e[t + 2] === "O" && e[t + 3] === "C" && e[t + 4] === "T" && e[t + 5] === "Y" && e[t + 6] === "P" && e[t + 7] === "E") {
    let n = 1;
    for (t += 8; t < e.length; t++)
      if (e[t] === "<")
        n++;
      else if (e[t] === ">" && (n--, n === 0))
        break;
  } else if (e.length > t + 9 && e[t + 1] === "[" && e[t + 2] === "C" && e[t + 3] === "D" && e[t + 4] === "A" && e[t + 5] === "T" && e[t + 6] === "A" && e[t + 7] === "[") {
    for (t += 8; t < e.length; t++)
      if (e[t] === "]" && e[t + 1] === "]" && e[t + 2] === ">") {
        t += 2;
        break;
      }
  }
  return t;
}
const C4 = '"', x4 = "'";
function P4(e, t) {
  let n = "", r = "", o = !1;
  for (; t < e.length; t++) {
    if (e[t] === C4 || e[t] === x4)
      r === "" ? r = e[t] : r !== e[t] || (r = "");
    else if (e[t] === ">" && r === "") {
      o = !0;
      break;
    }
    n += e[t];
  }
  return r !== "" ? !1 : {
    value: n,
    index: t,
    tagClosed: o
  };
}
const E4 = new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`, "g");
function gm(e, t) {
  const n = q0(e, E4), r = {};
  for (let o = 0; o < n.length; o++) {
    if (n[o][1].length === 0)
      return $t("InvalidAttr", "Attribute '" + n[o][2] + "' has no space in starting.", Fi(n[o]));
    if (n[o][3] !== void 0 && n[o][4] === void 0)
      return $t("InvalidAttr", "Attribute '" + n[o][2] + "' is without value.", Fi(n[o]));
    if (n[o][3] === void 0 && !t.allowBooleanAttributes)
      return $t("InvalidAttr", "boolean attribute '" + n[o][2] + "' is not allowed.", Fi(n[o]));
    const s = n[o][2];
    if (!_4(s))
      return $t("InvalidAttr", "Attribute '" + s + "' is an invalid name.", Fi(n[o]));
    if (!r.hasOwnProperty(s))
      r[s] = 1;
    else
      return $t("InvalidAttr", "Attribute '" + s + "' is repeated.", Fi(n[o]));
  }
  return !0;
}
function T4(e, t) {
  let n = /\d/;
  for (e[t] === "x" && (t++, n = /[\da-fA-F]/); t < e.length; t++) {
    if (e[t] === ";")
      return t;
    if (!e[t].match(n))
      break;
  }
  return -1;
}
function O4(e, t) {
  if (t++, e[t] === ";")
    return -1;
  if (e[t] === "#")
    return t++, T4(e, t);
  let n = 0;
  for (; t < e.length; t++, n++)
    if (!(e[t].match(/\w/) && n < 20)) {
      if (e[t] === ";")
        break;
      return -1;
    }
  return t;
}
function $t(e, t, n) {
  return {
    err: {
      code: e,
      msg: t,
      line: n.line || n,
      col: n.col
    }
  };
}
function _4(e) {
  return bu(e);
}
function A4(e) {
  return bu(e);
}
function dn(e, t) {
  const n = e.substring(0, t).split(/\r?\n/);
  return {
    line: n.length,
    // column number is last line's length + 1, because column numbering starts at 1:
    col: n[n.length - 1].length + 1
  };
}
function Fi(e) {
  return e.startIndex + e[1].length;
}
const L4 = {
  preserveOrder: !1,
  attributeNamePrefix: "@_",
  attributesGroupName: !1,
  textNodeName: "#text",
  ignoreAttributes: !0,
  removeNSPrefix: !1,
  // remove NS from tag name or attribute name if true
  allowBooleanAttributes: !1,
  //a tag can have attributes without any value
  //ignoreRootElement : false,
  parseTagValue: !0,
  parseAttributeValue: !1,
  trimValues: !0,
  //Trim string values of tag and attributes
  cdataPropName: !1,
  numberParseOptions: {
    hex: !0,
    leadingZeros: !0,
    eNotation: !0
  },
  tagValueProcessor: function(e, t) {
    return t;
  },
  attributeValueProcessor: function(e, t) {
    return t;
  },
  stopNodes: [],
  //nested tags will not be parsed even for errors
  alwaysCreateTextNode: !1,
  isArray: () => !1,
  commentPropName: !1,
  unpairedTags: [],
  processEntities: !0,
  htmlEntities: !1,
  ignoreDeclaration: !1,
  ignorePiTags: !1,
  transformTagName: !1,
  transformAttributeName: !1,
  updateTag: function(e, t, n) {
    return e;
  },
  // skipEmptyListItem: false
  captureMetaData: !1
}, N4 = function(e) {
  return Object.assign({}, L4, e);
};
let Tc;
typeof Symbol != "function" ? Tc = "@@xmlMetadata" : Tc = Symbol("XML Node Metadata");
class cs {
  constructor(t) {
    this.tagname = t, this.child = [], this[":@"] = {};
  }
  add(t, n) {
    t === "__proto__" && (t = "#__proto__"), this.child.push({ [t]: n });
  }
  addChild(t, n) {
    t.tagname === "__proto__" && (t.tagname = "#__proto__"), t[":@"] && Object.keys(t[":@"]).length > 0 ? this.child.push({ [t.tagname]: t.child, ":@": t[":@"] }) : this.child.push({ [t.tagname]: t.child }), n !== void 0 && (this.child[this.child.length - 1][Tc] = { startIndex: n });
  }
  /** symbol used for metadata */
  static getMetaDataSymbol() {
    return Tc;
  }
}
class k4 {
  constructor(t) {
    this.suppressValidationErr = !t;
  }
  readDocType(t, n) {
    const r = {};
    if (t[n + 3] === "O" && t[n + 4] === "C" && t[n + 5] === "T" && t[n + 6] === "Y" && t[n + 7] === "P" && t[n + 8] === "E") {
      n = n + 9;
      let o = 1, s = !1, i = !1, a = "";
      for (; n < t.length; n++)
        if (t[n] === "<" && !i) {
          if (s && os(t, "!ENTITY", n)) {
            n += 7;
            let l, c;
            [l, c, n] = this.readEntityExp(t, n + 1, this.suppressValidationErr), c.indexOf("&") === -1 && (r[l] = {
              regx: RegExp(`&${l};`, "g"),
              val: c
            });
          } else if (s && os(t, "!ELEMENT", n)) {
            n += 8;
            const { index: l } = this.readElementExp(t, n + 1);
            n = l;
          } else if (s && os(t, "!ATTLIST", n))
            n += 8;
          else if (s && os(t, "!NOTATION", n)) {
            n += 9;
            const { index: l } = this.readNotationExp(t, n + 1, this.suppressValidationErr);
            n = l;
          } else if (os(t, "!--", n))
            i = !0;
          else
            throw new Error("Invalid DOCTYPE");
          o++, a = "";
        } else if (t[n] === ">") {
          if (i ? t[n - 1] === "-" && t[n - 2] === "-" && (i = !1, o--) : o--, o === 0)
            break;
        } else
          t[n] === "[" ? s = !0 : a += t[n];
      if (o !== 0)
        throw new Error("Unclosed DOCTYPE");
    } else
      throw new Error("Invalid Tag instead of DOCTYPE");
    return { entities: r, i: n };
  }
  readEntityExp(t, n) {
    n = bn(t, n);
    let r = "";
    for (; n < t.length && !/\s/.test(t[n]) && t[n] !== '"' && t[n] !== "'"; )
      r += t[n], n++;
    if (zi(r), n = bn(t, n), !this.suppressValidationErr) {
      if (t.substring(n, n + 6).toUpperCase() === "SYSTEM")
        throw new Error("External entities are not supported");
      if (t[n] === "%")
        throw new Error("Parameter entities are not supported");
    }
    let o = "";
    return [n, o] = this.readIdentifierVal(t, n, "entity"), n--, [r, o, n];
  }
  readNotationExp(t, n) {
    n = bn(t, n);
    let r = "";
    for (; n < t.length && !/\s/.test(t[n]); )
      r += t[n], n++;
    !this.suppressValidationErr && zi(r), n = bn(t, n);
    const o = t.substring(n, n + 6).toUpperCase();
    if (!this.suppressValidationErr && o !== "SYSTEM" && o !== "PUBLIC")
      throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);
    n += o.length, n = bn(t, n);
    let s = null, i = null;
    if (o === "PUBLIC")
      [n, s] = this.readIdentifierVal(t, n, "publicIdentifier"), n = bn(t, n), (t[n] === '"' || t[n] === "'") && ([n, i] = this.readIdentifierVal(t, n, "systemIdentifier"));
    else if (o === "SYSTEM" && ([n, i] = this.readIdentifierVal(t, n, "systemIdentifier"), !this.suppressValidationErr && !i))
      throw new Error("Missing mandatory system identifier for SYSTEM notation");
    return { notationName: r, publicIdentifier: s, systemIdentifier: i, index: --n };
  }
  readIdentifierVal(t, n, r) {
    let o = "";
    const s = t[n];
    if (s !== '"' && s !== "'")
      throw new Error(`Expected quoted string, found "${s}"`);
    for (n++; n < t.length && t[n] !== s; )
      o += t[n], n++;
    if (t[n] !== s)
      throw new Error(`Unterminated ${r} value`);
    return n++, [n, o];
  }
  readElementExp(t, n) {
    n = bn(t, n);
    let r = "";
    for (; n < t.length && !/\s/.test(t[n]); )
      r += t[n], n++;
    if (!this.suppressValidationErr && !bu(r))
      throw new Error(`Invalid element name: "${r}"`);
    n = bn(t, n);
    let o = "";
    if (t[n] === "E" && os(t, "MPTY", n))
      n += 4;
    else if (t[n] === "A" && os(t, "NY", n))
      n += 2;
    else if (t[n] === "(") {
      for (n++; n < t.length && t[n] !== ")"; )
        o += t[n], n++;
      if (t[n] !== ")")
        throw new Error("Unterminated content model");
    } else if (!this.suppressValidationErr)
      throw new Error(`Invalid Element Expression, found "${t[n]}"`);
    return {
      elementName: r,
      contentModel: o.trim(),
      index: n
    };
  }
  readAttlistExp(t, n) {
    n = bn(t, n);
    let r = "";
    for (; n < t.length && !/\s/.test(t[n]); )
      r += t[n], n++;
    zi(r), n = bn(t, n);
    let o = "";
    for (; n < t.length && !/\s/.test(t[n]); )
      o += t[n], n++;
    if (!zi(o))
      throw new Error(`Invalid attribute name: "${o}"`);
    n = bn(t, n);
    let s = "";
    if (t.substring(n, n + 8).toUpperCase() === "NOTATION") {
      if (s = "NOTATION", n += 8, n = bn(t, n), t[n] !== "(")
        throw new Error(`Expected '(', found "${t[n]}"`);
      n++;
      let a = [];
      for (; n < t.length && t[n] !== ")"; ) {
        let l = "";
        for (; n < t.length && t[n] !== "|" && t[n] !== ")"; )
          l += t[n], n++;
        if (l = l.trim(), !zi(l))
          throw new Error(`Invalid notation name: "${l}"`);
        a.push(l), t[n] === "|" && (n++, n = bn(t, n));
      }
      if (t[n] !== ")")
        throw new Error("Unterminated list of notations");
      n++, s += " (" + a.join("|") + ")";
    } else {
      for (; n < t.length && !/\s/.test(t[n]); )
        s += t[n], n++;
      const a = ["CDATA", "ID", "IDREF", "IDREFS", "ENTITY", "ENTITIES", "NMTOKEN", "NMTOKENS"];
      if (!this.suppressValidationErr && !a.includes(s.toUpperCase()))
        throw new Error(`Invalid attribute type: "${s}"`);
    }
    n = bn(t, n);
    let i = "";
    return t.substring(n, n + 8).toUpperCase() === "#REQUIRED" ? (i = "#REQUIRED", n += 8) : t.substring(n, n + 7).toUpperCase() === "#IMPLIED" ? (i = "#IMPLIED", n += 7) : [n, i] = this.readIdentifierVal(t, n, "ATTLIST"), {
      elementName: r,
      attributeName: o,
      attributeType: s,
      defaultValue: i,
      index: n
    };
  }
}
const bn = (e, t) => {
  for (; t < e.length && /\s/.test(e[t]); )
    t++;
  return t;
};
function os(e, t, n) {
  for (let r = 0; r < t.length; r++)
    if (t[r] !== e[n + r + 1])
      return !1;
  return !0;
}
function zi(e) {
  if (bu(e))
    return e;
  throw new Error(`Invalid entity name ${e}`);
}
const M4 = /^[-+]?0x[a-fA-F0-9]+$/, $4 = /^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/, R4 = {
  hex: !0,
  // oct: false,
  leadingZeros: !0,
  decimalPoint: ".",
  eNotation: !0
  //skipLike: /regex/
};
function I4(e, t = {}) {
  if (t = Object.assign({}, R4, t), !e || typeof e != "string")
    return e;
  let n = e.trim();
  if (t.skipLike !== void 0 && t.skipLike.test(n))
    return e;
  if (e === "0")
    return 0;
  if (t.hex && M4.test(n))
    return H4(n, 16);
  if (n.search(/.+[eE].+/) !== -1)
    return V4(e, n, t);
  {
    const r = $4.exec(n);
    if (r) {
      const o = r[1] || "", s = r[2];
      let i = D4(r[3]);
      const a = o ? (
        // 0., -00., 000.
        e[s.length + 1] === "."
      ) : e[s.length] === ".";
      if (!t.leadingZeros && (s.length > 1 || s.length === 1 && !a))
        return e;
      {
        const l = Number(n), c = String(l);
        if (l === 0)
          return l;
        if (c.search(/[eE]/) !== -1)
          return t.eNotation ? l : e;
        if (n.indexOf(".") !== -1)
          return c === "0" || c === i || c === `${o}${i}` ? l : e;
        let d = s ? i : n;
        return s ? d === c || o + d === c ? l : e : d === c || d === o + c ? l : e;
      }
    } else
      return e;
  }
}
const j4 = /^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;
function V4(e, t, n) {
  if (!n.eNotation)
    return e;
  const r = t.match(j4);
  if (r) {
    let o = r[1] || "";
    const s = r[3].indexOf("e") === -1 ? "E" : "e", i = r[2], a = o ? (
      // 0E.
      e[i.length + 1] === s
    ) : e[i.length] === s;
    return i.length > 1 && a ? e : i.length === 1 && (r[3].startsWith(`.${s}`) || r[3][0] === s) ? Number(t) : n.leadingZeros && !a ? (t = (r[1] || "") + r[3], Number(t)) : e;
  } else
    return e;
}
function D4(e) {
  return e && e.indexOf(".") !== -1 && (e = e.replace(/0+$/, ""), e === "." ? e = "0" : e[0] === "." ? e = "0" + e : e[e.length - 1] === "." && (e = e.substring(0, e.length - 1))), e;
}
function H4(e, t) {
  if (parseInt)
    return parseInt(e, t);
  if (Number.parseInt)
    return Number.parseInt(e, t);
  if (window && window.parseInt)
    return window.parseInt(e, t);
  throw new Error("parseInt, Number.parseInt, window.parseInt are not supported");
}
function Y0(e) {
  return typeof e == "function" ? e : Array.isArray(e) ? (t) => {
    for (const n of e)
      if (typeof n == "string" && t === n || n instanceof RegExp && n.test(t))
        return !0;
  } : () => !1;
}
class B4 {
  constructor(t) {
    if (this.options = t, this.currentNode = null, this.tagsNodeStack = [], this.docTypeEntities = {}, this.lastEntities = {
      apos: { regex: /&(apos|#39|#x27);/g, val: "'" },
      gt: { regex: /&(gt|#62|#x3E);/g, val: ">" },
      lt: { regex: /&(lt|#60|#x3C);/g, val: "<" },
      quot: { regex: /&(quot|#34|#x22);/g, val: '"' }
    }, this.ampEntity = { regex: /&(amp|#38|#x26);/g, val: "&" }, this.htmlEntities = {
      space: { regex: /&(nbsp|#160);/g, val: " " },
      // "lt" : { regex: /&(lt|#60);/g, val: "<" },
      // "gt" : { regex: /&(gt|#62);/g, val: ">" },
      // "amp" : { regex: /&(amp|#38);/g, val: "&" },
      // "quot" : { regex: /&(quot|#34);/g, val: "\"" },
      // "apos" : { regex: /&(apos|#39);/g, val: "'" },
      cent: { regex: /&(cent|#162);/g, val: "" },
      pound: { regex: /&(pound|#163);/g, val: "" },
      yen: { regex: /&(yen|#165);/g, val: "" },
      euro: { regex: /&(euro|#8364);/g, val: "" },
      copyright: { regex: /&(copy|#169);/g, val: "" },
      reg: { regex: /&(reg|#174);/g, val: "" },
      inr: { regex: /&(inr|#8377);/g, val: "" },
      num_dec: { regex: /&#([0-9]{1,7});/g, val: (n, r) => String.fromCodePoint(Number.parseInt(r, 10)) },
      num_hex: { regex: /&#x([0-9a-fA-F]{1,6});/g, val: (n, r) => String.fromCodePoint(Number.parseInt(r, 16)) }
    }, this.addExternalEntities = F4, this.parseXml = K4, this.parseTextData = z4, this.resolveNameSpace = U4, this.buildAttributesMap = G4, this.isItStopNode = X4, this.replaceEntitiesValue = Y4, this.readStopNodeData = Q4, this.saveTextToParentTag = Z4, this.addChild = q4, this.ignoreAttributesFn = Y0(this.options.ignoreAttributes), this.options.stopNodes && this.options.stopNodes.length > 0) {
      this.stopNodesExact = /* @__PURE__ */ new Set(), this.stopNodesWildcard = /* @__PURE__ */ new Set();
      for (let n = 0; n < this.options.stopNodes.length; n++) {
        const r = this.options.stopNodes[n];
        typeof r == "string" && (r.startsWith("*.") ? this.stopNodesWildcard.add(r.substring(2)) : this.stopNodesExact.add(r));
      }
    }
  }
}
function F4(e) {
  const t = Object.keys(e);
  for (let n = 0; n < t.length; n++) {
    const r = t[n];
    this.lastEntities[r] = {
      regex: new RegExp("&" + r + ";", "g"),
      val: e[r]
    };
  }
}
function z4(e, t, n, r, o, s, i) {
  if (e !== void 0 && (this.options.trimValues && !r && (e = e.trim()), e.length > 0)) {
    i || (e = this.replaceEntitiesValue(e));
    const a = this.options.tagValueProcessor(t, e, n, o, s);
    return a == null ? e : typeof a != typeof e || a !== e ? a : this.options.trimValues ? Rp(e, this.options.parseTagValue, this.options.numberParseOptions) : e.trim() === e ? Rp(e, this.options.parseTagValue, this.options.numberParseOptions) : e;
  }
}
function U4(e) {
  if (this.options.removeNSPrefix) {
    const t = e.split(":"), n = e.charAt(0) === "/" ? "/" : "";
    if (t[0] === "xmlns")
      return "";
    t.length === 2 && (e = n + t[1]);
  }
  return e;
}
const W4 = new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`, "gm");
function G4(e, t, n) {
  if (this.options.ignoreAttributes !== !0 && typeof e == "string") {
    const r = q0(e, W4), o = r.length, s = {};
    for (let i = 0; i < o; i++) {
      const a = this.resolveNameSpace(r[i][1]);
      if (this.ignoreAttributesFn(a, t))
        continue;
      let l = r[i][4], c = this.options.attributeNamePrefix + a;
      if (a.length)
        if (this.options.transformAttributeName && (c = this.options.transformAttributeName(c)), c === "__proto__" && (c = "#__proto__"), l !== void 0) {
          this.options.trimValues && (l = l.trim()), l = this.replaceEntitiesValue(l);
          const d = this.options.attributeValueProcessor(a, l, t);
          d == null ? s[c] = l : typeof d != typeof l || d !== l ? s[c] = d : s[c] = Rp(
            l,
            this.options.parseAttributeValue,
            this.options.numberParseOptions
          );
        } else
          this.options.allowBooleanAttributes && (s[c] = !0);
    }
    if (!Object.keys(s).length)
      return;
    if (this.options.attributesGroupName) {
      const i = {};
      return i[this.options.attributesGroupName] = s, i;
    }
    return s;
  }
}
const K4 = function(e) {
  e = e.replace(/\r\n?/g, `
`);
  const t = new cs("!xml");
  let n = t, r = "", o = "";
  const s = new k4(this.options.processEntities);
  for (let i = 0; i < e.length; i++)
    if (e[i] === "<")
      if (e[i + 1] === "/") {
        const l = fs(e, ">", i, "Closing Tag is not closed.");
        let c = e.substring(i + 2, l).trim();
        if (this.options.removeNSPrefix) {
          const f = c.indexOf(":");
          f !== -1 && (c = c.substr(f + 1));
        }
        this.options.transformTagName && (c = this.options.transformTagName(c)), n && (r = this.saveTextToParentTag(r, n, o));
        const d = o.substring(o.lastIndexOf(".") + 1);
        if (c && this.options.unpairedTags.indexOf(c) !== -1)
          throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);
        let p = 0;
        d && this.options.unpairedTags.indexOf(d) !== -1 ? (p = o.lastIndexOf(".", o.lastIndexOf(".") - 1), this.tagsNodeStack.pop()) : p = o.lastIndexOf("."), o = o.substring(0, p), n = this.tagsNodeStack.pop(), r = "", i = l;
      } else if (e[i + 1] === "?") {
        let l = $p(e, i, !1, "?>");
        if (!l)
          throw new Error("Pi Tag is not closed.");
        if (r = this.saveTextToParentTag(r, n, o), !(this.options.ignoreDeclaration && l.tagName === "?xml" || this.options.ignorePiTags)) {
          const c = new cs(l.tagName);
          c.add(this.options.textNodeName, ""), l.tagName !== l.tagExp && l.attrExpPresent && (c[":@"] = this.buildAttributesMap(l.tagExp, o, l.tagName)), this.addChild(n, c, o, i);
        }
        i = l.closeIndex + 1;
      } else if (e.substr(i + 1, 3) === "!--") {
        const l = fs(e, "-->", i + 4, "Comment is not closed.");
        if (this.options.commentPropName) {
          const c = e.substring(i + 4, l - 2);
          r = this.saveTextToParentTag(r, n, o), n.add(this.options.commentPropName, [{ [this.options.textNodeName]: c }]);
        }
        i = l;
      } else if (e.substr(i + 1, 2) === "!D") {
        const l = s.readDocType(e, i);
        this.docTypeEntities = l.entities, i = l.i;
      } else if (e.substr(i + 1, 2) === "![") {
        const l = fs(e, "]]>", i, "CDATA is not closed.") - 2, c = e.substring(i + 9, l);
        r = this.saveTextToParentTag(r, n, o);
        let d = this.parseTextData(c, n.tagname, o, !0, !1, !0, !0);
        d == null && (d = ""), this.options.cdataPropName ? n.add(this.options.cdataPropName, [{ [this.options.textNodeName]: c }]) : n.add(this.options.textNodeName, d), i = l + 2;
      } else {
        let l = $p(e, i, this.options.removeNSPrefix), c = l.tagName;
        const d = l.rawTagName;
        let p = l.tagExp, f = l.attrExpPresent, g = l.closeIndex;
        this.options.transformTagName && (c = this.options.transformTagName(c)), n && r && n.tagname !== "!xml" && (r = this.saveTextToParentTag(r, n, o, !1));
        const h = n;
        h && this.options.unpairedTags.indexOf(h.tagname) !== -1 && (n = this.tagsNodeStack.pop(), o = o.substring(0, o.lastIndexOf("."))), c !== t.tagname && (o += o ? "." + c : c);
        const m = i;
        if (this.isItStopNode(this.stopNodesExact, this.stopNodesWildcard, o, c)) {
          let b = "";
          if (p.length > 0 && p.lastIndexOf("/") === p.length - 1)
            c[c.length - 1] === "/" ? (c = c.substr(0, c.length - 1), o = o.substr(0, o.length - 1), p = c) : p = p.substr(0, p.length - 1), i = l.closeIndex;
          else if (this.options.unpairedTags.indexOf(c) !== -1)
            i = l.closeIndex;
          else {
            const v = this.readStopNodeData(e, d, g + 1);
            if (!v)
              throw new Error(`Unexpected end of ${d}`);
            i = v.i, b = v.tagContent;
          }
          const y = new cs(c);
          c !== p && f && (y[":@"] = this.buildAttributesMap(p, o, c)), b && (b = this.parseTextData(b, c, o, !0, f, !0, !0)), o = o.substr(0, o.lastIndexOf(".")), y.add(this.options.textNodeName, b), this.addChild(n, y, o, m);
        } else {
          if (p.length > 0 && p.lastIndexOf("/") === p.length - 1) {
            c[c.length - 1] === "/" ? (c = c.substr(0, c.length - 1), o = o.substr(0, o.length - 1), p = c) : p = p.substr(0, p.length - 1), this.options.transformTagName && (c = this.options.transformTagName(c));
            const b = new cs(c);
            c !== p && f && (b[":@"] = this.buildAttributesMap(p, o, c)), this.addChild(n, b, o, m), o = o.substr(0, o.lastIndexOf("."));
          } else {
            const b = new cs(c);
            this.tagsNodeStack.push(n), c !== p && f && (b[":@"] = this.buildAttributesMap(p, o, c)), this.addChild(n, b, o, m), n = b;
          }
          r = "", i = g;
        }
      }
    else
      r += e[i];
  return t.child;
};
function q4(e, t, n, r) {
  this.options.captureMetaData || (r = void 0);
  const o = this.options.updateTag(t.tagname, n, t[":@"]);
  o === !1 || (typeof o == "string" && (t.tagname = o), e.addChild(t, r));
}
const Y4 = function(e) {
  if (this.options.processEntities) {
    for (let t in this.docTypeEntities) {
      const n = this.docTypeEntities[t];
      e = e.replace(n.regx, n.val);
    }
    for (let t in this.lastEntities) {
      const n = this.lastEntities[t];
      e = e.replace(n.regex, n.val);
    }
    if (this.options.htmlEntities)
      for (let t in this.htmlEntities) {
        const n = this.htmlEntities[t];
        e = e.replace(n.regex, n.val);
      }
    e = e.replace(this.ampEntity.regex, this.ampEntity.val);
  }
  return e;
};
function Z4(e, t, n, r) {
  return e && (r === void 0 && (r = t.child.length === 0), e = this.parseTextData(
    e,
    t.tagname,
    n,
    !1,
    t[":@"] ? Object.keys(t[":@"]).length !== 0 : !1,
    r
  ), e !== void 0 && e !== "" && t.add(this.options.textNodeName, e), e = ""), e;
}
function X4(e, t, n, r) {
  return !!(t && t.has(r) || e && e.has(n));
}
function J4(e, t, n = ">") {
  let r, o = "";
  for (let s = t; s < e.length; s++) {
    let i = e[s];
    if (r)
      i === r && (r = "");
    else if (i === '"' || i === "'")
      r = i;
    else if (i === n[0])
      if (n[1]) {
        if (e[s + 1] === n[1])
          return {
            data: o,
            index: s
          };
      } else
        return {
          data: o,
          index: s
        };
    else
      i === "	" && (i = " ");
    o += i;
  }
}
function fs(e, t, n, r) {
  const o = e.indexOf(t, n);
  if (o === -1)
    throw new Error(r);
  return o + t.length - 1;
}
function $p(e, t, n, r = ">") {
  const o = J4(e, t + 1, r);
  if (!o)
    return;
  let s = o.data;
  const i = o.index, a = s.search(/\s/);
  let l = s, c = !0;
  a !== -1 && (l = s.substring(0, a), s = s.substring(a + 1).trimStart());
  const d = l;
  if (n) {
    const p = l.indexOf(":");
    p !== -1 && (l = l.substr(p + 1), c = l !== o.data.substr(p + 1));
  }
  return {
    tagName: l,
    tagExp: s,
    closeIndex: i,
    attrExpPresent: c,
    rawTagName: d
  };
}
function Q4(e, t, n) {
  const r = n;
  let o = 1;
  for (; n < e.length; n++)
    if (e[n] === "<")
      if (e[n + 1] === "/") {
        const s = fs(e, ">", n, `${t} is not closed`);
        if (e.substring(n + 2, s).trim() === t && (o--, o === 0))
          return {
            tagContent: e.substring(r, n),
            i: s
          };
        n = s;
      } else if (e[n + 1] === "?")
        n = fs(e, "?>", n + 1, "StopNode is not closed.");
      else if (e.substr(n + 1, 3) === "!--")
        n = fs(e, "-->", n + 3, "StopNode is not closed.");
      else if (e.substr(n + 1, 2) === "![")
        n = fs(e, "]]>", n, "StopNode is not closed.") - 2;
      else {
        const s = $p(e, n, ">");
        s && ((s && s.tagName) === t && s.tagExp[s.tagExp.length - 1] !== "/" && o++, n = s.closeIndex);
      }
}
function Rp(e, t, n) {
  if (t && typeof e == "string") {
    const r = e.trim();
    return r === "true" ? !0 : r === "false" ? !1 : I4(e, n);
  } else
    return y4(e) ? e : "";
}
const fd = cs.getMetaDataSymbol();
function eL(e, t) {
  return Z0(e, t);
}
function Z0(e, t, n) {
  let r;
  const o = {};
  for (let s = 0; s < e.length; s++) {
    const i = e[s], a = tL(i);
    let l = "";
    if (n === void 0 ? l = a : l = n + "." + a, a === t.textNodeName)
      r === void 0 ? r = i[a] : r += "" + i[a];
    else {
      if (a === void 0)
        continue;
      if (i[a]) {
        let c = Z0(i[a], t, l);
        const d = rL(c, t);
        i[fd] !== void 0 && (c[fd] = i[fd]), i[":@"] ? nL(c, i[":@"], l, t) : Object.keys(c).length === 1 && c[t.textNodeName] !== void 0 && !t.alwaysCreateTextNode ? c = c[t.textNodeName] : Object.keys(c).length === 0 && (t.alwaysCreateTextNode ? c[t.textNodeName] = "" : c = ""), o[a] !== void 0 && o.hasOwnProperty(a) ? (Array.isArray(o[a]) || (o[a] = [o[a]]), o[a].push(c)) : t.isArray(a, l, d) ? o[a] = [c] : o[a] = c;
      }
    }
  }
  return typeof r == "string" ? r.length > 0 && (o[t.textNodeName] = r) : r !== void 0 && (o[t.textNodeName] = r), o;
}
function tL(e) {
  const t = Object.keys(e);
  for (let n = 0; n < t.length; n++) {
    const r = t[n];
    if (r !== ":@")
      return r;
  }
}
function nL(e, t, n, r) {
  if (t) {
    const o = Object.keys(t), s = o.length;
    for (let i = 0; i < s; i++) {
      const a = o[i];
      r.isArray(a, n + "." + a, !0, !0) ? e[a] = [t[a]] : e[a] = t[a];
    }
  }
}
function rL(e, t) {
  const { textNodeName: n } = t, r = Object.keys(e).length;
  return !!(r === 0 || r === 1 && (e[n] || typeof e[n] == "boolean" || e[n] === 0));
}
class oL {
  constructor(t) {
    this.externalEntities = {}, this.options = N4(t);
  }
  /**
   * Parse XML dats to JS object 
   * @param {string|Uint8Array} xmlData 
   * @param {boolean|Object} validationOption 
   */
  parse(t, n) {
    if (typeof t != "string" && t.toString)
      t = t.toString();
    else if (typeof t != "string")
      throw new Error("XML data is accepted in String or Bytes[] form.");
    if (n) {
      n === !0 && (n = {});
      const s = S4(t, n);
      if (s !== !0)
        throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`);
    }
    const r = new B4(this.options);
    r.addExternalEntities(this.externalEntities);
    const o = r.parseXml(t);
    return this.options.preserveOrder || o === void 0 ? o : eL(o, this.options);
  }
  /**
   * Add Entity which is not by default supported by this library
   * @param {string} key 
   * @param {string} value 
   */
  addEntity(t, n) {
    if (n.indexOf("&") !== -1)
      throw new Error("Entity value can't have '&'");
    if (t.indexOf("&") !== -1 || t.indexOf(";") !== -1)
      throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");
    if (n === "&")
      throw new Error("An entity with value '&' is not permitted");
    this.externalEntities[t] = n;
  }
  /**
   * Returns a Symbol that can be used to access the metadata
   * property on a node.
   * 
   * If Symbol is not available in the environment, an ordinary property is used
   * and the name of the property is here returned.
   * 
   * The XMLMetaData property is only present when `captureMetaData`
   * is true in the options.
   */
  static getMetaDataSymbol() {
    return cs.getMetaDataSymbol();
  }
}
const sL = `
`;
function iL(e, t) {
  let n = "";
  return t.format && t.indentBy.length > 0 && (n = sL), X0(e, t, "", n);
}
function X0(e, t, n, r) {
  let o = "", s = !1;
  for (let i = 0; i < e.length; i++) {
    const a = e[i], l = aL(a);
    if (l === void 0)
      continue;
    let c = "";
    if (n.length === 0 ? c = l : c = `${n}.${l}`, l === t.textNodeName) {
      let h = a[l];
      lL(c, t) || (h = t.tagValueProcessor(l, h), h = J0(h, t)), s && (o += r), o += h, s = !1;
      continue;
    } else if (l === t.cdataPropName) {
      s && (o += r), o += `<![CDATA[${a[l][0][t.textNodeName]}]]>`, s = !1;
      continue;
    } else if (l === t.commentPropName) {
      o += r + `<!--${a[l][0][t.textNodeName]}-->`, s = !0;
      continue;
    } else if (l[0] === "?") {
      const h = hm(a[":@"], t), m = l === "?xml" ? "" : r;
      let b = a[l][0][t.textNodeName];
      b = b.length !== 0 ? " " + b : "", o += m + `<${l}${b}${h}?>`, s = !0;
      continue;
    }
    let d = r;
    d !== "" && (d += t.indentBy);
    const p = hm(a[":@"], t), f = r + `<${l}${p}`, g = X0(a[l], t, c, d);
    t.unpairedTags.indexOf(l) !== -1 ? t.suppressUnpairedNode ? o += f + ">" : o += f + "/>" : (!g || g.length === 0) && t.suppressEmptyNode ? o += f + "/>" : g && g.endsWith(">") ? o += f + `>${g}${r}</${l}>` : (o += f + ">", g && r !== "" && (g.includes("/>") || g.includes("</")) ? o += r + t.indentBy + g + r : o += g, o += `</${l}>`), s = !0;
  }
  return o;
}
function aL(e) {
  const t = Object.keys(e);
  for (let n = 0; n < t.length; n++) {
    const r = t[n];
    if (e.hasOwnProperty(r) && r !== ":@")
      return r;
  }
}
function hm(e, t) {
  let n = "";
  if (e && !t.ignoreAttributes)
    for (let r in e) {
      if (!e.hasOwnProperty(r))
        continue;
      let o = t.attributeValueProcessor(r, e[r]);
      o = J0(o, t), o === !0 && t.suppressBooleanAttributes ? n += ` ${r.substr(t.attributeNamePrefix.length)}` : n += ` ${r.substr(t.attributeNamePrefix.length)}="${o}"`;
    }
  return n;
}
function lL(e, t) {
  e = e.substr(0, e.length - t.textNodeName.length - 1);
  let n = e.substr(e.lastIndexOf(".") + 1);
  for (let r in t.stopNodes)
    if (t.stopNodes[r] === e || t.stopNodes[r] === "*." + n)
      return !0;
  return !1;
}
function J0(e, t) {
  if (e && e.length > 0 && t.processEntities)
    for (let n = 0; n < t.entities.length; n++) {
      const r = t.entities[n];
      e = e.replace(r.regex, r.val);
    }
  return e;
}
const cL = {
  attributeNamePrefix: "@_",
  attributesGroupName: !1,
  textNodeName: "#text",
  ignoreAttributes: !0,
  cdataPropName: !1,
  format: !1,
  indentBy: "  ",
  suppressEmptyNode: !1,
  suppressUnpairedNode: !0,
  suppressBooleanAttributes: !0,
  tagValueProcessor: function(e, t) {
    return t;
  },
  attributeValueProcessor: function(e, t) {
    return t;
  },
  preserveOrder: !1,
  commentPropName: !1,
  unpairedTags: [],
  entities: [
    { regex: new RegExp("&", "g"), val: "&amp;" },
    //it must be on top
    { regex: new RegExp(">", "g"), val: "&gt;" },
    { regex: new RegExp("<", "g"), val: "&lt;" },
    { regex: new RegExp("'", "g"), val: "&apos;" },
    { regex: new RegExp('"', "g"), val: "&quot;" }
  ],
  processEntities: !0,
  stopNodes: [],
  // transformTagName: false,
  // transformAttributeName: false,
  oneListGroup: !1
};
function Yo(e) {
  this.options = Object.assign({}, cL, e), this.options.ignoreAttributes === !0 || this.options.attributesGroupName ? this.isAttribute = function() {
    return !1;
  } : (this.ignoreAttributesFn = Y0(this.options.ignoreAttributes), this.attrPrefixLen = this.options.attributeNamePrefix.length, this.isAttribute = pL), this.processTextOrObjNode = uL, this.options.format ? (this.indentate = dL, this.tagEndChar = `>
`, this.newLine = `
`) : (this.indentate = function() {
    return "";
  }, this.tagEndChar = ">", this.newLine = "");
}
Yo.prototype.build = function(e) {
  return this.options.preserveOrder ? iL(e, this.options) : (Array.isArray(e) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1 && (e = {
    [this.options.arrayNodeName]: e
  }), this.j2x(e, 0, []).val);
};
Yo.prototype.j2x = function(e, t, n) {
  let r = "", o = "";
  const s = n.join(".");
  for (let i in e)
    if (Object.prototype.hasOwnProperty.call(e, i))
      if (typeof e[i] > "u")
        this.isAttribute(i) && (o += "");
      else if (e[i] === null)
        this.isAttribute(i) || i === this.options.cdataPropName ? o += "" : i[0] === "?" ? o += this.indentate(t) + "<" + i + "?" + this.tagEndChar : o += this.indentate(t) + "<" + i + "/" + this.tagEndChar;
      else if (e[i] instanceof Date)
        o += this.buildTextValNode(e[i], i, "", t);
      else if (typeof e[i] != "object") {
        const a = this.isAttribute(i);
        if (a && !this.ignoreAttributesFn(a, s))
          r += this.buildAttrPairStr(a, "" + e[i]);
        else if (!a)
          if (i === this.options.textNodeName) {
            let l = this.options.tagValueProcessor(i, "" + e[i]);
            o += this.replaceEntitiesValue(l);
          } else
            o += this.buildTextValNode(e[i], i, "", t);
      } else if (Array.isArray(e[i])) {
        const a = e[i].length;
        let l = "", c = "";
        for (let d = 0; d < a; d++) {
          const p = e[i][d];
          if (!(typeof p > "u"))
            if (p === null)
              i[0] === "?" ? o += this.indentate(t) + "<" + i + "?" + this.tagEndChar : o += this.indentate(t) + "<" + i + "/" + this.tagEndChar;
            else if (typeof p == "object")
              if (this.options.oneListGroup) {
                const f = this.j2x(p, t + 1, n.concat(i));
                l += f.val, this.options.attributesGroupName && p.hasOwnProperty(this.options.attributesGroupName) && (c += f.attrStr);
              } else
                l += this.processTextOrObjNode(p, i, t, n);
            else if (this.options.oneListGroup) {
              let f = this.options.tagValueProcessor(i, p);
              f = this.replaceEntitiesValue(f), l += f;
            } else
              l += this.buildTextValNode(p, i, "", t);
        }
        this.options.oneListGroup && (l = this.buildObjectNode(l, i, c, t)), o += l;
      } else if (this.options.attributesGroupName && i === this.options.attributesGroupName) {
        const a = Object.keys(e[i]), l = a.length;
        for (let c = 0; c < l; c++)
          r += this.buildAttrPairStr(a[c], "" + e[i][a[c]]);
      } else
        o += this.processTextOrObjNode(e[i], i, t, n);
  return { attrStr: r, val: o };
};
Yo.prototype.buildAttrPairStr = function(e, t) {
  return t = this.options.attributeValueProcessor(e, "" + t), t = this.replaceEntitiesValue(t), this.options.suppressBooleanAttributes && t === "true" ? " " + e : " " + e + '="' + t + '"';
};
function uL(e, t, n, r) {
  const o = this.j2x(e, n + 1, r.concat(t));
  return e[this.options.textNodeName] !== void 0 && Object.keys(e).length === 1 ? this.buildTextValNode(e[this.options.textNodeName], t, o.attrStr, n) : this.buildObjectNode(o.val, t, o.attrStr, n);
}
Yo.prototype.buildObjectNode = function(e, t, n, r) {
  if (e === "")
    return t[0] === "?" ? this.indentate(r) + "<" + t + n + "?" + this.tagEndChar : this.indentate(r) + "<" + t + n + this.closeTag(t) + this.tagEndChar;
  {
    let o = "</" + t + this.tagEndChar, s = "";
    return t[0] === "?" && (s = "?", o = ""), (n || n === "") && e.indexOf("<") === -1 ? this.indentate(r) + "<" + t + n + s + ">" + e + o : this.options.commentPropName !== !1 && t === this.options.commentPropName && s.length === 0 ? this.indentate(r) + `<!--${e}-->` + this.newLine : this.indentate(r) + "<" + t + n + s + this.tagEndChar + e + this.indentate(r) + o;
  }
};
Yo.prototype.closeTag = function(e) {
  let t = "";
  return this.options.unpairedTags.indexOf(e) !== -1 ? this.options.suppressUnpairedNode || (t = "/") : this.options.suppressEmptyNode ? t = "/" : t = `></${e}`, t;
};
Yo.prototype.buildTextValNode = function(e, t, n, r) {
  if (this.options.cdataPropName !== !1 && t === this.options.cdataPropName)
    return this.indentate(r) + `<![CDATA[${e}]]>` + this.newLine;
  if (this.options.commentPropName !== !1 && t === this.options.commentPropName)
    return this.indentate(r) + `<!--${e}-->` + this.newLine;
  if (t[0] === "?")
    return this.indentate(r) + "<" + t + n + "?" + this.tagEndChar;
  {
    let o = this.options.tagValueProcessor(t, e);
    return o = this.replaceEntitiesValue(o), o === "" ? this.indentate(r) + "<" + t + n + this.closeTag(t) + this.tagEndChar : this.indentate(r) + "<" + t + n + ">" + o + "</" + t + this.tagEndChar;
  }
};
Yo.prototype.replaceEntitiesValue = function(e) {
  if (e && e.length > 0 && this.options.processEntities)
    for (let t = 0; t < this.options.entities.length; t++) {
      const n = this.options.entities[t];
      e = e.replace(n.regex, n.val);
    }
  return e;
};
function dL(e) {
  return this.options.indentBy.repeat(e);
}
function pL(e) {
  return e.startsWith(this.options.attributeNamePrefix) && e !== this.options.textNodeName ? e.substr(this.attrPrefixLen) : !1;
}
const vu = "mjml-code-to-html";
function Q0(e, t) {
  const n = t == null ? void 0 : t.sanitizer;
  if (it(n))
    return n(e);
  if (n === "xml-sanitizer") {
    const p = e.replace(/(<[a-zA-Z!/])|</g, (x, E) => E ?? "&lt;").replace(/&(?!#?\w+;)/g, "&amp;"), f = ["br", "hr"], g = new Set(f), h = (x) => {
      const E = [];
      for (const O of x) {
        const T = Object.keys(O).find((P) => P !== ":@");
        if (T && g.has(T)) {
          const P = O[T];
          Array.isArray(P) && P.length > 0 ? (E.push({ ...O, [T]: [] }), E.push(...h(P))) : E.push(O);
        } else
          T && Array.isArray(O[T]) ? E.push({ ...O, [T]: h(O[T]) }) : E.push(O);
      }
      return E;
    }, m = {
      commentPropName: "#comment",
      unpairedTags: f,
      suppressUnpairedNode: !1,
      ignoreAttributes: !1,
      preserveOrder: !0
    }, b = new oL({
      ...m,
      htmlEntities: !0,
      trimValues: !1,
      alwaysCreateTextNode: !0,
      allowBooleanAttributes: !0
    }), y = new Yo({
      ...m
    }), S = b.parse(`<root>${p}</root>`)[0].root, w = h(S);
    return y.build(w);
  }
  function r(p) {
    const f = document.createElement("textarea");
    return f.innerHTML = p, f.value;
  }
  const o = r(e || ""), s = [
    "checked",
    "disabled",
    "readonly",
    "required",
    "autofocus",
    "multiple",
    "selected",
    "hidden",
    "async",
    "defer",
    "formnovalidate",
    "novalidate",
    "ismap",
    "allowfullscreen",
    "autoplay",
    "controls",
    "loop",
    "muted",
    "open",
    "reversed",
    "scoped",
    "seamless",
    "typemustmatch",
    "default",
    "full-width",
    "crossorigin"
  ], i = {
    crossorigin: "anonymous",
    "full-width": "true"
  }, a = new RegExp(`\\s+(${s.join("|")})(?=\\s|\\/?>)`, "gi");
  return o.replace(/<[^>]+>/g, (p) => p.replace(a, (f, g) => {
    const h = i[g] ?? g;
    return ` ${g}="${h}"`;
  })).replace(/(\s[\w:-]+=\s*)("[^"]*"|'[^']*')/g, (p, f, g) => {
    const h = g.slice(1, -1).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
    return `${f}"${h}"`;
  }).replace(/&(?!#?\w+;)/g, (p, f, g) => f > 0 && g[f - 1] === "&" ? p : "&amp;").replace(/(<[a-zA-Z!/])|</g, (p, f) => f ?? "&lt;");
}
var _a = /* @__PURE__ */ ((e) => (e.root = "mjml", e.head = "mj-head", e.body = "mj-body", e.include = "mj-include", e))(_a || {}), vg = /* @__PURE__ */ ((e) => (e.attributes = "mj-attributes", e.breakpoint = "mj-breakpoint", e.font = "mj-font", e.htmlAttributes = "mj-html-attributes", e.preview = "mj-preview", e.style = "mj-style", e.title = "mj-title", e.class = "mj-class", e.all = "mj-all", e))(vg || {}), ey = /* @__PURE__ */ ((e) => (e.accordion = "mj-accordion", e.accordionElement = "mj-accordion-element", e.accordionTitle = "mj-accordion-title", e.accordionText = "mj-accordion-text", e.button = "mj-button", e.carousel = "mj-carousel", e.carouselImage = "mj-carousel-image", e.column = "mj-column", e.divider = "mj-divider", e.group = "mj-group", e.hero = "mj-hero", e.image = "mj-image", e.navbar = "mj-navbar", e.navbarLink = "mj-navbar-link", e.raw = "mj-raw", e.section = "mj-section", e.social = "mj-social", e.socialElement = "mj-social-element", e.spacer = "mj-spacer", e.table = "mj-table", e.text = "mj-text", e.wrapper = "mj-wrapper", e))(ey || {}), Rs = /* @__PURE__ */ ((e) => (e.globalStyles = "globalStyles", e.globalData = "globalData", e))(Rs || {});
function fL(e) {
  const t = /* @__PURE__ */ new Map(), n = { items: [] };
  return e.forEach((o) => {
    const { category: s, item: i } = o;
    if (s) {
      const a = t.get(s.id);
      a ? (a.items.push(i), a.category = {
        ...a.category,
        ...s
      }) : t.set(s.id, { category: s, items: [i] });
    } else
      n.items.push(i);
  }), [...Array.from(t).map(([, o]) => o), n].filter((o) => o.items.length);
}
const ty = (e) => (e == null ? void 0 : e.get("groups")) || [], ny = (e, t) => ty(e).includes(t), gL = (e, t) => {
  ny(e, t) || e.set("groups", [...ty(e), t]);
};
class hL {
  constructor(t) {
    this.dataSourceKeyid = Rs.globalStyles, this.records = [], this.openCategories = /* @__PURE__ */ new Map(), this.store = t, hn(
      this,
      {
        // will be used only on the initial render of GlobalStyleManager
        openCategories: !1
      },
      { autoBind: !0 }
    );
  }
  get sdkOptionStyles() {
    var t;
    return ((t = this.store.appEditorStore.sdkOptions.globalStyles) == null ? void 0 : t.default) || [];
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  get DataSources() {
    var t;
    return (t = this.editor) == null ? void 0 : t.DataSources;
  }
  get recordsByCategory() {
    const { records: t, sdkOptionStyles: n } = this, r = [], o = t.reduce((s, i) => (s.set(i.get("id"), i), s), /* @__PURE__ */ new Map());
    return n.forEach(({ id: s }) => {
      const i = o.get(s);
      i && (r.push(i), o.delete(s));
    }), Array.from(o).map(([, s]) => {
      s.get("_internal") || r.push(s);
    }), fL(r.map((s) => ({ category: s.get("category"), item: s })));
  }
  setCategoryOpen(t, n) {
    this.openCategories.set(t, n);
  }
  getDataSource() {
    var t;
    return (t = this.DataSources) == null ? void 0 : t.get(this.dataSourceKeyid);
  }
  getRuleByGroup(t) {
    var n;
    return (n = this.editor) == null ? void 0 : n.CssComposer.getAll().find((r) => ny(r, t));
  }
  addStyleRule(t, n = {}) {
    var p, f;
    const { editor: r } = this, o = t.get("id"), s = t.get("selector") || "", i = t.get("property"), a = t.getPath("value"), l = `${this.dataSourceKeyid}:${o}`, c = {
      [i]: {
        type: "data-variable",
        path: a,
        defaultValue: t.get("defaultValue")
      }
    };
    if (r && ax(r) && s.startsWith("mj-")) {
      const g = r.Components.getWrapper(), { head: h } = _a, { attributes: m } = vg, b = g.findFirstType(_a.root), y = b.findFirstType(h) || b.append({ type: h }, { at: 0 })[0], v = y.findFirstType(m) || y.append({ type: m })[0], S = v.findType(s).pop() || v.append({ type: s })[0], w = (S.get("attributes") || {})[i];
      Ft(w) && w !== "" && t.set("value", w), S.addAttributes(c, { silent: !0 });
      return;
    }
    let d = ((f = (p = n.selectorToRuleMap) == null ? void 0 : p.get(s)) == null ? void 0 : f.rule) || this.getRuleByGroup(l);
    d ? d.addStyle(c) : d = r == null ? void 0 : r.CssComposer.addCollection(
      [
        {
          selectors: [],
          selectorsAdd: s,
          style: c
        }
      ],
      {
        extend: !0,
        at: t.index
      }
    )[0], d && gL(d, l);
  }
  createDataSource() {
    return this.DataSources.add({
      id: this.dataSourceKeyid,
      records: []
    });
  }
  onLoad() {
    var s, i;
    const { sdkOptionStyles: t } = this, n = /* @__PURE__ */ new Map(), r = (s = this.editor) == null ? void 0 : s.Css;
    if (!t.length) {
      this.records = [];
      return;
    }
    const o = this.getDataSource() || this.createDataSource();
    t.forEach((a) => {
      const { id: l, selector: c, label: d, field: p, property: f, category: g } = a, h = o.getRecord(l);
      if (h) {
        const m = {
          label: d,
          field: p,
          category: g
        };
        h.set({ ...m, _undo: !0 });
      } else {
        const m = n.get(c), b = (m == null ? void 0 : m.rule) || (r == null ? void 0 : r.getRule(c)), y = (m == null ? void 0 : m.styles) || (b == null ? void 0 : b.getStyle()) || {}, v = y[f] || a.defaultValue;
        n.set(c, { rule: b, styles: y }), o.addRecord({
          value: void 0,
          // make the first undo work if value is not provided
          ...a,
          defaultValue: v,
          // @ts-expect-error custom prop
          _internal: !0,
          // setByGlobalStyleManager
          _undo: !0
          // Make globalStyle records undoable
        });
      }
    }), o.getRecords().forEach((a) => {
      this.addStyleRule(a, { selectorToRuleMap: n });
    }), o.listenTo(o.records, "add", (a) => {
      this.addStyleRule(a);
    }), (i = this.editor) == null || i.UndoManager.add(o.records), this.records = o.getRecords();
  }
}
const mL = () => tn().globalStylesStore, ry = (e, t) => {
  let n;
  try {
    const r = zr() && e && localStorage.getItem(e);
    r && (n = JSON.parse(r));
  } catch (r) {
    console.error(r);
  }
  return {
    lastProjectId: "",
    ...t,
    ...n
  };
}, mm = (e, t) => {
  const r = { ...ry(e), ...t };
  try {
    zr() && e && localStorage.setItem(e, JSON.stringify(r));
  } catch (o) {
    console.error(o);
  }
  return r;
}, Ip = "gs-utl-dark", bL = () => zr() && window.matchMedia("(prefers-color-scheme: dark)").matches, oy = (e) => e === "dark" || e === "auto" && bL(), bm = (e, t) => {
  if (e && zr() && t.rootEl) {
    const { classList: n } = t.rootEl;
    let r = !1;
    if (oy(e) ? (n.add(Ip), r = !0) : n.remove(Ip), t.updateAppShell) {
      const o = document.head.querySelector('meta[name="theme-color"]');
      o && (o.content = r ? "#18181b" : "#ffffff");
    }
    t.resolvedTheme = r ? ur.dark : ur.light;
  }
};
class vL {
  constructor(t) {
    this.key = "", this.theme = ur.auto, this.resolvedTheme = ur.light, this.lastProjectId = "", this.updateAppShell = !1, this.rootEl = void 0, t && Object.keys(t).forEach((n) => {
      const r = n, o = t[r];
      o !== void 0 && (this[r] = o);
    }), this.resolvedTheme = this.theme, hn(this, {}, { autoBind: !0 }), this.init();
  }
  init() {
    bm(this.theme, this);
  }
  changeTheme(t) {
    bm(t, this), mm(this.key, { theme: t });
  }
  setTheme(t) {
    this.theme = t;
  }
  setRootEl(t) {
    this.rootEl = t;
  }
  setLocalState(t) {
    Object.keys(t).forEach((n) => {
      const r = n, o = t[r];
      o !== void 0 && (this[r] = o);
    }), mm(this.key, t);
  }
  get isDarkTheme() {
    return oy(this.theme);
  }
}
const yL = (e) => {
  Qb(
    () => e.theme,
    (t) => {
      e.changeTheme(t);
    }
  );
}, En = () => tn().localSettingsStore;
class wL {
  constructor(t) {
    this.isOpen = !1, this.title = "", this.content = "", this.size = "l", this.fullH = !1, this.modalProps = {}, this.buttons = [], this.store = t, hn(this, {}, { autoBind: !0 });
  }
  setModalProps(t) {
    this.modalProps = {
      title: "",
      size: "l",
      fullH: !1,
      buttons: [],
      ...t
    };
  }
  open({ content: t, ...n }) {
    this.isOpen = !0, this.content = t, this.setModalProps(n);
  }
  close() {
    this.isOpen = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.content = "", this.setModalProps({
      size: this.modalProps.size
    });
  }
  confirm({ content: t, size: n = "m", onConfirm: r, confirmButton: o, ...s }) {
    this.isOpen = !0, this.content = t;
    const i = () => {
      r == null || r(), this.close();
    };
    this.setModalProps({
      ...s,
      size: n,
      buttons: [
        { children: "Cancel", onClick: this.close, size: "m2" },
        { children: "Confirm", onClick: i, size: "m2", variant: "pr", ...o }
      ]
    });
  }
}
const Wr = () => tn().modalStore, SL = {
  add: "Add",
  delete: "Delete",
  duplicate: "Duplicate",
  rename: "Rename",
  remove: "Remove",
  clear: "Clear",
  select: "Select",
  selectList: "Select from the list",
  search: "Search",
  update: "Update",
  updated: "Updated!",
  confirm: "Confirm",
  cancel: "Cancel",
  enable: "Enable",
  disable: "Disable",
  upload: "Upload",
  close: "Close",
  load: "Load",
  copy: "Copy",
  save: "Save",
  current: "Current",
  toggleCss: "Toggle CSS",
  selectTarget: "Target Component",
  noCode: "No code available",
  noItems: "No items found",
  confirmAction: "Do you confirm this action?",
  eyeDropper: "Eyedropper",
  noEyeDropper: "Eyedropper not supported",
  unauthorized: "Unauthorized project",
  notItemsFound: "No items found",
  actions: {
    componentOutline: { title: "Component outline" },
    preview: { title: "Preview" },
    fullscreen: { title: "Fullscreen" },
    showCode: {
      title: "Code",
      exportButton: "Export to ZIP"
    },
    undo: { title: "Undo" },
    redo: { title: "Redo" },
    save: { title: "Save project" },
    store: { title: "Save content" },
    open: { title: "Open project" },
    importCode: {
      title: "Import code",
      parseError: "Parser error",
      content: "Paste here your HTML/CSS and click Import",
      button: "Import"
    },
    clearCanvas: {
      title: "Clear page",
      content: "Are you sure you want to clear the page?"
    },
    about: {
      title: "About"
    },
    embed: {
      title: "Embed Studio"
    },
    newProject: {
      title: "Load project"
    },
    installApp: {
      title: "Install App",
      installed: "App installed"
    }
  },
  modals: {
    styleCatalog: {
      title: "Style Catalog",
      noStyles: "No styles found"
    },
    openProject: {
      title: "Open project"
    }
  },
  pluginManager: {
    plugins: "Plugins",
    all: "Available",
    installed: "Installed",
    install: "Install",
    uninstall: "Uninstall",
    allPlugins: "All plugins",
    updateStudio: "Restart Studio for plugin updates"
  },
  globalStyleManager: {
    notFound: "No global styles found",
    globalStyles: "Global Styles"
  },
  pageManager: {
    pages: "Pages",
    page: "Page",
    newPage: "New Page",
    add: "Add page",
    rename: "Rename",
    duplicate: "Duplicate",
    copy: "Copy",
    delete: "Delete",
    deletePage: "Delete Page",
    confirmDelete: "Are you sure you want to delete the page?",
    homePage: "Home page",
    settings: {
      label: "Settings",
      title: "Page settings",
      global: "Global settings",
      fields: {
        name: {
          label: "Name"
        },
        slug: {
          label: "Slug",
          description: "The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."
        },
        favicon: {
          label: "Favicon",
          description: "The favicon is the small icon that appears in the browser tab."
        },
        title: {
          label: "Title",
          description: "The title is the name of the page that appears in the browser tab."
        },
        description: {
          label: "Description",
          description: "The description is a short summary of the page content."
        },
        keywords: {
          label: "Keywords",
          description: "Keywords are words or phrases that describe the content of the page."
        },
        socialTitle: {
          label: "Social title",
          description: "The title is the name of the page that appears on social networks."
        },
        socialImage: {
          label: "Social image",
          description: "The image is the picture that appears on social networks."
        },
        socialDescription: {
          label: "Social description",
          description: "The description is a short summary of the page content that appears on social networks."
        },
        customCodeHead: {
          label: "Custom HTML head",
          description: "Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."
        },
        customCodeBody: {
          label: "Custom HTML body",
          description: "Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."
        }
      }
    }
  },
  projectManager: {
    existentProjects: "Your projects",
    templates: "Templates",
    notAvailable: "No projects available",
    projectType: "Project type",
    projectName: "Project name",
    pages: "Pages"
  },
  templates: {
    notFound: "No templates found"
  },
  storageManager: {
    errorLoad: "Failed to load the project",
    errorStore: "Failed to save the project"
  },
  assetManager: {
    addUrl: "Add URL",
    projectAssets: "Assets in this project",
    userAssets: "Assets from all projects",
    errorLoad: "Failed to load assets",
    errorUpload: "Failed to upload",
    errorDelete: "Failed to delete",
    deleteConfirmQuestion: "Delete asset?",
    deleteConfirmExplanation: "This will affect existing and published projects that rely on this asset, if any exist.",
    assetTypes: {
      all: "All",
      image: "Images"
    },
    noProvider: "Project assets"
  },
  fontManager: {
    addFontToProject: "Add font to project",
    projectFonts: "Project fonts",
    emptyProjectFonts: "There are no fonts in this project.",
    selectFont: "Select a font"
  },
  blockManager: {
    notFound: "No blocks found",
    blocks: "Blocks",
    add: "Add more blocks",
    search: "Search...",
    labels: {
      section: "Section",
      column1: "1 Column",
      column2: "2 Columns",
      column3: "3 Columns",
      "column3-7": "2 Columns 3/7",
      gridRow: "Grid",
      heading: "Heading",
      divider: "Divider",
      imageBox: "Image Box",
      linkBox: "Link Box"
    },
    categories: {
      // 'category-id': 'Category Label',
    },
    types: {
      regular: "Regular",
      symbols: "Symbols"
    },
    symbols: {
      notFound: "No symbols found",
      instancesProject: "Instance/s in the project",
      delete: "Delete symbol",
      deleteConfirm: "Are you sure you want to delete the symbol? All instances inside the project will be detached."
    }
  },
  domComponents: {
    names: {
      section: "Section",
      gridRow: "Row",
      gridColumn: "Column",
      heading: "Heading",
      divider: "Divider",
      imageBox: "Image Box",
      linkBox: "Link Box"
    }
  },
  traitManager: {
    empty: "Select a component to see its properties",
    panelLabel: "Properties",
    traits: {
      labels: {
        loading: "Lazy load",
        target: "Open in new tab",
        showList: "Show element list",
        customAttributes: "Custom Attributes"
      },
      attributes: {
        // href: { placeholder: 'eg. https://google.com' },
      }
    }
  },
  deviceManager: {
    allDevices: "All devices"
  },
  selectorManager: {
    noSelecton: "You don't have any selected element.",
    selectFromCanvas: "Select an element from the canvas.",
    selectFromList: "Pick any style from the Style Catalog.",
    selectCustom: "Add your custom style selector.",
    selection: "Selection",
    selector: "Selector",
    addNewSelector: "Add new selector",
    removeSelector: "Remove selector",
    target: "Target",
    device: "Device",
    state: "State",
    deleteStyle: "Delete style",
    showCSS: "Show CSS code",
    searchStyle: "Search style",
    applyOnSelector: "Apply style changes on Selectors",
    noSelectors: "No Selectors applied",
    applyOnComponents: "Apply style changes on Components",
    noComponents: "No Components selected",
    currentSelection: "The current selection from which styles are displayed of"
    // label: 'Classes',
    // selected: 'Selected',
    // emptyState: '- State -',
    // states: {
    //   hover: 'Hover',
    //   active: 'Click',
    //   'nth-of-type(2n)': 'Even/Odd',
    // },
  },
  layerManager: {
    layers: "Layers"
  },
  dataSources: {
    confirm: "Confirm",
    clearDataValue: "Clear data value",
    connectDataValue: "Connect data value",
    variable: "Variable",
    defaultValue: "Default value",
    variablePath: "Variable path",
    selectVariablePath: "Select variable path",
    openPathExplorer: "Open path explorer",
    closePathExplorer: "Close path explorer",
    toggleResolvedPath: "Toggle resolved path",
    items: "{length} item/s",
    properties: "{length} propertie/s",
    editVariable: "Edit variable",
    editCondition: "Edit condition",
    editCollection: "Edit collection",
    condition: "Condition",
    conditionTrue: "True condition",
    conditionFalse: "False condition",
    conditionAnd: "AND",
    conditionOr: "OR",
    conditionElse: "Else",
    addCondition: "Add condition",
    deleteCondition: "Delete condition",
    operator: "Operator",
    leftValue: "Left value",
    rightValue: "Right value",
    ifTrue: "Value if true",
    ifFalse: "Value if false",
    valueTrue: "True",
    valueFalse: "False",
    collection: "Collection",
    collectionItem: "Collection item",
    collectionId: "Collection ID",
    collectionStartIndex: "Start index",
    collectionEndIndex: "End index",
    collectionUpToEndIndex: "All",
    collections: {
      __rootData: "Page data"
    },
    variableTypes: {
      currentItem: "Current item",
      prevItem: "Previous item",
      nextItem: "Next item"
    },
    operators: {
      // Number operations
      "=": "= (Equals)",
      "!=": "!= (Not equals)",
      ">": "> (Greater than)",
      ">=": ">= (Greater than or equals)",
      "<": "< (Less than)",
      "<=": "<= (Less than or equals)",
      // String operations
      contains: "Contains",
      startsWith: "Starts with",
      endsWith: "Ends with",
      matchesRegex: "Matches regex",
      equalsIgnoreCase: "Equals (ignore case)",
      trimEquals: "Trimmed equals",
      // Boolean operations
      and: "AND",
      or: "OR",
      xor: "XOR",
      // Data source operations
      equals: "Equals",
      isDefined: "Is defined",
      isNull: "Is null",
      isUndefined: "Is undefined",
      isTruthy: "Is truthy",
      isFalsy: "Is falsy",
      isDefaultValue: "Is default value",
      isArray: "Is array",
      isObject: "Is object",
      isString: "Is string",
      isNumber: "Is number",
      isBoolean: "Is boolean"
    }
  },
  styleManager: {
    panelLabel: "Styles",
    layout: {
      flexChild: "Flex child",
      display: {
        tips: {
          block: "Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",
          inline: "Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.",
          "inline-block": "Inline-block is similar to inline but allows to define width and height properties.",
          flex: "Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",
          none: "The element is hidden from the layout"
        }
      },
      direction: {
        title: {
          row: "Horizontal",
          "row-reverse": "Horizontal reversed",
          column: "Vertical",
          "column-reverse": "Vertical reversed"
        }
      }
    },
    position: {
      tips: {
        static: "Default position",
        relative: "Similar to Static but with the ability to be moved relative to itself",
        absolute: "Absolute position, relative to its closest non-static parent",
        fixed: "Fixed position (even when the page is scrolled), relative to the browser viewport",
        sticky: "Elements are keept in place but moved when the page is scrolled, based on indicated distance"
      },
      presets: {
        title: "Presets",
        options: {
          topLeft: "Top left",
          topRight: "Top right",
          bottomLeft: "Bottom left",
          bottomRight: "Bottom right",
          left: "Left",
          right: "Right",
          bottom: "Bottom",
          top: "Top",
          full: "Full"
        }
      }
    },
    properties: {
      "margin-top": "Top",
      "margin-right": "Right",
      "margin-bottom": "Bottom",
      "margin-left": "Left",
      "padding-top": "Top",
      "padding-right": "Right",
      "padding-bottom": "Bottom",
      "padding-left": "Left",
      "border-top-left-radius": "Top Left",
      "border-top-right-radius": "Top Right",
      "border-bottom-right-radius": "Bottom Right",
      "border-bottom-left-radius": "Bottom Left",
      "mix-blend-mode": "Blend mode",
      "transform-style": "Type",
      "backface-visibility": "Backface",
      "perspective-origin": "Perspective origin",
      "perspective-origin-x": "Left",
      "perspective-origin-y": "Top",
      "transform-origin-x": "Left",
      "transform-origin-y": "Top",
      "align-items": "Align",
      "align-self": "Align",
      "justify-content": "Justify",
      "row-gap": "Row",
      "column-gap": "Column",
      // Typography
      "font-family": "Font",
      "font-size": "Size",
      "font-weight": "Weight",
      "letter-spacing": "Spacing",
      "text-align": "Align",
      "text-decoration": "Decoration",
      "text-transform": "Transform",
      "white-space": "Breaking",
      // Borders
      "border-top-width": "Top",
      "border-right-width": "Right",
      "border-bottom-width": "Bottom",
      "border-left-width": "Left",
      "border-top-style": "Top",
      "border-right-style": "Right",
      "border-bottom-style": "Bottom",
      "border-left-style": "Left",
      "border-top-color": "Top",
      "border-right-color": "Right",
      "border-bottom-color": "Bottom",
      "border-left-color": "Left",
      // Bg
      "background-position": "Position",
      "background-position-x": "Left",
      "background-position-y": "Top",
      "background-size": "Size",
      "background-size-x": "Left",
      "background-size-y": "Top",
      "background-repeat": "Repeat",
      "background-attachment": "Attachment",
      "background-origin": "Origin",
      "background-clip": "Clip",
      // Effects
      "overflow-x": "X",
      "overflow-y": "Y"
    },
    options: {
      "__background-type": {
        image: "Image",
        gradient: "Gradient",
        color: "Color"
      },
      display: {
        block: "Block",
        inline: "Inline",
        "inline-block": "Inline block",
        flex: "Flex",
        none: "None"
      },
      overflow: {
        visible: "Visible",
        hidden: "Hidden",
        scroll: "Scroll",
        auto: "Auto"
      },
      "flex-wrap": {
        nowrap: "No wrap",
        wrap: "Wrap",
        "wrap-reverse": "Reverse wrap"
      }
    }
  }
}, vm = "column1", ym = "column2", wm = "column3", jp = "column3-7", CL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "gridRow", s = "gridColumn", i = "gjs-grid-row", a = "gjs-grid-column", l = { tl: 0, tc: 0, tr: 0, cl: 0, bl: 0, br: 0 }, c = "flex-basis", d = 1, p = 1, f = 1;
  n.addType(o, {
    isComponent: (b) => Vo(b, i),
    model: {
      defaults: {
        emptyState: !0,
        droppable: Tr(s),
        highlightable: !1,
        attributes: { class: i },
        resizable: { ...l, keyHeight: "min-height" },
        icon: `
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,
        "stylable-require": ["flex-align-items", "flex-align-items-v", "flex-direction-id", "flex-multiline"],
        traits: [
          "id",
          "title",
          {
            name: "add-column",
            labelButton: "Add column",
            type: "button",
            full: !0,
            command: (b) => {
              b.getSelected().components().add({ type: s });
            }
          }
        ],
        styles: `
            .${i} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${i} {
                flex-direction: column;
              }
            }
          `
      }
    }
  }), n.addType(s, {
    isComponent: (b) => Vo(b, a),
    model: {
      defaults: {
        emptyState: !0,
        attributes: { class: a },
        draggable: Tr(o),
        resizable: { ...l, bc: 0, keyWidth: c, currentUnit: f, minDim: d, step: p },
        icon: `
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,
        unstylable: ["width"],
        "stylable-require": ["flex-basis", "flex-item-behaviour", "flex-item-h-align", "flex-order"],
        traits: [
          {
            label: "Center content",
            name: "center-content",
            type: "checkbox",
            changeProp: !0
          }
        ],
        styles: `
            .${a} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `
      },
      init() {
        this.listenTo(this, "change:center-content", this.handleCenter);
      },
      handleCenter() {
        const b = this.get("center-content");
        this.addStyle({
          display: b ? "flex" : "block",
          "align-items": b ? "center" : "",
          "justify-content": b ? "center" : ""
        });
      }
    }
  });
  const g = {
    label: o,
    content: {
      type: o,
      components: [{ type: s }, { type: s }, { type: s }]
    },
    ...t.block
  }, h = { merge: !0 }, m = (b) => {
    var y;
    return ((y = r.get(b)) == null ? void 0 : y.category) || g.category;
  };
  r.add(
    vm,
    {
      ...g,
      category: m(vm),
      content: {
        type: o,
        components: [{ type: s }]
      }
    },
    h
  ), r.add(
    ym,
    {
      ...g,
      category: m(ym),
      content: {
        type: o,
        components: [{ type: s }, { type: s }]
      }
    },
    h
  ), r.add(
    wm,
    {
      ...g,
      category: m(wm),
      content: {
        type: o,
        components: [{ type: s }, { type: s }, { type: s }]
      }
    },
    h
  ), r.add(
    jp,
    {
      ...g,
      category: m(jp),
      content: {
        type: o,
        components: [{ type: s, style: { "flex-basis": "30%", "flex-grow": 0 } }, { type: s }]
      }
    },
    h
  );
}, Yi = "section", gd = "container", hd = "gjs-section", md = "gjs-container", xL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e;
  r.add(
    Yi,
    {
      label: Yi,
      media: `
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,
      content: { type: Yi },
      ...t.block
    },
    { at: sl(e, jp) + 1 }
  ), n.addType(Yi, {
    isComponent: (o) => Vo(o, hd),
    model: {
      defaults: {
        tagName: "section",
        emptyState: !0,
        draggable: Tr("wrapper"),
        droppable: Tr(gd),
        attributes: { class: hd },
        components: { type: gd },
        styles: `
            .${hd} {
              display: flex;
              padding: 50px 0;
            }
          `
      }
    }
  }), n.addType(gd, {
    isComponent: (o) => Vo(o, md),
    model: {
      defaults: {
        emptyState: !0,
        copyable: !1,
        removable: !1,
        draggable: !1,
        attributes: { class: md },
        styles: `
            .${md} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `
      }
    }
  });
}, PL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "divider", s = "gjs-divider";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,
      content: { type: o },
      ...t.block
    },
    { at: sl(e, Yi) + 1 }
  ), n.addType(o, {
    isComponent: (i) => Vo(i, s),
    model: {
      defaults: {
        droppable: !1,
        highlightable: !1,
        attributes: { class: s },
        stylable: [
          "height",
          "width",
          "background-color",
          "margin",
          "margin-top",
          "margin-right",
          "margin-bottom",
          "margin-left"
        ],
        styles: `
            .${s} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `
      }
    }
  });
}, EL = function(e) {
  const { Components: t, Blocks: n } = e, o = t.getType("wrapper").model.getDefaults(), s = t.getType("head").model;
  t.addType("wrapper", {
    model: {
      defaults: {
        emptyState: { styleIn: "height: 100vh", styleOut: "padding: 0;" },
        stylable: [
          ...o.stylable,
          "padding",
          "font-family",
          "color",
          "font-size",
          "font-weight",
          "line-height",
          "letter-spacing",
          "text-align",
          "vertical-align",
          "text-decoration",
          "text-transform",
          "direction",
          "white-space"
        ]
      }
    }
  }), t.addType("head", {
    model: {
      components(c, d) {
        return s.prototype.components.call(this, c, {
          ...d,
          skipDomReset: !0
        });
      }
    },
    view: {
      updateContent() {
      }
    }
  }), t.addType("text", {
    model: {
      defaults: {
        highlightable: !1,
        emptyState: { styleIn: "min-height: auto; font-size: inherit;" }
      }
    }
  }), t.addType("image", {
    model: {
      defaults: {
        traits: [
          {
            type: "image",
            name: "src",
            label: "Image",
            changeProp: !0,
            typeProps: { inputField: !0 }
          },
          "alt",
          {
            type: "checkbox",
            name: "loading",
            valueTrue: "lazy"
          }
        ]
      }
    }
  });
  const a = t.getType("link").model;
  a.typeExtends.add("text"), t.addType("link", {
    model: {
      defaults: {
        emptyState: !0,
        traits: [
          "title",
          {
            type: "checkbox",
            name: "target",
            valueTrue: "_blank"
          },
          {
            type: "href",
            name: "href"
          }
        ]
      },
      getAttrToHTML() {
        const c = a.prototype.getAttrToHTML.apply(this), { href: d } = c;
        if (d && d.startsWith(Ta)) {
          const p = d.replace(Ta, ""), f = e.Pages.get(p);
          if (c.href = f ? `./${Np(e, f)}` : "##", f && hu(f)) {
            const g = { id: KA(this, "id") }, h = j0(f, { currentItem: g });
            c.href = h.fullPath, YA(c, { ...g, page: p });
          }
        }
        return c;
      }
    }
  }), n.add(
    "link",
    {
      label: "Link",
      content: {
        type: "link",
        content: "Link",
        style: { color: "#d983a6", padding: "10px" }
      }
    },
    { merge: !0 }
  ), t.addType("select", {
    model: {
      defaults: {
        traits: [
          { name: "name" },
          {
            type: "checkbox",
            name: "required"
          },
          {
            name: "options",
            type: "stack",
            getValue({ component: c }) {
              return c.components().map((d) => ({
                id: d.getAttributes().value || "",
                label: d.getInnerHTML()
              }));
            },
            setValue: ({ component: c, value: d, emitUpdate: p }) => {
              c.components(
                d.map((f) => ({
                  type: "option",
                  content: f.label,
                  attributes: { value: f.id }
                }))
              ), p();
            },
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            properties: [{ name: "id" }, { name: "label" }]
          }
        ]
      }
    }
  });
  const l = "contentEditable";
  t.addType(l, {
    extend: "text",
    model: {
      defaults: {
        name: "Content",
        tagName: "span",
        hoverable: !1,
        draggable: !1,
        selectable: !1
      },
      toHTML(c) {
        return this.getInnerHTML(c);
      }
    },
    view: {
      onRender() {
        this.el.style.display = "contents";
      }
    }
  }), t.addType("button", {
    model: {
      defaults: {
        components: [
          {
            type: l,
            components: { type: "textnode", content: "Button" }
          }
        ],
        traits: [
          {
            type: "select",
            name: "type",
            options: [
              { id: "button", label: "Button" },
              { id: "submit", label: "Submit" },
              { id: "reset", label: "Reset" }
            ]
          }
        ]
      },
      init() {
        var d;
        const c = [...this.components().models];
        (c.length > 1 || !((d = c[0]) != null && d.is(l))) && this.append({ type: l })[0].append(c);
      }
    }
  });
}, TL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "heading";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,
      content: { type: o, components: "Insert your text here" },
      ...t.block
    },
    { at: sl(e, "text") }
  ), n.addType(o, {
    extend: "text",
    isComponent: (s) => DA(s, "H1", "H2", "H3", "H4", "H5", "H6"),
    model: {
      defaults: {
        emptyState: !0,
        tagName: "h1",
        traits: [
          {
            type: "select",
            options: [
              { value: "h1", name: "One (largest)" },
              { value: "h2", name: "Two" },
              { value: "h3", name: "Three" },
              { value: "h4", name: "Four" },
              { value: "h5", name: "Five" },
              { value: "h6", name: "Six (smallest)" }
            ],
            label: "Size",
            name: "tagName",
            changeProp: !0
          }
        ]
      }
    }
  });
}, OL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = e.Components.getType("default").model, s = "imageBox", i = "gjs-image-box";
  r.add(
    s,
    {
      label: s,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,
      content: { type: s },
      ...t.block
    },
    { at: sl(e, "image") + 1 }
  ), n.addType(s, {
    extend: "image",
    isComponent: (a) => Vo(a, i),
    model: {
      defaults: {
        tagName: "div",
        void: !1,
        droppable: !0,
        emptyState: !1,
        resizable: { tl: 0, tc: 0, tr: 0, cl: 0, cr: 0, bl: 0, br: 0 },
        traits: ["title"],
        attributes: { class: i },
        styles: `
            .${i} {
              height: 200px;
              width: 100%;
            }
          `
      },
      getAttrToHTML(...a) {
        return o.prototype.getAttrToHTML.apply(this, a);
      }
    },
    view: {
      // @ts-ignore TODO ts
      tagName: "div",
      updateSrc() {
        const { model: a, em: l } = this, c = a.getSrcResult(), d = a.isDefaultSrc(), p = a.getStyle(), f = `url('${c}')`;
        c && a.addStyle({
          "background-image": d && p["background-image"] || f,
          "background-size": p["background-size"] || "contain",
          "background-position": p["background-position"] || "center center",
          "background-attachment": p["background-attachment"] || "scroll",
          "background-repeat": p["background-repeat"] || "no-repeat"
        }), c && l.trigger("component:toggled"), this.$el[c ? "removeClass" : "addClass"](this.classEmpty);
      },
      onRender() {
        this.renderChildren(), this.updateSrc();
      }
    }
  });
}, _L = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "linkBox", s = "gjs-link-box";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,
      content: { type: o },
      ...t.block
    },
    { at: sl(e, "link") + 1 }
  ), n.addType(o, {
    isComponent: (i) => Vo(i, s),
    extend: "link",
    model: {
      defaults: {
        editable: !1,
        droppable: !0,
        attributes: { class: s },
        styles: `
            .${s} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `
      }
    }
  });
}, Sm = (e) => {
  const t = (e || "").split(" ");
  let n = t[0], r = t[0], o = t[0], s = t[0];
  return t.length === 4 ? (n = t[0], r = t[1], o = t[2], s = t[3]) : t.length === 3 ? (n = t[0], r = t[1], s = t[1], o = t[2]) : t.length === 2 && (n = t[0], r = t[1], s = t[1], o = t[0]), [n, r, o, s];
};
function AL(e) {
  const t = {};
  if (e.padding) {
    const n = e.padding.split(" ");
    let r = n[0], o = n[0], s = n[0], i = n[0];
    n.length === 4 ? (r = n[0], o = n[1], s = n[2], i = n[3]) : n.length === 3 ? (r = n[0], o = n[1], i = n[1], s = n[2]) : n.length === 2 && (r = n[0], o = n[1], i = n[1], s = n[0]), t["padding-top"] = e["padding-top"] || r, t["padding-right"] = e["padding-right"] || o, t["padding-bottom"] = e["padding-bottom"] || s, t["padding-left"] = e["padding-left"] || i, delete e.padding;
  }
  return {
    ...e,
    ...t
  };
}
const LL = { ratioDefault: !0, tc: !1, cl: !1, cr: !1, bc: !1 }, Cm = `<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`, NL = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "icon", s = "gjs-icon", i = "data-type-icon";
  r.add(
    o,
    {
      label: "Icon",
      media: Cm,
      content: { type: o },
      ...t.block
    }
    //{ at: getBlockIndex(editor, 'link') + 1 }
  ), n.addType(o, {
    isComponent: (a) => Vo(a, s) || ol(a, i),
    model: {
      defaults: {
        droppable: !1,
        attributes: { class: s, [i]: !0 },
        resizable: LL,
        components: Cm,
        traits: [
          "id",
          "title",
          {
            type: "code",
            label: "Content",
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            typeProps: {
              language: "html",
              clean: !0,
              padding: 5
            },
            getValue({ component: a }) {
              return a.getInnerHTML();
            },
            setValue: oo(({ editor: a, component: l, value: c }) => {
              const d = a.Parser.parseHtml(c).html, p = Array.isArray(d) ? d[0] : d;
              p && p.tagName === "svg" && l.components(p);
            }, 500)
          }
        ],
        styles: `
            .${s} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `
      },
      init() {
        this.listenTo(this.components(), "change add", this.disableLayers), this.disableLayers();
      },
      disableLayers() {
        this.components().forEach((a) => a.set("layerable", !1));
      }
    },
    view: {
      init() {
        const { model: a } = this;
        this.listenTo(a.components(), "change", this.disableChildren);
      },
      onRender() {
        this.disableChildren();
      },
      disableChildren() {
        this.model.components().forEach((a) => {
          var c;
          const l = (c = a.view) == null ? void 0 : c.el;
          l && (l.style.pointerEvents = "none");
        });
      }
    }
  });
}, bd = "__nc", kL = (e) => {
  const t = e.getAttributes({ noClass: !0, noStyle: !0 });
  return e.traits.forEach((n) => {
    const r = n.getName();
    n.get("changeProp") || delete t[r];
  }), delete t.id, delete t.__p, t;
};
function ML(e) {
  const { Components: t } = e, n = (r) => {
    const { model: o, id: s } = r, i = o.getDefaults();
    t.addType(s, {
      model: {
        defaults: {
          traits: [
            ...i.traits,
            {
              name: "customAttributes",
              type: "stack",
              getValue({ component: a }) {
                const l = kL(a);
                return Object.keys(l).map((d) => ({
                  id: d,
                  value: l[d]
                }));
              },
              setValue: ({ component: a, value: l, options: c, emitUpdate: d }) => {
                const p = c.removed, f = c.previous, g = c.item;
                if (p)
                  a.removeAttributes(p.id);
                else {
                  f && g && f.id !== g.id && a.removeAttributes(f.id);
                  const h = l.reduce((m, b) => (m[b.id] = b.value || "", m), {});
                  a.addAttributes(h);
                }
                d();
              },
              addItem: () => ({
                id: bd,
                value: !1
              }),
              labelItem: (a) => a.id === bd || !a.id && !a.value ? "- Empty -" : `${a.id || ""}="${a.value || ""}"`,
              properties: [
                {
                  name: "id",
                  label: "Name",
                  getValue: (a) => a === bd ? "" : a,
                  setValue: (a, l) => a.trim().toLowerCase().replace(/^[^a-z]{1}/gi, "_").replace(/\s+/g, "-") || l
                },
                {
                  name: "value",
                  label: "Value",
                  getValue: (a) => typeof a == "boolean" ? "" : a
                }
              ]
            }
          ]
        }
      }
    });
  };
  t.getTypes().forEach(n);
}
const $L = "Basic";
function vd(e, t) {
  const { appStore: n } = t;
  e.Css.getConfig().onBeforeStyle = AL;
  const r = e.Parser.getConfig().optionsHtml;
  r.htmlType = "text/html";
  const o = n.sdkOptions.pages || {};
  (Ft(o.allowDocuments) ? o.allowDocuments : !0) && (r.detectDocument = !0, r.allowScripts = !0), e.Components.addType("trait-check", {
    model: {
      defaults: {
        traits: [
          "id",
          "title",
          {
            type: "select",
            name: "select-type",
            options: [
              { id: "value1", label: "Value 1" },
              { id: "value2", label: "Value 2" },
              { id: "value3", label: "Value 3" }
            ]
          },
          {
            type: "number",
            name: "number-type",
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore TODO ts
            units: ["px", "rem", "%"]
          },
          {
            type: "checkbox",
            name: "checkbox-type"
          },
          {
            type: "color",
            name: "color-type"
          },
          {
            type: "button",
            name: "button-type",
            label: "Delete",
            command: "core:component-delete"
          }
        ]
      }
    }
  });
  const i = { category: $L, select: !0, activate: !0 };
  FA(e, t), EL(e), CL(e, { block: i }), TL(e, { block: i }), xL(e, { block: i }), PL(e, { block: i }), OL(e, { block: i }), _L(e, { block: i }), NL(e, { block: i }), ML(e);
}
function sy(e) {
  const { code: t, appStore: n, showToastError: r } = e, { appEditorStore: o, toastStore: s, i18nStore: i } = n.store, { isProjectTypeEmail: a, editor: l } = o, c = (t || "").trim(), d = new DOMParser(), p = { input: t, output: "", error: "" };
  let f = "";
  try {
    if (a) {
      const g = (l == null ? void 0 : l.Parser.config.optionsHtml) || {}, h = g.codeSanitizer, m = Q0(c, { sanitizer: h });
      if (g.htmlType === "text/xml") {
        const y = d.parseFromString(`<div>${m}</div>`, "text/xml").querySelector("parsererror div");
        p.error = (y == null ? void 0 : y.textContent) || "";
      }
      h && (l == null || l.runCommand(vu, { mjml: m })), f = m;
    } else {
      const g = d.parseFromString(c, "text/html");
      iy(g.documentElement);
      const h = g.querySelectorAll("style"), m = [];
      h.forEach((y) => m.push(y.innerHTML));
      const b = m.filter(Boolean).join(`
`).trim();
      b && (l == null || l.Parser.parserCss.parse(b, { throwOnError: !0 }));
    }
  } catch (g) {
    p.error = g.message;
  }
  return p.error ? r && s.addError("error-parser", {
    header: i.t("actions.importCode.parseError"),
    content: p.error
  }) : p.output = f || c, p;
}
function iy(e) {
  if (!e || e.nodeType !== Node.ELEMENT_NODE)
    return;
  const t = Array.from(e.attributes), n = Array.from(e.children);
  for (const r of t)
    e.setAttribute(r.name, r.value);
  for (const r of n)
    iy(r);
}
function RL(e, t, n) {
  return t in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e;
}
function xm(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(o) {
      return Object.getOwnPropertyDescriptor(e, o).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Pm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? xm(Object(n), !0).forEach(function(r) {
      RL(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : xm(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function IL(e, t) {
  if (e == null)
    return {};
  var n = {}, r = Object.keys(e), o, s;
  for (s = 0; s < r.length; s++)
    o = r[s], !(t.indexOf(o) >= 0) && (n[o] = e[o]);
  return n;
}
function jL(e, t) {
  if (e == null)
    return {};
  var n = IL(e, t), r, o;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (o = 0; o < s.length; o++)
      r = s[o], !(t.indexOf(r) >= 0) && Object.prototype.propertyIsEnumerable.call(e, r) && (n[r] = e[r]);
  }
  return n;
}
function VL(e, t) {
  return DL(e) || HL(e, t) || BL(e, t) || FL();
}
function DL(e) {
  if (Array.isArray(e))
    return e;
}
function HL(e, t) {
  if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(e)))) {
    var n = [], r = !0, o = !1, s = void 0;
    try {
      for (var i = e[Symbol.iterator](), a; !(r = (a = i.next()).done) && (n.push(a.value), !(t && n.length === t)); r = !0)
        ;
    } catch (l) {
      o = !0, s = l;
    } finally {
      try {
        !r && i.return != null && i.return();
      } finally {
        if (o)
          throw s;
      }
    }
    return n;
  }
}
function BL(e, t) {
  if (e) {
    if (typeof e == "string")
      return Em(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if (n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")
      return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
      return Em(e, t);
  }
}
function Em(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function FL() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function zL(e, t, n) {
  return t in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e;
}
function Tm(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(o) {
      return Object.getOwnPropertyDescriptor(e, o).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Om(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? Tm(Object(n), !0).forEach(function(r) {
      zL(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Tm(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function UL() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return function(r) {
    return t.reduceRight(function(o, s) {
      return s(o);
    }, r);
  };
}
function Zi(e) {
  return function t() {
    for (var n = this, r = arguments.length, o = new Array(r), s = 0; s < r; s++)
      o[s] = arguments[s];
    return o.length >= e.length ? e.apply(this, o) : function() {
      for (var i = arguments.length, a = new Array(i), l = 0; l < i; l++)
        a[l] = arguments[l];
      return t.apply(n, [].concat(o, a));
    };
  };
}
function Oc(e) {
  return {}.toString.call(e).includes("Object");
}
function WL(e) {
  return !Object.keys(e).length;
}
function Aa(e) {
  return typeof e == "function";
}
function GL(e, t) {
  return Object.prototype.hasOwnProperty.call(e, t);
}
function KL(e, t) {
  return Oc(t) || $o("changeType"), Object.keys(t).some(function(n) {
    return !GL(e, n);
  }) && $o("changeField"), t;
}
function qL(e) {
  Aa(e) || $o("selectorType");
}
function YL(e) {
  Aa(e) || Oc(e) || $o("handlerType"), Oc(e) && Object.values(e).some(function(t) {
    return !Aa(t);
  }) && $o("handlersType");
}
function ZL(e) {
  e || $o("initialIsRequired"), Oc(e) || $o("initialType"), WL(e) && $o("initialContent");
}
function XL(e, t) {
  throw new Error(e[t] || e.default);
}
var JL = {
  initialIsRequired: "initial state is required",
  initialType: "initial state should be an object",
  initialContent: "initial state shouldn't be an empty object",
  handlerType: "handler should be an object or a function",
  handlersType: "all handlers should be a functions",
  selectorType: "selector should be a function",
  changeType: "provided value of changes should be an object",
  changeField: 'it seams you want to change a field in the state which is not specified in the "initial" state',
  default: "an unknown error accured in `state-local` package"
}, $o = Zi(XL)(JL), Tl = {
  changes: KL,
  selector: qL,
  handler: YL,
  initial: ZL
};
function QL(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  Tl.initial(e), Tl.handler(t);
  var n = {
    current: e
  }, r = Zi(nN)(n, t), o = Zi(tN)(n), s = Zi(Tl.changes)(e), i = Zi(eN)(n);
  function a() {
    var c = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : function(d) {
      return d;
    };
    return Tl.selector(c), c(n.current);
  }
  function l(c) {
    UL(r, o, s, i)(c);
  }
  return [a, l];
}
function eN(e, t) {
  return Aa(t) ? t(e.current) : t;
}
function tN(e, t) {
  return e.current = Om(Om({}, e.current), t), t;
}
function nN(e, t, n) {
  return Aa(t) ? t(e.current) : Object.keys(n).forEach(function(r) {
    var o;
    return (o = t[r]) === null || o === void 0 ? void 0 : o.call(t, e.current[r]);
  }), n;
}
var rN = {
  create: QL
}, oN = {
  paths: {
    vs: "https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"
  }
};
function sN(e) {
  return function t() {
    for (var n = this, r = arguments.length, o = new Array(r), s = 0; s < r; s++)
      o[s] = arguments[s];
    return o.length >= e.length ? e.apply(this, o) : function() {
      for (var i = arguments.length, a = new Array(i), l = 0; l < i; l++)
        a[l] = arguments[l];
      return t.apply(n, [].concat(o, a));
    };
  };
}
function iN(e) {
  return {}.toString.call(e).includes("Object");
}
function aN(e) {
  return e || _m("configIsRequired"), iN(e) || _m("configType"), e.urls ? (lN(), {
    paths: {
      vs: e.urls.monacoBase
    }
  }) : e;
}
function lN() {
  console.warn(ay.deprecation);
}
function cN(e, t) {
  throw new Error(e[t] || e.default);
}
var ay = {
  configIsRequired: "the configuration object is required",
  configType: "the configuration object should be an object",
  default: "an unknown error accured in `@monaco-editor/loader` package",
  deprecation: `Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `
}, _m = sN(cN)(ay), uN = {
  config: aN
}, dN = function() {
  for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
    n[r] = arguments[r];
  return function(o) {
    return n.reduceRight(function(s, i) {
      return i(s);
    }, o);
  };
};
function ly(e, t) {
  return Object.keys(t).forEach(function(n) {
    t[n] instanceof Object && e[n] && Object.assign(t[n], ly(e[n], t[n]));
  }), Pm(Pm({}, e), t);
}
var pN = {
  type: "cancelation",
  msg: "operation is manually canceled"
};
function yd(e) {
  var t = !1, n = new Promise(function(r, o) {
    e.then(function(s) {
      return t ? o(pN) : r(s);
    }), e.catch(o);
  });
  return n.cancel = function() {
    return t = !0;
  }, n;
}
var fN = rN.create({
  config: oN,
  isInitialized: !1,
  resolve: null,
  reject: null,
  monaco: null
}), cy = VL(fN, 2), al = cy[0], yu = cy[1];
function gN(e) {
  var t = uN.config(e), n = t.monaco, r = jL(t, ["monaco"]);
  yu(function(o) {
    return {
      config: ly(o.config, r),
      monaco: n
    };
  });
}
function hN() {
  var e = al(function(t) {
    var n = t.monaco, r = t.isInitialized, o = t.resolve;
    return {
      monaco: n,
      isInitialized: r,
      resolve: o
    };
  });
  if (!e.isInitialized) {
    if (yu({
      isInitialized: !0
    }), e.monaco)
      return e.resolve(e.monaco), yd(wd);
    if (window.monaco && window.monaco.editor)
      return uy(window.monaco), e.resolve(window.monaco), yd(wd);
    dN(mN, vN)(yN);
  }
  return yd(wd);
}
function mN(e) {
  return document.body.appendChild(e);
}
function bN(e) {
  var t = document.createElement("script");
  return e && (t.src = e), t;
}
function vN(e) {
  var t = al(function(r) {
    var o = r.config, s = r.reject;
    return {
      config: o,
      reject: s
    };
  }), n = bN("".concat(t.config.paths.vs, "/loader.js"));
  return n.onload = function() {
    return e();
  }, n.onerror = t.reject, n;
}
function yN() {
  var e = al(function(n) {
    var r = n.config, o = n.resolve, s = n.reject;
    return {
      config: r,
      resolve: o,
      reject: s
    };
  }), t = window.require;
  t.config(e.config), t(["vs/editor/editor.main"], function(n) {
    uy(n), e.resolve(n);
  }, function(n) {
    e.reject(n);
  });
}
function uy(e) {
  al().monaco || yu({
    monaco: e
  });
}
function wN() {
  return al(function(e) {
    var t = e.monaco;
    return t;
  });
}
var wd = new Promise(function(e, t) {
  return yu({
    resolve: e,
    reject: t
  });
}), dy = {
  config: gN,
  init: hN,
  __getMonacoInstance: wN
}, SN = { wrapper: { display: "flex", position: "relative", textAlign: "initial" }, fullWidth: { width: "100%" }, hide: { display: "none" } }, Sd = SN, CN = { container: { display: "flex", height: "100%", width: "100%", justifyContent: "center", alignItems: "center" } }, xN = CN;
function PN({ children: e }) {
  return B.createElement("div", { style: xN.container }, e);
}
var EN = PN, TN = EN;
function ON({ width: e, height: t, isEditorReady: n, loading: r, _ref: o, className: s, wrapperProps: i }) {
  return B.createElement("section", { style: { ...Sd.wrapper, width: e, height: t }, ...i }, !n && B.createElement(TN, null, r), B.createElement("div", { ref: o, style: { ...Sd.fullWidth, ...!n && Sd.hide }, className: s }));
}
var _N = ON, py = Pe(_N);
function AN(e) {
  G(e, []);
}
var fy = AN;
function LN(e, t, n = !0) {
  let r = q(!0);
  G(r.current || !n ? () => {
    r.current = !1;
  } : e, t);
}
var An = LN;
function oa() {
}
function Xs(e, t, n, r) {
  return NN(e, r) || kN(e, t, n, r);
}
function NN(e, t) {
  return e.editor.getModel(gy(e, t));
}
function kN(e, t, n, r) {
  return e.editor.createModel(t, n, r ? gy(e, r) : void 0);
}
function gy(e, t) {
  return e.Uri.parse(t);
}
function MN({ original: e, modified: t, language: n, originalLanguage: r, modifiedLanguage: o, originalModelPath: s, modifiedModelPath: i, keepCurrentOriginalModel: a = !1, keepCurrentModifiedModel: l = !1, theme: c = "light", loading: d = "Loading...", options: p = {}, height: f = "100%", width: g = "100%", className: h, wrapperProps: m = {}, beforeMount: b = oa, onMount: y = oa }) {
  let [v, S] = W(!1), [w, C] = W(!0), x = q(null), E = q(null), O = q(null), T = q(y), P = q(b), A = q(!1);
  fy(() => {
    let N = dy.init();
    return N.then((H) => (E.current = H) && C(!1)).catch((H) => (H == null ? void 0 : H.type) !== "cancelation" && console.error("Monaco initialization: error:", H)), () => x.current ? V() : N.cancel();
  }), An(() => {
    if (x.current && E.current) {
      let N = x.current.getOriginalEditor(), H = Xs(E.current, e || "", r || n || "text", s || "");
      H !== N.getModel() && N.setModel(H);
    }
  }, [s], v), An(() => {
    if (x.current && E.current) {
      let N = x.current.getModifiedEditor(), H = Xs(E.current, t || "", o || n || "text", i || "");
      H !== N.getModel() && N.setModel(H);
    }
  }, [i], v), An(() => {
    let N = x.current.getModifiedEditor();
    N.getOption(E.current.editor.EditorOption.readOnly) ? N.setValue(t || "") : t !== N.getValue() && (N.executeEdits("", [{ range: N.getModel().getFullModelRange(), text: t || "", forceMoveMarkers: !0 }]), N.pushUndoStop());
  }, [t], v), An(() => {
    var N, H;
    (H = (N = x.current) == null ? void 0 : N.getModel()) == null || H.original.setValue(e || "");
  }, [e], v), An(() => {
    let { original: N, modified: H } = x.current.getModel();
    E.current.editor.setModelLanguage(N, r || n || "text"), E.current.editor.setModelLanguage(H, o || n || "text");
  }, [n, r, o], v), An(() => {
    var N;
    (N = E.current) == null || N.editor.setTheme(c);
  }, [c], v), An(() => {
    var N;
    (N = x.current) == null || N.updateOptions(p);
  }, [p], v);
  let _ = Et(() => {
    var K;
    if (!E.current)
      return;
    P.current(E.current);
    let N = Xs(E.current, e || "", r || n || "text", s || ""), H = Xs(E.current, t || "", o || n || "text", i || "");
    (K = x.current) == null || K.setModel({ original: N, modified: H });
  }, [n, t, o, e, r, s, i]), M = Et(() => {
    var N;
    !A.current && O.current && (x.current = E.current.editor.createDiffEditor(O.current, { automaticLayout: !0, ...p }), _(), (N = E.current) == null || N.editor.setTheme(c), S(!0), A.current = !0);
  }, [p, c, _]);
  G(() => {
    v && T.current(x.current, E.current);
  }, [v]), G(() => {
    !w && !v && M();
  }, [w, v, M]);
  function V() {
    var H, K, z, $;
    let N = (H = x.current) == null ? void 0 : H.getModel();
    a || ((K = N == null ? void 0 : N.original) == null || K.dispose()), l || ((z = N == null ? void 0 : N.modified) == null || z.dispose()), ($ = x.current) == null || $.dispose();
  }
  return B.createElement(py, { width: g, height: f, isEditorReady: v, loading: d, _ref: O, className: h, wrapperProps: m });
}
var $N = MN;
Pe($N);
function RN(e) {
  let t = q();
  return G(() => {
    t.current = e;
  }, [e]), t.current;
}
var IN = RN, Ol = /* @__PURE__ */ new Map();
function jN({ defaultValue: e, defaultLanguage: t, defaultPath: n, value: r, language: o, path: s, theme: i = "light", line: a, loading: l = "Loading...", options: c = {}, overrideServices: d = {}, saveViewState: p = !0, keepCurrentModel: f = !1, width: g = "100%", height: h = "100%", className: m, wrapperProps: b = {}, beforeMount: y = oa, onMount: v = oa, onChange: S, onValidate: w = oa }) {
  let [C, x] = W(!1), [E, O] = W(!0), T = q(null), P = q(null), A = q(null), _ = q(v), M = q(y), V = q(), N = q(r), H = IN(s), K = q(!1), z = q(!1);
  fy(() => {
    let I = dy.init();
    return I.then((U) => (T.current = U) && O(!1)).catch((U) => (U == null ? void 0 : U.type) !== "cancelation" && console.error("Monaco initialization: error:", U)), () => P.current ? D() : I.cancel();
  }), An(() => {
    var U, ne, Q, re;
    let I = Xs(T.current, e || r || "", t || o || "", s || n || "");
    I !== ((U = P.current) == null ? void 0 : U.getModel()) && (p && Ol.set(H, (ne = P.current) == null ? void 0 : ne.saveViewState()), (Q = P.current) == null || Q.setModel(I), p && ((re = P.current) == null || re.restoreViewState(Ol.get(s))));
  }, [s], C), An(() => {
    var I;
    (I = P.current) == null || I.updateOptions(c);
  }, [c], C), An(() => {
    !P.current || r === void 0 || (P.current.getOption(T.current.editor.EditorOption.readOnly) ? P.current.setValue(r) : r !== P.current.getValue() && (z.current = !0, P.current.executeEdits("", [{ range: P.current.getModel().getFullModelRange(), text: r, forceMoveMarkers: !0 }]), P.current.pushUndoStop(), z.current = !1));
  }, [r], C), An(() => {
    var U, ne;
    let I = (U = P.current) == null ? void 0 : U.getModel();
    I && o && ((ne = T.current) == null || ne.editor.setModelLanguage(I, o));
  }, [o], C), An(() => {
    var I;
    a !== void 0 && ((I = P.current) == null || I.revealLine(a));
  }, [a], C), An(() => {
    var I;
    (I = T.current) == null || I.editor.setTheme(i);
  }, [i], C);
  let $ = Et(() => {
    var I;
    if (!(!A.current || !T.current) && !K.current) {
      M.current(T.current);
      let U = s || n, ne = Xs(T.current, r || e || "", t || o || "", U || "");
      P.current = (I = T.current) == null ? void 0 : I.editor.create(A.current, { model: ne, automaticLayout: !0, ...c }, d), p && P.current.restoreViewState(Ol.get(U)), T.current.editor.setTheme(i), a !== void 0 && P.current.revealLine(a), x(!0), K.current = !0;
    }
  }, [e, t, n, r, o, s, c, d, p, i, a]);
  G(() => {
    C && _.current(P.current, T.current);
  }, [C]), G(() => {
    !E && !C && $();
  }, [E, C, $]), N.current = r, G(() => {
    var I, U;
    C && S && ((I = V.current) == null || I.dispose(), V.current = (U = P.current) == null ? void 0 : U.onDidChangeModelContent((ne) => {
      z.current || S(P.current.getValue(), ne);
    }));
  }, [C, S]), G(() => {
    if (C) {
      let I = T.current.editor.onDidChangeMarkers((U) => {
        var Q;
        let ne = (Q = P.current.getModel()) == null ? void 0 : Q.uri;
        if (ne && U.find((re) => re.path === ne.path)) {
          let re = T.current.editor.getModelMarkers({ resource: ne });
          w == null || w(re);
        }
      });
      return () => {
        I == null || I.dispose();
      };
    }
    return () => {
    };
  }, [C, w]);
  function D() {
    var I, U;
    (I = V.current) == null || I.dispose(), f ? p && Ol.set(s, P.current.saveViewState()) : (U = P.current.getModel()) == null || U.dispose(), P.current.dispose();
  }
  return B.createElement(py, { width: g, height: h, isEditorReady: C, loading: l, _ref: A, className: m, wrapperProps: b });
}
var VN = jN, DN = Pe(VN), HN = DN;
const hy = (e) => {
  var t;
  (t = e.getAction("editor.action.formatDocument")) == null || t.run();
}, BN = "gs-field-code", FN = {
  minimap: { enabled: !1 },
  lineNumbers: "off",
  scrollBeyondLastLine: !1,
  contextmenu: !1,
  fixedOverflowWidgets: !0,
  // Render widgets outside of the container
  showFoldingControls: "always",
  suggestOnTriggerCharacters: !1,
  lineDecorationsWidth: 0,
  renderLineHighlight: "none",
  wordWrapOverride1: "off",
  // disable wordWrap
  tabSize: 2,
  // formatOnType: true,
  // formatOnPaste: true,
  // autoIndent: true,
  scrollbar: {
    verticalScrollbarSize: 8,
    horizontal: "hidden",
    alwaysConsumeMouseWheel: !1
  }
  // readOnly: true,
  // language: 'json',
  // lineNumbers: (lineNumber: number) => lineNumber.toString(),
  // lineNumbersMinChars: 5,
  // selectOnLineNumbers: false,
  // matchBrackets: 'never',
};
function fo(e) {
  const {
    defaultValue: t,
    value: n,
    language: r,
    onChange: o,
    clean: s,
    padding: i,
    isDarkTheme: a,
    className: l,
    containerClassName: c,
    minHeight: d = "170px",
    onMount: p,
    readOnly: f,
    name: g,
    required: h,
    disabled: m,
    formatOnMount: b = !0,
    monacoOptions: y,
    labelAs: v
  } = e, S = n !== void 0, w = r, C = S ? n : t, x = typeof C == "string" ? C : JSON.stringify(C ?? "", null, 2), E = qo({
    ...e,
    className: k(BN, "gs-utl-flex gs-utl-h-full", c, !e.row && "gs-utl-flex gs-utl-flex-col")
  }), O = k("gs-utl-relative gs-utl-flex-grow");
  return (
    // This 3 div container fixes problems with autolayout, like not shrinking width on resize.
    /* @__PURE__ */ L("div", { ...E, children: [
      /* @__PURE__ */ u(mr, { ...e, as: v }),
      /* @__PURE__ */ L("div", { className: O, style: { minHeight: d }, children: [
        g && /* @__PURE__ */ u(
          "input",
          {
            className: De.hiddenVisually,
            name: g,
            value: x,
            disabled: m,
            required: h,
            onChange: () => {
            }
          }
        ),
        /* @__PURE__ */ u("div", { className: k("gs-utl-absolute gs-utl-inset-0", m && De.disabled), children: /* @__PURE__ */ u(
          HN,
          {
            ...S ? { language: w, value: x } : { defaultLanguage: w, defaultValue: x },
            theme: a ? "vs-dark" : "light",
            className: k(le.b, le.rnd, F.br, l),
            options: {
              ...FN,
              readOnly: f,
              ...s && {
                domReadOnly: !0,
                // disables "Cannot edit in read-only editor" tooltip when typing
                overviewRulerLanes: 0,
                // disable the right side ruler
                selectOnLineNumbers: !1,
                folding: !1,
                matchBrackets: "never",
                guides: {
                  indentation: !1
                }
              },
              ...Ft(i) && {
                lineDecorationsWidth: i * 2,
                padding: {
                  top: i,
                  bottom: i
                }
              },
              ...y
            },
            onChange: o,
            onMount: (T, P) => {
              if (b) {
                let A = !1;
                const _ = () => hy(T);
                T.onDidChangeModelLanguageConfiguration(_), T.onDidScrollChange(() => {
                  A || (A = !0, _());
                }), setTimeout(_, 10);
              }
              p == null || p(T, P);
            }
          }
        ) })
      ] })
    ] })
  );
}
const my = ce(function({ buttonProps: t, content: n, code: r, onAction: o }) {
  const s = Wr(), i = Le(), a = we(), { isProjectTypeEmail: l } = a, c = a.editor, { isDarkTheme: d } = En(), [p, f] = W(), g = () => {
    let m = (p || "").trim();
    const b = sy({ code: m, appStore: a, showToastError: !0 });
    if (!b.error)
      m = b.output;
    else
      return;
    o ? o(m) : l ? c.loadProjectData({ pages: [{ component: m }] }) : c.setComponents(m), s.close();
  };
  G(() => {
    r ? f(r) : (async () => {
      var w, C;
      const b = await c.runCommand(he.projectFiles, {
        page: c.Pages.getSelected(),
        skipProject: !0,
        styles: "inline"
      }), y = (w = b.find((x) => x.mimeType === "text/html")) == null ? void 0 : w.content, v = (C = b.find((x) => x.mimeType === "text/mjml")) == null ? void 0 : C.content, S = l ? v : y;
      S && f(S);
    })();
  }, []);
  const h = (t == null ? void 0 : t.children) || i.t("actions.importCode.button");
  return /* @__PURE__ */ L(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ u(j, { children: n ?? i.t("actions.importCode.content") }),
    /* @__PURE__ */ u(j, { className: Y("h-96"), children: p !== void 0 && /* @__PURE__ */ u(
      fo,
      {
        defaultValue: p,
        onChange: (m) => f(m || ""),
        isDarkTheme: d,
        language: "html"
      }
    ) }),
    /* @__PURE__ */ u(R, { justify: "end", children: /* @__PURE__ */ u(Xe, { size: "m2", variant: "pr", onClick: g, ...t, children: h }) })
  ] });
}), Vp = "data-type-empty", Am = (e, t) => {
  e.Canvas.getFrames().forEach((n) => {
    const { view: r } = n, o = Array.from(r.getDoc().querySelectorAll(`style[${Vp}]`));
    for (const s of o)
      s.disabled = !t;
  });
}, zN = (e, t, n = "Empty", r = {}) => {
  const o = `[${Vp}="${t}"]`;
  if (!e.frameView.getDoc())
    return;
  const s = e.frameView.getHead(), { midSelector: i = "", styleOut: a = "", styleIn: l = "" } = r;
  if (!s.querySelector(`style${o}`)) {
    const c = document.createElement("style");
    c.setAttribute(Vp, t), c.innerHTML = `
    [data-gjs-type="${t}"]${i}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW ? "min-width: 50px;" : ""}
      ${a}
    }
    [data-gjs-type="${t}"]${i}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH ? "height: auto;" : ""}
      ${r.smallH ? "min-height: 30px;" : ""}
      ${l}
    }`, s.appendChild(c);
  }
}, by = (e, t) => {
  const { model: n } = t, r = n.constructor.getDefaults(), o = r.emptyState, s = n.get("type");
  if (!o || r.void === !0 || s !== e)
    return;
  const i = o === !0 ? {} : o;
  zN(t, s, n.getName({ noCustom: !0 }), i);
}, UN = function(t) {
  const { Components: n } = t, r = (o) => {
    const { id: s } = o;
    n.addType(s, {
      extendFnView: ["onRender"],
      view: {
        onRender() {
          by(s, this);
        }
      }
    });
  };
  n.getTypes().forEach(r), t.on("component:type:add", r);
};
function WN(e, t) {
  const { Components: n } = e, r = n.events, { modalStore: o, i18nStore: s, fontsStore: i } = t.appStore.store, { root: a, head: l, body: c } = _a, {
    attributes: d,
    class: p,
    font: f,
    all: g,
    preview: h,
    title: m,
    style: b,
    breakpoint: y
  } = vg, {
    wrapper: v,
    section: S,
    column: w,
    text: C,
    button: x,
    image: E,
    divider: O,
    group: T,
    social: P,
    socialElement: A,
    spacer: _,
    navbar: M,
    navbarLink: V,
    raw: N
  } = ey, { model: H } = n.getType("default"), { model: K } = n.getType(a), { model: z } = n.getType(c), { model: $ } = n.getType(f), { model: D, view: I } = n.getType(l), { model: U, view: ne } = n.getType(M), { model: Q, view: re } = n.getType(V), { model: ie, view: oe } = n.getType(v), { model: X, view: ee } = n.getType(S), { model: de, view: me } = n.getType(w), { model: Ee, view: Se } = n.getType(C), { model: Fe, view: tt } = n.getType(x), { model: xt } = n.getType(E), { model: ft, view: Ge } = n.getType(O), { model: zt, view: gt } = n.getType(_), { view: kt, model: Tt } = n.getType(P), { view: Pt, model: pt } = n.getType(A), { view: ht, model: Zt } = n.getType(T), ve = Rs.globalStyles, ze = "css-class", We = {
    id: "link",
    name: "href",
    label: "Link",
    placeholder: "Link to redirect on click"
  }, Me = {
    name: "src",
    type: "image",
    typeProps: { inputField: !0 },
    label: "Image"
  }, yt = {
    type: "checkbox",
    label: "Full width",
    name: "full-width",
    valueTrue: "full-width",
    valueFalse: ""
  }, Ut = {
    type: "select",
    label: "Direction",
    name: "direction",
    default: "ltr",
    options: [
      { id: "ltr", name: "Left To Right" },
      { id: "rtl", name: "Right To Left" }
    ]
  }, qr = {
    label: "Content",
    getValue: ({ component: J }) => J.getInnerHTML(),
    setValue: ({ component: J, value: ge }) => J.components(ge)
  }, Qo = (J) => {
    o.open({
      title: J.getName({ noCustom: !0 }),
      content: () => /* @__PURE__ */ u(
        my,
        {
          content: "",
          code: J.getInnerHTML(),
          onAction: (ge) => J.components(ge),
          buttonProps: { children: s.t("save") }
        }
      )
    });
  }, ot = (J) => {
    var be;
    const ge = J.getChildrenContainer();
    ((be = ge == null ? void 0 : ge.innerHTML) == null ? void 0 : be.trim()) === "" && (ge.innerHTML = "");
  }, wt = (J) => J.set({ void: !1 }, { silent: !0 });
  function nn(J = {}) {
    return H.prototype.toHTML.call(this, J);
  }
  function cn(J) {
    const ge = J.closestType(a), be = ge == null ? void 0 : ge.findType(l)[0];
    return (be == null ? void 0 : be.toHTML()) || "";
  }
  function mn(J) {
    const ge = J.toHTML(), be = e.runCommand(vu, { mjml: ge }), Mt = new DOMParser().parseFromString(be.html, "text/html");
    return {
      mjml: ge,
      mjmlToHtml: be,
      document: Mt
    };
  }
  const es = function(J) {
    const ge = J.model, be = oo(() => {
      var Ie;
      return (Ie = ge.closestType(a)) == null ? void 0 : Ie.trigger("rerender");
    });
    J.listenTo(ge.components(), "add remove reset change", be);
  }, rn = (J, ge) => J.replace(`<${a}>`, `<${a}>${cn(ge)}`), vo = (J) => `cls-${J.tagName}-${J.getId()}`, Yr = (J, ge) => {
    const be = { ...J.get("attributes") || {} };
    return delete be.style, { ...be, [ze]: `${be[ze] || ""} ${vo(J)}`.trim() };
  }, ts = (J, ge) => {
    const be = J.closestType(a), Ie = (be == null ? void 0 : be.findFirstType(l)) || (be == null ? void 0 : be.append({ type: l })[0]);
    Ie == null || Ie.trigger(ge ? "rerenderHeadImmediate" : "rerenderHead");
  }, ns = (J) => function() {
    return Yr(this);
  }, Xt = (J, ge) => function(be) {
    const Ie = be.querySelector(`.${vo(this.model)}`);
    return (ge ? Ie : Ie == null ? void 0 : Ie.outerHTML) || J.prototype.getTemplateFromEl.call(this, be);
  }, Tn = (J) => function(...ge) {
    const be = J.prototype.toJSON.apply(this, ge), Ie = be.attributes || {};
    return delete be.style, delete Ie.style, delete Ie.__p, be;
  }, ml = (J) => function(...ge) {
    const be = J.prototype.getAttrToHTML.apply(this, ge);
    return delete be.__p, be;
  };
  function Zr() {
    return {
      start: `<mjml>${cn(this.model)}<mj-body><mj-column>`,
      end: "</mj-column></mj-body></mjml>"
    };
  }
  function NS() {
    var be;
    const J = (be = this.model.parent()) == null ? void 0 : be.is(d), ge = Xg(this.model, {
      withSiblings: !J,
      withHead: !J,
      beforeRootEnd: J ? `<${c}><${S}><${w}/></${S}></${c}>` : ""
    });
    return {
      start: ge.start,
      end: ge.end
    };
  }
  function kS() {
    this.stopListening(this.model, "change:style"), this.listenTo(this.model, "change:attributes change:src", this.rerender);
  }
  const Xg = (J, ge = {}) => {
    var rs;
    const be = J.parents().filter((On) => On.tagName.startsWith("mj-")), Ie = be.map((On) => `<${On.tagName}>`).reverse().join(""), Mt = be.map((On) => `</${On.tagName}>`).join(""), Nt = ge.withHead ? cn(J) : "", Bn = ge.withSiblings ? (rs = J.parent()) == null ? void 0 : rs.components().filter((On) => On !== J).map(({ tagName: On }) => `<${On}></${On}>`).join("") : "";
    return {
      start: `<${a}>${Nt}${Ie}`,
      end: `${Bn || ""}${Mt}${ge.beforeRootEnd || ""}</${a}>`
    };
  }, on = ({ model: J, noVoid: ge }) => ({
    // This fixes the attributes/styles with data sources binding
    init() {
      const be = {
        ...this.get("style-default"),
        ...this.getStylesToAttributes(),
        ...this.getAttributes({ skipResolve: !0, noStyle: !0, noClass: !0 })
      };
      this.set("attributes", be), this.set("style", be), this.listenTo(this, "change:style", this.handleStyleChange), this.listenTo(this, "change:attributes", this.handleAttributeChange), ge && wt(this);
    },
    handleStyleChange(be, Ie, Mt) {
      if (Mt.fromAttr || Mt.fromSync)
        return;
      const Nt = this.getStylesToAttributes();
      this.set("attributes", Nt, { ...Mt, fromStyle: !0, fromSync: !0 });
    },
    handleAttributeChange(be, Ie, Mt) {
      if (Mt.fromStyle || Mt.fromSync)
        return;
      const Nt = this.getAttributes({ skipResolve: !0, noStyle: !0, noClass: !0 });
      this.setStyle(Nt, { ...Mt, fromAttr: !0, fromSync: !0 });
    },
    getStylesToAttributes() {
      const be = this.getStyle({ skipResolve: !0 }) || {};
      return delete be.__p, be;
    },
    getAttrToHTML: ml(J),
    getMjmlAttributes: ns(),
    toJSON: Tn(J)
  });
  n.addType("wrapper", {
    extendFn: ["init"],
    model: {
      defaults: {
        stylable: !1,
        delegate: {
          layer: (J) => J.findType(a)[0]
        }
      },
      init() {
        this.on(`${r.update}:components`, this.__updateLayersRoot);
      },
      __updateLayersRoot() {
        this.findFirstType(a) && e.Layers.setRoot(this);
      }
    }
  }), n.addType(a, {
    model: {
      ...on({ model: K }),
      defaults: {
        tagName: a,
        name: "Root",
        toolbar: []
      },
      toHTML: nn
    },
    view: {
      reset() {
        this.render();
      }
    }
  }), n.addType(l, {
    model: {
      defaults: {
        tagName: l,
        name: "Head",
        copyable: !1,
        stylable: !1,
        traits: [],
        icon: '<svg viewBox="0 0 24 24"><path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" /></svg>'
      },
      toJSON: Tn(D)
    },
    view: {
      init() {
        this.renderHeadDebounced = oo(this.renderHead, 30);
        const { em: J, el: ge, model: be } = this, Ie = be.components(), Mt = "core:preview", Nt = J.Commands.events;
        this.listenTo(J, `${Nt.runCommand}${Mt}`, () => {
          ge.style.display = "none";
        }), this.listenTo(J, `${Nt.stopCommand}${Mt}`, () => {
          ge.style.display = "";
        }), this.listenTo(Ie, "change", this.onComponentsChange), this.listenTo(Ie, "add remove reset", this.renderHead), this.listenTo(be, "rerenderHead", this.renderHeadDebounced), this.listenTo(be, "rerenderHeadImmediate", this.renderHead);
      },
      onComponentsChange(J) {
        const ge = Object.keys(J.changedAttributes());
        ge.length === 1 && ge[0] === "status" || this.renderHead();
      },
      /**
       * Render MJML head result into a separate DOM element
       */
      renderHead() {
        var rs;
        const { model: J, el: ge } = this, be = ge.ownerDocument;
        if (!(be && be !== document))
          return;
        const Mt = J.closestType(a), Nt = Mt && mn(Mt), Bn = (rs = Nt == null ? void 0 : Nt.document) == null ? void 0 : rs.head;
        if (Bn) {
          const On = "mjml-head-result", Bu = be.querySelector(On) || be.createElement(On);
          Bu.innerHTML = Bn.innerHTML, !be.head.contains(Bu) && be.head.prepend(Bu);
        }
      },
      render(...J) {
        const ge = I.prototype.render.apply(this, J);
        return this.renderHeadDebounced(), ge;
      }
    }
  }), n.addType(d, {
    isComponent: Fs(d),
    model: {
      defaults: {
        tagName: d,
        name: "Attributes",
        copyable: !1,
        layerable: !1,
        stylable: !1,
        draggable: Tr(l),
        traits: []
      },
      toJSON: Tn(H)
    },
    view: {
      onRender() {
        this.el.style.display = "none";
      },
      init() {
        es(this);
      }
    }
  }), n.addType(p, {
    isComponent: Fs(p),
    model: {
      defaults: {
        tagName: p,
        name: "Class",
        stylable: !1,
        draggable: Tr(d),
        traits: []
      },
      toJSON: Tn(H)
    }
  }), n.addType(f, {
    model: {
      ...on({ model: $ }),
      defaults: {
        tagName: f,
        name: "Font",
        stylable: !1,
        draggable: Tr(l),
        icon: '<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',
        traits: [
          {
            name: "name",
            placeholder: "Name of the font"
          },
          {
            name: "href",
            placeholder: "URL of a hosted CSS file"
          }
        ]
      }
    },
    view: {
      tagName: () => "div",
      render() {
        return this.el.style.cssText = "", this;
      }
    }
  }), n.addType(y, {
    extend: a,
    isComponent: Fs(y),
    model: {
      defaults: {
        tagName: y,
        name: "Breakpoint",
        stylable: ["width"],
        removable: !0,
        droppable: !1,
        draggable: Tr(l),
        icon: '<svg viewBox="0 0 24 24"><path d="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z" /></svg>',
        traits: []
      }
    },
    view: {
      attributes: {},
      render() {
        return this.el.style.cssText = "", this;
      }
    }
  }), n.addType(g, {
    isComponent: Fs(g),
    model: {
      defaults: {
        tagName: g,
        name: "All",
        stylable: !1,
        void: !0,
        draggable: Tr(d),
        traits: []
      },
      toHTML(...J) {
        return K.prototype.toHTML.apply(this, J);
      },
      toJSON: Tn(H)
    }
  }), n.addType(h, {
    isComponent: Fs(h),
    model: {
      defaults: {
        tagName: h,
        name: "Preview",
        copyable: !1,
        droppable: !1,
        stylable: !1,
        draggable: Tr(l),
        traits: [qr],
        icon: `<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`
      },
      toJSON: Tn(H)
    },
    view: {
      tagName: () => "div",
      init() {
        const J = this.model.components();
        this.onRender = oo(this.onRender, 1), this.listenTo(J, "add remove reset change", this.onRender);
      },
      onRender() {
        const { model: J, el: ge } = this, be = J.getName({ noCustom: !0 }), Ie = J.getInnerHTML();
        ge.innerHTML = `<b>${be}</b>: ${Ie}`, ge.style.padding = "5px 10px", ge.style.fontFamily = "system-ui";
      }
    }
  }), n.addType(m, {
    isComponent: Fs(m),
    extend: h,
    model: {
      defaults: {
        tagName: m,
        name: "Title",
        icon: '<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'
      }
    }
  }), n.addType(b, {
    model: {
      defaults: {
        tagName: b,
        name: "Style",
        droppable: !1,
        layerable: !1,
        stylable: !1,
        traits: []
      },
      toJSON: Tn(H)
    },
    view: {
      render() {
        return this;
      }
    }
  }), n.addType(c, {
    model: {
      ...on({ model: z, noVoid: !0 }),
      defaults: {
        tagName: c,
        icon: '<svg viewBox="0 0 24 24"><path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" /></svg>',
        traits: [],
        emptyState: { midSelector: ">div", styleOut: "height: 100vh;" }
      }
    }
  }), n.addType(v, {
    model: {
      ...on({ model: ie, noVoid: !0 }),
      defaults: {
        tagName: v,
        icon: '<svg viewBox="0 0 24 24"><path d="M19 16H5V8h14m0-5H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"/></svg>',
        stylable: [
          "background-position",
          "padding",
          "padding-top",
          "padding-left",
          "padding-right",
          "padding-bottom",
          "border",
          "border-width",
          "border-style",
          "border-color",
          "background-color",
          "background-url",
          "background-repeat",
          "background-size"
          // 'text-align', // seems useless
          // 'border-radius', // seems we need to upgrade MJML version
          // 'gap', // seems we need to upgrade MJML version
        ],
        traits: [yt]
      }
    },
    view: {
      attributes: {},
      getMjmlTemplate: NS,
      getTemplateFromEl: Xt(oe),
      init: kS
    }
  }), n.addType(S, {
    model: {
      ...on({ model: X, noVoid: !0 }),
      defaults: {
        tagName: S,
        "style-default": {
          padding: "20px 0px",
          direction: "ltr",
          "text-align": "center"
        },
        icon: '<svg viewBox="0 0 24 24"><path d="M4 4.8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3A1.8 1.8 0 0 0 20 4.7zm0 8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',
        traits: [Ut, yt],
        emptyState: {
          midSelector: ">div>table>tbody>tr>td"
        }
      }
    },
    extendFnView: ["render"],
    view: {
      getTemplateFromEl: Xt(ee),
      getMjmlTemplate() {
        const { start: J, end: ge } = ee.prototype.getMjmlTemplate.call(this);
        return {
          start: rn(J, this.model),
          end: ge
        };
      },
      render() {
        return ot(this), this;
      },
      attributes: {}
    }
  }), n.addType(T, {
    model: {
      ...on({ model: Zt, noVoid: !0 }),
      defaults: {
        tagName: T,
        "style-default": { direction: "ltr" },
        icon: '<svg viewBox="0 0 24 24"><path d="M16,5V18H21V5M4,18H9V5H4M10,18H15V5H10V18Z" /></svg>',
        traits: [Ut]
      }
    },
    extendFnView: ["init"],
    view: {
      init() {
        this.listenTo(this.model.components(), "add remove reset", this.render);
      },
      getTemplateFromEl: Xt(ht, !0),
      getChildrenContainer() {
        return this.el;
      },
      getMjmlTemplate() {
        return {
          start: "<mjml><mj-body><mj-section>",
          end: "</mj-section></mj-body></mjml>"
        };
      },
      render() {
        const J = this.getTemplateFromMjml(), ge = BC(J);
        return this.renderAttributes(), this.$el.attr(ge), this.el.innerHTML = J.innerHTML, this.renderChildren(), this.childNodes = this.getChildrenContainer().childNodes, this.updateStatus(), this.postRender(), this;
      }
    }
  }), n.addType(w, {
    model: {
      ...on({ model: de, noVoid: !0 }),
      defaults: {
        tagName: w,
        icon: '<svg viewBox="0 0 24 24"><path d="M14.5 2.3A1.8 1.8 0 0 0 12.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8zm-8 0A1.8 1.8 0 0 0 4.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',
        traits: [],
        stylable: [...de.getDefaults().stylable, "inner-background-color"],
        emptyState: {
          midSelector: ">table>tbody",
          styleIn: "margin: 0 10px;"
        }
      }
    },
    view: {
      getMjmlTemplate() {
        var be;
        const J = (be = this.model.parent()) == null ? void 0 : be.is(d), ge = Xg(this.model, {
          withSiblings: !J,
          withHead: !J,
          beforeRootEnd: J ? `<${c}><${S}><${w}/></${S}></${c}>` : ""
        });
        return {
          start: ge.start,
          end: ge.end
        };
      },
      getTemplateFromEl: Xt(me, !0),
      getChildrenContainer() {
        const { el: J } = this;
        return J.querySelector("td > table tbody") || J.querySelector("table tbody") || J;
      },
      render() {
        this.renderAttributes();
        const J = this.getTemplateFromMjml();
        return this.el.innerHTML = J.content, this.$el.attr(J.attributes), this.getChildrenContainer().innerHTML = this.model.get("content"), this.renderChildren(), this.updateStatus(), this.postRender(), ts(this.model, !0), this;
      }
    }
  }), n.addType(C, {
    model: {
      ...on({ model: Ee }),
      defaults: {
        tagName: C,
        emptyState: {
          midSelector: ' [contenteditable="false"]:not([data-type-data-variable])',
          styleIn: "min-height: 20px;",
          styleOut: "padding: 0 5px;"
        },
        traits: [],
        "style-default": {
          padding: "10px 25px"
          // Testing without defaults as at the moment this conflicts with head stuff (mj-all)
          // 'font-size': '13px',
          // align: 'left'
        }
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(Se),
      attributes: {
        style: "display: table; width: 100%"
      }
    }
  }), n.addType(x, {
    model: {
      ...on({ model: Fe, noVoid: !0 }),
      defaults: {
        tagName: x,
        traits: [We],
        stylable: [...Fe.getDefaults().stylable, "inner-padding"],
        "style-default": {
          // Testing without defaults as at the moment this conflicts with head stuff (mj-all)
          // 'background-color': '#414141',
          // 'border-radius': '3px',
          // 'font-size': '13px',
          // 'font-weight': '400',
          // 'color': '#ffffff',
          // 'vertical-align': 'middle',
          // 'padding-top': '10px',
          // 'padding-bottom': '10px',
          // 'padding-right': '25px',
          // 'padding-left': '25px',
          // 'align': 'center',
        }
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(tt)
    }
  }), n.addType(E, {
    model: {
      ...on({ model: xt }),
      defaults: {
        tagName: E,
        "style-default": {
          align: "center"
        },
        traits: [
          Me,
          {
            id: "altText",
            name: "alt",
            placeholder: "Image description"
          },
          "title",
          We,
          {
            type: "checkbox",
            label: "Full width on mobile",
            name: "fluid-on-mobile",
            valueTrue: "true"
          }
        ]
      },
      getAttrToHTML() {
        const J = xt.prototype.getAttrToHTML.call(this);
        return this.isDefaultSrc() && delete J.src, J;
      },
      getMjmlAttributes() {
        const J = Yr(this);
        return this.isDefaultSrc() && delete J.src, J;
      }
    },
    view: {
      updateSrc() {
        const { model: J } = this, ge = J.get("src", { skipResolve: !0 }) || J.getSrcResult();
        J.addAttributes({ src: ge }), this.updateClasses();
      },
      getMjmlTemplate() {
        return {
          start: `<mjml>${cn(this.model)}<mj-body><mj-section><mj-column>`,
          end: "</mj-column></mj-section></mj-body></mjml>"
        };
      },
      getTemplateFromEl(J) {
        var ge, be, Ie;
        return (Ie = (be = (ge = J.querySelector("img")) == null ? void 0 : ge.closest("table")) == null ? void 0 : be.closest("tr")) == null ? void 0 : Ie.innerHTML;
      },
      attributes: {
        style: "display: table; width: 100%; user-select: none;"
      }
    }
  }), n.addType(O, {
    model: {
      ...on({ model: ft }),
      defaults: {
        tagName: O,
        "style-default": { width: "100%", align: "center" },
        traits: [
          {
            name: "align",
            type: "radio",
            options: [
              {
                id: "left",
                title: "Left",
                labelReact: /* @__PURE__ */ u(ae, { icon: Z.alignHorizontalLeft, size: fe.sx })
              },
              {
                id: "center",
                title: "Center",
                labelReact: /* @__PURE__ */ u(ae, { icon: Z.alignHorizontalCenter, size: fe.sx })
              },
              {
                id: "right",
                title: "Right",
                labelReact: /* @__PURE__ */ u(ae, { icon: Z.alignHorizontalRight, size: fe.sx })
              }
            ]
          }
        ]
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(Ge)
    }
  }), n.addType(P, {
    model: {
      ...on({ model: Tt }),
      defaults: {
        tagName: P,
        name: "Social",
        traits: [],
        emptyState: { midSelector: ">td" },
        "style-default": { align: "center" },
        stylable: [...Tt.getDefaults().stylable, "inner-padding"]
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(kt)
    }
  }), n.addType(A, {
    model: {
      ...on({ model: pt, noVoid: !0 }),
      defaults: {
        tagName: A,
        "style-default": { align: "center" },
        traits: [
          {
            type: "select",
            label: "Icon",
            name: "name",
            options: [
              { id: "custom", name: "Custom" },
              { id: "facebook", name: "Facebook" },
              { id: "twitter", name: "Twitter/X" },
              { id: "google", name: "Google" },
              { id: "instagram", name: "Instagram" },
              { id: "web", name: "Web" },
              { id: "youtube", name: "YouTube" },
              { id: "pinterest", name: "Pinterest" },
              { id: "linkedin", name: "Linkedin" },
              { id: "snapchat", name: "Snapchat" },
              { id: "vimeo", name: "Vimeo" },
              { id: "tumblr", name: "Tumblr" },
              { id: "github", name: "Github" },
              { id: "soundcloud", name: "SoundCloud" },
              { id: "medium", name: "Medium" },
              { id: "dribbble", name: "Dribbble" },
              { id: "xing", name: "Xing" }
            ]
          },
          Me,
          We,
          qr
        ]
      },
      getMjmlAttributes() {
        const J = Yr(this);
        return { ...this.getDefaultIconProps()[J.name], ...J };
      },
      getAttrToHTML() {
        const J = pt.prototype.getAttrToHTML.call(this);
        return { ...this.getDefaultIconProps()[J.name], ...J };
      },
      getDefaultIconProps() {
        return {
          twitter: {
            src: "https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png",
            "background-color": "black"
          }
        };
      }
    },
    extendFnView: ["init"],
    view: {
      init() {
        this.listenTo(this.model, "component:update:components", this.rerender);
      },
      getMjmlTemplate() {
        const { start: J, end: ge } = Pt.prototype.getMjmlTemplate.call(this);
        return {
          start: rn(J, this.model),
          end: ge
        };
      },
      getInnerMjmlTemplate() {
        var Ie;
        const { start: J, end: ge } = Pt.prototype.getInnerMjmlTemplate.call(this), be = ((Ie = this.model.getInnerHTML()) == null ? void 0 : Ie.trim()) || "";
        return {
          start: `${J}${be}`,
          end: ge
        };
      },
      getChildrenContainer() {
        var Ie;
        const { el: J } = this, ge = (Ie = J.querySelector("tbody > tr > td")) == null ? void 0 : Ie.nextElementSibling;
        return (ge == null ? void 0 : ge.firstElementChild) || J.querySelector("img") || J;
      }
    }
  }), n.addType(_, {
    model: {
      ...on({ model: zt }),
      defaults: {
        tagName: _,
        traits: []
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(gt)
    }
  }), n.addType(M, {
    model: {
      ...on({ model: U }),
      defaults: {
        tagName: M,
        emptyState: { midSelector: ">td>div" }
      }
    },
    view: {
      getMjmlTemplate: Zr,
      getTemplateFromEl: Xt(ne, !0),
      // Copying render here in order to avoid adding `<style>`
      render() {
        this.renderAttributes();
        const J = this.getTemplateFromMjml();
        return this.el.innerHTML = J.content, this.$el.attr(J.attributes), this.getChildrenContainer().innerHTML = this.model.get("content"), this.renderChildren(), this.renderStyle(), this.postRender(), ts(this.model), this;
      }
    }
  }), n.addType(V, {
    model: {
      ...on({ model: Q }),
      defaults: {
        tagName: V,
        icon: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" /></svg>',
        emptyState: { midSelector: ">td>div" },
        "style-default": {}
      }
    },
    view: {
      getMjmlTemplate() {
        const { start: J, end: ge } = re.prototype.getMjmlTemplate.call(this);
        return {
          start: rn(J, this.model),
          end: ge
        };
      },
      getTemplateFromEl(J) {
        return J.querySelector(".mj-inline-links").innerHTML;
      }
    }
  }), n.addType(N, {
    extendFn: ["initToolbar"],
    model: {
      defaults: {
        tagName: N,
        name: "HTML block",
        emptyState: { midSelector: ">div" }
      },
      initToolbar() {
        BA(this, {
          id: "edit",
          command: () => Qo(this),
          label: `<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`
        });
      },
      toJSON: Tn(H)
    },
    view: {
      events: {
        dblclick: "onActive"
      },
      onActive() {
        Qo(this.model);
      },
      attributes: {}
    }
  }), n.addType("skip-global-style", {
    isComponent: (J) => {
      var ge, be;
      if (((ge = J.tagName) == null ? void 0 : ge.toLowerCase()) === b && ((be = J.getAttribute) == null ? void 0 : be.call(J, "css-class")) === ve)
        return { type: "textnode", components: [], content: "" };
    }
  });
  const MS = (J) => {
    const { id: ge, view: be } = J, Ie = be.prototype;
    n.addType(ge, {
      view: {
        // TODO FIX: mjml preset plugin removes onRender method
        render() {
          return Ie.render.apply(this, arguments), by(ge, this), this;
        }
      }
    });
  };
  [c, S, w, C, M, P, N].forEach((J) => MS(n.getType(J))), n.getTypes().forEach(({ id: J, view: ge }) => {
    ge.prototype.disableEditing && n.addType(J, {
      view: {
        onDisable(be = {}) {
          this.disableEditing({
            ...be,
            parserOptions: {
              htmlType: "text/html"
            }
          });
        }
      }
    });
  });
  const Jg = () => {
    const ge = e.Components.getWrapper().findFirstType(a), be = ge.findFirstType(l) || ge.append({ type: l })[0];
    be.components().filter((Bn) => Bn.attributes[Ap] == Lp).forEach((Bn) => Bn.remove());
    const Mt = L0(i.fonts);
    if (!Mt)
      return;
    const Nt = be.append({
      type: b,
      // using `content` instead of `components` to avoid the parser
      content: Mt
    })[0];
    Nt == null || Nt.set({ [Ap]: Lp }, { silent: !0 });
  }, Qg = () => {
    const J = e.Css.rules.filter((Nt) => {
      const Bn = Nt.attributes.groups;
      return !!(Bn != null && Bn.some((rs) => rs.startsWith(`${ve}:`)));
    }).map((Nt) => Nt.toCSS());
    if (!J.length)
      return;
    const be = e.Components.getWrapper().findFirstType(_a.root), Ie = be.findFirstType(l) || be.append({ type: l })[0];
    (Ie.findType(b).find((Nt) => Nt.getAttributes()[ze] === ve) || Ie.append({ type: b, attributes: { [ze]: ve } })[0]).set("content", J.join(`
`));
  }, $S = oo(Qg, 100);
  e.on(Rn.pageSettingsUpdate, (J) => {
    J.page || Jg();
  }), e.on(e.events.projectLoad, ({ loaded: J }) => {
    J && (Qg(), Jg());
  }), e.on(e.Parser.events.htmlBefore, (J) => {
    var be;
    const ge = (be = e.Parser.config.optionsHtml) == null ? void 0 : be.codeSanitizer;
    J.input = Q0(J.input, { sanitizer: ge });
  }), e.onReady(() => {
    e.on(`${e.DataSources.events.pathSource}:${ve}`, $S);
  });
}
function GN(e) {
  const { Blocks: t } = e, n = "Content", r = "Layout", o = { className: "h-7", full: !0, space: "s", nowrap: !0 }, s = {
    category: r,
    full: !0
  }, i = "gjs-border-2 gjs-border-current gjs-rounded-sm", a = (l, c) => {
    t.add(l, {
      select: !0,
      category: n,
      ...c
    });
  };
  a("mj-text", {
    label: "Text",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,
    content: "<mj-text>Insert text here</mj-text>",
    activate: !0
  }), a("mj-button", {
    label: "Button",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,
    content: "<mj-button>Button</mj-button>"
  }), a("mj-image", {
    label: "Image",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,
    content: `<mj-image src="${QC}"/>`,
    activate: !0
  }), a("mj-divider", {
    label: "Divider",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,
    content: "<mj-divider/>"
  }), a("mj-social", {
    label: "Social",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,
    content: `<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`
  }), a("mj-social-element", {
    label: "Social Element",
    media: `<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,
    content: '<mj-social-element name="facebook">Facebook</mj-social-element>'
  }), a("mj-spacer", {
    label: "Spacer",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,
    content: "<mj-spacer/>"
  }), a("mj-navbar", {
    label: "Navbar",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,
    content: `<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`
  }), a("mj-hero", {
    label: "Hero",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,
    content: `<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${bv({ width: 600, height: 300, text: "Hero Image", fg: "555" })}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`
  }), a("mj-raw", {
    label: "HTML block",
    activate: !0,
    media: `<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,
    content: `<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`
  }), a("mj-1-column", {
    ...s,
    label: "1 Column",
    mediaReact: /* @__PURE__ */ u(R, { ...o, children: /* @__PURE__ */ u(j, { className: i, grow: !0 }) }),
    content: `<mj-section>
        <mj-column></mj-column>
      </mj-section>`
  }), a("mj-2-columns-50-50", {
    ...s,
    label: "2 Columns 50/50",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`
  }), a("mj-2-columns-25-75", {
    ...s,
    label: "2 Columns 25/75",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-3/4") })
    ] }),
    content: `<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-33-67", {
    ...s,
    label: "2 Columns 33/67",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/3") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-2/3") })
    ] }),
    content: `<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-67-33", {
    ...s,
    label: "2 Columns 67/33",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-2/3") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/3") })
    ] }),
    content: `<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-75-25", {
    ...s,
    label: "2 Columns 75/25",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-3/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`
  }), a("mj-3-columns", {
    ...s,
    label: "3 Columns",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`
  }), a("mj-3-columns-25-25-50", {
    ...s,
    label: "3 Columns 25/25/50",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-2/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`
  }), a("mj-3-columns-25-50-25", {
    ...s,
    label: "3 Columns 25/50/25",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-2/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`
  }), a("mj-3-columns-50-25-25", {
    ...s,
    label: "3 Columns 50/25/25",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-2/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ u(j, { className: te(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`
  }), a("mj-4-columns", {
    ...s,
    label: "4 Columns",
    mediaReact: /* @__PURE__ */ L(R, { ...o, children: [
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 }),
      /* @__PURE__ */ u(j, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`
  });
}
const KN = (e, t) => ({
  [ke.web]: (r) => vd(r, t),
  [ke.document]: (r) => vd(r, t),
  [ke.react]: (r) => vd(r, t),
  [ke.email]: (r) => WN(r, t)
})[e], _i = "https://cdn.jsdelivr.net/npm/", Cd = {
  id: "gjs-blocks-basic",
  src: `${_i}grapesjs-blocks-basic@1.0.1/dist/index.js`
}, qN = {
  id: "grapesjs-plugin-forms",
  src: `${_i}grapesjs-plugin-forms@2.0.5/dist/index.js`
}, xd = {
  id: "grapesjs-parser-postcss",
  src: `${_i}grapesjs-parser-postcss@1.0.1/dist/index.js`
}, YN = {
  id: "grapesjs-navbar",
  src: `${_i}grapesjs-navbar@1.0.1/dist/index.js`,
  options: { block: { category: "Extra" } }
}, Pd = {
  id: "grapesjs-plugin-export",
  src: `${_i}grapesjs-plugin-export@1.0.11/dist/index.js`,
  options: {
    isBinary: (e, t) => {
      const n = t.split(".")[1];
      return /[\x00-\x08\x0E-\x1F]/.test(e) && !(n && ["html", "css"].indexOf(n) >= 0);
    }
  }
}, ZN = {
  id: "grapesjs-mjml",
  src: `${_i}grapesjs-mjml@1.0.7/dist/index.js`,
  options: {
    columnsPadding: "",
    // avoid injecting custom styles
    useCustomTheme: !1,
    // avoid loading the default panel for devices
    resetDevices: !1,
    // no need to reset blocks
    resetBlocks: !1,
    blocks: [],
    // allow to import mjml void strings like '<mj-image ... />'
    useXmlParser: !0,
    // no need to reset style manager
    resetStyleManager: !1
  }
}, XN = {
  [ke.email]: [
    // Adding blocks before so the icon will be transferred from Blocks to Components (via blockIconsToComponent plugin)
    GN,
    ZN
  ],
  [ke.web]: [Cd, qN, Pd, xd, YN],
  [ke.document]: [Cd, Pd, xd],
  [ke.react]: [Cd, Pd, xd]
};
function JN(e, t) {
  const { blocks: n } = t.appStore.sdkOptions;
  Array.isArray(n == null ? void 0 : n.default) && e.BlockManager.blocks.add(n.default), e.on("rteToolbarPosUpdate", (r) => {
    const o = -r.canvasOffset.left;
    r.left < o && (r.left = o);
  });
}
function vy({ onCopy: e, getValue: t, value: n, title: r = "Copy", ...o }) {
  const [s, i] = W(!1), a = () => {
    zC((t == null ? void 0 : t()) ?? n), i(!0), e == null || e();
  };
  return G(() => {
    if (!s)
      return;
    const l = setTimeout(() => i(!1), 3e3);
    return () => clearTimeout(l);
  }, [s]), /* @__PURE__ */ u(_t, { onClick: a, title: r, type: "button", size: "lg", withBg: !0, ...o, children: /* @__PURE__ */ u(
    ae,
    {
      className: te(s && F.tA),
      icon: s ? Z.check : Z.contentCopy,
      size: fe.s
    }
  ) });
}
const yy = Je(null), QN = ({ children: e }) => {
  const [t, n] = W({
    setEditor: (r) => {
      n((o) => ({ ...o, editor: r }));
    }
  });
  return /* @__PURE__ */ u(yy.Provider, { value: t, children: e });
}, nr = () => {
  const e = He(yy);
  if (!e)
    throw new Error("useEditorInstance must be used within EditorInstanceProvider");
  return e;
}, rr = () => {
  const { editor: e } = nr();
  if (!e)
    throw new Error(
      "useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists."
    );
  return e;
}, yg = () => nr().editor, wy = Je(null), ek = ({ children: e }) => {
  const [t, n] = W(() => ({
    setRefCanvas(r) {
      n((o) => ({ ...o, refCanvas: r }));
    },
    setCustomModal(r) {
      n((o) => ({ ...o, customModal: r }));
    },
    setCustomAssets(r) {
      n((o) => ({ ...o, customAssets: r }));
    },
    setCustomBlocks(r) {
      n((o) => ({ ...o, customBlocks: r }));
    },
    setCustomRte(r) {
      n((o) => ({ ...o, customRte: r }));
    },
    setCustomStyles(r) {
      n((o) => ({ ...o, customStyles: r }));
    },
    setCustomLayers(r) {
      n((o) => ({ ...o, customLayers: r }));
    },
    setCustomSelectors(r) {
      n((o) => ({ ...o, customSelectors: r }));
    },
    setCustomTraits(r) {
      n((o) => ({ ...o, customTraits: r }));
    },
    setReady(r) {
      n((o) => ({ ...o, ready: r }));
    }
  }));
  return /* @__PURE__ */ u(wy.Provider, { value: t, children: e });
}, Gr = () => {
  const e = He(wy);
  if (!e)
    throw new Error("useEditorOptions must be used within EditorOptionsProvider");
  return e;
};
function tk(...e) {
  return (Array.isArray(e[0]) ? e[0] : [...e]).filter(Boolean).join(" ");
}
function Zo(e) {
  return typeof e == "function";
}
function dr() {
}
const Sy = (e) => typeof e == "string", nk = async (e) => {
  const t = document.createElement("link");
  t.href = e, t.rel = "stylesheet", document.head.appendChild(t);
}, Cy = (e) => {
  const t = Sy(e) ? { id: e, src: e } : e;
  return new Promise((n, r) => {
    const o = document.createElement("script");
    if (document.querySelector(`script[src="${t.src}"]`))
      return n(t.id);
    o.src = t.src, o.onload = () => n(t.id), o.onerror = () => r(t.id), document.head.appendChild(o);
  });
}, rk = (e) => {
  const t = e.map((n) => Cy(n));
  return Promise.allSettled(t);
}, Lm = (e) => function() {
  const t = q(null);
  return G(() => {
    const { current: n } = t;
    n && (Sy(e) ? n.innerHTML = e : n.appendChild(e));
  }, [t.current]), /* @__PURE__ */ u("div", { ref: t });
}, Nm = /* @__PURE__ */ new WeakMap();
function Ai(e) {
  if (!e)
    return () => /* @__PURE__ */ u(pe, {});
  const t = Nm.get(e);
  if (t)
    return t;
  const n = function({ children: r }) {
    return df(Ro("div", null, r), e);
  };
  return Nm.set(e, n), n;
}
const ok = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(!1), [s, i] = W({
    assets: [],
    types: [],
    close: () => {
    },
    select: () => {
    },
    Container: () => /* @__PURE__ */ u(pe, {})
  });
  return G(() => {
    if (!t)
      return;
    const a = t.Assets.events.custom, l = ({ open: c, assets: d, types: p, select: f, close: g, container: h }) => {
      c && i({
        assets: d,
        types: p,
        select: f,
        close: g,
        Container: Ai(h)
      }), o(c);
    };
    return t.on(a, l), () => {
      t.off(a, l);
    };
  }, [t]), G(() => n.setCustomAssets(!0), []), t ? Zo(e) ? e({ open: r, ...s }) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
});
Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(() => ({
    blocks: [],
    dragStart: dr,
    dragStop: dr,
    mapCategoryBlocks: /* @__PURE__ */ new Map(),
    Container: () => /* @__PURE__ */ u(pe, {})
  }));
  return G(() => {
    if (!t)
      return;
    const s = t.Blocks.events.custom, i = ({ blocks: a, container: l, dragStart: c, dragStop: d }) => {
      const p = a.reduce((f, g) => {
        const h = g.getCategoryLabel(), m = f.get(h);
        return m ? m.push(g) : f.set(h, [g]), f;
      }, /* @__PURE__ */ new Map());
      o({
        blocks: a,
        dragStart: c,
        dragStop: d,
        mapCategoryBlocks: p,
        Container: Ai(l)
      });
    };
    return t.on(s, i), t.Blocks.__trgCustom(), () => {
      t.off(s, i);
    };
  }, [t]), G(() => n.setCustomBlocks(!0), []), t ? Zo(e) ? e(r) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
});
function sk({ children: e, ...t }) {
  const n = Gr(), r = q(null);
  return G(() => {
    r.current && n.setRefCanvas(r.current);
  }, [r.current]), /* @__PURE__ */ u("div", { ...t, ref: r, children: e });
}
const ik = Pe(function({ children: e }) {
  const { editor: t } = nr(), [n, r] = W(() => ({
    devices: [],
    selected: "",
    select: dr
  }));
  return G(() => {
    if (!t)
      return;
    const { Devices: o } = t, s = o.events.all, i = () => {
      var a;
      r({
        devices: o.getDevices(),
        selected: (a = o.getSelected()) == null ? void 0 : a.id,
        select: (l) => o.select(l)
      });
    };
    return t.on(s, i), i(), () => {
      t.off(s, i);
    };
  }, [t]), t ? Zo(e) ? e(n) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), ak = (e) => !!(e && !Array.isArray(e) && typeof e == "object");
async function lk(e) {
  const t = e.map(({ id: s, src: i }) => ({ id: s, src: i })), n = e.reduce(
    (s, i) => (s[i.id] = i, s),
    {}
  ), r = [], o = [];
  return (await rk(t)).forEach((s) => {
    s.status === "fulfilled" ? r.push(n[s.value]) : o.push(n[s.reason]);
  }), { loaded: r, failed: o };
}
const ck = async (e) => {
  const t = [...e], n = {};
  if (t.length) {
    const r = {}, o = [];
    if (t.forEach((s, i) => {
      ak(s) && (r[s.id] = { index: i }, o.push(s));
    }), o.length) {
      const { loaded: s } = await lk(o);
      s.forEach(({ id: i, options: a }) => {
        r[i].loaded = !0, n[i] = a || {};
      });
    }
    Object.keys(r).forEach((s) => {
      const i = r[s];
      i.loaded ? t[i.index] = s : t[i.index] = !1;
    });
  }
  return {
    plugins: t.filter(Boolean),
    pluginOptions: n
  };
}, uk = Pe(function({
  children: e,
  className: t,
  style: n,
  options: r = {},
  plugins: o = [],
  grapesjs: s,
  grapesjsCss: i,
  onEditor: a = dr,
  onReady: l,
  onUpdate: c,
  waitReady: d,
  ...p
}) {
  const { setEditor: f } = nr(), g = Gr(), [h, m] = W(!1), b = q(null);
  G(() => {
    if (!g.ready || !b.current)
      return;
    const E = b.current, O = g.refCanvas;
    let T, P = {}, A = [];
    const _ = (M) => {
      const V = {
        height: "100%",
        ...r,
        plugins: [...A, ...r.plugins || []],
        pluginsOpts: {
          ...r.pluginsOpts,
          ...P
        },
        modal: {
          custom: !!g.customModal,
          ...r.modal
        },
        assetManager: {
          custom: !!g.customAssets,
          ...r.assetManager
        },
        styleManager: {
          custom: !!g.customStyles,
          ...r.styleManager
        },
        blockManager: {
          custom: !!g.customBlocks,
          ...r.blockManager
        },
        richTextEditor: {
          custom: !!g.customRte,
          ...r.richTextEditor
        },
        layerManager: {
          custom: !!g.customLayers,
          ...r.layerManager
        },
        traitManager: {
          custom: !!g.customTraits,
          ...r.traitManager
        },
        selectorManager: {
          custom: !!g.customSelectors,
          ...r.selectorManager
        },
        container: O || E,
        customUI: !!O,
        // Disables all default panels if Canvas is used
        ...O ? {
          panels: { defaults: [] }
        } : {}
      };
      T = M.init(V), f(T), a(T), c && T.on("update", () => {
        c(T.getProjectData(), T);
      }), T.onReady(() => {
        m(!0), l == null || l(T);
      });
    };
    return (async () => {
      i && await nk(i);
      const M = await ck(o);
      A = M.plugins, P = M.pluginOptions, typeof s == "string" ? (await Cy(s), _(window.grapesjs)) : _(s);
    })(), () => T == null ? void 0 : T.destroy();
  }, [g.ready]);
  const y = r.height ?? "100%", v = r.width ?? "100%", S = tk("gjs-editor-wrapper", t), w = d && !h, C = ue(
    () => ({
      ...n,
      height: y,
      width: v
    }),
    [y, v, n]
  ), x = ue(
    () => ({
      ...C,
      ...w ? {
        opacity: 0,
        width: 0,
        height: 0
      } : {}
    }),
    [C, w]
  );
  return /* @__PURE__ */ L(pe, { children: [
    d && !h ? /* @__PURE__ */ u("div", { className: S, style: C, children: d }) : null,
    /* @__PURE__ */ u("div", { ...p, ref: b, className: S, style: x, children: e })
  ] });
}), dk = Pe(function() {
  const e = Gr();
  return G(() => e.setReady(!0), []), /* @__PURE__ */ u(pe, {});
}), pk = Pe(function({ children: e, ...t }) {
  return /* @__PURE__ */ u(QN, { children: /* @__PURE__ */ u(ek, { children: /* @__PURE__ */ L(uk, { ...t, children: [
    e,
    /* @__PURE__ */ u(dk, {})
  ] }) }) });
}), xy = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(() => ({
    root: void 0,
    Container: () => /* @__PURE__ */ u(pe, {})
  }));
  return G(() => {
    if (!t)
      return;
    const { Layers: s } = t, i = s.events.custom, a = ({ container: l }) => {
      o({
        root: s.getRoot(),
        Container: Ai(l)
      });
    };
    return t.on(i, a), s.__trgCustom({}), () => {
      t.off(i, a);
    };
  }, [t]), G(() => n.setCustomLayers(!0), []), t ? Zo(e) ? e(r) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), fk = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(!1), [s, i] = W({
    title: /* @__PURE__ */ u(pe, {}),
    content: /* @__PURE__ */ u(pe, {}),
    attributes: {},
    close: dr
  });
  return G(() => {
    if (!t)
      return;
    const a = "modal", l = ({ open: c, title: d, content: p, close: f, attributes: g }) => {
      c && i({
        title: Ro(Lm(d)),
        content: Ro(Lm(p)),
        attributes: g,
        close: f
      }), o(c);
    };
    return t.on(a, l), () => {
      t.off(a, l);
    };
  }, [t]), G(() => n.setCustomModal(!0), []), t ? typeof e == "function" ? e({ open: r, ...s }) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), Py = Pe(function({ children: e }) {
  const { editor: t } = nr(), [n, r] = W(() => ({
    pages: [],
    selected: void 0,
    select: dr,
    add: dr,
    remove: dr
  }));
  return G(() => {
    if (!t)
      return;
    const { Pages: o } = t, s = o.events.all, i = () => {
      r({
        pages: o.getAll(),
        selected: o.getSelected(),
        select: (...a) => o.select(...a),
        add: (...a) => o.add(...a),
        remove: (...a) => o.remove(...a)
      });
    };
    return t.on(s, i), i(), () => {
      t.off(s, i);
    };
  }, [t]), t ? Zo(e) ? e(n) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), Ey = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(() => ({
    selectors: [],
    states: [],
    selectedState: "",
    targets: [],
    addSelector: dr,
    removeSelector: dr,
    setState: dr,
    Container: () => /* @__PURE__ */ u(pe, {})
  }));
  return G(() => {
    if (!t)
      return;
    const { Selectors: s } = t, i = s.events.custom, a = ({ container: l }) => {
      o({
        selectors: s.getSelected(),
        states: s.getStates(),
        selectedState: s.getState(),
        targets: s.getSelectedTargets().map((c) => c.getSelectorsString()),
        addSelector: (...c) => s.addSelected(...c),
        removeSelector: (...c) => s.removeSelected(...c),
        setState: (...c) => s.setState(...c),
        Container: Ai(l)
      });
    };
    return t.on(i, a), () => {
      t.off(i, a);
    };
  }, [t]), G(() => n.setCustomSelectors(!0), []), t ? Zo(e) ? e(r) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), Ty = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(() => ({
    sectors: [],
    Container: () => /* @__PURE__ */ u(pe, {})
  }));
  return G(() => {
    if (!t)
      return;
    const { Styles: s } = t, i = s.events.custom, a = ({ container: l }) => {
      o({
        sectors: s.getSectors({ visible: !0 }),
        Container: Ai(l)
      });
    };
    return t.on(i, a), () => {
      t.off(i, a);
    };
  }, [t]), G(() => n.setCustomStyles(!0), []), t ? Zo(e) ? e(r) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), Dp = Pe(function({ children: e }) {
  const { editor: t } = nr(), n = Gr(), [r, o] = W(() => ({
    traits: [],
    Container: () => /* @__PURE__ */ u(pe, {})
  }));
  return G(() => {
    if (!t)
      return;
    const { Traits: s } = t, i = s.events.custom, a = ({ container: l }) => {
      o({
        traits: s.getCurrent(),
        Container: Ai(l)
      });
    };
    return t.on(i, a), s.__trgCustom(), () => {
      t.off(i, a);
    };
  }, [t]), G(() => n.setCustomTraits(!0), []), t ? Zo(e) ? e(r) : /* @__PURE__ */ u(pe, {}) : /* @__PURE__ */ u(pe, {});
}), Is = ({ children: e }) => yg() ? /* @__PURE__ */ u(pe, { children: e }) : /* @__PURE__ */ u(pe, {});
function wg(e) {
  return e = e.trimStart(), e = e.replace(/\s*([\{\}\:\;\,])\s*/g, "$1"), e = e.replace(/;\s*;/g, ";"), e = e.replace(/\,[\s\.\#\d]*{/g, "{"), e = e.replace(/([^\s])\{([^\s])/g, `$1 {
	$2`), e = e.replace(/([^\s])\}([^\n]*)/g, `$1
}
$2`), e = e.replace(/([^\s]);([^\s\}])/g, `$1;
	$2`), e;
}
const Oy = ce(function() {
  const t = rr(), n = Le(), { Styles: r } = t, { isDarkTheme: o } = En(), s = r.getSelected(), [i, a] = W(0), l = s ? wg(s == null ? void 0 : s.toCSS({ allowEmpty: !0 })) : "", [c, d] = W(l);
  G(() => {
    const f = () => a((h) => ++h), g = r.events.custom;
    return t.on(g, f), () => {
      t.off(g, f);
    };
  }, [r, t]);
  const p = () => {
    if (c) {
      const f = t.Parser.parseCss(c)[0];
      f && (s == null || s.setStyle(f.style));
    }
  };
  return /* @__PURE__ */ L(R, { className: Y("relative"), col: !0, full: !0, children: [
    /* @__PURE__ */ u(j, { grow: !0, children: s ? /* @__PURE__ */ u(
      fo,
      {
        padding: 5,
        language: "css",
        defaultValue: l,
        onChange: d,
        isDarkTheme: o,
        clean: !0
      },
      i
    ) : n.t("noCode") }),
    /* @__PURE__ */ u(Xe, { className: Y("absolute right-2 bottom-2 text-sm"), variant: "pr", size: "m2", onClick: p, children: n.t("update") })
  ] });
}), km = [
  {
    id: "html",
    label: "HTML"
  },
  {
    id: "mjml",
    label: "MJML"
  }
], gk = (e) => {
  e.runCommand("gjs-export-zip", {
    filenamePfx: "gjs-export",
    root: async (t) => {
      const n = await t.runCommand(he.projectFiles), r = {};
      for (const o in n) {
        const s = n[o], { filename: i, content: a } = s;
        if (s.path) {
          const l = s.path.split("/").filter(Boolean);
          let c = r;
          for (const d of l)
            c[d] = c[d] || {}, c = c[d];
          c[i] = a;
        } else
          r[i] = a;
      }
      return r;
    }
  });
}, hk = ce(function(t) {
  const n = Le(), r = we(), { isProjectTypeEmail: o } = r, s = r.editor, [i, a] = W(km[0].id), [l, c] = W(), { isDarkTheme: d } = En(), [p] = W(() => wg(s.getCss())), [f, g] = W(), h = (v) => n.t(`actions.showCode.${v}`), m = {
    ...t.options,
    ...o ? { export: !1 } : {}
  }, b = () => gk(s);
  G(() => {
    (async () => {
      var E, O;
      const S = await s.runCommand(he.projectFiles, {
        page: s.Pages.getSelected(),
        skipProject: !0,
        styles: "skip"
      }), w = ((E = S.find((T) => T.mimeType === "text/html")) == null ? void 0 : E.content) ?? "", C = ((O = S.find((T) => T.mimeType === "text/mjml")) == null ? void 0 : O.content) ?? "";
      c(i === "mjml" ? C : w);
    })();
  }, [i]), G(() => {
    var v;
    f && ((v = f.getModel()) == null || v.setValue(l), hy(f));
  }, [f, l]);
  const y = {
    padding: 5,
    isDarkTheme: d,
    clean: !0
  };
  return /* @__PURE__ */ L(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ L(R, { className: Y("h-96"), space: "m", children: [
      /* @__PURE__ */ L(j, { className: Y("relative"), grow: !0, children: [
        o && /* @__PURE__ */ L(R, { className: Y("absolute top-3 right-3 z-10"), space: "s", nowrap: !0, children: [
          /* @__PURE__ */ u(
            Ne,
            {
              value: i,
              onChange: a,
              options: km,
              className: Y("min-w-24")
            }
          ),
          /* @__PURE__ */ u(vy, { getValue: () => f.getModel().getValue() })
        ] }),
        l !== void 0 && /* @__PURE__ */ u(fo, { defaultValue: l, language: "html", onMount: g, ...y })
      ] }),
      !o && /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(fo, { defaultValue: p, language: "css", ...y }) })
    ] }),
    m.export !== !1 && /* @__PURE__ */ u(R, { justify: "end", children: /* @__PURE__ */ u(Xe, { size: "m2", variant: "pr", onClick: b, children: h("exportButton") }) })
  ] });
}), mk = (e) => e.Assets.getAll().reduce((r, o) => {
  const s = o.getSrc(), i = s.match(/^data:([^;]+);/);
  if (i) {
    const a = s.split(",")[1], l = HA(o.get("name"));
    r[s] = {
      mime: i[1],
      name: l,
      base64: a
    };
  }
  return r;
}, {}), bk = (e) => e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), Mm = (e, t, n = {}) => {
  let r = e;
  const o = n.pathPfx || "";
  for (const s in t)
    if (r.includes(s)) {
      const i = t[s];
      r = r.replace(new RegExp(bk(s), "g"), `${o}${i.name}`), i.found = !0;
    }
  return r;
}, vk = (e, t, n) => `${t || ""}${e || ""}${n || ""}`, yk = (e, t) => {
  const n = e ? `<div ${Ec}>${e}</div>` : "", r = t ? `<div ${Ec} data-gjs-global>${t}</div>` : "";
  return `${n}${r}`;
}, wk = async (e, t = {}) => {
  const {
    page: n,
    skipProject: r,
    assetsFolder: o = "assets",
    filenameCss: s = "style.css",
    styles: i,
    isMJML: a,
    exportConfig: l,
    skipGlobalCode: c,
    skipCustomCodeBody: d,
    scriptComponents: p
  } = t, f = { ...l, ...e.config.optsHtml || {}, ...t.optionsHtml }, g = [], h = n ? [n] : e.Pages.getAll(), m = mk(e), b = `${o}/`, y = e.getCss({ keepUnusedStyles: !0, component: n == null ? void 0 : n.getMainComponent(), ...t.optionsCss }) || "", v = Mm(y, m, { pathPfx: b }), S = i === "inline", w = i === "skip", C = i === "skipInPage", x = p === "skip", E = c ? {} : vi(e).globalPageSettings || {}, O = [], T = (P, A) => {
    var Ut, qr, Qo;
    const { pageSettingOpts: _ } = A || {}, M = P.getName(), V = S || (_ == null ? void 0 : _.replaceDataSources), N = wo(P, "title", _) || M, H = wo(P, "favicon", _), K = wo(P, "description", _), z = wo(P, "keywords", _), $ = wo(P, "socialTitle", _), D = wo(P, "socialDescription", _), I = wo(P, "socialImage", _), U = c ? "" : N0(wo(P, "fonts")), ne = pn({ page: P, key: "customCodeHead", opts: _ }) ?? "", Q = vk(ne, E.customCodeHead, U), re = pn({ page: P, key: "customCodeBody", opts: _ }) ?? "", ie = d ? "" : yk(re, E.customCodeBody), oe = P.getMainComponent(), X = x ? "" : e.getJs({ component: oe }), ee = X ? `<script>${X}<\/script>` : "", de = [], me = [], Ee = { asDocument: !1, ...f }, Se = oe.toHTML(Ee).replace("</body>", () => `${ie}${ee}</body>`), Fe = oe.head;
    let tt = N && `<title>${N}</title>`, xt = H && `<link rel="icon" href="${H}"/>`, ft = K && `<meta name="description" content="${K}"/>`, Ge = z && `<meta name="keywords" content="${z}"/>`, zt = $ && `<meta property="og:title" content="${$}"/>`, gt = D && `<meta property="og:description" content="${D}"/>`, kt = I && `<meta property="og:image" content="${I}"/>`, Tt = '<meta charset="utf-8">', Pt = '<meta name="viewport" content="width=device-width,initial-scale=1">', pt = '<meta name="robots" content="index,follow">', ht = '<meta name="generator" content="GrapesJS Studio">';
    Fe.components().forEach((ot) => {
      const wt = ot.toHTML(f);
      mt.title({ cmp: ot }) ? tt = wt : mt.favicon({ cmp: ot }) ? xt = wt : mt.description({ cmp: ot }) ? ft = wt : mt.keywords({ cmp: ot }) ? Ge = wt : mt.socialTitle({ cmp: ot }) ? zt = wt : mt.socialDescription({ cmp: ot }) ? gt = wt : mt.socialImage({ cmp: ot }) ? kt = wt : mt.charset({ cmp: ot }) ? Tt = wt : mt.viewport({ cmp: ot }) ? Pt = wt : mt.robots({ cmp: ot }) ? pt = wt : mt.generator({ cmp: ot }) && (ht = wt);
    }), tt && de.push(tt), Tt && de.push(Tt), Pt && de.push(Pt), pt && de.push(pt), ht && de.push(ht), ft && de.push(ft), Ge && de.push(Ge), zt && de.push(zt), gt && de.push(gt), kt && de.push(kt), xt && de.push(xt), me.length && de.push(...me), Q && de.push(Q), v && !(w || C) && de.push(V ? `<style>${v}</style>` : `<link rel="stylesheet" href="./${s}">`);
    const ve = oe.doctype || "<!DOCTYPE html>", ze = (qr = (Ut = oe.docEl).__attrToString) == null ? void 0 : qr.call(Ut, f), We = (Qo = Fe.__attrToString) == null ? void 0 : Qo.call(Fe, f), Me = e.getHtml(f).trim(), yt = a ? e.runCommand(vu, { mjml: Me }).html : `${ve}
<html${ze ? ` ${ze}` : ""}>
  <head${We ? ` ${We}` : ""}>
    ${de.join(`
  `)}
  </head>
  ${Se}
</html>
`;
    return {
      filename: Np(e, P),
      content: Mm(yt, m, { pathPfx: b }),
      mimeType: "text/html"
    };
  };
  h.forEach((P) => {
    if (gu(P)) {
      const _ = P.getMainComponent(), { dataSourceItem: M } = t, V = M ? [M] : _.getDataSourceItems(), N = _.resolverCurrentItem;
      Object.entries(V).forEach(([H, K]) => {
        const z = K;
        _.setResolverCurrentItem(z.id ?? H);
        const $ = T(P, {
          pageSettingOpts: { replaceDataSources: !0 }
        }), { path: D, filename: I } = j0(P, { currentItem: z });
        $.path = D, $.filename = I, O.push($);
      }), _.setResolverCurrentItem(N);
    } else
      O.push(T(P));
  }), g.push(...O), a && h.forEach((P) => {
    g.push({
      filename: Np(e, P, "mjml"),
      content: P.getMainComponent().toHTML(f),
      mimeType: "text/mjml"
    });
  });
  for (const P in m) {
    const A = m[P];
    A.found && g.push({
      path: o,
      filename: A.name,
      content: atob(A.base64),
      mimeType: A.mime
    });
  }
  return v && !S && !w && g.push({
    filename: s,
    content: v,
    mimeType: "text/css"
  }), r || g.push({
    filename: "gjs-project.grapesjs",
    content: JSON.stringify(e.getProjectData()),
    mimeType: "application/json"
  }), g;
};
function Sk(e) {
  const { Components: t, Blocks: n } = e, r = (o) => {
    const { model: s, id: i } = o, a = s.getDefaults(), l = n.get(i), c = a.icon, d = l == null ? void 0 : l.get("media"), p = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>', f = c && c !== p && !d ? c : d || p;
    t.addType(i, {
      model: {
        defaults: { icon: f }
      }
    });
  };
  t.getTypes().forEach(r), e.on("component:type:add", r);
}
const Ck = (e, t) => {
  const { contextMenu: n } = t.appStore.store, { Canvas: r } = e;
  e.on(r.events.frameLoad, ({ window: o, el: s }) => {
    o.document.addEventListener("contextmenu", async (a) => {
      if (!n.isEnabled || e.getEditing())
        return;
      a.preventDefault();
      const l = a.target, c = e.getModel().get("componentHovered") || e.Utils.helpers.getModel(l);
      if (c) {
        const d = s.getBoundingClientRect(), p = r.getZoomDecimal();
        e.runCommand(he.contextMenuComponent, {
          component: c,
          event: a,
          x: a.clientX * p + d.left,
          y: a.clientY * p + d.top
        });
      }
    });
  });
}, Sg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
<path fill="currentColor" d="M20 6c0-2.168-3.663-4-8-4S4 3.832 4 6v2c0 2.168 3.663 4 8 4s8-1.832 8-4zm-8 13c-4.337 0-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3c0 2.168-3.663 4-8 4"/><path fill="currentColor" d="M20 10c0 2.168-3.663 4-8 4s-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4z"/></svg>`, gs = "--before-content", Cg = {
  select: !0,
  activate: !0,
  category: { id: "data-sources", label: "Data Sources" }
}, _y = {
  stylable: !1,
  traits: []
};
function xk(e) {
  return typeof e == "object" && e.type === qt.variable;
}
function $m(e) {
  if (xk(e)) {
    const { path: t } = e;
    return Ay(t || "");
  }
  return e;
}
function Ay(e) {
  return `{{ ${e} }}`;
}
function Pk(e) {
  const t = {};
  return e.DataSources.getAll().forEach((n) => {
    const r = n.get("id");
    if (!r)
      return;
    const o = n.getRecords();
    if (!o) {
      t[r] = {};
      return;
    }
    t[r] = o.reduce((s, i) => {
      if (!i)
        return s;
      let a = { ...i.attributes };
      return delete a.__p, delete a.id, r === Rs.globalStyles && (a = {
        value: a.value
      }), {
        ...s,
        [i.id]: a
      };
    }, {});
  }), t;
}
function Ly(e) {
  return Object.entries(e || {}).map(([t, n]) => ({ id: t, data: n }));
}
const xg = (e) => {
  var s, i;
  const { isProjectTypeEmail: t, sdkOptions: n } = e;
  return ((i = (s = n.dataSources) == null ? void 0 : s.exportConfig) == null ? void 0 : i.skipTags) ?? t ? { ..._y } : {};
}, Hp = (e) => {
  var s, i;
  const { isProjectTypeEmail: t, sdkOptions: n } = e, r = (i = (s = n.dataSources) == null ? void 0 : s.exportConfig) == null ? void 0 : i.skipTags;
  return t || r === !0 ? { ..._y } : {};
}, Ek = (e) => !!e && typeof e == "object" && "logicalOperator" in e;
function Tk(e, t) {
  var g;
  const { Components: n, I18n: r } = e, { appStore: o } = t, s = r.t("dataSources.collection"), i = qt.collection, a = qt.collectionItem, l = "data-type-data-collection", c = '<svg viewBox="0 0 24 24"><path d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>', d = (g = t.appStore.sdkOptions.dataSources) == null ? void 0 : g.blocks, p = (h) => {
    const m = h.is(i) ? h : h.closestType(i);
    if (!m)
      return;
    const b = "dataCollectionPicker", y = {
      id: b,
      header: !1,
      layout: {
        type: "panelDataCollectionPicker",
        component: m,
        onConfirm: () => e.runCommand(he.layoutRemove, { id: b })
      },
      placer: { type: "dialog", title: r.t("dataSources.editCollection"), size: "l" }
    };
    e.runCommand(he.layoutToggle, { ...y });
  }, f = ({ items: h, component: m }) => [
    {
      id: `open-${i}-picker`,
      label: Sg,
      command: () => p(m)
    },
    ...h
  ];
  n.addType(a, {
    isComponent: (h) => ti(h, a),
    model: {
      defaults: {
        ...Hp(o),
        name: r.t("dataSources.collectionItem"),
        copyable: !1,
        emptyState: !0,
        icon: '<svg viewBox="0 0 24 24"><path d="M22 13H14V11H22V13M22 7H14V9H22V7M14 17H22V15H14V17M12 9V15C12 16.1 11.1 17 10 17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H10C11.1 7 12 7.9 12 9M10.5 15L8.3 12L6.5 14.3L5.3 12.8L3.5 15H10.5Z" /></svg>',
        toolbarItems: f
      }
    }
  }), n.addType(i, {
    isComponent: (h) => ol(h, l) || ti(h, i),
    block: d && {
      label: s,
      media: c,
      content: {
        type: i,
        components: { type: a },
        dataResolver: {
          startIndex: 0,
          endIndex: 1,
          dataSource: {
            type: "data-variable",
            path: ""
          }
        }
      },
      ...Cg
    },
    model: {
      defaults: {
        ...xg(o),
        icon: c,
        name: s,
        attributes: { [l]: !0 },
        toolbarItems: f
      },
      init() {
        const h = "collection-";
        if (!this.getCollectionId()) {
          const b = h + Math.random().toString(36).substring(2, 9);
          this.setCollectionId(b);
        }
      }
    },
    view: {
      onActive(h) {
        h == null || h.stopPropagation(), p(this.model);
      }
    }
  });
}
function Ok(e, t) {
  var y;
  const { Components: n, I18n: r } = e, o = r.t("dataSources.condition"), s = r.t("dataSources.conditionTrue"), i = r.t("dataSources.conditionFalse"), a = r.t("dataSources.conditionElse"), { appStore: l } = t, c = (y = l.sdkOptions.dataSources) == null ? void 0 : y.blocks, d = qt.condition, p = qt.conditionTrue, f = qt.conditionFalse, g = "data-type-data-condition", h = `<svg viewBox="0 0 24 24">
  <path d="M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29" />
</svg>`, m = (v) => {
    const S = v.is(d) ? v : v.closestType(d);
    if (!S)
      return;
    const w = "dataConditionPicker", C = {
      id: w,
      header: !1,
      layout: {
        type: "panelDataConditionPicker",
        component: S,
        onConfirm: () => e.runCommand(he.layoutRemove, { id: w })
      },
      placer: { type: "dialog", title: r.t("dataSources.editCondition"), size: "l" }
    };
    e.runCommand(he.layoutToggle, { ...C });
  }, b = ({ items: v, component: S }) => [
    {
      id: `open-${d}-picker`,
      label: Sg,
      command: () => m(S)
    },
    ...v
  ];
  n.addType(p, {
    isComponent: (v) => ti(v, p),
    model: {
      defaults: {
        ...Hp(l),
        tagName: "span",
        name: s,
        copyable: !1,
        emptyState: { styleIn: "display: inherit;" },
        icon: '<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',
        toolbarItems: b
      }
    }
  }), n.addType(f, {
    isComponent: (v) => ti(v, f),
    model: {
      defaults: {
        ...Hp(l),
        tagName: "span",
        name: i,
        copyable: !1,
        emptyState: { styleIn: "display: inherit;" },
        icon: '<svg viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>',
        toolbarItems: b
      }
    }
  }), n.addType(d, {
    isComponent: (v) => ol(v, g) || ti(v, d),
    block: c && {
      label: o,
      media: h,
      content: {
        type: d,
        dataResolver: {
          condition: {
            logicalOperator: "and",
            statements: [{ left: 1, operator: ">", right: 0 }]
          }
        },
        components: [{ type: p }, { type: f }]
      },
      ...Cg
    },
    model: {
      defaults: {
        ...xg(l),
        icon: h,
        name: o,
        textable: !0,
        stylable: !1,
        tagName: "span",
        attributes: { [g]: !0 },
        toolbarItems: b
      }
    },
    view: {
      events: () => ({
        dblclick: "onActive"
      }),
      init() {
        const { em: v } = this;
        this.listenTo(v, Rn.toggleDataSourcesPreview, this.renderDataResolver);
      },
      onActive(v) {
        e.getEditing() || (v == null || v.stopPropagation(), m(this.model));
      },
      getConditionString() {
        const { model: v } = this, { operator: S, statements: w = [] } = v.getCondition(), C = S === "AND" ? " AND " : " OR ", E = w.map((O) => {
          const { left: T = "", operator: P = "", right: A = "" } = O, _ = $m(T), M = $m(A);
          return `(${_} ${P} ${M})`;
        }).join(C);
        return `${o}: ${E}`;
      },
      renderDataResolver() {
        const v = this.model, S = v.getIfTrueContent(), w = v.getIfFalseContent(), C = S == null ? void 0 : S.getEl(), x = w == null ? void 0 : w.getEl();
        if (e.runCommand(he.getStateDataSource).showPlaceholder) {
          C && (C.style.display = "", C.style.setProperty(gs, `"${this.getConditionString()} "`)), x && (x.style.display = "", x.style.setProperty(gs, `" ${a} "`));
          return;
        }
        const O = v.isTrue();
        C && (C.style.removeProperty(gs), C.style.display = O ? "" : "none"), x && (x.style.removeProperty(gs), x.style.display = O ? "none" : "");
      }
    }
  });
}
function _k(e, t) {
  var p;
  const { Components: n, I18n: r } = e, o = qt.variable, s = "data-type-data-variable", i = "Variable", a = `<svg viewBox="0 0 24 24"><path fill="currentColor" d="${ic.codeBraces}"/></svg>`, { appStore: l } = t, c = (p = l.sdkOptions.dataSources) == null ? void 0 : p.blocks, d = (f) => {
    const g = "dataVariablePicker", h = {
      id: g,
      header: !1,
      layout: {
        type: "panelDataVariablePicker",
        component: f,
        onConfirm: () => e.runCommand(he.layoutRemove, { id: g })
      },
      placer: { type: "dialog", title: r.t("dataSources.editVariable"), size: "l" }
    };
    e.runCommand(he.layoutToggle, { ...h });
  };
  n.addType(o, {
    isComponent: (f) => ol(f, s) || ti(f, o),
    block: c && {
      label: i,
      media: a,
      content: {
        type: o,
        dataResolver: { path: "", defaultValue: r.t("dataSources.defaultValue") }
      },
      ...Cg
    },
    model: {
      defaults: {
        ...xg(l),
        icon: a,
        name: i,
        textable: !0,
        tagName: "span",
        // Conflicts with preview
        // emptyState: { styleIn: 'display: inline-flex;' },
        attributes: { [s]: !0 },
        toolbarItems: ({ items: f, component: g }) => [
          {
            id: `open-${o}-modal`,
            label: Sg,
            command: () => d(g)
          },
          ...f
        ]
      }
    },
    view: {
      events: () => ({
        dblclick: "onActive"
      }),
      init() {
        const { em: f } = this;
        this.listenTo(f, Rn.toggleDataSourcesPreview, this.renderDataResolver);
      },
      onActive(f) {
        e.getEditing() || (f == null || f.stopPropagation(), d(this.model));
      },
      renderDataResolver() {
        const { model: f, el: g } = this;
        if (e.runCommand(he.getStateDataSource).showPlaceholder) {
          const m = f.getPath();
          g.textContent = "", g.style.setProperty(gs, `"${Ay(m)}"`);
          return;
        }
        g.style.removeProperty(gs), g.textContent = f.getDataValue();
      }
    }
  });
}
const zs = (e, t, n) => {
  const r = e.Components.getType(t);
  if (!r) {
    console.warn(`Component type ${t} not found`);
    return;
  }
  const o = r.model;
  e.Components.addType(t, {
    model: {
      ...n,
      toHTML(s) {
        var a;
        const { exporter: i } = s ?? {};
        return i ? ((a = n.toHTML) == null ? void 0 : a.call(this, s)) ?? "" : o.prototype.toHTML.call(this, s) ?? "";
      }
    }
  });
};
function _l({
  component: e,
  value: t,
  getCustomPath: n
}) {
  if (gr(t) && t.path && !t.collectionId && n) {
    const r = t.path ?? "", o = r.split(".");
    return {
      ...t,
      path: n({ component: e, path: r, paths: o })
    };
  }
  return t;
}
function Ak(e, {
  isProjectTypeEmail: t
}) {
  const n = ({ content: s }) => t ? `<mj-raw>${s}</mj-raw>` : s, r = ({ content: s }) => s;
  function o(s) {
    const i = this.getInnerHTML(s);
    if (t || s.skipTags)
      return i;
    const a = this.tagName, l = this.__attrToString(s), c = l ? ` ${l}` : "", d = `<${a}${c}>`, p = `</${a}>`;
    return `${d}${i}${p}`;
  }
  zs(e, qt.variable, {
    toHTML(s) {
      var b;
      const i = s.skipTags ?? t, a = s.exporter, l = s.wrapTemplateContent ?? r, c = (y) => l({ component: this, content: y }), d = this.tagName, p = this.__attrToString(s), f = (b = this.getDataResolver) == null ? void 0 : b.call(this), g = _l({
        component: this,
        value: f,
        getCustomPath: s == null ? void 0 : s.getCustomPath
      }), h = a.getVariableSyntax({ component: this, dataResolver: g }), m = c(h);
      return i ? m : `<${d}${p ? ` ${p}` : ""}>${m}</${d}>`;
    }
  }), zs(e, qt.condition, {
    toHTML(s) {
      var S, w, C;
      const { exporter: i } = s, a = s.wrapTemplateContent ?? n, l = (x) => a({ component: this, content: x }), c = { component: this }, d = s == null ? void 0 : s.getCustomPath, [p, f] = ((S = this.components()) == null ? void 0 : S.models) ?? [], g = (w = this.getDataResolver) == null ? void 0 : w.call(this), h = ((C = this.resolveCondition) == null ? void 0 : C.call(this, g == null ? void 0 : g.condition, d)) ?? {};
      let m = "";
      if (f) {
        const x = i.getConditionElseSyntax(c);
        m = `
${l(x)}
  ${f.toHTML(s) ?? ""}`;
      }
      const b = i.getConditionalStartSyntax({ ...c, dataResolver: { condition: h } }), y = i.getConditionalEndSyntax(c);
      return `
${`${l(b)}
  ${(p == null ? void 0 : p.toHTML(s)) ?? ""}${m}
${l(y)}`}
`;
    },
    resolveCondition(s, i) {
      if (typeof s == "boolean")
        return s;
      if (!s)
        return {};
      if (Ek(s))
        return {
          ...s,
          statements: s.statements.map((l) => this.resolveCondition(l, i)) ?? []
        };
      const a = { component: this, getCustomPath: i };
      return {
        ...s,
        left: _l({ ...a, value: s.left }),
        right: _l({ ...a, value: s.right })
      };
    }
  }), zs(e, qt.collection, {
    toHTML(s) {
      const i = s.skipTags ?? t, { exporter: a } = s, l = s.wrapTemplateContent ?? n, c = (E) => l({ component: this, content: E }), d = { component: this }, p = this.getDataResolver(), f = {
        ...p,
        dataSource: _l({
          component: this,
          value: p == null ? void 0 : p.dataSource,
          getCustomPath: s == null ? void 0 : s.getCustomPath
        })
      }, g = this.components().at(0), h = a.getCollectionStartSyntax({
        ...d,
        dataResolver: f
      }), m = a.getCollectionEndSyntax(d), b = (g == null ? void 0 : g.toHTML(s)) ?? "", y = `${c(h)}
  ${b}
${c(m)}`;
      if (i)
        return `
${y}
`;
      const v = this.tagName, S = this.__attrToString(s), w = S ? ` ${S}` : "", C = `<${v}${w}>`, x = `</${v}>`;
      return `
${C}${y}${x}
`;
    }
  }), zs(e, qt.conditionTrue, { toHTML: o }), zs(e, qt.conditionFalse, { toHTML: o }), zs(e, qt.collectionItem, { toHTML: o });
}
const Lk = function(e, t) {
  const { Components: n, Canvas: r, events: o } = e;
  if (!n.getType(qt.conditionTrue))
    return;
  const { isProjectTypeEmail: s, sdkOptions: i } = t.appStore, { dataSources: a } = i;
  a != null && a.globalData && e.on(o.projectLoad, () => {
    e.DataSources.add({
      id: Rs.globalData,
      records: Ly(a.globalData),
      skipFromStorage: !0
    });
  }), e.on(r.events.frameLoadBody, ({ window: l }) => {
    const c = "data-outline-ds", d = l.document;
    if (d.querySelector(`style[${c}]`))
      return;
    const f = d.createElement("style"), g = [
      qt.variable,
      qt.condition,
      qt.collection
    ].map((h) => `.gjs-dashed [data-gjs-highlightable][data-gjs-type="${h}"]`);
    f.setAttribute(c, ""), f.textContent = `
      ${g.join(",")} {
        outline: 2px dotted #8b5cf6;
      }

      .gjs-dashed *[data-gjs-type="data-condition-true-content"],
      .gjs-dashed *[data-gjs-type="data-condition-false-content"] {
        outline: none !important;
      }

      [data-gjs-type="data-variable"]::before,
      [data-gjs-type="data-condition-true-content"]::before,
      [data-gjs-type="data-condition-false-content"]::before {
          content: var(${gs});
          font-style: italic;
          color: #666;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 100%;
          font-size: .9rem;
          font-weight: 500;
          font-family: sans-serif;
      }
    `, d.head.appendChild(f);
  }), _k(e, t), Ok(e, t), Tk(e, t), Ak(e, { isProjectTypeEmail: s });
};
function Nk(e) {
  const { Components: t } = e, n = (r) => {
    const { id: o, model: s } = r;
    if (o === "custom-code") {
      const i = "<span>Insert here your custom code</span>";
      t.addType(o, {
        model: {
          defaults: {
            emptyState: !0,
            icon: '<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',
            classes: "gjs-custom-code",
            components: i,
            "custom-code-plugin__code": i,
            styles: ".gjs-custom-code { padding: 5px; }"
          }
        }
      });
    }
    if (o === "typed") {
      const i = s.getDefaults().traits.map(
        (a) => a.name === "strings" ? {
          ...a,
          type: "stack",
          addItem(l) {
            return {
              id: l,
              label: `New string ${l}`
            };
          },
          getValue({ component: l }) {
            return l.get("strings").map((c, d) => ({
              id: `${d}`,
              label: c
            }));
          },
          setValue: ({ component: l, value: c }) => {
            const d = c.map((p) => p.label);
            l.set({ strings: d }), l.trigger("rerender");
          },
          properties: [{ name: "label" }]
        } : a
      );
      t.addType(o, {
        model: {
          defaults: {
            traits: i,
            strings: [
              "These are the default values...!!!",
              "Use your own strings from Properties!",
              "Have a great day!"
            ],
            icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',
            classes: "gjs-typed",
            styles: `
                  .gjs-typed {
                    padding: 5px;
                  }
                `
          }
        }
      });
    }
    if (["tabs", "tab-content", "tab-contents", "tab", "tab-container"].indexOf(o) >= 0) {
      const a = {
        emptyState: !0,
        icon: o === "tabs" ? `
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          ` : void 0
      };
      o === "tab" && (a.traits = [
        {
          type: "button",
          label: !1,
          text: "Style Active",
          command: (l) => {
            l.select(), l.runCommand(ky), setTimeout(() => l.Selectors.select(".tab.tab-active"));
          }
        }
      ]), t.addType(o, {
        model: {
          defaults: a
        }
      });
    }
  };
  e.on("component:type:add", n);
}
const kk = (e, t) => {
  const n = t.appStore.store.globalStylesStore;
  e.on(e.events.projectLoad, ({ loaded: r }) => r && n.onLoad());
}, Mk = (e, t) => {
  const { assetsStore: n } = t.appStore.store;
  if (n.onCloudOrCustomUpload) {
    const { Assets: r } = e;
    r.getConfig().uploadFile = async (...o) => {
      const s = o[0], i = await n.handleUpload(s), a = o[1];
      i && (a == null || a({ data: i }));
    };
  }
  e.on(e.events.destroy, () => n.setAllProviders([]));
}, $k = (e, t) => {
  t.runCommand(he.fontAdd, {
    font: e
  });
}, Pg = (e, { onSelect: t, ...n } = {}) => {
  const r = "font", i = e.runCommand(he.assetProviderGet).filter((a) => ut(a.types) ? a.types === r : a.types.includes(r))[0];
  if (!i) {
    e.em.logWarning("No font provider found");
    return;
  }
  e.Assets.open({
    // @ts-expect-error not typed
    types: [],
    modalTitle: e.I18n.t("fontManager.selectFont"),
    projectAssetsOption: !1,
    typeId: r,
    providerId: i.id,
    onSelect: (a) => {
      const l = a.assetProps;
      $k(l.customData.font, e), t == null || t(a);
    },
    content: {
      header: {
        addUrl: !1,
        upload: !1
      },
      itemsPerRow: 1
    },
    ...n
  });
}, Rk = () => {
  const { baseApiUrl: e } = da();
  return `${e}/sdk/projects`;
}, Ny = (e) => `${Rk()}/${e}`, Ik = async ({ licenseKey: e, projectId: t, ...n }) => {
  const r = await Fr.put(Ny(t), {
    body: JSON.stringify(n),
    params: { d: window.location.hostname, licenseKey: e }
  });
  return r == null ? void 0 : r.result;
}, jk = async (e, t) => await Fr.put(t, {
  body: e,
  headers: {
    "Content-Type": "application/json"
  }
}), Vk = async (e, t, n, r) => {
  const o = JSON.stringify(e), s = await Ik({
    licenseKey: t,
    projectId: n,
    fileMetadata: { size: new Blob([o]).size },
    identityId: r,
    name: e.name,
    description: e.description
  });
  if (!s)
    throw new Error("Project not found");
  const { uploadUrl: i } = s;
  await jk(o, i);
}, Dk = (e, t, n) => Fr.get(Ny(t), {
  params: { d: window.location.hostname, licenseKey: e, identityId: n }
}), Hk = async (e) => await Fr.get(e), Bk = async (e, t, n, r) => {
  const o = await Dk(t, n, r), s = o == null ? void 0 : o.result, i = o == null ? void 0 : o.errorData;
  if (!s && (i != null && i.notFoundInDb))
    return { id: n, project: {} };
  if (!s)
    throw new Error("Project not found");
  const { downloadUrl: a } = s, l = await Hk(a);
  if (!l || l instanceof Error)
    throw new Error("Project download failed");
  return { id: n, project: l };
}, Fk = (e, t) => {
  const { appEditorStore: n, toastStore: r, i18nStore: o } = t.appStore.store, { isUsingProjectSelfHosted: s, isUsingProjectCloud: i, sdkOptions: a } = n, l = a.storage || {}, {
    project: c,
    onLoad: d,
    onSave: p,
    autosaveChanges: f,
    autosaveIntervalMs: g
  } = l;
  let h, m, b, y;
  if (s)
    b = d, y = p, h = f, m = g;
  else if (i) {
    const x = a.licenseKey, E = n.sdkProjectId, O = n.sdkIdentityId, T = 10, P = 1e4;
    y = ({ project: A }) => Vk(A, x, E, O), b = ({ editor: A }) => Bk(A, x, E, O), h = Math.max(T, f ?? T), g && (m = Math.max(P, g));
  }
  const { Storage: v, events: S } = e, { events: w } = v;
  let C = !1;
  if (e.once(S.projectLoad, (x) => {
    C = !!x.loaded;
  }), e.once("change:readyLoad", () => {
    var E;
    const x = (E = a.project) == null ? void 0 : E.default;
    !C && x && e.loadProjectData(x);
  }), e.on(w.startStore, () => n.setIsSaving(!0)), e.on(w.endStore, () => n.setIsSaving(!1)), (b || c) && y) {
    const x = "remote";
    v.setCurrent(x), v.add(x, {
      async load() {
        return c || (await b({ editor: e })).project;
      },
      async store(E) {
        await y({ project: E, editor: e });
      }
    }), e.on(w.errorLoad, (E) => {
      r.addError("storage-error-load", {
        header: o.t("storageManager.errorLoad"),
        content: E.message
      });
    }), e.on(w.errorStore, (E) => {
      r.addError("storage-error-store", {
        header: o.t("storageManager.errorStore"),
        content: E.message
      });
    }), h && v.setStepsBeforeSave(h), m && e.onReady(() => {
      const E = setInterval(async () => {
        e.getDirtyCount() > 0 && !n.isSaving && await e.store();
      }, m);
      e.on("destroy", () => clearInterval(E));
    });
  }
}, _c = "select-target", ky = "enable-sm";
function zk(e, t) {
  var N, H, K, z;
  const { appStore: n } = t, {
    appEditorStore: r,
    blockManagerStore: o,
    toastStore: s,
    modalStore: i,
    layoutStore: a,
    contextMenu: l,
    assetsStore: c,
    fontsStore: d
  } = n.store, { projectIdToLoad: p, nextProjectData: f, sdkOptions: g } = r, h = () => o.toggleOpen(), m = () => r.toggleLeftSidebar(), b = () => r.toggleRightSidebar(), y = e.getConfig(), { Assets: v, Storage: S, Commands: w } = e, C = w.events, x = e.events, E = (H = (N = g.gjsOptions) == null ? void 0 : N.assetManager) == null ? void 0 : H.custom;
  let O = !1;
  if (v.all.model.prototype.idAttribute = "src", Ft(E) && (v.getConfig().custom = E), f && (y.projectData = f, r.setNextProjectData()), p) {
    const $ = S.getConfig().options;
    $ && ($.local.key = p);
  }
  e.on(x.projectLoad, ({ project: $ }) => {
    var D;
    n.setProjectDataCustom($.custom || { projectType: (D = r.sdkOptions.project) == null ? void 0 : D.type }), d.loadFonts();
  }), e.on(x.projectGet, ({ project: $ }) => {
    $.custom = vi(e);
  }), e.RichTextEditor.getConfig().custom = !0;
  const { Canvas: T } = e, P = oo(() => r.setCanvasPanning(!1), 200);
  e.on(T.events.coords, () => {
    r.setCanvasPanning(!0), P();
  }), e.on(T.events.frameLoad, ({ el: $ }) => {
    $.tabIndex = -1;
  });
  const { Parser: A } = e, _ = ((K = r.sdkOptions.parser) == null ? void 0 : K.showErrors) !== !1;
  (z = A.events) != null && z.css && _ && e.on(A.events.css, ($) => {
    const { error: D } = $;
    if (D) {
      const I = ut(D) ? D : D.name && D.reason ? `${D.name}: ${D.reason}` : D.message;
      s.addError("css-error", { header: "CSS Parser Error", content: I });
    }
  }), [
    // { id: `save`, keys: 'ctrl+s, +s', cmd: 'save-page' },
    // { id: `duplicate`, keys: 'ctrl+d, +d', cmd: 'tlb-clone' },
    // { id: `custom-component`, keys: 'ctrl+k, +k', cmd: 'open-custom-block' },
    { id: "toggle-lsidebar", keys: "alt+ctrl+,", cmd: m },
    { id: "toggle-lsidebar2", keys: "alt++,", cmd: m },
    { id: "toggle-rsidebar", keys: "alt+ctrl+., alt++.", cmd: b },
    { id: "show-blocks", keys: "ctrl+b, +b", cmd: h },
    { id: "add-symbol", keys: "alt+ctrl+k, alt++k", cmd: he.symbolAdd },
    { id: "detach-symbol", keys: "shift+alt+ctrl+k, shift+alt++k", cmd: he.symbolDetach }
  ].forEach(({ id: $, keys: D, cmd: I }) => {
    e.Keymaps.add(`preset:${$}`, D, I, { prevent: !0 });
  }), e.on(`${C.runCommand}core:preview`, () => {
    r.setPreview(!0), o.setOpen(!1), Am(e, !1);
  }), e.on(`${C.stopCommand}core:preview`, () => {
    r.setPreview(!1), Am(e, !0), setTimeout(() => {
      e.refresh();
    }, r.transitionTime);
  });
  const M = "target-selection", { Components: V } = e;
  w.add(_c, {
    opts: {},
    init() {
      this.beforeSelect = this.beforeSelect.bind(this);
    },
    onComponentHover($, D) {
      const I = { id: M, type: "target", component: D };
      D ? T.addSpot(I) : T.removeSpots(I);
    },
    beforeSelect($, D = {}) {
      D.abort = !0, D.useValid = !1, this.opts.onSelect($), e.stopCommand(_c);
    },
    run($, D, I) {
      this.opts = I, e.on("component:select:before", this.beforeSelect), e.on("change:componentHovered", this.onComponentHover);
    },
    stop() {
      e.off("component:select:before", this.beforeSelect), e.off("change:componentHovered", this.onComponentHover), T.removeSpots({ id: M }), r.setSelectingTarget(!1);
    }
  }), w.add(ky, () => {
    r.setSelectedDesignerTab("style");
  }), w.add(he.toastAdd, ($, D, I) => {
    s.add(I.id, I);
  }), w.add(he.toastRemove, ($, D, I) => {
    s.remove(I.id);
  }), w.add(he.dialogOpen, ($, D, I) => {
    i.open(I);
  }), w.add(he.dialogClose, () => {
    i.close();
  }), w.add(he.dialogExportCode, () => {
    i.open({
      title: e.t("actions.showCode.title"),
      content: () => {
        var $, D;
        return Ro(hk, { options: (D = ($ = g.commands) == null ? void 0 : $.options) == null ? void 0 : D[or.showCode] });
      }
    });
  }), w.add(he.sidebarLeftGet, () => ({
    visible: r.isLeftSidebarOpen
  })), w.add(he.sidebarLeftSet, ($, D, I) => {
    r.setLeftSidebarOpen(!!I.visible);
  }), w.add(he.sidebarLeftToggle, () => {
    r.setLeftSidebarOpen(!r.isLeftSidebarOpen);
  }), w.add(he.sidebarRightGet, () => ({
    visible: r.isRightSidebarOpen
  })), w.add(he.sidebarRightSet, ($, D, I) => {
    r.setRightSidebarOpen(!!I.visible);
  }), w.add(he.sidebarRightToggle, () => {
    r.setRightSidebarOpen(!r.isRightSidebarOpen);
  }), w.add(he.sidebarTopGet, () => ({
    visible: r.isTopSidebarOpen
  })), w.add(he.sidebarTopSet, ($, D, I) => {
    r.setTopSidebarOpen(!!I.visible);
  }), w.add(he.sidebarTopToggle, () => {
    r.setTopSidebarOpen(!r.isTopSidebarOpen);
  }), w.add(he.sidebarBottomGet, () => ({
    visible: r.isBottomSidebarOpen
  })), w.add(he.sidebarBottomSet, ($, D, I) => {
    r.setBottomSidebarOpen(!!I.visible);
  }), w.add(he.sidebarBottomToggle, () => {
    r.setBottomSidebarOpen(!r.isBottomSidebarOpen);
  }), w.add(he.layoutAdd, ($, D, I) => {
    I.id && a.add(I.id, I);
  }), w.add(he.layoutRemove, ($, D, I) => {
    const { id: U, ...ne } = I;
    a.remove(U, ne);
  }), w.add(he.layoutToggle, ($, D, I) => {
    const { id: U, ...ne } = I;
    U && (a.get(U) ? a.remove(U, ne) : a.add(U, ne));
  }), w.add(he.layoutUpdate, ($, D, I) => {
    const U = I;
    e.runCommand(he.layoutRemove, {
      id: U.id,
      layout: { placer: { ...U.placer, skipCleanup: !0 } },
      force: !0
    }), setTimeout(() => e.runCommand(he.layoutAdd, { ...U }));
  }), w.add(he.layoutGet, ($, D, I) => [Ao(a.get(I.id))]), w.add(he.layoutConfigGet, () => Ao(a.customConfig)), w.add(he.layoutConfigSet, ($, D, I) => {
    const U = I;
    a.setCustomConfig(U);
  }), w.add(he.getStateTheme, () => r.publicStateTheme), w.add(he.setStateTheme, ($, D, I) => r.setPublicStateTheme(I)), w.add(he.getPagesConfig, () => r.sdkPagesConfig), w.add(he.setPagesConfig, ($, D, I) => {
    const { config: U } = I || {};
    Ft(U) && r.setSdkPagesConfig(U);
  }), w.add(he.getPageSettings, () => JSON.parse(JSON.stringify(r.panelPageSettings))), w.add(he.setPageSettings, ($, D, I) => {
    r.setPanelPageSettings(I);
  }), w.add(he.clearPage, () => {
    const $ = (D) => e.t(`actions.${D}`);
    i.confirm({
      title: $("clearCanvas.title"),
      content: $("clearCanvas.content"),
      confirmButton: { variant: "danger", children: $("clearCanvas.title") },
      onConfirm: () => {
        UA(e) ? e.loadProjectData({ pages: [{ component: "<mjml><mj-body></mj-body></mjml>" }] }) : e.Components.clear();
      }
    });
  }), w.add(he.projectFiles, ($, D, I) => {
    var re, ie;
    const U = (re = r.sdkOptions.dataSources) == null ? void 0 : re.exportConfig, ne = ((ie = I.exportConfig) == null ? void 0 : ie.exportPreset) ?? U, Q = { isMJML: r.isProjectTypeEmail, exportConfig: ne, ...I };
    return wk($, Q);
  }), w.add(he.validateCode, ($, D, I) => sy({ ...I, appStore: n })), w.add(he.getBlocksPanel, () => ({
    isOpen: o.isOpen
  })), w.add(he.setBlocksPanel, ($, D, I) => {
    const U = I || {};
    Ft(U.isOpen) && o.setOpen(U.isOpen);
  }), w.add(he.canvasReload, () => {
    const $ = e.getSelected(), D = T.getCanvasView(), { frames: I } = T.canvas;
    I.once("loaded:all", () => {
      const U = $ == null ? void 0 : $.getView();
      U && !U.isInViewport() && U.el.scrollIntoView({ block: "center" });
    }), D.renderFrames();
  }), w.add(he.contextMenuComponent, ($, D, I) => {
    const { component: U, ...ne } = I;
    l.showForComponent(U, ne);
  }), w.add(he.getStateContextMenu, () => l.publicState), w.add(he.setStateContextMenu, ($, D, I) => {
    l.setPublicState(I);
  }), w.add(he.symbolAdd, ($, D, I) => {
    const U = I.component || e.getSelected();
    if (U)
      return V.getSymbolInfo(U).isSymbol ? s.add("skip-symbol", {
        header: "The selected element is already a symbol",
        variant: fn.Warning
      }) : V.addSymbol(U);
  }), w.add(he.symbolDetach, ($, D, I) => {
    const U = I.component || e.getSelected();
    U && V.getSymbolInfo(U).isRoot && V.detachSymbol(U);
  }), w.add(he.symbolOverride, ($, D, I) => {
    const U = I.component || e.getSelected();
    U && (U.setSymbolOverride(I.override), e.Layers.updateLayer(U));
  }), w.add(
    he.symbolPropagateStyles,
    ($, D, I) => {
      const U = I.component || e.getSelected();
      if (!U)
        return;
      const { Css: ne } = e, Q = ne.getComponentRules(U, { current: !0 })[0];
      if (Q) {
        const { state: re, mediaText: ie } = Q.attributes, oe = Q.getStyle();
        V.getSymbolInfo(U).relatives.forEach((X) => {
          ne.setIdRule(X.getId(), oe, { state: re, mediaText: ie });
        });
      }
      I.deep && U.components().forEach((re) => e.runCommand(he.symbolPropagateStyles, { ...I, component: re }));
    }
  ), w.add(he.assetProviderGet, () => Ao(c.allProviders)), w.add(
    he.assetProviderAdd,
    ($, D, { provider: I, index: U }) => {
      c.addProvider(I, U);
    }
  ), w.add(he.assetProviderRemove, ($, D, { id: I }) => {
    const U = c.allProviders.filter((ne) => ne.id !== I);
    c.setAllProviders(U);
  }), w.add(he.fontGet, () => Ao(d.fonts)), w.add(he.fontAdd, ($, D, { font: I }) => {
    d.addFont(I);
  }), w.add(he.fontRemove, ($, D, { family: I }) => {
    d.removeFont(I);
  }), w.add(he.fontManagerOpen, ($, D, I) => {
    Pg($, I);
  }), w.add(he.menuFontLoad, ($, D, { font: I }) => gg(I, !1)), w.add(he.toggleStateDataSource, () => (O = !O, e.trigger(Rn.toggleDataSourcesPreview, { showPlaceholder: O }), e.refresh({ tools: !0 }), { showPlaceholder: O })), w.add(he.getStateDataSource, () => ({ showPlaceholder: O })), w.add(he.dataSourceSetGlobalData, ($, D, { globalData: I }) => {
    const U = Ly(I);
    return e.DataSources.get(Rs.globalData).setRecords(U);
  }), w.add(he.setDragAbsolute, ($, D, { enabled: I }) => {
    r.setIsDraggingAbsolute(!!I);
  }), w.add(he.dataSourceSetImporter, ($, D, I) => {
    e.on(e.Parser.events.htmlBefore, (U) => {
      U.input = I.import(U.input);
    });
  }), w.add(he.dataSourceSetExporter, ($, D, I) => {
    e.config.optsHtml = {
      ...e.config.optsHtml,
      exporter: I
    };
  }), Mk(e, t), Fk(e, t), kk(e, t), Nk(e), Sk(e), UN(e), Ck(e, t), Lk(e, t);
}
const Uk = /\s(?![^(]*\))/, Rm = /^-?[0-9]+[a-zA-Z%]{0,}$/;
function Im(e) {
  const t = e.split(Uk), n = t.indexOf("inset") >= 0, r = t.filter((d) => d !== "inset"), o = r.filter((d) => !Rm.test(d))[0] || "currentColor", s = r.filter((d) => Rm.test(d)), [i = "0", a = "0", l = "0", c = "0"] = s;
  return {
    x: i,
    y: a,
    blur: l,
    spread: c,
    inset: n,
    color: o
  };
}
function wu(e) {
  const t = e.indexOf("(") + 1, n = e.lastIndexOf(")");
  return {
    name: e.substring(0, t - 1).trim(),
    value: String.prototype.substring.apply(e, [t, n >= 0 ? n : void 0]).trim()
  };
}
var Wk = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) }, Jr = function(e) {
  return typeof e == "string" ? e.length > 0 : typeof e == "number";
}, Gt = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = Math.pow(10, t)), Math.round(n * e) / n + 0;
}, Yn = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = 1), e > n ? n : e > t ? e : t;
}, My = function(e) {
  return (e = isFinite(e) ? e % 360 : 0) > 0 ? e : e + 360;
}, jm = function(e) {
  return { r: Yn(e.r, 0, 255), g: Yn(e.g, 0, 255), b: Yn(e.b, 0, 255), a: Yn(e.a) };
}, Ed = function(e) {
  return { r: Gt(e.r), g: Gt(e.g), b: Gt(e.b), a: Gt(e.a, 3) };
}, Gk = /^#([0-9a-f]{3,8})$/i, Al = function(e) {
  var t = e.toString(16);
  return t.length < 2 ? "0" + t : t;
}, $y = function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = Math.max(t, n, r), i = s - Math.min(t, n, r), a = i ? s === t ? (n - r) / i : s === n ? 2 + (r - t) / i : 4 + (t - n) / i : 0;
  return { h: 60 * (a < 0 ? a + 6 : a), s: s ? i / s * 100 : 0, v: s / 255 * 100, a: o };
}, Ry = function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a;
  t = t / 360 * 6, n /= 100, r /= 100;
  var s = Math.floor(t), i = r * (1 - n), a = r * (1 - (t - s) * n), l = r * (1 - (1 - t + s) * n), c = s % 6;
  return { r: 255 * [r, a, i, i, l, r][c], g: 255 * [l, r, r, a, i, i][c], b: 255 * [i, i, l, r, r, a][c], a: o };
}, Vm = function(e) {
  return { h: My(e.h), s: Yn(e.s, 0, 100), l: Yn(e.l, 0, 100), a: Yn(e.a) };
}, Dm = function(e) {
  return { h: Gt(e.h), s: Gt(e.s), l: Gt(e.l), a: Gt(e.a, 3) };
}, Hm = function(e) {
  return Ry((n = (t = e).s, { h: t.h, s: (n *= ((r = t.l) < 50 ? r : 100 - r) / 100) > 0 ? 2 * n / (r + n) * 100 : 0, v: r + n, a: t.a }));
  var t, n, r;
}, sa = function(e) {
  return { h: (t = $y(e)).h, s: (o = (200 - (n = t.s)) * (r = t.v) / 100) > 0 && o < 200 ? n * r / 100 / (o <= 100 ? o : 200 - o) * 100 : 0, l: o / 2, a: t.a };
  var t, n, r, o;
}, Kk = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, qk = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, Yk = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, Zk = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, Bp = { string: [[function(e) {
  var t = Gk.exec(e);
  return t ? (e = t[1]).length <= 4 ? { r: parseInt(e[0] + e[0], 16), g: parseInt(e[1] + e[1], 16), b: parseInt(e[2] + e[2], 16), a: e.length === 4 ? Gt(parseInt(e[3] + e[3], 16) / 255, 2) : 1 } : e.length === 6 || e.length === 8 ? { r: parseInt(e.substr(0, 2), 16), g: parseInt(e.substr(2, 2), 16), b: parseInt(e.substr(4, 2), 16), a: e.length === 8 ? Gt(parseInt(e.substr(6, 2), 16) / 255, 2) : 1 } : null : null;
}, "hex"], [function(e) {
  var t = Yk.exec(e) || Zk.exec(e);
  return t ? t[2] !== t[4] || t[4] !== t[6] ? null : jm({ r: Number(t[1]) / (t[2] ? 100 / 255 : 1), g: Number(t[3]) / (t[4] ? 100 / 255 : 1), b: Number(t[5]) / (t[6] ? 100 / 255 : 1), a: t[7] === void 0 ? 1 : Number(t[7]) / (t[8] ? 100 : 1) }) : null;
}, "rgb"], [function(e) {
  var t = Kk.exec(e) || qk.exec(e);
  if (!t)
    return null;
  var n, r, o = Vm({ h: (n = t[1], r = t[2], r === void 0 && (r = "deg"), Number(n) * (Wk[r] || 1)), s: Number(t[3]), l: Number(t[4]), a: t[5] === void 0 ? 1 : Number(t[5]) / (t[6] ? 100 : 1) });
  return Hm(o);
}, "hsl"]], object: [[function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = o === void 0 ? 1 : o;
  return Jr(t) && Jr(n) && Jr(r) ? jm({ r: Number(t), g: Number(n), b: Number(r), a: Number(s) }) : null;
}, "rgb"], [function(e) {
  var t = e.h, n = e.s, r = e.l, o = e.a, s = o === void 0 ? 1 : o;
  if (!Jr(t) || !Jr(n) || !Jr(r))
    return null;
  var i = Vm({ h: Number(t), s: Number(n), l: Number(r), a: Number(s) });
  return Hm(i);
}, "hsl"], [function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a, s = o === void 0 ? 1 : o;
  if (!Jr(t) || !Jr(n) || !Jr(r))
    return null;
  var i = function(a) {
    return { h: My(a.h), s: Yn(a.s, 0, 100), v: Yn(a.v, 0, 100), a: Yn(a.a) };
  }({ h: Number(t), s: Number(n), v: Number(r), a: Number(s) });
  return Ry(i);
}, "hsv"]] }, Bm = function(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n][0](e);
    if (r)
      return [r, t[n][1]];
  }
  return [null, void 0];
}, Xk = function(e) {
  return typeof e == "string" ? Bm(e.trim(), Bp.string) : typeof e == "object" && e !== null ? Bm(e, Bp.object) : [null, void 0];
}, Td = function(e, t) {
  var n = sa(e);
  return { h: n.h, s: Yn(n.s + 100 * t, 0, 100), l: n.l, a: n.a };
}, Od = function(e) {
  return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3 / 255;
}, Fm = function(e, t) {
  var n = sa(e);
  return { h: n.h, s: n.s, l: Yn(n.l + 100 * t, 0, 100), a: n.a };
}, Fp = function() {
  function e(t) {
    this.parsed = Xk(t)[0], this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 };
  }
  return e.prototype.isValid = function() {
    return this.parsed !== null;
  }, e.prototype.brightness = function() {
    return Gt(Od(this.rgba), 2);
  }, e.prototype.isDark = function() {
    return Od(this.rgba) < 0.5;
  }, e.prototype.isLight = function() {
    return Od(this.rgba) >= 0.5;
  }, e.prototype.toHex = function() {
    return t = Ed(this.rgba), n = t.r, r = t.g, o = t.b, i = (s = t.a) < 1 ? Al(Gt(255 * s)) : "", "#" + Al(n) + Al(r) + Al(o) + i;
    var t, n, r, o, s, i;
  }, e.prototype.toRgb = function() {
    return Ed(this.rgba);
  }, e.prototype.toRgbString = function() {
    return t = Ed(this.rgba), n = t.r, r = t.g, o = t.b, (s = t.a) < 1 ? "rgba(" + n + ", " + r + ", " + o + ", " + s + ")" : "rgb(" + n + ", " + r + ", " + o + ")";
    var t, n, r, o, s;
  }, e.prototype.toHsl = function() {
    return Dm(sa(this.rgba));
  }, e.prototype.toHslString = function() {
    return t = Dm(sa(this.rgba)), n = t.h, r = t.s, o = t.l, (s = t.a) < 1 ? "hsla(" + n + ", " + r + "%, " + o + "%, " + s + ")" : "hsl(" + n + ", " + r + "%, " + o + "%)";
    var t, n, r, o, s;
  }, e.prototype.toHsv = function() {
    return t = $y(this.rgba), { h: Gt(t.h), s: Gt(t.s), v: Gt(t.v), a: Gt(t.a, 3) };
    var t;
  }, e.prototype.invert = function() {
    return Sr({ r: 255 - (t = this.rgba).r, g: 255 - t.g, b: 255 - t.b, a: t.a });
    var t;
  }, e.prototype.saturate = function(t) {
    return t === void 0 && (t = 0.1), Sr(Td(this.rgba, t));
  }, e.prototype.desaturate = function(t) {
    return t === void 0 && (t = 0.1), Sr(Td(this.rgba, -t));
  }, e.prototype.grayscale = function() {
    return Sr(Td(this.rgba, -1));
  }, e.prototype.lighten = function(t) {
    return t === void 0 && (t = 0.1), Sr(Fm(this.rgba, t));
  }, e.prototype.darken = function(t) {
    return t === void 0 && (t = 0.1), Sr(Fm(this.rgba, -t));
  }, e.prototype.rotate = function(t) {
    return t === void 0 && (t = 15), this.hue(this.hue() + t);
  }, e.prototype.alpha = function(t) {
    return typeof t == "number" ? Sr({ r: (n = this.rgba).r, g: n.g, b: n.b, a: t }) : Gt(this.rgba.a, 3);
    var n;
  }, e.prototype.hue = function(t) {
    var n = sa(this.rgba);
    return typeof t == "number" ? Sr({ h: t, s: n.s, l: n.l, a: n.a }) : Gt(n.h);
  }, e.prototype.isEqual = function(t) {
    return this.toHex() === Sr(t).toHex();
  }, e;
}(), Sr = function(e) {
  return e instanceof Fp ? e : new Fp(e);
}, zm = [], Jk = function(e) {
  e.forEach(function(t) {
    zm.indexOf(t) < 0 && (t(Fp, Bp), zm.push(t));
  });
};
function Qk(e, t) {
  var n = { white: "#ffffff", bisque: "#ffe4c4", blue: "#0000ff", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", antiquewhite: "#faebd7", aqua: "#00ffff", azure: "#f0ffff", whitesmoke: "#f5f5f5", papayawhip: "#ffefd5", plum: "#dda0dd", blanchedalmond: "#ffebcd", black: "#000000", gold: "#ffd700", goldenrod: "#daa520", gainsboro: "#dcdcdc", cornsilk: "#fff8dc", cornflowerblue: "#6495ed", burlywood: "#deb887", aquamarine: "#7fffd4", beige: "#f5f5dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkkhaki: "#bdb76b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", peachpuff: "#ffdab9", darkmagenta: "#8b008b", darkred: "#8b0000", darkorchid: "#9932cc", darkorange: "#ff8c00", darkslateblue: "#483d8b", gray: "#808080", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", deeppink: "#ff1493", deepskyblue: "#00bfff", wheat: "#f5deb3", firebrick: "#b22222", floralwhite: "#fffaf0", ghostwhite: "#f8f8ff", darkviolet: "#9400d3", magenta: "#ff00ff", green: "#008000", dodgerblue: "#1e90ff", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", blueviolet: "#8a2be2", forestgreen: "#228b22", lawngreen: "#7cfc00", indianred: "#cd5c5c", indigo: "#4b0082", fuchsia: "#ff00ff", brown: "#a52a2a", maroon: "#800000", mediumblue: "#0000cd", lightcoral: "#f08080", darkturquoise: "#00ced1", lightcyan: "#e0ffff", ivory: "#fffff0", lightyellow: "#ffffe0", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", linen: "#faf0e6", mediumaquamarine: "#66cdaa", lemonchiffon: "#fffacd", lime: "#00ff00", khaki: "#f0e68c", mediumseagreen: "#3cb371", limegreen: "#32cd32", mediumspringgreen: "#00fa9a", lightskyblue: "#87cefa", lightblue: "#add8e6", midnightblue: "#191970", lightpink: "#ffb6c1", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", mintcream: "#f5fffa", lightslategray: "#778899", lightslategrey: "#778899", navajowhite: "#ffdead", navy: "#000080", mediumvioletred: "#c71585", powderblue: "#b0e0e6", palegoldenrod: "#eee8aa", oldlace: "#fdf5e6", paleturquoise: "#afeeee", mediumturquoise: "#48d1cc", mediumorchid: "#ba55d3", rebeccapurple: "#663399", lightsteelblue: "#b0c4de", mediumslateblue: "#7b68ee", thistle: "#d8bfd8", tan: "#d2b48c", orchid: "#da70d6", mediumpurple: "#9370db", purple: "#800080", pink: "#ffc0cb", skyblue: "#87ceeb", springgreen: "#00ff7f", palegreen: "#98fb98", red: "#ff0000", yellow: "#ffff00", slateblue: "#6a5acd", lavenderblush: "#fff0f5", peru: "#cd853f", palevioletred: "#db7093", violet: "#ee82ee", teal: "#008080", slategray: "#708090", slategrey: "#708090", aliceblue: "#f0f8ff", darkseagreen: "#8fbc8f", darkolivegreen: "#556b2f", greenyellow: "#adff2f", seagreen: "#2e8b57", seashell: "#fff5ee", tomato: "#ff6347", silver: "#c0c0c0", sienna: "#a0522d", lavender: "#e6e6fa", lightgreen: "#90ee90", orange: "#ffa500", orangered: "#ff4500", steelblue: "#4682b4", royalblue: "#4169e1", turquoise: "#40e0d0", yellowgreen: "#9acd32", salmon: "#fa8072", saddlebrown: "#8b4513", sandybrown: "#f4a460", rosybrown: "#bc8f8f", darksalmon: "#e9967a", lightgoldenrodyellow: "#fafad2", snow: "#fffafa", lightgrey: "#d3d3d3", lightgray: "#d3d3d3", dimgray: "#696969", dimgrey: "#696969", olivedrab: "#6b8e23", olive: "#808000" }, r = {};
  for (var o in n)
    r[n[o]] = o;
  var s = {};
  e.prototype.toName = function(i) {
    if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
      return "transparent";
    var a, l, c = r[this.toHex()];
    if (c)
      return c;
    if (i != null && i.closest) {
      var d = this.toRgb(), p = 1 / 0, f = "black";
      if (!s.length)
        for (var g in n)
          s[g] = new e(n[g]).toRgb();
      for (var h in n) {
        var m = (a = d, l = s[h], Math.pow(a.r - l.r, 2) + Math.pow(a.g - l.g, 2) + Math.pow(a.b - l.b, 2));
        m < p && (p = m, f = h);
      }
      return f;
    }
  }, t.string.push([function(i) {
    var a = i.toLowerCase(), l = a === "transparent" ? "#0000" : n[a];
    return l ? new e(l).toRgb() : null;
  }, "name"]);
}
function Su() {
  return (Su = Object.assign || function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }).apply(this, arguments);
}
function Iy(e, t) {
  if (e == null)
    return {};
  var n, r, o = {}, s = Object.keys(e);
  for (r = 0; r < s.length; r++)
    t.indexOf(n = s[r]) >= 0 || (o[n] = e[n]);
  return o;
}
function zp(e) {
  var t = q(e), n = q(function(r) {
    t.current && t.current(r);
  });
  return t.current = e, n.current;
}
var yi = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = 1), e > n ? n : e < t ? t : e;
}, ia = function(e) {
  return "touches" in e;
}, Up = function(e) {
  return e && e.ownerDocument.defaultView || self;
}, Um = function(e, t, n) {
  var r = e.getBoundingClientRect(), o = ia(t) ? function(s, i) {
    for (var a = 0; a < s.length; a++)
      if (s[a].identifier === i)
        return s[a];
    return s[0];
  }(t.touches, n) : t;
  return { left: yi((o.pageX - (r.left + Up(e).pageXOffset)) / r.width), top: yi((o.pageY - (r.top + Up(e).pageYOffset)) / r.height) };
}, Wm = function(e) {
  !ia(e) && e.preventDefault();
}, Eg = B.memo(function(e) {
  var t = e.onMove, n = e.onKey, r = Iy(e, ["onMove", "onKey"]), o = q(null), s = zp(t), i = zp(n), a = q(null), l = q(!1), c = ue(function() {
    var g = function(b) {
      Wm(b), (ia(b) ? b.touches.length > 0 : b.buttons > 0) && o.current ? s(Um(o.current, b, a.current)) : m(!1);
    }, h = function() {
      return m(!1);
    };
    function m(b) {
      var y = l.current, v = Up(o.current), S = b ? v.addEventListener : v.removeEventListener;
      S(y ? "touchmove" : "mousemove", g), S(y ? "touchend" : "mouseup", h);
    }
    return [function(b) {
      var y = b.nativeEvent, v = o.current;
      if (v && (Wm(y), !function(w, C) {
        return C && !ia(w);
      }(y, l.current) && v)) {
        if (ia(y)) {
          l.current = !0;
          var S = y.changedTouches || [];
          S.length && (a.current = S[0].identifier);
        }
        v.focus(), s(Um(v, y, a.current)), m(!0);
      }
    }, function(b) {
      var y = b.which || b.keyCode;
      y < 37 || y > 40 || (b.preventDefault(), i({ left: y === 39 ? 0.05 : y === 37 ? -0.05 : 0, top: y === 40 ? 0.05 : y === 38 ? -0.05 : 0 }));
    }, m];
  }, [i, s]), d = c[0], p = c[1], f = c[2];
  return G(function() {
    return f;
  }, [f]), B.createElement("div", Su({}, r, { onTouchStart: d, onMouseDown: d, className: "react-colorful__interactive", ref: o, onKeyDown: p, tabIndex: 0, role: "slider" }));
}), Cu = function(e) {
  return e.filter(Boolean).join(" ");
}, Tg = function(e) {
  var t = e.color, n = e.left, r = e.top, o = r === void 0 ? 0.5 : r, s = Cu(["react-colorful__pointer", e.className]);
  return B.createElement("div", { className: s, style: { top: 100 * o + "%", left: 100 * n + "%" } }, B.createElement("div", { className: "react-colorful__pointer-fill", style: { backgroundColor: t } }));
}, gn = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = Math.pow(10, t)), Math.round(n * e) / n;
}, jy = function(e) {
  var t = e.s, n = e.v, r = e.a, o = (200 - t) * n / 100;
  return { h: gn(e.h), s: gn(o > 0 && o < 200 ? t * n / 100 / (o <= 100 ? o : 200 - o) * 100 : 0), l: gn(o / 2), a: gn(r, 2) };
}, Wp = function(e) {
  var t = jy(e);
  return "hsl(" + t.h + ", " + t.s + "%, " + t.l + "%)";
}, _d = function(e) {
  var t = jy(e);
  return "hsla(" + t.h + ", " + t.s + "%, " + t.l + "%, " + t.a + ")";
}, eM = function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a;
  t = t / 360 * 6, n /= 100, r /= 100;
  var s = Math.floor(t), i = r * (1 - n), a = r * (1 - (t - s) * n), l = r * (1 - (1 - t + s) * n), c = s % 6;
  return { r: gn(255 * [r, a, i, i, l, r][c]), g: gn(255 * [l, r, r, a, i, i][c]), b: gn(255 * [i, i, l, r, r, a][c]), a: gn(o, 2) };
}, tM = function(e) {
  var t = /rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);
  return t ? nM({ r: Number(t[1]) / (t[2] ? 100 / 255 : 1), g: Number(t[3]) / (t[4] ? 100 / 255 : 1), b: Number(t[5]) / (t[6] ? 100 / 255 : 1), a: t[7] === void 0 ? 1 : Number(t[7]) / (t[8] ? 100 : 1) }) : { h: 0, s: 0, v: 0, a: 1 };
}, nM = function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = Math.max(t, n, r), i = s - Math.min(t, n, r), a = i ? s === t ? (n - r) / i : s === n ? 2 + (r - t) / i : 4 + (t - n) / i : 0;
  return { h: gn(60 * (a < 0 ? a + 6 : a)), s: gn(s ? i / s * 100 : 0), v: gn(s / 255 * 100), a: o };
}, rM = B.memo(function(e) {
  var t = e.hue, n = e.onChange, r = Cu(["react-colorful__hue", e.className]);
  return B.createElement("div", { className: r }, B.createElement(Eg, { onMove: function(o) {
    n({ h: 360 * o.left });
  }, onKey: function(o) {
    n({ h: yi(t + 360 * o.left, 0, 360) });
  }, "aria-label": "Hue", "aria-valuenow": gn(t), "aria-valuemax": "360", "aria-valuemin": "0" }, B.createElement(Tg, { className: "react-colorful__hue-pointer", left: t / 360, color: Wp({ h: t, s: 100, v: 100, a: 1 }) })));
}), oM = B.memo(function(e) {
  var t = e.hsva, n = e.onChange, r = { backgroundColor: Wp({ h: t.h, s: 100, v: 100, a: 1 }) };
  return B.createElement("div", { className: "react-colorful__saturation", style: r }, B.createElement(Eg, { onMove: function(o) {
    n({ s: 100 * o.left, v: 100 - 100 * o.top });
  }, onKey: function(o) {
    n({ s: yi(t.s + 100 * o.left, 0, 100), v: yi(t.v - 100 * o.top, 0, 100) });
  }, "aria-label": "Color", "aria-valuetext": "Saturation " + gn(t.s) + "%, Brightness " + gn(t.v) + "%" }, B.createElement(Tg, { className: "react-colorful__saturation-pointer", top: 1 - t.v / 100, left: t.s / 100, color: Wp(t) })));
}), sM = function(e, t) {
  if (e === t)
    return !0;
  for (var n in e)
    if (e[n] !== t[n])
      return !1;
  return !0;
}, iM = function(e, t) {
  return e.replace(/\s/g, "") === t.replace(/\s/g, "");
};
function aM(e, t, n) {
  var r = zp(n), o = W(function() {
    return e.toHsva(t);
  }), s = o[0], i = o[1], a = q({ color: t, hsva: s });
  G(function() {
    if (!e.equal(t, a.current.color)) {
      var c = e.toHsva(t);
      a.current = { hsva: c, color: t }, i(c);
    }
  }, [t, e]), G(function() {
    var c;
    sM(s, a.current.hsva) || e.equal(c = e.fromHsva(s), a.current.color) || (a.current = { hsva: s, color: c }, r(c));
  }, [s, e, r]);
  var l = Et(function(c) {
    i(function(d) {
      return Object.assign({}, d, c);
    });
  }, []);
  return [s, l];
}
var lM = typeof window < "u" ? Fc : G, cM = function() {
  return typeof __webpack_nonce__ < "u" ? __webpack_nonce__ : void 0;
}, Gm = /* @__PURE__ */ new Map(), uM = function(e) {
  lM(function() {
    var t = e.current ? e.current.ownerDocument : document;
    if (t !== void 0 && !Gm.has(t)) {
      var n = t.createElement("style");
      n.innerHTML = `.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`, Gm.set(t, n);
      var r = cM();
      r && n.setAttribute("nonce", r), t.head.appendChild(n);
    }
  }, []);
}, dM = function(e) {
  var t = e.className, n = e.hsva, r = e.onChange, o = { backgroundImage: "linear-gradient(90deg, " + _d(Object.assign({}, n, { a: 0 })) + ", " + _d(Object.assign({}, n, { a: 1 })) + ")" }, s = Cu(["react-colorful__alpha", t]), i = gn(100 * n.a);
  return B.createElement("div", { className: s }, B.createElement("div", { className: "react-colorful__alpha-gradient", style: o }), B.createElement(Eg, { onMove: function(a) {
    r({ a: a.left });
  }, onKey: function(a) {
    r({ a: yi(n.a + a.left) });
  }, "aria-label": "Alpha", "aria-valuetext": i + "%", "aria-valuenow": i, "aria-valuemin": "0", "aria-valuemax": "100" }, B.createElement(Tg, { className: "react-colorful__alpha-pointer", left: n.a, color: _d(n) })));
}, pM = function(e) {
  var t = e.className, n = e.colorModel, r = e.color, o = r === void 0 ? n.defaultColor : r, s = e.onChange, i = Iy(e, ["className", "colorModel", "color", "onChange"]), a = q(null);
  uM(a);
  var l = aM(n, o, s), c = l[0], d = l[1], p = Cu(["react-colorful", t]);
  return B.createElement("div", Su({}, i, { ref: a, className: p }), B.createElement(oM, { hsva: c, onChange: d }), B.createElement(rM, { hue: c.h, onChange: d }), B.createElement(dM, { hsva: c, onChange: d, className: "react-colorful__last-control" }));
}, fM = { defaultColor: "rgba(0, 0, 0, 1)", toHsva: tM, fromHsva: function(e) {
  var t = eM(e);
  return "rgba(" + t.r + ", " + t.g + ", " + t.b + ", " + t.a + ")";
}, equal: iM }, gM = function(e) {
  return B.createElement(pM, Su({}, e, { colorModel: fM }));
};
Jk([Qk]);
const hM = "gs-cmp-color-picker", mM = { backgroundSize: "10px" }, bM = [0, 15], vM = (e) => e.startsWith("rgba") ? e : Sr(e).toRgbString();
function Vy({ className: e, value: t, onChange: n, disabled: r }) {
  const o = vM(t || ""), s = q(o), [i, a] = W(!1), l = zr() && !!window.EyeDropper, c = k(
    `${hM}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,
    e,
    le.b,
    le.rnd,
    F.br
  ), d = (b) => {
    s.current = b, n == null || n(b);
  }, p = (b) => {
    s.current = b, n == null || n(b, !0);
  }, f = () => {
    l && new window.EyeDropper().open().then((y) => d(y.sRGBHex)).catch(console.warn);
  }, g = () => {
    a(!0);
  }, h = () => {
    n == null || n(s.current, !1), a(!1);
  };
  return /* @__PURE__ */ L(
    Ur,
    {
      handler: /* @__PURE__ */ L("div", { style: mM, className: c, children: [
        i && /* @__PURE__ */ u("div", { onPointerUp: h, className: "gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing" }),
        /* @__PURE__ */ u("div", { className: "gs-utl-w-4 gs-utl-h-4", style: { backgroundColor: t } })
      ] }),
      title: "Color",
      size: "s",
      placement: "left-end",
      offset: bM,
      clickAway: !0,
      disabled: r,
      children: [
        /* @__PURE__ */ u(
          gM,
          {
            className: "color-picker",
            color: o,
            onChange: p,
            onPointerDown: g,
            onPointerUp: h
          }
        ),
        /* @__PURE__ */ L(R, { className: "gs-utl-mt-3", gap: "s", children: [
          /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(at, { size: "s", value: o, onChange: d }) }),
          l && /* @__PURE__ */ u(Xe, { type: "button", onClick: f, children: /* @__PURE__ */ u(ae, { icon: Z.eyedropperVariant, size: fe.s }) })
        ] })
      ]
    }
  );
}
const yM = (e) => {
  const t = parseFloat(e), n = e.replace(`${t}`, "").trim();
  return { number: t || t === 0 ? `${t}` : "", unit: n };
}, Dy = ({ value: e, step: t }) => {
  const n = parseFloat(`${e}`);
  let r = 0;
  if (Math.floor(n) !== n && t) {
    const o = `${t}`.split(".")[1];
    r = (o == null ? void 0 : o.length) || 0;
  }
  return r ? parseFloat(n.toFixed(r)) : n;
}, wM = ({
  value: e,
  key: t,
  shiftKey: n,
  min: r,
  max: o,
  step: s = 1
}) => {
  const i = t === "ArrowUp", a = t === "ArrowDown";
  let l = null;
  if (i || a) {
    l = Number(e);
    const c = parseFloat(`${s}`);
    i && (l += (n ? 10 : 1) * c), a && (l -= (n ? 10 : 1) * c), l = `${xu({ min: r, max: o, value: l })}`, l = Dy({ value: l, step: s });
  }
  return l;
}, xu = ({ min: e, max: t, value: n }) => {
  const r = parseFloat(`${n}`);
  let o = r || 0;
  return Ft(e) && (o = Math.max(o, parseFloat(`${e}`) || 0)), Ft(t) && (o = Math.min(o, parseFloat(`${t}`) || 0)), `${`${r}` != `${n}` ? n : o}`;
}, SM = (e, t, n, r = {}) => {
  const o = parseInt(`${e}`, 10) || 0, { min: s, max: i, step: a = 1 } = r;
  let l = o;
  const c = (p) => {
    const f = p.clientY - t, g = o - f * parseFloat(`${a}`);
    l = Dy({
      value: xu({ min: s, max: i, value: g }),
      step: a
    }), n(l, !0);
  }, d = () => {
    window.removeEventListener("mousemove", c), window.removeEventListener("mouseup", d), n(l);
  };
  window.addEventListener("mousemove", c), window.addEventListener("mouseup", d);
}, CM = (e, t, n = {}) => {
  const { partial: r } = n, o = (s, i) => s === i || r && s.startsWith(i);
  return t.some((s) => o(typeof s == "string" ? s : s.id, e));
}, Km = (e) => Ft(e) ? e : "", xM = "gs-cmp-number-field";
function je(e) {
  const {
    className: t,
    value: n,
    units: r,
    valueUnit: o,
    size: s = "m",
    pan: i = !0,
    min: a,
    max: l,
    step: c,
    placeholder: d,
    disabled: p,
    onChange: f,
    onChangeUnit: g
  } = e, [h, m] = W(Km(n)), [b, y] = W(!1), v = (r == null ? void 0 : r.map((T) => ({ id: T, label: T }))) || [], S = { min: a, max: l, step: c };
  G(() => {
    m(Km(n));
  }, [n, o]);
  const w = (T, P) => {
    f == null || f(xu({ min: a, max: l, value: T }), P);
  }, C = (T) => {
    if (p)
      return;
    y(!0);
    const P = (A, _) => {
      w(A, !!_), !_ && y(!1);
    };
    SM(h, T.clientY, P, S);
  }, x = (T) => {
    const { key: P, shiftKey: A } = T;
    switch (P) {
      case "Escape":
        return m(n);
      case "Enter":
        return w(h);
    }
    const _ = wM({ step: c, value: n, key: P, shiftKey: A });
    _ !== null && (T.preventDefault(), w(_));
  }, E = () => {
    w(h);
  }, O = qo({ ...e, className: k(xM, t) });
  return /* @__PURE__ */ L("div", { ...O, children: [
    b && /* @__PURE__ */ u("div", { className: k("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-ns") }),
    /* @__PURE__ */ u(mr, { as: e.labelAs, ...e }),
    /* @__PURE__ */ L(R, { className: ug(e), items: "center", space: "x2s", children: [
      !!i && /* @__PURE__ */ u(
        j,
        {
          onMouseDown: C,
          className: k(
            "gs-utl-opacity-50 gs-utl-cursor-ns",
            s === "m" && "-gs-utl-ml-3",
            s === "s" && "-gs-utl-ml-2",
            i !== !0 && "gs-utl-mr-0.5 -gs-utl-ml-1"
          ),
          children: i === !0 ? /* @__PURE__ */ u(ae, { icon: Z.panVertical, size: fe.s2x }) : i
        }
      ),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
        "input",
        {
          className: rl(e),
          value: h,
          disabled: p,
          onChange: (T) => m(T.target.value),
          placeholder: d,
          onBlur: E,
          onKeyDown: x
        }
      ) }),
      !!v.length && /* @__PURE__ */ u(j, { className: k(v.length === 1 && "gs-utl-opacity-50 gs-utl-pointer-events-none"), children: /* @__PURE__ */ u(
        Ne,
        {
          caret: "",
          size: "x2s",
          pos: "right",
          width: "75px",
          emptyState: "-",
          border: !1,
          value: o,
          disabled: p,
          onChange: (T) => g == null ? void 0 : g(T),
          options: v
        }
      ) })
    ] })
  ] });
}
const PM = "gs-cmp-switch-field";
function La(e) {
  const { className: t, value: n, label: r, labelAs: o, border: s, disabled: i, onChange: a } = e, l = !!n, c = k(
    "gs-utl-relative gs-utl-inline-flex gs-utl-items-center gs-utl-h-6 gs-utl-rounded-full gs-utl-w-11 gs-utl-transition-colors focus:gs-utl-outline-none",
    l ? F.bgA : F.bgH,
    Sa.focus,
    s && `${F.br} ${le.b}`
  );
  return /* @__PURE__ */ u(cd.Group, { children: /* @__PURE__ */ L(R, { items: "center", className: k(PM, t), full: !0, children: [
    !!r && /* @__PURE__ */ u(cd.Label, { as: o, className: k("gs-utl-mr-4 gs-utl-flex-1"), passive: !0, children: /* @__PURE__ */ u(mr, { ...e, as: "span" }) }),
    /* @__PURE__ */ u(cd, { checked: l, onChange: a, className: c, disabled: i, children: /* @__PURE__ */ u(
      "span",
      {
        className: k(
          F.bg,
          "gs-utl-inline-block gs-utl-w-4 gs-utl-h-4 gs-utl-transform gs-utl-rounded-full gs-utl-transition-transform",
          l ? "gs-utl-translate-x-6" : "gs-utl-translate-x-1"
        )
      }
    ) })
  ] }) });
}
const EM = /^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/, TM = /,(?![^(]*\))/, Ad = /\s(?![^(]*\))/, OM = /^(closest-side|closest-corner|farthest-side|farthest-corner)/i, Ld = /^circle|ellipse/i, Og = (e) => {
  var d;
  const t = [], { name: n, value: r } = wu(e), [o, ...s] = r.split(TM).map((p) => p.trim()).filter(Boolean), i = s.length > 1, a = i ? o : "", l = { type: "none" }, c = i ? s : [o, ...s];
  if (EM.test(a))
    l.type = "angle", l.value = a;
  else if (/^to\s/.test(a))
    l.type = "side-or-corner", l.value = a;
  else if (OM.test(a))
    l.type = "size", l.value = a;
  else if (Ld.test(a) || /^at\s/.test(a) || /\sat\s/.test(a)) {
    l.type = "at", l.value = a;
    const p = ((d = a.match(Ld)) == null ? void 0 : d[0]) || "circle";
    l.shape = p;
    const f = { x: "0%", y: "0%" }, g = { x: "0%", y: "0%" }, [h, m] = a.replace(Ld, "").trim().split("at").map((b) => b.trim());
    if (h) {
      const [b, y] = h.split(Ad);
      f.x = b, f.y = y || b;
    }
    if (m) {
      const [b, y] = m.split(Ad);
      g.x = b, g.y = y || b;
    }
    l.size = f, l.position = g;
  }
  return c.forEach((p) => {
    const [f, g] = p.split(Ad);
    t.push({ color: f, hint: g ? parseFloat(g) : null });
  }), t.forEach((p, f) => {
    p.hint === null && (p.hint = f / (t.length - 1) * 100);
  }), {
    name: n,
    orientation: l,
    colorStops: t
  };
}, So = ({
  stops: e,
  orientation: t = "to right",
  name: n = "linear-gradient"
}) => {
  const o = (e.length === 1 ? [
    { color: e[0].color, hint: null },
    { color: e[0].color, hint: null }
  ] : e).map((s) => `${s.color} ${s.hint ? `${s.hint}%` : ""}`.trim()).join(", ");
  return o ? `${n}(${t}, ${o})` : "none";
}, _M = (e) => e.slice().sort((t, n) => (t.hint || 0) - (n.hint || 0)), AM = "gs-cmp-grad-picker";
function LM({ className: e, value: t, onChange: n }) {
  var H, K, z;
  const r = Og(t), [o, s] = W(r.colorStops), [i, a] = W(null), l = q(null), c = Y(AM, "gs-grad-picker gs-utl-select-none gs-utl-gap-1", e, le.rnd), d = r.name || "linear-gradient", p = d.indexOf("radial") >= 0, f = d.indexOf("repeating") >= 0, g = r.orientation.value, h = `${parseFloat(`${g}`) || 180}`, m = `${parseFloat(`${(H = r.orientation.size) == null ? void 0 : H.x}`) || 0}`, b = `${parseFloat(`${(K = r.orientation.position) == null ? void 0 : K.x}`) || 0}`, y = `${parseFloat(`${(z = r.orientation.position) == null ? void 0 : z.y}`) || 0}`, v = 0, S = 100, w = ($, D = !1) => {
    const I = _M($);
    s(I), n == null || n(So({ name: d, orientation: g, stops: I }), D);
  }, C = ($, D = !1) => {
    n == null || n(So({ stops: o, name: d, orientation: `${$}deg` }), D);
  }, x = ($, D = !1) => {
    n == null || n(So({ stops: o, name: d, orientation: `${$}px at ${b}% ${y}%` }), D);
  }, E = ($, D = !1) => {
    n == null || n(So({ stops: o, name: d, orientation: `${m}px at ${$}% ${y}%` }), D);
  }, O = ($, D = !1) => {
    n == null || n(So({ stops: o, name: d, orientation: `${m}px at ${b}% ${$}%` }), D);
  }, T = ($) => {
    const D = `${$ ? "repeating-" : ""}${p ? "radial" : "linear"}-gradient`;
    n == null || n(So({ stops: o, orientation: g, name: D }));
  }, P = ($) => {
    const D = `${f ? "repeating-" : ""}${$ ? "radial" : "linear"}-gradient`;
    n == null || n(So({ stops: o, orientation: $ ? "100px at 50% 50%" : "90deg", name: D }));
  };
  G(() => {
    if (!i)
      return;
    const $ = parseFloat(`${i.stop.hint}`), D = (U) => {
      let Q = (U.clientX - i.x) * 100;
      Q = Q / i.w, Q = $ + Q, Q = Q < v ? v : Q, Q = Q > S ? S : Q, i.stop.hint = parseInt(`${Q}`, 10), w(o, !0);
    }, I = () => {
      a(null), w(o);
    };
    return window.addEventListener("pointermove", D), window.addEventListener("pointerup", I), () => {
      window.removeEventListener("pointermove", D), window.removeEventListener("pointerup", I), I();
    };
  }, [i]);
  const A = ($, D) => {
    const I = l.current;
    a({
      stop: D,
      w: (I == null ? void 0 : I.clientWidth) || 0,
      h: (I == null ? void 0 : I.clientHeight) || 0,
      x: $.clientX,
      y: $.clientY
    });
  }, _ = ($) => {
    const D = l.current, I = (D == null ? void 0 : D.clientWidth) || 0, U = (D == null ? void 0 : D.clientHeight) || 0, ne = $.nativeEvent.offsetX - ((D == null ? void 0 : D.clientLeft) || 0), Q = $.nativeEvent.offsetY - ((D == null ? void 0 : D.clientTop) || 0), re = ne / I * 100, ie = document.createElement("canvas"), oe = ie.getContext("2d");
    if (!oe)
      return;
    ie.width = I, ie.height = U;
    const X = oe.createLinearGradient(0, 0, I, U);
    o.forEach((Se) => X.addColorStop(parseFloat(`${Se.hint}`) / 100, Se.color)), oe.fillStyle = X, oe.fillRect(0, 0, ie.width, ie.height), ie.style.background = "black";
    const ee = oe.getImageData(ne, Q, 1, 1).data, de = ee[3] ? (100 / 255 * ee[3] / 100).toFixed(2) : 0, me = `rgba(${ee[0]}, ${ee[1]}, ${ee[2]}, ${de})`, Ee = me === "rgba(0, 0, 0, 0)" ? "#000" : me;
    w([...o, { color: Ee, hint: re }]);
  }, M = ($) => {
    w(o.filter((D) => D !== $));
  }, V = ($, D, I) => {
    D && ($.color = D), w(o, I);
  }, N = ($) => (i == null ? void 0 : i.stop) === $;
  return /* @__PURE__ */ L(R, { className: c, col: !0, children: [
    !!(i != null && i.stop) && /* @__PURE__ */ u("div", { className: Y("fixed inset-0 z-50 cursor-colr") }),
    /* @__PURE__ */ L("div", { className: Y("relative gjs-mb-6 gjs-mt-3"), children: [
      /* @__PURE__ */ u("div", { className: Y("bg-checker h-8", le.rnd), children: /* @__PURE__ */ u(
        "div",
        {
          ref: l,
          className: Y("w-full h-full cursor-cross", le.b, le.rnd, F.br),
          style: { backgroundImage: So({ stops: o }) },
          onClick: _
        }
      ) }),
      o.map(($, D) => /* @__PURE__ */ L("div", { className: Y("absolute top-0 h-full"), style: { left: `${$.hint}%` }, children: [
        /* @__PURE__ */ u(
          "div",
          {
            className: Y("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),
            onClick: () => M($),
            children: /* @__PURE__ */ u(ae, { icon: Z.close, size: fe.s3x })
          }
        ),
        /* @__PURE__ */ u(
          "div",
          {
            onPointerDown: (I) => A(I, $),
            className: Y(
              "h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",
              le.br,
              le.bl,
              N($) ? "gjs-bg-white" : "gjs-bg-black"
            )
          }
        ),
        /* @__PURE__ */ u("div", { className: Y("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"), children: /* @__PURE__ */ u(
          Vy,
          {
            value: $.color,
            onChange: (I, U) => V($, I, U),
            className: Y("h-4 w-4 gjs-rounded-full gjs-border-2")
          }
        ) })
      ] }, D))
    ] }),
    /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(La, { label: "Repeat", value: f, onChange: T }) }),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(La, { label: "Radial", value: p, onChange: P }) })
    ] }),
    p ? /* @__PURE__ */ L(R, { space: "s", col: !0, children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(R, { space: "s", items: "center", children: /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { pan: "S", size: "s", value: m, onChange: x, valueUnit: "px", units: ["px"] }) }) }) }),
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ L(R, { space: "s", children: [
        /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { pan: "X", size: "s", value: b, onChange: E, valueUnit: "%", units: ["%"] }) }),
        /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { pan: "Y", size: "s", value: y, onChange: O, valueUnit: "%", units: ["%"] }) })
      ] }) })
    ] }) : /* @__PURE__ */ u(R, { space: "s", items: "center", nowrap: !0, children: /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { pan: "A", size: "s", value: h, onChange: C, valueUnit: "deg", units: ["deg"] }) }) })
  ] });
}
function Do(e) {
  return ["data-variable", "data-condition"].includes((e == null ? void 0 : e.type) ?? "");
}
const NM = (e) => {
  const { value: t = {}, onConfirm: n, additionalSources: r, editor: o } = e;
  if (!o)
    return;
  const s = "DataValuePicker", i = {
    id: s,
    header: !1,
    layout: {
      type: "panelDataValuePicker",
      value: t,
      onConfirm: ({ value: a }) => {
        n == null || n(a), o.runCommand(he.layoutRemove, { id: s });
      },
      additionalSources: r
    },
    placer: {
      type: "dialog",
      size: "l"
    }
  };
  o.runCommand(he.layoutToggle, { ...i });
};
function Hy(e) {
  const {
    initialDataValue: t,
    handleDataValueChange: n,
    handleValueClear: r,
    editor: o,
    additionalSources: s,
    enableDataValue: i,
    hasDataResolverValue: a
  } = e;
  if (!o || !i)
    return [];
  const l = {
    type: "button",
    className: a ? F.tAo : "",
    variant: "out-clear",
    size: "x2s",
    block: !0,
    border: !1
  }, c = [
    {
      ...l,
      title: o.I18n.t("dataSources.connectDataValue"),
      icon: { icon: Z.databaseOutline, size: fe.s2x },
      onClick: () => NM({
        value: t,
        onConfirm: n,
        additionalSources: s,
        editor: o
      })
    }
  ];
  return a && c.push({
    ...l,
    title: o.I18n.t("dataSources.clearDataValue"),
    icon: { icon: Z.close, size: fe.s2x },
    onClick: r
  }), c;
}
const _g = "gs-cmp-accordion", Gp = `${_g}-handler`, Ll = `${Gp}__content`, kM = `${_g}-content`;
function js({
  className: e,
  classNameWrap: t,
  classNameContent: n,
  style: r,
  handler: o,
  handlerIcon: s,
  children: i,
  inverted: a,
  disabled: l,
  sticky: c,
  onChange: d,
  open: p
}) {
  return /* @__PURE__ */ u(id, { as: "div", defaultOpen: p, className: Y(_g, t, "relative"), children: ({ open: f }) => /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(
      id.Button,
      {
        as: l ? "div" : "button",
        disabled: l,
        style: r,
        onClick: (g) => d == null ? void 0 : d({ event: g, open: !f }),
        className: ({ open: g }) => k(
          Gp,
          it(e) ? e(g) : e,
          c && "gs-utl-sticky gs-utl-top-0 gs-utl-z-10",
          "gs-utl-w-full"
        ),
        children: ({ open: g }) => /* @__PURE__ */ L(R, { items: "center", className: Y("gap-2"), full: !0, children: [
          /* @__PURE__ */ u(j, { className: Y(Ll, "text-left"), grow: !0, children: it(o) ? o(g) : /* @__PURE__ */ L(R, { items: "center", className: Y(`${Ll}-wrp`, "gap-3"), nowrap: !0, children: [
            !!s && /* @__PURE__ */ u(ae, { className: Y(`${Ll}-icon`), icon: s, size: fe.s2x }),
            /* @__PURE__ */ u(j, { className: Y(`${Ll}-label gs-utl-w-full`), children: o })
          ] }) }),
          /* @__PURE__ */ u(j, { className: Y(`${Gp}-toggle`, a && "-order-1", l && "gs-utl-hidden"), children: /* @__PURE__ */ u(
            ae,
            {
              icon: Z.chevronDown,
              className: Y("w-5 h-5 transition-transform", g && "rotate-180")
            }
          ) })
        ] })
      }
    ),
    /* @__PURE__ */ u(id.Panel, { className: Y(kM, n), children: i })
  ] }) });
}
function Eo({
  label: e,
  property: t,
  hasValue: n,
  empty: r,
  onClear: o,
  children: s,
  shallow: i,
  row: a,
  tooltip: l,
  skipClear: c,
  className: d,
  ...p
}) {
  const f = e || (t == null ? void 0 : t.getLabel()), g = t == null ? void 0 : t.getParentTarget(), h = n || !r && (t == null ? void 0 : t.hasValue({ noParent: !0 })), m = !h && (t == null ? void 0 : t.hasValue()) && g, b = g == null ? void 0 : g.getDevice(), y = g == null ? void 0 : g.getState(), v = g == null ? void 0 : g.getComponent(), S = () => o ? o() : t == null ? void 0 : t.clear(), w = {
    className: k(d, "gs-utl-text-sm gs-utl-w-full"),
    col: !a,
    items: a ? "center" : void 0,
    ...p
  }, C = k("gs-utl-flex-1", h && !i && F.tAo);
  return t && !t.isVisible() ? null : /* @__PURE__ */ L(R, { gap: "xs", ...w, children: [
    /* @__PURE__ */ L(R, { className: C, as: "label", items: "center", gap: "xs", nowrap: !0, children: [
      l && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Kt, { title: l, children: /* @__PURE__ */ u(ae, { icon: Z.information, size: fe.sx }) }) }),
      /* @__PURE__ */ u(j, { children: r ? /* @__PURE__ */ u("span", { children: "" }) : f }),
      !!m && !i && /* @__PURE__ */ u(
        Kt,
        {
          title: /* @__PURE__ */ L(pe, { children: [
            /* @__PURE__ */ u("div", { className: k("gs-utl-mb-1"), children: "Value inherited from" }),
            !!b && /* @__PURE__ */ L(R, { gap: "s", children: [
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: Z.cellphoneLink, size: fe.sx }) }),
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("b", { children: b.getName() }) })
            ] }),
            /* @__PURE__ */ L(R, { gap: "s", children: [
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: v ? Z.targetVariant : Z.tag, size: fe.sx }) }),
              /* @__PURE__ */ L(j, { children: [
                /* @__PURE__ */ u("b", { children: v ? "Components" : "Selectors" }),
                /* @__PURE__ */ L("span", { className: k("gs-utl-text-xs gs-utl-opacity-75"), children: [
                  " ",
                  g == null ? void 0 : g.selectorsToString({ skipState: 1 })
                ] })
              ] })
            ] }),
            !!y && /* @__PURE__ */ L(R, { gap: "s", children: [
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: Z.flare, size: fe.sx }) }),
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("b", { children: y.getLabel() }) })
            ] })
          ] }),
          children: /* @__PURE__ */ u("div", { className: k("gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full", F.bgW) })
        }
      ),
      h && !i && !c && /* @__PURE__ */ u(Kt, { title: "Clear value", onClick: S, children: /* @__PURE__ */ u(ae, { className: De.click, icon: Z.close, size: fe.s2x }) })
    ] }),
    !!s && /* @__PURE__ */ u(j, { grow: !0, className: "gs-utl-max-w-full", children: s })
  ] });
}
function sn(e) {
  const { className: t, options: n, name: r, value: o, size: s = "m", required: i, disabled: a, onChange: l, labelAs: c } = e, d = (g) => {
    const h = n.filter((m) => m.id === g)[0];
    return n.indexOf(h) === n.length - 1;
  }, p = (g, h) => k(
    "gs-utl-cursor-pointer",
    s === "m" && Ve.xy,
    s === "s" && "gs-utl-px-2 gs-utl-py-1 text-sm",
    s === "xs" && "gs-utl-p-1 text-sm",
    F.br,
    g && F.bgO,
    !d(h) && le.br
  ), f = qo({ ...e, className: "gs-field-buttons" });
  return /* @__PURE__ */ L(Ih, { value: o, onChange: l, disabled: a, ...f, children: [
    /* @__PURE__ */ u(mr, { ...e, as: c }),
    r && /* @__PURE__ */ u("input", { type: "hidden", name: r, value: o, required: i }),
    /* @__PURE__ */ u(R, { className: k(t, le.b, le.rnd, F.br, "gs-utl-cursor-pointer"), items: "center", full: !0, nowrap: !0, children: n.map(({ id: g, label: h, title: m, icon: b }) => /* @__PURE__ */ u(Kt, { title: m, className: k("gs-utl-w-full"), classNameWrp: k("gs-utl-flex-1"), children: /* @__PURE__ */ u(Ih.Option, { value: g, className: ({ checked: y }) => p(y, g), children: /* @__PURE__ */ L(R, { justify: "center", gap: "s", full: !0, children: [
      !!b && /* @__PURE__ */ u(ae, { ...ut(b) ? { icon: b, size: fe.s } : b }),
      h && /* @__PURE__ */ u(j, { children: h })
    ] }) }) }, g)) })
  ] });
}
const MM = "gs-cmp-color-field";
function go(e) {
  const { className: t, value: n, placeholder: r, preventSubmitOnEnter: o = !1, onChange: s, labelAs: i, disabled: a } = e, [l, c] = W(xc(n)), d = rl(e);
  G(() => {
    c(xc(n));
  }, [n]);
  const p = (m, b) => {
    s == null || s(m, b);
  }, f = (m) => {
    switch (m.key) {
      case "Escape":
        return c(n);
      case "Enter":
        p(l), o && (m.preventDefault(), m.stopPropagation());
    }
  }, g = () => {
    p(l);
  }, h = qo({ ...e, className: k(MM, t) });
  return /* @__PURE__ */ L("div", { ...h, children: [
    /* @__PURE__ */ u(mr, { ...e, as: i }),
    /* @__PURE__ */ L(R, { className: ug(e), items: "center", space: "s", children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Vy, { value: n, onChange: s, disabled: a }) }),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
        "input",
        {
          className: k(d, a && "gs-utl-pointer-events-none"),
          value: l,
          onChange: (m) => c(m.target.value),
          placeholder: r,
          onBlur: g,
          onKeyDown: f,
          disabled: a
        }
      ) })
    ] })
  ] });
}
const ss = "gs-cmp-file-field";
function Na(e) {
  var C;
  const {
    className: t,
    value: n,
    btnLabel: r,
    nameLabel: o,
    size: s,
    isContain: i,
    clear: a,
    inputField: l,
    placeholder: c,
    preview: d = 50,
    disabled: p,
    hideButton: f,
    labelAs: g,
    onChange: h,
    onOpen: m
  } = e, b = (n || "").replace(/^"|"$/gi, ""), y = ((C = b.split("/").pop()) == null ? void 0 : C.split("?")[0]) || "", v = { minWidth: d, minHeight: d }, S = b ? { ...v, backgroundImage: `url("${b}")` } : v, w = k(
    " gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",
    i ? "gs-utl-bg-contain" : "gs-utl-bg-cover",
    le.b,
    le.rnd,
    F.br
  );
  return /* @__PURE__ */ L(R, { className: k(ss, t, "gs-utl-gap-1"), col: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(mr, { ...e, as: g }),
    /* @__PURE__ */ L(R, { className: k(`${ss}-content gs-utl-gap-1`, F.bg), items: "center", nowrap: !0, children: [
      /* @__PURE__ */ u(j, { className: k(`${ss}-preview`), children: /* @__PURE__ */ u("div", { className: w, style: S }) }),
      /* @__PURE__ */ L(j, { className: k(`${ss}-fields gs-utl-overflow-hidden`), grow: !0, children: [
        y && o !== !1 && /* @__PURE__ */ u(
          jo,
          {
            className: k(`${ss}-name`, "gs-utl-mb-2", De.txtEllips),
            as: "div",
            size: s,
            capitalize: !1,
            children: y
          }
        ),
        /* @__PURE__ */ L(R, { className: k(`${ss}-buttons`), space: "s", nowrap: !0, children: [
          !f && /* @__PURE__ */ u(Xe, { onClick: () => m == null ? void 0 : m(n), size: s, type: "button", block: !0, full: !0, disabled: p, children: r || "Select image" }),
          !!n && a && /* @__PURE__ */ u(
            _t,
            {
              onClick: () => h == null ? void 0 : h(""),
              title: a.tooltip,
              size: s,
              icon: { icon: Z.close, size: fe.s },
              type: "button",
              block: !0
            }
          )
        ] })
      ] })
    ] }),
    l && /* @__PURE__ */ u(
      at,
      {
        className: k(`${ss}-input`),
        value: b,
        onChange: h,
        size: s,
        placeholder: c
      }
    )
  ] });
}
const Pu = ce((e) => {
  const { buttonClassName: t, value: n, ...r } = e, { editor: o } = we(), s = Le(), i = $s(), a = il(), l = [...r.options || [], ...a.fontFamilyOptions].map((c) => {
    const d = a.getFont(c.id), p = d ? gg(d) : c.id;
    return {
      ...c,
      content: /* @__PURE__ */ u(R, { col: !0, children: /* @__PURE__ */ u(j, { style: { fontFamily: p }, children: c.label }) })
    };
  });
  return /* @__PURE__ */ u(
    Ne,
    {
      ...r,
      value: Os(n),
      options: l,
      afterLabel: a.sdkAddFonts && i.hasType("font") && /* @__PURE__ */ u(
        _t,
        {
          className: t,
          title: s.t("fontManager.addFontToProject"),
          icon: Z.plus,
          size: "xs",
          border: !1,
          block: !0,
          onClick: () => o && Pg(o, {
            onSelect: ({ assetProps: c }) => {
              const {
                customData: { font: d }
              } = c;
              r.onChange(Os(d.family));
            }
          })
        }
      )
    }
  );
});
function $M() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return ue(
    () => (r) => {
      t.forEach((o) => o(r));
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    t
  );
}
const Eu = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
function Li(e) {
  const t = Object.prototype.toString.call(e);
  return t === "[object Window]" || // In Electron context the Window object serializes to [object global]
  t === "[object global]";
}
function Ag(e) {
  return "nodeType" in e;
}
function Xo(e) {
  var t, n;
  return e ? Li(e) ? e : Ag(e) && (t = (n = e.ownerDocument) == null ? void 0 : n.defaultView) != null ? t : window : window;
}
function Lg(e) {
  const {
    Document: t
  } = Xo(e);
  return e instanceof t;
}
function Ni(e) {
  return Li(e) ? !1 : e instanceof Xo(e).HTMLElement;
}
function By(e) {
  return e instanceof Xo(e).SVGElement;
}
function ki(e) {
  return e ? Li(e) ? e.document : Ag(e) ? Lg(e) ? e : Ni(e) || By(e) ? e.ownerDocument : document : document : document;
}
const _s = Eu ? Fc : G;
function RM(e) {
  const t = q(e);
  return _s(() => {
    t.current = e;
  }), Et(function() {
    for (var n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.current == null ? void 0 : t.current(...r);
  }, []);
}
function IM() {
  const e = q(null), t = Et((r, o) => {
    e.current = setInterval(r, o);
  }, []), n = Et(() => {
    e.current !== null && (clearInterval(e.current), e.current = null);
  }, []);
  return [t, n];
}
function ll(e, t) {
  const n = q();
  return ue(
    () => {
      const r = e(n.current);
      return n.current = r, r;
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [...t]
  );
}
function Ng(e) {
  const t = RM(e), n = q(null), r = Et(
    (o) => {
      o !== n.current && (t == null || t(o, n.current)), n.current = o;
    },
    //eslint-disable-next-line
    []
  );
  return [n, r];
}
let Nd = {};
function cl(e, t) {
  return ue(() => {
    if (t)
      return t;
    const n = Nd[e] == null ? 0 : Nd[e] + 1;
    return Nd[e] = n, e + "-" + n;
  }, [e, t]);
}
function Fy(e) {
  return function(t) {
    for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)
      r[o - 1] = arguments[o];
    return r.reduce((s, i) => {
      const a = Object.entries(i);
      for (const [l, c] of a) {
        const d = s[l];
        d != null && (s[l] = d + e * c);
      }
      return s;
    }, {
      ...t
    });
  };
}
const ka = /* @__PURE__ */ Fy(1), zy = /* @__PURE__ */ Fy(-1);
function jM(e) {
  return "clientX" in e && "clientY" in e;
}
function VM(e) {
  if (!e)
    return !1;
  const {
    KeyboardEvent: t
  } = Xo(e.target);
  return t && e instanceof t;
}
function DM(e) {
  if (!e)
    return !1;
  const {
    TouchEvent: t
  } = Xo(e.target);
  return t && e instanceof t;
}
function Kp(e) {
  if (DM(e)) {
    if (e.touches && e.touches.length) {
      const {
        clientX: t,
        clientY: n
      } = e.touches[0];
      return {
        x: t,
        y: n
      };
    } else if (e.changedTouches && e.changedTouches.length) {
      const {
        clientX: t,
        clientY: n
      } = e.changedTouches[0];
      return {
        x: t,
        y: n
      };
    }
  }
  return jM(e) ? {
    x: e.clientX,
    y: e.clientY
  } : null;
}
const Ma = /* @__PURE__ */ Object.freeze({
  Translate: {
    toString(e) {
      if (!e)
        return;
      const {
        x: t,
        y: n
      } = e;
      return "translate3d(" + (t ? Math.round(t) : 0) + "px, " + (n ? Math.round(n) : 0) + "px, 0)";
    }
  },
  Scale: {
    toString(e) {
      if (!e)
        return;
      const {
        scaleX: t,
        scaleY: n
      } = e;
      return "scaleX(" + t + ") scaleY(" + n + ")";
    }
  },
  Transform: {
    toString(e) {
      if (e)
        return [Ma.Translate.toString(e), Ma.Scale.toString(e)].join(" ");
    }
  },
  Transition: {
    toString(e) {
      let {
        property: t,
        duration: n,
        easing: r
      } = e;
      return t + " " + n + "ms " + r;
    }
  }
}), HM = {
  display: "none"
};
function BM(e) {
  let {
    id: t,
    value: n
  } = e;
  return B.createElement("div", {
    id: t,
    style: HM
  }, n);
}
function FM(e) {
  let {
    id: t,
    announcement: n,
    ariaLiveType: r = "assertive"
  } = e;
  const o = {
    position: "fixed",
    width: 1,
    height: 1,
    margin: -1,
    border: 0,
    padding: 0,
    overflow: "hidden",
    clip: "rect(0 0 0 0)",
    clipPath: "inset(100%)",
    whiteSpace: "nowrap"
  };
  return B.createElement("div", {
    id: t,
    style: o,
    role: "status",
    "aria-live": r,
    "aria-atomic": !0
  }, n);
}
function zM() {
  const [e, t] = W("");
  return {
    announce: Et((r) => {
      r != null && t(r);
    }, []),
    announcement: e
  };
}
const UM = {
  draggable: `
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `
}, WM = {
  onDragStart(e) {
    return `Picked up draggable item ${e}.`;
  },
  onDragOver(e, t) {
    return t ? `Draggable item ${e} was moved over droppable area ${t}.` : `Draggable item ${e} is no longer over a droppable area.`;
  },
  onDragEnd(e, t) {
    return t ? `Draggable item ${e} was dropped over droppable area ${t}` : `Draggable item ${e} was dropped.`;
  },
  onDragCancel(e) {
    return `Dragging was cancelled. Draggable item ${e} was dropped.`;
  }
};
var bt;
(function(e) {
  e.DragStart = "dragStart", e.DragMove = "dragMove", e.DragEnd = "dragEnd", e.DragCancel = "dragCancel", e.DragOver = "dragOver", e.RegisterDroppable = "registerDroppable", e.SetDroppableDisabled = "setDroppableDisabled", e.UnregisterDroppable = "unregisterDroppable";
})(bt || (bt = {}));
function kd(...e) {
}
class aa extends Map {
  get(t) {
    var n;
    return t != null && (n = super.get(t)) != null ? n : void 0;
  }
  toArray() {
    return Array.from(this.values());
  }
  getEnabled() {
    return this.toArray().filter(({
      disabled: t
    }) => !t);
  }
  getNodeFor(t) {
    var n, r;
    return (n = (r = this.get(t)) == null ? void 0 : r.node.current) != null ? n : void 0;
  }
}
const Tu = /* @__PURE__ */ Je({
  activatorEvent: null,
  active: null,
  activeNode: null,
  activeNodeRect: null,
  activeNodeClientRect: null,
  activators: [],
  ariaDescribedById: {
    draggable: ""
  },
  containerNodeRect: null,
  dispatch: kd,
  draggableNodes: {},
  droppableRects: /* @__PURE__ */ new Map(),
  droppableContainers: /* @__PURE__ */ new aa(),
  over: null,
  dragOverlay: {
    nodeRef: {
      current: null
    },
    rect: null,
    setRef: kd
  },
  scrollableAncestors: [],
  scrollableAncestorRects: [],
  recomputeLayouts: kd,
  windowRect: null,
  willRecomputeLayouts: !1
});
function GM() {
  return {
    draggable: {
      active: null,
      initialCoordinates: {
        x: 0,
        y: 0
      },
      nodes: {},
      translate: {
        x: 0,
        y: 0
      }
    },
    droppable: {
      containers: new aa()
    }
  };
}
function KM(e, t) {
  switch (t.type) {
    case bt.DragStart:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          initialCoordinates: t.initialCoordinates,
          active: t.active
        }
      };
    case bt.DragMove:
      return e.draggable.active ? {
        ...e,
        draggable: {
          ...e.draggable,
          translate: {
            x: t.coordinates.x - e.draggable.initialCoordinates.x,
            y: t.coordinates.y - e.draggable.initialCoordinates.y
          }
        }
      } : e;
    case bt.DragEnd:
    case bt.DragCancel:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          active: null,
          initialCoordinates: {
            x: 0,
            y: 0
          },
          translate: {
            x: 0,
            y: 0
          }
        }
      };
    case bt.RegisterDroppable: {
      const {
        element: n
      } = t, {
        id: r
      } = n, o = new aa(e.droppable.containers);
      return o.set(r, n), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: o
        }
      };
    }
    case bt.SetDroppableDisabled: {
      const {
        id: n,
        key: r,
        disabled: o
      } = t, s = e.droppable.containers.get(n);
      if (!s || r !== s.key)
        return e;
      const i = new aa(e.droppable.containers);
      return i.set(n, {
        ...s,
        disabled: o
      }), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: i
        }
      };
    }
    case bt.UnregisterDroppable: {
      const {
        id: n,
        key: r
      } = t, o = e.droppable.containers.get(n);
      if (!o || r !== o.key)
        return e;
      const s = new aa(e.droppable.containers);
      return s.delete(n), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: s
        }
      };
    }
    default:
      return e;
  }
}
const Uy = /* @__PURE__ */ Je({
  type: null,
  event: null
});
function qM({
  onDragStart: e,
  onDragMove: t,
  onDragOver: n,
  onDragEnd: r,
  onDragCancel: o
}) {
  const s = He(Uy), i = q(s);
  G(() => {
    if (s !== i.current) {
      const {
        type: a,
        event: l
      } = s;
      switch (a) {
        case bt.DragStart:
          e == null || e(l);
          break;
        case bt.DragMove:
          t == null || t(l);
          break;
        case bt.DragOver:
          n == null || n(l);
          break;
        case bt.DragCancel:
          o == null || o(l);
          break;
        case bt.DragEnd:
          r == null || r(l);
          break;
      }
      i.current = s;
    }
  }, [s, e, t, n, r, o]);
}
function YM({
  announcements: e = WM,
  hiddenTextDescribedById: t,
  screenReaderInstructions: n
}) {
  const {
    announce: r,
    announcement: o
  } = zM(), s = cl("DndLiveRegion"), [i, a] = W(!1);
  return G(() => {
    a(!0);
  }, []), qM(ue(() => ({
    onDragStart({
      active: l
    }) {
      r(e.onDragStart(l.id));
    },
    onDragMove({
      active: l,
      over: c
    }) {
      e.onDragMove && r(e.onDragMove(l.id, c == null ? void 0 : c.id));
    },
    onDragOver({
      active: l,
      over: c
    }) {
      r(e.onDragOver(l.id, c == null ? void 0 : c.id));
    },
    onDragEnd({
      active: l,
      over: c
    }) {
      r(e.onDragEnd(l.id, c == null ? void 0 : c.id));
    },
    onDragCancel({
      active: l
    }) {
      r(e.onDragCancel(l.id));
    }
  }), [r, e])), i ? df(B.createElement(B.Fragment, null, B.createElement(BM, {
    id: t,
    value: n.draggable
  }), B.createElement(FM, {
    id: s,
    announcement: o
  })), document.body) : null;
}
const ho = /* @__PURE__ */ Object.freeze({
  x: 0,
  y: 0
});
function Wy(e, t) {
  return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
}
function qm(e, t = e.offsetLeft, n = e.offsetTop) {
  return {
    x: t + e.width * 0.5,
    y: n + e.height * 0.5
  };
}
const ZM = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  const n = qm(e, e.left, e.top);
  let r = 1 / 0, o = null;
  for (const s of t) {
    const {
      rect: {
        current: i
      }
    } = s;
    if (i) {
      const a = Wy(qm(i), n);
      a < r && (r = a, o = s.id);
    }
  }
  return o;
};
function XM(e, t, n) {
  return {
    ...e,
    scaleX: t && n ? t.width / n.width : 1,
    scaleY: t && n ? t.height / n.height : 1
  };
}
function JM(e, t) {
  return e && t ? {
    x: e.left - t.left,
    y: e.top - t.top
  } : ho;
}
function QM(e) {
  return function(n, ...r) {
    return r.reduce((o, s) => ({
      ...o,
      top: o.top + e * s.y,
      bottom: o.bottom + e * s.y,
      left: o.left + e * s.x,
      right: o.right + e * s.x,
      offsetLeft: o.offsetLeft + e * s.x,
      offsetTop: o.offsetTop + e * s.y
    }), {
      ...n
    });
  };
}
const Ym = /* @__PURE__ */ QM(1);
function e$(e, t = window.getComputedStyle(e)) {
  return t.position === "fixed";
}
function t$(e, t = window.getComputedStyle(e)) {
  const n = /(auto|scroll|overlay)/;
  return ["overflow", "overflowX", "overflowY"].find((o) => {
    const s = t[o];
    return typeof s == "string" ? n.test(s) : !1;
  }) != null;
}
function kg(e) {
  const t = [];
  function n(r) {
    if (!r)
      return t;
    if (Lg(r) && r.scrollingElement != null && !t.includes(r.scrollingElement))
      return t.push(r.scrollingElement), t;
    if (!Ni(r) || By(r) || t.includes(r))
      return t;
    const o = window.getComputedStyle(r);
    return t$(r, o) && t.push(r), e$(r, o) ? t : n(r.parentNode);
  }
  return e ? n(e.parentNode) : t;
}
function Md(e) {
  return !Eu || !e ? null : Li(e) ? e : Ag(e) ? Lg(e) || e === ki(e).scrollingElement ? window : Ni(e) ? e : null : null;
}
function qp(e) {
  return Li(e) ? {
    x: e.scrollX,
    y: e.scrollY
  } : {
    x: e.scrollLeft,
    y: e.scrollTop
  };
}
var Js;
(function(e) {
  e[e.Forward = 1] = "Forward", e[e.Backward = -1] = "Backward";
})(Js || (Js = {}));
function Gy(e) {
  const t = {
    x: 0,
    y: 0
  }, n = {
    x: e.scrollWidth - e.clientWidth,
    y: e.scrollHeight - e.clientHeight
  }, r = e.scrollTop <= t.y, o = e.scrollLeft <= t.x, s = e.scrollTop >= n.y, i = e.scrollLeft >= n.x;
  return {
    isTop: r,
    isLeft: o,
    isBottom: s,
    isRight: i,
    maxScroll: n,
    minScroll: t
  };
}
function n$(e) {
  return !Eu || !e ? !1 : e === document.scrollingElement;
}
const r$ = {
  x: 0.2,
  y: 0.2
};
function o$(e, t, {
  top: n,
  left: r,
  right: o,
  bottom: s
}, i = 10, a = r$) {
  const {
    clientHeight: l,
    clientWidth: c
  } = e, d = n$(e) ? {
    top: 0,
    left: 0,
    right: c,
    bottom: l,
    width: c,
    height: l
  } : t, {
    isTop: p,
    isBottom: f,
    isLeft: g,
    isRight: h
  } = Gy(e), m = {
    x: 0,
    y: 0
  }, b = {
    x: 0,
    y: 0
  }, y = {
    height: d.height * a.y,
    width: d.width * a.x
  };
  return !p && n <= d.top + y.height ? (m.y = Js.Backward, b.y = i * Math.abs((d.top + y.height - n) / y.height)) : !f && s >= d.bottom - y.height && (m.y = Js.Forward, b.y = i * Math.abs((d.bottom - y.height - s) / y.height)), !h && o >= d.right - y.width ? (m.x = Js.Forward, b.x = i * Math.abs((d.right - y.width - o) / y.width)) : !g && r <= d.left + y.width && (m.x = Js.Backward, b.x = i * Math.abs((d.left + y.width - r) / y.width)), {
    direction: m,
    speed: b
  };
}
function s$(e) {
  if (e === document.scrollingElement) {
    const {
      innerWidth: s,
      innerHeight: i
    } = window;
    return {
      top: 0,
      left: 0,
      right: s,
      bottom: i,
      width: s,
      height: i
    };
  }
  const {
    top: t,
    left: n,
    right: r,
    bottom: o
  } = e.getBoundingClientRect();
  return {
    top: t,
    left: n,
    right: r,
    bottom: o,
    width: e.clientWidth,
    height: e.clientHeight
  };
}
function Ky(e) {
  return e.reduce((t, n) => ka(t, qp(n)), ho);
}
function qy(e, t, n = ho) {
  if (!e || !Ni(e))
    return n;
  const r = {
    x: n.x + e.offsetLeft,
    y: n.y + e.offsetTop
  };
  return e.offsetParent === t ? r : qy(e.offsetParent, t, r);
}
function Ou(e) {
  const {
    offsetWidth: t,
    offsetHeight: n
  } = e, {
    x: r,
    y: o
  } = qy(e, null);
  return {
    width: t,
    height: n,
    offsetTop: o,
    offsetLeft: r
  };
}
function _u(e) {
  if (Li(e)) {
    const c = window.innerWidth, d = window.innerHeight;
    return {
      top: 0,
      left: 0,
      right: c,
      bottom: d,
      width: c,
      height: d,
      offsetTop: 0,
      offsetLeft: 0
    };
  }
  const {
    offsetTop: t,
    offsetLeft: n
  } = Ou(e), {
    width: r,
    height: o,
    top: s,
    bottom: i,
    left: a,
    right: l
  } = e.getBoundingClientRect();
  return {
    width: r,
    height: o,
    top: s,
    bottom: i,
    right: l,
    left: a,
    offsetTop: t,
    offsetLeft: n
  };
}
function Yp(e) {
  const {
    width: t,
    height: n,
    offsetTop: r,
    offsetLeft: o
  } = Ou(e), s = kg(e), i = Ky(s), a = r - i.y, l = o - i.x;
  return {
    width: t,
    height: n,
    top: a,
    bottom: a + n,
    right: l + t,
    left: l,
    offsetTop: r,
    offsetLeft: o
  };
}
function Zm(e) {
  return "top" in e;
}
function Xm(e, t = e.offsetLeft, n = e.offsetTop) {
  return [{
    x: t,
    y: n
  }, {
    x: t + e.width,
    y: n
  }, {
    x: t,
    y: n + e.height
  }, {
    x: t + e.width,
    y: n + e.height
  }];
}
const i$ = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  let n = 1 / 0, r = null;
  const o = Xm(e, e.left, e.top);
  for (const s of t) {
    const {
      rect: {
        current: i
      }
    } = s;
    if (i) {
      const a = Xm(i, Zm(i) ? i.left : void 0, Zm(i) ? i.top : void 0), l = o.reduce((d, p, f) => d + Wy(a[f], p), 0), c = Number((l / 4).toFixed(4));
      c < n && (n = c, r = s.id);
    }
  }
  return r;
};
function a$(e, t) {
  const n = Math.max(t.top, e.offsetTop), r = Math.max(t.left, e.offsetLeft), o = Math.min(t.left + t.width, e.offsetLeft + e.width), s = Math.min(t.top + t.height, e.offsetTop + e.height), i = o - r, a = s - n;
  if (r < o && n < s) {
    const l = t.width * t.height, c = e.width * e.height, d = i * a, p = d / (l + c - d);
    return Number(p.toFixed(4));
  }
  return 0;
}
const l$ = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  let n = 0, r = null;
  for (const o of t) {
    const {
      rect: {
        current: s
      }
    } = o;
    if (s) {
      const i = a$(s, e);
      i > n && (n = i, r = o.id);
    }
  }
  return r;
};
var la;
(function(e) {
  e[e.Pointer = 0] = "Pointer", e[e.DraggableRect = 1] = "DraggableRect";
})(la || (la = {}));
var Ac;
(function(e) {
  e[e.TreeOrder = 0] = "TreeOrder", e[e.ReversedTreeOrder = 1] = "ReversedTreeOrder";
})(Ac || (Ac = {}));
function c$({
  acceleration: e,
  activator: t = la.Pointer,
  canScroll: n,
  draggingRect: r,
  enabled: o,
  interval: s = 5,
  order: i = Ac.TreeOrder,
  pointerCoordinates: a,
  scrollableAncestors: l,
  scrollableAncestorRects: c,
  threshold: d
}) {
  const [p, f] = IM(), g = q({
    x: 1,
    y: 1
  }), h = ue(() => {
    switch (t) {
      case la.Pointer:
        return a ? {
          top: a.y,
          bottom: a.y,
          left: a.x,
          right: a.x
        } : null;
      case la.DraggableRect:
        return r;
    }
    return null;
  }, [t, r, a]), m = q(ho), b = q(null), y = Et(() => {
    const S = b.current;
    if (!S)
      return;
    const w = g.current.x * m.current.x, C = g.current.y * m.current.y;
    S.scrollBy(w, C);
  }, []), v = ue(() => i === Ac.TreeOrder ? [...l].reverse() : l, [i, l]);
  G(
    () => {
      if (!o || !l.length || !h) {
        f();
        return;
      }
      for (const S of v) {
        if ((n == null ? void 0 : n(S)) === !1)
          continue;
        const w = l.indexOf(S), C = c[w];
        if (!C)
          continue;
        const {
          direction: x,
          speed: E
        } = o$(S, C, h, e, d);
        if (E.x > 0 || E.y > 0) {
          f(), b.current = S, p(y, s), g.current = E, m.current = x;
          return;
        }
      }
      g.current = {
        x: 0,
        y: 0
      }, m.current = {
        x: 0,
        y: 0
      }, f();
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      e,
      y,
      n,
      f,
      o,
      s,
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(h),
      p,
      l,
      v,
      c,
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(d)
    ]
  );
}
function u$(e, t) {
  const n = t !== null ? e[t] : void 0, r = n ? n.node.current : null;
  return ll((o) => {
    var s;
    return t === null ? null : (s = r ?? o) != null ? s : null;
  }, [r, t]);
}
function d$(e, t) {
  return ue(() => e.reduce((n, r) => {
    const {
      sensor: o
    } = r, s = o.activators.map((i) => ({
      eventName: i.eventName,
      handler: t(i.handler, r)
    }));
    return [...n, ...s];
  }, []), [e, t]);
}
function Yy(e) {
  const t = q(e);
  return _s(() => {
    t.current !== e && (t.current = e);
  }, [e]), t;
}
var $a;
(function(e) {
  e[e.Always = 0] = "Always", e[e.BeforeDragging = 1] = "BeforeDragging", e[e.WhileDragging = 2] = "WhileDragging";
})($a || ($a = {}));
var Zp;
(function(e) {
  e.Optimized = "optimized";
})(Zp || (Zp = {}));
const Jm = /* @__PURE__ */ new Map(), p$ = {
  measure: Ou,
  strategy: $a.WhileDragging,
  frequency: Zp.Optimized
};
function f$(e, {
  dragging: t,
  dependencies: n,
  config: r
}) {
  const [o, s] = W(!1), {
    frequency: i,
    measure: a,
    strategy: l
  } = {
    ...p$,
    ...r
  }, c = q(e), d = Et(() => s(!0), []), p = q(null), f = h(), g = ll((m) => {
    if (f && !t)
      return Jm;
    if (!m || m === Jm || c.current !== e || o) {
      for (let b of e)
        b && (b.rect.current = b.node.current ? a(b.node.current) : null);
      return g$(e);
    }
    return m;
  }, [e, t, f, a, o]);
  return G(() => {
    c.current = e;
  }, [e]), G(() => {
    o && s(!1);
  }, [o]), G(
    function() {
      f || requestAnimationFrame(d);
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [t, f]
  ), G(
    function() {
      f || typeof i != "number" || p.current !== null || (p.current = setTimeout(() => {
        d(), p.current = null;
      }, i));
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [i, f, d, ...n]
  ), {
    layoutRectMap: g,
    recomputeLayouts: d,
    willRecomputeLayouts: o
  };
  function h() {
    switch (l) {
      case $a.Always:
        return !1;
      case $a.BeforeDragging:
        return t;
      default:
        return !t;
    }
  }
}
function g$(e) {
  const t = /* @__PURE__ */ new Map();
  if (e)
    for (const n of e) {
      if (!n)
        continue;
      const {
        id: r,
        rect: o
      } = n;
      o.current != null && t.set(r, o.current);
    }
  return t;
}
function h$(e) {
  const [t, n] = W(null), r = q(e), o = Et((s) => {
    const i = Md(s.target);
    i && n((a) => a ? (a.set(i, qp(i)), new Map(a)) : null);
  }, []);
  return G(() => {
    const s = r.current;
    if (e !== s) {
      i(s);
      const a = e.map((l) => {
        const c = Md(l);
        return c ? (c.addEventListener("scroll", o, {
          passive: !0
        }), [c, qp(c)]) : null;
      }).filter((l) => l != null);
      n(a.length ? new Map(a) : null), r.current = e;
    }
    return () => {
      i(e), i(s);
    };
    function i(a) {
      a.forEach((l) => {
        const c = Md(l);
        c == null || c.removeEventListener("scroll", o);
      });
    }
  }, [o, e]), ue(() => e.length ? t ? Array.from(t.values()).reduce((s, i) => ka(s, i), ho) : Ky(e) : ho, [e, t]);
}
const m$ = [];
function b$(e) {
  const t = q(e), n = ll((r) => e ? r && e && t.current && e.parentNode === t.current.parentNode ? r : kg(e) : m$, [e]);
  return G(() => {
    t.current = e;
  }, [e]), n;
}
function v$(e) {
  G(
    () => {
      if (!Eu)
        return;
      const t = e.map(({
        sensor: n
      }) => n.setup == null ? void 0 : n.setup());
      return () => {
        for (const n of t)
          n == null || n();
      };
    },
    // TO-DO: Sensors lenght could theoretically change which would not be a valid dependency
    // eslint-disable-next-line react-hooks/exhaustive-deps
    e.map(({
      sensor: t
    }) => t)
  );
}
function y$(e, t) {
  return ue(() => e.reduce((n, {
    eventName: r,
    handler: o
  }) => (n[r] = (s) => {
    o(s, t);
  }, n), {}), [e, t]);
}
const $d = /* @__PURE__ */ Xy(_u), w$ = /* @__PURE__ */ S$(_u);
function Zy(e, t, n) {
  const r = q(e);
  return ll((o) => e ? n || !o && e || e !== r.current ? Ni(e) && e.parentNode == null ? null : t(e) : o ?? null : null, [e, n, t]);
}
function Xy(e) {
  return (t, n) => Zy(t, e, n);
}
function S$(e) {
  const t = [];
  return function(r, o) {
    const s = q(r);
    return ll((i) => r.length ? o || !i && r.length || r !== s.current ? r.map((a) => e(a)) : i ?? t : t, [r, o]);
  };
}
function C$(e) {
  if (!e)
    return null;
  if (e.children.length > 1)
    return e;
  const t = e.children[0];
  return Ni(t) ? t : e;
}
function x$(e) {
  const {
    width: t,
    height: n,
    offsetLeft: r,
    offsetTop: o
  } = Ou(e);
  return {
    top: o,
    bottom: o + n,
    left: r,
    right: r + t,
    width: t,
    height: n,
    offsetTop: o,
    offsetLeft: r
  };
}
const P$ = /* @__PURE__ */ Xy(x$);
function E$({
  disabled: e,
  forceRecompute: t
}) {
  const [n, r] = Ng(), o = P$(e ? null : C$(n.current), t);
  return ue(() => ({
    nodeRef: n,
    rect: o,
    setRef: r
  }), [o, n, r]);
}
function Qm(e, t) {
  return ue(
    () => ({
      sensor: e,
      options: t ?? {}
    }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [e, t]
  );
}
function T$(...e) {
  return ue(
    () => [...e].filter((t) => t != null),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [...e]
  );
}
class ca {
  constructor(t) {
    this.target = t, this.listeners = [], this.removeAll = () => {
      this.listeners.forEach((n) => {
        var r;
        return (r = this.target) == null ? void 0 : r.removeEventListener(...n);
      });
    };
  }
  add(t, n, r) {
    var o;
    (o = this.target) == null || o.addEventListener(t, n, r), this.listeners.push([t, n, r]);
  }
}
function O$(e) {
  const {
    EventTarget: t
  } = Xo(e);
  return e instanceof t ? e : ki(e);
}
function Rd(e, t) {
  const n = Math.abs(e.x), r = Math.abs(e.y);
  return typeof t == "number" ? Math.sqrt(n ** 2 + r ** 2) > t : "x" in t && "y" in t ? n > t.x && r > t.y : "x" in t ? n > t.x : "y" in t ? r > t.y : !1;
}
var Un;
(function(e) {
  e.Click = "click", e.DragStart = "dragstart", e.Keydown = "keydown", e.ContextMenu = "contextmenu", e.Resize = "resize", e.SelectionChange = "selectionchange", e.VisibilityChange = "visibilitychange";
})(Un || (Un = {}));
function e1(e) {
  e.preventDefault();
}
function _$(e) {
  e.stopPropagation();
}
var Ye;
(function(e) {
  e.Space = "Space", e.Down = "ArrowDown", e.Right = "ArrowRight", e.Left = "ArrowLeft", e.Up = "ArrowUp", e.Esc = "Escape", e.Enter = "Enter";
})(Ye || (Ye = {}));
const Jy = {
  start: [Ye.Space, Ye.Enter],
  cancel: [Ye.Esc],
  end: [Ye.Space, Ye.Enter]
}, A$ = (e, {
  currentCoordinates: t
}) => {
  switch (e.code) {
    case Ye.Right:
      return {
        ...t,
        x: t.x + 25
      };
    case Ye.Left:
      return {
        ...t,
        x: t.x - 25
      };
    case Ye.Down:
      return {
        ...t,
        y: t.y + 25
      };
    case Ye.Up:
      return {
        ...t,
        y: t.y - 25
      };
  }
};
class Mg {
  constructor(t) {
    this.props = t, this.autoScrollEnabled = !1, this.coordinates = ho;
    const {
      event: {
        target: n
      }
    } = t;
    this.props = t, this.listeners = new ca(ki(n)), this.windowListeners = new ca(Xo(n)), this.handleKeyDown = this.handleKeyDown.bind(this), this.handleCancel = this.handleCancel.bind(this), this.attach();
  }
  attach() {
    this.handleStart(), this.windowListeners.add(Un.Resize, this.handleCancel), this.windowListeners.add(Un.VisibilityChange, this.handleCancel), setTimeout(() => this.listeners.add(Un.Keydown, this.handleKeyDown));
  }
  handleStart() {
    const {
      activeNode: t,
      onStart: n
    } = this.props;
    if (!t.node.current)
      throw new Error("Active draggable node is undefined");
    const r = _u(t.node.current), o = {
      x: r.left,
      y: r.top
    };
    this.coordinates = o, n(o);
  }
  handleKeyDown(t) {
    if (VM(t)) {
      const {
        coordinates: n
      } = this, {
        active: r,
        context: o,
        options: s
      } = this.props, {
        keyboardCodes: i = Jy,
        coordinateGetter: a = A$,
        scrollBehavior: l = "smooth"
      } = s, {
        code: c
      } = t;
      if (i.end.includes(c)) {
        this.handleEnd(t);
        return;
      }
      if (i.cancel.includes(c)) {
        this.handleCancel(t);
        return;
      }
      const d = a(t, {
        active: r,
        context: o.current,
        currentCoordinates: n
      });
      if (d) {
        const p = {
          x: 0,
          y: 0
        }, {
          scrollableAncestors: f
        } = o.current;
        for (const g of f) {
          const h = t.code, m = zy(d, n), {
            isTop: b,
            isRight: y,
            isLeft: v,
            isBottom: S,
            maxScroll: w,
            minScroll: C
          } = Gy(g), x = s$(g), E = {
            x: Math.min(h === Ye.Right ? x.right - x.width / 2 : x.right, Math.max(h === Ye.Right ? x.left : x.left + x.width / 2, d.x)),
            y: Math.min(h === Ye.Down ? x.bottom - x.height / 2 : x.bottom, Math.max(h === Ye.Down ? x.top : x.top + x.height / 2, d.y))
          }, O = h === Ye.Right && !y || h === Ye.Left && !v, T = h === Ye.Down && !S || h === Ye.Up && !b;
          if (O && E.x !== d.x) {
            if (h === Ye.Right && g.scrollLeft + m.x <= w.x || h === Ye.Left && g.scrollLeft + m.x >= C.x) {
              g.scrollBy({
                left: m.x,
                behavior: l
              });
              return;
            }
            p.x = h === Ye.Right ? g.scrollLeft - w.x : g.scrollLeft - C.x, g.scrollBy({
              left: -p.x,
              behavior: l
            });
            break;
          } else if (T && E.y !== d.y) {
            if (h === Ye.Down && g.scrollTop + m.y <= w.y || h === Ye.Up && g.scrollTop + m.y >= C.y) {
              g.scrollBy({
                top: m.y,
                behavior: l
              });
              return;
            }
            p.y = h === Ye.Down ? g.scrollTop - w.y : g.scrollTop - C.y, g.scrollBy({
              top: -p.y,
              behavior: l
            });
            break;
          }
        }
        this.handleMove(t, ka(d, p));
      }
    }
  }
  handleMove(t, n) {
    const {
      onMove: r
    } = this.props;
    t.preventDefault(), r(n), this.coordinates = n;
  }
  handleEnd(t) {
    const {
      onEnd: n
    } = this.props;
    t.preventDefault(), this.detach(), n();
  }
  handleCancel(t) {
    const {
      onCancel: n
    } = this.props;
    t.preventDefault(), this.detach(), n();
  }
  detach() {
    this.listeners.removeAll(), this.windowListeners.removeAll();
  }
}
Mg.activators = [{
  eventName: "onKeyDown",
  handler: (e, {
    keyboardCodes: t = Jy,
    onActivation: n
  }) => {
    const {
      code: r
    } = e.nativeEvent;
    return t.start.includes(r) ? (e.preventDefault(), n == null || n({
      event: e.nativeEvent
    }), !0) : !1;
  }
}];
function t1(e) {
  return !!(e && "distance" in e);
}
function n1(e) {
  return !!(e && "delay" in e);
}
class $g {
  constructor(t, n, r = O$(t.event.target)) {
    this.props = t, this.events = n, this.autoScrollEnabled = !0, this.activated = !1, this.timeoutId = null;
    const {
      event: o
    } = t, {
      target: s
    } = o;
    this.props = t, this.events = n, this.document = ki(s), this.documentListeners = new ca(this.document), this.listeners = new ca(r), this.windowListeners = new ca(Xo(s)), this.initialCoordinates = Kp(o), this.handleStart = this.handleStart.bind(this), this.handleMove = this.handleMove.bind(this), this.handleEnd = this.handleEnd.bind(this), this.handleCancel = this.handleCancel.bind(this), this.handleKeydown = this.handleKeydown.bind(this), this.removeTextSelection = this.removeTextSelection.bind(this), this.attach();
  }
  attach() {
    const {
      events: t,
      props: {
        options: {
          activationConstraint: n
        }
      }
    } = this;
    if (this.listeners.add(t.move.name, this.handleMove, {
      passive: !1
    }), this.listeners.add(t.end.name, this.handleEnd), this.windowListeners.add(Un.Resize, this.handleCancel), this.windowListeners.add(Un.DragStart, e1), this.windowListeners.add(Un.VisibilityChange, this.handleCancel), this.windowListeners.add(Un.ContextMenu, e1), this.documentListeners.add(Un.Keydown, this.handleKeydown), n) {
      if (t1(n))
        return;
      if (n1(n)) {
        this.timeoutId = setTimeout(this.handleStart, n.delay);
        return;
      }
    }
    this.handleStart();
  }
  detach() {
    this.listeners.removeAll(), this.windowListeners.removeAll(), setTimeout(this.documentListeners.removeAll, 50), this.timeoutId !== null && (clearTimeout(this.timeoutId), this.timeoutId = null);
  }
  handleStart() {
    const {
      initialCoordinates: t
    } = this, {
      onStart: n
    } = this.props;
    t && (this.activated = !0, this.documentListeners.add(Un.Click, _$, {
      capture: !0
    }), this.removeTextSelection(), this.documentListeners.add(Un.SelectionChange, this.removeTextSelection), n(t));
  }
  handleMove(t) {
    const {
      activated: n,
      initialCoordinates: r,
      props: o
    } = this, {
      onMove: s,
      options: {
        activationConstraint: i
      }
    } = o;
    if (!r)
      return;
    const a = Kp(t), l = zy(r, a);
    if (!n && i) {
      if (n1(i))
        return Rd(l, i.tolerance) ? this.handleCancel() : void 0;
      if (t1(i))
        return i.tolerance != null && Rd(l, i.tolerance) ? this.handleCancel() : Rd(l, i.distance) ? this.handleStart() : void 0;
    }
    t.cancelable && t.preventDefault(), s(a);
  }
  handleEnd() {
    const {
      onEnd: t
    } = this.props;
    this.detach(), t();
  }
  handleCancel() {
    const {
      onCancel: t
    } = this.props;
    this.detach(), t();
  }
  handleKeydown(t) {
    t.code === Ye.Esc && this.handleCancel();
  }
  removeTextSelection() {
    var t;
    (t = this.document.getSelection()) == null || t.removeAllRanges();
  }
}
const L$ = {
  move: {
    name: "pointermove"
  },
  end: {
    name: "pointerup"
  }
};
class Rg extends $g {
  constructor(t) {
    const {
      event: n
    } = t, r = ki(n.target);
    super(t, L$, r);
  }
}
Rg.activators = [{
  eventName: "onPointerDown",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => !e.isPrimary || e.button !== 0 ? !1 : (t == null || t({
    event: e
  }), !0)
}];
const N$ = {
  move: {
    name: "mousemove"
  },
  end: {
    name: "mouseup"
  }
};
var Xp;
(function(e) {
  e[e.RightClick = 2] = "RightClick";
})(Xp || (Xp = {}));
class k$ extends $g {
  constructor(t) {
    super(t, N$, ki(t.event.target));
  }
}
k$.activators = [{
  eventName: "onMouseDown",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => e.button === Xp.RightClick ? !1 : (t == null || t({
    event: e
  }), !0)
}];
const Id = {
  move: {
    name: "touchmove"
  },
  end: {
    name: "touchend"
  }
};
class M$ extends $g {
  constructor(t) {
    super(t, Id);
  }
  static setup() {
    return window.addEventListener(Id.move.name, t, {
      capture: !1,
      passive: !1
    }), function() {
      window.removeEventListener(Id.move.name, t);
    };
    function t() {
    }
  }
}
M$.activators = [{
  eventName: "onTouchStart",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => {
    const {
      touches: n
    } = e;
    return n.length > 1 ? !1 : (t == null || t({
      event: e
    }), !0);
  }
}];
function $$(e, {
  transform: t,
  ...n
}) {
  return e != null && e.length ? e.reduce((r, o) => o({
    transform: r,
    ...n
  }), t) : t;
}
const R$ = [{
  sensor: Rg,
  options: {}
}, {
  sensor: Mg,
  options: {}
}], I$ = {
  current: {}
}, Qy = /* @__PURE__ */ Je({
  ...ho,
  scaleX: 1,
  scaleY: 1
}), j$ = /* @__PURE__ */ Pe(function({
  id: t,
  autoScroll: n = !0,
  announcements: r,
  children: o,
  sensors: s = R$,
  collisionDetection: i = l$,
  measuring: a,
  modifiers: l,
  screenReaderInstructions: c = UM,
  ...d
}) {
  var p, f, g, h, m;
  const b = Ho(KM, void 0, GM), [y, v] = b, [S, w] = W(() => ({
    type: null,
    event: null
  })), [C, x] = W(!1), {
    draggable: {
      active: E,
      nodes: O,
      translate: T
    },
    droppable: {
      containers: P
    }
  } = y, A = E ? O[E] : null, _ = q({
    initial: null,
    translated: null
  }), M = ue(() => {
    var ot;
    return E != null ? {
      id: E,
      // It's possible for the active node to unmount while dragging
      data: (ot = A == null ? void 0 : A.data) != null ? ot : I$,
      rect: _
    } : null;
  }, [E, A]), V = q(null), [N, H] = W(null), [K, z] = W(null), $ = q(d), D = cl("DndDescribedBy", t), I = ue(() => P.getEnabled(), [P]), {
    layoutRectMap: U,
    recomputeLayouts: ne,
    willRecomputeLayouts: Q
  } = f$(I, {
    dragging: C,
    dependencies: [T.x, T.y],
    config: a == null ? void 0 : a.droppable
  }), re = u$(O, E), ie = K ? Kp(K) : null, oe = Zy(re, (p = a == null || (f = a.draggable) == null ? void 0 : f.measure) != null ? p : Yp), X = $d(re), ee = q(null), de = ee.current, me = q({
    active: null,
    activeNode: re,
    collisionRect: null,
    droppableRects: U,
    draggableNodes: O,
    draggingNodeRect: null,
    droppableContainers: P,
    over: null,
    scrollableAncestors: [],
    scrollAdjustedTranslate: null,
    translatedRect: null
  }), Ee = P.getNodeFor((g = me.current.over) == null ? void 0 : g.id), Se = $d(re ? re.ownerDocument.defaultView : null), Fe = $d(re ? re.parentElement : null), tt = b$(E ? Ee ?? re : null), xt = w$(tt), ft = E$({
    disabled: E == null,
    forceRecompute: Q
  }), Ge = (h = ft.rect) != null ? h : oe, zt = Ge === oe ? JM(oe, de) : ho, gt = $$(l, {
    transform: {
      x: T.x - zt.x,
      y: T.y - zt.y,
      scaleX: 1,
      scaleY: 1
    },
    activatorEvent: K,
    active: M,
    activeNodeRect: X,
    containerNodeRect: Fe,
    draggingNodeRect: Ge,
    over: me.current.over,
    overlayNodeRect: ft.rect,
    scrollableAncestors: tt,
    scrollableAncestorRects: xt,
    windowRect: Se
  }), kt = ie ? ka(ie, T) : null, Tt = h$(tt), Pt = ka(gt, Tt), pt = Ge ? Ym(Ge, gt) : null, ht = pt ? Ym(pt, Tt) : null, Zt = M && ht ? i({
    active: M,
    collisionRect: ht,
    droppableContainers: I
  }) : null, [ve, ze] = W(null), We = XM(gt, (m = ve == null ? void 0 : ve.rect) != null ? m : null, oe), Me = Et((ot, {
    sensor: wt,
    options: nn
  }) => {
    if (!V.current)
      return;
    const cn = O[V.current];
    if (!cn)
      return;
    const mn = new wt({
      active: V.current,
      activeNode: cn,
      event: ot.nativeEvent,
      options: nn,
      // Sensors need to be instantiated with refs for arguments that change over time
      // otherwise they are frozen in time with the stale arguments
      context: me,
      onStart(rn) {
        const vo = V.current;
        if (!vo)
          return;
        const Yr = O[vo];
        if (!Yr)
          return;
        const {
          onDragStart: ts
        } = $.current, ns = {
          active: {
            id: vo,
            data: Yr.data,
            rect: _
          }
        };
        qi(() => {
          v({
            type: bt.DragStart,
            initialCoordinates: rn,
            active: vo
          }), w({
            type: bt.DragStart,
            event: ns
          });
        }), ts == null || ts(ns);
      },
      onMove(rn) {
        v({
          type: bt.DragMove,
          coordinates: rn
        });
      },
      onEnd: es(bt.DragEnd),
      onCancel: es(bt.DragCancel)
    });
    qi(() => {
      H(mn), z(ot.nativeEvent);
    });
    function es(rn) {
      return async function() {
        const {
          active: Yr,
          over: ts,
          scrollAdjustedTranslate: ns
        } = me.current;
        let Xt = null;
        if (Yr && ns) {
          const {
            cancelDrop: Tn
          } = $.current;
          Xt = {
            active: Yr,
            delta: ns,
            over: ts
          }, rn === bt.DragEnd && typeof Tn == "function" && await Promise.resolve(Tn(Xt)) && (rn = bt.DragCancel);
        }
        if (V.current = null, qi(() => {
          v({
            type: rn
          }), ze(null), x(!1), H(null), z(null), Xt && w({
            type: rn,
            event: Xt
          });
        }), Xt) {
          const {
            onDragCancel: Tn,
            onDragEnd: ml
          } = $.current, Zr = rn === bt.DragEnd ? ml : Tn;
          Zr == null || Zr(Xt);
        }
      };
    }
  }, [v, O]), yt = Et((ot, wt) => (nn, cn) => {
    const mn = nn.nativeEvent;
    // No active draggable
    V.current !== null || // Event has already been captured
    mn.dndKit || mn.defaultPrevented || ot(nn, wt.options) === !0 && (mn.dndKit = {
      capturedBy: wt.sensor
    }, V.current = cn, Me(nn, wt));
  }, [Me]), Ut = d$(s, yt);
  v$(s), _s(
    () => {
      $.current = d;
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    Object.values(d)
  ), G(() => {
    E != null && x(!0);
  }, [E]), G(() => {
    M || (ee.current = null), M && oe && !ee.current && (ee.current = oe);
  }, [oe, M]), G(() => {
    const {
      onDragMove: ot
    } = $.current, {
      active: wt,
      over: nn
    } = me.current;
    if (!wt)
      return;
    const cn = {
      active: wt,
      delta: {
        x: Pt.x,
        y: Pt.y
      },
      over: nn
    };
    w({
      type: bt.DragMove,
      event: cn
    }), ot == null || ot(cn);
  }, [Pt.x, Pt.y]), G(
    () => {
      const {
        active: ot,
        droppableContainers: wt,
        scrollAdjustedTranslate: nn
      } = me.current;
      if (!ot || !V.current || !nn)
        return;
      const {
        onDragOver: cn
      } = $.current, mn = wt.get(Zt), es = mn && mn.rect.current ? {
        id: mn.id,
        rect: mn.rect.current,
        data: mn.data,
        disabled: mn.disabled
      } : null, rn = {
        active: ot,
        delta: {
          x: nn.x,
          y: nn.y
        },
        over: es
      };
      qi(() => {
        ze(es), w({
          type: bt.DragOver,
          event: rn
        }), cn == null || cn(rn);
      });
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [Zt]
  ), _s(() => {
    me.current = {
      active: M,
      activeNode: re,
      collisionRect: ht,
      droppableRects: U,
      draggableNodes: O,
      draggingNodeRect: Ge,
      droppableContainers: P,
      over: ve,
      scrollableAncestors: tt,
      scrollAdjustedTranslate: Pt,
      translatedRect: pt
    }, _.current = {
      initial: Ge,
      translated: pt
    };
  }, [M, re, ht, O, Ge, U, P, ve, tt, Pt, pt]), c$({
    ...Qo(),
    draggingRect: pt,
    pointerCoordinates: kt,
    scrollableAncestors: tt,
    scrollableAncestorRects: xt
  });
  const qr = ue(() => ({
    active: M,
    activeNode: re,
    activeNodeRect: oe,
    activeNodeClientRect: X,
    activatorEvent: K,
    activators: Ut,
    ariaDescribedById: {
      draggable: D
    },
    containerNodeRect: Fe,
    dispatch: v,
    dragOverlay: ft,
    draggableNodes: O,
    droppableContainers: P,
    droppableRects: U,
    over: ve,
    recomputeLayouts: ne,
    scrollableAncestors: tt,
    scrollableAncestorRects: xt,
    willRecomputeLayouts: Q,
    windowRect: Se
  }), [M, re, X, oe, K, Ut, Fe, ft, v, O, D, P, U, ve, ne, tt, xt, Q, Se]);
  return B.createElement(Uy.Provider, {
    value: S
  }, B.createElement(Tu.Provider, {
    value: qr
  }, B.createElement(Qy.Provider, {
    value: We
  }, o)), B.createElement(YM, {
    announcements: r,
    hiddenTextDescribedById: D,
    screenReaderInstructions: c
  }));
  function Qo() {
    const ot = (N == null ? void 0 : N.autoScrollEnabled) === !1, wt = typeof n == "object" ? n.enabled === !1 : n === !1, nn = !ot && !wt;
    return typeof n == "object" ? {
      ...n,
      enabled: nn
    } : {
      enabled: nn
    };
  }
}), V$ = /* @__PURE__ */ Je(null), r1 = "button", D$ = "Droppable";
function H$({
  id: e,
  data: t,
  disabled: n = !1,
  attributes: r
}) {
  const o = cl(D$), {
    active: s,
    activeNodeRect: i,
    activatorEvent: a,
    ariaDescribedById: l,
    draggableNodes: c,
    droppableRects: d,
    activators: p,
    over: f
  } = He(Tu), {
    role: g = r1,
    roleDescription: h = "draggable",
    tabIndex: m = 0
  } = r ?? {}, b = (s == null ? void 0 : s.id) === e, y = He(b ? Qy : V$), [v, S] = Ng(), w = y$(p, e), C = Yy(t);
  G(
    () => (c[e] = {
      id: e,
      key: o,
      node: v,
      data: C
    }, () => {
      const E = c[e];
      E && E.key === o && delete c[e];
    }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [c, e]
  );
  const x = ue(() => ({
    role: g,
    tabIndex: m,
    "aria-pressed": b && g === r1 ? !0 : void 0,
    "aria-roledescription": h,
    "aria-describedby": l.draggable
  }), [g, m, b, h, l.draggable]);
  return {
    active: s,
    activeNodeRect: i,
    activatorEvent: a,
    attributes: x,
    droppableRects: d,
    isDragging: b,
    listeners: n ? void 0 : w,
    node: v,
    over: f,
    setNodeRef: S,
    transform: y
  };
}
function B$() {
  return He(Tu);
}
const F$ = "Droppable";
function z$({
  data: e,
  disabled: t = !1,
  id: n
}) {
  const r = cl(F$), {
    active: o,
    dispatch: s,
    over: i
  } = He(Tu), a = q(null), [l, c] = Ng(), d = Yy(e);
  return _s(
    () => (s({
      type: bt.RegisterDroppable,
      element: {
        id: n,
        key: r,
        disabled: t,
        node: l,
        rect: a,
        data: d
      }
    }), () => s({
      type: bt.UnregisterDroppable,
      key: r,
      id: n
    })),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [n]
  ), G(
    () => {
      s({
        type: bt.SetDroppableDisabled,
        id: n,
        key: r,
        disabled: t
      });
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [t]
  ), {
    active: o,
    rect: a,
    isOver: (i == null ? void 0 : i.id) === n,
    node: l,
    over: i,
    setNodeRef: c
  };
}
function U$(e, t, n) {
  const r = {
    ...e
  };
  return t.top + e.y <= n.top ? r.y = n.top - t.top : t.bottom + e.y >= n.top + n.height && (r.y = n.top + n.height - t.bottom), t.left + e.x <= n.left ? r.x = n.left - t.left : t.right + e.x >= n.left + n.width && (r.x = n.left + n.width - t.right), r;
}
const W$ = ({
  draggingNodeRect: e,
  transform: t,
  scrollableAncestorRects: n
}) => {
  const r = n[0];
  return !e || !r ? t : U$(t, e, r);
}, G$ = ({
  transform: e
}) => ({
  ...e,
  x: 0
});
function ew(e, t, n) {
  const r = e.slice();
  return r.splice(n < 0 ? r.length + n : n, 0, r.splice(t, 1)[0]), r;
}
function K$(e, t) {
  return e.reduce((n, r, o) => {
    const s = t.get(r);
    return s && (n[o] = s), n;
  }, Array(e.length));
}
function Nl(e) {
  return e !== null && e >= 0;
}
const tw = ({
  layoutRects: e,
  activeIndex: t,
  overIndex: n,
  index: r
}) => {
  const o = ew(e, n, t), s = e[r], i = o[r];
  return !i || !s ? null : {
    x: i.offsetLeft - s.offsetLeft,
    y: i.offsetTop - s.offsetTop,
    scaleX: i.width / s.width,
    scaleY: i.height / s.height
  };
}, kl = {
  scaleX: 1,
  scaleY: 1
}, q$ = ({
  activeIndex: e,
  activeNodeRect: t,
  index: n,
  layoutRects: r,
  overIndex: o
}) => {
  var s;
  const i = (s = r[e]) != null ? s : t;
  if (!i)
    return null;
  if (n === e) {
    const l = r[o];
    return l ? {
      x: 0,
      y: e < o ? l.offsetTop + l.height - (i.offsetTop + i.height) : l.offsetTop - i.offsetTop,
      ...kl
    } : null;
  }
  const a = Y$(r, n, e);
  return n > e && n <= o ? {
    x: 0,
    y: -i.height - a,
    ...kl
  } : n < e && n >= o ? {
    x: 0,
    y: i.height + a,
    ...kl
  } : {
    x: 0,
    y: 0,
    ...kl
  };
};
function Y$(e, t, n) {
  const r = e[t], o = e[t - 1], s = e[t + 1];
  return r ? n < t ? o ? r.offsetTop - (o.offsetTop + o.height) : s ? s.offsetTop - (r.offsetTop + r.height) : 0 : s ? s.offsetTop - (r.offsetTop + r.height) : o ? r.offsetTop - (o.offsetTop + o.height) : 0 : 0;
}
const nw = "Sortable", rw = /* @__PURE__ */ B.createContext({
  activeIndex: -1,
  containerId: nw,
  disableTransforms: !1,
  items: [],
  overIndex: -1,
  useDragOverlay: !1,
  sortedRects: [],
  strategy: tw,
  wasDragging: {
    current: !1
  }
});
function Z$({
  children: e,
  id: t,
  items: n,
  strategy: r = tw
}) {
  const {
    active: o,
    dragOverlay: s,
    droppableRects: i,
    over: a,
    recomputeLayouts: l,
    willRecomputeLayouts: c
  } = B$(), d = cl(nw, t), p = s.rect !== null, f = ue(() => n.map((E) => typeof E == "string" ? E : E.id), [n]), g = o != null, h = q(!1), m = o ? f.indexOf(o.id) : -1, b = m !== -1, y = a ? f.indexOf(a.id) : -1, v = q(f), S = K$(f, i), w = !X$(f, v.current), C = y !== -1 && m === -1 || w;
  _s(() => {
    w && b && !c && l();
  }, [w, b, l, c]), G(() => {
    v.current = f;
  }, [f]), G(() => {
    const E = setTimeout(() => {
      h.current = g;
    }, 100);
    return () => clearTimeout(E);
  }, [g]);
  const x = ue(() => ({
    activeIndex: m,
    containerId: d,
    disableTransforms: C,
    items: f,
    overIndex: y,
    useDragOverlay: p,
    sortedRects: S,
    strategy: r,
    wasDragging: h
  }), [m, d, C, f, y, S, p, r, h]);
  return B.createElement(rw.Provider, {
    value: x
  }, e);
}
function X$(e, t) {
  return e.join() === t.join();
}
const J$ = ({
  id: e,
  items: t,
  activeIndex: n,
  overIndex: r
}) => ew(t, n, r).indexOf(e), Q$ = ({
  containerId: e,
  isSorting: t,
  wasDragging: n,
  index: r,
  items: o,
  newIndex: s,
  previousItems: i,
  previousContainerId: a,
  transition: l
}) => !l || !n || i !== o && r === s ? !1 : t ? !0 : s !== r && e === a, e8 = {
  duration: 200,
  easing: "ease"
}, ow = "transform", t8 = /* @__PURE__ */ Ma.Transition.toString({
  property: ow,
  duration: 0,
  easing: "linear"
}), n8 = {
  roleDescription: "sortable"
};
function r8({
  disabled: e,
  index: t,
  node: n,
  rect: r
}) {
  const [o, s] = W(null), i = q(t);
  return _s(() => {
    if (!e && t !== i.current && n.current) {
      const a = r.current;
      if (a) {
        const l = _u(n.current), c = {
          x: a.offsetLeft - l.offsetLeft,
          y: a.offsetTop - l.offsetTop,
          scaleX: a.width / l.width,
          scaleY: a.height / l.height
        };
        (c.x || c.y) && s(c);
      }
    }
    t !== i.current && (i.current = t);
  }, [e, t, n, r]), G(() => {
    o && requestAnimationFrame(() => {
      s(null);
    });
  }, [o]), o;
}
function o8({
  animateLayoutChanges: e = Q$,
  attributes: t,
  disabled: n,
  data: r,
  getNewIndex: o = J$,
  id: s,
  strategy: i,
  transition: a = e8
}) {
  const {
    items: l,
    containerId: c,
    activeIndex: d,
    disableTransforms: p,
    sortedRects: f,
    overIndex: g,
    useDragOverlay: h,
    strategy: m,
    wasDragging: b
  } = He(rw), y = l.indexOf(s), v = ue(() => ({
    sortable: {
      containerId: c,
      index: y,
      items: l
    },
    ...r
  }), [c, r, y, l]), {
    rect: S,
    node: w,
    setNodeRef: C
  } = z$({
    id: s,
    data: v
  }), {
    active: x,
    activeNodeRect: E,
    activatorEvent: O,
    attributes: T,
    setNodeRef: P,
    listeners: A,
    isDragging: _,
    over: M,
    transform: V
  } = H$({
    id: s,
    data: v,
    attributes: {
      ...n8,
      ...t
    },
    disabled: n
  }), N = $M(C, P), H = !!x, K = H && b.current && !p && Nl(d) && Nl(g), z = !h && _, $ = z && K ? V : null, I = K ? $ ?? (i ?? m)({
    layoutRects: f,
    activeNodeRect: E,
    activeIndex: d,
    overIndex: g,
    index: y
  }) : null, U = Nl(d) && Nl(g) ? o({
    id: s,
    items: l,
    activeIndex: d,
    overIndex: g
  }) : y, ne = q(l), Q = l !== ne.current, re = q(U), ie = q(c), oe = e({
    active: x,
    containerId: c,
    isDragging: _,
    isSorting: H,
    id: s,
    index: y,
    items: l,
    newIndex: re.current,
    previousItems: ne.current,
    previousContainerId: ie.current,
    transition: a,
    wasDragging: b.current
  }), X = r8({
    disabled: !oe,
    index: y,
    node: w,
    rect: S
  });
  return G(() => {
    H && re.current !== U && (re.current = U), c !== ie.current && (ie.current = c), l !== ne.current && (ne.current = l);
  }, [H, U, c, l]), {
    active: x,
    attributes: T,
    activatorEvent: O,
    rect: S,
    index: y,
    isSorting: H,
    isDragging: _,
    listeners: A,
    node: w,
    overIndex: g,
    over: M,
    setNodeRef: N,
    setDroppableNodeRef: C,
    setDraggableNodeRef: P,
    transform: X ?? I,
    transition: ee()
  };
  function ee() {
    if (
      // Temporarily disable transitions for a single frame to set up derived transforms
      X || // Or to prevent items jumping to back to their "new" position when items change
      Q && re.current === y
    )
      return t8;
    if (!(z || !a) && (H || oe))
      return Ma.Transition.toString({
        ...a,
        property: ow
      });
  }
}
const s8 = [Ye.Down, Ye.Right, Ye.Up, Ye.Left], i8 = (e, {
  context: {
    active: t,
    droppableContainers: n,
    translatedRect: r,
    scrollableAncestors: o
  }
}) => {
  if (s8.includes(e.code)) {
    if (e.preventDefault(), !t || !r)
      return;
    const i = [];
    n.getEnabled().forEach((l) => {
      if (!l || l != null && l.disabled)
        return;
      const c = l == null ? void 0 : l.node.current;
      if (!c)
        return;
      const d = Yp(c), p = {
        ...l,
        rect: {
          current: d
        }
      };
      switch (e.code) {
        case Ye.Down:
          r.top + r.height <= d.top && i.push(p);
          break;
        case Ye.Up:
          r.top >= d.top + d.height && i.push(p);
          break;
        case Ye.Left:
          r.left >= d.left + d.width && i.push(p);
          break;
        case Ye.Right:
          r.left + r.width <= d.left && i.push(p);
          break;
      }
    });
    const a = i$({
      active: t,
      collisionRect: r,
      droppableContainers: i
    });
    if (a) {
      var s;
      const l = (s = n.get(a)) == null ? void 0 : s.node.current;
      if (l) {
        const d = kg(l).some((h, m) => o[m] !== h), p = Yp(l), f = d ? {
          x: 0,
          y: 0
        } : {
          x: r.width - p.width,
          y: r.height - p.height
        };
        return {
          x: p.left - f.x,
          y: p.top - f.y
        };
      }
    }
  }
};
function Au({
  children: e,
  text: t,
  onConfirm: n,
  onCancel: r,
  className: o = "w-[200px]",
  confirmButtonProps: s = {},
  ...i
}) {
  const a = Le();
  return /* @__PURE__ */ u(Ur, { ...i, overlay: !0, title: !1, buttonAs: "span", handler: e, children: ({ close: l }) => /* @__PURE__ */ L(R, { className: Y(o), space: "m", col: !0, children: [
    /* @__PURE__ */ u(j, { grow: !0, className: Y("text-center"), children: t || a.t("confirmAction") }),
    /* @__PURE__ */ L(R, { justify: "center", items: "center", gap: "m", nowrap: !0, children: [
      /* @__PURE__ */ u(
        Xe,
        {
          variant: "pr",
          size: "m2",
          className: "gs-utl-whitespace-nowrap",
          onClick: () => {
            l(), n == null || n();
          },
          ...s,
          children: s.children || a.t("confirm")
        }
      ),
      /* @__PURE__ */ u(
        Xe,
        {
          size: "m2",
          className: "gs-utl-whitespace-nowrap",
          onClick: () => {
            l(), r == null || r();
          },
          children: a.t("cancel")
        }
      )
    ] })
  ] }) });
}
function a8(e) {
  const {
    id: t,
    item: n,
    className: r,
    select: o,
    remove: s,
    renderItem: i,
    previewStyle: a,
    sortable: l = !0,
    disabled: c,
    confirmRemove: d
  } = e, { attributes: p, listeners: f, setNodeRef: g, transform: h, transition: m } = o8({ id: t, disabled: c }), b = {
    transform: Ma.Transform.toString(h),
    transition: m
  }, y = () => !c && (o == null ? void 0 : o(n));
  return /* @__PURE__ */ u("div", { ...l ? { ref: g, style: b, ...p } : {}, children: /* @__PURE__ */ L(
    R,
    {
      space: "s",
      onClick: y,
      className: r,
      items: "center",
      nowrap: !0,
      children: [
        l && /* @__PURE__ */ u(j, { className: Y(!c && De.hover, !c && "cursor-grab"), ...f, children: /* @__PURE__ */ u(ae, { icon: Z.dotsVertical, size: fe.sx }) }),
        /* @__PURE__ */ u(j, { grow: !0, className: Y("overflow-hidden"), children: /* @__PURE__ */ L(R, { children: [
          /* @__PURE__ */ u(j, { grow: !0, className: Y("overflow-ellipsis overflow-hidden"), children: i(n) }),
          !!a && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("div", { className: Y("w-4 h-4 gjs-bg-white", le.b, le.rnd), style: a(n) }) })
        ] }) }),
        s && d ? (
          // TODO: clicking the button causes the StackItem to be selected
          /* @__PURE__ */ u(
            Au,
            {
              disabled: c,
              onConfirm: () => {
                s == null || s(n);
              },
              children: /* @__PURE__ */ u(j, { className: Y(!c && De.click), children: /* @__PURE__ */ u(ae, { icon: Z.close, size: fe.sx }) })
            }
          )
        ) : /* @__PURE__ */ u(
          j,
          {
            className: Y(!c && De.click),
            onClick: (v) => {
              Ps(v), !c && (s == null || s(n));
            },
            children: /* @__PURE__ */ u(ae, { icon: Z.close, size: fe.sx })
          }
        )
      ]
    },
    n.getIndex ? n.getIndex() : n.id || n.cid
  ) });
}
function Or(e) {
  const {
    className: t,
    items: n,
    selected: r,
    renderItem: o,
    select: s,
    add: i,
    remove: a,
    move: l,
    previewStyle: c,
    getItemId: d = (P) => P.id || P.name || P.title || P.label || "",
    label: p,
    labelAs: f,
    children: g,
    title: h = "Select",
    titleAdd: m = "Add",
    emptyState: b,
    disabled: y = !1,
    hidePopover: v,
    popoverPlacement: S = "left",
    confirmRemove: w
  } = e, C = T$(
    Qm(Rg),
    Qm(Mg, { coordinateGetter: i8 })
  );
  function x(P) {
    const { active: A, over: _ } = P;
    if (A.id !== (_ == null ? void 0 : _.id)) {
      const M = n.find((N) => d(N) === A.id), V = n.findIndex((N) => d(N) === (_ == null ? void 0 : _.id));
      M && (l == null || l(M, V));
    }
  }
  const E = Y(le.rnd, F.br, n.length && le.b, n.length && "gjs-mt-1");
  let O = /* @__PURE__ */ L("div", { className: E, children: [
    n.length === 0 && b && /* @__PURE__ */ u(R, { className: k("gs-utl-p-2 gs-utl-text-center", F.txtLowEmphasis), items: "center", justify: "center", children: b }),
    n.map((P, A) => {
      const _ = d(P), M = P === r, V = Y(
        "gjs-px-2 gjs-py-2 text-xs",
        F.br,
        A && le.bt,
        !!s && !M && !y && F.hBgH2,
        M && F.bgH,
        y && "opacity-75"
      );
      return /* @__PURE__ */ u(
        a8,
        {
          id: _,
          item: P,
          className: V,
          select: s,
          remove: a,
          renderItem: o,
          previewStyle: c,
          sortable: !!l,
          disabled: y,
          confirmRemove: w
        },
        _ || A
      );
    })
  ] });
  l && (O = /* @__PURE__ */ u(
    j$,
    {
      sensors: C,
      collisionDetection: ZM,
      onDragEnd: x,
      modifiers: [G$, W$],
      children: /* @__PURE__ */ u(Z$, { items: n.map(d), strategy: q$, children: O })
    }
  )), s && !v && (O = /* @__PURE__ */ u(
    Ur,
    {
      placement: S,
      size: "s",
      buttonAs: "div",
      title: h,
      classNameBody: "gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",
      open: !!r && !y,
      onClose: () => s == null ? void 0 : s(null),
      handler: O,
      children: g
    }
  ));
  const T = i ? [
    {
      type: "button",
      icon: Z.plus,
      tooltip: m,
      variant: "outline",
      size: "xs",
      disabled: y,
      onClick: i
    }
  ] : [];
  return /* @__PURE__ */ L("div", { className: Y(t, "w-full"), children: [
    !!(p || i) && /* @__PURE__ */ u(mr, { ...e, as: f, afterLabelButtons: T }),
    O
  ] });
}
const l8 = "gs-sm-custom-type", c8 = ce(function({ property: t, editor: n }) {
  const r = q(null), o = t.getType(), s = n.StyleManager, i = s.getType(o), a = i == null ? void 0 : i.view;
  return G(() => {
    const l = r.current;
    if (a && l) {
      const c = new a({
        model: t,
        config: s.getConfig(),
        attributes: t.get("attributes")
      }), d = c.render().el;
      return l.appendChild(d), () => {
        l.removeChild(d), c.remove();
      };
    }
  }, [a, t, n]), a && /* @__PURE__ */ u("div", { className: l8, ref: r });
});
function sw(e) {
  return e.isFull() || ["slider", "composite", "stack", "file"].includes(e.getType());
}
const o1 = "gs-cmp-style-field";
function iw({ property: e, sector: t, styleManagerDataConfig: n, fieldProps: r }) {
  const o = k(o1, `${o1}__${e.id}`), s = { sector: t, styleManagerDataConfig: n }, i = t.em.getEditor(), a = e.getType();
  switch (a) {
    case "selectFont":
      return /* @__PURE__ */ u(
        Pu,
        {
          className: o,
          ...uw(e, s),
          ...r
        }
      );
    case "number":
    case "slider":
    case "integer":
      return /* @__PURE__ */ u(je, { className: o, ...lt(e, s), ...r });
    case "color":
      return /* @__PURE__ */ u(go, { className: o, ...As(e, s), ...r });
    case "select":
      return /* @__PURE__ */ u(Ne, { className: o, ...Lt(e, s), ...r });
    case "radio":
      return /* @__PURE__ */ u(
        sn,
        {
          className: o,
          ...Lr(e, s),
          ...r
        }
      );
    case "file":
      return /* @__PURE__ */ u(Na, { className: o, ...A8(e, s), ...r });
    case "composite":
      return /* @__PURE__ */ u(
        Sn,
        {
          className: o,
          property: e,
          corners: e.get("corners"),
          generic: e.get("generic"),
          ...s
        }
      );
    case "stack": {
      const l = e.getProperties();
      return /* @__PURE__ */ u(Or, { className: o, ...To(e, s), children: /* @__PURE__ */ u(Ig, { properties: l, sector: t }) });
    }
    default: {
      const l = i.StyleManager.getType(a);
      return !!(l != null && l.create) && !!(l != null && l.view) ? /* @__PURE__ */ u(c8, { editor: i, property: e }) : /* @__PURE__ */ u(at, { className: o, ...jg(e, s) });
    }
  }
}
const s1 = "gs-cmp-style-prop-row";
function Ig({ properties: e, sector: t, styleManagerDataConfig: n }) {
  const r = { sector: t, styleManagerDataConfig: n };
  return /* @__PURE__ */ u(pe, { children: e.map((o) => {
    const s = o.getId(), i = k(s1, `${s1}__${s}`, sw(o) && "gs-utl-col-span-full");
    return o.isVisible() ? /* @__PURE__ */ u("div", { className: i, children: /* @__PURE__ */ u(iw, { property: o, ...r }) }, s) : null;
  }) });
}
function u8({ sector: e, styleManagerDataConfig: t }) {
  const n = il(), r = e.getProperties().filter((o) => o.isVisible()).map((o) => (n.sdkAddFonts && o.getId() === "font-family" && o.set("type", "selectFont"), o));
  return /* @__PURE__ */ u("div", { className: k("gs-utl-grid gs-utl-grid-cols-2 gs-utl-gap-2"), children: /* @__PURE__ */ u(Ig, { properties: r, sector: e, styleManagerDataConfig: t }) });
}
const d8 = "gs-cmp-sector-row";
function xe({ className: e, children: t, bottom: n, separator: r, separatorTop: o, property: s, ...i }) {
  const a = /* @__PURE__ */ u("div", { className: Y("gjs-mb-2 -gjs-ml-2 -gjs-mr-2", le.bb, F.br) }), l = Y(d8, e, "w-full gs-utl-gap-2", n), c = (Array.isArray(s) ? s : [s]).filter(Boolean);
  return (c.length ? c.some((p) => p.isVisible()) : !0) ? /* @__PURE__ */ L(pe, { children: [
    o && a,
    /* @__PURE__ */ u(R, { className: l, nowrap: !0, ...i, children: t }),
    r && a
  ] }) : null;
}
function Ui(e, t, n = {}) {
  const r = e.getType(), { compact: o = !1, sector: s, styleManagerDataConfig: i } = n, a = e.getParent(), l = { sector: s, styleManagerDataConfig: i }, c = e.getDefaultValue();
  if (r === "select") {
    const p = { property: a.getName() };
    return /* @__PURE__ */ u(
      Ne,
      {
        ...Lt(e, l, p),
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          emptyState: t.same ? e.getOptionLabel(c, p) || c : "Custom",
          onChange: (f) => t.all.map((g) => g.upValue(f))
        } : {},
        label: void 0
      }
    );
  } else
    return r === "color" ? /* @__PURE__ */ u(
      go,
      {
        ...As(e, l),
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          placeholder: t.same ? c : "Custom",
          onChange: (d, p) => t.all.map((f) => f.upValue(d, { partial: p }))
        } : {},
        label: void 0
      }
    ) : /* @__PURE__ */ u(
      je,
      {
        ...lt(e, l),
        ...o ? { pan: e.getLabel()[0] } : {},
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          valueUnit: t.same ? e.getUnit() : "",
          placeholder: t.same ? c : "Custom",
          onChange: (d, p) => t.all.map((f) => f.upValue(d, { partial: p })),
          onChangeUnit: (d) => t.all.map((p) => p.upUnit(d))
        } : {},
        label: void 0
      }
    );
}
const Ml = "gs-cmp-style-prop-composite";
function Sn({
  className: e,
  property: t,
  sector: n,
  styleManagerDataConfig: r,
  corners: o,
  compact: s,
  generic: i,
  children: a,
  options: l
}) {
  const [c, d] = W(null);
  if (!(t != null && t.isVisible()))
    return null;
  const p = {
    id: "custom",
    label: /* @__PURE__ */ u(ae, { icon: Z.borderStyle, size: fe.s }),
    title: "Custom"
  }, f = [
    { id: "all", label: /* @__PURE__ */ u(ae, { icon: Z.borderAllVariant, size: fe.s }), title: "All" },
    p
  ], g = t.isDetached(), h = t.getProperties(), m = h.length, [b, y, v, S] = h, w = b.getFullValue(), x = h.map((z) => z.getFullValue()).every((z) => z === w), E = c !== null ? c : x || l ? "all" : p.id, O = l ? [...l, p] : [], T = t.getFullValue(), P = O.some((z) => z.id === T), A = E === p.id || (l ? !P : !1) || !!i, _ = { compact: s, sector: n, styleManagerDataConfig: r }, M = /* @__PURE__ */ u(Eo, { property: s ? null : b, shallow: !g, children: Ui(b, null, _) }), V = /* @__PURE__ */ u(Eo, { property: s ? null : y, shallow: !g, children: Ui(y, null, _) }), N = !!v && /* @__PURE__ */ u(Eo, { property: s ? null : v, shallow: !g, children: Ui(v, null, _) }), H = !!S && /* @__PURE__ */ u(Eo, { property: s ? null : S, shallow: !g, children: Ui(S, null, _) }), K = s ? { label: t.getLabel() } : { property: t };
  return /* @__PURE__ */ L(R, { className: Y(Ml, e, "gs-utl-w-full gs-utl-gap-2"), col: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(xe, { className: `${Ml}__main`, children: /* @__PURE__ */ u(Eo, { ...K, children: !i && /* @__PURE__ */ u(xe, { bottom: "0", children: a !== void 0 ? a : l ? /* @__PURE__ */ u(pe, { children: /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
      sn,
      {
        size: "s",
        options: O,
        value: A ? p.id : T,
        onChange: (z) => {
          z === p.id ? d(z) : (t.upValue(z), d(""));
        }
      }
    ) }) }) : /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(j, { grow: !0, children: Ui(b, { same: x, all: h }, _) }),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(sn, { size: "s", options: f, value: E, onChange: d }) })
    ] }) }) }) }),
    A && /* @__PURE__ */ u(xe, { col: !0, className: Y(`${Ml}__details`, "gjs-px-2 gjs-py-1", F.bgH2, le.rnd, le.b, F.br), children: i ? /* @__PURE__ */ u("div", { className: Y(`${Ml}__props`, "grid grid-cols-2 gap-2"), children: h.map((z) => /* @__PURE__ */ u(
      Eo,
      {
        property: z,
        shallow: !g,
        className: Y(sw(z) && "col-span-full"),
        children: /* @__PURE__ */ u(iw, { property: z, ..._, fieldProps: { label: void 0 } })
      },
      z.getId()
    )) }) : m === 2 ? /* @__PURE__ */ u(pe, { children: /* @__PURE__ */ L(R, { space: "s", children: [
      /* @__PURE__ */ u(j, { grow: !0, children: M }),
      /* @__PURE__ */ u(j, { grow: !0, children: V })
    ] }) }) : m === 3 ? /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ L(R, { space: "s", children: [
        /* @__PURE__ */ u(j, { grow: !0, children: M }),
        /* @__PURE__ */ u(j, { grow: !0, children: V })
      ] }),
      /* @__PURE__ */ u(R, { space: "s", children: /* @__PURE__ */ u(j, { grow: !0, children: N }) })
    ] }) : o ? /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ L(R, { space: "s", children: [
        /* @__PURE__ */ u(j, { grow: !0, children: M }),
        /* @__PURE__ */ u(j, { grow: !0, children: V })
      ] }),
      /* @__PURE__ */ L(R, { space: "s", children: [
        /* @__PURE__ */ u(j, { grow: !0, children: H }),
        /* @__PURE__ */ u(j, { grow: !0, children: N })
      ] })
    ] }) : /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(R, { className: Y("gs-utl-w-1/2 gjs-m-auto"), children: M }),
      /* @__PURE__ */ L(R, { space: "s", children: [
        /* @__PURE__ */ u(j, { grow: !0, children: H }),
        /* @__PURE__ */ u(j, { grow: !0, children: V })
      ] }),
      /* @__PURE__ */ u(R, { className: Y("gs-utl-w-1/2 gjs-m-auto"), children: N })
    ] }) })
  ] });
}
function p8({ sector: e, styleManagerDataConfig: t }) {
  const n = e.getProperty("border-radius"), r = { sector: e, styleManagerDataConfig: t };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(Sn, { property: n, corners: !0, ...r }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("border-width"), ...r }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("border-style"), ...r }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("border-color"), ...r })
  ] });
}
const is = (e) => xu({ value: parseFloat(e), min: -3, max: 3 }), jd = (e, t = "filter", n) => {
  const r = e.getProperty(`${t}-value`), o = e.getProperty(`${t}-name`).getOption() || {}, s = o.units || [], i = r.getUnit(), a = CM(i, s) ? i : s[0];
  return {
    ...lt(r, n),
    units: s,
    valueUnit: a,
    onChange: (l, c) => {
      r.upValue(l, {
        partial: c,
        units: s,
        min: o.min,
        max: o.max
      });
    }
  };
}, i1 = (e, t, n, r) => {
  const o = e.getProperty(`${t}-name`), s = e.getProperty(`${t}-value`);
  return {
    ...Lt(o, n, r),
    onChange: (i) => {
      o.upValue(i), s.upValue("");
    }
  };
}, f8 = {
  "text-shadow-h": "1px",
  "text-shadow-v": "1px",
  "text-shadow-blur": "5px"
};
function g8({ sector: e, styleManagerDataConfig: t }) {
  const n = e.getProperty("box-shadow"), r = e.getProperty("text-shadow"), o = e.getProperty("filter"), s = e.getProperty("backdrop-filter"), i = e.getProperty("transition"), a = e.getProperty("transform"), l = e.getProperty("perspective-origin"), c = e.getProperty("backface-visibility"), d = e.getProperty("perspective"), p = e.getProperty("transform-style"), f = e.getProperty("opacity"), g = e.getProperty("mix-blend-mode"), h = e.getProperty("cursor"), m = { sector: e, styleManagerDataConfig: t }, b = (v) => {
    const {
      boxShadowH: S,
      boxShadowV: w,
      boxShadowBlur: C,
      boxShadowColor: x,
      boxShadowSpread: E,
      boxShadowType: O
    } = v.getValues({ camelCase: !0 }), T = is(S), P = is(w), A = is(C), _ = is(E), M = `${T}px ${P}px ${A}px ${_}px ${x} ${O}`.trim();
    return /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ L(j, { grow: !0, children: [
        S,
        " ",
        w,
        " ",
        C,
        " ",
        E
      ] }),
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("div", { className: Y("w-4 h-4 gjs-bg-white", le.b, le.rnd), style: { boxShadow: M } }) })
    ] });
  }, y = (v) => {
    const {
      textShadowH: S,
      textShadowV: w,
      textShadowBlur: C,
      textShadowColor: x
    } = v.getValues({ camelCase: !0 }), E = is(S), O = is(w), T = is(C), P = `${E}px ${O}px ${T}px ${x}`.trim();
    return /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ L(j, { grow: !0, children: [
        S,
        " ",
        w,
        " ",
        C
      ] }),
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("div", { className: Y("w-4 h-4 gjs-bg-white", le.b, le.rnd), style: { boxShadow: P } }) })
    ] });
  };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ L(xe, { property: [f, g], children: [
      /* @__PURE__ */ u(je, { ...lt(f, m) }),
      /* @__PURE__ */ u(Ne, { ...Lt(g, m) })
    ] }),
    /* @__PURE__ */ u(xe, { property: h, separator: !0, children: /* @__PURE__ */ u(Ne, { ...Lt(h, m) }) }),
    /* @__PURE__ */ u(xe, { property: n, separator: !0, children: /* @__PURE__ */ L(Or, { ...To(n, m), renderItem: b, children: [
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
        sn,
        {
          ...Lr(n.getProperty("box-shadow-type"), m),
          label: ""
        }
      ) }),
      /* @__PURE__ */ L(xe, { children: [
        /* @__PURE__ */ u(
          je,
          {
            ...lt(n.getProperty("box-shadow-h"), m),
            label: "X offset"
          }
        ),
        /* @__PURE__ */ u(
          je,
          {
            ...lt(n.getProperty("box-shadow-v"), m),
            label: "Y offset"
          }
        )
      ] }),
      /* @__PURE__ */ L(xe, { children: [
        /* @__PURE__ */ u(
          je,
          {
            ...lt(n.getProperty("box-shadow-blur"), m),
            label: "Blur"
          }
        ),
        /* @__PURE__ */ u(
          je,
          {
            ...lt(n.getProperty("box-shadow-spread"), m),
            label: "Spread"
          }
        )
      ] }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(go, { ...As(n.getProperty("box-shadow-color"), m), label: "Color" }) })
    ] }) }),
    /* @__PURE__ */ u(xe, { property: r, separator: !0, children: /* @__PURE__ */ L(Or, { ...To(r, m, f8), renderItem: y, children: [
      /* @__PURE__ */ L(xe, { children: [
        /* @__PURE__ */ u(
          je,
          {
            ...lt(r.getProperty("text-shadow-h"), m),
            label: "X offset"
          }
        ),
        /* @__PURE__ */ u(
          je,
          {
            ...lt(r.getProperty("text-shadow-v"), m),
            label: "Y offset"
          }
        )
      ] }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
        je,
        {
          ...lt(r.getProperty("text-shadow-blur"), m),
          label: "Blur"
        }
      ) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
        go,
        {
          ...As(r.getProperty("text-shadow-color"), m),
          label: "Color"
        }
      ) })
    ] }) }),
    /* @__PURE__ */ u(xe, { property: o, separator: !0, children: /* @__PURE__ */ u(Or, { ...To(o, m, { "filter-name": "blur", "filter-value": "3px" }), children: /* @__PURE__ */ L(xe, { children: [
      /* @__PURE__ */ u(Ne, { ...i1(o, "filter", m), label: "Type" }),
      /* @__PURE__ */ u(je, { ...jd(o, void 0, m), label: "Value" })
    ] }) }) }),
    /* @__PURE__ */ u(xe, { property: s, separator: !0, children: /* @__PURE__ */ u(
      Or,
      {
        ...To(s, m, {
          "backdrop-filter-name": "blur",
          "backdrop-filter-value": "3px"
        }),
        children: /* @__PURE__ */ L(xe, { children: [
          /* @__PURE__ */ u(
            Ne,
            {
              ...Lt(s.getProperty("backdrop-filter-name"), m),
              label: "Type"
            }
          ),
          /* @__PURE__ */ u(je, { ...jd(s, "backdrop-filter", m), label: "Value" })
        ] })
      }
    ) }),
    /* @__PURE__ */ u(xe, { property: i, separator: !0, children: /* @__PURE__ */ L(Or, { ...To(i, m), children: [
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
        Ne,
        {
          ...Lt(i.getProperty("transition-property"), m),
          label: "Type"
        }
      ) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
        Ne,
        {
          ...Lt(i.getProperty("transition-timing-function"), m),
          label: "Easing"
        }
      ) }),
      /* @__PURE__ */ L(xe, { children: [
        /* @__PURE__ */ u(
          je,
          {
            ...lt(i.getProperty("transition-duration"), m),
            label: "Duration"
          }
        ),
        /* @__PURE__ */ u(
          je,
          {
            ...lt(i.getProperty("transition-delay"), m),
            label: "Delay"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ u(xe, { property: a, separator: !0, children: /* @__PURE__ */ u(Or, { ...To(a, m), children: /* @__PURE__ */ L(xe, { children: [
      /* @__PURE__ */ u(Ne, { ...i1(a, "transform", m), label: "Type" }),
      /* @__PURE__ */ u(je, { ...jd(a, "transform", m), label: "Value" })
    ] }) }) }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("transform-origin"), ...m }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("overflow"), ...m }),
    /* @__PURE__ */ u(xe, { property: c, children: /* @__PURE__ */ u(sn, { ...Lr(c, m) }) }),
    /* @__PURE__ */ u(xe, { property: [d, p, l], separatorTop: !0, children: "Children transform" }),
    /* @__PURE__ */ L(xe, { property: [d, p], children: [
      /* @__PURE__ */ u(je, { ...lt(d, m) }),
      /* @__PURE__ */ u(sn, { ...Lr(p, m) })
    ] }),
    /* @__PURE__ */ u(Sn, { property: l, ...m })
  ] });
}
function h8(e, t) {
  return e.indexOf(t) >= 0;
}
const St = fe.s, $l = "M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z", Rl = "M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z", Il = "M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z", a1 = "M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z", l1 = "M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z", m8 = "M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z", Vd = "M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";
function b8({ sector: e, styleManagerDataConfig: t }) {
  const n = e.em.getEditor(), r = Le(), [o, s] = W({}), [i, a] = W({}), l = e.getProperty("display"), c = e.getProperty("flex-direction"), d = e.getProperty("justify-content"), p = e.getProperty("align-items"), f = e.getProperty("flex-wrap"), g = e.getProperty("align-content"), h = e.getProperty("align-self"), m = e.getProperty("order"), b = e.getProperty("gap"), y = e.getProperty("flex"), v = { sector: e, styleManagerDataConfig: t }, S = [
    l,
    c,
    d,
    p,
    f,
    g,
    h,
    m,
    b,
    y
  ].map((z) => z.id), w = e.getProperties().filter((z) => !S.includes(`${z.id}`)), C = (z) => r.t(`styleManager.layout.${z}`), x = l.getValue(), E = x === "flex", O = (i.display || "").indexOf("flex") >= 0, T = c.getValue(), P = T.indexOf("reverse") >= 0, A = !h8(["column", "column-reverse"], T), _ = [
    { id: "row", label: /* @__PURE__ */ u(ae, { icon: Z.arrowRight, size: fe.sx }), title: C("direction.title.row") },
    {
      id: "row-reverse",
      label: /* @__PURE__ */ u(ae, { icon: Z.arrowRight, size: St, horizontal: !0 }),
      title: C("direction.title.row-reverse")
    },
    {
      id: "column",
      label: /* @__PURE__ */ u(ae, { icon: Z.arrowDown, size: fe.sx }),
      title: C("direction.title.column")
    },
    {
      id: "column-reverse",
      label: /* @__PURE__ */ u(ae, { icon: Z.arrowDown, size: St, vertical: !0 }),
      title: C("direction.title.column-reverse")
    }
  ], M = [
    {
      id: "flex-start",
      title: "Start",
      label: /* @__PURE__ */ u(
        ae,
        {
          icon: $l,
          size: St,
          rotate: A ? 0 : 90,
          horizontal: A && P,
          vertical: !A && P
        }
      )
    },
    { id: "center", title: "Center", label: /* @__PURE__ */ u(ae, { icon: Rl, size: St, rotate: A ? 0 : 90 }) },
    {
      id: "flex-end",
      title: "End",
      label: /* @__PURE__ */ u(
        ae,
        {
          icon: Il,
          size: St,
          rotate: A ? 0 : 90,
          horizontal: A && P,
          vertical: !A && P
        }
      )
    },
    {
      id: "space-between",
      title: "Space between",
      label: /* @__PURE__ */ u(ae, { icon: a1, size: St, rotate: A ? 0 : 90 })
    },
    {
      id: "space-around",
      title: "Space around",
      label: /* @__PURE__ */ u(ae, { icon: l1, size: St, rotate: A ? 0 : 90 })
    },
    {
      id: "space-evenly",
      title: "Space evenly",
      label: /* @__PURE__ */ u(ae, { icon: m8, size: St, rotate: A ? 0 : 90 })
    }
  ], V = [
    {
      id: "stretch",
      title: "Stretch",
      label: /* @__PURE__ */ u(ae, { icon: Vd, size: St, rotate: A ? 0 : 90 })
    },
    { id: "flex-start", title: "Start", label: /* @__PURE__ */ u(ae, { icon: $l, size: St, rotate: A ? 90 : 0 }) },
    { id: "center", title: "Center", label: /* @__PURE__ */ u(ae, { icon: Rl, size: St, rotate: A ? 90 : 0 }) },
    { id: "flex-end", title: "End", label: /* @__PURE__ */ u(ae, { icon: Il, size: St, rotate: A ? 90 : 0 }) }
  ], N = [
    {
      id: "flex-start",
      title: "Start",
      label: /* @__PURE__ */ u(
        ae,
        {
          icon: $l,
          size: St,
          rotate: A ? 90 : 0,
          horizontal: A && P,
          vertical: !A && P
        }
      )
    },
    { id: "center", title: "Center", label: /* @__PURE__ */ u(ae, { icon: Rl, size: St, rotate: A ? 90 : 0 }) },
    {
      id: "flex-end",
      title: "End",
      label: /* @__PURE__ */ u(
        ae,
        {
          icon: Il,
          size: St,
          rotate: A ? 90 : 0,
          horizontal: A && P,
          vertical: !A && P
        }
      )
    },
    {
      id: "space-between",
      title: "Space between",
      label: /* @__PURE__ */ u(ae, { icon: a1, size: St, rotate: A ? 90 : 0 })
    },
    {
      id: "space-around",
      title: "Space around",
      label: /* @__PURE__ */ u(ae, { icon: l1, size: St, rotate: A ? 90 : 0 })
    },
    { id: "stretch", title: "Stretch", label: /* @__PURE__ */ u(ae, { icon: Vd, size: St, rotate: A ? 0 : 90 }) }
  ], H = [
    { id: "auto", title: "Auto", label: /* @__PURE__ */ u(ae, { icon: Z.close, size: St }) },
    { id: "flex-start", title: "Start", label: /* @__PURE__ */ u(ae, { icon: $l, size: St, rotate: 90 }) },
    { id: "center", title: "Center", label: /* @__PURE__ */ u(ae, { icon: Rl, size: St, rotate: 90 }) },
    { id: "flex-end", title: "End", label: /* @__PURE__ */ u(ae, { icon: Il, size: St, rotate: 90 }) },
    { id: "stretch", title: "Stretch", label: /* @__PURE__ */ u(ae, { icon: Vd, size: St, rotate: 0 }) }
  ], K = [
    { id: "0 0 auto", label: /* @__PURE__ */ u(ae, { icon: Z.close, size: St }), title: "Auto" },
    // IconNames.formatVerticalAlignCenter
    {
      id: "1 1 0%",
      label: /* @__PURE__ */ u(ae, { icon: Z.unfoldMoreHorizontal, size: St, rotate: 90 }),
      title: "Fill container"
    },
    {
      id: "0 1 auto",
      label: /* @__PURE__ */ u(ae, { icon: Z.unfoldLessHorizontal, size: St, rotate: 90 }),
      title: "Hug contents"
    }
  ];
  return G(() => {
    if (!n)
      return () => {
      };
    const { Styles: z } = n, $ = () => {
      const I = n.getSelected();
      let U = {}, ne = {};
      if (I) {
        const Q = I.getEl();
        if (Q) {
          U = window.getComputedStyle(Q);
          const re = Q.parentElement;
          re && (ne = window.getComputedStyle(re));
        }
      }
      s(U), a(ne);
    }, D = z.events.target;
    return n.on(D, $), $(), () => n.off(D, $);
  }, [n]), /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
      Ne,
      {
        ...Lt(l, v),
        ...Jp,
        tip: C(`display.tips.${x}`)
      }
    ) }),
    E && /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(sn, { ...Lr(c, v), options: _ }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(sn, { ...Lr(d, v), options: M }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(sn, { ...Lr(p, v), options: V }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(Sn, { property: b, ...v }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(Ne, { ...Lt(f, v), ...Jp }) }),
      f.getValue() !== "nowrap" && /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(sn, { ...Lr(g, v), options: N }) })
    ] }),
    O && /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(xe, { separatorTop: !0, children: C("flexChild") }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(Sn, { property: y, options: K, ...v }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(sn, { ...Lr(h, v), options: H }) }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(je, { ...lt(m, { sector: e, styleManagerDataConfig: t }) }) })
    ] }),
    w.length > 0 && /* @__PURE__ */ u(Ig, { properties: w, ...v })
  ] });
}
const v8 = [
  "topLeft",
  "topRight",
  "bottomLeft",
  "bottomRight",
  "left",
  "right",
  "bottom",
  "top",
  "full"
];
function y8({ sector: e, styleManagerDataConfig: t }) {
  var h;
  const n = Le(), r = e.getProperty("position"), o = r.getValue(), s = e.getProperty("top"), i = e.getProperty("right"), a = e.getProperty("bottom"), l = e.getProperty("left"), c = { sector: e, styleManagerDataConfig: t }, d = (m) => n.t(`styleManager.position.${m}`), p = v8.map((m) => ({ id: m, label: d(`presets.options.${m}`) })), f = ["absolute", "fixed"].includes(o), g = (m) => {
    let b = "auto", y = "auto", v = "auto", S = "auto";
    switch (m) {
      case "topLeft":
        b = "0%", S = "0%";
        break;
      case "topRight":
        b = "0%", y = "0%";
        break;
      case "bottomLeft":
        v = "0%", S = "0%";
        break;
      case "bottomRight":
        v = "0%", y = "0%";
        break;
      case "left":
        b = "0%", v = "0%", S = "0%";
        break;
      case "right":
        b = "0%", v = "0%", y = "0%";
        break;
      case "bottom":
        S = "0%", v = "0%", y = "0%";
        break;
      case "top":
        S = "0%", b = "0%", y = "0%";
        break;
      case "full":
        S = "0%", b = "0%", y = "0%", v = "0%";
        break;
    }
    s.upValue(b), i.upValue(y), a.upValue(v), l.upValue(S);
  };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ L(xe, { property: r, children: [
      /* @__PURE__ */ u(
        Ne,
        {
          ...Lt(r, c),
          tip: d(`tips.${(h = r.getOption()) == null ? void 0 : h.id}`),
          ...Jp
        }
      ),
      f && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Kt, { title: d("presets.title"), children: /* @__PURE__ */ u(Ne, { options: p, onChange: g, emptyState: "P", size: "s", caret: "", value: !0 }) }) })
    ] }),
    o !== "static" && /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ L(xe, { col: !0, children: [
        /* @__PURE__ */ u(R, { className: Y("gs-utl-w-1/2 gjs-m-auto"), children: /* @__PURE__ */ u(je, { ...lt(s, c) }) }),
        /* @__PURE__ */ L(R, { gap: "s", children: [
          /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { ...lt(l, c) }) }),
          /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(je, { ...lt(i, c) }) })
        ] }),
        /* @__PURE__ */ u(R, { className: Y("gs-utl-w-1/2 gjs-m-auto"), children: /* @__PURE__ */ u(je, { ...lt(a, c) }) })
      ] }),
      /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(je, { ...lt(e.getProperty("z-index"), c) }) })
    ] })
  ] });
}
function w8({ sector: e, styleManagerDataConfig: t }) {
  const n = e.getProperty("width"), r = e.getProperty("min-width"), o = e.getProperty("max-width"), s = e.getProperty("height"), i = e.getProperty("min-height"), a = e.getProperty("max-height"), l = { sector: e, styleManagerDataConfig: t };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ L(xe, { property: [n, s], children: [
      /* @__PURE__ */ u(je, { ...lt(n, l) }),
      /* @__PURE__ */ u(je, { ...lt(s, l) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [r, i], children: [
      /* @__PURE__ */ u(je, { ...lt(r, l) }),
      /* @__PURE__ */ u(je, { ...lt(i, l) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [o, a], children: [
      /* @__PURE__ */ u(je, { ...lt(o, l) }),
      /* @__PURE__ */ u(je, { ...lt(a, l) })
    ] })
  ] });
}
function S8({ sector: e, styleManagerDataConfig: t }) {
  const n = { sector: e, styleManagerDataConfig: t };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(Sn, { property: e.getProperty("padding"), ...n }),
    /* @__PURE__ */ u(Sn, { property: e.getProperty("margin"), ...n })
  ] });
}
function C8({ sector: e, styleManagerDataConfig: t }) {
  const n = e.getProperty("font-family"), r = e.getProperty("color"), o = e.getProperty("font-size"), s = e.getProperty("font-weight"), i = e.getProperty("line-height"), a = e.getProperty("letter-spacing"), l = e.getProperty("text-align"), c = e.getProperty("vertical-align"), d = e.getProperty("text-decoration"), p = e.getProperty("text-transform"), f = e.getProperty("direction"), g = e.getProperty("white-space"), h = { sector: e, styleManagerDataConfig: t }, { sdkAddFonts: m } = il();
  return /* @__PURE__ */ L(pe, { children: [
    !!n && /* @__PURE__ */ u(xe, { property: n, children: m ? /* @__PURE__ */ u(Pu, { ...uw(n, h) }) : /* @__PURE__ */ u(Ne, { ...Lt(n, h) }) }),
    !!r && /* @__PURE__ */ u(xe, { property: r, children: /* @__PURE__ */ u(go, { ...As(r, h) }) }),
    /* @__PURE__ */ L(xe, { property: [o, s], children: [
      !!o && /* @__PURE__ */ u(je, { ...lt(o, h) }),
      !!s && /* @__PURE__ */ u(Ne, { ...Lt(s, h) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [i, a], children: [
      !!i && /* @__PURE__ */ u(je, { ...lt(i, h) }),
      !!a && /* @__PURE__ */ u(je, { ...lt(a, h) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [l, c], children: [
      !!l && /* @__PURE__ */ u(Ne, { ...Lt(l, h) }),
      !!c && /* @__PURE__ */ u(Ne, { ...Lt(c, h) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [p, f], children: [
      !!p && /* @__PURE__ */ u(Ne, { ...Lt(p, h) }),
      !!f && /* @__PURE__ */ u(Ne, { ...Lt(f, h) })
    ] }),
    /* @__PURE__ */ L(xe, { property: [g, d], children: [
      !!g && /* @__PURE__ */ u(Ne, { ...Lt(g, h) }),
      !!d && /* @__PURE__ */ u(Ne, { ...Lt(d, h) })
    ] })
  ] });
}
const Jp = {
  row: !0,
  classNameLabel: "gs-utl-w-full"
}, x8 = ({ property: e, skipClear: t, label: n, afterLabelButtons: r = [] }) => /* @__PURE__ */ L(R, { nowrap: !0, full: !0, items: "center", justify: "between", gap: "s", children: [
  /* @__PURE__ */ u(j, { grow: !1, children: /* @__PURE__ */ u(Eo, { property: e, skipClear: t, label: n }) }),
  !!r.length && /* @__PURE__ */ u(R, { nowrap: !0, items: "center", justify: "start", gap: "x2s", children: r.map((o, s) => /* @__PURE__ */ u(_t, { ...o }, s)) })
] }), aw = "gs-style-manager", Lc = `${aw}-sector`, P8 = `${Lc}-header`, E8 = `${Lc}-content`, lw = (e, t = 0, n = !0) => k(P8, F.bgH2, Ve.xyS, F.br, t && le.bt, (e || n) && le.bb), T8 = (e, t = {}) => e.getOptions().map((n) => ({
  id: e.getOptionId(n),
  label: e.getOptionLabel(e.getOptionId(n), t),
  title: n.title
})), O8 = (e, t) => t.map((n) => ({
  ...n,
  title: e.getOptionLabel(e.getOptionId(n))
})), ul = (e, t) => {
  const n = _8(e, t), r = Hy(n), { hasDataResolverValue: o } = n, { label: s } = t;
  return {
    connectDataSources: n,
    commonProps: {
      size: "s",
      disabled: o,
      placeholder: e.getDefaultValue(),
      tip: e.get("tip") || e.get("info"),
      labelAs: r.length ? "span" : void 0,
      label: /* @__PURE__ */ u(
        x8,
        {
          property: e,
          skipClear: o,
          label: s,
          afterLabelButtons: r
        }
      )
    }
  };
}, jg = (e, t) => {
  const { connectDataSources: n, commonProps: r } = ul(e, t);
  return {
    ...r,
    value: n.dataResolverValue ?? e.getValue({ noDefault: !0 }),
    onChange: (o, s) => e.upValue(o, { partial: s })
  };
}, cw = (e, t, n) => {
  const { connectDataSources: r, commonProps: o } = ul(e, t), { hasDataResolverValue: s, initialDataValue: i } = r;
  return {
    fieldProps: {
      ...o,
      value: s ? i : e.getValue(),
      options: T8(e, n ?? {}),
      onChange: (a) => e.upValue(a)
    },
    connectDataSources: r
  };
}, Lr = (e, t, n) => cw(e, t, n).fieldProps, Lt = (e, t, n) => {
  const { fieldProps: r, connectDataSources: o } = cw(e, t, n), { hasDataResolverValue: s } = o, i = s ? e.getValue() || " " : r.emptyState;
  return {
    ...r,
    emptyState: i,
    hideCaret: s
  };
}, uw = (e, t) => {
  const { commonProps: n, connectDataSources: r } = ul(e, t), o = r.hasDataResolverValue ? e.getValue() || " " : void 0;
  return {
    ...n,
    options: void 0,
    emptyState: o,
    hideCaret: r.hasDataResolverValue,
    value: r.dataResolverValue ?? e.getValue(),
    onChange: (s) => e.upValue(s)
  };
}, To = (e, t, n = {}) => {
  const { connectDataSources: r, commonProps: o } = ul(e, t), { hasDataResolverValue: s, dataResolverValue: i } = r;
  return {
    ...o,
    title: e.getLabel(),
    emptyState: s ? i : void 0,
    titleAdd: `Add new ${e.getLabel()}`,
    items: s ? [] : e.getLayers(),
    selected: e.getSelectedLayer(),
    renderItem: (a) => e.getLayerLabel(a),
    add: s ? void 0 : () => e.addLayer(n, { at: 0 }),
    select: (a) => e.selectLayer(a),
    remove: (a) => e.removeLayer(a),
    move: (a, l = 0) => e.moveLayer(a, l)
  };
}, lt = (e, t) => {
  const { connectDataSources: n, commonProps: r } = ul(e, t), { hasDataResolverValue: o } = n;
  return {
    ...r,
    value: n.dataResolverValue ?? e.getValue({ noDefault: !0 }),
    onChange: (s, i) => e.upValue(s, { partial: i }),
    valueUnit: e.getUnit(),
    pan: !o,
    units: o ? [] : e.getUnits(),
    min: e.getMin(),
    max: e.getMax() || void 0,
    step: e.getStep(),
    onChangeUnit: (s) => e.upUnit(s)
  };
};
function _8(e, t) {
  const { styleManagerDataConfig: n = !1, sector: r } = t, o = e.em.getEditor(), { Styles: s } = o, i = o.getSelected(), a = s.getSelectedAll(), l = s.getSelected();
  let c = !1;
  n === !0 ? c = !0 : i && gr(n) && it(n.enable) && (c = n.enable({
    property: e,
    sector: r,
    component: i,
    editor: o
  }));
  const d = e.getName(), p = (l == null ? void 0 : l.getStyle("", { skipResolve: !0 })[d]) ?? "", f = Do(p), g = i == null ? void 0 : i.collectionsStateMap;
  return {
    hasDataResolverValue: f,
    dataResolverValue: f ? l == null ? void 0 : l.getStyle()[d] : void 0,
    enableDataValue: c,
    initialDataValue: p,
    handleDataValueChange: (h) => {
      a.forEach((m) => {
        m.addStyle({ [d]: h });
      });
    },
    handleValueClear: () => {
      a.forEach((h) => {
        const m = h.getStyle()[d] ?? "";
        h.addStyle({ [d]: m });
      });
    },
    editor: o,
    additionalSources: g
  };
}
const As = (e, t) => jg(e, t), A8 = (e, t) => {
  const { label: n, ...r } = jg(e, t);
  return {
    ...r,
    label: n,
    isContain: e.get("contain") ?? !0,
    hideButton: r.disabled,
    inputField: e.get("inputField"),
    onOpen() {
      const o = e.em.Assets;
      o.open({
        select(s) {
          e.upValue(s.getSrc()), o.close();
        }
      });
    }
  };
}, L8 = (e, { styleManagerDataConfig: t }) => {
  const n = e.getId();
  let r = u8;
  switch (n) {
    case "gs-layout":
      r = b8;
      break;
    case "gs-size":
      r = w8;
      break;
    case "gs-space":
      r = S8;
      break;
    case "gs-position":
      r = y8;
      break;
    case "gs-borders":
      r = p8;
      break;
    case "gs-effects":
      r = g8;
      break;
    case "gs-typography":
      r = C8;
      break;
    case "gs-background":
      r = M8;
      break;
  }
  return /* @__PURE__ */ u(r, { sector: e, styleManagerDataConfig: t });
}, Dd = {}, dw = ce(function({
  className: t,
  sectors: n
}) {
  var f;
  const [r, o] = W(Dd), s = we(), { editor: i } = s, a = i == null ? void 0 : i.Styles, l = a == null ? void 0 : a.getSelected(), c = i == null ? void 0 : i.getSelected();
  if (G(() => {
    if (c && i) {
      const g = setTimeout(() => {
        let h = Dd;
        const m = c.get("styleManager");
        it(m) && (h = m({ editor: i, component: c })), o(h || Dd);
      });
      return () => clearTimeout(g);
    }
  }, [c, i]), !a || !l)
    return null;
  const d = n.length ? n : a.getSectors({ visible: !0 }), p = (f = s.sdkOptions.dataSources) == null ? void 0 : f.styleManager;
  return r.disabled ? null : /* @__PURE__ */ u("div", { className: k(aw, t, "gs-utl-select-none"), children: d.map((g, h) => /* @__PURE__ */ u(
    js,
    {
      open: g.isOpen(),
      onChange: ({ open: m }) => g.setOpen(m),
      classNameWrap: k(Lc, `${Lc}__${g.id}`),
      sticky: !0,
      handler: () => {
        const m = g.getProperties({ withValue: !0 }).length > 0, b = g.getProperties({ withParentValue: !0 }).length > 0;
        return /* @__PURE__ */ L(R, { gap: "xs", items: "center", children: [
          /* @__PURE__ */ u(j, { className: "gs-utl-mr-2", children: g.getName() }),
          m && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("div", { className: k(De.dot, F.bgA2) }) }),
          b && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u("div", { className: k(De.dot, F.bgW) }) })
        ] });
      },
      className: (m) => lw(m, h, h === d.length - 1),
      children: /* @__PURE__ */ u(R, { className: k(E8, "gs-utl-p-2 gs-utl-gap-2"), col: !0, children: L8(g, { styleManagerDataConfig: p }) })
    },
    g.id
  )) });
});
var ko = /* @__PURE__ */ ((e) => (e.Image = "image", e.Gradient = "gradient", e.Color = "color", e))(ko || {});
const cc = "background-image", $r = "__background-type", ua = cc, pw = "https://placehold.co/150/777/white.png?text=IMAGE", Qp = "50px", N8 = {
  [$r]: "image",
  "background-image": `url("${pw}")`,
  "background-size": `${Qp} ${Qp}`,
  "background-repeat": "repeat",
  "background-position": "0px 0px"
}, k8 = (e) => (e.includes("gradient(") ? Og(e).colorStops[0].color : e) || "";
function M8({ sector: e, styleManagerDataConfig: t }) {
  var v;
  const n = rr(), r = e.getProperty("background"), o = r.getProperty($r), s = r.getProperty("background-image"), i = r.getProperty("background-position"), a = r.getProperty("background-size"), l = e.getProperty("background-color"), c = e.getProperty("background-clip"), d = { sector: e, styleManagerDataConfig: t }, p = ((v = r.getSelectedLayer()) == null ? void 0 : v.getIndex()) || -1, f = o == null ? void 0 : o.getValue(), g = f === "image", h = s.getValue(), m = () => {
    const S = n.Assets;
    S.open({
      select(w) {
        const C = w.getSrc();
        s.upValue(`url("${C}")`), S.close();
      }
    });
  }, b = (S) => {
    let w = "none", C = "100%";
    S === "image" ? (w = `url("${pw}")`, C = Qp) : S === "gradient" ? w = "linear-gradient(90deg, black 10%, white 90%)" : S === "color" && (w = "rgba(0, 0, 0, 0.5)"), s.upValue(w), o.upValue(S), i.upValue("0 0"), a.upValue(`${C} ${C}`);
  }, y = O8(o, [
    { id: "image", label: /* @__PURE__ */ u(ae, { icon: Z.image, size: fe.s }) },
    { id: "gradient", label: /* @__PURE__ */ u(ae, { icon: Z.gradientVertical, size: fe.s }) },
    { id: "color", label: /* @__PURE__ */ u(ae, { icon: Z.checkboxBlank, size: fe.s }) }
  ]);
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(xe, { property: r, separator: !0, children: /* @__PURE__ */ L(
      Or,
      {
        ...To(r, d, N8),
        previewStyle: (S) => r.getStyleFromLayer(S, { camelCase: !0 }),
        children: [
          /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
            sn,
            {
              ...Lr(o, d),
              options: y,
              onChange: b,
              label: void 0
            }
          ) }),
          /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ L(Eo, { children: [
            g && /* @__PURE__ */ u(Na, { value: wu(h).value, onOpen: m }),
            f === "color" && /* @__PURE__ */ u(
              go,
              {
                ...As(s, d),
                value: k8(h),
                label: void 0
              }
            ),
            f === "gradient" && /* @__PURE__ */ u(
              LM,
              {
                value: h,
                onChange: (S, w) => s.upValue(S, { partial: w })
              },
              p
            )
          ] }) }),
          g && /* @__PURE__ */ L(pe, { children: [
            /* @__PURE__ */ u(xe, { col: !0, children: /* @__PURE__ */ u(Sn, { property: i, ...d }) }),
            /* @__PURE__ */ u(xe, { col: !0, children: /* @__PURE__ */ u(Sn, { property: a, ...d }) }),
            /* @__PURE__ */ L(xe, { children: [
              /* @__PURE__ */ u(
                Ne,
                {
                  ...Lt(r.getProperty("background-repeat"), { sector: e })
                }
              ),
              /* @__PURE__ */ u(
                Ne,
                {
                  ...Lt(r.getProperty("background-attachment"), { sector: e })
                }
              )
            ] }),
            /* @__PURE__ */ u(xe, { children: /* @__PURE__ */ u(
              Ne,
              {
                ...Lt(r.getProperty("background-origin"), { sector: e })
              }
            ) })
          ] })
        ]
      }
    ) }),
    /* @__PURE__ */ u(xe, { property: l, children: /* @__PURE__ */ u(go, { ...As(l, d) }) }),
    /* @__PURE__ */ u(xe, { property: c, children: /* @__PURE__ */ u(Ne, { ...Lt(c, d) }) })
  ] });
}
const jl = ["%"], Vl = ["s", "ms"], Wi = ["deg", "rad", "grad"], Pr = ["px", "%", "em", "rem", "vw", "vh"], c1 = {
  type: "select",
  options: ["visible", "hidden", "scroll", "auto"].map((e) => ({ id: e })),
  default: "visible"
}, $8 = (e) => `linear-gradient(${e} 1%, ${e} 100%)`, Nc = (e) => ({ id: e, label: e.split("-").map(Mr).join(" ") }), fw = (e) => ({ property: t, to: n }) => {
  if (n.value) {
    const r = t.getOption(), o = t.getParent().getProperty(e), s = o.getUnit(), i = {
      units: r.units || [],
      min: r.min,
      max: r.max,
      unit: ""
    };
    (!s || (i == null ? void 0 : i.units.indexOf(s)) < 0) && (i.unit = (i == null ? void 0 : i.units[0]) || ""), o.up(i);
  }
}, R8 = (e) => {
  const t = `${e}-name`, n = `${e}-value`;
  return (r, { separatorLayers: o }) => {
    const s = r[e] || "";
    return s ? s.split(o).map((i) => {
      const { name: a, value: l } = wu(i);
      return { [t]: a, [n]: l };
    }) : [];
  };
}, u1 = (e) => {
  const t = {
    [ua]: e
  };
  if (e.indexOf("url(") > -1)
    t[$r] = ko.Image;
  else if (e.indexOf("gradient(") > -1) {
    const n = Og(e), r = n.colorStops, o = n.name.indexOf("linear") >= 0;
    r.length === 2 && o && r[0].color === r[1].color ? t[$r] = ko.Color : t[$r] = ko.Gradient;
  } else
    t[$r] = ko.Color, t[ua] = $8(e);
  return t;
}, d1 = (e = "filter") => {
  const t = `${e}-name`, n = `${e}-value`;
  return {
    property: e,
    type: "stack",
    layerSeparator: " ",
    fromStyle(r, { separatorLayers: o }) {
      const s = r[e] || "";
      return s ? s.split(o).map((i) => {
        const { name: a, value: l } = wu(i);
        return { [t]: a, [n]: l };
      }) : [];
    },
    toStyle(r, { name: o }) {
      return { [o]: `${r[t]}(${r[n] || "0"})` };
    },
    properties: [
      {
        property: t,
        type: "select",
        default: "blur",
        options: [
          { id: "blur", label: "Blur", min: 0, units: ["px", "em", "rem", "vw", "vh"] },
          { id: "brightness", label: "Brightness", min: 0, units: ["%"] },
          { id: "contrast", label: "Contrast", min: 0, units: ["%"] },
          { id: "grayscale", label: "Grayscale", min: 0, max: 100, units: ["%"] },
          { id: "hue-rotate", label: "Hue rotate", min: 0, max: 360, units: ["deg", "rad", "grad"] },
          { id: "invert", label: "Invert", min: 0, max: 100, units: ["%"] },
          { id: "saturate", label: "Saturate", min: 0, units: ["%"] },
          { id: "sepia", label: "Sepia", min: 0, max: 100, units: ["%"] }
        ],
        onChange: fw(n)
      },
      {
        property: n,
        type: "integer"
      }
    ]
  };
}, Dl = (e, { x: t, y: n, mergable: r } = {}) => {
  const o = {
    property: `${e}-x`,
    type: "integer",
    units: Pr,
    ...t
  }, s = {
    property: `${e}-y`,
    type: "integer",
    units: Pr,
    ...n
  };
  return {
    property: e,
    type: "composite",
    properties: [o, s],
    ...r && {
      fromStyle(i, { name: a, separator: l, property: c }) {
        const [d, p] = c.getProperties(), [f, g] = (i[a] || "").split(l);
        return {
          [d.getId()]: i[d.getName()] || f || "",
          [p.getId()]: i[p.getName()] || g || f || ""
        };
      },
      toStyle(i, { name: a, property: l }) {
        const [c, d] = l.getProperties(), p = i[c.getId()], f = i[d.getId()];
        return {
          [a]: p === f ? p : `${p} ${f}`
        };
      }
    }
  };
}, I8 = (e, t = "") => {
  const n = `${e}-name`, r = `${e}-value`;
  return (o, { name: s }) => ({ [s]: `${o[n]}(${o[r] || t})` });
}, j8 = [
  {
    name: "Size",
    open: !1,
    buildProps: ["width", "height", "max-width", "min-height"],
    properties: [
      {
        property: "icon-size",
        type: "number",
        defaults: "20px",
        units: ["px", "%"]
      }
    ]
  },
  {
    name: "Space",
    open: !1,
    buildProps: ["margin", "padding", "inner-padding", "vertical-align"],
    properties: [
      {
        property: "margin",
        properties: [
          { name: "Top", property: "margin-top" },
          { name: "Right", property: "margin-right" },
          { name: "Bottom", property: "margin-bottom" },
          { name: "Left", property: "margin-left" }
        ]
      },
      {
        property: "padding",
        properties: [
          { name: "Top", property: "padding-top" },
          { name: "Right", property: "padding-right" },
          { name: "Bottom", property: "padding-bottom" },
          { name: "Left", property: "padding-left" }
        ]
      },
      {
        extend: "padding",
        property: "inner-padding",
        isVisible: ({ component: e }) => e && ["mj-button", "mj-social"].includes(e.getType())
      },
      {
        property: "vertical-align",
        type: "select",
        options: ["top", "middle", "bottom"].map(Nc)
      }
      // { // not yet supported in our MJML version
      //   type: 'integer',
      //   property: 'gap',
      //   default: '0',
      //   units: ['px'],
      //   min: 0
      // }
    ]
  },
  {
    name: "Typography",
    open: !1,
    buildProps: [
      "font-family",
      "font-size",
      "font-weight",
      "letter-spacing",
      "color",
      "line-height",
      "text-align",
      "align",
      "text-decoration",
      "font-style"
    ],
    properties: [
      { name: "Font", property: "font-family" },
      { name: "Weight", property: "font-weight" },
      { name: "Font color", property: "color" },
      {
        property: "text-align",
        defaults: "left",
        type: "select",
        options: [
          { id: "left", label: "Left" },
          { id: "center", label: "Center" },
          { id: "right", label: "Right" },
          { id: "justify", label: "Justify" }
        ]
      },
      {
        property: "align",
        defaults: "left",
        type: "select",
        options: [
          { id: "left", label: "Left" },
          { id: "center", label: "Center" },
          { id: "right", label: "Right" },
          { id: "justify", label: "Justify" }
        ]
      },
      {
        property: "text-decoration",
        type: "select",
        defaults: "none",
        options: [
          { id: "none", label: "None" },
          { id: "underline", label: "underline" },
          { id: "line-through", label: "Line-through" }
        ]
      },
      {
        property: "font-style",
        type: "select",
        defaults: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "italic", label: "Italic" }
        ]
      }
    ]
  },
  {
    name: "Borders",
    open: !1,
    buildProps: ["border-radius", "border"],
    properties: [
      {
        property: "border-radius",
        // @ts-ignore custom property for our UI
        corners: !0,
        properties: [
          { name: "Top", property: "border-top-left-radius" },
          { name: "Right", property: "border-top-right-radius" },
          { name: "Bottom", property: "border-bottom-left-radius" },
          { name: "Left", property: "border-bottom-right-radius" }
        ]
      },
      {
        property: "border",
        generic: !0
      },
      {
        property: "border-detached",
        name: "Border",
        type: "composite",
        detached: !0,
        generic: !0,
        properties: [
          { name: "Width", property: "border-width", type: "integer", units: ["px", "%"] },
          {
            name: "Style",
            property: "border-style",
            type: "select",
            options: ["none", "solid", "dotted", "dashed", "double", "groove", "ridge", "inset", "outset"].map(
              Nc
            )
          },
          { name: "Color", property: "border-color", type: "color" }
        ]
      }
    ]
  },
  {
    name: "Decorations",
    open: !1,
    buildProps: [
      "background-color",
      "inner-background-color",
      "container-background-color",
      "background-url",
      "background-position",
      "background-repeat",
      "background-size"
    ],
    properties: [
      {
        name: "Container background",
        property: "container-background-color",
        default: "none",
        full: !0,
        type: "color"
      },
      {
        name: "Inner background",
        property: "inner-background-color",
        info: "Requires padding to be set",
        default: "none",
        full: !0,
        type: "color"
      },
      {
        property: "background-url",
        name: "Background image",
        type: "file",
        // @ts-expect-error not typed
        inputField: !0
      },
      {
        property: "background-position",
        name: "Background position",
        type: "composite",
        properties: ["background-position-x", "background-position-y"].map((e) => ({
          type: "integer",
          property: e,
          fixedValues: e === "background-position-x" ? ["left", "center", "right"] : ["top", "center", "bottom"],
          units: ["px"],
          default: "auto"
        }))
      },
      {
        property: "background-repeat",
        default: "repeat",
        type: "select",
        options: [
          { id: "repeat", label: "Repeat" },
          { id: "no-repeat", label: "No repeat" }
        ]
      }
    ]
  }
], V8 = [
  {
    id: "gs-layout",
    name: "Layout",
    properties: [
      { extend: "display" },
      {
        extend: "flex-direction",
        name: "Direction",
        type: "radio",
        default: "row"
      },
      {
        extend: "justify-content",
        type: "radio",
        default: "flex-start"
      },
      {
        extend: "align-items",
        type: "radio",
        default: "stretch"
      },
      Dl("gap", {
        x: { property: "row-gap", min: 0, default: "0" },
        y: { property: "column-gap", min: 0, default: "0" },
        mergable: !0
      }),
      { extend: "flex-wrap" },
      { extend: "align-content" },
      { extend: "align-self" },
      { extend: "order" },
      {
        property: "flex",
        type: "composite",
        // detached: true,
        properties: [
          {
            type: "integer",
            property: "flex-grow",
            default: "0",
            min: 0
          },
          {
            type: "integer",
            property: "flex-shrink",
            default: "0",
            min: 0
          },
          {
            type: "integer",
            property: "flex-basis",
            fixedValues: ["auto"],
            default: "auto",
            units: Pr,
            min: 0
          }
        ]
      }
    ]
  },
  {
    id: "gs-size",
    name: "Size",
    properties: [
      { extend: "width" },
      { extend: "min-width" },
      { extend: "max-width" },
      { extend: "height" },
      { extend: "min-height" },
      { extend: "max-height" }
    ]
  },
  {
    id: "gs-space",
    name: "Space",
    properties: [
      {
        extend: "padding",
        detached: !0
      },
      {
        extend: "margin",
        detached: !0
      }
    ]
  },
  {
    id: "gs-position",
    name: "Position",
    properties: [
      {
        extend: "position",
        options: [
          { id: "static", label: "Static" },
          { id: "relative", label: "Relative" },
          { id: "absolute", label: "Absolute" },
          { id: "fixed", label: "Fixed" },
          { id: "sticky", label: "Sticky" }
        ],
        onChange({ opts: e, property: t }) {
          if (e.__clear) {
            const n = { top: "", right: "", bottom: "", left: "", "z-index": "" };
            t.__upTargetsStyle(n, e);
          }
        }
      },
      { extend: "top" },
      { extend: "right" },
      { extend: "bottom" },
      { extend: "left" },
      {
        extend: "z-index",
        type: "integer",
        default: "0"
      }
    ]
  },
  {
    id: "gs-typography",
    name: "Typography",
    properties: [
      { extend: "font-family" },
      { extend: "color" },
      { extend: "font-size" },
      { extend: "font-weight" },
      { extend: "line-height", min: 0 },
      { extend: "letter-spacing" },
      { extend: "text-align" },
      {
        property: "vertical-align",
        type: "select",
        default: "baseline",
        options: ["baseline", "top", "middle", "bottom"].map(Nc)
      },
      {
        extend: "text-decoration",
        type: "select",
        default: "none",
        options: [
          { id: "none", label: "None" },
          { id: "underline", label: "Underline" },
          { id: "overline", label: "Overline" },
          { id: "line-through", label: "Line through" }
        ]
      },
      {
        extend: "text-transform",
        type: "select",
        default: "none",
        options: [
          { id: "none", label: "None" },
          { id: "capitalize", label: "Capitalize" },
          { id: "uppercase", label: "Uppercase" },
          { id: "lowercase", label: "Lowercase" }
        ]
      },
      {
        extend: "direction",
        type: "radio",
        default: "ltr",
        options: [
          { id: "ltr", label: "LTR" },
          { id: "rtl", label: "RTL" }
        ]
      },
      {
        extend: "white-space",
        type: "select",
        default: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "nowrap", label: "No wrap" },
          { id: "pre", label: "Pre" },
          { id: "pre-wrap", label: "Pre wrap" },
          { id: "pre-line", label: "Pre line" },
          { id: "break-spaces", label: "Break spaces" }
        ]
      }
      // text-overflow: ellipsis; white-space: nowrap; overflow: hidden;
      // List of default fonts: https://stackoverflow.com/a/62755574
      //  Safe webfonts: https://web.mit.edu/jmorzins/www/fonts.html#sans-serif
      //  List per platform: https://granneman.com/webdev/coding/css/fonts-and-formatting/default-fonts
    ]
  },
  {
    id: "gs-background",
    name: "Background",
    properties: [
      // Stack of backgrounds (Color - Gradient - Image/Patterns)
      {
        property: "background",
        type: "stack",
        layerSeparator: JC("(?<!\\(.*[^)]),(?![^()]*\\))") || ", ",
        layerJoin: ", ",
        // 1. "simple" -> 1
        // 2. "simple, simple" -> 2
        // 3. "rgba(1px, 2px, 3px)" -> 1
        // 4. "rgba(1px, 2px, 3px), rgba(1px, 2px, 3px)" -> 2
        // 5. "rgba(1px, rgba(11px, 22px, 33px), 3px), rgba(1px, rgba(11px, 22px, 33px), 3px)" -> 2
        // 6. "rgba(1px, rgba(11px, 22px, 33px), 3px)" -> 1
        // 7a. "linear(rgb(1, 2, 3, 5), rgb(1, 2, 3, 5))" -> 1 || "/(?<!\(.*[^)]),(?![^(]*\))/"
        // 7b. "linear(rgb(1, 2, 3, 5) 1px, rgb(1, 2, 3, 5))" -> 1
        // /(?<!\(*[^)]),(?![^(]*\))/ > fails 2.
        // /(?<!\(.*[^)]),(?![^(]*\))/ > fails 7a.
        detached: !0,
        layerLabel: (e, { values: t, property: n }) => n.getProperty($r).getOptionLabel(t[$r]),
        toStyle(e) {
          const t = e[$r];
          let n = e[ua];
          return t === "color" && n.indexOf("linear-gradient") < 0 && (n = `linear-gradient(${n} 1%, ${n} 100%)`), {
            ...e,
            [ua]: n
          };
        },
        fromStyle(e, { property: t, name: n, separatorLayers: r }) {
          const o = r, s = t.getProperties();
          let i = [];
          return e[cc] ? (i = t.__splitStyleName(e, cc, o).map(u1), s.forEach((a) => {
            const l = a.getId(), c = a.getName();
            c !== cc && t.__splitStyleName(e, c, o).map((d) => ({ [l]: d || a.getDefaultValue() })).forEach((d, p) => {
              i[p] = i[p] ? { ...i[p], ...d } : d;
            });
          })) : e[n] && (i = t.__splitStyleName(e, n, /(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map((a) => a.substring(0, a.lastIndexOf(")") + 1)).map(u1)), i;
        },
        properties: [
          {
            property: $r,
            type: "radio",
            default: "image",
            options: [{ id: ko.Image }, { id: ko.Gradient }, { id: ko.Color }]
          },
          {
            // Specs: https://www.w3.org/TR/css-images-3/
            // <url> | <gradient> (https://github.com/rafaelcaricio/gradient-parser)
            // <gradient> = <linear-gradient()> | <repeating-linear-gradient()> | <radial-gradient()> | <repeating-radial-gradient()>
            // <linear-gradient()> = linear-gradient([ <angle> | to <side-or-corner> ]? , <color-stop-list>)
            // <radial-gradient()> = radial-gradient([ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list>
            //    radial-gradient(5em circle at top left, yellow, blue)
            // <color-stop-list> = <linear-color-stop> , [ <linear-color-hint>? , <linear-color-stop> ]
            //  fn(red 40%, white) | fn(white calc(-25px + 50%), blue)
            // Regex
            // <side-or-corner>: /^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,
            // <ending-shape>: /^circle|ellipse/i,
            // <size>: /^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/, // | <length> | <length-percentage>{2}
            // <position>: /^at/ // position: at top left, at 20px, at 10% 15%
            property: ua,
            default: "none"
            // url(), gradient, none
          },
          {
            property: "background-position",
            type: "composite",
            // default: '0%', // left | center | right | top | bottom
            properties: ["background-position-x", "background-position-y"].map((e) => ({
              type: "integer",
              property: e,
              units: Pr,
              default: "0px"
            }))
          },
          {
            // Keyword: contain | cover; One-value syntax; Two-value syntax
            property: "background-size",
            type: "composite",
            properties: ["background-size-x", "background-size-y"].map((e) => ({
              type: "integer",
              property: e,
              units: Pr,
              default: "auto"
            }))
          },
          {
            property: "background-repeat",
            // box (x, y)
            default: "repeat",
            type: "select",
            options: [
              // background-repeat-x background-repeat-x
              { id: "repeat", label: "Repeat" },
              { id: "repeat-x", label: "Repeat x" },
              { id: "repeat-y", label: "Repeat y" },
              { id: "no-repeat", label: "No repeat" },
              { id: "space", label: "Space" },
              { id: "round", label: "Round" }
            ]
          },
          {
            property: "background-attachment",
            default: "scroll",
            type: "select",
            options: [
              { id: "scroll", label: "Scroll" },
              { id: "fixed", label: "Fixed" }
            ]
          },
          {
            property: "background-origin",
            default: "padding-box",
            type: "select",
            options: [
              { id: "padding-box", label: "Padding box" },
              { id: "border-box", label: "Border box" },
              { id: "content-box", label: "Content box" }
            ]
          }
        ]
      },
      {
        property: "background-color",
        type: "color",
        default: "none"
      },
      {
        property: "background-clip",
        default: "border-box",
        type: "select",
        options: [
          { id: "border-box", label: "Border box" },
          { id: "padding-box", label: "Padding box" },
          { id: "content-box", label: "Content box" },
          { id: "text", label: "Text" }
        ],
        onChange({ to: e, property: t, opts: n }) {
          const { value: r } = e;
          if (r !== void 0) {
            const o = r === "text";
            t.__upTargetsStyle(
              {
                "-webkit-background-clip": o ? r : "",
                "-webkit-text-fill-color": o ? "transparent" : ""
              },
              n
            );
          }
        }
      }
    ]
  },
  {
    id: "gs-borders",
    name: "Borders",
    properties: [
      {
        extend: "border-radius",
        detached: !0
      },
      {
        extend: "border-width",
        type: "composite",
        detached: !0,
        properties: ["border-top-width", "border-right-width", "border-bottom-width", "border-left-width"].map(
          (e) => ({
            type: "integer",
            property: e,
            default: "0",
            units: Pr
          })
        )
      },
      {
        extend: "border-style",
        type: "composite",
        detached: !0,
        properties: ["border-top-style", "border-right-style", "border-bottom-style", "border-left-style"].map(
          (e) => ({
            type: "select",
            property: e,
            default: "none",
            options: [
              { id: "none", label: "None" },
              { id: "solid", label: "Solid" },
              { id: "dotted", label: "Dotted" },
              { id: "dashed", label: "Dashed" },
              { id: "double", label: "Double" },
              { id: "groove", label: "Groove" },
              { id: "ridge", label: "Ridge" },
              { id: "inset", label: "Inset" },
              { id: "outset", label: "Outset" }
            ]
          })
        )
      },
      {
        extend: "border-color",
        type: "composite",
        detached: !0,
        properties: ["border-top-color", "border-right-color", "border-bottom-color", "border-left-color"].map(
          (e) => ({
            type: "color",
            property: e,
            default: "currentColor"
          })
        )
      }
    ]
  },
  {
    id: "gs-effects",
    name: "Effects",
    properties: [
      {
        property: "opacity",
        type: "integer",
        min: 0,
        max: 100,
        default: "100",
        units: ["%"]
      },
      {
        property: "mix-blend-mode",
        type: "select",
        default: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "multiply", label: "Multiply" },
          { id: "screen", label: "Screen" },
          { id: "overlay", label: "Overlay" },
          { id: "darken", label: "Darken" },
          { id: "lighten", label: "Lighten" },
          { id: "color-dodge", label: "Color dodge" },
          { id: "color-burn", label: "Color burn" },
          { id: "hard-light", label: "Hard light" },
          { id: "soft-light", label: "Soft light" },
          { id: "difference", label: "Difference" },
          { id: "exclusion", label: "Exclusion" },
          { id: "hue", label: "Hue" },
          { id: "saturation", label: "Saturation" },
          { id: "color", label: "Color" },
          { id: "luminosity", label: "Luminosity" }
        ]
      },
      { extend: "cursor" },
      Dl("overflow", {
        x: c1,
        y: c1,
        mergable: !0
      }),
      {
        extend: "box-shadow",
        fromStyle(e, { separatorLayers: t }) {
          const n = e["box-shadow"] || "";
          return n ? n.split(t).map((o) => {
            const { x: s, y: i, blur: a, spread: l, inset: c, color: d } = Im(o);
            return {
              "box-shadow-h": s,
              "box-shadow-v": i,
              "box-shadow-blur": a,
              "box-shadow-spread": l,
              "box-shadow-color": d,
              "box-shadow-type": c ? "inset" : ""
            };
          }) : [];
        }
      },
      {
        extend: "text-shadow",
        fromStyle(e, { separatorLayers: t }) {
          const n = e["text-shadow"] || "";
          return n ? n.split(t).map((o) => {
            const { x: s, y: i, blur: a, color: l } = Im(o);
            return {
              "text-shadow-h": s,
              "text-shadow-v": i,
              "text-shadow-blur": a,
              "text-shadow-color": l
            };
          }) : [];
        }
      },
      d1(),
      d1("backdrop-filter"),
      {
        property: "transition",
        type: "stack",
        layerLabel: (e, { values: t }) => `${Mr(t["transition-property"])}: ${t["transition-duration"]}`,
        properties: [
          {
            property: "transition-property",
            type: "select",
            default: "opacity",
            options: [
              // Size
              "width",
              "height",
              "min-width",
              "min-height",
              "max-width",
              "max-height",
              // Layout
              "padding",
              "margin",
              // Typography
              "color",
              "font-size",
              "line-height",
              "letter-height",
              // Border
              "border",
              "border-radius",
              // 'border-color', 'border-width',
              // Background
              "background",
              // Effects
              "opacity",
              "box-shadow",
              "text-shadow",
              "filter",
              "backdrop-filter",
              "transform",
              // Extra
              "all"
            ].map(Nc)
          },
          {
            property: "transition-duration",
            type: "integer",
            default: "1s",
            unit: Vl[0],
            units: Vl,
            min: 0
          },
          {
            property: "transition-timing-function",
            type: "select",
            default: "ease",
            options: [
              { id: "ease", label: "Ease" },
              { id: "ease-in", label: "Ease-In" },
              { id: "ease-in-out", label: "Ease-In-Out" },
              { id: "ease-out", label: "Ease-Out" },
              { id: "linear", label: "Linear" }
            ]
          },
          {
            property: "transition-delay",
            type: "integer",
            default: "0s",
            unit: Vl[0],
            units: Vl
          }
        ]
      },
      {
        property: "transform",
        type: "stack",
        layerSeparator: " ",
        layerLabel: (e, { values: t, property: n }) => {
          const r = n.getProperty("transform-name").getOptionLabel(t["transform-name"]);
          return `${Mr(r)}: ${t["transform-value"]}`;
        },
        fromStyle: R8("transform"),
        toStyle: I8("transform", "0"),
        properties: [
          {
            property: "transform-name",
            type: "select",
            default: "translateX",
            options: [
              { id: "translateX", label: "Move X", units: Pr },
              { id: "translateY", label: "Move Y", units: Pr },
              { id: "translateZ", label: "Move Z", units: Pr },
              { id: "rotateX", label: "Rotate X", units: Wi },
              { id: "rotateY", label: "Rotate Y", units: Wi },
              { id: "rotateZ", label: "Rotate Z", units: Wi },
              { id: "scale", label: "Scale", units: jl },
              { id: "scaleX", label: "Scale X", units: jl },
              { id: "scaleY", label: "Scale Y", units: jl },
              { id: "scaleZ", label: "Scale Z", units: jl },
              { id: "skewX", label: "Skew X", units: Wi },
              { id: "skewY", label: "Skew Y", units: Wi }
            ],
            onChange: fw("transform-value")
          },
          {
            property: "transform-value",
            type: "integer",
            default: "0"
          }
        ]
      },
      Dl("transform-origin", {
        x: { default: "50%" },
        y: { default: "50%" }
      }),
      {
        property: "backface-visibility",
        type: "radio",
        default: "visible",
        options: [
          { id: "visible", label: "Visible" },
          { id: "hidden", label: "Hidden" }
        ]
      },
      {
        // Activate on parent element to enable 3D transforms on all of its children
        property: "perspective",
        type: "integer",
        min: 0,
        default: "none",
        units: Pr
      },
      Dl("perspective-origin", {
        x: { default: "50%" },
        y: { default: "50%" }
      }),
      {
        property: "transform-style",
        type: "radio",
        default: "flat",
        options: [
          { id: "flat", label: "2D" },
          { id: "preserve-3d", label: "3D" }
        ]
      }
    ]
  }
], p1 = [
  { id: "desktop", name: "Desktop", width: "" },
  { id: "mobilePortrait", name: "Mobile", width: "320px", widthMedia: "480px" }
];
function gw(e, t) {
  return [
    (n) => JN(n, t),
    ...XN[e],
    (n) => zk(n, t),
    KN(e, t)
  ];
}
function D8(e, t = {}) {
  var i;
  const n = e === ke.email, { devices: r } = t, o = r ? {
    default: r.selected,
    devices: r.default ?? (n ? p1 : void 0)
  } : n ? {
    devices: p1
  } : {}, s = {
    undoManager: { trackSelection: !1 },
    showOffsets: !0,
    cssIcons: "",
    assetManager: {},
    styleManager: {
      sectors: n ? j8 : V8
    },
    parser: {
      optionsHtml: {
        convertDataGjsAttributesHyphens: !0
      }
    },
    selectorManager: {
      componentFirst: !0
    },
    i18n: {
      messagesAdd: wa({ en: SL }, ((i = t.i18n) == null ? void 0 : i.locales) ?? {})
    },
    deviceManager: o,
    canvasCss: `
      [contenteditable] { outline: 0px solid transparent;}
    `,
    canvas: {
      // infiniteCanvas: true,
      customSpots: {
        select: !0,
        hover: !0,
        spacing: !0,
        target: !0
        // resize: true,
      }
    },
    telemetry: !1
  };
  return wa(s, t.gjsOptions ?? {});
}
class H8 {
  constructor(t) {
    this.loadCounter = 0, this.pendingInstalled = [], this.pendingUninstalled = [], this.selectedShown = !1, this.store = t, hn(this, {}, { autoBind: !0 });
  }
  get hasPending() {
    return !!this.pendingInstalled.length || !!this.pendingUninstalled.length;
  }
  *initProjectPlugins(t) {
    this.clearPending();
    const r = (yield Lu()).filter((o) => o.projectType.includes(t));
    this.setProjectPlugins(r);
  }
  setProjectPlugins(t, n = {}) {
    this.projectPlugins = [...t], n.clearPending && this.clearPending();
  }
  clearPending() {
    this.pendingInstalled = [], this.pendingUninstalled = [];
  }
  getPluginsToLoad(t, n) {
    const r = [...gw(t, { appStore: n }), ...this.projectPlugins || []], o = n.sdkOptions.plugins || [];
    return it(o) ? o({ plugins: r }) : [...r, ...o];
  }
  addPendingInstalled(t) {
    const { pendingInstalled: n, pendingUninstalled: r } = this, o = t.id;
    r.includes(o) ? this.pendingUninstalled = r.filter((s) => s !== o) : n.includes(o) || n.push(o);
  }
  addPendingUninstalled(t) {
    const { pendingInstalled: n, pendingUninstalled: r } = this, o = t.id;
    n.includes(o) ? this.pendingInstalled = n.filter((s) => s !== o) : r.push(o);
  }
  setSelectedShown(t) {
    this.selectedShown = t;
  }
}
const Vg = { db: B0.gjsStudio }, Lu = () => new Promise(async (e) => {
  let t = [];
  try {
    t = await l4(Oi.Settings, "plugins", Vg) || [];
  } catch (n) {
    zr() && console.error(n);
  }
  e(t);
}), B8 = (e, t = {}) => new Promise(async (n) => {
  try {
    const o = [...t.installed || await Lu(), e];
    hw().addPendingInstalled(e), t.skipUpdateLocal || await F0(Oi.Settings, "plugins", o, Vg);
  } catch (r) {
    console.error(r);
  }
  n();
}), F8 = (e, t = {}) => new Promise(async (n) => {
  try {
    const o = (t.installed || await Lu()).filter((s) => s.id !== e.id);
    hw().addPendingUninstalled(e), t.skipUpdateLocal || await F0(Oi.Settings, "plugins", o, Vg);
  } catch (r) {
    console.error(r);
  }
  n();
}), Dg = () => tn().pluginStore, hw = () => Nu().pluginStore;
let kc;
const mw = Je(void 0);
class bw {
  constructor(t) {
    this.blockManagerStore = new h4(this), this.appEditorStore = new G8(this, t == null ? void 0 : t.appEditorStore), this.localSettingsStore = new vL(t == null ? void 0 : t.localSettingsStore), this.toastStore = new g4(this), this.modalStore = new wL(this), this.i18nStore = new e4(this), this.pluginStore = new H8(this), this.pointerBadgeStore = new o4(this), this.contextMenu = new bA(this), this.layoutStore = new n4(this), this.templatesStore = new f4(this), this.assetsStore = new JA(this), this.globalStylesStore = new hL(this), this.fontsStore = new QA(this), this.appEditorStore.init(), Sf() && (window.__gjss = this);
  }
}
const z8 = (e) => {
  yL(e.localSettingsStore), q8(e.appEditorStore);
}, U8 = ({ children: e, initialState: t }) => (kc = ue(() => {
  const n = new bw(t);
  return z8(n), n;
}, []), /* @__PURE__ */ u(mw.Provider, { value: kc, children: e })), tn = () => {
  const e = He(mw);
  if (!e)
    throw new Error("useStore must be used inside of StoreProvider");
  return e;
}, Nu = () => {
  if (!kc)
    throw new Error("Store has not been initialized");
  return kc;
}, Hl = ({
  icon: e,
  layout: t,
  tooltip: n,
  className: r,
  forceRemove: o,
  removeLayouts: s
}) => ({
  type: "button",
  icon: e,
  tooltip: n,
  className: r,
  size: "s",
  editorEvents: {
    [`${Rn.layoutToggleId}${t.id}`]: ({ fromEvent: i, setState: a }) => {
      a({ active: i.isOpen });
    }
  },
  onClick: ({ editor: i }) => {
    s == null || s.forEach((a) => i.runCommand(he.layoutRemove, { id: a, force: o })), i.runCommand(he.layoutToggle, { ...t });
  }
}), f1 = { type: "static", layoutId: "leftPanelsContainer" }, g1 = { width: 240, overflow: "hidden" };
Hl({
  // icon: IconNames.plusBox,
  tooltip: "Blocks",
  removeLayouts: ["pagesLayers", "ps"],
  layout: {
    id: "blocks",
    layout: "panelBlocks",
    header: { label: "Blocks" },
    style: g1,
    placer: f1
  }
}), Hl({
  // icon: IconNames.layers,
  tooltip: "Pages & Layers",
  removeLayouts: ["blocks", "ps"],
  layout: {
    id: "pagesLayers",
    layout: "panelPagesLayers",
    header: !1,
    style: g1,
    placer: f1
  }
}), Hl({
  // icon: IconNames.cog,
  tooltip: "Page Settings",
  removeLayouts: ["pagesLayers", "blocks"],
  layout: {
    id: "ps",
    layout: "panelPageSettings",
    header: { label: "Page Settings" },
    style: { marginLeft: 40 }
  }
}), Hl({
  icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',
  tooltip: "Custom Component",
  className: "gs-utl-mt-auto",
  layout: {
    id: "customLayout",
    layout: { type: "custom", component: () => /* @__PURE__ */ u("div", { children: "Custom Reat component" }) },
    header: { label: "Custom" },
    style: { marginLeft: 40 }
  }
});
const W8 = {
  type: "row",
  style: { height: "100%" },
  children: [{ type: "sidebarLeft" }, { type: "canvasSidebarTop" }, { type: "sidebarRight" }]
};
class G8 {
  constructor(t, n) {
    this.projectType = ke.web, this.editor = void 0, this.sdkProps = {}, this.sdkLicenseError = "", this.licenseCheckRetry = 0, this.showPoweredBy = !1, this.isInPreview = !1, this.isCssPanelActive = !1, this.isLeftSidebarOpen = !0, this.isRightSidebarOpen = !0, this.isTopSidebarOpen = !0, this.isBottomSidebarOpen = !0, this.isSelectingTarget = !1, this.leftSidebarSize = 240, this.rightSidebarSize = 240, this.transitionTime = 152, this.topBarSize = 36, this.isDev = !1, this.isStage = !1, this.editorKey = 0, this.appInstalled = !1, this.licenseKey = "", this.licenseCheckStarted = !1, this.studioSdkVersion = "1.0.57", this.projectDataCustom = {}, this.displayMode = "browser", this.projectPlugins = [], this.queryParams = {}, this.isCanvasPanning = !1, this.selectedDesignerTab = "style", this.customAssets = void 0, this.nextProjectData = void 0, this.isDraggingAbsolute = !1, this.isSaving = !1, this.isReady = !1, this.sdkPagesConfigUpdates = 0, this.panelPageSettings = {
      isOpen: !1,
      width: 300,
      page: void 0
    }, this.rootElWidth = 0, this._projectId = "", this.store = t, n && Object.keys(n).forEach((o) => {
      const s = o, i = n[s];
      i !== void 0 && (this[s] = i);
    });
    const r = zr() ? window.location.search : "";
    this.queryParams = sx(r), hn(
      this,
      {
        sdkProps: !1
      },
      { autoBind: !0 }
    );
  }
  get baseApiUrl() {
    const { isDev: t, isStage: n } = this;
    return XC({ isDev: t, isStage: n });
  }
  get projectId() {
    var r, o;
    const { project: t, storage: n } = this.sdkOptions;
    return this._projectId || ((o = (r = (n == null ? void 0 : n.project) || (t == null ? void 0 : t.default)) == null ? void 0 : r.custom) == null ? void 0 : o.id) || "";
  }
  get projectIdToLoad() {
    return this.store.localSettingsStore.lastProjectId || this.projectId;
  }
  get currentProjectId() {
    return this.projectDataCustom.id || this.projectId;
  }
  get isBrowserMode() {
    return this.displayMode === "browser";
  }
  get sdkOptions() {
    return this.sdkProps.options;
  }
  get sdkProjectId() {
    var t, n;
    return (n = (t = this.sdkOptions.project) == null ? void 0 : t.id) == null ? void 0 : n.toString();
  }
  get sdkIdentityId() {
    var t, n;
    return (n = (t = this.sdkOptions.identity) == null ? void 0 : t.id) == null ? void 0 : n.toString();
  }
  get sdkPagesConfig() {
    return this.sdkPagesConfigUpdates, this.sdkOptions.pages;
  }
  get sdkLayoutConfig() {
    return this.sdkOptions.layout;
  }
  get sdkComponentsConfig() {
    return this.sdkOptions.components;
  }
  get sdkCanvasConfig() {
    return this.sdkOptions.canvas;
  }
  get sdkGlobalStylesConfig() {
    return this.sdkOptions.globalStyles;
  }
  get currentLayout() {
    const { sdkLayoutConfig: t, rootElWidth: n, store: r } = this, { customConfig: o } = r.layoutStore, s = (o == null ? void 0 : o.responsive) || (t == null ? void 0 : t.responsive);
    let i = (o == null ? void 0 : o.default) || (t == null ? void 0 : t.default) || W8;
    if (n && s) {
      const l = Object.keys(s).map(Number).sort((c, d) => c - d).find((c) => n <= c);
      i = l ? s[l] : i;
    }
    return i;
  }
  get sdkCustomIcons() {
    var t;
    return (t = this.sdkOptions.customTheme) == null ? void 0 : t.icons;
  }
  get isProjectTypeEmail() {
    return this.projectType === ke.email;
  }
  get showPages() {
    return this.isReady && this.sdkPagesConfig !== !1 && !this.isProjectTypeEmail;
  }
  get showSelectors() {
    return !this.isProjectTypeEmail;
  }
  get sdkMisconfigurationError() {
    if (this.store.assetsStore.isUsingAssetCloud || this.isUsingProjectCloud) {
      const n = this.sdkProjectId, r = this.sdkIdentityId;
      if (!n || !r)
        return 'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.';
    }
    return "";
  }
  get isUsingProjectSelfHosted() {
    var t;
    return ((t = this.sdkOptions.storage) == null ? void 0 : t.type) === _p.self;
  }
  get isUsingProjectCloud() {
    var t;
    return ((t = this.sdkOptions.storage) == null ? void 0 : t.type) === _p.cloud;
  }
  get publicStateTheme() {
    const { theme: t, resolvedTheme: n } = this.store.localSettingsStore;
    return {
      theme: t,
      resolvedTheme: n
    };
  }
  setPublicStateTheme(t) {
    t.theme !== void 0 && (this.store.localSettingsStore.theme = t.theme);
  }
  *init() {
    var p, f;
    const { store: t, sdkOptions: n } = this, { lastProjectId: r, lastProjectType: o } = t.localSettingsStore, s = (p = n.project) == null ? void 0 : p.default, { project: i } = n.storage || {};
    let a, l;
    o && (this.store.templatesStore._projectTypeFilter = o), r && (a = (f = (yield z0(o)).find((h) => h.id === r)) == null ? void 0 : f.data), a ? l = a : i ? l = i : s && (l = s);
    const c = (l == null ? void 0 : l.custom) || {}, d = c.projectType;
    d && (this.projectType = d), c.projectType = this.projectType, this.setProjectDataCustom({ ...c, id: this.projectIdToLoad }), yield t.pluginStore.initProjectPlugins(this.projectType), this.editorKey++;
  }
  setInstallEvent(t) {
    this.installEvent = t;
  }
  setAppInstalled(t) {
    this.appInstalled = t;
  }
  setDisplayMode(t) {
    this.displayMode = t;
  }
  setProject(t) {
    const n = this.editor, { id: r, data: o, isTemplate: s } = t, i = n.Storage.getConfig().options.local, a = s ? `${r}__${ix()}` : r;
    this._projectId = a, i.key = a, ox(o) || this.loadProjectData({
      ...o,
      custom: {
        ...o.custom,
        id: a,
        projectType: this.store.templatesStore.projectTypeFilter
      }
    });
  }
  setProjectDataCustom(t) {
    const n = {
      ...this.projectDataCustom,
      ...t
    };
    this.projectDataCustom = n, this.projectType = n.projectType || ke.web, this.editor && ZA(this.editor, n), n.id && this.store.localSettingsStore.setLocalState({
      lastProjectId: n.id,
      lastProjectType: this.projectType
    });
  }
  /**
   * Load new GrapesJS JSON (eg. from .grapesjs file)
   */
  loadProjectData(t) {
    const n = t.custom || {};
    if (K8(t) !== this.projectType)
      this.setNextProjectData(t), this.setProjectDataCustom(n), this.updateStudio();
    else {
      const r = this.editor;
      r.loadProjectData(t), r.UndoManager.clear(), this.setProjectDataCustom(n);
    }
  }
  setNextProjectData(t) {
    this.nextProjectData = t;
  }
  setLeftSidebarSize(t) {
    this.leftSidebarSize = t;
  }
  setRightSidebarSize(t) {
    this.rightSidebarSize = t;
  }
  setEditor(t) {
    this.editor = t;
  }
  setPreview(t) {
    this.isInPreview = t;
  }
  toggleCssPanel() {
    this.isCssPanelActive = !this.isCssPanelActive;
  }
  toggleLeftSidebar() {
    this.isLeftSidebarOpen = !this.isLeftSidebarOpen, this.refreshEditorPostTransition();
  }
  setLeftSidebarOpen(t) {
    this.isLeftSidebarOpen = t, this.refreshEditorPostTransition();
  }
  toggleRightSidebar() {
    this.isRightSidebarOpen = !this.isRightSidebarOpen, this.refreshEditorPostTransition();
  }
  setRightSidebarOpen(t) {
    this.isRightSidebarOpen = t, this.refreshEditorPostTransition();
  }
  setTopSidebarOpen(t) {
    this.isTopSidebarOpen = t, this.refreshEditorPostTransition();
  }
  setBottomSidebarOpen(t) {
    this.isBottomSidebarOpen = t, this.refreshEditorPostTransition();
  }
  refreshEditorPostTransition() {
    setTimeout(() => {
      var t;
      return (t = this.editor) == null ? void 0 : t.refresh();
    }, this.transitionTime);
  }
  setCanvasPanning(t) {
    this.isCanvasPanning = t;
  }
  setSelectingTarget(t) {
    this.isSelectingTarget = t;
  }
  setSelectedDesignerTab(t) {
    this.selectedDesignerTab = t;
  }
  setCustomAssets(t) {
    this.customAssets = t;
  }
  setIsDraggingAbsolute(t) {
    this.isDraggingAbsolute = t;
  }
  setIsSaving(t) {
    this.isSaving = t;
  }
  setIsReady(t) {
    this.isReady = t;
  }
  setPanelPageSettings(t) {
    this.panelPageSettings = {
      ...this.panelPageSettings,
      ...t
    };
  }
  setSdkPagesConfig(t) {
    this.sdkProps.options.pages = t && {
      ...this.sdkPagesConfig,
      ...t
    }, ++this.sdkPagesConfigUpdates;
  }
  setRootElWidth(t) {
    this.rootElWidth = t, this.refreshEditorCanvas();
  }
  *loadLicense() {
    const { editor: t } = this;
    try {
      this.licenseCheckStarted = !0;
      const { licenseKey: n, baseApiUrl: r, studioSdkVersion: o } = this;
      t == null || t.trigger(HC, { baseApiUrl: r });
      const s = yield Fr.post(`${r}/sdk/${n || "na"}`, {
        params: { d: window.location.hostname, v: o }
      });
      if (s instanceof Error)
        throw s;
      const i = s.result || {}, { license: a, error: l, plan: c } = i;
      l ? this.sdkLicenseError = l : (this.sdkLicense = a, c != null && c.poweredBy && (this.showPoweredBy = !0)), t == null || t.trigger(bh, i);
    } catch (n) {
      this.licenseCheckRetry < 3 ? (this.licenseCheckRetry++, setTimeout(() => this.loadLicense(), 3e3)) : (console.error(n), this.showPoweredBy = !0, t == null || t.trigger(bh, {}));
    }
  }
  *updateStudio() {
    const { pluginStore: t } = this.store, { projectType: n } = this.projectDataCustom;
    yield t.initProjectPlugins(n), this.setEditor(), this.editorKey++;
  }
  refreshStudio() {
    var t;
    this.editorKey && (this.setNextProjectData((t = this.editor) == null ? void 0 : t.getProjectData()), this.store.layoutStore.clear(), this.setEditor(), this.editorKey++);
  }
  refreshEditorCanvas() {
    var t;
    (t = this.editor) == null || t.refresh({ tools: !0 });
  }
}
const K8 = (e) => {
  var t;
  return ((t = e.custom) == null ? void 0 : t.projectType) || ke.web;
}, q8 = (e) => {
  Qb(
    () => e.currentLayout,
    () => e.refreshStudio()
  );
}, we = () => tn().appEditorStore, Y8 = () => {
  try {
    return we();
  } catch {
  }
}, da = () => Nu().appEditorStore, Z8 = () => {
  try {
    return Nu().appEditorStore;
  } catch {
  }
}, ku = () => {
  const [e, t] = W(0), n = tn().appEditorStore, { transitionTime: r } = n;
  return G(() => {
    setTimeout(() => t((o) => ++o), r);
  }, [r]), [e];
}, X8 = {
  light: {
    colors: {
      global: {
        background1: "rgba(244, 244, 244, 1)",
        background2: "rgba(253, 253, 253, 1)",
        background3: "rgba(255, 255, 255, 1)",
        backgroundHover: "rgba(244, 244, 244, 1)",
        text: "rgba(24, 24, 24, 1)",
        border: "rgba(210, 210, 210, 1)",
        focus: "rgba(195, 180, 253, 80%)",
        placeholder: "rgba(163, 163, 163, 1)"
      },
      primary: {
        background1: "rgba(137.09, 90.27, 246.33, 1)",
        background3: "rgba(242.25, 239.7, 255, 1)",
        backgroundHover: "rgba(89.86, 33.2, 181, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      component: {
        background1: "rgba(31.87, 127.5, 223.12, 1)",
        background2: "rgba(121.12, 178.5, 235.87, 1)",
        background3: "rgba(210.37, 229.5, 248.62, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      selector: {
        background1: "rgba(129.28, 23.71, 65.94, 1)",
        background2: "rgba(250.92, 208.08, 225.22, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      symbol: {
        background1: "rgba(137.09, 90.27, 246.33, 1)",
        background2: "rgba(221.68, 215.22, 253.98, 1)",
        background3: "rgba(242.25, 239.7, 255, 1)",
        text: "rgba(255, 255, 255, 1)"
      }
    }
  },
  dark: {
    colors: {
      global: {
        background1: "rgba(63, 63, 63, 1)",
        background2: "rgba(39, 39, 39, 1)",
        background3: "rgba(24, 24, 24, 1)",
        backgroundHover: "rgba(55, 55, 55, 1)",
        text: "rgba(163, 163, 163, 1)",
        border: "rgba(63, 63, 63, 1)",
        focus: "rgba(194.95, 180.41, 253.09, 0.8)",
        placeholder: "rgba(163, 163, 163, 1)"
      },
      primary: {
        background1: "rgba(137.09, 90.27, 246.33, 1)",
        background3: "rgba(39, 39, 39, 1)",
        backgroundHover: "rgba(89.86, 33.2, 181, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      component: {
        background1: "rgba(50.06, 135.15, 220.24, 1)",
        background2: "rgba(6.89, 87.44, 130.82, 1)",
        background3: "rgba(31.21, 41.33, 55.49, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      selector: {
        background1: "rgba(129.28, 23.71, 65.94, 1)",
        background2: "rgba(250.92, 208.08, 225.22, 1)",
        text: "rgba(255, 255, 255, 1)"
      },
      symbol: {
        background1: "rgba(137.09, 90.27, 246.33, 1)",
        background2: "rgba(89.86, 33.2, 181, 1)",
        background3: "rgba(44.61, 27.03, 74.97, 1)",
        text: "rgba(255, 255, 255, 1)"
      }
    }
  }
}, vw = String.raw, Qe = (e, t) => {
  if (t == null)
    return "";
  const n = e[0], r = e[1];
  return `${n}${t}${r}`;
}, J8 = (e, t = "") => {
  var n, r, o, s, i, a, l, c, d, p, f, g, h, m, b, y, v, S, w, C, x, E, O, T, P, A, _, M, V, N, H, K, z, $, D, I, U, ne, Q, re, ie, oe, X, ee, de, me, Ee, Se, Fe, tt, xt, ft, Ge, zt, gt, kt, Tt, Pt, pt, ht, Zt, ve, ze, We, Me, yt;
  return vw`
  ${t}.${Ke.txt} {
    ${Qe`color: ${(r = (n = e.colors) == null ? void 0 : n.global) == null ? void 0 : r.text};`}
  }

  ${t}.${Ke.bg} {
    ${Qe`background-color: ${(s = (o = e.colors) == null ? void 0 : o.global) == null ? void 0 : s.background3};`}
  }

  ${t}.${Ke.br} {
    ${Qe`border-color: ${(a = (i = e.colors) == null ? void 0 : i.global) == null ? void 0 : a.border};`}
  }

  ${t}.${Ke.bgA} {
    ${Qe`background-color: ${(c = (l = e.colors) == null ? void 0 : l.primary) == null ? void 0 : c.background1};`}
    ${Qe`color: ${(p = (d = e.colors) == null ? void 0 : d.primary) == null ? void 0 : p.text};`}
  }

  ${t}.${Ke.bgA2} {
    ${Qe`background-color: ${(g = (f = e.colors) == null ? void 0 : f.primary) == null ? void 0 : g.background1};`}
    ${Qe`color: ${(m = (h = e.colors) == null ? void 0 : h.primary) == null ? void 0 : m.text};`}
  }

  ${t}.${Ke.hBgAct}:hover.${Ke.hBgAct}:hover,
  ${t}.${Ke.hBgA2}:hover.${Ke.hBgA2}:hover {
    ${Qe`background-color: ${(y = (b = e.colors) == null ? void 0 : b.primary) == null ? void 0 : y.backgroundHover};`}
  }

  ${t}.${Ke.tA} {
    ${Qe`color: ${(S = (v = e.colors) == null ? void 0 : v.primary) == null ? void 0 : S.background1};`}
  }

  ${t}.${Ke.tAo} {
    ${Qe`color: ${(C = (w = e.colors) == null ? void 0 : w.primary) == null ? void 0 : C.background1};`}
  }

  ${t}.${Ke.hTAo}:hover.${Ke.hTAo}:hover,
  ${t}.group:hover .${Ke.grouphTAo} {
    ${Qe`color: ${(E = (x = e.colors) == null ? void 0 : x.primary) == null ? void 0 : E.backgroundHover};`}
  }

  ${t}.${Ke.bA} {
    ${Qe`border-color: ${(T = (O = e.colors) == null ? void 0 : O.primary) == null ? void 0 : T.background1};`}
  }

  ${t}.${Ke.bg0} {
    ${Qe`background-color: ${(A = (P = e.colors) == null ? void 0 : P.primary) == null ? void 0 : A.background3};`}
    ${Qe`color: ${(M = (_ = e.colors) == null ? void 0 : _.primary) == null ? void 0 : M.background1};`}
  }

  ${t}.${Ke.bgH} {
    ${Qe`background-color: ${(N = (V = e.colors) == null ? void 0 : V.global) == null ? void 0 : N.background1};`}
  }

  ${t}.${Ke.bgH2} {
    ${Qe`background-color: ${(K = (H = e.colors) == null ? void 0 : H.global) == null ? void 0 : K.background2};`}
  }

  ${t}.${Ke.hBgH}:hover,
  ${t}.${Ke.hBgH2}:hover {
    ${Qe`background-color: ${($ = (z = e.colors) == null ? void 0 : z.global) == null ? void 0 : $.backgroundHover};`}
  }

  ${t}.${Ke.sel} {
    ${Qe`background-color: ${(I = (D = e.colors) == null ? void 0 : D.selector) == null ? void 0 : I.background2};`}
    ${Qe`color: ${(ne = (U = e.colors) == null ? void 0 : U.selector) == null ? void 0 : ne.text};`}
  }

  ${t}.${Ke.selBr} {
    ${Qe`border-color: ${(re = (Q = e.colors) == null ? void 0 : Q.selector) == null ? void 0 : re.background1};`}
  }

  ${t}.${Ke.cmp} {
    ${Qe`background-color: ${(oe = (ie = e.colors) == null ? void 0 : ie.component) == null ? void 0 : oe.background1};`}
    ${Qe`color: ${(ee = (X = e.colors) == null ? void 0 : X.component) == null ? void 0 : ee.text};`}
  }

  ${t}.${Ke.cmpBgSoft} {
    ${Qe`background-color: ${(me = (de = e.colors) == null ? void 0 : de.component) == null ? void 0 : me.background2};`}
  }

  ${t}.${Ke.cmpBgSoftX} {
    ${Qe`background-color: ${(Se = (Ee = e.colors) == null ? void 0 : Ee.component) == null ? void 0 : Se.background3};`}
  }

  ${t}.${Ke.cmpBr} {
    ${Qe`border-color: ${(tt = (Fe = e.colors) == null ? void 0 : Fe.component) == null ? void 0 : tt.background1};`}
  }

  ${t}.${Ke.cmpSymbol} {
    ${Qe`background-color: ${(ft = (xt = e.colors) == null ? void 0 : xt.symbol) == null ? void 0 : ft.background1};`}
    ${Qe`color: ${(zt = (Ge = e.colors) == null ? void 0 : Ge.symbol) == null ? void 0 : zt.text};`}
  }

  ${t}.${Ke.cmpBgSymbolSoft} {
    ${Qe`background-color: ${(kt = (gt = e.colors) == null ? void 0 : gt.symbol) == null ? void 0 : kt.background2};`}
  }

  ${t}.${Ke.cmpBgSymbolSoftX} {
    ${Qe`background-color: ${(Pt = (Tt = e.colors) == null ? void 0 : Tt.symbol) == null ? void 0 : Pt.background3};`}
  }

  ${t}.${Ke.cmpSymbolBr} {
    ${Qe`border-color: ${(ht = (pt = e.colors) == null ? void 0 : pt.symbol) == null ? void 0 : ht.background1};`}
  }

  ${t}.${Ke.cmpTxtActive} {
    ${Qe`color: ${(ve = (Zt = e.colors) == null ? void 0 : Zt.component) == null ? void 0 : ve.text};`}
  }

  ${t}.${Ke.focus}:focus-visible {
    ${Qe`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(We = (ze = e.colors) == null ? void 0 : ze.global) == null ? void 0 : We.focus};`}
  }

  ${t}.${Ke.inputText}::placeholder {
    ${Qe`color: ${(yt = (Me = e.colors) == null ? void 0 : Me.global) == null ? void 0 : yt.placeholder};`}
  }
`;
}, Q8 = (e) => {
  var i, a, l, c, d;
  const t = (i = e.colors) == null ? void 0 : i.global, n = (a = e.colors) == null ? void 0 : a.primary, r = (l = e.colors) == null ? void 0 : l.component, o = (c = e.colors) == null ? void 0 : c.symbol, s = (d = e.colors) == null ? void 0 : d.selector;
  return `
  :root {
    --gs-theme-cl-glb-bg1: ${t == null ? void 0 : t.background1};
    --gs-theme-cl-glb-bg2: ${t == null ? void 0 : t.background2};
    --gs-theme-cl-glb-bg3: ${t == null ? void 0 : t.background3};
    --gs-theme-cl-glb-bgh: ${t == null ? void 0 : t.backgroundHover};
    --gs-theme-cl-glb-br: ${t == null ? void 0 : t.border};
    --gs-theme-cl-glb-fcs: ${t == null ? void 0 : t.focus};
    --gs-theme-cl-glb-plh: ${t == null ? void 0 : t.placeholder};
    --gs-theme-cl-glb-txt: ${t == null ? void 0 : t.text};
    --gs-theme-cl-prm-bg1: ${n == null ? void 0 : n.background1};
    --gs-theme-cl-prm-bg2: ${n == null ? void 0 : n.background2};
    --gs-theme-cl-prm-bg3: ${n == null ? void 0 : n.background3};
    --gs-theme-cl-prm-bgh: ${n == null ? void 0 : n.backgroundHover};
    --gs-theme-cl-prm-txt: ${n == null ? void 0 : n.text};
    --gs-theme-cl-cmp-bg1: ${r == null ? void 0 : r.background1};
    --gs-theme-cl-cmp-bg2: ${r == null ? void 0 : r.background2};
    --gs-theme-cl-cmp-bg3: ${r == null ? void 0 : r.background3};
    --gs-theme-cl-cmp-bgh: ${r == null ? void 0 : r.backgroundHover};
    --gs-theme-cl-cmp-txt: ${r == null ? void 0 : r.text};
    --gs-theme-cl-symb-bg1: ${o == null ? void 0 : o.background1};
    --gs-theme-cl-symb-bg2: ${o == null ? void 0 : o.background2};
    --gs-theme-cl-symb-bg3: ${o == null ? void 0 : o.background3};
    --gs-theme-cl-symb-bgh: ${o == null ? void 0 : o.backgroundHover};
    --gs-theme-cl-symb-txt: ${o == null ? void 0 : o.text};
    --gs-theme-cl-sel-bg1: ${s == null ? void 0 : s.background1};
    --gs-theme-cl-sel-bg2: ${s == null ? void 0 : s.background2};
    --gs-theme-cl-sel-bg3: ${s == null ? void 0 : s.background3};
    --gs-theme-cl-sel-bgh: ${s == null ? void 0 : s.backgroundHover};
    --gs-theme-cl-sel-txt: ${s == null ? void 0 : s.text};
  }
`;
}, e6 = () => {
  const { sdkOptions: e, publicStateTheme: t } = we(), [n, r] = W(""), { customTheme: o } = e, { resolvedTheme: s } = t, i = e.theme === ur.light, a = o == null ? void 0 : o.default, l = ue(() => {
    const p = X8[s], f = wa(wa({}, p || {}), a || {});
    return Q8(f).trim();
  }, [s]), c = vw`
    ${a ? J8(a, i ? `:not(.gs-utl-${ur.dark}) ` : `.gs-utl-${ur.dark} `) : ""}
  `.trim(), d = `
    ${l}
    ${c}
  `.trim();
  return G(() => {
    r(d);
  }, [d]), /* @__PURE__ */ u("style", { "data-gs-editor-theme": !0, children: n });
}, t6 = ce(e6), n6 = ce(function() {
  const t = cg(), { isOpen: n, items: r, coordinates: o } = t, { x: s, y: i } = o;
  return G(() => {
    const a = window.document, l = (c) => c.key === "Escape" && t.hide();
    return a.addEventListener("keydown", l), () => {
      a.removeEventListener("keydown", l);
    };
  }, []), /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(_0, { open: n, items: r, x: s, y: i, className: "gs-utl-text-sm" }),
    n && /* @__PURE__ */ u("div", { onClick: t.hide, className: te("z-10 fixed inset-0") })
  ] });
});
function Vt({ children: e, label: t, s: n = "m", pill: r, border: o, nopad: s, className: i, block: a, ...l }) {
  return /* @__PURE__ */ u(
    "div",
    {
      className: k(
        !a && "gs-utl-inline-block",
        i,
        !s && Ve.xyS2,
        r ? le.pill : le.rnd,
        o && `${le.b} ${F.br}`,
        n === "s" && "gs-utl-text-sm",
        n === "xs" && "gs-utl-p-1"
      ),
      ...l,
      children: t || e
    }
  );
}
const h1 = 15, r6 = ce(function() {
  const { isActive: t, content: n } = H0(), [r, o] = W({ x: 0, y: 0 });
  G(() => {
    const i = (a) => {
      o({ x: a.clientX, y: Math.max(0, a.clientY) });
    };
    return t && window.addEventListener("pointermove", i), () => {
      window.removeEventListener("pointermove", i);
    };
  }, [t]);
  const s = ue(
    () => ({
      transform: `translate(${r.x + h1}px, ${r.y + h1}px)`
    }),
    [r]
  );
  return /* @__PURE__ */ u(Vr, { show: t, ...Ga, children: /* @__PURE__ */ u("div", { className: te("fixed top-0 left-0 pointer-badge pointer-events-none z-10"), style: s, children: /* @__PURE__ */ u(Vt, { className: te("gjs-px-4 gjs-py-2", F.bgBlur, F.txtHighEmphasis), pill: !0, border: !0, nopad: !0, children: n }) }) });
}), o6 = ce(function() {
  const t = W0();
  return /* @__PURE__ */ u(
    EA,
    {
      className: Y("fixed top-5 right-5 z-20"),
      toasts: t.toasts,
      onDismiss: t.remove
    }
  );
}), Hd = typeof window < "u" ? window.location.hostname : "";
Hd || // [::1] is the IPv6 localhost address.
Hd === "[::1]" || // 127.0.0.0/8 are considered localhost for IPv4.
Hd.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);
function s6(e) {
  if (
    // ({"NODE_ENV":"production","NPM_PACKAGE_VERSION":"1.0.0","STUDIO_NPM_PACKAGE_VERSION":"1.0.57"}).NODE_ENV === 'production' &&
    "serviceWorker" in navigator
  ) {
    if (new URL({ NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.57" }.PUBLIC_URL || "", window.location.href).origin !== window.location.origin)
      return;
    window.addEventListener("beforeinstallprompt", (o) => {
      o.preventDefault(), da().setInstallEvent(o);
    }), window.addEventListener("appinstalled", () => {
      da().setAppInstalled(!0);
    }), navigator.serviceWorker.addEventListener("controllerchange", () => {
    });
    const n = (o) => {
      let s = "browser";
      const i = navigator.standalone || document.referrer.startsWith("android-app://");
      (o || i) && (s = "standalone"), da().setDisplayMode(s);
    }, r = window.matchMedia("(display-mode: standalone)");
    r.addEventListener("change", (o) => n(o.matches)), n(r.matches);
  }
}
const i6 = Yt(function({ children: t }, n) {
  const [r, o] = W(""), s = En(), i = q(null), a = we(), {
    style: l,
    className: c,
    options: d = uf,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onUpdate: p,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onEditor: f,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onReady: g,
    ...h
  } = a.sdkProps, { autoHeight: m = !0, serviceWorker: b } = d;
  zc(n, () => i.current, []);
  const y = ue(
    () => ({
      ...l,
      height: r || (l == null ? void 0 : l.height) || ""
    }),
    [l, r]
  );
  return G(() => {
    const v = i.current, S = () => {
      var x;
      return (x = v == null ? void 0 : v.parentElement) == null ? void 0 : x.offsetHeight;
    }, w = S(), C = () => {
      const x = v.style.position;
      v.style.position = "absolute";
      const E = S();
      E && o(`${E}px`), v.style.position = x;
    };
    if (w && m)
      return o(`${w}px`), window.addEventListener("resize", C), () => window.removeEventListener("resize", C);
  }, [m, i.current]), G(() => {
    const v = i.current;
    if (!v)
      return;
    s.rootEl || s.setRootEl(v), s.init();
    const S = new ResizeObserver(() => {
      a.setRootElWidth(v.offsetWidth);
    });
    return a.setRootElWidth(v.offsetWidth), S.observe(v), () => {
      S.disconnect();
    };
  }, [i.current]), G(() => {
    b && s6();
  }, []), /* @__PURE__ */ L(
    "div",
    {
      ref: i,
      className: k(te(hv, "gs-studio-editor overflow-hidden h-full w-full text-base"), c),
      style: y,
      ...h,
      children: [
        /* @__PURE__ */ u(t6, {}),
        t,
        /* @__PURE__ */ L("div", { className: te("gs-studio-els", F.txt), children: [
          /* @__PURE__ */ u(o6, {}),
          /* @__PURE__ */ u(r6, {}),
          /* @__PURE__ */ u(n6, {})
        ] })
      ]
    }
  );
});
var Xi = /* @__PURE__ */ ((e) => (e.REGULAR = "regular", e.SYMBOLS = "symbols", e))(Xi || {});
const Bl = "gs-cmp-tabs";
function bo({
  tabs: e,
  className: t,
  classNamePanel: n,
  classNameTab: r,
  variant: o,
  style: s,
  onChange: i = tx,
  value: a
}) {
  const l = o === "pills", c = l ? k("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]", F.bgH) : "", d = (m) => l ? k("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1", m ? F.bg : "") : k("gs-utl-border-b-2", Ve.xy), p = (m) => {
    m && (m.tabIndex = -1);
  }, f = (m) => {
    const b = m.currentTarget;
    setTimeout(() => b.blur(), 10);
  }, g = Ft(a) ? e.findIndex((m) => m.id === a) : void 0, h = !e.some((m) => !!m.content);
  return /* @__PURE__ */ L(
    Hi.Group,
    {
      onChange: (m) => i(e[m].id),
      defaultIndex: e.findIndex((m) => m.id === a),
      selectedIndex: g,
      children: [
        /* @__PURE__ */ u(Hi.List, { as: R, className: k(Bl, t, c), style: s, full: !0, nowrap: !0, children: e.map((m) => /* @__PURE__ */ u(
          Hi,
          {
            disabled: m.disabled,
            className: ({ selected: b }) => k(
              `${Bl}__tab`,
              "gs-utl-flex-1 focus:gs-utl-outline-none",
              m.disabled && "gs-utl-cursor-not-allowed gs-utl-opacity-50",
              Sa.focus,
              d(b),
              b ? `${F.tAo} ${F.bA}` : F.br,
              r
            ),
            children: m.label
          },
          m.id
        )) }),
        /* @__PURE__ */ u(
          Hi.Panels,
          {
            className: k(
              `${Bl}__panels`,
              "gs-utl-overflow-hidden gs-utl-flex-1",
              h && "gs-utl-hidden",
              n
            ),
            children: e.map((m) => /* @__PURE__ */ u(
              Hi.Panel,
              {
                tabIndex: -1,
                className: k(`${Bl}__panel`, "gs-utl-h-full"),
                ref: p,
                onFocus: f,
                children: m.content
              },
              m.id
            ))
          }
        )
      ]
    }
  );
}
var Nr = /* @__PURE__ */ ((e) => (e.before = "before", e.beforeInside = "beforeInside", e.afterInside = "afterInside", e.after = "after", e))(Nr || {});
const a6 = "gs-cmp-button-group-field", l6 = Pe(
  ce(function({
    className: t,
    label: n,
    name: r,
    value: o,
    options: s,
    size: i,
    required: a,
    disabled: l,
    onChange: c,
    editorEvents: d
  }) {
    const { editor: p } = we(), [f, g] = W(() => ({
      className: t,
      label: n,
      name: r,
      value: o,
      options: s,
      size: i,
      required: a,
      disabled: l
    })), h = (m) => {
      c({
        value: m,
        editor: p,
        state: f,
        setState: (b) => g((y) => ({ ...y, ...b }))
      });
    };
    return $i({
      editor: p,
      editorEvents: d,
      localState: f,
      setLocalState: g
    }), /* @__PURE__ */ u(
      sn,
      {
        className: k(a6, f.className),
        label: f.label,
        name: f.name,
        value: f.value,
        options: f.options ?? [],
        size: f.size,
        required: f.required,
        disabled: f.disabled,
        onChange: h
      }
    );
  })
);
function Mu({ colors: e, ...t }) {
  return e ? /* @__PURE__ */ L("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 79 79", ...t, children: [
    /* @__PURE__ */ u("path", { fill: "url(#a)", d: "M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z" }),
    /* @__PURE__ */ u(
      "path",
      {
        stroke: "#fff",
        strokeLinecap: "round",
        strokeMiterlimit: "10",
        strokeWidth: "5",
        d: "m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"
      }
    ),
    /* @__PURE__ */ u("defs", { children: /* @__PURE__ */ L("linearGradient", { id: "a", x1: "2.1", x2: "77.2", y1: "39.6", y2: "39.6", gradientUnits: "userSpaceOnUse", children: [
      /* @__PURE__ */ u("stop", { stopColor: "#D7709E" }),
      /* @__PURE__ */ u("stop", { offset: "1", stopColor: "#A84A87" })
    ] }) })
  ] }) : /* @__PURE__ */ u("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 76 76", ...t, children: /* @__PURE__ */ u(
    "path",
    {
      fill: "currentColor",
      fillRule: "evenodd",
      d: "M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",
      clipRule: "evenodd"
    }
  ) });
}
const c6 = Pe(
  ce(function() {
    const { isStage: e, updateStudio: t } = we(), { isDarkTheme: n } = En(), r = q(null), { bg: o, text: s } = Ov(n);
    return S0({
      ref: r,
      show: e,
      update: n,
      reload: t,
      styles: {
        display: "flex",
        justifyContent: "center",
        position: "absolute",
        bottom: "0",
        right: "0",
        left: "0"
      },
      node: /* @__PURE__ */ L(pe, { children: [
        /* @__PURE__ */ u("style", { children: `
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${o};
                  color: ${s};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            ` }),
        /* @__PURE__ */ u(Pn, { className: "gs-banner", children: /* @__PURE__ */ L(R, { className: "gs-banner-row", children: [
          /* @__PURE__ */ u(Mu, { className: "gs-gs-logo", colors: !0 }),
          /* @__PURE__ */ u("div", { children: "GrapesJS Studio Demo!" })
        ] }) })
      ] })
    }), /* @__PURE__ */ u("div", { ref: r });
  })
), u6 = () => `https://grapesjs.com?ref=${window.location.host}`, d6 = Pe(
  ce(function() {
    const { updateStudio: e, showPoweredBy: t } = we(), { isDarkTheme: n } = En(), r = q(null), { bg: o, text: s, link: i } = Ov(n);
    return S0({
      ref: r,
      show: t,
      update: n,
      reload: e,
      styles: {
        display: "flex",
        justifyContent: "center",
        position: "absolute",
        bottom: "0",
        left: "0"
      },
      node: /* @__PURE__ */ L(pe, { children: [
        /* @__PURE__ */ u("style", { children: `
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${o};
                  color: ${s};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${i};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             ` }),
        /* @__PURE__ */ u(Pn, { className: "gs-banner", children: /* @__PURE__ */ L(R, { className: "gs-banner-row", children: [
          /* @__PURE__ */ u("a", { className: "gs-link", href: u6(), target: "_blank", children: "GrapesJS Studio" }),
          /* @__PURE__ */ u(Mu, { className: "gs-logo", colors: !0 })
        ] }) })
      ] })
    }), /* @__PURE__ */ u("div", { ref: r });
  })
), dl = B.forwardRef(function({ full: t, abs: n, small: r, className: o, bg: s, currentColor: i }, a) {
  const l = k(t && "gs-utl-w-full gs-utl-h-full", n ? De.coverAbs : "gs-utl-relative", o), c = k(
    r ? "gs-utl-w-5 gs-utl-h-5" : "gs-utl-w-10 gs-utl-h-10",
    "gs-utl-animate-spin-fast",
    "!gs-utl-border-y-transparent !gs-utl-border-r-transparent",
    le.pill,
    le.bS,
    i ? "gs-utl-border-current" : le.bA
  );
  return /* @__PURE__ */ L(R, { ref: a, className: l, items: "center", justify: "center", children: [
    !!s && /* @__PURE__ */ u("div", { className: k(De.coverAbs, F.bg, De.disabled) }),
    /* @__PURE__ */ u("div", { className: c })
  ] });
}), m1 = "gs-canvas-content", p6 = Pe(
  ce(function({ children: t }) {
    const { isReady: n } = we(), r = k(`${m1}__overlay gs-utl-pointer-events-none gs-utl-absolute gs-utl-inset-0`, F.bgH2);
    return /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ L("div", { className: m1, children: [
        /* @__PURE__ */ u("div", { className: r }),
        !n && /* @__PURE__ */ u(dl, { className: k("gs-utl-z-10"), abs: !0, full: !0 }),
        n && Dt(t)
      ] }),
      /* @__PURE__ */ u(c6, {}),
      /* @__PURE__ */ u(d6, {})
    ] });
  })
), f6 = "gs-canvas", yw = Pe(function({ className: t, style: n, grow: r, children: o }) {
  return /* @__PURE__ */ u(sk, { style: n, className: k(f6, "gs-utl-relative", r && "gs-utl-flex-grow", t), children: /* @__PURE__ */ u(Is, { children: /* @__PURE__ */ u(p6, { children: o }) }) });
}), $u = ({
  className: e,
  grow: t,
  alignItems: n,
  justifyContent: r
}) => k(
  e,
  F.br,
  t && "gs-utl-flex-grow",
  n === "start" && "gs-utl-items-start",
  n === "end" && "gs-utl-items-end",
  n === "center" && "gs-utl-items-center",
  n === "baseline" && "gs-utl-items-baseline",
  n === "stretch" && "gs-utl-items-stretch",
  r === "start" && "gs-utl-justify-start",
  r === "end" && "gs-utl-justify-end",
  r === "center" && "gs-utl-justify-center",
  r === "between" && "gs-utl-justify-between",
  r === "around" && "gs-utl-justify-around",
  r === "evenly" && "gs-utl-justify-evenly"
), Ru = ({
  style: e,
  width: t,
  height: n,
  gap: r
}) => ({
  height: n,
  gap: r,
  width: t,
  ...e
}), Hn = Pe(
  ce(function({
    id: t,
    children: n,
    className: r,
    style: o,
    width: s,
    gap: i,
    height: a,
    grow: l,
    alignItems: c,
    justifyContent: d,
    htmlAttrs: p,
    ...f
  }) {
    const { layoutsById: g } = bg(), [h, m] = W({}), { className: b, style: y, ...v } = p || {}, S = r ?? b, w = o ?? y, C = ue(
      () => Ru({
        height: a,
        gap: i,
        width: s,
        style: w
      }),
      [w, s, a, i]
    ), x = $u({ className: S, grow: l, alignItems: c, justifyContent: d });
    G(() => {
      if (t)
        return g.set(t, { state: h, setState: m }), () => {
          g.delete(t);
        };
    }, [g, h]);
    const E = f.as ?? "div";
    return /* @__PURE__ */ u(E, { style: C, className: x, ...f, ...v, children: h.children ?? n });
  })
), Hg = (() => {
  if (typeof self > "u")
    return !1;
  if ("top" in self && self !== top)
    try {
      top.window.document._ = 0;
    } catch {
      return !1;
    }
  return "showOpenFilePicker" in self;
})(), g6 = Hg ? Promise.resolve().then(function() {
  return w6;
}) : Promise.resolve().then(function() {
  return T6;
});
async function h6(...e) {
  return (await g6).default(...e);
}
Hg ? Promise.resolve().then(function() {
  return C6;
}) : Promise.resolve().then(function() {
  return _6;
});
const m6 = Hg ? Promise.resolve().then(function() {
  return P6;
}) : Promise.resolve().then(function() {
  return L6;
});
async function b6(...e) {
  return (await m6).default(...e);
}
const v6 = async (e) => {
  const t = await e.getFile();
  return t.handle = e, t;
};
var y6 = async (e = [{}]) => {
  Array.isArray(e) || (e = [e]);
  const t = [];
  e.forEach((o, s) => {
    t[s] = { description: o.description || "Files", accept: {} }, o.mimeTypes ? o.mimeTypes.map((i) => {
      t[s].accept[i] = o.extensions || [];
    }) : t[s].accept["*/*"] = o.extensions || [];
  });
  const n = await window.showOpenFilePicker({ id: e[0].id, startIn: e[0].startIn, types: t, multiple: e[0].multiple || !1, excludeAcceptAllOption: e[0].excludeAcceptAllOption || !1 }), r = await Promise.all(n.map(v6));
  return e[0].multiple ? r : r[0];
}, w6 = { __proto__: null, default: y6 };
function uc(e) {
  function t(n) {
    if (Object(n) !== n)
      return Promise.reject(new TypeError(n + " is not an object."));
    var r = n.done;
    return Promise.resolve(n.value).then(function(o) {
      return { value: o, done: r };
    });
  }
  return uc = function(n) {
    this.s = n, this.n = n.next;
  }, uc.prototype = { s: null, n: null, next: function() {
    return t(this.n.apply(this.s, arguments));
  }, return: function(n) {
    var r = this.s.return;
    return r === void 0 ? Promise.resolve({ value: n, done: !0 }) : t(r.apply(this.s, arguments));
  }, throw: function(n) {
    var r = this.s.return;
    return r === void 0 ? Promise.reject(n) : t(r.apply(this.s, arguments));
  } }, new uc(e);
}
const ww = async (e, t, n = e.name, r) => {
  const o = [], s = [];
  var i, a = !1, l = !1;
  try {
    for (var c, d = function(p) {
      var f, g, h, m = 2;
      for (typeof Symbol < "u" && (g = Symbol.asyncIterator, h = Symbol.iterator); m--; ) {
        if (g && (f = p[g]) != null)
          return f.call(p);
        if (h && (f = p[h]) != null)
          return new uc(f.call(p));
        g = "@@asyncIterator", h = "@@iterator";
      }
      throw new TypeError("Object is not async iterable");
    }(e.values()); a = !(c = await d.next()).done; a = !1) {
      const p = c.value, f = `${n}/${p.name}`;
      p.kind === "file" ? s.push(p.getFile().then((g) => (g.directoryHandle = e, g.handle = p, Object.defineProperty(g, "webkitRelativePath", { configurable: !0, enumerable: !0, get: () => f })))) : p.kind !== "directory" || !t || r && r(p) || o.push(ww(p, t, f, r));
    }
  } catch (p) {
    l = !0, i = p;
  } finally {
    try {
      a && d.return != null && await d.return();
    } finally {
      if (l)
        throw i;
    }
  }
  return [...(await Promise.all(o)).flat(), ...await Promise.all(s)];
};
var S6 = async (e = {}) => {
  e.recursive = e.recursive || !1, e.mode = e.mode || "read";
  const t = await window.showDirectoryPicker({ id: e.id, startIn: e.startIn, mode: e.mode });
  return (await (await t.values()).next()).done ? [t] : ww(t, e.recursive, void 0, e.skipDirectory);
}, C6 = { __proto__: null, default: S6 }, x6 = async (e, t = [{}], n = null, r = !1, o = null) => {
  Array.isArray(t) || (t = [t]), t[0].fileName = t[0].fileName || "Untitled";
  const s = [];
  let i = null;
  if (e instanceof Blob && e.type ? i = e.type : e.headers && e.headers.get("content-type") && (i = e.headers.get("content-type")), t.forEach((c, d) => {
    s[d] = { description: c.description || "Files", accept: {} }, c.mimeTypes ? (d === 0 && i && c.mimeTypes.push(i), c.mimeTypes.map((p) => {
      s[d].accept[p] = c.extensions || [];
    })) : i ? s[d].accept[i] = c.extensions || [] : s[d].accept["*/*"] = c.extensions || [];
  }), n)
    try {
      await n.getFile();
    } catch (c) {
      if (n = null, r)
        throw c;
    }
  const a = n || await window.showSaveFilePicker({ suggestedName: t[0].fileName, id: t[0].id, startIn: t[0].startIn, types: s, excludeAcceptAllOption: t[0].excludeAcceptAllOption || !1 });
  !n && o && o(a);
  const l = await a.createWritable();
  return "stream" in e ? (await e.stream().pipeTo(l), a) : "body" in e ? (await e.body.pipeTo(l), a) : (await l.write(await e), await l.close(), a);
}, P6 = { __proto__: null, default: x6 }, E6 = async (e = [{}]) => (Array.isArray(e) || (e = [e]), new Promise((t, n) => {
  const r = document.createElement("input");
  r.type = "file";
  const o = [...e.map((l) => l.mimeTypes || []), ...e.map((l) => l.extensions || [])].join();
  r.multiple = e[0].multiple || !1, r.accept = o || "", r.style.display = "none", document.body.append(r);
  const s = (l) => {
    typeof i == "function" && i(), t(l);
  }, i = e[0].legacySetup && e[0].legacySetup(s, () => i(n), r), a = () => {
    window.removeEventListener("focus", a), r.remove();
  };
  r.addEventListener("click", () => {
    window.addEventListener("focus", a);
  }), r.addEventListener("change", () => {
    window.removeEventListener("focus", a), r.remove(), s(r.multiple ? Array.from(r.files) : r.files[0]);
  }), "showPicker" in HTMLInputElement.prototype ? r.showPicker() : r.click();
})), T6 = { __proto__: null, default: E6 }, O6 = async (e = [{}]) => (Array.isArray(e) || (e = [e]), e[0].recursive = e[0].recursive || !1, new Promise((t, n) => {
  const r = document.createElement("input");
  r.type = "file", r.webkitdirectory = !0;
  const o = (i) => {
    typeof s == "function" && s(), t(i);
  }, s = e[0].legacySetup && e[0].legacySetup(o, () => s(n), r);
  r.addEventListener("change", () => {
    let i = Array.from(r.files);
    e[0].recursive ? e[0].recursive && e[0].skipDirectory && (i = i.filter((a) => a.webkitRelativePath.split("/").every((l) => !e[0].skipDirectory({ name: l, kind: "directory" })))) : i = i.filter((a) => a.webkitRelativePath.split("/").length === 2), o(i);
  }), "showPicker" in HTMLInputElement.prototype ? r.showPicker() : r.click();
})), _6 = { __proto__: null, default: O6 }, A6 = async (e, t = {}) => {
  Array.isArray(t) && (t = t[0]);
  const n = document.createElement("a");
  let r = e;
  "body" in e && (r = await async function(i, a) {
    const l = i.getReader(), c = new ReadableStream({ start: (f) => async function g() {
      return l.read().then(({ done: h, value: m }) => {
        if (!h)
          return f.enqueue(m), g();
        f.close();
      });
    }() }), d = new Response(c), p = await d.blob();
    return l.releaseLock(), new Blob([p], { type: a });
  }(e.body, e.headers.get("content-type"))), n.download = t.fileName || "Untitled", n.href = URL.createObjectURL(await r);
  const o = () => {
    typeof s == "function" && s();
  }, s = t.legacySetup && t.legacySetup(o, () => s(), n);
  return n.addEventListener("click", () => {
    setTimeout(() => URL.revokeObjectURL(n.href), 3e4), o();
  }), n.click(), null;
}, L6 = { __proto__: null, default: A6 };
const N6 = { NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.57" }.REACT_APP_VERSION ?? "1.0.0", k6 = ce(function() {
  var n;
  const t = (n = window.grapesjs) == null ? void 0 : n.version;
  return /* @__PURE__ */ L(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ u(R, { justify: "center", children: /* @__PURE__ */ L(j, { className: te("relative"), children: [
      /* @__PURE__ */ u(Mu, { className: te("w-24 opacity-50") }),
      t && /* @__PURE__ */ u(Vt, { className: te(F.bgA, "absolute gs-utl-right-[-20px] bottom-0"), label: `v${t}`, s: "s", pill: !0 })
    ] }) }),
    /* @__PURE__ */ L(j, { children: [
      /* @__PURE__ */ L("p", { children: [
        /* @__PURE__ */ u("b", { children: "GrapesJS Studio" }),
        " is an innovative experimental editor, initially created to improve and extend the customization capability of the",
        " ",
        /* @__PURE__ */ u("a", { className: te(di.link), href: "https://grapesjs.com", children: "GrapesJS" }),
        " ",
        "library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."
      ] }),
      /* @__PURE__ */ u("br", {}),
      /* @__PURE__ */ L("p", { children: [
        "If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through",
        " ",
        /* @__PURE__ */ u("a", { className: te(di.link), href: "https://opencollective.com/grapesjs", children: "Open Collective" }),
        "."
      ] })
    ] }),
    /* @__PURE__ */ L(j, { className: te(F.txtLowEmphasis, "text-right"), children: [
      "GrapesJS Studio: v",
      N6
    ] })
  ] });
}), M6 = ce(function() {
  return /* @__PURE__ */ L(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ u(R, { justify: "center", children: /* @__PURE__ */ u(j, { className: Y("relative"), children: /* @__PURE__ */ u(Mu, { className: Y("w-24 opacity-50") }) }) }),
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ L("p", { children: [
      "We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",
      /* @__PURE__ */ u("br", {}),
      /* @__PURE__ */ u("br", {}),
      "The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",
      /* @__PURE__ */ u("br", {}),
      /* @__PURE__ */ u("br", {}),
      "You can try the initial release of the Studio SDK by creating a license and following the instructions on the",
      " ",
      /* @__PURE__ */ u("a", { className: Y(di.link), href: "/dashboard/sdk/licenses", target: "_blank", children: "Studio SDK license page" }),
      /* @__PURE__ */ u("br", {}),
      /* @__PURE__ */ u("br", {}),
      "If you have any questions or need assistance with specific use cases, please fill out this",
      " ",
      /* @__PURE__ */ u("a", { className: Y(di.link), href: "https://forms.gle/VUycp3rc8iCpbh9k8", target: "_blank", rel: "noreferrer", children: "form" }),
      " ",
      "and we'll get back to you as soon as possible."
    ] }) })
  ] });
}), $6 = () => [
  {
    id: ke.web,
    label: Mr(ke.web),
    content: /* @__PURE__ */ L(R, { gap: "s", items: "center", nowrap: !0, children: [
      /* @__PURE__ */ u(ae, { icon: Z.web, size: fe.s }),
      /* @__PURE__ */ u("span", { children: Mr(ke.web) })
    ] })
  },
  {
    id: ke.email,
    label: Mr(ke.email),
    content: /* @__PURE__ */ L(R, { gap: "s", items: "center", nowrap: !0, children: [
      /* @__PURE__ */ u(ae, { icon: Z.emailOutline, size: fe.s }),
      /* @__PURE__ */ u("span", { children: Mr(ke.email) })
    ] })
  }
], Iu = 0, Jo = 1, Mi = 2, Sw = 4;
function R6(e, t) {
  return (n) => e(t(n));
}
function I6(e, t) {
  return t(e);
}
function Cw(e, t) {
  return (n) => e(t, n);
}
function b1(e, t) {
  return () => e(t);
}
function Bg(e, t) {
  return t(e), e;
}
function Vs(...e) {
  return e;
}
function j6(e) {
  e();
}
function v1(e) {
  return () => e;
}
function V6(...e) {
  return () => {
    e.map(j6);
  };
}
function ju() {
}
function an(e, t) {
  return e(Jo, t);
}
function Wt(e, t) {
  e(Iu, t);
}
function Fg(e) {
  e(Mi);
}
function ni(e) {
  return e(Sw);
}
function vt(e, t) {
  return an(e, Cw(t, Iu));
}
function y1(e, t) {
  const n = e(Jo, (r) => {
    n(), t(r);
  });
  return n;
}
function Rt() {
  const e = [];
  return (t, n) => {
    switch (t) {
      case Mi:
        e.splice(0, e.length);
        return;
      case Jo:
        return e.push(n), () => {
          const r = e.indexOf(n);
          r > -1 && e.splice(r, 1);
        };
      case Iu:
        e.slice().forEach((r) => {
          r(n);
        });
        return;
      default:
        throw new Error(`unrecognized action ${t}`);
    }
  };
}
function Te(e) {
  let t = e;
  const n = Rt();
  return (r, o) => {
    switch (r) {
      case Jo:
        o(t);
        break;
      case Iu:
        t = o;
        break;
      case Sw:
        return t;
    }
    return n(r, o);
  };
}
function D6(e) {
  let t, n;
  const r = () => t && t();
  return function(o, s) {
    switch (o) {
      case Jo:
        return s ? n === s ? void 0 : (r(), n = s, t = an(e, s), t) : (r(), ju);
      case Mi:
        r(), n = null;
        return;
      default:
        throw new Error(`unrecognized action ${o}`);
    }
  };
}
function pa(e) {
  return Bg(Rt(), (t) => vt(e, t));
}
function ri(e, t) {
  return Bg(Te(t), (n) => vt(e, n));
}
function H6(...e) {
  return (t) => e.reduceRight(I6, t);
}
function _e(e, ...t) {
  const n = H6(...t);
  return (r, o) => {
    switch (r) {
      case Jo:
        return an(e, n(o));
      case Mi:
        Fg(e);
        return;
    }
  };
}
function xw(e, t) {
  return e === t;
}
function yn(e = xw) {
  let t;
  return (n) => (r) => {
    e(t, r) || (t = r, n(r));
  };
}
function Qt(e) {
  return (t) => (n) => {
    e(n) && t(n);
  };
}
function Ot(e) {
  return (t) => R6(t, e);
}
function Oo(e) {
  return (t) => () => t(e);
}
function Fl(e, t) {
  return (n) => (r) => n(t = e(t, r));
}
function ef(e) {
  return (t) => (n) => {
    e > 0 ? e-- : t(n);
  };
}
function Ji(e) {
  let t = null, n;
  return (r) => (o) => {
    t = o, !n && (n = setTimeout(() => {
      n = void 0, r(t);
    }, e));
  };
}
function w1(e) {
  let t, n;
  return (r) => (o) => {
    t = o, n && clearTimeout(n), n = setTimeout(() => {
      r(t);
    }, e);
  };
}
function _r(...e) {
  const t = new Array(e.length);
  let n = 0, r = null;
  const o = Math.pow(2, e.length) - 1;
  return e.forEach((s, i) => {
    const a = Math.pow(2, i);
    an(s, (l) => {
      const c = n;
      n = n | a, t[i] = l, c !== o && n === o && r && (r(), r = null);
    });
  }), (s) => (i) => {
    const a = () => s([i].concat(t));
    n === o ? a() : r = a;
  };
}
function S1(...e) {
  return function(t, n) {
    switch (t) {
      case Jo:
        return V6(...e.map((r) => an(r, n)));
      case Mi:
        return;
      default:
        throw new Error(`unrecognized action ${t}`);
    }
  };
}
function qe(e, t = xw) {
  return _e(e, yn(t));
}
function so(...e) {
  const t = Rt(), n = new Array(e.length);
  let r = 0;
  const o = Math.pow(2, e.length) - 1;
  return e.forEach((s, i) => {
    const a = Math.pow(2, i);
    an(s, (l) => {
      n[i] = l, r = r | a, r === o && Wt(t, n);
    });
  }), function(s, i) {
    switch (s) {
      case Jo:
        return r === o && i(n), an(t, i);
      case Mi:
        return Fg(t);
      default:
        throw new Error(`unrecognized action ${s}`);
    }
  };
}
function Kr(e, t = [], { singleton: n } = { singleton: !0 }) {
  return {
    id: B6(),
    constructor: e,
    dependencies: t,
    singleton: n
  };
}
const B6 = () => Symbol();
function F6(e) {
  const t = /* @__PURE__ */ new Map(), n = ({ id: r, constructor: o, dependencies: s, singleton: i }) => {
    if (i && t.has(r))
      return t.get(r);
    const a = o(s.map((l) => n(l)));
    return i && t.set(r, a), a;
  };
  return n(e);
}
function z6(e, t) {
  const n = {}, r = {};
  let o = 0;
  const s = e.length;
  for (; o < s; )
    r[e[o]] = 1, o += 1;
  for (const i in t)
    r.hasOwnProperty(i) || (n[i] = t[i]);
  return n;
}
const zl = typeof document < "u" ? B.useLayoutEffect : B.useEffect;
function U6(e, t, n) {
  const r = Object.keys(t.required || {}), o = Object.keys(t.optional || {}), s = Object.keys(t.methods || {}), i = Object.keys(t.events || {}), a = B.createContext({});
  function l(y, v) {
    y.propsReady && Wt(y.propsReady, !1);
    for (const S of r) {
      const w = y[t.required[S]];
      Wt(w, v[S]);
    }
    for (const S of o)
      if (S in v) {
        const w = y[t.optional[S]];
        Wt(w, v[S]);
      }
    y.propsReady && Wt(y.propsReady, !0);
  }
  function c(y) {
    return s.reduce((v, S) => (v[S] = (w) => {
      const C = y[t.methods[S]];
      Wt(C, w);
    }, v), {});
  }
  function d(y) {
    return i.reduce((v, S) => (v[S] = D6(y[t.events[S]]), v), {});
  }
  const p = B.forwardRef((y, v) => {
    const { children: S, ...w } = y, [C] = B.useState(() => Bg(F6(e), (O) => l(O, w))), [x] = B.useState(b1(d, C));
    zl(() => {
      for (const O of i)
        O in w && an(x[O], w[O]);
      return () => {
        Object.values(x).map(Fg);
      };
    }, [w, x, C]), zl(() => {
      l(C, w);
    }), B.useImperativeHandle(v, v1(c(C)));
    const E = n;
    return /* @__PURE__ */ u(a.Provider, { value: C, children: n ? /* @__PURE__ */ u(E, { ...z6([...r, ...o, ...i], w), children: S }) : S });
  }), f = (y) => B.useCallback(Cw(Wt, B.useContext(a)[y]), [y]), g = (y) => {
    const S = B.useContext(a)[y], w = B.useCallback(
      (C) => an(S, C),
      [S]
    );
    return B.useSyncExternalStore(
      w,
      () => ni(S),
      () => ni(S)
    );
  }, h = (y) => {
    const S = B.useContext(a)[y], [w, C] = B.useState(b1(ni, S));
    return zl(
      () => an(S, (x) => {
        x !== w && C(v1(x));
      }),
      [S, w]
    ), w;
  }, m = B.version.startsWith("18") ? g : h;
  return {
    Component: p,
    usePublisher: f,
    useEmitterValue: m,
    useEmitter: (y, v) => {
      const w = B.useContext(a)[y];
      zl(() => an(w, v), [v, w]);
    }
  };
}
const Pw = typeof document < "u" ? B.useLayoutEffect : B.useEffect;
var zg = /* @__PURE__ */ ((e) => (e[e.DEBUG = 0] = "DEBUG", e[e.INFO = 1] = "INFO", e[e.WARN = 2] = "WARN", e[e.ERROR = 3] = "ERROR", e))(zg || {});
const W6 = {
  0: "debug",
  1: "log",
  2: "warn",
  3: "error"
}, G6 = () => typeof globalThis > "u" ? window : globalThis, Ew = Kr(
  () => {
    const e = Te(
      3
      /* ERROR */
    );
    return {
      log: Te((n, r, o = 1) => {
        var s;
        const i = (s = G6().VIRTUOSO_LOG_LEVEL) != null ? s : ni(e);
        o >= i && console[W6[o]](
          "%creact-virtuoso: %c%s %o",
          "color: #0253b3; font-weight: bold",
          "color: initial",
          n,
          r
        );
      }),
      logLevel: e
    };
  },
  [],
  { singleton: !0 }
);
function Tw(e, t, n) {
  const r = B.useRef(null);
  let o = (s) => {
  };
  if (typeof ResizeObserver < "u") {
    const s = B.useMemo(() => new ResizeObserver((i) => {
      const a = () => {
        const l = i[0].target;
        l.offsetParent !== null && e(l);
      };
      n ? a() : requestAnimationFrame(a);
    }), [e]);
    o = (i) => {
      i && t ? (s.observe(i), r.current = i) : (r.current && s.unobserve(r.current), r.current = null);
    };
  }
  return { ref: r, callbackRef: o };
}
function Vu(e, t, n) {
  return Tw(e, t, n).callbackRef;
}
function Mc(e, t) {
  return Math.round(e.getBoundingClientRect()[t]);
}
function Ow(e, t) {
  return Math.abs(e - t) < 1.01;
}
function _w(e, t, n, r = ju, o, s) {
  const i = B.useRef(null), a = B.useRef(null), l = B.useRef(null), c = B.useCallback(
    (f) => {
      const g = f.target, h = g === window || g === document, m = s ? h ? window.pageXOffset || document.documentElement.scrollLeft : g.scrollLeft : h ? window.pageYOffset || document.documentElement.scrollTop : g.scrollTop, b = s ? h ? document.documentElement.scrollWidth : g.scrollWidth : h ? document.documentElement.scrollHeight : g.scrollHeight, y = s ? h ? window.innerWidth : g.offsetWidth : h ? window.innerHeight : g.offsetHeight, v = () => {
        e({
          scrollTop: Math.max(m, 0),
          scrollHeight: b,
          viewportHeight: y
        });
      };
      f.suppressFlushSync ? v() : Sb.flushSync(v), a.current !== null && (m === a.current || m <= 0 || m === b - y) && (a.current = null, t(!0), l.current && (clearTimeout(l.current), l.current = null));
    },
    [e, t]
  );
  B.useEffect(() => {
    const f = o || i.current;
    return r(o || i.current), c({ target: f, suppressFlushSync: !0 }), f.addEventListener("scroll", c, { passive: !0 }), () => {
      r(null), f.removeEventListener("scroll", c);
    };
  }, [i, c, n, r, o]);
  function d(f) {
    const g = i.current;
    if (!g || (s ? "offsetWidth" in g && g.offsetWidth === 0 : "offsetHeight" in g && g.offsetHeight === 0))
      return;
    const h = f.behavior === "smooth";
    let m, b, y;
    g === window ? (b = Math.max(
      Mc(document.documentElement, s ? "width" : "height"),
      s ? document.documentElement.scrollWidth : document.documentElement.scrollHeight
    ), m = s ? window.innerWidth : window.innerHeight, y = s ? document.documentElement.scrollLeft : document.documentElement.scrollTop) : (b = g[s ? "scrollWidth" : "scrollHeight"], m = Mc(g, s ? "width" : "height"), y = g[s ? "scrollLeft" : "scrollTop"]);
    const v = b - m;
    if (f.top = Math.ceil(Math.max(Math.min(v, f.top), 0)), Ow(m, b) || f.top === y) {
      e({ scrollTop: y, scrollHeight: b, viewportHeight: m }), h && t(!0);
      return;
    }
    h ? (a.current = f.top, l.current && clearTimeout(l.current), l.current = setTimeout(() => {
      l.current = null, a.current = null, t(!0);
    }, 1e3)) : a.current = null, s && (f = { left: f.top, behavior: f.behavior }), g.scrollTo(f);
  }
  function p(f) {
    s && (f = { left: f.top, behavior: f.behavior }), i.current.scrollBy(f);
  }
  return { scrollerRef: i, scrollByCallback: p, scrollToCallback: d };
}
const Du = Kr(
  () => {
    const e = Rt(), t = Rt(), n = Te(0), r = Rt(), o = Te(0), s = Rt(), i = Rt(), a = Te(0), l = Te(0), c = Te(0), d = Te(0), p = Rt(), f = Rt(), g = Te(!1), h = Te(!1), m = Te(!1);
    return vt(
      _e(
        e,
        Ot(({ scrollTop: b }) => b)
      ),
      t
    ), vt(
      _e(
        e,
        Ot(({ scrollHeight: b }) => b)
      ),
      i
    ), vt(t, o), {
      // input
      scrollContainerState: e,
      scrollTop: t,
      viewportHeight: s,
      headerHeight: a,
      fixedHeaderHeight: l,
      fixedFooterHeight: c,
      footerHeight: d,
      scrollHeight: i,
      smoothScrollTargetReached: r,
      horizontalDirection: h,
      skipAnimationFrameInResizeObserver: m,
      // signals
      scrollTo: p,
      scrollBy: f,
      // state
      statefulScrollTop: o,
      deviation: n,
      scrollingInProgress: g
    };
  },
  [],
  { singleton: !0 }
), K6 = typeof document < "u" && "scrollBehavior" in document.documentElement.style;
function q6(e) {
  const t = typeof e == "number" ? { index: e } : e;
  return t.align || (t.align = "start"), (!t.behavior || !K6) && (t.behavior = "auto"), t.offset || (t.offset = 0), t;
}
const $c = "up", fa = "down", Y6 = "none", Z6 = {
  atBottom: !1,
  notAtBottomBecause: "NOT_SHOWING_LAST_ITEM",
  state: {
    offsetBottom: 0,
    scrollTop: 0,
    viewportHeight: 0,
    scrollHeight: 0
  }
}, X6 = 0, Aw = Kr(([{ scrollContainerState: e, scrollTop: t, viewportHeight: n, headerHeight: r, footerHeight: o, scrollBy: s }]) => {
  const i = Te(!1), a = Te(!0), l = Rt(), c = Rt(), d = Te(4), p = Te(X6), f = ri(
    _e(
      S1(_e(qe(t), ef(1), Oo(!0)), _e(qe(t), ef(1), Oo(!1), w1(100))),
      yn()
    ),
    !1
  ), g = ri(
    _e(S1(_e(s, Oo(!0)), _e(s, Oo(!1), w1(200))), yn()),
    !1
  );
  vt(
    _e(
      so(qe(t), qe(p)),
      Ot(([v, S]) => v <= S),
      yn()
    ),
    a
  ), vt(_e(a, Ji(50)), c);
  const h = pa(
    _e(
      so(e, qe(n), qe(r), qe(o), qe(d)),
      Fl((v, [{ scrollTop: S, scrollHeight: w }, C, x, E, O]) => {
        const T = S + C - w > -O, P = {
          viewportHeight: C,
          scrollTop: S,
          scrollHeight: w
        };
        if (T) {
          let _, M;
          return S > v.state.scrollTop ? (_ = "SCROLLED_DOWN", M = v.state.scrollTop - S) : (_ = "SIZE_DECREASED", M = v.state.scrollTop - S || v.scrollTopDelta), {
            atBottom: !0,
            state: P,
            atBottomBecause: _,
            scrollTopDelta: M
          };
        }
        let A;
        return P.scrollHeight > v.state.scrollHeight ? A = "SIZE_INCREASED" : C < v.state.viewportHeight ? A = "VIEWPORT_HEIGHT_DECREASING" : S < v.state.scrollTop ? A = "SCROLLING_UPWARDS" : A = "NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM", {
          atBottom: !1,
          notAtBottomBecause: A,
          state: P
        };
      }, Z6),
      yn((v, S) => v && v.atBottom === S.atBottom)
    )
  ), m = ri(
    _e(
      e,
      Fl(
        (v, { scrollTop: S, scrollHeight: w, viewportHeight: C }) => {
          if (Ow(v.scrollHeight, w))
            return {
              scrollTop: S,
              scrollHeight: w,
              jump: 0,
              changed: !1
            };
          {
            const x = w - (S + C) < 1;
            return v.scrollTop !== S && x ? {
              scrollHeight: w,
              scrollTop: S,
              jump: v.scrollTop - S,
              changed: !0
            } : {
              scrollHeight: w,
              scrollTop: S,
              jump: 0,
              changed: !0
            };
          }
        },
        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: !1 }
      ),
      Qt((v) => v.changed),
      Ot((v) => v.jump)
    ),
    0
  );
  vt(
    _e(
      h,
      Ot((v) => v.atBottom)
    ),
    i
  ), vt(_e(i, Ji(50)), l);
  const b = Te(fa);
  vt(
    _e(
      e,
      Ot(({ scrollTop: v }) => v),
      yn(),
      Fl(
        (v, S) => ni(g) ? { direction: v.direction, prevScrollTop: S } : { direction: S < v.prevScrollTop ? $c : fa, prevScrollTop: S },
        { direction: fa, prevScrollTop: 0 }
      ),
      Ot((v) => v.direction)
    ),
    b
  ), vt(_e(e, Ji(50), Oo(Y6)), b);
  const y = Te(0);
  return vt(
    _e(
      f,
      Qt((v) => !v),
      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
      Oo(0)
    ),
    y
  ), vt(
    _e(
      t,
      Ji(100),
      _r(f),
      Qt(([v, S]) => !!S),
      Fl(([v, S], [w]) => [S, w], [0, 0]),
      Ot(([v, S]) => S - v)
    ),
    y
  ), {
    isScrolling: f,
    isAtTop: a,
    isAtBottom: i,
    atBottomState: h,
    atTopStateChange: c,
    atBottomStateChange: l,
    scrollDirection: b,
    atBottomThreshold: d,
    atTopThreshold: p,
    scrollVelocity: y,
    lastJumpDueToItemResize: m
  };
}, Vs(Du)), J6 = Kr(
  ([{ log: e }]) => {
    const t = Te(!1), n = pa(
      _e(
        t,
        Qt((r) => r),
        yn()
      )
    );
    return an(t, (r) => {
      r && ni(e)("props updated", {}, zg.DEBUG);
    }), { propsReady: t, didMount: n };
  },
  Vs(Ew),
  { singleton: !0 }
);
function Lw(e, t) {
  e == 0 ? t() : requestAnimationFrame(() => Lw(e - 1, t));
}
function Q6(e, t) {
  const n = t - 1;
  return typeof e == "number" ? e : e.index === "LAST" ? n : e.index;
}
function tf(e, t) {
  return !!(e && e[0] === t[0] && e[1] === t[1]);
}
function eR(e, t) {
  return !!(e && e.startIndex === t.startIndex && e.endIndex === t.endIndex);
}
const Rc = "top", Ic = "bottom", C1 = "none";
function x1(e, t, n) {
  return typeof e == "number" ? n === $c && t === Rc || n === fa && t === Ic ? e : 0 : n === $c ? t === Rc ? e.main : e.reverse : t === Ic ? e.main : e.reverse;
}
function P1(e, t) {
  return typeof e == "number" ? e : e[t] || 0;
}
const tR = Kr(
  ([{ scrollTop: e, viewportHeight: t, deviation: n, headerHeight: r, fixedHeaderHeight: o }]) => {
    const s = Rt(), i = Te(0), a = Te(0), l = Te(0), c = ri(
      _e(
        so(
          qe(e),
          qe(t),
          qe(r),
          qe(s, tf),
          qe(l),
          qe(i),
          qe(o),
          qe(n),
          qe(a)
        ),
        Ot(
          ([
            d,
            p,
            f,
            [g, h],
            m,
            b,
            y,
            v,
            S
          ]) => {
            const w = d - v, C = b + y, x = Math.max(f - w, 0);
            let E = C1;
            const O = P1(S, Rc), T = P1(S, Ic);
            return g -= v, g += f + y, h += f + y, h -= v, g > d + C - O && (E = $c), h < d - x + p + T && (E = fa), E !== C1 ? [
              Math.max(w - f - x1(m, Rc, E) - O, 0),
              w - x - y + p + x1(m, Ic, E) + T
            ] : null;
          }
        ),
        Qt((d) => d != null),
        yn(tf)
      ),
      [0, 0]
    );
    return {
      // input
      listBoundary: s,
      overscan: l,
      topListHeight: i,
      increaseViewportBy: a,
      // output
      visibleRange: c
    };
  },
  Vs(Du),
  { singleton: !0 }
), nR = Kr(
  ([{ scrollVelocity: e }]) => {
    const t = Te(!1), n = Rt(), r = Te(!1);
    return vt(
      _e(
        e,
        _r(r, t, n),
        Qt(([o, s]) => !!s),
        Ot(([o, s, i, a]) => {
          const { exit: l, enter: c } = s;
          if (i) {
            if (l(o, a))
              return !1;
          } else if (c(o, a))
            return !0;
          return i;
        }),
        yn()
      ),
      t
    ), an(
      _e(so(t, e, n), _r(r)),
      ([[o, s, i], a]) => o && a && a.change && a.change(s, i)
    ), { isSeeking: t, scrollSeekConfiguration: r, scrollVelocity: e, scrollSeekRangeChanged: n };
  },
  Vs(Aw),
  { singleton: !0 }
);
function rR(e) {
  let t = !1, n;
  return () => (t || (t = !0, n = e()), n);
}
const oR = Kr(([{ scrollTo: e, scrollContainerState: t }]) => {
  const n = Rt(), r = Rt(), o = Rt(), s = Te(!1), i = Te(void 0);
  return vt(
    _e(
      so(n, r),
      Ot(([{ viewportHeight: a, scrollTop: l, scrollHeight: c }, { offsetTop: d }]) => ({
        scrollTop: Math.max(0, l - d),
        scrollHeight: c,
        viewportHeight: a
      }))
    ),
    t
  ), vt(
    _e(
      e,
      _r(r),
      Ot(([a, { offsetTop: l }]) => ({
        ...a,
        top: a.top + l
      }))
    ),
    o
  ), {
    // config
    useWindowScroll: s,
    customScrollParent: i,
    // input
    windowScrollContainerState: n,
    windowViewportRect: r,
    // signals
    windowScrollTo: o
  };
}, Vs(Du)), Bd = "-webkit-sticky", E1 = "sticky", Nw = rR(() => {
  if (typeof document > "u")
    return E1;
  const e = document.createElement("div");
  return e.style.position = Bd, e.style.position === Bd ? Bd : E1;
});
function sR(e, t, n) {
  const r = B.useRef(null), o = B.useCallback(
    (l) => {
      if (l === null || !l.offsetParent)
        return;
      const c = l.getBoundingClientRect(), d = c.width;
      let p, f;
      if (t) {
        const g = t.getBoundingClientRect(), h = c.top - g.top;
        p = g.height - Math.max(0, h), f = h + t.scrollTop;
      } else
        p = window.innerHeight - Math.max(0, c.top), f = c.top + window.pageYOffset;
      r.current = {
        offsetTop: f,
        visibleHeight: p,
        visibleWidth: d
      }, e(r.current);
    },
    [e, t]
  ), { callbackRef: s, ref: i } = Tw(o, !0, n), a = B.useCallback(() => {
    o(i.current);
  }, [o, i]);
  return B.useEffect(() => {
    if (t) {
      t.addEventListener("scroll", a);
      const l = new ResizeObserver(() => {
        requestAnimationFrame(a);
      });
      return l.observe(t), () => {
        t.removeEventListener("scroll", a), l.unobserve(t);
      };
    } else
      return window.addEventListener("scroll", a), window.addEventListener("resize", a), () => {
        window.removeEventListener("scroll", a), window.removeEventListener("resize", a);
      };
  }, [a, t]), s;
}
B.createContext(void 0);
const kw = B.createContext(void 0);
function iR(e) {
  return e;
}
Nw();
const aR = {
  height: "100%",
  outline: "none",
  overflowY: "auto",
  position: "relative",
  WebkitOverflowScrolling: "touch"
}, lR = {
  outline: "none",
  overflowX: "auto",
  position: "relative"
}, Mw = (e) => ({
  width: "100%",
  height: "100%",
  position: "absolute",
  top: 0,
  ...e ? { display: "flex", flexDirection: "column" } : {}
});
Nw();
function vs(e, t) {
  if (typeof e != "string")
    return { context: t };
}
function cR({ usePublisher: e, useEmitter: t, useEmitterValue: n }) {
  return B.memo(function({ style: s, children: i, ...a }) {
    const l = e("scrollContainerState"), c = n("ScrollerComponent"), d = e("smoothScrollTargetReached"), p = n("scrollerRef"), f = n("context"), g = n("horizontalDirection") || !1, { scrollerRef: h, scrollByCallback: m, scrollToCallback: b } = _w(
      l,
      d,
      c,
      p,
      void 0,
      g
    );
    return t("scrollTo", b), t("scrollBy", m), /* @__PURE__ */ u(
      c,
      {
        ref: h,
        style: { ...g ? lR : aR, ...s },
        "data-testid": "virtuoso-scroller",
        "data-virtuoso-scroller": !0,
        tabIndex: 0,
        ...a,
        ...vs(c, f),
        children: i
      }
    );
  });
}
function uR({ usePublisher: e, useEmitter: t, useEmitterValue: n }) {
  return B.memo(function({ style: s, children: i, ...a }) {
    const l = e("windowScrollContainerState"), c = n("ScrollerComponent"), d = e("smoothScrollTargetReached"), p = n("totalListHeight"), f = n("deviation"), g = n("customScrollParent"), h = n("context"), { scrollerRef: m, scrollByCallback: b, scrollToCallback: y } = _w(
      l,
      d,
      c,
      ju,
      g
    );
    return Pw(() => (m.current = g || window, () => {
      m.current = null;
    }), [m, g]), t("windowScrollTo", y), t("scrollBy", b), /* @__PURE__ */ u(
      c,
      {
        style: { position: "relative", ...s, ...p !== 0 ? { height: p + f } : {} },
        "data-virtuoso-scroller": !0,
        ...a,
        ...vs(c, h),
        children: i
      }
    );
  });
}
const T1 = {
  items: [],
  offsetBottom: 0,
  offsetTop: 0,
  top: 0,
  bottom: 0,
  itemHeight: 0,
  itemWidth: 0
}, dR = {
  items: [{ index: 0 }],
  offsetBottom: 0,
  offsetTop: 0,
  top: 0,
  bottom: 0,
  itemHeight: 0,
  itemWidth: 0
}, { round: O1, ceil: _1, floor: jc, min: Fd, max: ga } = Math;
function pR(e) {
  return {
    ...dR,
    items: e
  };
}
function A1(e, t, n) {
  return Array.from({ length: t - e + 1 }).map((r, o) => {
    const s = n === null ? null : n[o + e];
    return { index: o + e, data: s };
  });
}
function fR(e, t) {
  return e && e.column === t.column && e.row === t.row;
}
function Ul(e, t) {
  return e && e.width === t.width && e.height === t.height;
}
const gR = /* @__PURE__ */ Kr(
  ([
    { overscan: e, visibleRange: t, listBoundary: n, increaseViewportBy: r },
    { scrollTop: o, viewportHeight: s, scrollBy: i, scrollTo: a, smoothScrollTargetReached: l, scrollContainerState: c, footerHeight: d, headerHeight: p },
    f,
    g,
    { propsReady: h, didMount: m },
    { windowViewportRect: b, useWindowScroll: y, customScrollParent: v, windowScrollContainerState: S, windowScrollTo: w },
    C
  ]) => {
    const x = Te(0), E = Te(0), O = Te(T1), T = Te({ height: 0, width: 0 }), P = Te({ height: 0, width: 0 }), A = Rt(), _ = Rt(), M = Te(0), V = Te(null), N = Te({ row: 0, column: 0 }), H = Rt(), K = Rt(), z = Te(!1), $ = Te(0), D = Te(!0), I = Te(!1), U = Te(!1);
    an(
      _e(
        m,
        _r($),
        Qt(([X, ee]) => !!ee)
      ),
      () => {
        Wt(D, !1);
      }
    ), an(
      _e(
        so(m, D, P, T, $, I),
        Qt(([X, ee, de, me, , Ee]) => X && !ee && de.height !== 0 && me.height !== 0 && !Ee)
      ),
      ([, , , , X]) => {
        Wt(I, !0), Lw(1, () => {
          Wt(A, X);
        }), y1(_e(o), () => {
          Wt(n, [0, 0]), Wt(D, !0);
        });
      }
    ), vt(
      _e(
        K,
        Qt((X) => X != null && X.scrollTop > 0),
        Oo(0)
      ),
      E
    ), an(
      _e(
        m,
        _r(K),
        Qt(([, X]) => X != null)
      ),
      ([, X]) => {
        X && (Wt(T, X.viewport), Wt(P, X == null ? void 0 : X.item), Wt(N, X.gap), X.scrollTop > 0 && (Wt(z, !0), y1(_e(o, ef(1)), (ee) => {
          Wt(z, !1);
        }), Wt(a, { top: X.scrollTop })));
      }
    ), vt(
      _e(
        T,
        Ot(({ height: X }) => X)
      ),
      s
    ), vt(
      _e(
        so(
          qe(T, Ul),
          qe(P, Ul),
          qe(N, (X, ee) => X && X.column === ee.column && X.row === ee.row),
          qe(o)
        ),
        Ot(([X, ee, de, me]) => ({
          viewport: X,
          item: ee,
          gap: de,
          scrollTop: me
        }))
      ),
      H
    ), vt(
      _e(
        so(
          qe(x),
          t,
          qe(N, fR),
          qe(P, Ul),
          qe(T, Ul),
          qe(V),
          qe(E),
          qe(z),
          qe(D),
          qe($)
        ),
        Qt(([, , , , , , , X]) => !X),
        Ot(
          ([
            X,
            [ee, de],
            me,
            Ee,
            Se,
            Fe,
            tt,
            ,
            xt,
            ft
          ]) => {
            const { row: Ge, column: zt } = me, { height: gt, width: kt } = Ee, { width: Tt } = Se;
            if (tt === 0 && (X === 0 || Tt === 0))
              return T1;
            if (kt === 0) {
              const Ut = Q6(ft, X), qr = Math.max(Ut + tt - 1, 0);
              return pR(A1(Ut, qr, Fe));
            }
            const Pt = $w(Tt, kt, zt);
            let pt, ht;
            xt ? ee === 0 && de === 0 && tt > 0 ? (pt = 0, ht = tt - 1) : (pt = Pt * jc((ee + Ge) / (gt + Ge)), ht = Pt * _1((de + Ge) / (gt + Ge)) - 1, ht = Fd(X - 1, ga(ht, Pt - 1)), pt = Fd(ht, ga(0, pt))) : (pt = 0, ht = -1);
            const Zt = A1(pt, ht, Fe), { top: ve, bottom: ze } = L1(Se, me, Ee, Zt), We = _1(X / Pt), yt = We * gt + (We - 1) * Ge - ze;
            return { items: Zt, offsetTop: ve, offsetBottom: yt, top: ve, bottom: ze, itemHeight: gt, itemWidth: kt };
          }
        )
      ),
      O
    ), vt(
      _e(
        V,
        Qt((X) => X !== null),
        Ot((X) => X.length)
      ),
      x
    ), vt(
      _e(
        so(T, P, O, N),
        Qt(([X, ee, { items: de }]) => de.length > 0 && ee.height !== 0 && X.height !== 0),
        Ot(([X, ee, { items: de }, me]) => {
          const { top: Ee, bottom: Se } = L1(X, me, ee, de);
          return [Ee, Se];
        }),
        yn(tf)
      ),
      n
    );
    const ne = Te(!1);
    vt(
      _e(
        o,
        _r(ne),
        Ot(([X, ee]) => ee || X !== 0)
      ),
      ne
    );
    const Q = pa(
      _e(
        qe(O),
        Qt(({ items: X }) => X.length > 0),
        _r(x, ne),
        Qt(([{ items: X }, ee, de]) => de && X[X.length - 1].index === ee - 1),
        Ot(([, X]) => X - 1),
        yn()
      )
    ), re = pa(
      _e(
        qe(O),
        Qt(({ items: X }) => X.length > 0 && X[0].index === 0),
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        Oo(0),
        yn()
      )
    ), ie = pa(
      _e(
        qe(O),
        _r(z),
        Qt(([{ items: X }, ee]) => X.length > 0 && !ee),
        Ot(([{ items: X }]) => ({
          startIndex: X[0].index,
          endIndex: X[X.length - 1].index
        })),
        yn(eR),
        Ji(0)
      )
    );
    vt(ie, g.scrollSeekRangeChanged), vt(
      _e(
        A,
        _r(T, P, x, N),
        Ot(([X, ee, de, me, Ee]) => {
          const Se = q6(X), { align: Fe, behavior: tt, offset: xt } = Se;
          let ft = Se.index;
          ft === "LAST" && (ft = me - 1), ft = ga(0, ft, Fd(me - 1, ft));
          let Ge = nf(ee, Ee, de, ft);
          return Fe === "end" ? Ge = O1(Ge - ee.height + de.height) : Fe === "center" && (Ge = O1(Ge - ee.height / 2 + de.height / 2)), xt && (Ge += xt), { top: Ge, behavior: tt };
        })
      ),
      a
    );
    const oe = ri(
      _e(
        O,
        Ot((X) => X.offsetBottom + X.bottom)
      ),
      0
    );
    return vt(
      _e(
        b,
        Ot((X) => ({ width: X.visibleWidth, height: X.visibleHeight }))
      ),
      T
    ), {
      // input
      data: V,
      totalCount: x,
      viewportDimensions: T,
      itemDimensions: P,
      scrollTop: o,
      scrollHeight: _,
      overscan: e,
      increaseViewportBy: r,
      scrollBy: i,
      scrollTo: a,
      scrollToIndex: A,
      smoothScrollTargetReached: l,
      windowViewportRect: b,
      windowScrollTo: w,
      useWindowScroll: y,
      customScrollParent: v,
      windowScrollContainerState: S,
      deviation: M,
      scrollContainerState: c,
      footerHeight: d,
      headerHeight: p,
      initialItemCount: E,
      gap: N,
      restoreStateFrom: K,
      ...g,
      initialTopMostItemIndex: $,
      horizontalDirection: U,
      // output
      gridState: O,
      totalListHeight: oe,
      ...f,
      startReached: re,
      endReached: Q,
      rangeChanged: ie,
      stateChanged: H,
      propsReady: h,
      stateRestoreInProgress: z,
      ...C
    };
  },
  Vs(tR, Du, Aw, nR, J6, oR, Ew)
);
function L1(e, t, n, r) {
  const { height: o } = n;
  if (o === void 0 || r.length === 0)
    return { top: 0, bottom: 0 };
  const s = nf(e, t, n, r[0].index), i = nf(e, t, n, r[r.length - 1].index) + o;
  return { top: s, bottom: i };
}
function nf(e, t, n, r) {
  const o = $w(e.width, n.width, t.column), s = jc(r / o), i = s * n.height + ga(0, s - 1) * t.row;
  return i > 0 ? i + t.row : i;
}
function $w(e, t, n) {
  return ga(1, jc((e + n) / (jc(t) + n)));
}
const hR = /* @__PURE__ */ Kr(() => {
  const e = Te((p) => `Item ${p}`), t = Te({}), n = Te(null), r = Te("virtuoso-grid-item"), o = Te("virtuoso-grid-list"), s = Te(iR), i = Te("div"), a = Te(ju), l = (p, f = null) => ri(
    _e(
      t,
      Ot((g) => g[p]),
      yn()
    ),
    f
  ), c = Te(!1), d = Te(!1);
  return vt(qe(d), c), {
    readyStateChanged: c,
    reportReadyState: d,
    context: n,
    itemContent: e,
    components: t,
    computeItemKey: s,
    itemClassName: r,
    listClassName: o,
    headerFooterTag: i,
    scrollerRef: a,
    FooterComponent: l("Footer"),
    HeaderComponent: l("Header"),
    ListComponent: l("List", "div"),
    ItemComponent: l("Item", "div"),
    ScrollerComponent: l("Scroller", "div"),
    ScrollSeekPlaceholder: l("ScrollSeekPlaceholder", "div")
  };
}), mR = /* @__PURE__ */ Kr(([e, t]) => ({ ...e, ...t }), Vs(gR, hR)), bR = /* @__PURE__ */ B.memo(function() {
  const t = At("gridState"), n = At("listClassName"), r = At("itemClassName"), o = At("itemContent"), s = At("computeItemKey"), i = At("isSeeking"), a = Zn("scrollHeight"), l = At("ItemComponent"), c = At("ListComponent"), d = At("ScrollSeekPlaceholder"), p = At("context"), f = Zn("itemDimensions"), g = Zn("gap"), h = At("log"), m = At("stateRestoreInProgress"), b = Zn("reportReadyState"), y = Vu(
    B.useMemo(
      () => (v) => {
        const S = v.parentElement.parentElement.scrollHeight;
        a(S);
        const w = v.firstChild;
        if (w) {
          const { width: C, height: x } = w.getBoundingClientRect();
          f({ width: C, height: x });
        }
        g({
          row: N1("row-gap", getComputedStyle(v).rowGap, h),
          column: N1("column-gap", getComputedStyle(v).columnGap, h)
        });
      },
      [a, f, g, h]
    ),
    !0,
    !1
  );
  return Pw(() => {
    t.itemHeight > 0 && t.itemWidth > 0 && b(!0);
  }, [t]), m ? null : /* @__PURE__ */ u(
    c,
    {
      ref: y,
      className: n,
      ...vs(c, p),
      style: { paddingTop: t.offsetTop, paddingBottom: t.offsetBottom },
      "data-testid": "virtuoso-item-list",
      children: t.items.map((v) => {
        const S = s(v.index, v.data, p);
        return i ? /* @__PURE__ */ u(
          d,
          {
            ...vs(d, p),
            index: v.index,
            height: t.itemHeight,
            width: t.itemWidth
          },
          S
        ) : /* @__PURE__ */ Ro(
          l,
          {
            ...vs(l, p),
            className: r,
            "data-index": v.index,
            key: S
          },
          o(v.index, v.data, p)
        );
      })
    }
  );
}), vR = B.memo(function() {
  const t = At("HeaderComponent"), n = Zn("headerHeight"), r = At("headerFooterTag"), o = Vu(
    B.useMemo(() => (i) => n(Mc(i, "height")), [n]),
    !0,
    !1
  ), s = At("context");
  return t ? /* @__PURE__ */ u(r, { ref: o, children: /* @__PURE__ */ u(t, { ...vs(t, s) }) }) : null;
}), yR = B.memo(function() {
  const t = At("FooterComponent"), n = Zn("footerHeight"), r = At("headerFooterTag"), o = Vu(
    B.useMemo(() => (i) => n(Mc(i, "height")), [n]),
    !0,
    !1
  ), s = At("context");
  return t ? /* @__PURE__ */ u(r, { ref: o, children: /* @__PURE__ */ u(t, { ...vs(t, s) }) }) : null;
}), wR = ({ children: e }) => {
  const t = B.useContext(kw), n = Zn("itemDimensions"), r = Zn("viewportDimensions"), o = Vu(
    B.useMemo(
      () => (s) => {
        r(s.getBoundingClientRect());
      },
      [r]
    ),
    !0,
    !1
  );
  return B.useEffect(() => {
    t && (r({ height: t.viewportHeight, width: t.viewportWidth }), n({ height: t.itemHeight, width: t.itemWidth }));
  }, [t, r, n]), /* @__PURE__ */ u("div", { style: Mw(!1), ref: o, children: e });
}, SR = ({ children: e }) => {
  const t = B.useContext(kw), n = Zn("windowViewportRect"), r = Zn("itemDimensions"), o = At("customScrollParent"), s = sR(n, o, !1);
  return B.useEffect(() => {
    t && (r({ height: t.itemHeight, width: t.itemWidth }), n({ offsetTop: 0, visibleHeight: t.viewportHeight, visibleWidth: t.viewportWidth }));
  }, [t, n, r]), /* @__PURE__ */ u("div", { ref: s, style: Mw(!1), children: e });
}, CR = /* @__PURE__ */ B.memo(function({ ...t }) {
  const n = At("useWindowScroll"), r = At("customScrollParent");
  return /* @__PURE__ */ u(r || n ? ER : PR, { ...t, children: /* @__PURE__ */ L(r || n ? SR : wR, { children: [
    /* @__PURE__ */ u(vR, {}),
    /* @__PURE__ */ u(bR, {}),
    /* @__PURE__ */ u(yR, {})
  ] }) });
}), {
  Component: xR,
  usePublisher: Zn,
  useEmitterValue: At,
  useEmitter: Rw
} = /* @__PURE__ */ U6(
  mR,
  {
    optional: {
      context: "context",
      totalCount: "totalCount",
      overscan: "overscan",
      itemContent: "itemContent",
      components: "components",
      computeItemKey: "computeItemKey",
      data: "data",
      initialItemCount: "initialItemCount",
      scrollSeekConfiguration: "scrollSeekConfiguration",
      headerFooterTag: "headerFooterTag",
      listClassName: "listClassName",
      itemClassName: "itemClassName",
      useWindowScroll: "useWindowScroll",
      customScrollParent: "customScrollParent",
      scrollerRef: "scrollerRef",
      logLevel: "logLevel",
      restoreStateFrom: "restoreStateFrom",
      initialTopMostItemIndex: "initialTopMostItemIndex",
      increaseViewportBy: "increaseViewportBy"
    },
    methods: {
      scrollTo: "scrollTo",
      scrollBy: "scrollBy",
      scrollToIndex: "scrollToIndex"
    },
    events: {
      isScrolling: "isScrolling",
      endReached: "endReached",
      startReached: "startReached",
      rangeChanged: "rangeChanged",
      atBottomStateChange: "atBottomStateChange",
      atTopStateChange: "atTopStateChange",
      stateChanged: "stateChanged",
      readyStateChanged: "readyStateChanged"
    }
  },
  CR
), PR = /* @__PURE__ */ cR({ usePublisher: Zn, useEmitterValue: At, useEmitter: Rw }), ER = /* @__PURE__ */ uR({ usePublisher: Zn, useEmitterValue: At, useEmitter: Rw });
function N1(e, t, n) {
  return t !== "normal" && !(t != null && t.endsWith("px")) && n(`${e} was not resolved to pixel value correctly`, t, zg.WARN), t === "normal" ? 0 : parseInt(t ?? "0", 10);
}
const pl = xR, Ug = (e) => {
  const t = "gs-utl-grid-cols-4", n = parseInt(`${e || 4}`, 10);
  return n === 1 ? "gs-utl-grid-cols-1" : n === 2 ? "gs-utl-grid-cols-2" : n === 3 ? "gs-utl-grid-cols-3" : n === 4 ? t : n === 5 ? "gs-utl-grid-cols-5" : n === 6 ? "gs-utl-grid-cols-6" : n === 7 ? "gs-utl-grid-cols-7" : n === 8 ? "gs-utl-grid-cols-8" : n === 9 ? "gs-utl-grid-cols-9" : n === 10 ? "gs-utl-grid-cols-10" : n === 11 ? "gs-utl-grid-cols-11" : n === 12 ? "gs-utl-grid-cols-12" : t;
}, TR = (e) => !!(e && !Array.isArray(e) && typeof e == "object");
async function OR(e) {
  const t = e.map(({ id: i, src: a }) => ({ id: i, src: a })), n = e.reduce(
    (i, a) => (i[a.id] = a, i),
    {}
  ), r = [], o = [];
  return (await GC(t)).forEach((i) => {
    i.status === "fulfilled" ? r.push(n[i.value]) : o.push(n[i.reason]);
  }), { loaded: r, failed: o };
}
const _R = async (e) => {
  const t = [...e], n = {};
  if (t.length) {
    const r = {}, o = [];
    if (t.forEach((s, i) => {
      TR(s) && (r[s.id] = { index: i }, o.push(s));
    }), o.length) {
      const { loaded: s } = await OR(o);
      s.forEach(({ id: i, options: a }) => {
        r[i].loaded = !0, n[i] = a || {};
      });
    }
    Object.keys(r).forEach((s) => {
      const i = r[s];
      i.loaded ? t[i.index] = s : t[i.index] = !1;
    });
  }
  return {
    plugins: t.filter(Boolean),
    pluginOptions: n
  };
}, AR = (e, t, n, r = {}) => {
  const { skipReplace: o } = r;
  e.loadData(t);
  const s = e.getCss() || "", i = o ? s : s.replace(/:root\s*{/gi, "[data-body]{");
  let a = `${e.getHtml()}<style>${i}</style>`;
  if (n === ke.email)
    try {
      a = e.runCommand(vu).html;
    } catch (l) {
      console.error(l);
    }
  return r.removeScripts && (a = a.replace(/<script[^>]*>[\s\S]*?<\/script>/gi, "").replace(/<script[^>]*src=["'][^"']*["'][^>]*><\/script>/gi, "").replace(/<script[^>]*src=["'][^"']*["'][^>]*\/?>/gi, "")), o ? a : a.replace("<body", "<div data-body").replace("</body>", "</div>");
}, LR = async (e, t, n) => {
  const r = gw(t, { appStore: n }), o = await _R(r);
  return e == null ? void 0 : e.init({
    headless: !0,
    projectData: {},
    log: !1,
    undoManager: !1,
    noticeOnUnload: !1,
    storageManager: !1,
    plugins: [
      ...o.plugins,
      (s) => {
        s.Storage.setCurrent("");
      }
    ],
    pluginsOpts: o.pluginOptions,
    protectedCss: `
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `
  });
}, k1 = /* @__PURE__ */ new Map(), M1 = /* @__PURE__ */ new Map(), NR = async ({ html: e = "", el: t }) => {
  const n = e, r = {};
  if (document.body.attachShadow) {
    const o = t.shadowRoot || t.attachShadow({ mode: "open" });
    o.innerHTML = n;
  }
  return r;
}, kR = ce(function({
  template: t,
  projectType: n,
  skipProjectNamePopover: r,
  className: o,
  onSelect: s,
  onRemove: i
}) {
  var E;
  const a = Le(), l = we(), c = l.editor, [d, p] = W(""), f = q(null), g = a.t("projectManager.projectName"), h = !t.isTemplate && l.currentProjectId === ((E = t.data.custom) == null ? void 0 : E.id), m = n === ke.web, b = !t.isTemplate || r, y = () => {
    b && (s == null || s({ editor: c, template: t, loadTemplate: v }));
  }, v = l.setProject, S = (O) => {
    O.preventDefault(), s({ editor: c, template: t, loadTemplate: v });
  };
  G(() => {
    const T = setTimeout(async () => {
      if (!f.current || !c)
        return;
      const P = `${t.isTemplate ? "t-" : ""}${t.id}`;
      let A = k1.get(P);
      if (!A) {
        let M = M1.get(n);
        if (!M) {
          const V = new bw({ appEditorStore: { sdkProps: { options: { licenseKey: "" } } } });
          M = await LR(c.config.grapesjs, n, V.appEditorStore), M1.set(n, M);
        }
        A = M ? AR(M, t.data, n) : "", k1.set(P, A);
      }
      const _ = f.current;
      NR({ el: _, html: A });
    });
    return () => clearTimeout(T);
  }, [f, c, n, t.data]);
  const { media: w, author: C } = t, x = /* @__PURE__ */ u(Xe, { className: te("text-sm"), size: "m2", variant: "pr", onClick: y, disabled: h, children: a.t("select") });
  return /* @__PURE__ */ u(Pn, { padding: !1, className: te("overflow-hidden max-w-full group", o), children: /* @__PURE__ */ L(R, { col: !0, children: [
    /* @__PURE__ */ L(j, { className: te("relative group h-36 bg-checker max-w-full"), children: [
      /* @__PURE__ */ u(
        "div",
        {
          className: te(
            "gs-utl-relative",
            "gs-utl-h-full",
            "gs-utl-overflow-hidden",
            "gs-utl-flex",
            "gs-utl-justify-center"
          ),
          children: w ? /* @__PURE__ */ u("img", { src: w, alt: t.name, className: te("max-w-full") }) : /* @__PURE__ */ u(
            "div",
            {
              className: te(
                "gs-utl-w-[1200px]",
                "gs-utl-flex-shrink-0",
                "gs-utl-flex-grow-0",
                "gs-utl-origin-top",
                "gs-utl-bg-white",
                // height needs to be the inverse of scale
                "gs-utl-scale-[0.232]",
                "gs-utl-h-[431.034%]"
              ),
              ref: f
            }
          )
        }
      ),
      h && /* @__PURE__ */ u(Vt, { className: te("absolute top-2 right-2", F.bgA2), label: a.t("current"), s: "s", pill: !0 }),
      /* @__PURE__ */ u(
        R,
        {
          justify: "center",
          items: "center",
          className: te(De.coverAbs, F.bgH75, "group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),
          children: b ? x : /* @__PURE__ */ u(Ur, { overlay: !0, title: !1, buttonAs: "span", handler: x, children: () => /* @__PURE__ */ u("form", { onSubmit: S, children: /* @__PURE__ */ L(R, { space: "m", col: !0, children: [
            /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
              at,
              {
                size: "s",
                value: d,
                onChange: p,
                placeholder: g,
                required: !0
              }
            ) }),
            /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Xe, { type: "submit", variant: "pr", size: "m2", full: !0, children: a.t("load") }) })
          ] }) }) })
        }
      )
    ] }),
    /* @__PURE__ */ L(R, { className: te("gjs-p-2 max-w-full", le.bt, F.br), col: !0, space: "s", children: [
      /* @__PURE__ */ L(R, { className: te("text-sm w-full"), space: "s", nowrap: !0, children: [
        /* @__PURE__ */ u(j, { className: te(De.txtEllips, "max-w-full"), grow: !0, children: t.name }),
        !!C && /* @__PURE__ */ L(j, { children: [
          "by",
          " ",
          /* @__PURE__ */ u("a", { className: te(di.link), href: C.link, rel: "noreferrer", target: "_blank", children: C.name })
        ] })
      ] }),
      /* @__PURE__ */ L(R, { items: "center", children: [
        m && /* @__PURE__ */ L(j, { className: te("gjs-mr-auto"), children: [
          a.t("projectManager.pages"),
          ": ",
          t.data.pages.length
        ] }),
        !t.isTemplate && i && /* @__PURE__ */ u(j, { className: te("gjs-ml-auto"), children: /* @__PURE__ */ u(Au, { onConfirm: () => i(t), className: "", children: /* @__PURE__ */ u(_t, { title: a.t("delete"), children: /* @__PURE__ */ u(ae, { icon: Z.delete, size: fe.sx }) }) }) })
      ] })
    ] })
  ] }) });
}), Iw = ce(function({
  templates: e,
  projectType: t,
  content: n,
  skipProjectNamePopover: r,
  onSelect: o,
  onRemove: s
}) {
  const [i] = ku(), l = Le().tScoped("templates"), d = we().editor, p = Ug(n == null ? void 0 : n.itemsPerRow), f = o ?? (({ template: g, loadTemplate: h }) => h(g));
  return /* @__PURE__ */ u(pe, { children: d && e ? e.length === 0 ? /* @__PURE__ */ u(R, { justify: "center", children: l("notFound") }) : /* @__PURE__ */ u(
    pl,
    {
      data: e,
      listClassName: te("grid gap-2 gjs-pr-2", p),
      itemContent: (g, h) => /* @__PURE__ */ u(
        kR,
        {
          template: h,
          projectType: t,
          onSelect: f,
          onRemove: s,
          skipProjectNamePopover: r
        },
        h.id
      )
    },
    i
  ) : /* @__PURE__ */ u(dl, {}) });
}), MR = ce(function() {
  var m;
  const t = we(), n = U0(), { filteredTemplates: r, projectSourceFilter: o, projectTypeFilter: s } = n, i = Le(), a = Wr(), { sdkOptions: l } = t, c = i.tScoped("projectManager"), d = async ({ loadTemplate: b, template: y }) => {
    b(y), a.close();
  }, p = async (b) => {
    n.setProjectTypeFilter(b), await n.loadAllTemplates();
  }, f = (b) => {
    n.removeProject(b.id), n.loadProjects();
  }, g = ue(
    () => [
      {
        id: Oa.Existing,
        label: c("existentProjects")
      },
      {
        id: Oa.Templates,
        label: c("templates")
      }
    ],
    [i]
  ), h = ((m = l.project) == null ? void 0 : m.types) && Sf();
  return G(() => {
    n.loadAllTemplates();
  }, []), /* @__PURE__ */ L(R, { col: !0, full: !0, space: "m", children: [
    h && /* @__PURE__ */ u(R, { items: "center", space: "m", children: /* @__PURE__ */ u(j, { className: te("gjs-ml-auto"), children: /* @__PURE__ */ u(
      Ne,
      {
        value: s,
        onChange: p,
        options: $6(),
        handlerSelected: (b) => /* @__PURE__ */ L(pe, { children: [
          /* @__PURE__ */ u("b", { children: c("projectType") }),
          ": ",
          b.label
        ] })
      }
    ) }) }),
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(bo, { tabs: g, value: o, onChange: n.setProjectSourceFilter }) }),
    /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
      Iw,
      {
        templates: r,
        projectType: ke[s],
        onSelect: d,
        onRemove: f,
        content: { itemsPerRow: 3 }
      }
    ) })
  ] });
}), $R = ({
  items: e,
  editor: t,
  customItems: n
}) => n === !1 ? [] : it(n) ? n({ items: e, editor: t }) : n || e, $1 = (e) => ({
  icon: Z.plus,
  size: fe.s,
  className: Y("gs-utl-transition-transform", e && "gs-utl-rotate-45")
}), jw = (e) => !e.type || e.type === "button", RR = "gs-cmp-topbar-left", IR = ce(function({
  buttons: t,
  className: n,
  style: r
}) {
  const o = we(), s = Le(), { isOpen: i, toggleOpen: a } = G0(), l = o.editor, d = s.tScoped("blockManager")("blocks"), p = $R({
    items: [
      {
        id: `blocks-${d}`,
        tooltip: d,
        size: x0.s,
        icon: $1(i),
        variant: C0.primary,
        editorEvents: {
          [Rn.toggleBlocksPanel]: ({ fromEvent: f, setState: g }) => {
            g({ icon: $1(f.isOpen) });
          }
        },
        onClick: () => a()
      }
    ],
    customItems: t,
    editor: l
  });
  return /* @__PURE__ */ u(R, { gap: "s", items: "center", justify: "start", className: Y(RR, Ve.xS, n), style: r, nowrap: !0, children: p.map(
    ({ id: f, ...g }) => jw(g) ? /* @__PURE__ */ u(du, { ...g }, f) : Dt({ id: f, ...g })
  ) });
}), jR = [
  { id: ur.auto, label: "Auto" },
  { id: ur.dark, label: "Dark" },
  { id: ur.light, label: "Light" }
], VR = { size: "s" }, zd = ".grapesjs", DR = (e, t) => {
  const n = e == null ? void 0 : e.settingsMenu;
  return n !== !1 && (n == null ? void 0 : n[t]) !== !1;
}, HR = ({
  actions: e,
  editor: t,
  buttons: n,
  sdkOptions: r
}) => {
  const o = r.actions;
  return o === !1 ? [] : it(o) ? o({ actions: e, editor: t }) : o || (n ? it(n) ? n({ items: e, editor: t }) : n : e);
}, BR = "gs-cmp-topbar-right", FR = ce(function({
  editor: t,
  className: n,
  buttons: r,
  ...o
}) {
  const s = we(), { theme: i, setTheme: a } = En(), { Commands: l, UndoManager: c } = t, { installEvent: d, appInstalled: p, isBrowserMode: f, setInstallEvent: g, sdkOptions: h, isProjectTypeEmail: m } = s, b = Wr(), y = Le(), v = (_) => y.t(`actions.${_}`), S = t.Storage.events, w = l.events, C = "change:changesCount", x = (_, M) => () => {
    it(_) ? _({ editor: t }) : l.isActive(_) ? l.stop(_) : l.run(_, M);
  }, E = (_) => ({
    [`${w.runCommand}${_}`]: ({ setState: M }) => M({ active: !0 }),
    [`${w.stopCommand}${_}`]: ({ setState: M }) => M({ active: !1 })
  }), O = [
    {
      id: or.componentOutline,
      icon: Z.borderRadius,
      tooltip: v("componentOutline.title"),
      onClick: x("core:component-outline"),
      editorEvents: E("core:component-outline")
    },
    {
      id: or.preview,
      icon: Z.eye,
      tooltip: v("preview.title"),
      onClick: x("core:preview"),
      editorEvents: E("core:preview")
    },
    {
      id: or.fullscreen,
      icon: Z.arrowExpandAll,
      tooltip: v("fullscreen.title"),
      onClick: x("core:fullscreen", { target: "body" }),
      editorEvents: E("core:fullscreen")
    },
    {
      id: or.showCode,
      icon: Z.xml,
      tooltip: v("showCode.title"),
      onClick: () => t.runCommand(he.dialogExportCode)
    },
    {
      id: or.showImportCode,
      icon: Z.trayArrowDown,
      tooltip: v("importCode.title"),
      onClick: () => b.open({
        title: v("importCode.title"),
        content: () => /* @__PURE__ */ u(my, {})
      })
    },
    {
      id: or.clearCanvas,
      icon: Z.delete,
      tooltip: v("clearCanvas.title"),
      onClick: () => b.confirm({
        title: v("clearCanvas.title"),
        content: v("clearCanvas.content"),
        confirmButton: { variant: "danger", children: v("clearCanvas.title") },
        onConfirm: () => {
          m ? t.loadProjectData({ pages: [{ component: "<mjml><mj-body></mj-body></mjml>" }] }) : t.Components.clear();
        }
      })
    },
    {
      id: or.store,
      tooltip: v("store.title"),
      onClick: async () => !s.isSaving && t.store(),
      editorEvents: {
        "change:changesCount": ({ setState: _ }) => _({}),
        [S.startStore]: ({ setState: _ }) => _({ disabled: !0 }),
        [S.endStore]: ({ setState: _ }) => _({ disabled: !1 })
      },
      label: () => /* @__PURE__ */ L("div", { className: Y("relative"), children: [
        /* @__PURE__ */ u(ae, { icon: Z.floppy, size: fe.s }),
        !!t.getDirtyCount() && !s.isSaving && /* @__PURE__ */ u("div", { className: Y("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full", F.bg), children: /* @__PURE__ */ u("div", { className: Y(De.dot, F.bgW) }) }),
        s.isSaving && /* @__PURE__ */ u("div", { className: Y("absolute right-0 bottom-0 gjs-rounded-full", F.bg), children: /* @__PURE__ */ u(ae, { icon: Z.refresh, size: "11px", className: Y(De.spin) }) })
      ] })
    },
    {
      id: or.undo,
      icon: Z.arrowULeftTop,
      disabled: !0,
      onClick: x("core:undo"),
      editorEvents: {
        [C]: ({ setState: _ }) => _({ disabled: !c.hasUndo() })
      }
    },
    {
      id: or.redo,
      icon: Z.arrowURightTop,
      disabled: !0,
      onClick: x("core:redo"),
      editorEvents: {
        [C]: ({ setState: _ }) => _({ disabled: !c.hasRedo() })
      }
    }
  ], T = HR({ actions: O, sdkOptions: h, editor: t, buttons: r }), P = [
    {
      id: "about",
      label: v("about.title"),
      icon: Z.helpCircle,
      action: () => b.open({
        size: "m",
        title: v("about.title"),
        content: () => /* @__PURE__ */ u(k6, {})
      })
    },
    {
      id: "embed",
      label: v("embed.title"),
      icon: Z.powerPlug,
      action: () => b.open({
        size: "m",
        title: v("embed.title"),
        content: () => /* @__PURE__ */ u(M6, {})
      })
    },
    {
      id: "openProject",
      label: v("open.title"),
      icon: Z.folder,
      action: async () => {
        let _ = "";
        try {
          _ = await (await h6({ extensions: [zd] })).text();
        } catch (M) {
          return console.error(M);
        }
        s.loadProjectData(JSON.parse(_));
      }
    },
    {
      id: "saveProject",
      label: v("save.title"),
      icon: Z.contentSave,
      action: async () => {
        const _ = t.getProjectData(), M = new Blob([JSON.stringify(_)]), V = `Untitled-${(/* @__PURE__ */ new Date()).toISOString().replace("T", "-").replace(/:|\./g, "").substring(0, 17)}`;
        try {
          await b6(M, {
            fileName: `${V}${zd}`,
            extensions: [zd]
          });
        } catch (N) {
          return console.error(N);
        }
      }
    },
    // {
    //     id: 'shortcuts',
    //     label: 'Shortcuts',
    //     icon: IconNames.keyboard,
    //     action: () => alert('Open shortcuts'),
    // },
    {
      id: "loadProject",
      label: v("newProject.title"),
      icon: Z.newspaperVariantOutline,
      action: () => b.open({
        fullH: !0,
        title: v("newProject.title"),
        content: () => /* @__PURE__ */ u(MR, {})
      })
    },
    {
      id: "installApp",
      label: v(p ? "installApp.installed" : "installApp.title"),
      icon: Z.applicationBracketsOutline,
      action: async () => {
        if (p)
          return;
        d == null || d.prompt();
        const _ = await (d == null ? void 0 : d.userChoice);
        (_ == null ? void 0 : _.outcome) === "accepted" && g();
      }
    },
    ...h.customTheme ? [] : [
      {
        id: "theme",
        label: /* @__PURE__ */ L(R, { items: "center", space: "m", children: [
          /* @__PURE__ */ u(j, { children: "Theme" }),
          /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
            bo,
            {
              tabs: jR,
              onChange: (_) => a(_),
              value: i,
              variant: "pills"
            }
          ) })
        ] })
      }
    ]
  ].filter(({ id: _ }) => !((!f || !d) && _ === "installApp" || !DR(h, _))), A = (_, M) => (V) => {
    it(_) && (_(V), M());
  };
  return /* @__PURE__ */ L(R, { space: "s", items: "center", justify: "end", className: Y(BR, Ve.xS, n), nowrap: !0, ...o, children: [
    T.map(
      ({ id: _, ...M }) => jw(M) ? /* @__PURE__ */ u(du, { size: "s", ...M }, _) : Dt({ id: _, ...M })
    ),
    /* @__PURE__ */ u(j, { children: h.settingsMenu !== !1 && P.length > 0 && /* @__PURE__ */ u(
      Ur,
      {
        placement: "bottom-end",
        title: !1,
        padding: !1,
        handler: /* @__PURE__ */ u(ae, { icon: Z.cog, size: fe.s }),
        buttonProps: VR,
        overlay: !0,
        children: ({ close: _ }) => /* @__PURE__ */ u(pe, { children: P.map((M) => /* @__PURE__ */ u(
          nl,
          {
            action: A(M.action, _),
            icon: M.icon,
            label: M.label
          },
          M.id
        )) })
      }
    ) })
  ] });
});
function zR({ devices: e, selected: t, className: n, style: r, select: o }) {
  const s = e.map((i) => ({
    id: i.id,
    label: i.getName(),
    icon: i.attributes.icon
  }));
  return s.length ? /* @__PURE__ */ u(
    Ne,
    {
      size: "xs",
      className: n,
      style: r,
      value: t,
      options: s,
      onChange: o
    }
  ) : null;
}
const UR = "gs-devices", Vw = Pe(function({ className: t, style: n }) {
  return /* @__PURE__ */ u(ik, { children: (r) => /* @__PURE__ */ u(zR, { className: k(UR, t), style: n, ...r }) });
}), Gi = "gs-cmp-editor-topbar", WR = ce(function({
  className: t,
  height: n,
  style: r,
  children: o,
  leftContainer: s,
  rightContainer: i,
  devices: a
}) {
  const { topBarSize: l, isInPreview: c, editor: d, isTopSidebarOpen: p } = we(), f = n ?? l, g = ue(
    () => ({
      ...r,
      minHeight: f,
      marginTop: c || !p ? `-${f}px` : 0
    }),
    [c, p, r]
  );
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(
      j,
      {
        className: k(Gi, "gs-utl-transition-spacing gs-utl-w-full", le.bb, F.br, t),
        style: g,
        children: o ?? /* @__PURE__ */ L(R, { className: k(`${Gi}__wrp`, "gs-utl-h-full"), items: "center", full: !0, nowrap: !0, children: [
          /* @__PURE__ */ u(j, { className: k(`${Gi}__wrp-left`), grow: !0, children: s !== !1 && /* @__PURE__ */ u(IR, { ...s }) }),
          /* @__PURE__ */ u(j, { className: k(`${Gi}__wrp-center`), children: a !== !1 && /* @__PURE__ */ u(Vw, { ...a }) }),
          /* @__PURE__ */ u(j, { className: k(`${Gi}__wrp-right`), grow: !0, children: i !== !1 && d && /* @__PURE__ */ u(FR, { editor: d, ...i }) })
        ] })
      }
    ),
    /* @__PURE__ */ u(
      j,
      {
        className: k(
          "gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",
          !c && "-gs-utl-translate-y-full"
        ),
        children: /* @__PURE__ */ u(
          Xe,
          {
            className: k("gs-cmp-close-preview gs-utl-m-4", F.bg),
            size: "s",
            onClick: () => d == null ? void 0 : d.Commands.stop("core:preview"),
            children: /* @__PURE__ */ u(ae, { icon: Z.eyeOff, size: fe.s })
          }
        )
      }
    )
  ] });
}), GR = "gs-sidebar-top", Dw = Pe(
  ce(function({ height: t, children: n, ...r }) {
    return /* @__PURE__ */ u(
      WR,
      {
        height: t,
        ...r,
        style: Ru(r),
        className: k(GR, "gs-utl-flex", $u(r)),
        children: n ? Dt(n) : void 0
      }
    );
  })
), KR = "gs-canvas-sidebar-top", qR = Pe(
  ce(function({ className: t, sidebarTop: n, ...r }) {
    return /* @__PURE__ */ L(Hn, { className: k(KR, "gs-utl-flex gs-utl-flex-col", t), grow: !0, ...r, children: [
      /* @__PURE__ */ u(Dw, { ...n }),
      /* @__PURE__ */ u(yw, { grow: !0 })
    ] });
  })
), YR = "gs-cmp-column", ZR = Pe(function({ className: t, children: n, full: r, ...o }) {
  return /* @__PURE__ */ u(
    Hn,
    {
      className: k(YR, F.bg, "gs-utl-flex gs-utl-flex-col", r && "gs-utl-h-full", t),
      ...o,
      children: Dt(n)
    }
  );
}), XR = "gs-cmp-input-field", JR = Pe(
  ce(function({
    className: t,
    style: n,
    label: r,
    name: o,
    value: s,
    size: i,
    disabled: a,
    inputType: l,
    readOnly: c,
    required: d,
    placeholder: p,
    onChange: f,
    onInput: g,
    editorEvents: h
  }) {
    const { editor: m } = we(), [b, y] = W(() => ({
      className: t,
      style: n,
      label: r,
      name: o,
      value: s,
      size: i,
      readOnly: c,
      disabled: a,
      required: d,
      placeholder: p
    })), v = (C) => ({
      value: C,
      editor: m,
      state: b,
      setState: (x) => y((E) => ({ ...E, ...x }))
    }), S = (C) => f == null ? void 0 : f(v(C)), w = (C) => g == null ? void 0 : g(v(C));
    return $i({
      editor: m,
      editorEvents: h,
      localState: b,
      setLocalState: y
    }), /* @__PURE__ */ u(
      at,
      {
        type: l,
        className: k(XR, b.className),
        style: b.style,
        label: b.label,
        name: b.name,
        value: b.value,
        size: b.size,
        required: b.required,
        disabled: b.disabled,
        readOnly: b.readOnly,
        placeholder: b.placeholder,
        onChange: S,
        onInput: w
      }
    );
  })
);
function QR({ children: e, accept: t, onChange: n, multiple: r = !0, ...o }) {
  const s = Le(), i = q(null), a = () => {
    const { current: l } = i;
    l && (l.value = "", l.click());
  };
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(
      "input",
      {
        className: Y("hidden"),
        ref: i,
        type: "file",
        multiple: r,
        accept: t,
        onChange: n
      }
    ),
    /* @__PURE__ */ u(Xe, { variant: "pr", size: "m2", ...o, onClick: a, children: e || s.t("upload") })
  ] });
}
const e7 = ce(QR), t7 = ce(function({
  editor: t,
  assetProps: n,
  itemLayout: r,
  onSelect: o,
  onRemove: s
}) {
  const i = $s();
  return Dt(
    r({
      asset: Ao(i.toAsset(n)),
      assetProps: Ao(n),
      onSelect: (a) => o(i.toAssetProps(a)),
      onDelete: s && ((a) => s(i.toAssetProps(a))),
      editor: t
    })
  );
}), n7 = "gs-cmp-asset-card", r7 = ce(function(t) {
  var p;
  const { assetProps: n, onSelect: r, onRemove: o, className: s, itemLayout: i } = t, a = Le(), { editor: l } = we();
  if (i)
    return l ? /* @__PURE__ */ u(t7, { ...t, editor: l, itemLayout: i }) : null;
  const { src: c } = n, d = n.name || ((p = c.split("/").pop()) == null ? void 0 : p.split("?").shift());
  return /* @__PURE__ */ u(Pn, { padding: !1, className: te(n7, "overflow-hidden max-w-full group", s), children: /* @__PURE__ */ L(R, { col: !0, children: [
    /* @__PURE__ */ L(j, { className: te("relative group h-24 cursor-pointer bg-checker"), onClick: () => r(n), children: [
      /* @__PURE__ */ u(
        "div",
        {
          className: te("w-full h-full bg-contain bg-no-repeat bg-center"),
          style: { backgroundImage: `url("${c}")` }
        }
      ),
      /* @__PURE__ */ u(
        R,
        {
          justify: "center",
          items: "center",
          className: te(De.coverAbs, F.bgH75, "group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),
          children: /* @__PURE__ */ u(Xe, { className: te("text-sm"), size: "m2", variant: "pr", children: a.t("select") })
        }
      )
    ] }),
    /* @__PURE__ */ L(R, { className: te("gjs-p-1 max-w-full"), space: "s", items: "center", nowrap: !0, children: [
      /* @__PURE__ */ u(j, { className: te(De.txtEllips, "text-sm gjs-mr-auto"), children: d }),
      o && /* @__PURE__ */ u(
        Au,
        {
          onConfirm: () => o == null ? void 0 : o(n),
          text: /* @__PURE__ */ L(R, { col: !0, space: "m", items: "stretch", children: [
            /* @__PURE__ */ u("p", { className: te("text-center", F.txtHighEmphasis), children: a.t("assetManager.deleteConfirmQuestion") }),
            /* @__PURE__ */ u("p", { className: te("text-center"), children: a.t("assetManager.deleteConfirmExplanation") })
          ] }),
          confirmButtonProps: { variant: "danger" },
          children: /* @__PURE__ */ u(_t, { title: a.t("delete"), children: /* @__PURE__ */ u(ae, { icon: Z.delete, size: fe.sx }) })
        }
      )
    ] })
  ] }) });
}), wr = "gs-asset-manager", o7 = {
  search: !0,
  addUrl: !0,
  upload: !0
}, s7 = ce(function({
  assetProps: t,
  typeFilterOptions: n,
  providerFilterOptions: r,
  typeFilter: o,
  providerFilter: s,
  searchValue: i,
  isLoading: a,
  optionalType: l,
  optionalProvider: c,
  useLocalSearch: d,
  itemLayout: p,
  content: f,
  onSelect: g,
  onChangeTypeFilter: h,
  onChangeProviderFilter: m,
  onChangeSearchValue: b,
  onChangeUpload: y,
  onAddUrl: v,
  onRemove: S,
  onEndReached: w,
  layoutAfterHeader: C
}) {
  const x = we(), { editor: E } = x, O = Le(), [T] = ku(), P = Ug(f == null ? void 0 : f.itemsPerRow), [A, _] = W(""), M = (f == null ? void 0 : f.header) === !1 ? !1 : { ...o7, ...gr(f == null ? void 0 : f.header) ? f.header : {} };
  if (!E)
    return;
  const V = d ? t.filter((N) => !(i && !Qs(N.src, i) && !Qs(N.name ?? "", i))) : t;
  return /* @__PURE__ */ L(R, { className: Y(wr, "relative gs-utl-h-full", a && De.disabled), nowrap: !0, col: !0, space: "m", children: [
    M !== !1 && /* @__PURE__ */ L(R, { className: `${wr}__header`, gap: "m", justify: "between", items: "center", children: [
      /* @__PURE__ */ L(R, { className: `${wr}__header-filters`, items: "center", gap: "m", children: [
        M.search && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          at,
          {
            className: `${wr}__search-filter`,
            size: "m",
            type: "search",
            value: i,
            onInput: b,
            placeholder: `${O.t("search")}...`
          }
        ) }),
        n.length > (l ? 0 : 1) && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          Ne,
          {
            className: Y(`${wr}__type-filter`, "items-center"),
            size: "m",
            options: n,
            value: o,
            onChange: h,
            emptyState: O.t("assetManager.assetTypes.all"),
            includeEmpty: l
          }
        ) }),
        r.length > (c ? 0 : 1) && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          Ne,
          {
            classNameContainer: Y(`${wr}__provider-filter`, "items-center"),
            size: "m",
            options: r.map((N) => ({
              ...N,
              label: it(N.label) ? N.label({ editor: E }) : N.label,
              icon: N.icon
            })),
            value: s,
            onChange: m,
            emptyState: O.t("assetManager.noProvider"),
            includeEmpty: c
          }
        ) })
      ] }),
      /* @__PURE__ */ L(R, { className: `${wr}__header-buttons`, items: "center", gap: "m", children: [
        M.upload && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(e7, { className: `${wr}__upload-field`, onChange: y }) }),
        M.addUrl && !!v && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          Ur,
          {
            className: `${wr}__add-url-popover`,
            overlay: !0,
            placement: "bottom-end",
            title: !1,
            buttonAs: "span",
            handler: /* @__PURE__ */ u(Xe, { variant: "pr", size: "m2", children: O.t("assetManager.addUrl") }),
            children: ({ close: N }) => /* @__PURE__ */ L(R, { gap: "m", children: [
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
                at,
                {
                  type: "url",
                  size: "s",
                  value: A,
                  onChange: _,
                  placeholder: O.t("assetManager.inputPlh")
                }
              ) }),
              /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
                Xe,
                {
                  variant: "pr",
                  size: "m2",
                  onClick: () => {
                    v(A), N();
                  },
                  children: O.t("add")
                }
              ) })
            ] })
          }
        ) })
      ] }),
      C && /* @__PURE__ */ u(pe, { children: Dt(C({ editor: E })) })
    ] }),
    /* @__PURE__ */ u(R, { className: Y(`${wr}__content`, "gs-utl-h-[75vh] gs-utl-flex-grow"), space: "m", col: !0, nowrap: !0, children: !a && !V.length ? /* @__PURE__ */ u(R, { justify: "center", children: O.t("noItems") }) : (
      // Ensure  to render Virtuoso when the transition ends to avoid "holes" in the grid
      !!T && /* @__PURE__ */ u(
        pl,
        {
          data: V,
          listClassName: Y("gs-utl-grid gs-utl-gap-2", P),
          endReached: w,
          itemContent: (N, H) => /* @__PURE__ */ u(
            r7,
            {
              assetProps: H,
              onSelect: g,
              onRemove: S,
              itemLayout: p
            },
            H.id
          ),
          components: { Footer: w ? i7 : void 0 }
        }
      )
    ) }),
    a && /* @__PURE__ */ u(dl, { abs: !0 })
  ] });
}), i7 = () => /* @__PURE__ */ u(
  "div",
  {
    style: {
      padding: "2rem",
      display: "flex",
      justifyContent: "center",
      height: 200
    }
  }
), Hw = ce(function({
  panelId: t,
  content: n,
  assets: r,
  types: o,
  providers: s,
  typeId: i,
  providerId: a,
  optionalType: l,
  optionalProvider: c,
  onSelect: d,
  close: p,
  layoutAfterHeader: f
}) {
  const { appEditorStore: g, i18nStore: h } = tn(), { editor: m } = g, b = $s(), { customOnLoad: y } = b, v = D0(t);
  G(() => {
    const E = (T) => ut(T) ? { id: T, label: h.t(`assetManager.assetTypes.${T}`) || T } : T;
    v.setCustomTypes(o == null ? void 0 : o.map(E)), v.setCustomProviders(ut(s) ? [s] : s), i ? v.setTypeFilter(i) : v.initTypeFilter(), a ? v.setProviderFilter(a) : v.initProviderFilter(), Ft(l) ? v.setOptionalType(l) : v.initOptionalType(), Ft(c) ? v.setOptionalProvider(c) : v.initOptionalProvider();
    const O = setTimeout(() => v.loadAssets());
    return () => clearTimeout(O);
  }, [o, s, i, a, l, c]);
  const S = (E) => {
    b.addToProjectAssets([{ id: E, src: E, type: v.typeFilter ?? bs.image }]);
  }, w = (E) => {
    m && (d == null || d({ asset: b.toAsset(E), assetProps: E, editor: m }), p == null || p());
  }, C = r == null ? void 0 : r.map(b.toAssetProps), x = v.shouldLoadNextPage ? () => v.loadAssets(!1) : void 0;
  return /* @__PURE__ */ u(
    s7,
    {
      assetProps: C ?? v.assetProps,
      typeFilter: v.typeFilter,
      typeFilterOptions: v.typeFilterOptions,
      providerFilter: v.providerFilter,
      providerFilterOptions: v.providerFilterOptions,
      searchValue: v.searchValue,
      onChangeTypeFilter: (E) => {
        v.setTypeFilter(E), v.loadAssets();
      },
      onChangeProviderFilter: (E) => {
        v.setProviderFilter(E), v.loadAssets();
      },
      onChangeSearchValue: v.setSearchValue,
      onSelect: w,
      onAddUrl: y ? void 0 : S,
      onChangeUpload: (E) => b.uploadFile(E.nativeEvent),
      onRemove: C ? void 0 : v.handleDelete,
      onEndReached: x,
      isLoading: v.isLoading,
      itemLayout: v.itemLayout,
      content: n,
      optionalType: v.optionalType,
      optionalProvider: v.optionalProvider,
      useLocalSearch: !v.reloadOnInput,
      layoutAfterHeader: f
    }
  );
});
var a7 = globalThis && globalThis.__extends || function() {
  var e = function(t, n) {
    return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, o) {
      r.__proto__ = o;
    } || function(r, o) {
      for (var s in o)
        Object.prototype.hasOwnProperty.call(o, s) && (r[s] = o[s]);
    }, e(t, n);
  };
  return function(t, n) {
    e(t, n);
    function r() {
      this.constructor = t;
    }
    t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r());
  };
}(), jt = globalThis && globalThis.__assign || function() {
  return jt = Object.assign || function(e) {
    for (var t, n = 1, r = arguments.length; n < r; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
    return e;
  }, jt.apply(this, arguments);
}, R1 = {
  width: "100%",
  height: "10px",
  top: "0px",
  left: "0px",
  cursor: "row-resize"
}, I1 = {
  width: "10px",
  height: "100%",
  top: "0px",
  left: "0px",
  cursor: "col-resize"
}, Wl = {
  width: "20px",
  height: "20px",
  position: "absolute"
}, l7 = {
  top: jt(jt({}, R1), { top: "-5px" }),
  right: jt(jt({}, I1), { left: void 0, right: "-5px" }),
  bottom: jt(jt({}, R1), { top: void 0, bottom: "-5px" }),
  left: jt(jt({}, I1), { left: "-5px" }),
  topRight: jt(jt({}, Wl), { right: "-10px", top: "-10px", cursor: "ne-resize" }),
  bottomRight: jt(jt({}, Wl), { right: "-10px", bottom: "-10px", cursor: "se-resize" }),
  bottomLeft: jt(jt({}, Wl), { left: "-10px", bottom: "-10px", cursor: "sw-resize" }),
  topLeft: jt(jt({}, Wl), { left: "-10px", top: "-10px", cursor: "nw-resize" })
}, c7 = (
  /** @class */
  function(e) {
    a7(t, e);
    function t() {
      var n = e !== null && e.apply(this, arguments) || this;
      return n.onMouseDown = function(r) {
        n.props.onResizeStart(r, n.props.direction);
      }, n.onTouchStart = function(r) {
        n.props.onResizeStart(r, n.props.direction);
      }, n;
    }
    return t.prototype.render = function() {
      return et.createElement("div", { className: this.props.className || "", style: jt(jt({ position: "absolute", userSelect: "none" }, l7[this.props.direction]), this.props.replaceStyles || {}), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children);
    }, t;
  }(et.PureComponent)
), u7 = globalThis && globalThis.__extends || function() {
  var e = function(t, n) {
    return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, o) {
      r.__proto__ = o;
    } || function(r, o) {
      for (var s in o)
        Object.prototype.hasOwnProperty.call(o, s) && (r[s] = o[s]);
    }, e(t, n);
  };
  return function(t, n) {
    e(t, n);
    function r() {
      this.constructor = t;
    }
    t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r());
  };
}(), Er = globalThis && globalThis.__assign || function() {
  return Er = Object.assign || function(e) {
    for (var t, n = 1, r = arguments.length; n < r; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
    return e;
  }, Er.apply(this, arguments);
}, d7 = {
  width: "auto",
  height: "auto"
}, Gl = function(e, t, n) {
  return Math.max(Math.min(e, n), t);
}, j1 = function(e, t, n) {
  var r = Math.round(e / t);
  return r * t + n * (r - 1);
}, Us = function(e, t) {
  return new RegExp(e, "i").test(t);
}, Kl = function(e) {
  return !!(e.touches && e.touches.length);
}, p7 = function(e) {
  return !!((e.clientX || e.clientX === 0) && (e.clientY || e.clientY === 0));
}, V1 = function(e, t, n) {
  n === void 0 && (n = 0);
  var r = t.reduce(function(s, i, a) {
    return Math.abs(i - e) < Math.abs(t[s] - e) ? a : s;
  }, 0), o = Math.abs(t[r] - e);
  return n === 0 || o < n ? t[r] : e;
}, Ud = function(e) {
  return e = e.toString(), e === "auto" || e.endsWith("px") || e.endsWith("%") || e.endsWith("vh") || e.endsWith("vw") || e.endsWith("vmax") || e.endsWith("vmin") ? e : e + "px";
}, ql = function(e, t, n, r) {
  if (e && typeof e == "string") {
    if (e.endsWith("px"))
      return Number(e.replace("px", ""));
    if (e.endsWith("%")) {
      var o = Number(e.replace("%", "")) / 100;
      return t * o;
    }
    if (e.endsWith("vw")) {
      var o = Number(e.replace("vw", "")) / 100;
      return n * o;
    }
    if (e.endsWith("vh")) {
      var o = Number(e.replace("vh", "")) / 100;
      return r * o;
    }
  }
  return e;
}, f7 = function(e, t, n, r, o, s, i) {
  return r = ql(r, e.width, t, n), o = ql(o, e.height, t, n), s = ql(s, e.width, t, n), i = ql(i, e.height, t, n), {
    maxWidth: typeof r > "u" ? void 0 : Number(r),
    maxHeight: typeof o > "u" ? void 0 : Number(o),
    minWidth: typeof s > "u" ? void 0 : Number(s),
    minHeight: typeof i > "u" ? void 0 : Number(i)
  };
}, g7 = function(e) {
  return Array.isArray(e) ? e : [e, e];
}, h7 = [
  "as",
  "ref",
  "style",
  "className",
  "grid",
  "gridGap",
  "snap",
  "bounds",
  "boundsByDirection",
  "size",
  "defaultSize",
  "minWidth",
  "minHeight",
  "maxWidth",
  "maxHeight",
  "lockAspectRatio",
  "lockAspectRatioExtraWidth",
  "lockAspectRatioExtraHeight",
  "enable",
  "handleStyles",
  "handleClasses",
  "handleWrapperStyle",
  "handleWrapperClass",
  "children",
  "onResizeStart",
  "onResize",
  "onResizeStop",
  "handleComponent",
  "scale",
  "resizeRatio",
  "snapGap"
], D1 = "__resizable_base__", m7 = (
  /** @class */
  function(e) {
    u7(t, e);
    function t(n) {
      var r, o, s, i, a = e.call(this, n) || this;
      return a.ratio = 1, a.resizable = null, a.parentLeft = 0, a.parentTop = 0, a.resizableLeft = 0, a.resizableRight = 0, a.resizableTop = 0, a.resizableBottom = 0, a.targetLeft = 0, a.targetTop = 0, a.appendBase = function() {
        if (!a.resizable || !a.window)
          return null;
        var l = a.parentNode;
        if (!l)
          return null;
        var c = a.window.document.createElement("div");
        return c.style.width = "100%", c.style.height = "100%", c.style.position = "absolute", c.style.transform = "scale(0, 0)", c.style.left = "0", c.style.flex = "0 0 100%", c.classList ? c.classList.add(D1) : c.className += D1, l.appendChild(c), c;
      }, a.removeBase = function(l) {
        var c = a.parentNode;
        c && c.removeChild(l);
      }, a.state = {
        isResizing: !1,
        width: (o = (r = a.propsSize) === null || r === void 0 ? void 0 : r.width) !== null && o !== void 0 ? o : "auto",
        height: (i = (s = a.propsSize) === null || s === void 0 ? void 0 : s.height) !== null && i !== void 0 ? i : "auto",
        direction: "right",
        original: {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        },
        backgroundStyle: {
          height: "100%",
          width: "100%",
          backgroundColor: "rgba(0,0,0,0)",
          cursor: "auto",
          opacity: 0,
          position: "fixed",
          zIndex: 9999,
          top: "0",
          left: "0",
          bottom: "0",
          right: "0"
        },
        flexBasis: void 0
      }, a.onResizeStart = a.onResizeStart.bind(a), a.onMouseMove = a.onMouseMove.bind(a), a.onMouseUp = a.onMouseUp.bind(a), a;
    }
    return Object.defineProperty(t.prototype, "parentNode", {
      get: function() {
        return this.resizable ? this.resizable.parentNode : null;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "window", {
      get: function() {
        return !this.resizable || !this.resizable.ownerDocument ? null : this.resizable.ownerDocument.defaultView;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "propsSize", {
      get: function() {
        return this.props.size || this.props.defaultSize || d7;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "size", {
      get: function() {
        var n = 0, r = 0;
        if (this.resizable && this.window) {
          var o = this.resizable.offsetWidth, s = this.resizable.offsetHeight, i = this.resizable.style.position;
          i !== "relative" && (this.resizable.style.position = "relative"), n = this.resizable.style.width !== "auto" ? this.resizable.offsetWidth : o, r = this.resizable.style.height !== "auto" ? this.resizable.offsetHeight : s, this.resizable.style.position = i;
        }
        return { width: n, height: r };
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "sizeStyle", {
      get: function() {
        var n = this, r = this.props.size, o = function(a) {
          var l;
          if (typeof n.state[a] > "u" || n.state[a] === "auto")
            return "auto";
          if (n.propsSize && n.propsSize[a] && (!((l = n.propsSize[a]) === null || l === void 0) && l.toString().endsWith("%"))) {
            if (n.state[a].toString().endsWith("%"))
              return n.state[a].toString();
            var c = n.getParentSize(), d = Number(n.state[a].toString().replace("px", "")), p = d / c[a] * 100;
            return p + "%";
          }
          return Ud(n.state[a]);
        }, s = r && typeof r.width < "u" && !this.state.isResizing ? Ud(r.width) : o("width"), i = r && typeof r.height < "u" && !this.state.isResizing ? Ud(r.height) : o("height");
        return { width: s, height: i };
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.getParentSize = function() {
      if (!this.parentNode)
        return this.window ? { width: this.window.innerWidth, height: this.window.innerHeight } : { width: 0, height: 0 };
      var n = this.appendBase();
      if (!n)
        return { width: 0, height: 0 };
      var r = !1, o = this.parentNode.style.flexWrap;
      o !== "wrap" && (r = !0, this.parentNode.style.flexWrap = "wrap"), n.style.position = "relative", n.style.minWidth = "100%", n.style.minHeight = "100%";
      var s = {
        width: n.offsetWidth,
        height: n.offsetHeight
      };
      return r && (this.parentNode.style.flexWrap = o), this.removeBase(n), s;
    }, t.prototype.bindEvents = function() {
      this.window && (this.window.addEventListener("mouseup", this.onMouseUp), this.window.addEventListener("mousemove", this.onMouseMove), this.window.addEventListener("mouseleave", this.onMouseUp), this.window.addEventListener("touchmove", this.onMouseMove, {
        capture: !0,
        passive: !1
      }), this.window.addEventListener("touchend", this.onMouseUp));
    }, t.prototype.unbindEvents = function() {
      this.window && (this.window.removeEventListener("mouseup", this.onMouseUp), this.window.removeEventListener("mousemove", this.onMouseMove), this.window.removeEventListener("mouseleave", this.onMouseUp), this.window.removeEventListener("touchmove", this.onMouseMove, !0), this.window.removeEventListener("touchend", this.onMouseUp));
    }, t.prototype.componentDidMount = function() {
      if (!(!this.resizable || !this.window)) {
        var n = this.window.getComputedStyle(this.resizable);
        this.setState({
          width: this.state.width || this.size.width,
          height: this.state.height || this.size.height,
          flexBasis: n.flexBasis !== "auto" ? n.flexBasis : void 0
        });
      }
    }, t.prototype.componentWillUnmount = function() {
      this.window && this.unbindEvents();
    }, t.prototype.createSizeForCssProperty = function(n, r) {
      var o = this.propsSize && this.propsSize[r];
      return this.state[r] === "auto" && this.state.original[r] === n && (typeof o > "u" || o === "auto") ? "auto" : n;
    }, t.prototype.calculateNewMaxFromBoundary = function(n, r) {
      var o = this.props.boundsByDirection, s = this.state.direction, i = o && Us("left", s), a = o && Us("top", s), l, c;
      if (this.props.bounds === "parent") {
        var d = this.parentNode;
        d && (l = i ? this.resizableRight - this.parentLeft : d.offsetWidth + (this.parentLeft - this.resizableLeft), c = a ? this.resizableBottom - this.parentTop : d.offsetHeight + (this.parentTop - this.resizableTop));
      } else
        this.props.bounds === "window" ? this.window && (l = i ? this.resizableRight : this.window.innerWidth - this.resizableLeft, c = a ? this.resizableBottom : this.window.innerHeight - this.resizableTop) : this.props.bounds && (l = i ? this.resizableRight - this.targetLeft : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft), c = a ? this.resizableBottom - this.targetTop : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop));
      return l && Number.isFinite(l) && (n = n && n < l ? n : l), c && Number.isFinite(c) && (r = r && r < c ? r : c), { maxWidth: n, maxHeight: r };
    }, t.prototype.calculateNewSizeFromDirection = function(n, r) {
      var o = this.props.scale || 1, s = g7(this.props.resizeRatio || 1), i = s[0], a = s[1], l = this.state, c = l.direction, d = l.original, p = this.props, f = p.lockAspectRatio, g = p.lockAspectRatioExtraHeight, h = p.lockAspectRatioExtraWidth, m = d.width, b = d.height, y = g || 0, v = h || 0;
      return Us("right", c) && (m = d.width + (n - d.x) * i / o, f && (b = (m - v) / this.ratio + y)), Us("left", c) && (m = d.width - (n - d.x) * i / o, f && (b = (m - v) / this.ratio + y)), Us("bottom", c) && (b = d.height + (r - d.y) * a / o, f && (m = (b - y) * this.ratio + v)), Us("top", c) && (b = d.height - (r - d.y) * a / o, f && (m = (b - y) * this.ratio + v)), { newWidth: m, newHeight: b };
    }, t.prototype.calculateNewSizeFromAspectRatio = function(n, r, o, s) {
      var i = this.props, a = i.lockAspectRatio, l = i.lockAspectRatioExtraHeight, c = i.lockAspectRatioExtraWidth, d = typeof s.width > "u" ? 10 : s.width, p = typeof o.width > "u" || o.width < 0 ? n : o.width, f = typeof s.height > "u" ? 10 : s.height, g = typeof o.height > "u" || o.height < 0 ? r : o.height, h = l || 0, m = c || 0;
      if (a) {
        var b = (f - h) * this.ratio + m, y = (g - h) * this.ratio + m, v = (d - m) / this.ratio + h, S = (p - m) / this.ratio + h, w = Math.max(d, b), C = Math.min(p, y), x = Math.max(f, v), E = Math.min(g, S);
        n = Gl(n, w, C), r = Gl(r, x, E);
      } else
        n = Gl(n, d, p), r = Gl(r, f, g);
      return { newWidth: n, newHeight: r };
    }, t.prototype.setBoundingClientRect = function() {
      var n = 1 / (this.props.scale || 1);
      if (this.props.bounds === "parent") {
        var r = this.parentNode;
        if (r) {
          var o = r.getBoundingClientRect();
          this.parentLeft = o.left * n, this.parentTop = o.top * n;
        }
      }
      if (this.props.bounds && typeof this.props.bounds != "string") {
        var s = this.props.bounds.getBoundingClientRect();
        this.targetLeft = s.left * n, this.targetTop = s.top * n;
      }
      if (this.resizable) {
        var i = this.resizable.getBoundingClientRect(), a = i.left, l = i.top, c = i.right, d = i.bottom;
        this.resizableLeft = a * n, this.resizableRight = c * n, this.resizableTop = l * n, this.resizableBottom = d * n;
      }
    }, t.prototype.onResizeStart = function(n, r) {
      if (!(!this.resizable || !this.window)) {
        var o = 0, s = 0;
        if (n.nativeEvent && p7(n.nativeEvent) ? (o = n.nativeEvent.clientX, s = n.nativeEvent.clientY) : n.nativeEvent && Kl(n.nativeEvent) && (o = n.nativeEvent.touches[0].clientX, s = n.nativeEvent.touches[0].clientY), this.props.onResizeStart && this.resizable) {
          var i = this.props.onResizeStart(n, r, this.resizable);
          if (i === !1)
            return;
        }
        this.props.size && (typeof this.props.size.height < "u" && this.props.size.height !== this.state.height && this.setState({ height: this.props.size.height }), typeof this.props.size.width < "u" && this.props.size.width !== this.state.width && this.setState({ width: this.props.size.width })), this.ratio = typeof this.props.lockAspectRatio == "number" ? this.props.lockAspectRatio : this.size.width / this.size.height;
        var a, l = this.window.getComputedStyle(this.resizable);
        if (l.flexBasis !== "auto") {
          var c = this.parentNode;
          if (c) {
            var d = this.window.getComputedStyle(c).flexDirection;
            this.flexDir = d.startsWith("row") ? "row" : "column", a = l.flexBasis;
          }
        }
        this.setBoundingClientRect(), this.bindEvents();
        var p = {
          original: {
            x: o,
            y: s,
            width: this.size.width,
            height: this.size.height
          },
          isResizing: !0,
          backgroundStyle: Er(Er({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(n.target).cursor || "auto" }),
          direction: r,
          flexBasis: a
        };
        this.setState(p);
      }
    }, t.prototype.onMouseMove = function(n) {
      var r = this;
      if (!(!this.state.isResizing || !this.resizable || !this.window)) {
        if (this.window.TouchEvent && Kl(n))
          try {
            n.preventDefault(), n.stopPropagation();
          } catch {
          }
        var o = this.props, s = o.maxWidth, i = o.maxHeight, a = o.minWidth, l = o.minHeight, c = Kl(n) ? n.touches[0].clientX : n.clientX, d = Kl(n) ? n.touches[0].clientY : n.clientY, p = this.state, f = p.direction, g = p.original, h = p.width, m = p.height, b = this.getParentSize(), y = f7(b, this.window.innerWidth, this.window.innerHeight, s, i, a, l);
        s = y.maxWidth, i = y.maxHeight, a = y.minWidth, l = y.minHeight;
        var v = this.calculateNewSizeFromDirection(c, d), S = v.newHeight, w = v.newWidth, C = this.calculateNewMaxFromBoundary(s, i);
        this.props.snap && this.props.snap.x && (w = V1(w, this.props.snap.x, this.props.snapGap)), this.props.snap && this.props.snap.y && (S = V1(S, this.props.snap.y, this.props.snapGap));
        var x = this.calculateNewSizeFromAspectRatio(w, S, { width: C.maxWidth, height: C.maxHeight }, { width: a, height: l });
        if (w = x.newWidth, S = x.newHeight, this.props.grid) {
          var E = j1(w, this.props.grid[0], this.props.gridGap ? this.props.gridGap[0] : 0), O = j1(S, this.props.grid[1], this.props.gridGap ? this.props.gridGap[1] : 0), T = this.props.snapGap || 0, P = T === 0 || Math.abs(E - w) <= T ? E : w, A = T === 0 || Math.abs(O - S) <= T ? O : S;
          w = P, S = A;
        }
        var _ = {
          width: w - g.width,
          height: S - g.height
        };
        if (h && typeof h == "string") {
          if (h.endsWith("%")) {
            var M = w / b.width * 100;
            w = M + "%";
          } else if (h.endsWith("vw")) {
            var V = w / this.window.innerWidth * 100;
            w = V + "vw";
          } else if (h.endsWith("vh")) {
            var N = w / this.window.innerHeight * 100;
            w = N + "vh";
          }
        }
        if (m && typeof m == "string") {
          if (m.endsWith("%")) {
            var M = S / b.height * 100;
            S = M + "%";
          } else if (m.endsWith("vw")) {
            var V = S / this.window.innerWidth * 100;
            S = V + "vw";
          } else if (m.endsWith("vh")) {
            var N = S / this.window.innerHeight * 100;
            S = N + "vh";
          }
        }
        var H = {
          width: this.createSizeForCssProperty(w, "width"),
          height: this.createSizeForCssProperty(S, "height")
        };
        this.flexDir === "row" ? H.flexBasis = H.width : this.flexDir === "column" && (H.flexBasis = H.height);
        var K = this.state.width !== H.width, z = this.state.height !== H.height, $ = this.state.flexBasis !== H.flexBasis, D = K || z || $;
        D && Cb(function() {
          r.setState(H);
        }), this.props.onResize && D && this.props.onResize(n, f, this.resizable, _);
      }
    }, t.prototype.onMouseUp = function(n) {
      var r, o, s = this.state, i = s.isResizing, a = s.direction, l = s.original;
      if (!(!i || !this.resizable)) {
        var c = {
          width: this.size.width - l.width,
          height: this.size.height - l.height
        };
        this.props.onResizeStop && this.props.onResizeStop(n, a, this.resizable, c), this.props.size && this.setState({ width: (r = this.props.size.width) !== null && r !== void 0 ? r : "auto", height: (o = this.props.size.height) !== null && o !== void 0 ? o : "auto" }), this.unbindEvents(), this.setState({
          isResizing: !1,
          backgroundStyle: Er(Er({}, this.state.backgroundStyle), { cursor: "auto" })
        });
      }
    }, t.prototype.updateSize = function(n) {
      var r, o;
      this.setState({ width: (r = n.width) !== null && r !== void 0 ? r : "auto", height: (o = n.height) !== null && o !== void 0 ? o : "auto" });
    }, t.prototype.renderResizer = function(n) {
      var r = this, o = this.props, s = o.enable, i = o.handleStyles, a = o.handleClasses, l = o.handleWrapperStyle, c = o.handleWrapperClass, d = o.handleComponent;
      if (!s)
        return null;
      var p = n.filter(function(f) {
        return s[f] !== !1;
      }).map(function(f) {
        return s[f] !== !1 ? et.createElement(c7, { key: f, direction: f, onResizeStart: r.onResizeStart, replaceStyles: i && i[f], className: a && a[f] }, d && d[f] ? d[f] : null) : null;
      });
      return et.createElement("div", { className: c, style: l }, p);
    }, t.prototype.render = function() {
      var n = this, r = Object.keys(this.props).reduce(function(i, a) {
        return h7.indexOf(a) !== -1 || (i[a] = n.props[a]), i;
      }, {}), o = Er(Er(Er({ position: "relative", userSelect: this.state.isResizing ? "none" : "auto" }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: "border-box", flexShrink: 0 });
      this.state.flexBasis && (o.flexBasis = this.state.flexBasis);
      var s = this.props.as || "div";
      return et.createElement(
        s,
        Er({ style: o, className: this.props.className }, r, {
          // `ref` is after `extendsProps` to ensure this one wins over a version
          // passed in
          ref: function(i) {
            i && (n.resizable = i);
          }
        }),
        this.state.isResizing && et.createElement("div", { style: this.state.backgroundStyle }),
        this.renderResizer(["topLeft", "top", "topRight", "left"]),
        this.props.children,
        this.renderResizer(["right", "bottomLeft", "bottom", "bottomRight"])
      );
    }, t.defaultProps = {
      as: "div",
      onResizeStart: function() {
      },
      onResize: function() {
      },
      onResizeStop: function() {
      },
      enable: {
        top: !0,
        right: !0,
        bottom: !0,
        left: !0,
        topRight: !0,
        bottomRight: !0,
        bottomLeft: !0,
        topLeft: !0
      },
      style: {},
      grid: [1, 1],
      gridGap: [0, 0],
      lockAspectRatio: !1,
      lockAspectRatioExtraWidth: 0,
      lockAspectRatioExtraHeight: 0,
      scale: 1,
      resizeRatio: 1,
      snapGap: 0
    }, t;
  }(et.PureComponent)
);
function fl({
  className: e,
  children: t,
  top: n,
  bottom: r,
  right: o,
  left: s,
  width: i,
  height: a,
  minHeight: l,
  minWidth: c,
  maxHeight: d,
  maxWidth: p,
  style: f,
  onResize: g,
  onResizeStop: h,
  ...m
}) {
  const b = {
    top: n || !1,
    right: o || !1,
    bottom: r || !1,
    left: s || !1,
    topRight: !1,
    bottomRight: !1,
    bottomLeft: !1,
    topLeft: !1
  }, y = {
    width: i || "auto",
    height: a || "auto"
  }, v = k("gs-utl-z-10", F.hBgAct), S = {
    top: v,
    bottom: v,
    right: v,
    left: v
  }, w = {
    top: { top: -1, height: 2 },
    bottom: { bottom: 0, height: 2 },
    right: { right: -1, width: 2 },
    left: { left: -1, width: 2 }
  };
  return /* @__PURE__ */ u(
    m7,
    {
      className: e,
      enable: m.enable ?? b,
      defaultSize: y,
      handleStyles: w,
      handleClasses: S,
      onResize: g,
      onResizeStop: h,
      minHeight: l,
      minWidth: c,
      maxHeight: d,
      maxWidth: p,
      style: f,
      children: t
    }
  );
}
const Ki = "gs-studio-panel", Bw = (e, t = {}) => ({
  ...t,
  ...e === !0 ? {} : e || void 0
}), br = Pe(function({
  children: t,
  header: n,
  resizable: r,
  className: o,
  classNameAccordion: s,
  classNameAccordionContent: i,
  ...a
}) {
  const l = /* @__PURE__ */ u(Hn, { className: k(Ki, o), ...a, children: t }), c = r ? r === !0 ? {
    top: !0,
    right: !0,
    bottom: !0,
    left: !0
  } : r : void 0, d = c ? /* @__PURE__ */ u(fl, { className: k([`${Ki}__resizer`]), ...c, children: l }) : l, p = n === !0 ? { collapsible: !0 } : n || void 0;
  return p ? /* @__PURE__ */ u(
    js,
    {
      classNameWrap: k(`${Ki}__accordion`, s),
      className: k(`${Ki}__accordion-header`, Ve.xy, p.className),
      classNameContent: k(`${Ki}__accordion-content`, i),
      disabled: p.collapsible === !1,
      style: p.style,
      handler: /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
        !!p.icon && /* @__PURE__ */ u(ae, { icon: p.icon, size: fe.s }),
        /* @__PURE__ */ u(j, { grow: !0, children: p.label })
      ] }),
      open: n ? p.collapsed !== !0 : !0,
      children: d
    }
  ) : d;
}), b7 = "gs-panel-assets", v7 = Pe(
  ce(function({
    className: t,
    onSelect: n,
    content: r,
    assets: o,
    types: s,
    providers: i,
    typeId: a,
    providerId: l,
    optionalType: c,
    optionalProvider: d,
    projectAssetsOption: p,
    layoutAfterHeader: f,
    ...g
  }) {
    var C;
    const h = we(), m = $s(), b = h.editor, y = (C = h.sdkOptions.assets) == null ? void 0 : C.layoutAfterHeader, v = f || y, [S] = W(() => g.id || vv());
    return G(() => (m.createAssetManager(S), () => {
      m.removeAssetManager(S);
    }), [S]), D0(S) ? /* @__PURE__ */ u(
      br,
      {
        className: k(b7, "gs-utl-overflow-hidden gs-utl-h-full", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...g,
        children: b && /* @__PURE__ */ u(
          Hw,
          {
            panelId: S,
            assets: o,
            types: s,
            providers: i,
            onSelect: n,
            typeId: a,
            providerId: l,
            content: r,
            optionalType: c,
            optionalProvider: p ?? d,
            layoutAfterHeader: v
          }
        )
      }
    ) : null;
  })
), Fw = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-block-manager-after"), n), ref: o, ...r, children: t });
}), zw = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-block-manager-before"), n), ref: o, ...r, children: t });
}), y7 = "gs-panel-blocks", w7 = Pe(
  ce(function({
    className: t,
    symbols: n,
    search: r,
    hideCategories: o,
    target: s,
    variant: i,
    blocks: a,
    itemLayout: l,
    ...c
  }) {
    const d = we().sdkProps.children, p = {
      search: r,
      symbols: n,
      hideCategories: o,
      isOpen: !0,
      target: s,
      variant: i,
      blocks: a,
      itemLayout: l
    };
    return /* @__PURE__ */ u(
      br,
      {
        className: k(y7, "gs-utl-overflow-hidden", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...c,
        children: /* @__PURE__ */ L(Is, { children: [
          wn(d, zw),
          /* @__PURE__ */ u(wS, { className: k("gs-utl-overflow-hidden gs-utl-flex-nowrap"), ...p }),
          wn(d, Fw)
        ] })
      }
    );
  })
), S7 = (e, { t, id: n }) => t(`fields.${n}.label`) || Mr(`${e}`.replace(/-/g, " ")), Uw = (e, { t, id: n }) => {
  const r = ut(e) ? { id: e, label: e } : e;
  return {
    ...r,
    label: t(`fields.${n}.options.${r.id}`) || r.label
  };
}, Ww = (e) => e.get("defaultValue") || "", gl = (e) => e.get("field"), Gw = (e) => {
  const t = gl(e);
  return ut(t) ? { type: t } : t;
}, Kw = (e) => `${e.get("value") || Ww(e) || Gw(e).defaultValue || ""}`, C7 = (e, t) => e || Ww(t) || "", Ra = ({
  record: e,
  value: t,
  partial: n
}) => {
  e.set({ value: C7(t, e) }, { partial: n }), e.em.refreshCanvas({ tools: !0 });
}, Ia = (e, t) => {
  const { className: n, defaultValue: r, size: o, ...s } = Gw(e), i = r ?? e.get("defaultValue");
  return {
    ...s,
    hasClear: () => {
      const a = e.get("value");
      return !!a && Ft(i) && a !== i;
    },
    className: k(n, "gs-utl-w-full"),
    size: o || "s",
    value: Kw(e),
    label: S7(e.get("label") || e.id || "", t),
    onChange: (a, l) => Ra({ record: e, value: a, partial: l })
  };
}, x7 = (e, t) => {
  const n = gl(e), r = gr(n) ? n : void 0, o = (r == null ? void 0 : r.units) || [], s = yM(Kw(e)), i = s.number, a = s.unit || o[0] || "";
  return {
    ...Ia(e, t),
    value: i,
    valueUnit: a,
    min: r == null ? void 0 : r.min,
    max: r == null ? void 0 : r.max,
    step: r == null ? void 0 : r.step,
    units: r == null ? void 0 : r.units,
    onChange: (l, c) => {
      Ra({ value: l ? `${l}${a}` : "", record: e, partial: c });
    },
    onChangeUnit: (l) => {
      Ra({ value: i ? `${i}${l}` : "", record: e });
    }
  };
}, qw = (e, t) => {
  var s;
  const n = gl(e), r = gr(n) ? n : void 0, o = ((s = r == null ? void 0 : r.options) == null ? void 0 : s.map((i) => Uw(i, t))) || [];
  return {
    ...Ia(e, t),
    options: o,
    onChange: (i) => Ra({ value: i, record: e })
  };
}, P7 = (e, t) => ({
  ...Ia(e, t),
  onChange: (n) => Ra({ value: n, record: e })
}), E7 = (e, t) => {
  var s;
  const n = gl(e), r = gr(n) ? n : void 0, o = ((s = r == null ? void 0 : r.options) == null ? void 0 : s.map((i) => Uw(i, t))) || [];
  return {
    ...qw(e, t),
    size: "s",
    options: o
  };
};
function T7(e, t) {
  const n = gl(e);
  switch (ut(n) ? n : n == null ? void 0 : n.type) {
    case "radio":
      return /* @__PURE__ */ u(sn, { ...E7(e, t) });
    case "select":
      return /* @__PURE__ */ u(Ne, { ...qw(e, t) });
    case "selectFont": {
      const o = P7(e, t);
      return /* @__PURE__ */ u(
        Pu,
        {
          ...o,
          labelAs: "div"
        }
      );
    }
    case "number":
      return /* @__PURE__ */ u(je, { ...x7(e, t) });
    case "color":
      return /* @__PURE__ */ u(go, { ...Ia(e, t) });
    default:
      return /* @__PURE__ */ u(at, { ...Ia(e, t) });
  }
}
const H1 = "gs-cmp-global-style-field", O7 = ce(function({ record: t }) {
  const n = we(), o = Le().tScoped("globalStyleManager"), [, s] = W(0), i = n.editor, a = t.id, l = { t: o, id: a };
  return G(() => {
    if (!i)
      return;
    const c = `data:path:${t.getPath("value")}`, d = () => s((p) => ++p);
    return i.on(c, d), () => {
      i.off(c, d);
    };
  }, [i]), /* @__PURE__ */ u(R, { className: k(H1, `${H1}__${a}`), children: T7(t, l) });
}), ha = "gs-cmp-global-style-manager", B1 = ({ items: e, category: t, className: n }) => {
  const r = k(
    t ? `${ha}__cat-fields--${t.id}` : `${ha}__uncat-fields`,
    "gs-utl-gap-2",
    Ve.xy,
    n
  );
  return /* @__PURE__ */ u(R, { className: r, nowrap: !0, col: !0, children: e.map((o) => /* @__PURE__ */ u(O7, { record: o }, o.id)) });
}, _7 = ce(function() {
  const t = mL(), { recordsByCategory: n, openCategories: r } = t, s = Le().tScoped("globalStyleManager");
  return /* @__PURE__ */ u(R, { col: !0, full: !0, nowrap: !0, className: k(ha, "gs-utl-flex-grow gs-utl-overflow-hidden"), children: /* @__PURE__ */ u(R, { col: !0, nowrap: !0, className: k(`${ha}__fields`, De.scrollY, "gs-utl-select-none"), children: n.length ? n.map(
    ({ category: i, items: a }, l) => i ? /* @__PURE__ */ u(
      js,
      {
        sticky: !0,
        open: r.get(i.id) ?? i.open,
        handler: s(`categories.${i.id}.label`) || i.label || i.id,
        onChange: ({ open: c }) => t.setCategoryOpen(i.id, c),
        className: (c) => k(
          `${ha}__cat-fields`,
          Of.itemList({ index: l, open: c, length: n.length }),
          l === 0 && le.bt
        ),
        children: /* @__PURE__ */ u(B1, { category: i, items: a })
      },
      i.id
    ) : /* @__PURE__ */ u(
      B1,
      {
        items: a,
        className: k(n.length !== 1 && [le.bt, F.br])
      },
      l
    )
  ) : /* @__PURE__ */ u(R, { className: k("gs-utl-text-center"), justify: "center", children: s("notFound") }) }) });
}), A7 = "gs-panel-global-styles", L7 = Pe(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ u(
      br,
      {
        className: k(A7, "gs-utl-overflow-auto", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ u(Is, { children: /* @__PURE__ */ u(_7, {}) })
      }
    );
  })
);
function Wg({ className: e, value: t, onChange: n }) {
  const [r, o] = W(t), s = q(null), i = (c) => {
    const { value: d } = c.target;
    o(d);
  }, a = () => {
    n(r || t);
  }, l = (c) => {
    switch (c.key) {
      case "Escape":
        n(t);
        break;
      case "Enter":
        n(r || t);
        break;
    }
  };
  return G(() => {
    s.current && s.current.select();
  }, []), /* @__PURE__ */ u(
    "input",
    {
      autoFocus: !0,
      className: Y([e, "w-full", F.bgTr]),
      value: r,
      onChange: i,
      onBlur: a,
      onKeyDown: l,
      onPointerDown: Ps,
      ref: s
    }
  );
}
const N7 = { maxWidth: `${nx}px` }, k7 = "gs-cmp-layer-item";
function Yw({ component: e, draggingCmp: t, dragParent: n, ...r }) {
  const o = rr(), { Layers: s } = o, i = q(null), [a, l] = W(!1), [c, d] = W(s.getLayerData(e)), { open: p, selected: f, hovered: g, components: h, visible: m, locked: b, name: y } = c, v = h.map((z) => z.cid), S = t === e, w = v.join("-"), C = r.level + 1, x = g || n === e;
  G(() => {
    C === 0 && d(s.getLayerData(e)), i.current && (i.current.__cmp = e);
  }, [e]), G(() => {
    const z = i.current;
    if (!z)
      return;
    const { select: $ } = o.Components.events, D = (I) => I === e && z.scrollIntoView({ block: "nearest" });
    return o.on($, D), () => {
      o.off($, D);
    };
  }, [e, i.current]), G(() => {
    const z = (D) => {
      D === e && d(s.getLayerData(D));
    }, $ = s.events.component;
    return o.on($, z), () => {
      o.off($, z);
    };
  }, [o, s, e]);
  const E = ue(() => h.map((z) => /* @__PURE__ */ u(Yw, { component: z, level: C, draggingCmp: t, dragParent: n }, z.cid)), [w, t, n]), O = (z) => {
    s.setLayerData(e, { name: z }), l(!1);
  }, T = (z) => {
    z.stopPropagation(), s.setLayerData(e, { open: !p });
  }, P = (z) => {
    z.stopPropagation(), s.setLayerData(e, { visible: !m });
  }, A = (z) => {
    z.stopPropagation(), s.setLayerData(e, { locked: !b });
  }, _ = (z) => {
    z.stopPropagation(), s.setLayerData(e, { selected: !0 }, { event: z });
  }, M = (z) => {
    z.preventDefault(), o.runCommand(he.contextMenuComponent, {
      source: lg.layers,
      component: e,
      event: z.nativeEvent,
      x: z.clientX,
      y: z.clientY
    });
  }, V = (z) => {
    (!z || !t) && s.setLayerData(e, { hovered: z });
  }, N = Ci(e), H = Y(
    "layer-item",
    (f || N.isSymbol) && N.bgSoftX,
    (!m || S) && "opacity-50"
  ), K = Y(Ve.xyS, le.b, x ? N.border : le.bT, f && N.bgSoft);
  return /* @__PURE__ */ u("div", { className: k7, children: /* @__PURE__ */ L(R, { col: !0, className: H, children: [
    /* @__PURE__ */ u(
      j,
      {
        onClick: _,
        onContextMenu: M,
        onMouseEnter: () => V(!0),
        onMouseLeave: () => V(!1),
        className: Y("group max-w-full"),
        "data-layer-item": !0,
        ref: i,
        children: /* @__PURE__ */ L(R, { items: "center", space: "xs", className: K, children: [
          /* @__PURE__ */ u(
            j,
            {
              style: { marginLeft: `${C * 10}px` },
              className: Y("cursor-pointer", !h.length && "pointer-events-none opacity-0"),
              onClick: T,
              children: /* @__PURE__ */ u(ae, { icon: Z.menuDown, size: fe.sx, rotate: p ? 0 : -90 })
            }
          ),
          /* @__PURE__ */ u(j, { children: hg(e) }),
          /* @__PURE__ */ u(j, { className: Y("truncate"), onDoubleClick: () => l(!0), style: N7, grow: !0, children: a ? /* @__PURE__ */ u(Wg, { value: y, onChange: O }) : /* @__PURE__ */ u(pe, { children: y }) }),
          !a && /* @__PURE__ */ L(pe, { children: [
            /* @__PURE__ */ u(
              j,
              {
                className: Y("group-hover:gs-utl-opacity-100 cursor-pointer", b ? "opacity-100" : "opacity-0"),
                onClick: A,
                children: /* @__PURE__ */ u(ae, { icon: b ? Z.lock : Z.lockOpenVariant, size: fe.s3x })
              }
            ),
            /* @__PURE__ */ u(
              j,
              {
                className: Y("group-hover:gs-utl-opacity-100 cursor-pointer", m ? "opacity-0" : "opacity-100"),
                onClick: P,
                children: /* @__PURE__ */ u(ae, { icon: m ? Z.eyeOutline : Z.eyeOffOutline, size: fe.sx })
              }
            )
          ] })
        ] })
      }
    ),
    !!(p && h.length) && /* @__PURE__ */ u(j, { className: Y("max-w-full", !p && "hidden"), children: E })
  ] }) });
}
const M7 = {
  touchAction: "none"
}, F1 = 5, $7 = (e) => {
  var s, i;
  const t = document.elementFromPoint(e.clientX, e.clientY), n = t == null ? void 0 : t.closest("[data-layer-item]"), r = n == null ? void 0 : n.__cmp, o = ((i = (s = r == null ? void 0 : r.delegate) == null ? void 0 : s.move) == null ? void 0 : i.call(s, r)) || r;
  return {
    el: n,
    cmp: o
  };
}, Zw = ce(function({ root: t, header: n }) {
  const { editor: r } = we(), [o, s] = W(!1), [i, a] = W({}), [l, c] = W(), [d, p] = W(), [f, g] = W(), [h, m] = W(), b = q(null);
  if (G(() => {
    const T = window.document, P = (A) => {
      A.key === "Escape" && (a({ ...i, result: !1 }), w());
    };
    return T.addEventListener("keydown", P), () => {
      T.removeEventListener("keydown", P);
    };
  }, []), !r)
    return null;
  const { Components: y } = r, v = (T) => {
    T.button === 0 && s(!0);
  }, S = (T) => {
    if (!o)
      return;
    const { cmp: P, el: A } = $7(T);
    if (!A || !P)
      return;
    const _ = A.getBoundingClientRect(), M = A.offsetHeight, V = A.offsetTop, N = T.clientY, H = N < _.y + M / 2, K = d || P, z = P.parent(), $ = P.index() + (H ? 0 : 1);
    !d && p(P), c(P);
    const D = y.canMove(z, K, $), I = y.canMove(P, K), U = {
      ...D,
      canMoveInside: I,
      index: $
    };
    let ne = !1;
    I.result && N > _.y + F1 && N < _.y + M - F1 && (ne = !0, U.target = P, delete U.index), g(ne ? P : void 0), a(U), m({
      pointerInside: ne,
      y: V + (H ? 0 : M),
      h: M
    });
  }, w = () => {
    var T;
    i != null && i.result && ((T = i.source) == null || T.move(i.target, { at: i.index })), a({}), s(!1), p(void 0), c(void 0), g(void 0), m(void 0);
  }, C = (l ? l.parents() : []).length, x = !!(d && h && (i != null && i.result) && !h.pointerInside), E = x ? { top: h.y, left: 0, marginLeft: C * 10 + 20 } : {}, O = n && (n == null ? void 0 : n.label) || "Layers";
  return /* @__PURE__ */ L(R, { col: !0, full: !0, nowrap: !0, className: Y("gs-layer-manager flex-grow overflow-hidden"), children: [
    n !== !1 && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ L(R, { space: "s", items: "center", className: Y([Ve.xy, le.bb, F.br]), children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: Z.layers, size: fe.s }) }),
      /* @__PURE__ */ u(j, { grow: !0, children: O })
    ] }) }),
    /* @__PURE__ */ L(
      j,
      {
        className: Y("overflow-y-auto overflow-x-hidden text-sm select-none relative"),
        style: M7,
        onPointerDown: v,
        onPointerMove: S,
        onPointerUp: w,
        grow: !0,
        children: [
          !!t && /* @__PURE__ */ u(Yw, { component: t, level: -1, draggingCmp: d, dragParent: f }),
          x && /* @__PURE__ */ u("div", { ref: b, className: Y("absolute w-full gs-utl-h-0.5", F.cmp), style: E })
        ]
      }
    )
  ] });
}), Xw = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-layer-manager-after"), n), ref: o, ...r, children: t });
}), Jw = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-layer-manager-before"), n), ref: o, ...r, children: t });
}), R7 = "gs-panel-layers", Qw = Pe(
  ce(function({ className: t, ...n }) {
    const r = we().sdkProps.children;
    return /* @__PURE__ */ u(
      br,
      {
        className: k(R7, "gs-utl-overflow-auto", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ u(xy, { children: (o) => /* @__PURE__ */ L(pe, { children: [
          wn(r, Jw),
          /* @__PURE__ */ u(Zw, { ...o, header: !1 }),
          wn(r, Xw)
        ] }) })
      }
    );
  })
), I7 = ce(function() {
  const t = Le(), { editor: n } = we(), r = $s(), o = il(), s = o.sortedFonts;
  return n ? /* @__PURE__ */ u(
    Or,
    {
      items: s,
      selected: null,
      renderItem: (i) => {
        const a = gg(i);
        return /* @__PURE__ */ L(R, { col: !0, children: [
          /* @__PURE__ */ u(j, { className: "gs-utl-text-lg", style: { fontFamily: a }, children: i.familyLabel }),
          /* @__PURE__ */ u(j, { children: i.familyLabel })
        ] });
      },
      remove: (i) => o.removeFont(i.family),
      add: o.sdkAddFonts && r.hasType("font") ? () => Pg(n) : void 0,
      titleAdd: t.t("fontManager.addFontToProject"),
      label: t.t("fontManager.projectFonts"),
      getItemId: (i) => i.family,
      emptyState: t.t("fontManager.emptyProjectFonts")
    }
  ) : null;
}), eS = B.forwardRef(function({ size: t = "m", className: n, classNameContent: r, border: o = !0, children: s, ...i }, a) {
  const l = te(
    F.bg,
    F.br,
    o && `${le.b} ${le.rnd}`,
    t === "m" && Ve.xy,
    t === "s" && "gjs-px-3 gjs-py-1",
    n
  );
  return /* @__PURE__ */ u(R, { className: l, items: "center", space: "x2s", ...i, ref: a, children: /* @__PURE__ */ u(j, { grow: !0, className: r, children: s }) });
}), tS = Yt(
  ({ autoResize: e, style: t = {}, ...n }, r) => {
    const o = q(null), s = r || o;
    return G(() => {
      !s.current || !e || (s.current.style.height = "auto", s.current.style.height = s.current.scrollHeight + "px");
    }, [n.value, e, s]), /* @__PURE__ */ u("textarea", { ref: s, style: { ...t, ...e ? { resize: "none" } : {} }, ...n });
  }
);
tS.displayName = "TextAreaWithAutoResize";
const j7 = "gs-field-textarea";
function z1(e) {
  const {
    className: t,
    value: n,
    label: r,
    size: o,
    description: s,
    placeholder: i,
    readOnly: a,
    disabled: l,
    required: c,
    onChange: d,
    onKeyDown: p,
    afterInput: f,
    minHeight: g,
    maxHeight: h,
    autoResize: m,
    classNameField: b,
    classNameFieldContent: y,
    classNameInput: v
  } = e, S = rl(e);
  return /* @__PURE__ */ L("div", { className: Y(j7, t), children: [
    !!r && /* @__PURE__ */ u(jo, { size: o, children: r }),
    !!s && /* @__PURE__ */ u(jo, { size: o, as: "span", className: Y(F.txtLowEmphasis), capitalize: !1, children: s }),
    /* @__PURE__ */ L(eS, { size: o, className: b, classNameContent: y, children: [
      /* @__PURE__ */ u(
        tS,
        {
          className: Y(S, v),
          autoResize: m,
          value: n,
          placeholder: i,
          readOnly: a,
          disabled: l,
          required: c,
          onChange: (w) => d == null ? void 0 : d(w.target.value),
          onKeyDown: p,
          style: { minHeight: g, maxHeight: h }
        }
      ),
      f
    ] })
  ] });
}
const Hu = "gs-page-settings", V7 = `${Hu}-header`, D7 = `${Hu}-content`, H7 = `${Hu}-footer`, U1 = "", nS = ce(function({
  className: t,
  classNameHeader: n,
  classNameContent: r,
  classNameFooter: o,
  page: s,
  size: i = pu.m
}) {
  const a = we(), { isDarkTheme: l } = En(), c = il(), d = Le(), [p, f] = W(s), [g, h] = W(() => am(p, a)), [m, b] = W(() => d.t("update")), y = d.tScoped("pageManager.settings"), v = d.tScoped("pageManager.settings.fields"), { editor: S } = a, w = {
    containerClassName: "gs-utl-min-h-80",
    size: i,
    padding: 5,
    isDarkTheme: l,
    clean: !0
  };
  if (!S)
    return null;
  const C = (M) => h((V) => ({ ...V, ...M })), x = (M) => {
    M.preventDefault();
    const { name: V, ...N } = g;
    N.customCodeHead = YC(N.customCodeHead), N.customCodeBody = qC(N.customCodeBody), p ? (WA(p, N), p.setName(V)) : a.setProjectDataCustom({
      globalPageSettings: N
    }), b(d.t("updated")), setTimeout(() => b(d.t("update")), 2e3), M0(S), S.trigger(Rn.pageSettingsUpdate, { page: p, data: { name: V, ...N } });
  }, E = { tooltip: d.t("clear") }, O = (p == null ? void 0 : p.getId()) ?? U1, T = (M) => {
    const V = S.Pages.get(M);
    f(V), h(am(V, a));
  }, P = mg(p), A = !!p && hu(p), _ = [
    {
      id: U1,
      label: y("global")
    },
    ...S.Pages.getAll().map((M) => ({
      icon: k0(M),
      id: M.getId(),
      label: M.getName()
    }))
  ];
  return /* @__PURE__ */ u("form", { onSubmit: x, className: k(Hu, "gs-utl-h-full", t), children: /* @__PURE__ */ L(R, { col: !0, full: !0, className: "gs-utl-gap-1 gs-utl-overflow-hidden", nowrap: !0, children: [
    /* @__PURE__ */ u(j, { className: k(V7, n, F.br, le.bb), children: /* @__PURE__ */ u(
      Ne,
      {
        value: O,
        onChange: T,
        options: _,
        handlerSelected: (M) => /* @__PURE__ */ L(R, { items: "center", gap: "xs", nowrap: !0, children: [
          /* @__PURE__ */ L("b", { children: [
            d.t("pageManager.page"),
            ":"
          ] }),
          M.icon && ut(M.icon) && /* @__PURE__ */ u(ae, { icon: M.icon, size: fe.s2x }),
          /* @__PURE__ */ u("span", { children: M.label })
        ] })
      }
    ) }),
    /* @__PURE__ */ L(R, { col: !0, className: k(D7, "gs-utl-gap-5 gs-utl-overflow-y-auto", r), nowrap: !0, children: [
      !!O && /* @__PURE__ */ L(pe, { children: [
        /* @__PURE__ */ u(
          at,
          {
            size: i,
            value: g.name,
            onChange: (M) => C({ name: M }),
            label: v("name.label"),
            description: v("name.description"),
            required: !0
          }
        ),
        !P && /* @__PURE__ */ u(
          at,
          {
            size: i,
            value: g.slug,
            onChange: (M) => C({ slug: A ? lx(M, ["id"]) : Xc(M) }),
            label: v("slug.label"),
            description: v("slug.description"),
            required: !0
          }
        )
      ] }),
      /* @__PURE__ */ u(
        at,
        {
          size: i,
          value: g.title,
          onChange: (M) => C({ title: M }),
          label: v("title.label"),
          description: v("title.description")
        }
      ),
      /* @__PURE__ */ u(
        z1,
        {
          size: i,
          value: g.description,
          onChange: (M) => C({ description: M }),
          label: v("description.label"),
          description: v("description.description")
        }
      ),
      /* @__PURE__ */ u(
        Na,
        {
          size: i,
          clear: E,
          value: g.favicon,
          onChange: (M) => C({ favicon: M }),
          onOpen: () => {
            S.Assets.open({
              select(M) {
                C({ favicon: M.getSrc() }), S.Assets.close();
              }
            });
          },
          label: v("favicon.label"),
          description: v("favicon.description")
        }
      ),
      /* @__PURE__ */ u(
        at,
        {
          size: i,
          value: g.keywords,
          onChange: (M) => C({ keywords: M }),
          label: v("keywords.label"),
          description: v("keywords.description")
        }
      ),
      /* @__PURE__ */ u(
        at,
        {
          size: i,
          value: g.socialTitle,
          onChange: (M) => C({ socialTitle: M }),
          label: v("socialTitle.label"),
          description: v("socialTitle.description")
        }
      ),
      /* @__PURE__ */ u(
        Na,
        {
          size: i,
          clear: E,
          value: g.socialImage,
          onChange: (M) => C({ socialImage: M }),
          onOpen: () => {
            S.Assets.open({
              select(M) {
                C({ socialImage: M.getSrc() }), S.Assets.close();
              }
            });
          },
          label: v("socialImage.label"),
          description: v("socialImage.description")
        }
      ),
      /* @__PURE__ */ u(
        z1,
        {
          size: i,
          value: g.socialDescription,
          onChange: (M) => C({ socialDescription: M }),
          label: v("socialDescription.label"),
          description: v("socialDescription.description")
        }
      ),
      /* @__PURE__ */ u(
        fo,
        {
          language: "html",
          defaultValue: g.customCodeHead,
          onChange: (M) => C({ customCodeHead: M }),
          label: v("customCodeHead.label"),
          description: v("customCodeHead.description"),
          ...w
        },
        `head-${O}`
      ),
      /* @__PURE__ */ u(
        fo,
        {
          language: "html",
          defaultValue: g.customCodeBody,
          onChange: (M) => C({ customCodeBody: M }),
          label: v("customCodeBody.label"),
          description: v("customCodeBody.description"),
          ...w
        },
        `body-${O}`
      ),
      c.sdkShowProjectFonts && !O && /* @__PURE__ */ u(I7, {})
    ] }),
    /* @__PURE__ */ u(R, { className: k(H7, "gs-utl-mt-auto", o, F.br, le.bt), children: /* @__PURE__ */ u(Xe, { type: "submit", variant: "pr", size: "m2", full: !0, children: m }) })
  ] }) });
}), B7 = "gs-panel-page-settings", F7 = Pe(
  ce(function({ className: t, page: n, ...r }) {
    return /* @__PURE__ */ u(
      br,
      {
        className: k(B7, "gs-utl-overflow-hidden", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...r,
        children: /* @__PURE__ */ u(Is, { children: /* @__PURE__ */ u(
          nS,
          {
            className: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
            page: n,
            size: pu.s,
            classNameHeader: Ve.s,
            classNameContent: Ve.s,
            classNameFooter: Ve.s
          }
        ) })
      }
    );
  })
), Yl = "gs-page-item", W1 = ce(function({ page: t, rename: n, setRename: r, commandItems: o }) {
  const s = we(), i = Le(), a = s.editor, { Pages: l } = a, c = s.sdkPagesConfig, d = c == null ? void 0 : c.settings, p = c == null ? void 0 : c.showHomeIcon, f = c == null ? void 0 : c.layoutBefore, g = (x) => i.t(`pageManager.${x}`), h = (x) => l.select(x), m = (x) => l.getSelected() === x, b = (x) => x === n, y = m(t), v = (x) => x.getName() || x.getId(), S = (x) => {
    n == null || n.set({ name: x }), r(void 0);
  }, w = te("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"), C = () => a.runCommand(he.setPageSettings, { page: t, isOpen: !0 });
  return /* @__PURE__ */ L(
    R,
    {
      gap: "s",
      items: "center",
      onClick: () => h(t),
      className: te([Yl, "group cursor-default", Ve.xy, y ? F.bgH : F.hBgH2]),
      children: [
        p && mg(t) && /* @__PURE__ */ u(j, { className: `${Yl}__icon-home`, title: g("homePage"), children: /* @__PURE__ */ u(ae, { icon: Z.home, size: fe.s3x }) }),
        f && Dt(f({ page: t, editor: a, isSelected: y })),
        /* @__PURE__ */ u(j, { className: te(`${Yl}__name truncate`), grow: !0, children: b(t) ? /* @__PURE__ */ u(Wg, { value: v(t), onChange: S }) : /* @__PURE__ */ u(pe, { children: v(t) }) }),
        /* @__PURE__ */ L(R, { className: `${Yl}__actions`, gap: "xs", onClick: Ps, items: "center", children: [
          !n && d !== !1 && /* @__PURE__ */ u(
            _t,
            {
              className: w,
              size: "xs",
              border: !1,
              title: g("settings.label"),
              onClick: C,
              block: !0,
              children: /* @__PURE__ */ u(ae, { icon: Z.cog, size: fe.s3x })
            }
          ),
          y && !!o.length && /* @__PURE__ */ u(
            Ur,
            {
              placement: "right-start",
              handler: /* @__PURE__ */ u(ae, { icon: Z.dotsVertical, size: fe.s }),
              title: !1,
              padding: !1,
              fixed: !0,
              overlay: !0,
              children: ({ close: x }) => o.map((E) => /* @__PURE__ */ u(
                nl,
                {
                  icon: E.icon,
                  label: it(E.label) ? E.label({ editor: a }) : E.label,
                  action: () => {
                    var O;
                    x(), (O = E.cmd) == null || O.call(E, { page: t, editor: a });
                  }
                },
                E.id
              ))
            }
          )
        ] })
      ]
    },
    t.getId()
  );
});
function z7({ dragging: e, dragRect: t }) {
  const n = !!(e && t), r = n ? { top: t.y, left: 0, marginLeft: 0 } : {};
  return {
    showIndicator: n,
    indicatorStyle: r
  };
}
var rS = /* @__PURE__ */ ((e) => (e.horizontal = "horizontal", e.vertical = "vertical", e))(rS || {});
const Wd = "gs-cmp-sortable", G1 = 3;
function U7({ items: e, direction: t, onDrop: n, renderItem: r }) {
  const [o, s] = W(null), [i, a] = W(-1), [l, c] = W(), [d, p] = W(!1), f = q(null), { showIndicator: g, indicatorStyle: h } = z7({ dragging: !!o && d, dragRect: l }), m = ue(() => [], [e]);
  G(() => {
    const E = window.document, O = (T) => T.key === "Escape" && v(T);
    return E.addEventListener("keydown", O), () => E.removeEventListener("keydown", O);
  }, []);
  const b = (E) => (O) => {
    O.button === 0 && (f.current = { x: O.clientX, y: O.clientY }, s(E), p(!1), O.target.setPointerCapture(O.pointerId));
  }, y = (E) => {
    const O = f.current;
    if (!o || !O)
      return;
    if (!d) {
      const M = Math.abs(E.clientX - O.x), V = Math.abs(E.clientY - O.y);
      (t === "vertical" ? V > G1 : M > G1) && p(!0);
      return;
    }
    const T = E.clientY;
    let P = -1;
    m.forEach((M, V) => {
      const N = M.getBoundingClientRect();
      T > N.top + N.height / 2 && (P = V);
    });
    const A = e.findIndex((M) => M.id === o.id);
    P < A && (P += 1), P = Math.min(P, e.length - 1), a(P);
    const _ = m[P];
    if (_) {
      const { height: M, top: V } = _.getBoundingClientRect(), N = T < V + M / 2;
      c({
        y: _.offsetTop + (N ? 0 : M),
        h: M
      });
    }
  }, v = (E) => {
    s(null), p(!1), f.current = null, c(void 0);
    const O = E.target, { pointerId: T } = E;
    T && (O == null || O.releasePointerCapture(T));
  }, S = (E) => {
    !o || !f.current || (l && i !== -1 && (n == null || n(o, i)), v(E));
  }, w = k(Wd, "gs-utl-relative"), C = k(`${Wd}__indicator`, F.cmp, "gs-utl-absolute gs-utl-w-full gs-utl-h-0.5"), x = (E) => k(`${Wd}__item`, g && (o == null ? void 0 : o.id) === E.id && "gs-utl-opacity-50 gs-utl-select-none");
  return /* @__PURE__ */ L(pe, { children: [
    /* @__PURE__ */ u(R, { col: t === "vertical", className: w, children: e.map((E, O) => /* @__PURE__ */ u(
      j,
      {
        ref: (T) => {
          T && (m[O] = T);
        },
        className: x(E),
        onPointerDown: b(E),
        onPointerMove: y,
        onPointerUp: S,
        children: r(E)
      },
      E.id
    )) }),
    g && /* @__PURE__ */ u("div", { className: C, style: h })
  ] });
}
const W7 = ({ pages: e, commandItems: t, rename: n, setRename: r, editor: o }) => {
  if (!o.Pages.move)
    return e.map((l) => /* @__PURE__ */ u(W1, { page: l, commandItems: t, rename: n, setRename: r }, l.getId()));
  const s = (l, c) => {
    o.Pages.move(l.entity, { at: c });
  }, i = (l) => /* @__PURE__ */ u(W1, { page: l.entity, commandItems: t, rename: n, setRename: r }, l.id), a = e.map((l) => ({
    id: l.getId(),
    entity: l
  }));
  return /* @__PURE__ */ u(U7, { items: a, direction: rS.vertical, onDrop: s, renderItem: i });
}, G7 = ({
  items: e,
  editor: t,
  sdkPageConfig: n
}) => {
  const r = n == null ? void 0 : n.commandItems;
  return r === !1 ? [] : it(r) ? r({ items: e, editor: t }) : r || e;
}, Gd = "gs-panel-page-manager", oS = ce(function({
  pages: t,
  select: n,
  add: r,
  remove: o,
  header: s,
  resizable: i = { bottom: !0 },
  height: a = 200
}) {
  const l = we(), c = Wr(), d = Le(), { sdkPagesConfig: p } = l, f = l.editor, [g, h] = W(), m = (_) => d.t(`pageManager.${_}`), b = p == null ? void 0 : p.add, y = p == null ? void 0 : p.duplicate, v = p == null ? void 0 : p.remove, S = (_) => {
    Ps(_);
    const M = (N) => {
      const H = t.length + 1;
      return r(
        {
          name: `${m("page")} ${H}`,
          component: `<div>${m("newPage")} ${H}</div>`,
          ...N
        },
        { select: !0 }
      );
    };
    if (b)
      return b({ event: _, editor: f, rename: h, addPage: M });
    const V = M();
    V && h(V);
  }, w = ({ page: _ }) => {
    if (v)
      return v({ editor: f, page: _ });
    c.confirm({
      title: m("deletePage"),
      content: m("confirmDelete"),
      confirmButton: { variant: "danger", children: m("deletePage") },
      onConfirm: () => {
        const M = t.indexOf(_), V = t[M + 1] || t[0];
        n(V), o(_);
      }
    });
  }, C = ({ page: _ }) => {
    if (y)
      return y({ editor: f, page: _, rename: h });
    const M = _.getMainComponent(), V = r(
      {
        name: `${_.getName()} (${m("copy")})`,
        component: M.clone()
      },
      { select: !0 }
    );
    V && h(V);
  }, x = [
    { id: "rename", label: m("rename"), icon: Z.pencil, cmd: ({ page: _ }) => h(_) },
    y !== !1 && {
      id: "duplicate",
      label: m("duplicate"),
      icon: Z.contentCopy,
      cmd: C
    },
    t.length > 1 && v !== !1 && { id: "remove", label: m("delete"), icon: Z.delete, cmd: w }
  ].filter(Boolean), E = G7({ items: x, editor: f, sdkPageConfig: p }), O = Bw(s, {
    collapsible: !0,
    label: m("pages"),
    icon: Z.textBoxMultiple
  }), T = i ? i === !0 ? {
    top: !0,
    right: !0,
    bottom: !0,
    left: !0
  } : i : void 0, P = /* @__PURE__ */ u(W7, { pages: t, commandItems: E, rename: g, setRename: h, editor: f }), A = T ? /* @__PURE__ */ u(
    fl,
    {
      className: Y([`${Gd}__content`, "text-sm overflow-auto", le.bt, F.br]),
      height: a,
      ...T,
      children: P
    }
  ) : P;
  return /* @__PURE__ */ u(
    js,
    {
      classNameWrap: Gd,
      className: Y(`${Gd}__header`, Ve.xy, s === !1 && "gs-utl-hidden"),
      disabled: O && O.collapsible === !1,
      handler: /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
        !!O.icon && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(ae, { icon: O.icon, size: fe.s }) }),
        /* @__PURE__ */ u(j, { grow: !0, children: O.label }),
        b !== !1 && /* @__PURE__ */ u(Kt, { title: m("add"), children: /* @__PURE__ */ u(R, { onClick: S, className: Y("cursor-pointer"), children: /* @__PURE__ */ u(ae, { icon: Z.plus, size: fe.s }) }) })
      ] }),
      open: O ? O.collapsed !== !0 : !0,
      children: A
    }
  );
}), sS = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-page-manager-after"), n), ref: o, ...r, children: t });
}), iS = Yt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-page-manager-before"), n), ref: o, ...r, children: t });
}), K7 = "gs-panel-pages", aS = Pe(
  ce(function({ className: t, header: n, height: r, resizable: o, ...s }) {
    const i = we().sdkProps.children;
    return /* @__PURE__ */ u(Hn, { className: k(K7, t), ...s, children: /* @__PURE__ */ u(Py, { children: (a) => /* @__PURE__ */ L(pe, { children: [
      wn(i, iS),
      /* @__PURE__ */ u(oS, { header: n, height: r, resizable: o, ...a }),
      wn(i, sS)
    ] }) }) });
  })
), q7 = "gs-panel-pages-layers", Y7 = Pe(
  ce(function({
    className: t,
    panelPagesProps: n,
    panelLayersProps: r,
    ...o
  }) {
    const { showPages: s } = we(), i = Le(), { className: a, ...l } = n || {}, c = Bw(r == null ? void 0 : r.header, {
      icon: Z.layers,
      collapsible: !1,
      label: i.t("layerManager.layers"),
      className: k(le.bb, F.br)
    });
    return /* @__PURE__ */ L(br, { className: k(q7, "gs-utl-flex gs-utl-flex-col gs-utl-h-full", t), ...o, children: [
      s && /* @__PURE__ */ u(aS, { className: k(a, le.bb, F.br), ...l }),
      /* @__PURE__ */ u(Qw, { ...r, header: c })
    ] });
  })
), Z7 = "gs-trait-custom", X7 = ce(function(t) {
  const { trait: n, editor: r, value: o, disabled: s, labelAs: i, className: a } = t, [, l] = W(0), c = q(null), d = n.get("component"), p = n.get("render"), f = n.target, g = c.current;
  if (G(() => {
    if (f) {
      let b = () => {
      }, y = () => {
      };
      const v = () => {
        y(), l((S) => ++S);
      };
      if (f.on("change", v), !d && p && g) {
        const S = (x) => g.appendChild(x), w = (x) => g.removeChild(x), C = p({
          editor: r,
          component: f,
          trait: n,
          addEl: S,
          removeEl: w,
          onUpdate: (x) => {
            y = x;
          }
        });
        C instanceof HTMLElement ? (S(C), b = () => w(C)) : it(C) && (b = () => C());
      }
      return () => {
        f.off("change", v), b();
      };
    }
  }, [f, g, o]), !f)
    return null;
  const h = qo({ ...t, className: k(Z7, a) }), m = { trait: n, component: f, editor: r, value: o, disabled: s };
  return /* @__PURE__ */ L("div", { ...h, children: [
    /* @__PURE__ */ u(mr, { ...t, as: i }),
    /* @__PURE__ */ u("div", { className: k(s && "gs-utl-pointer-events-none opacity-50"), children: d ? /* @__PURE__ */ u(d, { ...m }) : p ? /* @__PURE__ */ u("div", { ref: c }) : null })
  ] });
});
function lS({
  className: e,
  options: t,
  value: n,
  name: r,
  label: o,
  border: s,
  hideCaret: i,
  size: a = "s",
  autoFocus: l,
  open: c,
  allowNew: d,
  onChange: p,
  onBlur: f,
  placeholder: g
}) {
  const [h, m] = W(null), [b, y] = W(null), { styles: v, attributes: S } = Ti(h, b, dg), [w, C] = W(""), x = rl(), E = w === "" ? t : t.filter((V) => V.label.toLowerCase().includes(w.toLowerCase())), O = (V) => C(V.target.value), T = (V) => V == null ? void 0 : V.label, P = d && w.length > 0 && !E.some((V) => V.label === w), A = it(d) ? d(w) : d, _ = {
    minWidth: `${h == null ? void 0 : h.offsetWidth}px`,
    maxHeight: 200
  }, M = () => f == null ? void 0 : f();
  return /* @__PURE__ */ L("div", { className: Y("w-full", e), children: [
    !!o && /* @__PURE__ */ u(jo, { size: a, children: o }),
    /* @__PURE__ */ L(Bs, { value: n, onChange: p, name: r, nullable: !0, children: [
      /* @__PURE__ */ u(eS, { size: a, ref: m, border: s, children: /* @__PURE__ */ L(R, { nowrap: !0, children: [
        /* @__PURE__ */ u(
          Bs.Input,
          {
            autoFocus: l,
            className: x,
            displayValue: T,
            onChange: O,
            onBlur: M,
            placeholder: g
          }
        ),
        !i && /* @__PURE__ */ u(Bs.Button, { children: /* @__PURE__ */ u(ae, { icon: Z.chevronDown, size: fe.sx }) })
      ] }) }),
      /* @__PURE__ */ u(
        Bs.Options,
        {
          static: c,
          className: T0,
          ref: y,
          style: v.popper,
          ...S.popper,
          children: /* @__PURE__ */ L(Pn, { className: Y("h-full"), padding: !1, style: _, children: [
            P && /* @__PURE__ */ u(Bs.Option, { value: { id: null, label: w }, children: ({ active: V }) => /* @__PURE__ */ u(Zh, { option: { id: null, label: A }, active: V, selected: n }) }),
            !P && E.length === 0 && /* @__PURE__ */ u("div", { className: Y(Ve.xy), children: "No items found" }),
            E.map((V) => /* @__PURE__ */ u(Bs.Option, { value: V, children: ({ active: N }) => /* @__PURE__ */ u(Zh, { option: V, active: N, selected: n }) }, V.id))
          ] })
        }
      )
    ] })
  ] });
}
const J7 = (e, t) => {
  const n = `${fu}${t}`, r = e.get(n, { skipResolve: !0 });
  return r ? cS(r) : e.get(n) || "";
};
function cS(e) {
  return `${e.collectionId}.${e.variableType}.${e.path}`;
}
const Q7 = ({
  page: e,
  component: t
}) => {
  const { DataSources: n, I18n: r } = e.em, o = ["prevItem", "currentItem", "nextItem"], s = gu(e) || "", i = Object.values((t == null ? void 0 : t.collectionsStateMap) || {}).map((c) => {
    const d = c;
    return o.map((p) => {
      if (d != null && d[p]) {
        const { collectionId: f } = d, g = r.t(`dataSources.collections.${f}`) || f, h = r.t(`dataSources.variableTypes.${p}`) || p, m = {
          collectionId: f,
          path: "id",
          type: n.dataComponentTypes.variable,
          variableType: p
        };
        return {
          id: cS(m),
          label: `${g} > ${h}`,
          dataVariable: m
        };
      }
    }).filter(Boolean);
  }).flat().filter(Boolean), a = n.get(s), l = a == null ? void 0 : a.getRecords().map((c) => ({
    id: c.id,
    label: c.get("title") || c.get("name") || c.id
  }));
  return [...i, ...l];
}, uS = "#", dc = "mailto:", Kd = "subject=", rf = "tel:", dS = "hrefType", K1 = "showIdList", q1 = (e, t) => {
  const n = t == null ? void 0 : t.get(dS);
  return n || (e.startsWith(rf) ? "phone" : e.startsWith(dc) ? "email" : e.startsWith(Ta) ? "pages" : e.startsWith(uS) ? "elements" : "url");
}, Y1 = (e) => `${e.getName()} - #${e.getId()}`, e9 = "gs-trait-href", t9 = ce(function(t) {
  const { trait: n, value: r, disabled: o, labelAs: s, className: i } = t, a = n.component, l = we(), { isSelectingTarget: c, editor: d } = l, [, p] = W(0), [f, g] = W(""), [h, m] = W(""), [b, y] = W(""), [v, S] = W([]), w = Le(), C = d == null ? void 0 : d.Pages.getAll(), x = w.tScoped("traitManager.traits.labels"), E = () => p((ie) => ++ie), O = a.get(K1) ?? !1, T = q1(r, a), P = T === "pages" ? r == null ? void 0 : r.replace(Ta, "") : "", A = !!P && (d == null ? void 0 : d.Pages.get(P)), _ = A ? hu(A) : !1, M = ue(() => !_ || !A || !d ? [] : Q7({ page: A, component: a }), [d, A, _, a]), V = (ie) => {
    n.setValue(ie);
  }, N = (ie) => {
    a.set({ [K1]: ie }), E();
  }, H = (ie) => {
    g(""), m(""), y(""), V(""), a.set({ [dS]: ie }), E();
  }, K = (ie) => {
    V(ie), E();
  }, z = (ie, oe) => {
    qA(a, "id", (oe == null ? void 0 : oe.dataVariable) || ie), E();
  }, $ = (ie) => {
    ie && (V(ie.id), E());
  }, D = (ie) => {
    V(`${rf}${ie}`), y(ie);
  }, I = (ie) => {
    V(`${dc}${ie}${h ? `?${Kd}${h}` : ""}`), g(ie);
  }, U = (ie) => {
    V(`${dc}${f}${ie ? `?${Kd}${ie}` : ""}`), m(ie);
  }, ne = () => {
    l.setSelectingTarget(!c);
  }, Q = (ie) => {
    const oe = ie.replace(uS, ""), X = d == null ? void 0 : d.Components.componentsById[oe];
    return {
      id: ie,
      label: X ? Y1(X) : ie
    };
  };
  G(() => {
    var oe;
    const ie = [];
    if (O) {
      const X = ["path", "br", "b", "u", "i", "strike"], ee = (oe = d == null ? void 0 : d.Pages.getSelected()) == null ? void 0 : oe.getMainComponent();
      ee == null || ee.forEachChild((de) => {
        !de.is("comment") && !de.is("textnode") && !X.includes(de.get("tagName")) && ie.push({ id: `#${de.getId()}`, label: Y1(de) });
      });
    }
    S(ie);
  }, [d, O]), G(() => {
    let ie = () => {
    };
    const oe = () => {
      ie(), !(d != null && d.em.destroyed) && (d == null || d.stopCommand(_c));
    };
    return c && (ie = UC(oe), d == null || d.runCommand(_c, {
      onSelect: (X) => V(`#${X.getId()}`)
    })), oe;
  }, [d, c]), G(() => {
    if (!r)
      return;
    switch (q1(r, a)) {
      case "phone":
        y(r.replace(rf, ""));
        break;
      case "email": {
        const [oe, X = ""] = r.replace(dc, "").split("?");
        g(oe), m(X.replace(Kd, ""));
        break;
      }
    }
  }, [r]);
  const re = qo({ className: k(e9, i) });
  return /* @__PURE__ */ L("div", { ...re, children: [
    /* @__PURE__ */ u(mr, { ...t, as: s }),
    /* @__PURE__ */ u("div", { className: k(o && "gs-utl-pointer-events-none opacity-50"), children: /* @__PURE__ */ u(
      bo,
      {
        onChange: H,
        classNamePanel: "gs-utl-p-1",
        value: T,
        tabs: [
          {
            id: "url",
            label: /* @__PURE__ */ u(ae, { icon: Z.link, size: fe.s }),
            content: /* @__PURE__ */ u(
              at,
              {
                placeholder: "eg. https://google.com",
                value: r,
                label: "URL",
                onChange: V,
                size: "s",
                type: "url"
              }
            )
          },
          {
            id: "pages",
            label: /* @__PURE__ */ u(ae, { icon: Z.textBoxMultiple, size: fe.s }),
            content: /* @__PURE__ */ L(R, { gap: "s", col: !0, children: [
              /* @__PURE__ */ u(
                Ne,
                {
                  size: "s",
                  options: (C || []).map((ie) => ({
                    id: `${Ta}${ie.getId()}`,
                    icon: k0(ie),
                    label: ie.getName()
                  })),
                  value: r,
                  onChange: K,
                  label: "Page"
                }
              ),
              _ && /* @__PURE__ */ u(
                Ne,
                {
                  size: "s",
                  options: M,
                  value: J7(a, "id"),
                  onChange: z,
                  label: w.t("dataSources.collectionItem")
                }
              )
            ] })
          },
          {
            id: "elements",
            label: /* @__PURE__ */ u(ae, { icon: Z.viewDayOutline, size: fe.s }),
            content: /* @__PURE__ */ L(R, { gap: "s", col: !0, children: [
              /* @__PURE__ */ u(jo, { size: "s", children: "Element ID" }),
              /* @__PURE__ */ L(R, { gap: "xs", nowrap: !0, children: [
                O ? /* @__PURE__ */ u(
                  lS,
                  {
                    options: v,
                    onChange: $,
                    value: Q(r),
                    placeholder: w.t("selectList")
                  }
                ) : /* @__PURE__ */ u(
                  at,
                  {
                    size: "s",
                    placeholder: "eg. #my-element-in-page",
                    value: r,
                    onChange: V,
                    className: "gs-utl-flex-1"
                  }
                ),
                /* @__PURE__ */ u(
                  _t,
                  {
                    title: w.t("selectTarget"),
                    size: "m2",
                    active: c,
                    onClick: ne,
                    className: "gs-utl-h-[30px]",
                    children: /* @__PURE__ */ u(ae, { icon: Z.target, size: fe.sx })
                  }
                )
              ] }),
              /* @__PURE__ */ u(La, { value: O, onChange: N, label: x("showList") })
            ] })
          },
          {
            id: "email",
            label: /* @__PURE__ */ u(ae, { icon: Z.email, size: fe.s }),
            content: /* @__PURE__ */ L(R, { gap: "s", col: !0, children: [
              /* @__PURE__ */ u(
                at,
                {
                  placeholder: "eg. mail@gmail.com",
                  value: f,
                  onChange: I,
                  size: "s",
                  label: "Email",
                  type: "email"
                }
              ),
              /* @__PURE__ */ u(
                at,
                {
                  placeholder: "eg. My subject",
                  value: h,
                  onChange: U,
                  label: "Subject",
                  size: "s"
                }
              )
            ] })
          },
          {
            id: "phone",
            label: /* @__PURE__ */ u(ae, { icon: Z.phone, size: fe.s }),
            content: /* @__PURE__ */ u(
              at,
              {
                size: "s",
                type: "tel",
                label: "Phone",
                placeholder: "eg. +55123456789",
                value: b,
                onChange: D
              }
            )
          }
        ]
      }
    ) })
  ] });
});
function n9({ trait: e, value: t, disabled: n, label: r, labelAs: o }) {
  const [s, i] = W(), a = e.get("properties"), l = e.get("addItem"), c = e.get("labelItem"), d = t || [], p = d.findIndex((f) => f.id === (s == null ? void 0 : s.id));
  return /* @__PURE__ */ u(
    Or,
    {
      items: d,
      selected: p > -1 ? s : null,
      select: i,
      disabled: n,
      label: r,
      labelAs: o,
      add: () => {
        const f = d.length + 1, g = l ? l(f) : { id: `opt${f}`, label: `New option ${f}` };
        e.setValue([...d, g]);
      },
      move: (f, g) => {
        const h = e.getValue().filter((m) => m.id !== f.id);
        h.splice(g, 0, f), e.setValue(h);
      },
      remove: (f) => {
        const g = e.getValue().filter((h) => h.id !== f.id);
        e.setValue(g, { removed: f });
      },
      renderItem: (f) => c ? c(f) : f.label,
      children: /* @__PURE__ */ u(R, { space: "m", col: !0, children: !!s && a.map((f) => {
        const { name: g, getValue: h } = f, m = f.setValue, b = f.label || g, y = d[p];
        if (!y)
          return null;
        const v = y[g], S = h ? h(v) : v, w = (x) => {
          const E = { ...y };
          y[g] = m ? m(x, S) : x, e.setValue([...d], { item: y, previous: E }), g === "id" && i(y);
        };
        let C = /* @__PURE__ */ u(at, { label: b, value: S, onChange: w });
        switch (f.type) {
          case "select":
            C = /* @__PURE__ */ u(Ne, { label: b, options: f.options, value: S, onChange: w });
        }
        return /* @__PURE__ */ u(It, { children: C }, g);
      }) })
    }
  );
}
const r9 = "gs-trait-custom-type", o9 = ce(function({ trait: t, editor: n }) {
  const r = q(null), o = t.getType(), s = t.target, { Traits: i } = n, a = i.getType(o), l = !!(s && a);
  return G(() => {
    const c = r.current;
    if (a && c && s) {
      const d = new a({
        model: t,
        config: i.getConfig(),
        attributes: t.get("attributes")
      }), p = d.render().el;
      return c.appendChild(p), d.listenTo(s, "change", () => d.postUpdate()), () => {
        c.removeChild(p), d.removeView();
      };
    }
  }, [s, a, t]), l && /* @__PURE__ */ u("div", { className: r9, ref: r });
});
function s9(e, t) {
  const n = e.em.getEditor(), r = e.target;
  let o = !1;
  t === !0 ? o = !0 : gr(t) && it(t.enable) && (o = t.enable({
    trait: e,
    component: r,
    editor: n
  }));
  const s = e.getValue({ skipResolve: !0 }), i = r.collectionsStateMap, a = Do(s);
  return {
    hasDataResolverValue: a,
    dataResolverValue: a ? e.getValue() : void 0,
    enableDataValue: o,
    initialDataValue: s,
    handleDataValueChange: (l) => e.setValue(l),
    handleValueClear: () => {
      const l = e.getValue();
      e.setValue(""), e.setValue(l);
    },
    editor: n,
    additionalSources: i
  };
}
const i9 = ({ label: e, buttons: t }) => /* @__PURE__ */ L(R, { items: "center", nowrap: !0, full: !0, children: [
  /* @__PURE__ */ u(j, { grow: !0, children: e }),
  /* @__PURE__ */ u(R, { nowrap: !0, items: "center", justify: "end", gap: "x2s", children: t.map((n, r) => /* @__PURE__ */ u(_t, { ...n }, r)) })
] }), pS = (e) => Mr((e || "").replace(/-/g, " ")), a9 = (e, t) => ({
  size: "s",
  tip: e.get("tip"),
  type: e.getType(),
  value: e.getValue(),
  label: e.get("label") !== !1 && pS(e.getLabel({ locale: !0 })),
  placeholder: (t == null ? void 0 : t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`)) || e.get("placeholder") || "",
  onChange: (n, r) => e.setValue(n, { partial: r })
}), vr = (e, t, n) => {
  const r = s9(e, n.traitManagerDataConfig), o = Hy(r), { hasDataResolverValue: s, dataResolverValue: i } = r, a = a9(e, t);
  return {
    ...a,
    value: i ?? a.value,
    disabled: s,
    labelAs: o.length ? "span" : void 0,
    label: /* @__PURE__ */ u(i9, { label: a.label, buttons: o })
  };
}, Z1 = (e, t, n) => vr(e, t, n), l9 = (e, t, n) => vr(e, t, n), c9 = (e, t, n) => {
  const r = Do(e.getValue({ skipResolve: !0 })), o = vr(e, t, n), s = {
    min: e.get("min"),
    max: e.get("max"),
    step: e.get("step"),
    pan: !r,
    units: r ? [] : e.get("units"),
    onChange: (i, a) => {
      const l = a || isNaN(parseFloat(i)) ? i : parseFloat(i);
      e.setValue(l, { partial: a });
    }
  };
  return { ...o, ...s };
}, fS = (e, t, n) => {
  const r = e.get("labelToTitle"), o = Do(e.getValue({ skipResolve: !0 })), s = vr(e, t, n), i = {
    options: e.getOptions().map((a) => {
      const l = a.labelReact || a.name || a.label || a.value;
      return ut(a) ? { id: a, label: a } : {
        id: a.id || a.value,
        title: r ? l : a.title,
        icon: a.icon,
        label: r ? "" : l
      };
    }),
    onChange: (a) => e.setValue(a),
    emptyState: o && e.getValue() || void 0,
    hideCaret: o
  };
  return { ...s, ...i };
}, u9 = (e, t, n) => {
  const { options: r, onChange: o } = fS(e, t, n), s = { options: r, onChange: o };
  return { ...vr(e, t, n), ...s };
}, d9 = (e, t, n) => {
  const r = e.get("typeProps") || {}, o = Do(e.getValue({ skipResolve: !0 }));
  return {
    ...vr(e, t, n),
    isContain: !0,
    hideButton: o,
    btnLabel: e.get("text"),
    onOpen() {
      if (o)
        return;
      const i = t == null ? void 0 : t.Assets;
      i == null || i.open({
        select(a) {
          e.setValue(a.getSrc()), i.close();
        }
      });
    },
    ...r
  };
}, p9 = (e) => ({
  children: pS(e.getLabel() || e.get("text") || e.get("labelButton")),
  onClick: () => {
    const t = e.em.Editor, n = e.get("command");
    ut(n) ? t.runCommand(n) : n == null || n(t, e);
  },
  full: !0
}), f9 = (e, t, n) => {
  const r = vr(e, t, n), s = {
    value: !!(r.disabled ? r.value : e.getValue({ useType: !0 })),
    onChange: (i) => e.setValue(i)
  };
  return {
    ...r,
    ...s
  };
}, g9 = (e, t, n) => {
  const r = vr(e, t, n), o = e.get("typeProps") || {}, s = Do(e.getValue({ skipResolve: !0 }));
  return {
    language: "css",
    ...o,
    ...r,
    formatOnMount: !s,
    onChange: (i) => e.setValue(i)
  };
}, h9 = (e, t, n) => ({
  ...vr(e, t, n),
  trait: e
}), m9 = (e, t, n) => ({
  ...vr(e, t, n),
  trait: e
}), b9 = (e, t, n) => ({
  ...vr(e, t, n),
  trait: e,
  editor: t
});
function v9(e, t, n = {}) {
  var i;
  const r = e.get("visible"), o = e.getType(), s = { traitManagerDataConfig: n.traitManagerDataConfig };
  if (it(r) && r({ component: e.target, trait: e }) === !1)
    return null;
  switch (o) {
    case "text":
      return /* @__PURE__ */ u(at, { ...Z1(e, t, s) });
    case "select":
      return /* @__PURE__ */ u(Ne, { ...fS(e, t, s) });
    case "number":
      return /* @__PURE__ */ u(je, { ...c9(e, t, s) });
    case "color":
      return /* @__PURE__ */ u(go, { ...l9(e, t, s) });
    case "checkbox":
      return /* @__PURE__ */ u(La, { ...f9(e, t, s) });
    case "button":
      return /* @__PURE__ */ u(Xe, { ...p9(e) });
    case "radio":
      return /* @__PURE__ */ u(sn, { ...u9(e, t, s) });
    case "code":
      return /* @__PURE__ */ u(fo, { ...g9(e, t, s), ...n }, ((i = t == null ? void 0 : t.getSelected()) == null ? void 0 : i.getId()) || "");
    case "image":
    case "file":
      return /* @__PURE__ */ u(Na, { ...d9(e, t, s) });
    case "stack":
      return /* @__PURE__ */ u(n9, { ...h9(e, t, s) });
    case "href":
      return /* @__PURE__ */ u(t9, { ...m9(e, t, s) });
    case "custom":
      return /* @__PURE__ */ u(X7, { ...b9(e, t, s) });
    default:
      return !!t.Traits.getType(o) ? /* @__PURE__ */ u(o9, { editor: t, trait: e }) : /* @__PURE__ */ u(at, { ...Z1(e, t, s) });
  }
}
const of = "gs-trait-manager", X1 = ({
  trait: e,
  isDarkTheme: t,
  traitManagerDataConfig: n
}) => /* @__PURE__ */ u(j, { className: Y(`${of}-field gs-utl-mb-2 gs-utl-w-full`), children: v9(e, e.em.getEditor(), { isDarkTheme: t, traitManagerDataConfig: n }) });
function y9({ traits: e, className: t }) {
  var d, p;
  const n = rr(), { isDarkTheme: r } = En(), s = (d = we().sdkOptions.dataSources) == null ? void 0 : d.traitManager, i = n.Traits.getTraitsByCategory(e), a = (p = i.find((f) => !f.category)) == null ? void 0 : p.items, l = i.filter((f) => f.category), c = Y("gs-utl-text-center");
  return /* @__PURE__ */ u(R, { className: Y(of, t), col: !0, children: n.getSelected() ? e.length ? /* @__PURE__ */ L(pe, { children: [
    a == null ? void 0 : a.map((f) => /* @__PURE__ */ u(
      X1,
      {
        trait: f,
        isDarkTheme: r,
        traitManagerDataConfig: s
      },
      f.id
    )),
    l.map(({ category: f, items: g }, h) => /* @__PURE__ */ u(
      js,
      {
        open: !!(f != null && f.get("open")),
        onChange: ({ open: m }) => f == null ? void 0 : f.set({ open: m }),
        handler: f == null ? void 0 : f.getLabel(),
        handlerIcon: f == null ? void 0 : f.get("icon"),
        classNameContent: "gs-utl-p-2",
        classNameWrap: `${of}-category -gs-utl-mx-2`,
        className: (m) => Y(
          Of.itemList({
            index: h + (a ? 1 : 0),
            open: m,
            length: l.length
          })
        ),
        children: g.map((m) => /* @__PURE__ */ u(
          X1,
          {
            trait: m,
            isDarkTheme: r,
            traitManagerDataConfig: s
          },
          m.id
        ))
      },
      f == null ? void 0 : f.id
    ))
  ] }) : /* @__PURE__ */ u(j, { className: c, children: "No properties available" }) : /* @__PURE__ */ u(j, { className: c, children: n.t("traitManager.empty") }) });
}
const sf = ce(y9), w9 = "gs-panel-properties", S9 = Pe(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ u(
      br,
      {
        className: k(w9, "gs-utl-overflow-auto gs-utl-h-full", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ u(Dp, { children: (r) => /* @__PURE__ */ u(sf, { ...r }) })
      }
    );
  })
), C9 = async ({ html: e = "", css: t = "", el: n }) => {
  const r = `<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`, o = {};
  if (document.body.attachShadow) {
    const s = n.shadowRoot || n.attachShadow({ mode: "open" });
    s.innerHTML = r;
  }
  return o;
}, x9 = ce(function({ rule: t, onSelect: n, onRemove: r, className: o }) {
  const s = q(null), a = we().editor, l = Le(), c = t.getDevice(), d = t.getState(), { isDarkTheme: p } = En(), [f, g] = W(t.toCSS({ allowEmpty: !0 })), [h, m] = W(f), b = t.selectorsToString(), y = () => {
    a.select(), setTimeout(() => a.Selectors.select(t)), n == null || n();
  }, v = () => {
    a.Css.remove(t), r == null || r();
  }, S = () => {
    if (h) {
      const w = a.Parser.parseCss(h)[0];
      w && (t.setStyle(w.style), g(h));
    }
  };
  return G(() => {
    if (s.current) {
      const w = s.current;
      C9({
        el: w,
        html: '<div class="prv-rule">Preview</div>',
        css: `
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${f}
        `
      });
    }
  }, [s, f]), /* @__PURE__ */ u(Pn, { padding: !1, className: te("overflow-hidden max-w-full group", o), children: /* @__PURE__ */ L(R, { col: !0, space: "xs", children: [
    /* @__PURE__ */ u(R, { className: te("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"), justify: "center", items: "center", children: /* @__PURE__ */ u("div", { ref: s, className: te("relative flex items-center justify-center") }) }),
    /* @__PURE__ */ L(R, { className: te("gjs-p-1 w-full"), col: !0, space: "s", children: [
      /* @__PURE__ */ L(R, { nowrap: !0, items: "center", space: "xs", full: !0, children: [
        /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u("pre", { className: te("text-xs bg-white/10", F.txt, le.rnd, Ve.xyS), children: b }) }),
        !!c && c.getWidthMedia() && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          Kt,
          {
            title: /* @__PURE__ */ L(pe, { children: [
              l.t("deviceManager.device"),
              ": ",
              /* @__PURE__ */ u("b", { children: c.getName() })
            ] }),
            children: /* @__PURE__ */ u(ae, { icon: Z.cellphoneLink, size: fe.sx })
          }
        ) }),
        !!d && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
          Kt,
          {
            title: /* @__PURE__ */ L(pe, { children: [
              l.t("selectorManager.state"),
              ": ",
              /* @__PURE__ */ u("b", { children: d.getLabel() })
            ] }),
            children: /* @__PURE__ */ u(ae, { icon: Z.flare, size: fe.sx })
          }
        ) })
      ] }),
      /* @__PURE__ */ L(R, { nowrap: !0, className: te(De.txtEllips), space: "s", children: [
        /* @__PURE__ */ u(j, { className: te("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"), grow: !0, children: /* @__PURE__ */ u(Xe, { onClick: y, className: te("text-sm gjs-mr-auto"), size: "m2", full: !0, children: l.t("select") }) }),
        /* @__PURE__ */ u(
          Ur,
          {
            overlay: !0,
            title: !1,
            padding: !1,
            buttonAs: "span",
            handler: /* @__PURE__ */ u(_t, { title: l.t("selectorManager.showCSS"), children: /* @__PURE__ */ u(ae, { icon: Z.codeBraces, size: fe.sx }) }),
            children: ({ close: w }) => /* @__PURE__ */ L(R, { className: te("relative w-80 h-48"), col: !0, children: [
              /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
                fo,
                {
                  defaultValue: wg(f),
                  onChange: m,
                  language: "css",
                  padding: 5,
                  isDarkTheme: p,
                  clean: !0
                }
              ) }),
              /* @__PURE__ */ u(
                Xe,
                {
                  className: te("absolute right-2 bottom-2 text-sm"),
                  variant: "pr",
                  size: "m2",
                  onClick: () => {
                    S(), w();
                  },
                  children: l.t("update")
                }
              )
            ] })
          }
        ),
        /* @__PURE__ */ u(Au, { onConfirm: v, className: te("w-48"), children: /* @__PURE__ */ u(_t, { title: l.t("selectorManager.deleteStyle"), children: /* @__PURE__ */ u(ae, { icon: Z.delete, size: fe.sx }) }) })
      ] })
    ] })
  ] }, t.cid) });
}), P9 = ce(function() {
  const [t] = ku(), n = Wr(), r = Le(), [o, s] = W(""), [i, a] = W(""), c = we().editor, [d, p] = W(c.Css.getRules("")), f = c.Devices.getDevices().map((m) => ({
    id: m.id,
    label: m.getName()
  })), g = d.filter((m) => {
    var b;
    return !(o && !Qs(m.selectorsToString(), o) || i && ((b = m.getDevice()) == null ? void 0 : b.id) !== i);
  }), h = () => p(c.Css.getRules(""));
  return /* @__PURE__ */ L(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ L(R, { items: "center", space: "m", children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        at,
        {
          size: "s",
          type: "search",
          value: o,
          onInput: s,
          placeholder: `${r.t("selectorManager.searchStyle")}...`
        }
      ) }),
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        Ne,
        {
          includeEmpty: !0,
          size: "s",
          value: i,
          options: f,
          onChange: a,
          emptyState: r.t("deviceManager.allDevices"),
          handlerSelected: (m) => /* @__PURE__ */ L(R, { space: "s", items: "center", children: [
            /* @__PURE__ */ u(ae, { icon: Z.cellphoneLink, size: fe.sx }),
            /* @__PURE__ */ u("span", { children: m.label })
          ] })
        }
      ) })
    ] }),
    /* @__PURE__ */ u(j, { className: te("gs-utl-h-[75vh] w-full overflow-auto"), children: g.length ? /* @__PURE__ */ u(
      pl,
      {
        data: g,
        listClassName: te("grid grid-cols-4 gap-2 gjs-pr-2"),
        itemContent: (m, b) => /* @__PURE__ */ u(x9, { rule: b, onRemove: h, onSelect: n.close }, b.cid)
      },
      t
    ) : /* @__PURE__ */ u(R, { justify: "center", children: r.t("modals.styleCatalog.noStyles") }) })
  ] });
});
function gS({
  className: e,
  value: t,
  active: n,
  unstyled: r,
  activable: o,
  onChange: s,
  onActive: i,
  ...a
}) {
  const [l, c] = W(n);
  G(() => {
    c(n);
  }, [n]);
  const d = (f) => {
    i == null || i(f), c(f);
  }, p = (f) => {
    s(f), d(!1);
  };
  return /* @__PURE__ */ u("div", { className: Y("truncate", e), ...a, onDoubleClick: () => o && d(!0), children: l ? /* @__PURE__ */ u(Wg, { className: Y(r && De.noFocusOut), value: t, onChange: p }) : /* @__PURE__ */ u(pe, { children: t }) });
}
const E9 = ce(function({ selector: t, className: n, removable: r, toggleable: o }) {
  const s = Le(), i = we(), [a, l] = W(), [c, d] = W(t.getActive()), p = i.editor, { Selectors: f } = p, g = t.getLabel(), h = /* @__PURE__ */ u(ae, { icon: Z.dotsVertical, size: fe.sx }), m = () => {
    f.removeSelected(t);
  }, b = (x) => {
    a && f.rename(a, x), l(void 0);
  }, y = () => {
    f.duplicateSelected(t);
  }, v = () => {
    const x = !t.getActive();
    d(x), t.setActive(x);
  }, w = [
    { id: "rename", label: s.t("rename"), action: () => l(t) },
    { id: "duplicate", label: s.t("duplicate"), action: y },
    r && { id: "delete", label: s.t("delete"), action: m },
    o && { id: "active", label: s.t(c ? "disable" : "enable"), action: v }
  ].filter(Boolean), C = (x, E) => (O) => {
    x(), it(E) && E(O);
  };
  return /* @__PURE__ */ u(Vt, { className: te(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative", F.sel, n]), s: "s", children: /* @__PURE__ */ L(R, { items: "center", children: [
    /* @__PURE__ */ u(j, { className: te("gjs-mr-4", !a && !c && "opacity-50 line-through"), children: /* @__PURE__ */ u(gS, { value: g, onChange: b, active: !!a, unstyled: !0 }) }),
    /* @__PURE__ */ u(R, { className: te("absolute h-full right-0 transition-opacity", F.sel, F.selBr, le.bl), children: /* @__PURE__ */ u(Ur, { handler: h, title: !1, padding: !1, fixed: !0, overlay: !0, children: ({ close: x }) => w.map((E) => /* @__PURE__ */ u(
      nl,
      {
        className: te(F.txt),
        label: E.label,
        action: C(x, E.action)
      },
      E.id
    )) }) })
  ] }) });
}), T9 = (e) => (e == null ? void 0 : e.get("groups")) || [], O9 = /^\.[a-zA-Z_][\w-]*$/;
function _9(e, t = {}) {
  const n = e.Css.getAll().filter(
    (r) => T9(r).some((o) => o.startsWith(Rs.globalStyles))
  );
  return t.withSingleClass ? n.filter((r) => O9.test(r.getSelectorsString())) : n;
}
const A9 = (e) => {
  const { Selectors: t } = e, n = t.getAll({ array: !0 });
  return t.getSelectedAll().reduce((s, i) => {
    const a = s.indexOf(i);
    return a >= 0 && s.splice(a, 1), s;
  }, n).filter((s) => s.isClass());
}, L9 = (e, t) => {
  const { sdkGlobalStylesConfig: n } = t, { i18nStore: r } = t.store, s = (n != null && n.showInClassSelectors ? _9(e, { withSingleClass: !0 }) : []).map((a) => {
    const l = a.getSelectorsString().replace(".", "");
    return {
      id: l,
      label: `${r.t("globalStyleManager.globalStyles")}: ${l}`
    };
  });
  return [...A9(e).map((a) => ({
    id: a,
    label: a.getLabel()
  })), ...s];
}, N9 = (e) => {
  var r, o;
  let t = (r = e == null ? void 0 : e.selectorsToString) == null ? void 0 : r.call(e);
  const n = (o = e == null ? void 0 : e.getAtRule) == null ? void 0 : o.call(e);
  return t && n && (t = `${n} {
	${t}
}`), t;
}, Fn = "gs-cmp-selector-manager", qd = {}, hS = ce(function(t) {
  var de, me, Ee;
  const { selectedState: n, states: r, setState: o, styleCatalog: s, stateSelector: i } = t, a = we(), [l, c] = W(!1), [d, p] = W([]), [f, g] = W(qd), { toggleCssPanel: h, isCssPanelActive: m, editor: b, store: y } = we(), { i18nStore: v, modalStore: S } = y, w = b == null ? void 0 : b.getSelected(), C = b == null ? void 0 : b.Styles.getSelected();
  if (G(() => {
    if (b && C && a) {
      const Se = setTimeout(() => {
        let Fe = qd;
        const tt = w == null ? void 0 : w.get("selectorManager");
        w && it(tt) && (Fe = tt({ editor: b, component: w })), g(Fe || qd), p(L9(b, a));
      });
      return () => clearTimeout(Se);
    }
  }, [w, b, C, a]), !b)
    return null;
  const { Selectors: x } = b, E = f.disableClasses, O = f.disableComponent, T = E && O, P = x.getComponentFirst() && !O, A = x.getSelectedAll(), _ = b.getSelectedAll(), M = r.map((Se) => ({ id: Se.getName(), label: Se.getLabel() })), V = b.getModel(), N = (de = C == null ? void 0 : C.getDevice) == null ? void 0 : de.call(C), H = (me = C == null ? void 0 : C.getState) == null ? void 0 : me.call(C), K = k("gs-utl-overflow-hidden", le.b, le.rnd, F.br), z = k(F.bA), $ = k("gs-utl-flex gs-utl-h-full gs-utl-cursor-pointer gs-utl-p-2", le.br, F.br), D = `${F.bgA}`, I = N9(C), U = A.length > 0, ne = _.length > 0, Q = U || ne, re = P && ne || !P && !U, ie = re ? "Components" : "Selectors", oe = (Se) => v.t(`selectorManager.${Se}`), X = v.t("modals.styleCatalog.title"), ee = () => S.open({ title: X, content: /* @__PURE__ */ u(P9, {}) });
  return /* @__PURE__ */ L(R, { className: Fn, gap: "s", col: !0, full: !0, children: [
    /* @__PURE__ */ L(R, { className: k(`${Fn}__head`), items: "center", justify: "between", gap: "m", children: [
      /* @__PURE__ */ L(R, { className: k(`${Fn}__head-start`), items: "center", gap: "s", children: [
        /* @__PURE__ */ u(j, { className: k(`${Fn}__head-title`), children: oe("selection") }),
        s !== !1 && /* @__PURE__ */ u(j, { className: k(`${Fn}__style-catalog`), children: /* @__PURE__ */ u(Kt, { className: "gs-utl-cursor-pointer", onClick: ee, title: X, children: /* @__PURE__ */ u(ae, { icon: Z.paletteSwatch, size: fe.s }) }) })
      ] }),
      !!C && i !== !1 && !T && /* @__PURE__ */ u(j, { className: `${Fn}__head-end`, children: /* @__PURE__ */ u(
        Ne,
        {
          size: "s",
          value: n,
          options: M,
          includeEmpty: !0,
          onChange: o,
          emptyState: `- ${oe("state")} -`,
          className: k(n && F.bA)
        }
      ) })
    ] }),
    Q && !T ? /* @__PURE__ */ L(pe, { children: [
      !E && /* @__PURE__ */ L(
        R,
        {
          className: k(`${Fn}__field-selectors`, K, !re && z),
          items: "stretch",
          gap: "xs",
          children: [
            /* @__PURE__ */ u(
              Kt,
              {
                title: oe(U ? "applyOnSelector" : "noSelectors"),
                className: k($, !re && D),
                onClick: () => U && x.setComponentFirst(!1),
                children: /* @__PURE__ */ u(R, { className: "gs-utl-h-full", items: "center", children: /* @__PURE__ */ u(ae, { icon: Z.tag, size: fe.sx }) })
              }
            ),
            /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(R, { className: "gs-utl-h-full gs-utl-pr-1", items: "center", children: l ? /* @__PURE__ */ u(
              lS,
              {
                autoFocus: !0,
                open: !0,
                hideCaret: !0,
                border: !1,
                options: d,
                allowNew: oe("addNewSelector"),
                onBlur: () => setTimeout(() => c(!1), 100),
                onChange: (Se) => {
                  Se && (x.addSelected(Se.id || Se.label), c(!1));
                }
              }
            ) : /* @__PURE__ */ L(pe, { children: [
              ne && /* @__PURE__ */ u(
                _t,
                {
                  title: oe("addNewSelector"),
                  variant: "out",
                  size: "xs",
                  className: "gs-utl-p-0.5",
                  onClick: () => c(!0),
                  block: !0,
                  children: /* @__PURE__ */ u(ae, { icon: Z.plus, size: fe.sx })
                }
              ),
              A.map((Se) => /* @__PURE__ */ u(
                E9,
                {
                  selector: Se,
                  removable: ne,
                  toggleable: ne && A.filter((Fe) => Fe.getActive() || Fe === Se).length > 1
                },
                Se.toString()
              ))
            ] }) }) })
          ]
        }
      ),
      !O && /* @__PURE__ */ L(
        R,
        {
          className: k(`${Fn}__field-components`, K, re && z),
          items: "stretch",
          gap: "xs",
          children: [
            /* @__PURE__ */ u(
              Kt,
              {
                title: oe(ne ? "applyOnComponents" : "noComponents"),
                onClick: () => ne && x.setComponentFirst(!0),
                className: k($, re && D),
                children: /* @__PURE__ */ u(R, { className: "gs-utl-h-full", items: "center", children: /* @__PURE__ */ u(ae, { icon: Z.targetVariant, size: fe.sx }) })
              }
            ),
            /* @__PURE__ */ u(j, { grow: !0, className: "gs-utl-py-0.5", children: /* @__PURE__ */ u(R, { className: "gs-utl-h-full gs-utl-pr-1", items: "center", children: _.map((Se) => /* @__PURE__ */ u(
              Vt,
              {
                s: "s",
                className: k("gs-utl-ml-1 gs-utl-my-0.5 gs-utl-cursor-default", F.cmp),
                onPointerEnter: () => V.setHovered(Se),
                onPointerOut: () => V.setHovered(),
                label: Se.getName()
              },
              Se.getId()
            )) }) })
          ]
        }
      ),
      /* @__PURE__ */ L(R, { className: `${Fn}__actions`, gap: "s", items: "center", justify: "between", children: [
        /* @__PURE__ */ u(
          Kt,
          {
            title: /* @__PURE__ */ L(pe, { children: [
              /* @__PURE__ */ u("div", { children: oe("selected") }),
              /* @__PURE__ */ u(
                "pre",
                {
                  className: k(
                    "gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",
                    le.rnd,
                    Ve.xyS
                  ),
                  children: I
                }
              ),
              /* @__PURE__ */ u("div", { className: "gs-utl-text-xs gs-utl-mt-1.5", children: oe("currentSelection") })
            ] }),
            children: /* @__PURE__ */ u(Vt, { className: k(le.b, le.rnd, F.br), s: "xs", nopad: !0, block: !0, children: /* @__PURE__ */ u(ae, { icon: Z.target, size: fe.sx }) })
          }
        ),
        /* @__PURE__ */ u(j, { className: "gs-utl-text-sm", children: /* @__PURE__ */ u(Vt, { className: k(le.b, le.rnd, F.br), s: "xs", nopad: !0, children: /* @__PURE__ */ L(R, { space: "xs", items: "center", nowrap: !0, children: [
          !!N && N.getWidthMedia() && /* @__PURE__ */ L(pe, { children: [
            /* @__PURE__ */ u(
              Kt,
              {
                title: /* @__PURE__ */ L(pe, { children: [
                  oe("device"),
                  ": ",
                  /* @__PURE__ */ u("b", { children: N.getName() })
                ] }),
                children: /* @__PURE__ */ u(ae, { icon: Z.cellphoneLink, size: fe.sx })
              }
            ),
            /* @__PURE__ */ u(j, { className: "gs-utl-opacity-30", children: "|" })
          ] }),
          /* @__PURE__ */ u(
            Kt,
            {
              title: /* @__PURE__ */ L(pe, { children: [
                oe("target"),
                ": ",
                /* @__PURE__ */ u("b", { children: ie }),
                /* @__PURE__ */ L("span", { className: "gs-utl-text-xs gs-utl-opacity-75", children: [
                  " ",
                  (Ee = C == null ? void 0 : C.selectorsToString) == null ? void 0 : Ee.call(C, { skipState: 1 })
                ] })
              ] }),
              children: /* @__PURE__ */ u(ae, { icon: re ? Z.targetVariant : Z.tag, size: fe.sx })
            }
          ),
          !!H && /* @__PURE__ */ L(pe, { children: [
            /* @__PURE__ */ u(j, { className: "gs-utl-opacity-30", children: "|" }),
            /* @__PURE__ */ u(
              Kt,
              {
                title: /* @__PURE__ */ L(pe, { children: [
                  oe("state"),
                  ": ",
                  /* @__PURE__ */ u("b", { children: H.getLabel() })
                ] }),
                children: /* @__PURE__ */ u(ae, { icon: Z.flare, size: fe.sx })
              }
            )
          ] })
        ] }) }) }),
        /* @__PURE__ */ u(
          _t,
          {
            title: v.t("toggleCss"),
            onClick: h,
            active: m,
            size: "s",
            children: /* @__PURE__ */ u(ae, { icon: Z.codeBraces, size: fe.sx })
          }
        )
      ] })
    ] }) : /* @__PURE__ */ L(R, { className: k(`${Fn}__empty-state`, "gs-utl-text-sm gs-utl-leading-6 gs-utl-my-4"), col: !0, children: [
      /* @__PURE__ */ u(j, { className: `${Fn}__empty-state-title`, children: oe("noSelecton") }),
      /* @__PURE__ */ L("ul", { className: k(`${Fn}__empty-state-list`, "gs-utl-list-disc gs-utl-pl-5 gs-utl-mt-2"), children: [
        /* @__PURE__ */ u("li", { children: oe("selectFromCanvas") }),
        /* @__PURE__ */ u("li", { children: oe("selectFromList") })
      ] })
    ] })
  ] });
}), k9 = "gs-panel-selectors", M9 = Pe(
  ce(function({
    className: t,
    styleCatalog: n,
    stateSelector: r,
    ...o
  }) {
    return /* @__PURE__ */ u(br, { className: k(k9, t), ...o, children: /* @__PURE__ */ u(Ey, { children: (s) => /* @__PURE__ */ u(hS, { ...s, styleCatalog: n, stateSelector: r }) }) });
  })
), $9 = Yt(function({ children: t, className: n, content: r, ...o }, s) {
  return /* @__PURE__ */ u("div", { className: k(te("gs-design-manager-tab"), n), ref: s, ...o, children: t });
}), J1 = "gs-cmp-sidebar-right", Q1 = "gs-cmp-traits-provider", Yd = k("gs-utl-overflow-y-auto gs-utl-overflow-x-hidden gs-utl-max-w-full");
function R9() {
  var v, S, w;
  const {
    isCssPanelActive: e,
    selectedDesignerTab: t,
    showSelectors: n,
    setSelectedDesignerTab: r,
    sdkProps: o,
    sdkOptions: s,
    isProjectTypeEmail: i
  } = we(), a = Le(), l = k(e && "gs-utl-hidden"), d = (((v = wn(o.children, $9)) == null ? void 0 : v.filter(Boolean)) || []).map(({ props: C }, x) => ({
    id: C.id,
    label: C.label,
    content: /* @__PURE__ */ u(Is, { children: C.children }),
    order: C.order ?? 2 + x + 1
  })), p = (S = s.designPanel) == null ? void 0 : S.propsInStyles, f = (w = s.designPanel) == null ? void 0 : w.hideTabs, g = p === !0 || i && p !== !1, h = f === !0 || i && f !== !1, m = a.t("traitManager.panelLabel"), y = [
    {
      id: "style",
      label: a.t("styleManager.panelLabel"),
      order: 1,
      content: /* @__PURE__ */ L(R, { col: !0, full: !0, children: [
        !!n && /* @__PURE__ */ u(j, { className: k("gs-cmp-selectors-provider", Ve.s, le.bb, F.br), children: /* @__PURE__ */ u(Ey, { children: (C) => /* @__PURE__ */ u(hS, { ...C }) }) }),
        g && /* @__PURE__ */ u(j, { className: k(Q1, Yd), children: /* @__PURE__ */ u(js, { handler: m, className: lw(!1), sticky: !0, open: !0, children: /* @__PURE__ */ u(Dp, { children: (C) => /* @__PURE__ */ u(sf, { ...C, className: k("gs-utl-p-2", F.br, le.bb) }) }) }) }),
        /* @__PURE__ */ u(j, { className: k("gs-cmp-styles-provider", Yd), grow: !0, children: /* @__PURE__ */ u(Ty, { children: (C) => /* @__PURE__ */ L(pe, { children: [
          e && /* @__PURE__ */ u(Oy, {}),
          /* @__PURE__ */ u(dw, { className: l, ...C })
        ] }) }) })
      ] })
    },
    !g && {
      id: "props",
      label: m,
      order: 2,
      content: /* @__PURE__ */ u(R, { className: Q1, col: !0, full: !0, children: /* @__PURE__ */ u(j, { className: k(Ve.s, Yd), children: /* @__PURE__ */ u(Dp, { children: (C) => /* @__PURE__ */ u(sf, { ...C }) }) }) })
    },
    ...d
  ].filter(Boolean).sort((C, x) => C.order - x.order);
  return /* @__PURE__ */ u(R, { className: J1, col: !0, full: !0, nowrap: !0, children: /* @__PURE__ */ u(
    bo,
    {
      value: t,
      onChange: r,
      tabs: y,
      className: k(`${J1}__tabs`, h && "gs-utl-hidden")
    }
  ) });
}
const mS = ce(R9), I9 = "gs-panel-sidebar-tabs", j9 = Pe(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ u(br, { className: k(I9, "gs-utl-h-full", t), ...n, children: /* @__PURE__ */ u(mS, {}) });
  })
), V9 = "gs-panel-styles", D9 = Pe(
  ce(function({ className: t, ...n }) {
    const { isCssPanelActive: r } = we(), o = k(r && " gs-utl-hidden");
    return /* @__PURE__ */ u(
      br,
      {
        className: k(V9, "gs-utl-overflow-auto gs-utl-h-full", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ u(Ty, { children: (s) => /* @__PURE__ */ L(pe, { children: [
          r && /* @__PURE__ */ u(Oy, {}),
          /* @__PURE__ */ u(dw, { className: o, ...s })
        ] }) })
      }
    );
  })
), H9 = "gs-panel-templates", B9 = Pe(
  ce(function({
    className: t,
    templates: n,
    content: r,
    onSelect: o,
    ...s
  }) {
    const i = U0(), { projectTypeFilter: a } = i;
    let l = n ?? i.templates;
    return l = l == null ? void 0 : l.map((c) => ({ ...c, isTemplate: !0 })), G(() => {
      n || i.loadTemplates();
    }, [n]), /* @__PURE__ */ u(
      br,
      {
        className: k(H9, "gs-utl-overflow-hidden gs-utl-h-full", t),
        classNameAccordion: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: k("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...s,
        children: /* @__PURE__ */ u(R, { className: te("relative gs-utl-h-full"), nowrap: !0, col: !0, space: "m", children: /* @__PURE__ */ u(R, { className: te("gs-utl-h-[75vh] gs-utl-flex-grow"), nowrap: !0, col: !0, space: "m", children: /* @__PURE__ */ u(
          Iw,
          {
            templates: l,
            projectType: ke[a],
            content: r,
            onSelect: o,
            skipProjectNamePopover: !0
          }
        ) }) })
      }
    );
  })
), F9 = "gs-cmp-row", z9 = Pe(function({ className: t, children: n, full: r, ...o }) {
  return /* @__PURE__ */ u(Hn, { className: k(F9, F.bg, "gs-utl-flex", r && "gs-utl-w-full", t), ...o, children: Dt(n) });
}), U9 = "gs-cmp-select-field", W9 = Pe(
  ce(function({
    className: t,
    style: n,
    label: r,
    name: o,
    value: s,
    options: i,
    size: a,
    onChange: l,
    required: c,
    disabled: d,
    emptyState: p,
    editorEvents: f
  }) {
    const { editor: g } = we(), [h, m] = W(() => ({
      required: c,
      disabled: d,
      style: n,
      className: t,
      label: r,
      name: o,
      value: s,
      options: i,
      size: a,
      emptyState: p
    })), b = (y) => {
      l({
        value: y,
        editor: g,
        state: h,
        setState: (v) => m((S) => ({ ...S, ...v }))
      });
    };
    return $i({
      editor: g,
      editorEvents: f,
      localState: h,
      setLocalState: m
    }), /* @__PURE__ */ u(
      Ne,
      {
        classNameContainer: k(U9, h.className),
        style: h.style,
        label: h.label,
        name: h.name,
        value: h.value ?? "",
        options: h.options ?? [],
        size: h.size,
        required: h.required,
        disabled: h.disabled,
        emptyState: h.emptyState,
        onChange: b
      }
    );
  })
), G9 = "gs-cmp-select-field", K9 = Pe(
  ce(function({
    className: t,
    style: n,
    label: r,
    name: o,
    value: s,
    size: i,
    onChange: a,
    required: l,
    disabled: c,
    emptyState: d,
    editorEvents: p
  }) {
    const { editor: f } = we(), [g, h] = W(() => ({
      required: l,
      disabled: c,
      style: n,
      className: t,
      label: r,
      name: o,
      value: s,
      size: i,
      emptyState: d
    })), m = (b) => {
      a({
        value: b,
        editor: f,
        state: g,
        setState: (y) => h((v) => ({ ...v, ...y }))
      });
    };
    return $i({
      editor: f,
      editorEvents: p,
      localState: g,
      setLocalState: h
    }), /* @__PURE__ */ u(
      Pu,
      {
        classNameContainer: k(G9, g.className),
        style: g.style,
        label: g.label,
        name: g.name,
        value: g.value ?? "",
        size: g.size,
        required: g.required,
        disabled: g.disabled,
        emptyState: g.emptyState,
        onChange: m
      }
    );
  })
), q9 = "gs-sidebar-bottom", Y9 = Pe(
  ce(function({ children: t, className: n, style: r, height: o, ...s }) {
    const { isInPreview: i, isBottomSidebarOpen: a } = we(), l = o ?? 35, c = ue(
      () => ({
        height: l,
        marginBottom: i || !a ? `-${l}px` : 0,
        ...r
      }),
      [i, a, r]
    );
    return /* @__PURE__ */ u(
      Hn,
      {
        className: k(q9, "gs-utl-flex gs-utl-transition-spacing", le.bt, F.br, n),
        style: c,
        ...s,
        children: t ? Dt(t) : void 0
      }
    );
  })
), Z9 = ce(function(t) {
  var S;
  const { leftSidebarSize: n, setLeftSidebarSize: r, editor: o, isInPreview: s, isLeftSidebarOpen: i, sdkProps: a, showPages: l } = we(), c = a.children, d = ((S = t.style) == null ? void 0 : S.width) ?? t.width, p = d ?? n, f = t.resizable === !1, g = k(t.className, "gs-utl-h-full gs-utl-transition-spacing", le.br, F.br), h = k("gs-utl-w-full", le.bb, F.br), m = k("gs-utl-w-full gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"), b = ue(
    () => ({
      marginLeft: s || !i ? `-${p}px` : 0,
      ...t.style
    }),
    [p, s, i, t.style]
  );
  return /* @__PURE__ */ u(
    fl,
    {
      className: g,
      enable: f ? !1 : void 0,
      right: !f,
      style: b,
      height: "100%",
      width: p,
      minWidth: d ?? 200,
      maxWidth: d ?? 400,
      onResize: () => o == null ? void 0 : o.refresh(),
      onResizeStop: (w, C, x) => {
        r(x.getBoundingClientRect().width);
      },
      children: t.children ?? /* @__PURE__ */ L(R, { full: !0, col: !0, children: [
        l && /* @__PURE__ */ u(j, { className: h, children: /* @__PURE__ */ u(Py, { children: (w) => /* @__PURE__ */ L(pe, { children: [
          wn(c, iS),
          /* @__PURE__ */ u(oS, { ...w }),
          wn(c, sS)
        ] }) }) }),
        /* @__PURE__ */ u(j, { className: m, grow: !0, children: /* @__PURE__ */ u(xy, { children: (w) => /* @__PURE__ */ L(pe, { children: [
          wn(c, Jw),
          /* @__PURE__ */ u(Zw, { ...w }),
          wn(c, Xw)
        ] }) }) })
      ] })
    }
  );
}), X9 = "gs-sidebar-left", J9 = Pe(
  ce(function({ children: t, width: n, resizable: r, ...o }) {
    return /* @__PURE__ */ u(
      Z9,
      {
        className: k(X9, "gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap", $u(o)),
        width: n,
        resizable: r,
        style: Ru(o),
        children: t ? Dt(t) : void 0
      }
    );
  })
), Q9 = ce(function(t) {
  var h;
  const { rightSidebarSize: n, setRightSidebarSize: r, editor: o, isInPreview: s, isRightSidebarOpen: i } = we(), a = ((h = t.style) == null ? void 0 : h.width) ?? t.width, l = a ?? n, c = t.resizable === !1, d = k(t.className, "gs-utl-h-full gs-utl-transition-spacing", le.bl, F.br), p = ue(
    () => ({
      marginRight: s || !i ? `-${l}px` : 0,
      ...t.style
    }),
    [l, s, i, t.style]
  );
  return /* @__PURE__ */ u(
    fl,
    {
      className: d,
      enable: c ? !1 : void 0,
      left: !c,
      style: p,
      height: "100%",
      width: l,
      minWidth: a ?? 200,
      maxWidth: a ?? 400,
      onResize: () => o == null ? void 0 : o.refresh(),
      onResizeStop: (m, b, y) => {
        r(y.getBoundingClientRect().width);
      },
      children: t.children ?? /* @__PURE__ */ u(mS, {})
    }
  );
}), eI = "gs-sidebar-right", tI = Pe(
  ce(function({ children: t, resizable: n, ...r }) {
    return /* @__PURE__ */ u(
      Q9,
      {
        className: k(eI, "gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap", $u(r)),
        resizable: n,
        style: Ru(r),
        children: t ? Dt(t) : void 0
      }
    );
  })
), nI = ce(function({
  className: t,
  variant: n,
  value: r,
  tabs: o,
  style: s,
  editorEvents: i,
  onChange: a
}) {
  const { editor: l } = we(), [c, d] = W(() => ({
    tabs: o,
    style: s,
    value: r,
    variant: n,
    className: t
  })), p = ue(
    () => {
      var g;
      return ((g = c.tabs) == null ? void 0 : g.map((h) => ({
        ...h,
        content: Dt(h.children)
      }))) || [];
    },
    [c.tabs]
  ), f = (g) => {
    a && l ? a({
      value: g,
      editor: l,
      state: c,
      setState: (h) => d((m) => ({ ...m, ...h }))
    }) : d((h) => ({ ...h, value: g }));
  };
  return $i({
    editor: l,
    editorEvents: i,
    localState: c,
    setLocalState: d
  }), /* @__PURE__ */ u(
    bo,
    {
      tabs: p,
      className: k(c.className),
      variant: c.variant,
      value: c.value,
      style: c.style,
      onChange: f
    }
  );
}), rI = "gs-cmp-text", oI = Pe(function({ className: t, content: n, children: r, ...o }) {
  return /* @__PURE__ */ u(Hn, { className: k(rI, t), ...o, children: r || n });
}), sI = "gs-cmp-virtual-list", iI = ce(function({
  id: t,
  items: n,
  itemLayout: r,
  itemsPerRow: o = 12,
  className: s,
  style: i,
  htmlAttrs: a
}) {
  const [l, c] = W(0), { editor: d, transitionTime: p } = we(), f = Ug(o);
  return G(() => {
    const g = setTimeout(() => c((h) => ++h), p);
    return () => clearTimeout(g);
  }, [p]), !!l && /* @__PURE__ */ u(
    pl,
    {
      ...a,
      data: n,
      className: k(sI, "gs-utl-h-full", s),
      listClassName: `gs-utl-grid gs-utl-gap-2 gs-utl-pr-2 ${f}`,
      style: i,
      itemContent: (g, h) => /* @__PURE__ */ u(B.Fragment, { children: r ? Dt(r({ item: h, editor: d })) : /* @__PURE__ */ u("pre", { children: JSON.stringify(h, void 0, 2) }) }, h.id ?? g)
    },
    t
  );
});
var af = /* @__PURE__ */ ((e) => (e.text = "text", e.row = "row", e.column = "column", e.button = "button", e.buttonGroupField = "buttonGroupField", e.menuList = "menuList", e.inputField = "inputField", e.codeField = "codeField", e.selectField = "selectField", e.selectFontField = "selectFontField", e.tabs = "tabs", e.devices = "devices", e.custom = "custom", e.panelLayers = "panelLayers", e.panelPages = "panelPages", e.panelSelectors = "panelSelectors", e.panelStyles = "panelStyles", e.panelProperties = "panelProperties", e.panelSidebarTabs = "panelSidebarTabs", e.panelPagesLayers = "panelPagesLayers", e.panelBlocks = "panelBlocks", e.panelPageSettings = "panelPageSettings", e.panelGlobalStyles = "panelGlobalStyles", e.panelAssets = "panelAssets", e.panelTemplates = "panelTemplates", e.sidebarLeft = "sidebarLeft", e.sidebarRight = "sidebarRight", e.sidebarTop = "sidebarTop", e.sidebarBottom = "sidebarBottom", e.canvas = "canvas", e.canvasSidebarTop = "canvasSidebarTop", e.virtualList = "virtualList", e.dataPathField = "dataPathField", e.panelDataVariablePicker = "panelDataVariablePicker", e.panelDataConditionPicker = "panelDataConditionPicker", e.panelDataCollectionPicker = "panelDataCollectionPicker", e.panelDataValuePicker = "panelDataValuePicker", e))(af || {});
const aI = {
  array: Z.codeBrackets,
  object: Z.codeBraces,
  string: Z.codeString,
  number: Z.number,
  boolean: Z.toggleSwitchOffOutline,
  default: Z.null
}, lI = (e) => Array.isArray(e) ? "array" : e === null ? "default" : typeof e, cI = ce(
  ({ name: e, value: t, isActive: n, isCollection: r, onClick: o, className: s }) => {
    const i = Le().tScoped("dataSources"), a = lI(t), l = typeof t == "object" && t !== null, c = k(
      s,
      "gs-utl-text-left",
      F.hBgH,
      le.b,
      le.rnd,
      Ve.xy,
      n ? [le.bA, F.tA] : [F.br, F.txtHighEmphasisH]
    ), d = (p) => typeof p == "object" ? Array.isArray(p) ? i("items", { params: { length: p.length } }) : p ? i("properties", { params: { length: Object.keys(p).length } }) : "null" : String(p);
    return /* @__PURE__ */ u(Xe, { onClick: o, border: !1, className: c, full: !0, children: /* @__PURE__ */ L(R, { items: "center", justify: "between", gap: "s", nowrap: !0, children: [
      /* @__PURE__ */ L(R, { className: "gs-utl-flex-grow gs-utl-overflow-hidden", gap: "s", col: !0, children: [
        /* @__PURE__ */ L(R, { className: "gs-utl-overflow-hidden", items: "center", gap: "s", full: !0, nowrap: !0, children: [
          /* @__PURE__ */ u(ae, { icon: aI[a], size: fe.s }),
          /* @__PURE__ */ u(j, { className: k(De.txtEllips, r && "gs-utl-font-bold"), children: e })
        ] }),
        /* @__PURE__ */ u(j, { className: k("gs-utl-w-full", De.txtEllips, De.disabled), children: d(t) })
      ] }),
      l && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        ae,
        {
          size: fe.sx,
          icon: Z.arrowRight,
          className: k(n && "gs-utl-rotate-180", "gs-utl-transition-transform gs-utl-duration-200")
        }
      ) })
    ] }) });
  }
), uI = "gs-cmp-data-path-explorer", eb = ce(function({
  additionalSources: t,
  onChange: n,
  path: r = ""
}) {
  const { editor: o } = we(), s = q({}), [i, a] = W(() => r.split(".")), [l, c] = W([]), d = ue(() => ({ ...o ? Pk(o) : {}, ...t }), [o, t]), p = (m, b) => {
    let y = s.current;
    for (let v = 0; v < b && v < m.length; v++) {
      const S = m[v];
      if (y && typeof y == "object" && S in y)
        y = y[S];
      else {
        y = void 0;
        break;
      }
    }
    return !y || typeof y != "object" ? [] : Object.entries(y).map(([v, S]) => {
      const w = m.slice(0, b).concat(v), C = i[b] === v, x = b === 0 && gr(S) && S.collectionId === v, E = () => {
        const O = C ? w.slice(0, -1) : w;
        n == null || n(O.join("."), { paths: O }), a(O);
      };
      return /* @__PURE__ */ u(
        cI,
        {
          className: k(x && "-gs-utl-order-1"),
          isCollection: x,
          name: v,
          value: S,
          isActive: C,
          onClick: E
        },
        v
      );
    });
  };
  G(() => {
    s.current = d;
    const m = [];
    for (let b = 0; b <= i.length; b++) {
      const y = p(i, b);
      y.length > 0 && m.push(y);
    }
    c(m);
  }, [d, i]);
  const f = k(uI, F.bg, F.br, le.b, le.rnd, De.scrollX, "gs-utl-h-full"), g = k("gs-utl-min-w-[220px]", F.br), h = k("gs-utl-h-full gs-utl-max-h-[60vh]", De.scrollY, Ve.xyS);
  return /* @__PURE__ */ u(R, { className: f, full: !0, nowrap: !0, children: l.map((m, b) => /* @__PURE__ */ u(j, { className: k(g, b !== l.length - 1 && le.br), children: /* @__PURE__ */ u(R, { col: !0, nowrap: !0, gap: "m", className: h, children: m }) }, b)) });
});
function bS(e) {
  const { collectionId: t, variableType: n, path: r = "" } = e;
  return t ? [t, n, r].filter(Boolean).join(".") : r;
}
function Gg(e, t) {
  const [n = "", r = "", ...o] = e.split(".");
  return n && t[n] ? {
    collectionId: n,
    variableType: r,
    path: o.join(".")
  } : { path: e, collectionId: void 0, variableType: void 0 };
}
const dI = (e) => {
  const { path: t, collectionId: n, variableType: r } = e.dataResolver || {};
  return n ? [n, r, t].filter(Boolean).join(".") : e.value || t || "";
}, pI = (e) => {
  const { dataResolver: t, editor: n, value: r, defaultValue: o, additionalSources: s } = e, { path: i = "", collectionId: a, variableType: l } = t || {}, c = n == null ? void 0 : n.DataSources;
  if (a) {
    const d = s == null ? void 0 : s[a], p = l && d ? d[l] : d;
    return (c == null ? void 0 : c.getValue(i, o, { context: p })) || "";
  } else
    return (c == null ? void 0 : c.getValue(r, o)) || "";
}, fI = "gs-cmp-data-path-field", hl = ce((e) => {
  const {
    size: t = "m",
    value: n = "",
    label: r,
    open: o,
    defaultValue: s,
    additionalSources: i,
    dataResolver: a,
    readOnly: l,
    disabled: c,
    pickerInPopover: d,
    onChange: p,
    onPickerToggle: f
  } = e, { editor: g } = we(), h = Le().tScoped("dataSources"), [m, b] = W(!!o), [y, v] = W(!1), S = !!l || m || y, w = () => v(!y), C = (z) => {
    const $ = z ?? !m;
    b($), f == null || f($);
  }, x = () => C(!1), E = (...z) => {
    p == null || p(...z);
  }, O = (z) => {
    S || p == null || p(z, { paths: z.split(".") });
  }, T = dI({ dataResolver: a, value: n }), P = y && g ? `"${pI({ editor: g, dataResolver: a, additionalSources: i, value: n, defaultValue: s })}"` : T, A = t === "m", _ = A ? "lg" : t, M = A ? fe.l : fe.s, V = h(m ? "closePathExplorer" : "openPathExplorer"), N = { icon: m ? Z.close : Z.databaseOutline, size: fe.l }, H = {
    icon: y ? Z.eyeOff : Z.eye,
    size: A ? fe.m : M
  }, K = /* @__PURE__ */ u(
    _t,
    {
      block: !0,
      variant: "pr",
      size: _,
      title: V,
      onClick: () => C(),
      icon: N
    }
  );
  return /* @__PURE__ */ L(R, { className: fI, gap: t, col: !0, children: [
    /* @__PURE__ */ L(R, { gap: t, items: "end", nowrap: !0, children: [
      /* @__PURE__ */ u(
        at,
        {
          readOnly: S,
          label: r,
          value: y ? P : T,
          size: t,
          disabled: c,
          onChange: O,
          placeholder: h("selectVariablePath"),
          className: k("gs-utl-flex-grow", F.txt, De.txtEllips),
          afterInput: !!n && /* @__PURE__ */ u(
            _t,
            {
              block: !0,
              variant: "out-clear",
              size: "xs",
              border: !1,
              title: h("toggleResolvedPath"),
              onClick: w,
              className: De.hover,
              icon: H
            }
          )
        }
      ),
      d ? /* @__PURE__ */ u(
        Ur,
        {
          placement: "bottom-end",
          classNameBody: "gs-utl-w-[400px] gs-utl-h-[300px]",
          title: !1,
          padding: !1,
          border: !1,
          buttonAs: "span",
          handler: K,
          onClose: x,
          overlay: !0,
          children: /* @__PURE__ */ u(eb, { path: T, onChange: E, additionalSources: i })
        }
      ) : K
    ] }),
    !!m && !d && /* @__PURE__ */ u(eb, { path: T, onChange: E, additionalSources: i })
  ] });
}), gI = "gs-data-path-field", hI = ce(
  ({ className: e, value: t = "", onChange: n, ...r }) => /* @__PURE__ */ u(Hn, { className: k(gI, e), ...r, children: /* @__PURE__ */ u(hl, { onChange: (o) => n({ value: o }), value: t }) })
);
function Kg(e) {
  var i;
  const [t, n] = W(((i = e.getDataResolver) == null ? void 0 : i.call(e)) ?? {}), r = q(t), o = (a) => {
    const l = { ...r.current, ...a };
    r.current = l, n(l);
  }, s = () => {
    e.setDataResolver(r.current);
  };
  return G(() => {
    const a = "change:dataResolver", l = () => {
      const c = e.getDataResolver();
      n(c);
    };
    return e.on(a, l), () => {
      e.off(a, l);
    };
  }, [e]), {
    localData: t,
    updateLocalData: o,
    syncToComponent: s
  };
}
const mI = "gs-cmp-data-variable-picker", bI = ce(({ component: e, onConfirm: t }) => {
  const { localData: n, updateLocalData: r, syncToComponent: o } = Kg(e), s = Le().tScoped("dataSources"), { path: i = "", defaultValue: a = "" } = n, l = e.collectionsStateMap, c = (f) => {
    r(Gg(f, l));
  }, d = () => {
    o(), t == null || t({ value: n });
  }, p = (f) => r({ defaultValue: f });
  return /* @__PURE__ */ L(R, { className: mI, gap: "s", col: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(
      hl,
      {
        value: i,
        label: s("variablePath"),
        dataResolver: n,
        additionalSources: l,
        defaultValue: a,
        onChange: c
      }
    ),
    /* @__PURE__ */ u(at, { label: s("defaultValue"), value: a, onChange: p }),
    /* @__PURE__ */ u(R, { full: !0, justify: "end", className: Ve.y, children: /* @__PURE__ */ u(Xe, { onClick: d, variant: "pr", size: "m", children: s("confirm") }) })
  ] });
}), vI = "gs-data-variable-picker", yI = ce(function({
  className: t,
  component: n,
  onConfirm: r,
  ...o
}) {
  return /* @__PURE__ */ u(Hn, { className: k(vI, t), ...o, children: /* @__PURE__ */ u(bI, { component: n, onConfirm: r }) });
});
var Mn = /* @__PURE__ */ ((e) => (e.STRING = "string", e.NUMBER = "number", e.DATA_SOURCE = "dataSource", e))(Mn || {}), _n = /* @__PURE__ */ ((e) => (e.equals = "equals", e.isTruthy = "isTruthy", e.isFalsy = "isFalsy", e.isDefined = "isDefined", e.isNull = "isNull", e.isUndefined = "isUndefined", e.isArray = "isArray", e.isObject = "isObject", e.isString = "isString", e.isNumber = "isNumber", e.isBoolean = "isBoolean", e.isDefaultValue = "isDefaultValue", e))(_n || {}), qg = /* @__PURE__ */ ((e) => (e.greaterThan = ">", e.lessThan = "<", e.greaterThanOrEqual = ">=", e.lessThanOrEqual = "<=", e.equals = "=", e.notEquals = "!=", e))(qg || {}), Yg = /* @__PURE__ */ ((e) => (e.contains = "contains", e.startsWith = "startsWith", e.endsWith = "endsWith", e.equalsIgnoreCase = "equalsIgnoreCase", e.trimEquals = "trimEquals", e))(Yg || {});
const wI = [
  ...Object.values(Yg),
  ...Object.values(qg),
  ...Object.values(_n)
], lf = {
  string: Object.values(Yg),
  number: Object.values(qg),
  dataSource: wI
}, SI = Pe(function(t) {
  const { additionalSources: n, side: r, type: o, value: s, onChange: i } = t;
  switch (o) {
    case Mn.DATA_SOURCE:
      return /* @__PURE__ */ u(
        hl,
        {
          size: "s",
          pickerInPopover: !0,
          value: bS(s),
          onChange: (a) => i(r, a, o),
          additionalSources: n
        }
      );
    case Mn.NUMBER:
      return /* @__PURE__ */ u(je, { size: "s", value: s, onChange: (a) => i(r, a, o) });
    default:
      return /* @__PURE__ */ u(at, { size: "s", value: s, onChange: (a) => i(r, a, o) });
  }
}), CI = "gs-cmp-statement-side", tb = Pe(function({
  side: t,
  type: n,
  value: r,
  label: o,
  onChange: s,
  onTypeChange: i,
  additionalSources: a,
  typeOptions: l
}) {
  return /* @__PURE__ */ L(R, { className: k(CI, "gs-utl-flex-grow"), col: !0, children: [
    /* @__PURE__ */ u(jo, { size: "s", children: o }),
    /* @__PURE__ */ L(R, { items: "center", gap: "xs", children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Ne, { size: "s", value: n, options: l, onChange: (c) => i(t, c) }) }),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(
        SI,
        {
          additionalSources: a,
          side: t,
          type: n,
          value: r,
          onChange: s
        }
      ) })
    ] })
  ] });
}), Zl = (e) => typeof e == "object" && (e == null ? void 0 : e.type) === "data-variable" ? Mn.DATA_SOURCE : typeof e == "string" ? Mn.STRING : typeof e == "number" ? Mn.NUMBER : Mn.STRING, xI = (e, t, n) => {
  switch (t) {
    case Mn.STRING:
      return e || "";
    case Mn.NUMBER:
      return e ? Number(e) : 0;
    case Mn.DATA_SOURCE: {
      const r = n || {};
      return {
        type: "data-variable",
        ...(ut(e) ? Gg(e, r) : e) ?? { path: "", defaultValue: "" }
      };
    }
    default:
      return e;
  }
}, PI = (e) => lf[e][0], EI = (e) => ![
  _n.isTruthy,
  _n.isFalsy,
  _n.isDefined,
  _n.isNull,
  _n.isUndefined,
  _n.isArray,
  _n.isObject,
  _n.isString,
  _n.isNumber,
  _n.isBoolean,
  _n.isDefaultValue
].includes(e), TI = "gs-cmp-statement", OI = ce((e) => {
  const { statement: t, onChange: n, className: r, additionalSources: o } = e, s = Le().tScoped("dataSources"), [i, a] = W(() => Zl(t.left)), [l, c] = W(() => Zl(t.right)), d = lf[i] || lf[Mn.STRING], p = ue(() => Object.values(Mn).map((w) => ({ id: w, label: Mr(w) })), []), f = ue(
    () => d.map((w) => ({ id: w, label: s(`operators.${w}`) })),
    [d, s]
  );
  G(() => {
    a(Zl(t.left)), c(Zl(t.right));
  }, [t.left, t.right]);
  const g = (w) => {
    n({
      ...t,
      ...w
    });
  }, h = (w, C, x) => {
    const E = xI(C, x, o), O = w === "left", T = O && x !== Mn.DATA_SOURCE;
    O ? a(x) : c(x), g({
      [w]: E,
      ...T && { operator: PI(x) }
    });
  }, m = (w, C) => h(w, null, C), b = (w) => g({ operator: w }), y = k(TI, r, F.br, le.b, le.rnd, Ve.xy), v = EI(t.operator), S = {
    additionalSources: o,
    onChange: h,
    onTypeChange: m,
    typeOptions: p
  };
  return /* @__PURE__ */ u(R, { className: k(y, "gs-utl-w-full"), items: "stretch", gap: "m", col: !0, full: !0, nowrap: !0, children: /* @__PURE__ */ L(R, { gap: "m", items: "center", full: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(
      tb,
      {
        side: "left",
        type: i,
        value: t.left,
        label: s("leftValue"),
        ...S
      }
    ),
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
      Ne,
      {
        size: "s",
        label: s("operator"),
        value: t.operator,
        options: f,
        onChange: b
      }
    ) }),
    v && /* @__PURE__ */ u(
      tb,
      {
        side: "right",
        type: l,
        value: t.right,
        label: s("rightValue"),
        ...S
      }
    )
  ] }) });
}), Zd = "gs-cmp-statements-group", _I = (e) => e === "and" || e === "or", Vc = (e) => ({
  ...e,
  statements: [
    ...e.statements ?? [],
    {
      left: "",
      operator: "equals",
      right: ""
    }
  ]
}), vS = ce((e) => {
  const { className: t, condition: n, onUpdate: r, additionalSources: o, skipAddCondition: s } = e, i = Le().tScoped("dataSources"), a = n.statements ?? [], l = n.logicalOperator || "and", c = (h) => {
    _I(h) && r({ ...n, logicalOperator: h });
  }, d = () => {
    Vc(n), r(Vc(n));
  }, p = (h) => {
    const m = a.filter((b, y) => y !== h);
    r({ ...n, statements: m });
  }, f = (h, m) => {
    if (h >= 0 && h < a.length) {
      const b = [...a];
      b[h] = m, r({ ...n, statements: b });
    }
  }, g = [
    { id: "and", label: i("conditionAnd") },
    { id: "or", label: i("conditionOr") }
  ];
  return /* @__PURE__ */ L(R, { className: k(Zd, t, "gs-utl-w-full"), full: !0, gap: "m", col: !0, nowrap: !0, children: [
    a.length > 1 && /* @__PURE__ */ u(bo, { value: l, onChange: c, tabs: g }),
    /* @__PURE__ */ u(R, { className: `${Zd}__items`, gap: "s", col: !0, full: !0, nowrap: !0, children: a.map((h, m) => /* @__PURE__ */ L(R, { className: k(`${Zd}__item`), gap: "s", col: !0, children: [
      /* @__PURE__ */ u(
        OI,
        {
          additionalSources: o,
          statement: h,
          onChange: (b) => f(m, b)
        }
      ),
      m < a.length - 1 && /* @__PURE__ */ L(R, { justify: "center", items: "center", gap: "m", children: [
        /* @__PURE__ */ u("span", { className: k(F.txtHighEmphasis, "gs-utl-text-sm gs-utl-font-bold"), children: l.toUpperCase() }),
        /* @__PURE__ */ u(
          _t,
          {
            block: !0,
            variant: "out-clear",
            title: i("deleteCondition"),
            onClick: () => p(m + 1),
            icon: { icon: Z.delete, size: fe.s }
          }
        )
      ] })
    ] }, `stmt-${m}`)) }),
    !s && /* @__PURE__ */ u(R, { justify: "end", children: /* @__PURE__ */ u(Xe, { variant: "pr", onClick: d, icon: { icon: Z.plus, size: fe.s }, children: i("addCondition") }) })
  ] });
}), AI = "gs-cmp-data-condition-picker", LI = ce(({ component: e, onConfirm: t }) => {
  const { localData: n, updateLocalData: r, syncToComponent: o } = Kg(e), s = Le().tScoped("dataSources"), i = n.condition, a = (d) => r({ condition: d }), l = () => {
    o(), t == null || t({ value: n });
  }, c = () => {
    r({ condition: Vc(i) });
  };
  return /* @__PURE__ */ L(R, { className: AI, items: "stretch", gap: "m", full: !0, col: !0, children: [
    /* @__PURE__ */ u(
      vS,
      {
        additionalSources: e.collectionsStateMap ?? {},
        condition: i,
        onUpdate: a,
        skipAddCondition: !0
      }
    ),
    /* @__PURE__ */ L(R, { gap: "m", justify: "end", full: !0, children: [
      /* @__PURE__ */ u(Xe, { variant: "out", onClick: c, icon: { icon: Z.plus, size: fe.s }, children: s("addCondition") }),
      /* @__PURE__ */ u(Xe, { onClick: l, variant: "pr", size: "m", children: s("confirm") })
    ] })
  ] });
}), NI = "gs-data-condition-picker", kI = ce(function({
  className: t,
  component: n,
  onConfirm: r,
  ...o
}) {
  return /* @__PURE__ */ u(Hn, { className: k(NI, t), ...o, children: /* @__PURE__ */ u(LI, { component: n, onConfirm: r }) });
}), MI = "gs-cmp-data-collection-picker", $I = ce(({ component: e, onConfirm: t }) => {
  const { localData: n, updateLocalData: r, syncToComponent: o } = Kg(e), { collectionId: s = "", dataSource: i = {}, startIndex: a = 0, endIndex: l = 10 } = n, c = bS(i), d = l === Number.MAX_VALUE, p = Le().tScoped("dataSources"), f = d ? "" : l, g = () => {
    o(), t == null || t({ value: n });
  }, h = (v) => r({ dataSource: { ...i, path: v } }), m = (v) => r({ startIndex: v }), b = (v) => r({ endIndex: v }), y = (v) => r({ endIndex: v ? Number.MAX_VALUE : 4 });
  return /* @__PURE__ */ L(R, { className: MI, gap: "s", col: !0, nowrap: !0, children: [
    /* @__PURE__ */ L(R, { items: "end", gap: "s", nowrap: !0, children: [
      /* @__PURE__ */ u(
        at,
        {
          className: "gs-utl-flex-grow",
          size: "s",
          label: p("collectionId"),
          value: s,
          readOnly: !0,
          disabled: !0
        }
      ),
      /* @__PURE__ */ u(vy, { size: "s", value: s, block: !0 })
    ] }),
    /* @__PURE__ */ u(hl, { label: p("variablePath"), value: c, onChange: h, dataResolver: n }),
    /* @__PURE__ */ L(R, { items: "end", gap: "s", nowrap: !0, children: [
      /* @__PURE__ */ u(
        je,
        {
          size: "s",
          className: "gs-utl-flex-grow",
          label: p("collectionStartIndex"),
          value: a == null ? void 0 : a.toString(),
          onChange: m
        }
      ),
      /* @__PURE__ */ u(
        je,
        {
          size: "s",
          label: p("collectionEndIndex"),
          placeholder: d ? "-" : "",
          value: f == null ? void 0 : f.toString(),
          onChange: b,
          className: k("gs-utl-flex-grow", d && "gs-utl-opacity-50 gs-utl-pointer-events-none")
        }
      ),
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(La, { label: p("collectionUpToEndIndex"), value: d, onChange: y }) })
    ] }),
    /* @__PURE__ */ u(R, { full: !0, justify: "end", children: /* @__PURE__ */ u(Xe, { onClick: g, variant: "pr", size: "m", children: p("confirm") }) })
  ] });
}), RI = "gs-data-collection-picker", II = ce(function({
  className: t,
  component: n,
  onConfirm: r,
  ...o
}) {
  return /* @__PURE__ */ u(Hn, { className: k(RI, t), ...o, children: /* @__PURE__ */ u($I, { component: n, onConfirm: r }) });
}), jI = "gs-code-field", VI = ce(function(e) {
  const { editor: t } = we(), { isDarkTheme: n } = En(), { editorEvents: r, onChange: o } = e, [s, i] = W(() => e), a = (c) => ({
    value: c,
    editor: t,
    state: s,
    setState: (d) => i((p) => ({ ...p, ...d }))
  }), l = (c) => o == null ? void 0 : o(a(c || ""));
  return $i({
    editor: t,
    editorEvents: r,
    localState: s,
    setLocalState: i
  }), /* @__PURE__ */ u(
    fo,
    {
      className: k(jI, s.className),
      language: s.language,
      style: s.style,
      label: s.label,
      name: s.name,
      defaultValue: s.value,
      size: s.size,
      required: s.required,
      disabled: s.disabled,
      readOnly: s.readOnly,
      minHeight: s.minHeight,
      row: s.row,
      isDarkTheme: n,
      monacoOptions: e.monacoOptions,
      onChange: l
    }
  );
}), DI = "gs-menu-list", HI = ce(function({ className: e, items: t, onItemClick: n, ...r }) {
  const { editor: o } = we(), [s, i] = W(), a = (c) => {
    const { onClick: d } = c;
    if (d && o)
      return (p) => d({
        item: c,
        editor: o,
        ...p
      });
  }, l = () => {
    if (n && o)
      return (c) => n({ ...c, editor: o });
  };
  return /* @__PURE__ */ u(Hn, { className: k(DI, F.bg, "gs-utl-flex gs-utl-flex-col", e), ...r, children: (t || []).map((c, d) => /* @__PURE__ */ Ro(
    nl,
    {
      ...c,
      label: c.layout ? Dt(c.layout) : c.label,
      key: c.id ?? d,
      className: c.className,
      action: a(c),
      onActive: () => i(c),
      onItemClick: l(),
      active: s === c,
      items: c.items
    }
  )) });
}), Xl = { type: "data-variable", path: "", defaultValue: "" }, nb = {
  type: "data-condition",
  condition: {
    logicalOperator: "and",
    statements: [
      {
        left: "",
        operator: "",
        right: ""
      }
    ]
  },
  ifTrue: "",
  ifFalse: ""
}, rb = "gs-cmp-dynamic-value-picker", BI = ce(
  ({ value: e, onChange: t, onConfirm: n, additionalSources: r }) => {
    const [o, s] = W(() => Do(e) ? e : Xl), [i, a] = W(o.type), l = Le().tScoped("dataSources");
    G(() => {
      const S = Do(e) ? e : Xl;
      (S.type !== o.type || JSON.stringify(S) !== JSON.stringify(o)) && (s(S), a(S.type));
    }, [e]);
    const c = (S) => {
      s(S), t == null || t({ value: S });
    }, d = (S) => {
      const w = S;
      a(w);
      const C = o.type === w ? o : w === "data-variable" ? Xl : nb;
      c(C);
    }, p = (S) => {
      c({
        type: "data-variable",
        defaultValue: o.defaultValue,
        ...Gg(S, r)
      });
    }, f = (S) => {
      s((w) => {
        const C = {
          ...w,
          defaultValue: S
        };
        return t == null || t({ value: C }), C;
      });
    }, g = (S) => {
      c({
        ...o,
        condition: S
      });
    }, h = (S, w) => {
      c({
        ...o,
        [S]: w
      });
    }, m = () => {
      const S = o.condition;
      g(Vc(S));
    }, b = [
      { id: "data-variable", label: l("variable") },
      { id: "data-condition", label: l("condition") }
    ], y = (o == null ? void 0 : o.type) === "data-variable" ? o : Xl, v = (o == null ? void 0 : o.type) === "data-condition" ? o : nb;
    return /* @__PURE__ */ L(R, { className: rb, gap: "s", col: !0, nowrap: !0, children: [
      /* @__PURE__ */ L(R, { className: rb, gap: "m", col: !0, nowrap: !0, full: !0, children: [
        /* @__PURE__ */ u(bo, { value: i, onChange: d, tabs: b }),
        /* @__PURE__ */ u(j, { grow: !0, className: Ve.y, style: { overflowY: "auto", overflowX: "hidden" }, children: i === "data-variable" ? /* @__PURE__ */ L(R, { gap: "s", col: !0, nowrap: !0, children: [
          /* @__PURE__ */ u(
            hl,
            {
              value: y.path,
              label: l("variablePath"),
              additionalSources: r,
              defaultValue: y.defaultValue,
              onChange: p
            }
          ),
          /* @__PURE__ */ u(
            at,
            {
              label: l("defaultValue"),
              value: y.defaultValue || "",
              onChange: f
            }
          )
        ] }) : /* @__PURE__ */ L(R, { gap: "m", col: !0, children: [
          /* @__PURE__ */ u(
            vS,
            {
              additionalSources: r,
              condition: v.condition,
              onUpdate: g,
              skipAddCondition: !0
            }
          ),
          /* @__PURE__ */ L(R, { gap: "s", col: !0, nowrap: !0, children: [
            /* @__PURE__ */ u(
              at,
              {
                label: l("ifTrue"),
                value: v.ifTrue,
                onChange: (S) => h("ifTrue", S)
              }
            ),
            /* @__PURE__ */ u(
              at,
              {
                label: l("ifFalse"),
                value: v.ifFalse,
                onChange: (S) => h("ifFalse", S)
              }
            )
          ] })
        ] }) }),
        i === "data-condition" && /* @__PURE__ */ u(R, { full: !0, justify: "end", className: Ve.x, children: /* @__PURE__ */ u(Xe, { variant: "out", onClick: m, icon: { icon: Z.plus, size: fe.s }, children: l("addCondition") }) })
      ] }),
      /* @__PURE__ */ u(R, { full: !0, justify: "end", className: Ve.y, children: /* @__PURE__ */ u(
        Xe,
        {
          onClick: () => {
            n == null || n({ value: o });
          },
          variant: "pr",
          size: "m",
          children: l("confirm")
        }
      ) })
    ] });
  }
), FI = "gs-data-value-picker", zI = ce(
  ({ className: e, value: t = {}, onChange: n, onConfirm: r, additionalSources: o = {}, ...s }) => /* @__PURE__ */ u(Hn, { className: k(FI, e), ...s, children: /* @__PURE__ */ u(
    BI,
    {
      value: t,
      onConfirm: (i) => r == null ? void 0 : r(i),
      onChange: (i) => n == null ? void 0 : n(i),
      additionalSources: o
    }
  ) })
), UI = {
  row: z9,
  column: ZR,
  text: oI,
  tabs: nI,
  button: du,
  buttonGroupField: l6,
  menuList: HI,
  inputField: JR,
  codeField: VI,
  selectField: W9,
  selectFontField: K9,
  devices: Vw,
  panelPages: aS,
  panelPageSettings: F7,
  panelLayers: Qw,
  panelPagesLayers: Y7,
  panelBlocks: w7,
  panelGlobalStyles: L7,
  panelSelectors: M9,
  panelStyles: D9,
  panelProperties: S9,
  panelSidebarTabs: j9,
  panelAssets: v7,
  panelTemplates: B9,
  sidebarRight: tI,
  sidebarLeft: J9,
  sidebarTop: Dw,
  sidebarBottom: Y9,
  canvas: yw,
  canvasSidebarTop: qR,
  virtualList: iI,
  dataPathField: hI,
  panelDataVariablePicker: yI,
  panelDataConditionPicker: kI,
  panelDataCollectionPicker: II,
  panelDataValuePicker: zI
}, Dt = (e) => {
  const t = Array.isArray(e) ? e : e ? [e] : [], n = r4();
  return t.filter(Boolean).map((r, o) => {
    const { id: s = "", type: i, ...a } = ut(r) ? { type: af.text, content: r } : r || {}, l = UI[i], c = n.layoutChildren.get(s), d = s || o;
    return c ? /* @__PURE__ */ u(Mp, { id: s, ...c }, d) : i === af.custom ? /* @__PURE__ */ u(Mp, { id: s, ...a }, d) : l ? /* @__PURE__ */ u(l, { id: s, ...a }, d) : null;
  });
}, $i = (e) => {
  const { editorEvents: t, editor: n, localState: r, setLocalState: o } = e;
  G(() => {
    if (!t || !n)
      return;
    const s = Object.keys(t).reduce(
      (a, l) => (a[l] = (c = {}) => {
        const d = t[l];
        d({
          fromEvent: c,
          editor: n,
          state: r,
          setState: (p) => o((f) => ({ ...f, ...p }))
        });
      }, a),
      {}
    ), i = Object.keys(s);
    return i.forEach((a) => n.on(a, s[a])), () => {
      i.forEach((a) => n.off(a, s[a]));
    };
  }, [n, r]);
}, ob = "gs-block-item", WI = (e) => {
  const { block: t, className: n, itemLayout: r, onClick: o, variant: s } = e, { editor: i } = we(), a = Le(), [, l] = W(0), c = a.tScoped("blockManager.labels"), d = t.getId(), p = !!t.get("full"), f = o || t.get("onClick"), g = t.get("disable"), h = t.get("mediaReact"), m = t.getMedia(), b = t.get("attributes") || {}, y = c(d) || t.getLabel(), v = s === "compact", S = k(
    ob,
    `${ob}--${d}`,
    n,
    "gs-utl-px-2 gs-utl-transition-colors",
    le.b,
    le.rnd,
    F.br,
    p && "gs-utl-col-span-full",
    v ? "gs-utl-py-1" : "gs-utl-py-2",
    v ? "gs-utl-flex-row gs-utl-nowrap gs-utl-gap-3 gs-utl-justify-start" : "gs-utl-flex-col",
    g ? De.disabledM : k("gs-utl-cursor-pointer", F.hTAo, F.hBgH)
  ), w = Ft(b.class) && !v ? b.class : k(
    "gs-utl-block-media gs-utl-w-full",
    v ? "gs-utl-max-h-7 gs-utl-max-w-7 gs-utl-overflow-hidden" : "gs-utl-max-h-10 gs-utl-max-w-10"
  ), C = k("gs-utl-text-center", De.txtEllips, !v && "gs-utl-w-full");
  if (G(() => {
    if (!i)
      return;
    const { Blocks: A } = i, _ = A.events.update, M = (V) => V === t && l((N) => ++N);
    return i.on(_, M), () => {
      i.off(_, M);
    };
  }, [t, i]), !i)
    return null;
  const { Blocks: x } = i, T = {
    className: S,
    ...!g && {
      onDragStart: () => x.startDrag(t),
      onDragEnd: () => x.endDrag(!1),
      draggable: !o
    },
    ...!!f && {
      onClick: () => f(t, i)
    }
  }, P = r == null ? void 0 : r({ editor: i, block: t, attributes: T });
  return P && Dt(P) || /* @__PURE__ */ L(R, { items: "center", ...T, children: [
    h || /* @__PURE__ */ u("div", { className: w, dangerouslySetInnerHTML: { __html: m } }),
    /* @__PURE__ */ u("div", { className: C, title: y, children: y })
  ] });
}, sb = ce(WI), ib = te("text-sm w-full", De.txtEllips), GI = ({ symbol: e, className: t }) => {
  const n = rr(), { Components: r } = n, o = Le(), s = Wr(), i = o.tScoped("blockManager.symbols"), a = () => {
    const { draggable: y, droppable: v, attributes: S, type: w, tagName: C } = e.attributes;
    n.Canvas.startDrag({
      // @ts-expect-error Allow to return Components
      content: () => r.addSymbol(e),
      model: e,
      dragDef: {
        type: w,
        tagName: C,
        draggable: y,
        droppable: v,
        attributes: S
      }
    });
  }, l = () => {
    n.Canvas.endDrag();
  }, c = e.getIcon(), d = e.getName(), p = r.getSymbolInfo(e).instances.length, f = te("h-10 w-10 block-media", F.grouphTAo), g = te("gjs-pt-1 gjs-mt-2", le.bt, F.br), h = te("cursor-pointer gjs-p-2 transition-colors group", le.b, le.rnd, F.br, F.hBgH, t), m = () => {
    s.confirm({
      title: i("delete"),
      content: i("deleteConfirm"),
      onConfirm: () => e.remove()
    });
  }, b = (y) => {
    e.set("custom-name", y);
  };
  return /* @__PURE__ */ L(R, { className: h, onDragStart: a, onDragEnd: l, items: "center", draggable: !0, col: !0, children: [
    /* @__PURE__ */ u("div", { className: f, dangerouslySetInnerHTML: { __html: c } }),
    /* @__PURE__ */ L(R, { items: "center", justify: "between", className: g, space: "m", full: !0, children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(R, { className: te(ib, "gjs-mr-auto"), children: /* @__PURE__ */ u(Kt, { title: `${p} ${i("instancesProject")}`, children: /* @__PURE__ */ u(Vt, { label: `${p}`, className: te(F.bgH75) }) }) }) }),
      /* @__PURE__ */ u(j, { className: te("truncate"), grow: !0, title: d, children: /* @__PURE__ */ u(gS, { activable: !0, value: d, className: ib, onChange: b }) }),
      /* @__PURE__ */ u(j, { className: te(De.hoverGroup), children: /* @__PURE__ */ u(R, { justify: "end", full: !0, children: /* @__PURE__ */ u(_t, { onClick: m, title: i("delete"), border: !1, size: "", block: !0, children: /* @__PURE__ */ u(ae, { icon: Z.delete, size: fe.s }) }) }) })
    ] })
  ] });
}, KI = ce(GI), Co = "gs-block-manager", ab = {
  id: Nr.before,
  title: "Add before",
  icon: '<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <path d="M4 5v14"/> <rect fill="none" x="8" y="5" width="12" height="14" rx="2" ry="2"/> </svg>'
}, qI = {
  id: Nr.beforeInside,
  title: "Add inside first",
  icon: '<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M8 8v8"/> </svg>'
}, YI = {
  id: Nr.afterInside,
  title: "Add inside last",
  icon: '<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M16 8v8"/> </svg>'
}, lb = {
  id: Nr.after,
  title: "Add after",
  icon: '<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="12" height="14" rx="2" ry="2"/> <path d="M20 5v14"/> </svg>'
}, cb = (e, t) => {
  const n = t == null ? void 0 : t.getId();
  return n && e.I18n.t(`blockManager.categories.${n}`) || (t == null ? void 0 : t.getLabel()) || "";
}, yS = (e) => {
  const t = e.getContent();
  return it(t) ? e.getDragDef() : t;
}, ZI = (e) => {
  const t = yS(e);
  return Array.isArray(t) ? t[0] : t;
}, wS = ce(function({
  isOpen: t,
  className: n,
  hideCategories: r,
  target: o,
  variant: s,
  itemLayout: i,
  ...a
}) {
  var ht, Zt;
  const { editor: l } = we(), c = Le(), [d, p] = W(0), [f, g] = W(Xi.REGULAR), [h, m] = W(""), [b, y] = W(""), v = q(/* @__PURE__ */ new Set()), [S, w] = W(
    (o == null ? void 0 : o.position) || Nr.after
  ), [C, x] = W(() => (l == null ? void 0 : l.Components.getSymbols()) || []), E = f === Xi.SYMBOLS, O = q(null), T = c.tScoped("blockManager"), P = o == null ? void 0 : o.component;
  if (G(() => {
    if (!l)
      return;
    const { Blocks: ve, Components: ze } = l, We = ve.events.custom, Me = ze.events.symbol, yt = () => {
      x(ze.getSymbols()), p((Ut) => ++Ut);
    };
    return l.on(Me, yt), l.on(We, yt), () => {
      l.off(Me, yt), l.off(We, yt);
    };
  }, [l]), G(() => {
    if (O.current && t) {
      const ve = O.current.querySelector("input");
      setTimeout(() => ve == null ? void 0 : ve.focus(), Pf);
    }
  }, [O.current, t]), !l)
    return null;
  const { Blocks: A, Components: _ } = l, M = (ve) => T(`labels.${ve.getId()}`) || ve.getLabel(), V = C.filter((ve) => Qs(ve.getName(), h)), N = A.getAll().map((ve) => ve), H = ((ht = a.blocks) == null ? void 0 : ht.call(a, { blocks: N })) || N, K = S === Nr.before, z = S === Nr.beforeInside, $ = S === Nr.afterInside, D = S === Nr.after, I = !!(P != null && P.attributes.droppable), U = H.filter((ve) => {
    const ze = cb(l, ve.category);
    if (h && !Qs(ze, h) && !Qs(M(ve), h))
      return !1;
    if (P) {
      const We = ZI(ve);
      if (I && (z || $)) {
        const Me = z ? 0 : void 0;
        return _.canMove(P, We, Me).result;
      } else if (K || D) {
        const Me = P.index(), yt = P.parent(), Ut = K ? Me : Me + 1;
        return yt && _.canMove(yt, We, Ut).result;
      }
    }
    return !0;
  }), ne = A.getBlocksByCategory(U), Q = r ? U : (Zt = ne.find((ve) => !ve.category)) == null ? void 0 : Zt.items, re = r ? [] : ne.filter((ve) => ve.category), ie = a.symbols !== !1, oe = a.search !== !1, X = !ie && !oe, ee = s === "compact", de = T("search") || c.t("search"), me = k(Co, n, "gap-2"), Ee = k(`${Co}__header`, "gs-utl-pt-2", Ve.xS, X && "gs-utl-hidden"), Se = k(`${Co}__content`, De.scrollY, F.br, le.bt), Fe = k(`${Co}__symbols`, "gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-p-2"), tt = k(`${Co}__not-found`, "gs-utl-text-center gs-utl-p-4"), xt = k(
    `${Co}__blocks`,
    "gs-utl-grid gs-utl-gap-2 gs-utl-p-2 gs-utl-text-sm",
    ee ? "gs-utl-grid-cols-1" : "gs-utl-grid-cols-2"
  ), ft = k(`${Co}__no-category`, xt, F.br, re.length && le.bb), Ge = k(F.tAo, F.bgH75, le.bA), zt = `${Co}__category`, gt = [
    { id: Xi.REGULAR, label: T("types.regular") },
    { id: Xi.SYMBOLS, label: T("types.symbols") }
  ], kt = I ? [ab, qI, YI, lb] : [ab, lb], Tt = P ? (ve) => {
    const ze = yS(ve);
    if (!ze)
      return;
    let We;
    if (z || $) {
      const Me = z ? 0 : void 0;
      We = P.append(ze, { at: Me })[0];
    } else if (K || D) {
      const Me = P.index(), yt = P.parent(), Ut = K ? Me : Me + 1;
      We = yt == null ? void 0 : yt.append(ze, { at: Ut })[0];
    }
    if (We) {
      const { activate: Me, select: yt } = ve.attributes;
      yt || Me && yt !== !1 ? l.em.setSelected(We, { activate: Me }) : Me && We.trigger("active");
    }
  } : void 0;
  return /* @__PURE__ */ L(R, { className: me, col: !0, full: !0, children: [
    /* @__PURE__ */ L(R, { className: Ee, gap: "s", col: !0, children: [
      ie && /* @__PURE__ */ u(bo, { tabs: gt, onChange: g, value: f, variant: "pills" }),
      P && /* @__PURE__ */ u(
        sn,
        {
          size: "s",
          options: kt,
          value: S,
          onChange: (ve) => w(ve)
        }
      ),
      oe && /* @__PURE__ */ u(
        at,
        {
          ref: O,
          size: "s",
          value: h,
          onInput: (ve) => {
            v.current.clear(), m(ve);
          },
          onKeyDown: (ve) => {
            if (!P)
              return;
            const ze = Array.from(v.current);
            if (ve.key === "ArrowDown")
              ve.preventDefault(), y((We) => {
                const Me = ze.indexOf(We);
                return ze.at(Math.min(Me + 1, ze.length - 1)) || "";
              });
            else if (ve.key === "ArrowUp")
              ve.preventDefault(), y((We) => {
                const Me = ze.indexOf(We);
                return ze.at(Math.max(Me - 1, 0)) || "";
              });
            else if (ve.key === "Enter" && b) {
              const We = A.get(b);
              We && (Tt == null || Tt(We));
            }
          },
          placeholder: de,
          type: "search"
        }
      )
    ] }),
    /* @__PURE__ */ L(j, { className: Se, grow: !0, children: [
      E && (V.length ? /* @__PURE__ */ u(R, { className: Fe, children: V.map((ve) => /* @__PURE__ */ u(KI, { symbol: ve }, `${d}_${ve.getId()}`)) }) : /* @__PURE__ */ u(R, { className: tt, justify: "center", children: T("symbols.notFound") })),
      !E && (U.length ? /* @__PURE__ */ L(pe, { children: [
        !!(Q != null && Q.length) && /* @__PURE__ */ u(R, { className: ft, children: Q == null ? void 0 : Q.map((ve) => (v.current.add(`${ve.id}`), /* @__PURE__ */ u(
          sb,
          {
            block: ve,
            itemLayout: i,
            onClick: Tt,
            variant: s,
            className: k(b === ve.id && Ge)
          },
          ve.id
        ))) }),
        re.map(({ category: ve, items: ze }, We) => /* @__PURE__ */ u(
          js,
          {
            sticky: !0,
            className: (Me) => Of.itemList({ index: We, open: Me, length: re.length }),
            open: !!(ve != null && ve.get("open")),
            onChange: ({ open: Me }) => ve == null ? void 0 : ve.set({ open: Me }),
            handler: cb(l, ve),
            handlerIcon: ve == null ? void 0 : ve.get("icon"),
            classNameWrap: k(zt, `${zt}--${ve == null ? void 0 : ve.id}`),
            children: /* @__PURE__ */ u(R, { className: xt, children: ze.map((Me) => (v.current.add(`${Me.id}`), /* @__PURE__ */ u(
              sb,
              {
                block: Me,
                itemLayout: i,
                onClick: Tt,
                variant: s,
                className: k(b === Me.id && Ge)
              },
              Me.id
            ))) })
          },
          ve == null ? void 0 : ve.id
        ))
      ] }) : /* @__PURE__ */ u(R, { className: tt, justify: "center", children: T("notFound") }))
    ] })
  ] });
}), XI = {
  add: Z.plus
}, ub = (e, t) => t || XI[e];
function Zg({ className: e, icon: t, title: n, onClose: r, actions: o = [], children: s }) {
  const { t: i } = Le();
  return /* @__PURE__ */ L(R, { className: Y("gjs-card-title", e), items: "center", children: [
    /* @__PURE__ */ u(j, { className: Y("truncate"), grow: !0, children: n }),
    s,
    /* @__PURE__ */ L(R, { space: "s", children: [
      !!o.length && /* @__PURE__ */ u(R, { space: "xs", className: Y("gjs-px-1"), children: o.map(({ id: a, icon: l, className: c, ...d }) => /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        _t,
        {
          block: !0,
          border: !1,
          size: "xs",
          icon: ub(a, l) ? { icon: ub(a, l), size: fe.s } : void 0,
          className: Y(De.click, c),
          ...d
        }
      ) }, a)) }),
      (r || t) && /* @__PURE__ */ u(
        _t,
        {
          title: i("close"),
          onClick: r,
          border: !1,
          className: Y(De.click),
          icon: { icon: Z.close, size: fe.s },
          size: "xs",
          block: !0
        }
      )
    ] })
  ] });
}
const SS = "0.22.14", JI = "1.0.30", _o = "https://cdn.jsdelivr.net/npm/", QI = `${_o}grapesjs@${SS}/dist/grapes.min.js`, ej = `${_o}grapesjs@${SS}/dist/css/grapes.min.css`, tj = !1, Cr = JI, Qr = `${_o}@grapesjs/studio-sdk-plugins@${Cr}`, vn = { category: "Extra", select: !0 }, CS = [
  {
    id: "grapesjs-component-countdown",
    name: "Countdown",
    description: "Live countdown timer to highlight upcoming events, launches, or deadlines.",
    category: un.components,
    src: `${_o}grapesjs-component-countdown@1.0.1/dist/index.js`,
    image: "https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/b2b347be-144d-4860-8f1a-2d8678ab07c7__plugin-counter.png",
    version: "1.0.1",
    projectType: [ke.web],
    options: {
      props: {
        emptyState: !0
      }
    },
    instructions: `Provide data-gjs-type="countdown" on the outer wrapper and data-js attributes for inner elements:

\`\`\`html
<div data-gjs-type="countdown" data-gjs-startfrom="2025-09-30" data-gjs-end-text="Expired">
  <span data-js="countdown" class="countdown-cont">
    <div class="countdown-block">
      <div data-js="countdown-day" class="countdown-digit">00</div>
      <div class="countdown-label">days</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-hour" class="countdown-digit">00</div>
      <div class="countdown-label">hours</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-minute" class="countdown-digit">00</div>
      <div class="countdown-label">minutes</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-second" class="countdown-digit">00</div>
      <div class="countdown-label">seconds</div>
    </div>
  </span>
  <span data-js="countdown-endtext" class="countdown-endtext"></span>
</div>
\`\`\`

The attribute data-gjs-startfrom accepts a date format YYYY-MM-DD (not datetime).
`
  },
  {
    id: "grapesjs-tabs",
    name: "Tabs",
    description: "Organize content into easy-to-navigate sections using tabs.",
    category: un.components,
    src: `${_o}grapesjs-tabs@1.0.18/dist/index.js`,
    image: "https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/e322063c-a8b4-46d4-a21e-20f885ab53df__plugin-tabs.png",
    version: "1.0.18",
    projectType: [ke.web],
    options: { tabsBlock: vn },
    instructions: `Provide data-gjs-type to identify the components, classes and aria attributes as in the following structure:

\`\`\`html
<div data-gjs-type="tabs">
  <div data-gjs-type="tab-container" class="tab-container">
    <div data-gjs-type="tab" id="tab1" aria-controls="tab-content-1" class="tab tab-active">
      <span>Tab 1</span>
    </div>
    <div data-gjs-type="tab" id="tab2" aria-controls="tab-content-2" class="tab">
      <span>Tab 2</span>
    </div>
    <div data-gjs-type="tab" id="tab3" aria-controls="tab-content-3" class="tab">
      <span>Tab 3</span>
    </div>
  </div>
  <div data-gjs-type="tab-contents" class="tab-contents">
    <div data-gjs-type="tab-content" id="tab-content-1" aria-labelledby="tab1" class="tab-content">
      <div>Tab Content 1</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-2" aria-labelledby="tab2" class="tab-content" hidden>
      <div>Tab Content 2</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-3" aria-labelledby="tab3" class="tab-content" hidden>
      <div>Tab Content 3</div>
    </div>
  </div>
</div>
\`\`\`

The default classes provide already basic horizontal styling for the tabs and their contents but you can extend them.
IMPORTANT: The editor allows to update active tab via this selector ".tab.tab-active", so ensure ".tab" class is always there and extend ".tab-active" styles if needed.
`
  },
  {
    id: "grapesjs-custom-code",
    name: "Custom code",
    description: "Insert your own custom code directly into the page. Perfect for adding third-party widgets, advanced styling, or custom functionality.",
    category: un.components,
    src: `${_o}grapesjs-custom-code@1.0.2/dist/index.js`,
    image: "https://user-images.githubusercontent.com/11614725/43289377-15322c5e-912b-11e8-9a29-cc2dc45af48a.gif",
    version: "1.0.2",
    projectType: [ke.web]
  },
  {
    id: "grapesjs-tooltip",
    name: "Tooltip",
    description: "A simple, CSS-only, tooltip component. Great for adding helpful hints or extra info on hover.",
    src: `${_o}grapesjs-tooltip@0.1.8/dist/index.js`,
    category: un.components,
    image: "https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/53239882-2c3f-4480-84cb-16fb9dd3d713__plugin-tooltip.webp",
    version: "0.1.8",
    projectType: [ke.web],
    options: {
      propsTooltip: {
        emptyState: { styleOut: "width: 80px;" }
      }
    },
    instructions: `Provide data-gjs-type="tooltip" to identify the component, and set the tooltip text and position:

\`\`\`html
<span data-gjs-type="tooltip" data-tooltip="Your tooltip text here" data-tooltip-pos="top">Hover me</span>
\`\`\`

Available positions: top, bottom, left, right
AVOID additional CSS, the component is fully functional with just the above HTML.
`
  },
  {
    id: "grapesjs-typed",
    name: "Typed",
    description: "A typewriter-style animation component powered by Typed.js. Ideal for dynamic hero headings and attention-grabbing text effects.",
    category: un.components,
    src: `${_o}grapesjs-typed@2.0.1/dist/index.js`,
    image: "https://user-images.githubusercontent.com/11614725/67621063-3f31c380-f80d-11e9-8d62-7f1da9f27111.png",
    version: "2.0.1",
    projectType: [ke.web],
    options: { block: vn },
    instructions: `Provide data-gjs-type="typed" to identify the component, and set the text strings to cycle through:

\`\`\`html
<div data-gjs-type="typed" data-gjs-strings='["First text", "Second text", "Third text"]' data-gjs-type-speed="40" data-gjs-start-delay="1000">Loading...</div>
\`\`\`

Available options: data-gjs-strings (array), data-gjs-type-speed (ms), data-gjs-start-delay (ms), data-gjs-back-speed (ms), data-gjs-loop (boolean)`
  },
  {
    id: "StudioSdkPlugins_tableComponent",
    name: "Table",
    description: "Add table component with additional functionalities.",
    category: un.components,
    src: `${Qr}/dist/tableComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/table-plugin-f8c7596df01f9e12fb5d94a9de4ee502.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn }
  },
  {
    id: "StudioSdkPlugins_listPagesComponent",
    name: "List Pages",
    description: "Add a list component that dynamically generates navigation links based on the pages in your project.",
    category: un.components,
    src: `${Qr}/dist/listPagesComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/list-pages-plugin-a315be106d0897f4167a6c93c71e7878.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn },
    instructions: `Provide data-gjs-type to identify the components and use "page://PAGE_ID" format to connect to available pages:

\`\`\`html
<ul data-gjs-type="list-pages">
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://HOME_PAGE_ID">Home</a>
  </li>
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://ABOUT_PAGE_ID">About</a>
  </li>
</ul>
\`\`\`

IMPORTANT: The href format must use \`page://PAGE_ID\` where PAGE_ID is the actual string ID of the page in the project.
Add list items based on your available pages and replace the href with the proper page ID.`
  },
  {
    id: "StudioSdkPlugins_fsLightboxComponent",
    name: "FsLightbox",
    description: "Image viewer plugin based on FsLightbox.",
    category: un.components,
    src: `${Qr}/dist/fsLightboxComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/fslightbox-plugin-5d9d81980202b475e60ccaa248036915.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn },
    instructions: `Provide data-gjs-type="fslightbox" to identify the component, and place images inside:

\`\`\`html
<a data-fslightbox="image-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-2" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="videos" data-gjs-source-type="video" href="YOUTUBE_VIDEO_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="custom-types" href="#custom-element">Custom element</a>
<div style="display: none">
  <div id="custom-element">
    <div>Custom content</div>
  </div>
</div>
\`\`\``
  },
  {
    id: "StudioSdkPlugins_lightGalleryComponent",
    name: "LightGallery",
    description: "Gallery component based on lightGallery.",
    category: un.components,
    src: `${Qr}/dist/lightGalleryComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/lightgallery-plugin-0ef8d47f0aaa2bbdd0c83cffb9087fa4.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn },
    instructions: `Use data-gjs-type="lightGallery" to create image galleries. Examples:

\`\`\`html
<!-- Single image -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>

<!-- Multiple images in gallery -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE1_URL">
    <img src="IMAGE1_PREVIEW_URL" alt="Image 1" />
  </a>
  <a href="IMAGE2_URL">
    <img src="IMAGE2_PREVIEW_URL" alt="Image 2" />
  </a>
</div>

<!-- Video gallery -->
<div data-gjs-type="lightGallery">
  <a data-src="YOUTUBE_URL" data-poster="THUMBNAIL_URL" data-sub-html="Video Caption">
    <img src="THUMBNAIL_URL" alt="Video thumbnail" />
  </a>
</div>

<!-- Inline gallery -->
<div data-gjs-type="lightGallery" data-gjs-inline="true">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>
\`\`\``
  },
  {
    id: "StudioSdkPlugins_swiperComponent",
    name: "Swiper (Slider)",
    description: "Slider component plugin based on Swiper.",
    category: un.components,
    src: `${Qr}/dist/swiperComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/swiper-plugin-ded7740b473376f249829eced9003fee.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn },
    instructions: `Use standard SwiperJS structure. SwiperJS options can be passed via data-gjs-{option-name} attributes:

\`\`\`html
<div class="swiper" data-gjs-space-between="100" style="height: 200px">
  <div class="swiper-wrapper">
    <div class="swiper-slide">Slide 1</div>
    <div class="swiper-slide">Slide 2</div>
    <div class="swiper-slide">Slide 3</div>
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>
\`\`\`

SwiperJS options can be passed via data-gjs-{option-name} attributes.`
  },
  {
    id: "StudioSdkPlugins_iconifyComponent",
    name: "Iconify",
    description: "Add an icon component with the icon picker by levering the Iconify collections.",
    category: un.components,
    src: `${Qr}/dist/iconifyComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/iconify-plugin-265b0e0e9218b0d33744366e5a069bef.png",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn }
  },
  {
    id: "StudioSdkPlugins_accordionComponent",
    name: "Accordion",
    description: "Accordion component, allowing users to create collapsible content sections with smooth animations and keyboard navigation support.",
    category: un.components,
    src: `${Qr}/dist/accordionComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/accordion-plugin-09ee15747de2cbc119e7e9ca654abec6.webp",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn, blockGroup: vn },
    instructions: `Provide data-gjs-type="accordion" to identify the component, and use the accordion structure:

\`\`\`html
<details data-gjs-type="accordion">
  <summary data-gjs-type="accordion-header">
    <div>Accordion header</div>
    <div data-gjs-type="accordion-marker"></div>
  </summary>
  <div data-gjs-type="accordion-content">
    <div>Accordion content</div>
  </div>
</details>
\`\`\`

Available properties: open (checkbox), clsMarkerOpen. The component uses HTML details/summary elements with custom styling and animations.`
  },
  {
    id: "StudioSdkPlugins_animationComponent",
    name: "Animations",
    description: "Add scroll-triggered animation components with support for staggered grouping effects.",
    category: un.components,
    src: `${Qr}/dist/animationComponent/index.umd.js`,
    image: "https://app.grapesjs.com/docs-sdk/assets/images/animation-plugin-f099c7cb5c88ffd5ca7794cbfcd0d7af.webp",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn, blockGroup: vn },
    instructions: `Use data-gjs-type="animation" to identify the component. Animation options are set via CSS properties in the style attribute:

\`\`\`html
<!-- Basic animation -->
<div data-gjs-type="animation" style="animation-name: fadeInUp; animation-duration: 1s">
  Content to animate
</div>

<!-- Scroll-triggered animation -->
<div data-gjs-type="animation" style="animation-name: slideInLeft; animation-delay: 0.5s">
  Content that animates on scroll
</div>

<!-- Grouped animations (staggered) -->
<div data-gjs-type="animation-group">
  <div data-gjs-type="animation" style="animation-name: fadeInDown" class="animated-box">Item 1</div>
  <div data-gjs-type="animation" style="animation-name: fadeInLeft" class="animated-box">Item 2</div>
  <div data-gjs-type="animation" style="animation-name: fadeInUp" class="animated-box">Item 3</div>
</div>

<!-- Repeat animation on scroll -->
<div data-gjs-type="animation" style="animation-name: zoomIn; --animation-repeat: true">
  Content that repeats animation on each scroll
</div>
\`\`\``
  },
  {
    id: "StudioSdkPlugins_shapeDividerComponent",
    name: "Shape Divider",
    description: "Add shape divider components to create visually appealing section transitions.",
    category: un.components,
    src: `${Qr}/dist/shapeDividerComponent/index.umd.js`,
    image: "https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/4d65c7f4-aa7c-4019-80a4-7c06b3143207__plugin-shape-divider.webp",
    version: Cr,
    projectType: [ke.web],
    options: { block: vn, blockGroup: vn }
  }
], nj = CS.reduce(
  (e, t) => (e[t.id] = t, e),
  {}
), rj = () => new Promise((e) => {
  setTimeout(() => e(CS), 100);
}), db = ce(function({
  plugin: t,
  className: n,
  installed: r,
  onInstall: o,
  onSelect: s
}) {
  const i = Le(), a = (h) => i.t(`pluginManager.${h}`), l = r[t.id], c = () => s == null ? void 0 : s(t), d = () => o(t), p = k(
    "gs-cmp-plugin-item gs-utl-overflow-hidden gs-utl-max-w-full gs-utl-group gs-utl-px-4 gs-utl-py-3",
    n
  ), f = k("gs-utl-cursor-pointer gs-utl-font-bold", De.txtEllips), g = k(
    "gs-utl-max-w-full gs-utl-h-48 gs-utl-w-72 gs-utl-mx-auto gs-utl-object-cover",
    F.br,
    le.b,
    le.rnd
  );
  return /* @__PURE__ */ L(Pn, { className: p, padding: !1, classNameBody: "gs-utl-flex gs-utl-flex-col gs-utl-gap-2", children: [
    /* @__PURE__ */ L(R, { items: "center", gap: "s", nowrap: !0, children: [
      /* @__PURE__ */ u(j, { className: f, onClick: c, children: t.name }),
      /* @__PURE__ */ u(j, { grow: !0, children: /* @__PURE__ */ u(Vt, { className: "gs-utl-opacity-90", label: `v${t.version}`, s: "s", pill: !0, border: !0 }) }),
      /* @__PURE__ */ u(Xe, { className: "gs-utl-text-sm", size: "m2", variant: "pr", onClick: d, children: a(l ? "uninstall" : "install") })
    ] }),
    /* @__PURE__ */ L(R, { gap: "s", col: !0, className: "md:gs-utl-flex-nowrap md:gs-utl-flex-row", children: [
      /* @__PURE__ */ u(j, { grow: !0, className: "gs-utl-text-sm", children: t.description }),
      t.image && /* @__PURE__ */ u("img", { className: g, src: t.image, alt: t.name })
    ] })
  ] });
}), xS = ce(function(t) {
  const { selectedId: n, loadPlugins: r, loadPluginsInstalled: o } = t, s = Le(), [i] = ku(), a = Dg(), l = we(), [c, d] = W(), [p, f] = W(), [g, h] = W(), [m, b] = W(
    "all"
    /* All */
  ), y = m === "all" ? g : p, v = s.tScoped("pluginManager"), { editor: S } = l, w = { editor: S }, C = async () => (o ? await o(w) : await Lu()).map((_) => ({
    ...nj[_.id],
    ..._
  }));
  G(() => {
    const _ = setTimeout(async () => {
      if (p || f(await C()), !g) {
        const M = r ? await r(w) : await rj();
        h(M);
      }
    });
    return () => clearTimeout(_);
  }, [p, g, S]), G(() => {
    if (n && g && !a.selectedShown) {
      const A = g.find((_) => _.id === n);
      A && d(A), a.setSelectedShown(!0);
    }
  }, [g]);
  const x = ue(
    () => [
      {
        id: "all",
        label: v("all")
      },
      {
        id: "installed",
        label: v("installed") + (p != null && p.length ? ` (${p.length})` : "")
      }
    ],
    [s, p == null ? void 0 : p.length]
  ), E = Et(
    async (A) => {
      const { onInstall: _, onUninstall: M } = t;
      p != null && p.find((V) => V.id === A.id) ? (await (M == null ? void 0 : M(A, w)), await F8(A, {
        skipUpdateLocal: !!M,
        installed: M ? p : void 0
      })) : (await (_ == null ? void 0 : _(A, w)), await B8(A, {
        skipUpdateLocal: !!_,
        installed: _ ? p : void 0
      })), f(await C());
    },
    [p, S]
  ), O = ue(
    () => (p == null ? void 0 : p.reduce((A, _) => (A[_.id] = _.version, A), {})) || {},
    [p]
  ), T = !!(c || a.hasPending), P = async () => {
    if (o) {
      const A = await C();
      a.setProjectPlugins(A, { clearPending: !0 }), l.refreshStudio(), l.store.modalStore.close();
    } else
      l.updateStudio();
  };
  return /* @__PURE__ */ L(R, { gap: "m", col: !0, full: !0, children: [
    T && /* @__PURE__ */ L(R, { children: [
      !!c && /* @__PURE__ */ u(Xe, { onClick: () => d(void 0), className: F.tAo, border: !1, children: /* @__PURE__ */ L(R, { gap: "xs", items: "center", children: [
        /* @__PURE__ */ u(ae, { icon: Z.chevronLeft, size: fe.s }),
        /* @__PURE__ */ u("div", { children: v("allPlugins") })
      ] }) }),
      a.hasPending && /* @__PURE__ */ u(Xe, { className: "gs-utl-text-sm gs-utl-ml-auto", size: "m2", variant: "out", onClick: P, children: v("updateStudio") })
    ] }),
    c ? /* @__PURE__ */ u(j, { grow: !0, className: "gs-utl-w-full", children: /* @__PURE__ */ u(db, { plugin: c, installed: O, onInstall: E, selected: !0 }) }) : /* @__PURE__ */ L(pe, { children: [
      /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(bo, { tabs: x, onChange: b, value: m }) }),
      /* @__PURE__ */ u(j, { grow: !0, children: y ? y.length ? /* @__PURE__ */ u(
        pl,
        {
          data: y,
          listClassName: "gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-pr-2",
          itemContent: (A, _) => /* @__PURE__ */ u(
            db,
            {
              plugin: _,
              installed: O,
              onInstall: E,
              onSelect: d
            },
            _.id
          )
        },
        i
      ) : /* @__PURE__ */ u(R, { justify: "center", children: s.t("notItemsFound") }) : /* @__PURE__ */ u(dl, {}) })
    ] })
  ] });
}), oj = ce(function() {
  const { isOpen: t, toggleOpen: n } = G0(), { editor: r, sdkProps: o, sdkOptions: s, isProjectTypeEmail: i } = we(), a = Wr(), l = Le(), c = o.children, d = l.tScoped("blockManager"), p = Y(
    "absolute left-0 top-0 h-full transition-transform z-10",
    !t && "-translate-x-full",
    le.br,
    F.br,
    F.bg
  ), f = () => {
    a.open({
      fullH: !0,
      title: l.t("pluginManager.plugins"),
      content: () => /* @__PURE__ */ u(xS, {})
    });
  }, g = ue(
    () => [
      !!s.pluginManager && !i && {
        id: "add",
        title: d("add"),
        className: F.tAo,
        onClick: f,
        icon: Z.viewGridPlus
      }
    ].filter(Boolean),
    [r]
  );
  return /* @__PURE__ */ L(R, { className: p, style: { width: 240 }, col: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Zg, { title: d("blocks"), onClose: n, className: Y(Ve.s), actions: g }) }),
    /* @__PURE__ */ L(Is, { children: [
      wn(c, zw),
      /* @__PURE__ */ u(j, { className: Y("overflow-hidden"), grow: !0, children: /* @__PURE__ */ u(wS, { isOpen: t }) }),
      wn(c, Fw)
    ] })
  ] });
}), Xd = "gs-canvas-spot-drag";
function sj({ spot: e, className: t }) {
  const n = rr(), r = Ci(e.component), o = k(le.b, r.border), { originComponent: s, matchedComponents: i, originMatchedDistances: a } = e.attributes;
  return /* @__PURE__ */ L("div", { className: t, children: [
    /* @__PURE__ */ u(pb, { editor: n, componentEl: s, className: k(Xd, o) }),
    i.map((l) => /* @__PURE__ */ u(
      pb,
      {
        editor: n,
        componentEl: l,
        className: k(`${Xd}__matched`, o)
      },
      l.id
    )),
    a.map((l, c) => /* @__PURE__ */ u(
      ij,
      {
        editor: n,
        originMatchedDistance: l,
        className: k(`${Xd}__distance`),
        componentColorClasses: r
      },
      c
    ))
  ] });
}
function pb(e) {
  const { editor: t, componentEl: n, className: r } = e, o = t.Canvas.getCanvasView(), { x: s, y: i, width: a, height: l } = o.getElBoxRect(n), c = k(r, "gs-utl-absolute gs-utl-top-0 gs-utl-left-0"), d = {
    translate: `${s}px ${i}px`,
    width: `${a}px`,
    height: `${l}px`
  };
  return /* @__PURE__ */ u("div", { className: c, style: d });
}
function ij(e) {
  const { originMatchedDistance: t, editor: n, className: r, componentColorClasses: o } = e, i = n.Canvas.getCanvasView().clsUnscale || "", { axis: a, x: l, y: c, width: d, height: p } = t, f = a === "y", g = f ? d : p, h = {
    translate: `${l}px ${c}px`,
    width: `${d}px`,
    height: `${p}px`
  }, m = `${r}__guides`, b = `${r}__guide-info ${r}__guide-info__${a} gs-utl-absolute`, y = k(
    `${r}__guide-info__line`,
    o.bg,
    f ? "gs-utl-w-full gs-utl-h-[1px]" : "gs-utl-h-full gs-utl-w-[1px]"
  ), v = k(
    `${r}__guide-info__content gs-utl-w-full gs-utl-h-full gs-utl-flex gs-utl-justify-center gs-utl-items-center`
  ), S = k(
    `${r}__guide-info__badge gs-utl-shadow-md`,
    i,
    o.bg
  );
  return /* @__PURE__ */ u("div", { className: m, children: /* @__PURE__ */ u("div", { className: b, style: h, children: /* @__PURE__ */ u("div", { className: y, children: /* @__PURE__ */ u("div", { className: v, children: /* @__PURE__ */ L(Vt, { className: S, s: "s", children: [
    Math.round(g),
    "px"
  ] }) }) }) }) });
}
const aj = {
  pointerEvents: "all"
};
function oi({ spot: e, children: t, style: n, spotStyles: r, ...o }) {
  const s = {
    ...r || e.getStyle(),
    ...n
  };
  return /* @__PURE__ */ u("div", { ...o, style: s, children: /* @__PURE__ */ u("div", { style: aj, children: t }) });
}
const zn = Yt(function({ children: t, className: n, position: r, out: o, skipUnscale: s, ...i }, a) {
  var g;
  const { Canvas: l } = rr(), c = !s && ((g = l.getCanvasView()) == null ? void 0 : g.clsUnscale) || "", d = [], p = {};
  switch (r) {
    case "top-left":
      d.push("top-0", "left-0"), p.transformOrigin = "top left", o && (p.translate = "0 -100%", p.transformOrigin = "bottom left");
      break;
    case "top-center":
      d.push("top-0"), p.left = "50%", p.translate = "-50% 0", p.transformOrigin = "top center", o && (p.translate = "-50% -100%", p.transformOrigin = "bottom center");
      break;
    case "top-right":
      d.push("top-0", "right-0"), p.transformOrigin = "top right", o && (p.translate = "0 -100%", p.transformOrigin = "bottom right");
      break;
    case "center-left":
      d.push("left-0"), p.top = "50%", p.translate = "0 -50%", p.transformOrigin = "center left", o && (p.translate = "-100% -50%", p.transformOrigin = "center right");
      break;
    case "center-center":
      p.top = "50%", p.left = "50%", p.translate = "-50% -50%", p.transformOrigin = "center";
      break;
    case "center-right":
      d.push("right-0"), p.top = "50%", p.translate = "0 -50%", p.transformOrigin = "center right", o && (p.translate = "100% -50%", p.transformOrigin = "center left");
      break;
    case "bottom-left":
      d.push("left-0", "bottom-0"), p.transformOrigin = "bottom left", o && (p.translate = "0 100%", p.transformOrigin = "top left");
      break;
    case "bottom-center":
      d.push("bottom-0"), p.left = "50%", p.translate = "-50% 0", p.transformOrigin = "bottom center", o && (p.translate = "-50% 100%", p.transformOrigin = "top center");
      break;
    case "bottom-right":
      d.push("right-0", "bottom-0"), p.transformOrigin = "bottom right", o && (p.translate = "0 100%", p.transformOrigin = "top right");
      break;
  }
  const f = {
    ...p,
    ...i.style
  };
  return /* @__PURE__ */ u(
    "div",
    {
      ...i,
      className: k(c, te(n, "gs-utl-flex gs-utl-absolute", d.join(" "))),
      style: f,
      ref: a,
      children: t
    }
  );
});
function PS({ spot: e, className: t, badgeConfig: n }) {
  const r = rr(), { Canvas: o } = r, s = (n == null ? void 0 : n.position) || "top-left", [i, a] = W(s), l = e.component, c = e.getBoxRect(), d = o.getWorldRectToScreen(c), p = q(null), f = o.getElement().clientHeight;
  return w0(p, {
    zoomMultiplier: o.getZoomMultiplier(),
    boxRectScreen: d,
    vwHeight: f,
    setPos: a,
    initialPos: s
  }), !l || l.get("badgable") === !1 ? null : /* @__PURE__ */ u(zn, { className: "gs-utl-pointer-events-none", ref: p, style: OS, position: i, out: !0, children: /* @__PURE__ */ u(
    Vt,
    {
      className: k(n == null ? void 0 : n.className, "gs-utl-shadow-md", t || Ci(l).bg),
      style: n == null ? void 0 : n.style,
      s: "s",
      children: /* @__PURE__ */ L(R, { gap: "xs", items: "center", nowrap: !0, children: [
        (n == null ? void 0 : n.icon) !== !1 && hg(l),
        /* @__PURE__ */ u("div", { className: "gs-utl-whitespace-nowrap gs-utl-max-w-36 gs-utl-truncate", children: l.getName() })
      ] })
    }
  ) });
}
function lj({ spot: e, className: t, spotConfig: n }) {
  const r = ES(n), o = k(n == null ? void 0 : n.className, le.b, Ci(e.component).border, t);
  return /* @__PURE__ */ u(oi, { spot: e, className: o, style: n == null ? void 0 : n.style, children: r && /* @__PURE__ */ u(PS, { spot: e, badgeConfig: r }) });
}
function ES(e) {
  const t = e == null ? void 0 : e.badge;
  return t === !1 ? !1 : t === !0 ? {} : t || {};
}
const Dc = "gs-cmp-canvas-spot-slots", cf = (e) => {
  var i, a;
  const { appEditorStore: t, position: n, slots: r, className: o } = e, s = (a = (i = t.sdkCanvasConfig) == null ? void 0 : i.spotSlotsContainer) == null ? void 0 : a.call(i, { position: n, slots: r });
  return {
    ...s,
    className: k(`${o} gs-utl-pointer-events-none`, s == null ? void 0 : s.className)
  };
}, cj = ce(function(t) {
  const n = we(), { slots: r = [], cmpRect: o } = t, { topLeft: s, topCenter: i, topRight: a, bottomLeft: l, bottomCenter: c, bottomRight: d } = A0, p = {
    [s]: [],
    [i]: [],
    [a]: [],
    [l]: [],
    [c]: [],
    [d]: []
  };
  r.forEach((C) => {
    if (!C)
      return;
    const { position: x } = C;
    x && p[x] && p[x].push(C);
  });
  const f = p[s], g = p[i], h = p[a], m = p[l], b = p[c], y = p[d], v = !!(f.length || g.length || h.length), S = !!(m.length || b.length || y.length), w = { width: (o == null ? void 0 : o.width) || "100%" };
  return /* @__PURE__ */ L(pe, { children: [
    v && /* @__PURE__ */ L(
      zn,
      {
        position: i,
        style: w,
        out: !0,
        ...cf({
          appEditorStore: n,
          className: `${Dc}__top gs-utl-justify-between`,
          position: "top",
          slots: [...f, ...g, ...h]
        }),
        children: [
          /* @__PURE__ */ u(Ws, { slots: f, position: s, align: "start" }),
          /* @__PURE__ */ u(Ws, { slots: g, position: i, align: "center" }),
          /* @__PURE__ */ u(Ws, { slots: h, position: a, align: "end" })
        ]
      }
    ),
    S && /* @__PURE__ */ L(
      zn,
      {
        position: c,
        style: w,
        out: !0,
        ...cf({
          appEditorStore: n,
          className: `${Dc}__bottom gs-utl-justify-between`,
          position: "bottom",
          slots: [...m, ...b, ...y]
        }),
        children: [
          /* @__PURE__ */ u(Ws, { slots: m, position: l, align: "start" }),
          /* @__PURE__ */ u(Ws, { slots: b, position: c, align: "center" }),
          /* @__PURE__ */ u(Ws, { slots: y, position: d, align: "end" })
        ]
      }
    )
  ] });
}), Ws = ce(function({
  slots: t,
  align: n,
  position: r
}) {
  var l;
  const o = we(), { editor: s } = o, i = ((l = s == null ? void 0 : s.Canvas.getCanvasView()) == null ? void 0 : l.clsUnscale) || "", a = k(`${Dc}__items ${Dc}__items-${r} gs-utl-pointer-events-auto`, i);
  return /* @__PURE__ */ u(R, { className: "gs-utl-w-full", justify: n, nowrap: !0, children: /* @__PURE__ */ u(
    R,
    {
      className: a,
      gap: "s",
      items: "center",
      nowrap: !0,
      ...cf({
        appEditorStore: o,
        className: a,
        position: r,
        slots: t
      }),
      children: t.map((c, d) => /* @__PURE__ */ u(It, { children: Dt(c.layout) }, c.id || d))
    }
  ) });
});
function uj({ spot: e, className: t, spotConfig: n }) {
  const r = rr(), o = we(), s = q(null), [i] = W(OS), [a, l] = W([]), [c, d] = W([]), [p, f] = W("top-right"), g = e.component, h = e.getBoxRect(), { Canvas: m } = r, b = m.getWorldRectToScreen(h), y = e.getStyle({ boxRect: h }), v = r.getSelected() === g, S = m.getElement().clientHeight, w = cg();
  G(() => {
    const V = async () => d(await pj(g, o)), N = async () => l(await w.getItemsForComponent(g)), K = setTimeout(() => {
      V(), N();
    }, 10);
    return () => clearTimeout(K);
  }, [g]), w0(s, {
    zoomMultiplier: m.getZoomMultiplier(),
    boxRectScreen: b,
    vwHeight: S,
    setPos: f
  });
  const C = (V = {}) => {
    var D, I, U;
    const N = (U = (I = (D = r.getSelected()) == null ? void 0 : D.view) == null ? void 0 : I.el) == null ? void 0 : U.getBoundingClientRect(), H = N ? N.left + N.width / 2 : 0, K = N ? N.top + N.height / 2 : 0, z = { ...V.event, clientX: H, clientY: K };
    return { ...V, event: z };
  }, x = (V, N) => {
    V === "tlb-move" && (N = C(N)), ut(V) ? r.runCommand(V, N) : V == null || V(r, "", N);
  }, E = (V) => {
    const N = V.currentTarget.getBoundingClientRect();
    w.show({
      items: a,
      x: N.x + N.width,
      y: N.y
    });
  }, O = Ci(g), T = TS(n), P = k(n == null ? void 0 : n.className, "gs-utl-border-2", O.border, t), A = k(T && T.className, O.bg, "gs-utl-shadow-md"), _ = dj(n), M = T !== !1;
  return /* @__PURE__ */ L(oi, { spot: e, spotStyles: y, style: n == null ? void 0 : n.style, className: P, children: [
    v && M && /* @__PURE__ */ u(zn, { ref: s, style: i, position: p, out: !0, children: /* @__PURE__ */ u(Vt, { className: A, style: T == null ? void 0 : T.style, s: "s", nopad: !0, block: !0, children: /* @__PURE__ */ L(R, { gap: "x2s", items: "center", nowrap: !0, children: [
      _ && /* @__PURE__ */ L(
        R,
        {
          className: k(_.className, "gs-utl-py-1 gs-utl-px-2"),
          style: _.style,
          gap: "xs",
          items: "center",
          nowrap: !0,
          children: [
            _.icon !== !1 && hg(g),
            /* @__PURE__ */ u("div", { className: k(De.txtEllips, "gs-utl-max-w-36"), children: g.getName() })
          ]
        }
      ),
      c.map(({ label: V, command: N = "", tooltip: H }) => /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        _t,
        {
          border: !1,
          rounded: !1,
          size: "s",
          onMouseDown: (K) => x(N, { event: K }),
          tooltipProps: { title: H, strategy: "absolute" },
          className: k("gs-utl-block gs-utl-py-1.5 gs-utl-px-1.5", F.hBgDark),
          children: V != null && V.startsWith("<svg") ? /* @__PURE__ */ u(xf, { className: "gs-utl-w-4 gs-utl-fill-current", svg: V }) : V
        }
      ) }, V)),
      !!a.length && /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(
        Xe,
        {
          border: !1,
          rounded: !1,
          size: "s",
          className: k("gs-utl-block", F.hBgDark),
          onClick: E,
          children: /* @__PURE__ */ u(ae, { icon: Z.dotsVertical, size: fe.s })
        }
      ) })
    ] }) }) }),
    (n == null ? void 0 : n.slots) && /* @__PURE__ */ u(cj, { slots: n.slots, cmpRect: b })
  ] });
}
function TS(e) {
  return e && e.toolbar;
}
function dj(e) {
  const t = TS(e), n = t && t.badge;
  return n === !0 ? {} : n || !1;
}
async function pj(e, t) {
  var d;
  if (!(e != null && e.em))
    return [];
  const n = e.em.getEditor(), r = e.toolbar.filter(Boolean), o = e.get("toolbarItems"), s = await Jd(o, { items: r, component: e, editor: n }), i = {
    items: s,
    component: e,
    editor: n
  }, a = await Jd(s, i), l = (d = t.sdkComponentsConfig) == null ? void 0 : d.toolbar;
  return await Jd(l, { ...i, items: a });
}
const Jd = async (e, t) => it(e) ? (await e(t)).filter(Boolean) : t.items;
var sr = /* @__PURE__ */ ((e) => (e.PaddingTop = "padding-top", e.PaddingRight = "padding-right", e.PaddingBottom = "padding-bottom", e.PaddingLeft = "padding-left", e.MarginTop = "margin-top", e.MarginRight = "margin-right", e.MarginBottom = "margin-bottom", e.MarginLeft = "margin-left", e))(sr || {});
const { PaddingTop: Jl, PaddingRight: Qd, PaddingBottom: Ql, PaddingLeft: ep, MarginTop: ec, MarginRight: tp, MarginBottom: tc, MarginLeft: np } = sr, fj = (e, t) => {
  const n = t != null && t.startsWith("p") ? "padding" : "margin";
  return XA(e, n, t);
}, xo = (e, t, n = {}) => {
  const r = rr(), o = H0(), [s, i] = W(), a = (d) => {
    const f = r.Canvas.getFramesEl().classList, g = d ? "add" : "remove";
    f[g]("gs-utl-pointer-events-none"), f[g]("gs-utl-select-none");
  }, l = (d) => {
    var p, f;
    (p = n.setAltKey) == null || p.call(n, d.altKey), (f = n.setShiftKey) == null || f.call(n, d.shiftKey);
  };
  return G(() => {
    var A;
    const d = [Jl, Ql, ec, tc].includes(t), p = document.body.classList, f = e.component.getEl(), g = r.Styles.getSelected(), h = window.getComputedStyle(f), m = d ? "!cursor-ns-resize" : "!cursor-ew-resize", b = r.Canvas.getZoomMultiplier(), y = {};
    let v = parseFloat(h[t]) ?? 0, S, w = "", C = {};
    for (const _ of Object.values(sr)) {
      const M = _;
      y[M] = h[M];
    }
    const x = (_, M) => {
      const V = t == null ? void 0 : t.startsWith("p"), { altKey: N, shiftKey: H } = M, K = y, z = {
        [Jl]: H || t === Ql && N ? _ : K[Jl],
        [Qd]: H || t === ep && N ? _ : K[Qd],
        [Ql]: H || t === Jl && N ? _ : K[Ql],
        [ep]: H || t === Qd && N ? _ : K[ep]
      }, $ = {
        [ec]: H || t === tc && N ? _ : K[ec],
        [tp]: H || t === np && N ? _ : K[tp],
        [tc]: H || t === ec && N ? _ : K[tc],
        [np]: H || t === tp && N ? _ : K[np]
      };
      return z[t] = _, $[t] = _, V ? z : $;
    }, E = (_) => {
      w && (S ? S.upValue(w, _) : g == null || g.addStyle(C, _));
    }, O = (_) => {
      if (!s || !g)
        return;
      const M = d ? _.clientY - s.y : _.clientX - s.x, V = Math.max(0, parseInt(`${v + M * b}`));
      w = `${V}px`, C = x(w, _), E({ partial: !0 }), o.show(V);
    }, T = () => {
      !s || !g || (i(void 0), a(!1), o.hide(), E());
    }, P = (_) => {
      l(_), C = x(w, _), E({ partial: !0 });
    };
    return s && (document.addEventListener("pointermove", O), document.addEventListener("pointerup", T), document.addEventListener("keydown", P), document.addEventListener("keyup", P), p.add(m), (A = n.onActive) == null || A.call(n, t), n.useStyleProperty && (S = fj(r, t), v = (S == null ? void 0 : S.getValue()) ?? v)), () => {
      var _;
      document.removeEventListener("pointermove", O), document.removeEventListener("pointerup", T), document.removeEventListener("keydown", P), document.removeEventListener("keyup", P), p.remove(m), (_ = n.onActive) == null || _.call(n, void 0);
    };
  }, [s]), [Et((d) => {
    if (d.button !== 0)
      return;
    const { clientX: p, clientY: f } = d;
    i({ x: p, y: f }), a(!0), l(d.nativeEvent);
  }, []), !!s];
}, nc = "gs-utl-border-2 gs-utl-border-white !gs-utl-box-content", fb = "gs-utl-bg-[#7fc65e]", gb = "gs-utl-bg-[#ebae70]", hb = "gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize", mb = "gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize", gj = Pe(function({
  spot: t,
  disabledHandler: n,
  useStyleProperty: r,
  onActive: o
}) {
  const [s, i] = W(!1), [a, l] = W(!1), c = { onActive: o, setAltKey: i, setShiftKey: l, useStyleProperty: r }, [d, p] = xo(t, "padding-top", c), [f, g] = xo(t, "padding-right", c), [h, m] = xo(t, "padding-bottom", c), [b, y] = xo(t, "padding-left", c), [v, S] = xo(t, "margin-top", c), [w, C] = xo(t, "margin-right", c), [x, E] = xo(t, "margin-bottom", c), [O, T] = xo(t, "margin-left", c), P = te(nc, fb, hb), A = te(nc, fb, mb), _ = te(nc, gb, hb), M = te(nc, gb, mb), V = p || g || m || y, N = S || C || E || T, H = V || N, K = (X, ee) => {
    let de = !1;
    const me = V && a, Ee = N && a;
    switch (ee) {
      case "padding-top":
        de = m && s || me;
        break;
      case "padding-right":
        de = y && s || me;
        break;
      case "padding-bottom":
        de = p && s || me;
        break;
      case "padding-left":
        de = g && s || me;
        break;
      case "margin-top":
        de = E && s || Ee;
        break;
      case "margin-right":
        de = T && s || Ee;
        break;
      case "margin-bottom":
        de = S && s || Ee;
        break;
      case "margin-left":
        de = C && s || Ee;
        break;
    }
    return !H || X || de;
  }, z = !!(n != null && n.padding), $ = !!(n != null && n.margin), D = !z && K(
    p,
    "padding-top"
    /* PaddingTop */
  ), I = !z && K(
    g,
    "padding-right"
    /* PaddingRight */
  ), U = !z && K(
    m,
    "padding-bottom"
    /* PaddingBottom */
  ), ne = !z && K(
    y,
    "padding-left"
    /* PaddingLeft */
  ), Q = !$ && K(
    S,
    "margin-top"
    /* MarginTop */
  ), re = !$ && K(
    C,
    "margin-right"
    /* MarginRight */
  ), ie = !$ && K(
    E,
    "margin-bottom"
    /* MarginBottom */
  ), oe = !$ && K(
    T,
    "margin-left"
    /* MarginLeft */
  );
  return /* @__PURE__ */ L(pe, { children: [
    D && /* @__PURE__ */ u(zn, { position: "top-center", onPointerDown: d, children: /* @__PURE__ */ u(Vt, { className: A, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    I && /* @__PURE__ */ u(zn, { position: "center-right", onPointerDown: f, children: /* @__PURE__ */ u(Vt, { className: P, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    U && /* @__PURE__ */ u(zn, { position: "bottom-center", onPointerDown: h, children: /* @__PURE__ */ u(Vt, { className: A, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    ne && /* @__PURE__ */ u(zn, { position: "center-left", onPointerDown: b, children: /* @__PURE__ */ u(Vt, { className: P, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    Q && /* @__PURE__ */ u(zn, { position: "top-center", onPointerDown: v, out: !0, children: /* @__PURE__ */ u(Vt, { className: M, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    re && /* @__PURE__ */ u(zn, { position: "center-right", onPointerDown: w, out: !0, children: /* @__PURE__ */ u(Vt, { className: _, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    ie && /* @__PURE__ */ u(zn, { position: "bottom-center", onPointerDown: x, out: !0, children: /* @__PURE__ */ u(Vt, { className: M, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    oe && /* @__PURE__ */ u(zn, { position: "center-left", onPointerDown: O, out: !0, children: /* @__PURE__ */ u(Vt, { className: _, s: "s", pill: !0, block: !0, nopad: !0 }) })
  ] });
}), bb = (e, t) => {
  var n;
  return !!((n = V0(e, t)) != null && n.isVisible());
}, hj = (e = {}) => {
  const [t, n, r, o] = Sm(e.padding || ""), [s, i, a, l] = Sm(e.margin || "");
  return {
    paddingTop: e[sr.PaddingTop] || t,
    paddingRight: e[sr.PaddingRight] || n,
    paddingBottom: e[sr.PaddingBottom] || r,
    paddingLeft: e[sr.PaddingLeft] || o,
    marginTop: e[sr.MarginTop] || s,
    marginRight: e[sr.MarginTop] || i,
    marginBottom: e[sr.MarginTop] || a,
    marginLeft: e[sr.MarginTop] || l
  };
};
function mj({ spot: e, className: t }) {
  const n = rr(), { isProjectTypeEmail: r } = we(), [o, s] = W(), [i, a] = W({
    padding: !1,
    margin: !1
  }), { el: l, component: c } = e, d = e.getBoxRect(), p = n.Canvas.getZoomDecimal(), f = d.height * p, g = d.width * p, h = e.getStyle({ boxRect: d }), m = n.getSelectedAll().includes(c), b = n.getSelected() === c, y = (o == null ? void 0 : o.startsWith("p")) ?? !1, v = (o == null ? void 0 : o.startsWith("m")) ?? !1, S = hj(r ? c == null ? void 0 : c.getStyle() : {});
  if (G(() => {
    m && a({
      padding: !bb(n, "padding"),
      margin: !bb(n, "margin")
    });
  }, [m]), e.type === "spacing" && m)
    return null;
  const w = {
    borderColor: "rgba(196, 222, 184, 0.5)",
    // '#c4deb8',
    borderStyle: "solid"
  }, C = {
    borderColor: "rgba(249, 204, 158, 0.5)",
    // '#f9cc9e',
    borderStyle: "solid",
    boxSizing: "content-box"
  }, x = window.getComputedStyle(l);
  w.borderTopWidth = S.paddingTop || x.paddingTop, w.borderRightWidth = S.paddingRight || x.paddingRight, w.borderBottomWidth = S.paddingBottom || x.paddingBottom, w.borderLeftWidth = S.paddingLeft || x.paddingLeft, C.borderTopWidth = S.marginTop || x.marginTop, C.borderRightWidth = S.marginTop || x.marginRight, C.borderBottomWidth = S.marginTop || x.marginBottom, C.borderLeftWidth = S.marginTop || x.marginLeft;
  const E = {
    ...h,
    ...w
  }, O = {
    ...h,
    ...C,
    translate: `${d.x - parseFloat(x.marginLeft)}px ${d.y - parseFloat(x.marginTop)}px`
  };
  return /* @__PURE__ */ L(pe, { children: [
    (!m || y) && /* @__PURE__ */ u(oi, { spot: e, spotStyles: E, className: te(t) }),
    (!m || v) && /* @__PURE__ */ u(oi, { spot: e, spotStyles: O, className: te(t) }),
    b && (f > 60 && g > 60 || o) && /* @__PURE__ */ u(oi, { spot: e, spotStyles: h, className: te(t), children: /* @__PURE__ */ u(
      gj,
      {
        spot: e,
        onActive: s,
        disabledHandler: i,
        useStyleProperty: r
      }
    ) })
  ] });
}
function bj({ spot: e, className: t, spotConfig: n }) {
  const r = ES(n), o = k(n == null ? void 0 : n.className, "gs-utl-border-2", F.cmpTargetBr, F.cmpTargetBgOpac, t);
  return /* @__PURE__ */ u(oi, { spot: e, className: o, style: n == null ? void 0 : n.style, children: r && /* @__PURE__ */ u(PS, { spot: e, className: F.cmpTargetBg, badgeConfig: r }) });
}
async function vj(e, t) {
  var p;
  const n = e.component, r = n == null ? void 0 : n.em.getEditor();
  if (!n || !r)
    return {};
  const o = {}, s = Ci(n), i = { editor: r, component: n, spot: e, componentTheme: s, result: o }, a = n.get("canvasSpots"), l = await (a == null ? void 0 : a(i)) || o, c = (p = t.sdkCanvasConfig) == null ? void 0 : p.canvasSpots;
  return await (c == null ? void 0 : c({ ...i, result: l })) || l;
}
const yj = 9, OS = {
  padding: `${yj}px 0`
}, vb = "dragAbsolute";
function wj({ spot: e }) {
  const t = rr(), [n, r] = W(), { Canvas: o } = t, s = we(), i = t.getEditing(), { type: a, component: l } = e, c = a === "select", d = a === "spacing", p = a === "hover", f = a === "target", g = a === vb, h = [vb];
  return G(() => {
    const m = "change:editing", b = `${t.Components.events.update}:status ${m}`, y = async () => r(await vj(e, s)), v = setTimeout(y);
    return t.on(b, y), () => {
      clearTimeout(v), t.off(b, y);
    };
  }, [l]), !n || !e.el || s.isInPreview || !o.hasCustomSpot(a) && !h.includes(a) || // When selecting a target, skip any other spot besides the 'target'
  s.isSelectingTarget && !f || // Avoid hover/spacing spots on inner components during editing
  (p || d) && i && (l != null && l.isChildOf(i)) ? null : /* @__PURE__ */ L(pe, { children: [
    (d || c) && n.spacing !== !1 && /* @__PURE__ */ u(mj, { spot: e, className: "gs-utl-z-0" }),
    f && n.target !== !1 && /* @__PURE__ */ u(bj, { spot: e, spotConfig: n.target, className: "gs-utl-z-10" }),
    c && n.select !== !1 && /* @__PURE__ */ u(uj, { spot: e, spotConfig: n.select, className: "gs-utl-z-20" }),
    p && n.hover !== !1 && /* @__PURE__ */ u(lj, { spot: e, spotConfig: n.hover, className: "gs-utl-z-30" }),
    g && /* @__PURE__ */ u(sj, { spot: e, className: "gs-utl-z-40" })
  ] });
}
const yb = /* @__PURE__ */ new WeakMap();
function _S(e) {
  if (!e)
    return () => null;
  const t = yb.get(e);
  if (t)
    return t;
  const n = function({ children: o }) {
    return Sb.createPortal(o, e);
  };
  return yb.set(e, n), n;
}
const Sj = Pe(function({ children: t }) {
  const n = yg(), [r, o] = W([]), [s, i] = W({});
  G(() => {
    if (!n)
      return;
    n.onReady(() => {
      const d = n.Canvas.getSpotsEl(), p = _S(d);
      i({ Container: p });
    });
    const l = "canvas:spot", c = () => {
      const d = n.Canvas.getSpots();
      o(d);
    };
    return n.on(l, c), () => {
      n.off(l, c);
    };
  }, [n]);
  const { Container: a } = s;
  return n && a ? /* @__PURE__ */ u(a, { children: t({ spots: r }) }) : null;
}), Cj = ce(function() {
  const { isCanvasPanning: t } = we();
  return /* @__PURE__ */ u(Sj, { children: ({ spots: n }) => /* @__PURE__ */ u(Vr, { show: !t, ...Tv, children: n.map((r) => /* @__PURE__ */ u(wj, { spot: r }, r.id)) }) });
}), as = "gs-layout-panel", xj = Pe(
  ce(function({ className: t, layout: n, children: r }) {
    const o = bg(), s = Wr(), [i, a] = W(!1), [l, c] = W(null), { id: d, header: p, layout: f, props: g, full: h = !0, style: m, toRemove: b, disablePropagation: y } = n, v = () => {
      a(!1), setTimeout(() => o.remove(d, { force: !0 }), 150);
    }, S = n.placer || { type: Ks.absolute, position: ls.left }, w = S.type === Ks.absolute ? S : null, C = S.type === Ks.popover ? S : null, x = S.type === Ks.static ? S : null, E = S.type === Ks.dialog ? S : null, O = (w == null ? void 0 : w.position) === ls.left, T = (w == null ? void 0 : w.position) === ls.right, P = (w == null ? void 0 : w.position) === ls.top, A = (w == null ? void 0 : w.position) === ls.bottom, _ = (w == null ? void 0 : w.position) === ls.center, M = (w == null ? void 0 : w.resizable) || (x == null ? void 0 : x.resizable), V = x || E, N = ut(f) ? { type: f } : f, H = !!w, { x: K, y: z } = C || {}, $ = (C == null ? void 0 : C.w) || (C == null ? void 0 : C.width), D = (C == null ? void 0 : C.h) || (C == null ? void 0 : C.height), I = C == null ? void 0 : C.target, U = ue(
      () => I && i ? I : {
        getBoundingClientRect: () => I ? I.getBoundingClientRect() : new DOMRect(K, z, $, D)
      },
      [K, z, $, D, I, i]
    ), ne = Ti(U, l, {
      ...O0,
      placement: "auto",
      ...C == null ? void 0 : C.options
    }), Q = k(
      as,
      F.br,
      F.bg,
      F.txt,
      "gs-utl-z-10",
      H && "gs-utl-absolute gs-utl-transition",
      (O || P) && "gs-utl-top-0 gs-utl-left-0",
      T && "gs-utl-top-0 gs-utl-right-0",
      A && "gs-utl-bottom-0 gs-utl-left-0",
      _ && "gs-utl-scale-100 gs-utl-inset-0",
      H && h && (O || T ? "gs-utl-h-full" : "gs-utl-w-full"),
      !i && H ? "gs-utl-opacity-0" : "gs-utl-opacity-100",
      !i && O && "-gs-utl-translate-x-full",
      !i && T && "gs-utl-translate-x-full",
      !i && P && "-gs-utl-translate-y-full",
      !i && A && "gs-utl-translate-y-full",
      !i && _ && "gs-utl-scale-75",
      C && le.rnd,
      C && le.b,
      n.className,
      t
    );
    G(() => {
      const ee = setTimeout(() => a(!0));
      return () => clearTimeout(ee);
    }, []), G(() => {
      b && v();
    }, [b]);
    const re = {
      ...m,
      width: (m == null ? void 0 : m.width) || (O || T ? 240 : void 0)
    };
    y0(
      { current: l },
      {
        onTrigger: v,
        enabled: (C == null ? void 0 : C.closeOnClickAway) && i
      }
    );
    const ie = (ee) => {
      y && ee.nativeEvent.stopImmediatePropagation();
    }, oe = /* @__PURE__ */ L(pe, { children: [
      p !== !1 && /* @__PURE__ */ u(j, { className: k(`${as}__header`, p == null ? void 0 : p.className), style: p == null ? void 0 : p.style, children: /* @__PURE__ */ u(
        Zg,
        {
          onClose: (p == null ? void 0 : p.close) !== !1 ? v : void 0,
          className: te(Ve.s),
          title: /* @__PURE__ */ L(R, { className: `${as}__title`, space: "s", items: "center", children: [
            !!(p != null && p.icon) && /* @__PURE__ */ u(ae, { icon: p.icon, size: fe.s }),
            !!(p != null && p.label) && /* @__PURE__ */ u(j, { grow: !0, children: p.label })
          ] })
        }
      ) }),
      /* @__PURE__ */ u(j, { className: k(`${as}__content`, "gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"), grow: !0, children: f || d ? Dt({ ...g, id: d, ...N }) : r })
    ] }), X = /* @__PURE__ */ u(R, { className: Q, style: re, col: !0, nowrap: !0, onPointerDown: ie, onMouseDown: ie, children: M ? /* @__PURE__ */ u(fl, { ...M, className: k(`${as}__resizable`, M.className), children: oe }) : oe });
    return G(() => {
      if (i) {
        if (x) {
          const ee = o.layoutsById.get(x.layoutId);
          if (ee)
            return ee.setState({ children: X }), () => {
              !n.placer.skipCleanup && ee.setState({ children: null });
            };
        } else if (E)
          return s.open({
            // use function to avoid mobx errors
            content: () => X,
            disablePropagation: y,
            title: E.title,
            size: E.size,
            onClose: v
          }), () => {
            s.close();
          };
      }
    }, [i]), V ? null : C ? /* @__PURE__ */ u(
      "div",
      {
        className: te(as, `${as}-popover`, "gs-utl-z-20"),
        ref: c,
        style: ne.styles.popper,
        ...ne.attributes.popper,
        children: /* @__PURE__ */ u(Vr, { show: i, ...Ga, unmount: !1, children: X })
      }
    ) : X;
  })
), Pj = ce(function({
  className: t,
  ...n
}) {
  const { layouts: r } = bg();
  return /* @__PURE__ */ u("div", { className: k("gs-layout-panel-container", t), ...n, children: r.map((o) => /* @__PURE__ */ u(xj, { layout: o }, o.id)) });
}), eo = "gs-cmp-modal";
function AS({
  open: e = !1,
  title: t,
  disablePropagation: n,
  isDarkTheme: r,
  description: o,
  children: s,
  onClose: i,
  preventOverflow: a,
  closable: l = !0,
  fullH: c,
  buttons: d = [],
  size: p
}) {
  const f = () => l && i(), g = k(
    hv,
    `${eo} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,
    r && Ip
  ), h = k(
    `${eo}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,
    c ? "gs-utl-items-stretch gs-utl-h-full" : "gs-utl-items-center",
    a && "gs-utl-h-dvh"
  ), m = k(
    `${eo}-container`,
    "gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",
    le.b,
    F.br,
    F.bg,
    F.txt,
    p === "lg" ? "gs-utl-max-w-lg" : p === "l" ? "gs-utl-max-w-5xl" : p === "s" ? "gs-utl-max-w-sm" : "gs-utl-max-w-md"
  ), b = k(
    `${eo}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`
  ), y = k(`${eo}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`), v = k(`${eo}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`), S = k(`${eo}-desc gs-utl-m-0`), w = k(
    `${eo}-content gs-utl-mt-4 gs-utl-h-full gs-utl-min-h-0`,
    a && "gs-utl-overflow-hidden"
  ), C = k(`${eo}-buttons gs-utl-mt-4`), x = (E) => {
    n && E.nativeEvent.stopImmediatePropagation();
  };
  return /* @__PURE__ */ u(Vr, { show: e, as: It, children: /* @__PURE__ */ u(Vi, { onClose: f, className: g, onPointerDown: x, onMouseDown: x, children: /* @__PURE__ */ L("div", { className: h, children: [
    /* @__PURE__ */ u(Vr.Child, { as: It, ...Ga, children: /* @__PURE__ */ u(Vi.Overlay, { className: b }) }),
    /* @__PURE__ */ u(Vr.Child, { as: It, ...Ef, children: /* @__PURE__ */ L("div", { className: m, children: [
      l && /* @__PURE__ */ u("div", { className: y, children: /* @__PURE__ */ u(_t, { block: !0, border: !1, onClick: f, children: /* @__PURE__ */ u(ae, { icon: Z.close, size: 1 }) }) }),
      /* @__PURE__ */ u(Vi.Title, { as: "h3", className: v, children: t }),
      /* @__PURE__ */ u(Vi.Description, { className: S, children: o }),
      /* @__PURE__ */ u("div", { className: w, children: s }),
      d.length > 0 && /* @__PURE__ */ u(R, { className: C, space: "m", items: "center", justify: "end", children: d.map((E, O) => /* @__PURE__ */ u(Xe, { ...E }, O)) })
    ] }) }),
    /* @__PURE__ */ u(Vi, { onClose: () => {
    }, open: !1 })
  ] }) }) });
}
const Ej = ce(function() {
  const { isOpen: t, close: n, content: r, modalProps: o } = Wr(), { isDarkTheme: s } = En();
  return /* @__PURE__ */ u(AS, { open: t, onClose: n, isDarkTheme: s, ...o, children: it(r) ? r() : r });
}), Tj = "gs-panel-page-settings-cnt", Oj = ce(function() {
  const t = Le(), n = we(), { panelPageSettings: r } = n, o = t.tScoped("pageManager.settings"), { isOpen: s, page: i, width: a } = r, l = Y(
    Tj,
    "absolute left-0 top-0 h-full transition-transform z-10",
    !s && "-translate-x-full",
    le.br,
    F.br,
    F.bg
  ), c = Y(Ve.s), d = () => n.setPanelPageSettings({ isOpen: !1 });
  return /* @__PURE__ */ L(R, { className: l, style: { width: a }, col: !0, nowrap: !0, children: [
    /* @__PURE__ */ u(j, { children: /* @__PURE__ */ u(Zg, { title: o("title"), onClose: d, className: c }) }),
    /* @__PURE__ */ u(Is, { children: /* @__PURE__ */ u(j, { className: Y("overflow-hidden"), grow: !0, children: r.isOpen && /* @__PURE__ */ u(
      nS,
      {
        page: i,
        size: pu.s,
        classNameHeader: c,
        classNameContent: c,
        classNameFooter: c
      }
    ) }) })
  ] });
}), wb = "gs-cmp-custom-rte", _j = ce(function({ items: t }) {
  const n = (r) => r.nativeEvent.stopImmediatePropagation();
  return /* @__PURE__ */ u(
    Pn,
    {
      className: k(wb, "gs-utl-m-2"),
      size: "s",
      onPointerDown: n,
      onMouseDown: n,
      classNameBody: k(`${wb}__body`, "gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),
      children: Dt(t)
    }
  );
});
function Aj({ children: e }) {
  const t = yg(), [n, r] = W({
    enabled: !1,
    actions: [],
    Container: () => null
  });
  G(() => {
    if (!t)
      return;
    const l = t.RichTextEditor, c = l.events.custom, d = (p) => {
      let f;
      const g = l.customRte, h = g == null ? void 0 : g.toolbar, m = l.model.attributes.currentView;
      h && (m != null && m.model) && (f = h({
        editor: t,
        view: m,
        component: m.model,
        el: m.getChildrenContainer()
      }));
      const b = l.getAll().map((y) => ({
        id: y.name,
        icon: y.icon,
        run: () => l.run(y),
        state: y.currentState
      }));
      r({
        customRte: g,
        customToolbar: f,
        enabled: p.enabled,
        Container: _S(p.container),
        actions: b
      });
    };
    return t.on(c, d), () => {
      t.off(c, d);
    };
  }, [t]);
  const { Container: o, customToolbar: s, customRte: i } = n;
  return t && o ? /* @__PURE__ */ u(o, { children: i ? s ? /* @__PURE__ */ u(_j, { items: s }) : null : e(n) }) : null;
}
function Lj() {
  return /* @__PURE__ */ u(Aj, { children: ({ actions: e }) => /* @__PURE__ */ u(R, { className: Y(F.bg, le.b, le.rnd, F.br, "gjs-m-2"), nowrap: !0, children: e.map((t, n) => /* @__PURE__ */ u(
    Xe,
    {
      border: !1,
      rounded: !1,
      active: t.state === 1,
      disabled: t.state === -1,
      className: Y("w-6", F.br, n !== 0 && le.bl),
      dangerouslySetInnerHTML: { __html: t.icon },
      onClick: t.run
    },
    t.id
  )) }) });
}
const Nj = ce((e) => {
  const { select: t, close: n, Container: r, open: o } = e, s = $s(), { editor: i } = we();
  if (!i || !o)
    return /* @__PURE__ */ u(r, { children: null });
  const {
    providers: a,
    onSelect: l,
    typeId: c,
    providerId: d,
    types: p,
    optionalType: f,
    optionalProvider: g,
    projectAssetsOption: h,
    content: m
  } = i.Assets.__customData().options;
  return /* @__PURE__ */ u(r, { children: /* @__PURE__ */ u(
    Hw,
    {
      panelId: s.mainPanelId,
      onSelect: l ?? (({ asset: b }) => t(b)),
      close: n,
      types: p,
      providers: a,
      typeId: c,
      providerId: d,
      optionalType: f,
      optionalProvider: h ?? g,
      content: m
    }
  ) });
}), kj = ce(function() {
  var y, v;
  const t = we(), n = $s(), { projectType: r, editorKey: o, setEditor: s, sdkProps: i, sdkOptions: a, currentLayout: l } = t, { isDarkTheme: c } = En(), d = !!((v = (y = a.gjsOptions) == null ? void 0 : y.assetManager) != null && v.custom), p = Dg(), [f, g] = ue(
    () => [D8(r, a), p.getPluginsToLoad(r, t)],
    [r, o]
  ), h = (S) => {
    var w, C;
    s(S), n.onEditor(), (w = i.onEditor) == null || w.call(i, S), (C = a.onEditor) == null || C.call(a, S), S.on("destroy", () => {
      var x;
      s(), (x = a.onDestroy) == null || x.call(a, S), t.setIsReady(!1);
    });
  }, m = (S) => {
    var w, C;
    (w = i.onReady) == null || w.call(i, S), (C = a.onReady) == null || C.call(a, S), t.setIsReady(!0);
  }, b = (S, w) => {
    var C, x;
    (C = i.onUpdate) == null || C.call(i, S, w), (x = a.onUpdate) == null || x.call(a, S, w);
  };
  return /* @__PURE__ */ L(
    pk,
    {
      className: Y("gs-editor-gjs h-full w-full", le.b, F.br),
      grapesjs: a.gjsScript,
      grapesjsCss: a.gjsStyle,
      options: f,
      plugins: g,
      onEditor: h,
      onReady: m,
      onUpdate: b,
      children: [
        Dt(l),
        /* @__PURE__ */ u(Pj, {}),
        /* @__PURE__ */ u(oj, {}),
        /* @__PURE__ */ u(Oj, {}),
        !d && /* @__PURE__ */ u(ok, { children: (S) => /* @__PURE__ */ u(Nj, { ...S }) }),
        /* @__PURE__ */ u(fk, { children: ({ open: S, title: w, close: C, content: x }) => /* @__PURE__ */ u(AS, { open: S, onClose: C, title: /* @__PURE__ */ u(pe, { children: w }), isDarkTheme: c, size: "l", children: /* @__PURE__ */ u(pe, { children: x }) }) }),
        /* @__PURE__ */ u(Cj, {}),
        /* @__PURE__ */ u(Lj, {}),
        /* @__PURE__ */ u(Ej, {})
      ]
    },
    o
  );
}), Mj = ce(function() {
  const t = we(), { updateAppShell: n } = En(), { editor: r, editorKey: o, sdkLicenseError: s, sdkMisconfigurationError: i, isReady: a, licenseCheckStarted: l, rootElWidth: c } = t, d = Wr(), p = Le(), f = Dg();
  W0();
  const g = !!o && !!c;
  return G(() => {
    n && document.querySelector("body").classList.add(...te(F.bg, "overflow-hidden").split(" "));
  }, []), G(() => {
    if (a && !l && !Sf()) {
      const h = setTimeout(() => t.loadLicense(), 100);
      return () => clearTimeout(h);
    }
  }, [a, l]), G(() => {
    i && console.error(i);
  }, [i]), G(() => {
    if (!r)
      return;
    "launchQueue" in window && "LaunchParams" in window && window.launchQueue.setConsumer(async (b) => {
      if (!b.files.length)
        return;
      const S = await (await b.files[0].getFile()).text();
      t.loadProjectData(JSON.parse(S));
    });
    const { plg: h } = t.queryParams;
    h && !f.selectedShown && d.open({
      fullH: !0,
      title: p.t("pluginManager.plugins"),
      content: () => /* @__PURE__ */ u(xS, { selectedId: h })
    });
    const m = oo(() => t.refreshEditorCanvas(), 100);
    return window.addEventListener("scroll", m, !0), () => window.removeEventListener("scroll", m, !0);
  }, [r]), G(() => {
  }, []), /* @__PURE__ */ L(R, { className: te("relative transition-colors h-full", F.bg, F.txt), justify: "center", items: "center", col: !0, children: [
    g && (s ? /* @__PURE__ */ L(R, { col: !0, justify: "center", items: "center", children: [
      /* @__PURE__ */ u("div", { children: "SDK License Error" }),
      /* @__PURE__ */ u("span", { className: te("text-sm"), children: s })
    ] }) : i ? /* @__PURE__ */ u(R, { col: !0, justify: "center", items: "center", children: /* @__PURE__ */ u("div", { children: "SDK Misconfiguration Error" }) }) : /* @__PURE__ */ u(kj, {})),
    /* @__PURE__ */ u(Vr, { show: !g, as: It, ...Ga, children: /* @__PURE__ */ u(dl, { className: te("z-10", F.bg), abs: !0 }) })
  ] });
});
function $j({
  projectType: e,
  project: t
}) {
  const n = Rj({ projectType: e }), r = { type: e, default: { pages: [n] } };
  return t ? (t.type = t.type ?? r.type, t.default = t.default ?? r.default, t) : r;
}
function Rj({ projectType: e }) {
  const t = { name: "Web", component: Ij }, n = { name: "Email", component: jj };
  switch (e) {
    case ke.web:
      return t;
    case ke.email:
      return n;
    default:
      return t;
  }
}
const Hc = "https://app.grapesjs.com/docs-sdk/configuration/projects#self-hosted-storage", Bc = "https://app.grapesjs.com/docs-sdk/configuration/projects#setup", LS = "https://app.grapesjs.com/docs-sdk/img/grapesjs-logo-black.svg", Ij = `<body>
    <header class="head">
      <img class="logo" src="${LS}" alt="GrapesJS Logo">
    </header>
    <div class="card">
        <h1 class="title">Welcome to GrapesJS Studio SDK!</h1>
        <p class="subtitle">You're currently viewing the default fallback project for web.</p>

        <p class="paragraph">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a class="link" href="${Hc}" target="_blank">${Hc}</a>
        </p>

        <p class="paragraph">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a class="link" href="${Bc}" target="_blank">${Bc}</a>
        </p>

        <footer class="footer">Happy building! </footer>
    </div>
    <style>
      body {
        background-color: #e7e7e7;
        font-family: Arial, sans-serif;
      }
      .head {
        padding: 50px 50px 35px;
      }
      .logo {
        max-width: 250px;
        display: block;
        margin: 0 auto;
      }
      .card {
        max-width: 600px;
        padding: 40px 45px;
        background-color: white;
        border-radius: 15px;
        margin: 0 auto;
        color: #333333;
        font-size: 16px;
      }
      .title {
        color: #af4e8a;
        font-size: 24px;
        font-weight: bold;
        margin: 0;
        text-align: center;
      }
      .subtitle {
        text-align: center;
        margin: 0;
        padding: 25px 0;
      }
      .paragraph {
        line-height: 1.5;
        margin-bottom: 40px;
      }
      .link {
        color:#af4e8a;
        text-decoration:none;
        font-size:13px;
      }
      .footer {
        margin-top: 30px;
        text-align: center;
      }
  </style>
</body>`, jj = `<mjml>
  <mj-body background-color="#E7E7E7">
    <mj-section full-width="full-width" padding="50px 50px 35px 50px">
      <mj-column width="100%">
        <mj-image src="${LS}" width="250px" padding="0px" />
      </mj-column>
    </mj-section>
    <mj-section padding="0px">
      <mj-column background-color="white" border-radius="15px" padding="40px 20px">
        <mj-text color="#af4e8a" font-size="24px" font-weight="bold" align="center">
          Welcome to GrapesJS Studio SDK!
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" align="center" padding="10px 25px 25px 25px">
          You're currently viewing the default fallback project for emails.
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" padding="10px 25px 30px 25px">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a href="${Hc}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Hc}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a id="iu9rf-2" href="${Bc}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Bc}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" align="center" padding="30px 25px 10px 25px">Happy building! 
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>`, uf = {
  licenseKey: "",
  settingsMenu: {
    // These were made mainly for the standalone editor, probably not suitable for the embedded one.
    // Need to revesit the interface to allow custom setting menu items.
    about: !1,
    embed: !1,
    openProject: !1,
    saveProject: !1,
    loadProject: !1,
    installApp: !1
  }
}, Vj = Yt(function(t, n) {
  var d;
  const { options: r = uf } = t, o = { theme: r.theme }, s = r.localStorage, i = s ? ry(s, o) : o, a = (i == null ? void 0 : i.lastProjectType) || ((d = r.project) == null ? void 0 : d.type) || ke.web, l = $j({ projectType: a, project: r.project }), c = {
    localSettingsStore: {
      ...i,
      key: s,
      updateAppShell: r.updateAppShell,
      rootEl: r.root
    },
    appEditorStore: {
      isDev: tj,
      isStage: !!r.stg,
      licenseKey: r.licenseKey,
      projectType: a,
      sdkProps: {
        ...t,
        options: {
          ...uf,
          gjsScript: QI,
          gjsStyle: ej,
          ...r,
          project: l
        }
      }
    }
  };
  return /* @__PURE__ */ u(U8, { initialState: c, children: /* @__PURE__ */ u(i6, { ref: n, children: /* @__PURE__ */ u(Mj, {}) }) });
});
const Wj = Vj;
export {
  Op as AssetStorageType,
  bs as AssetType,
  Fw as BlockManagerAfter,
  zw as BlockManagerBefore,
  or as BuiltInActionButtons,
  A0 as CanvasSpotSlotPosition,
  Po as ComponentContextMenuItem,
  lg as ComponentContextMenuSource,
  qt as DataComponentTypes,
  $9 as DesignManagerTab,
  OA as GlobalStyleFieldType,
  Z as IconNames,
  Xw as LayerManagerAfter,
  Jw as LayerManagerBefore,
  xy as LayersProvider,
  Ks as LayoutPlacers,
  ls as LayoutPosition,
  sS as PageManagerAfter,
  iS as PageManagerBefore,
  Py as PagesProvider,
  _p as ProjectStorageType,
  ke as ProjectType,
  Ey as SelectorsProvider,
  TA as StudioCanvasSpotType,
  he as StudioCommands,
  Mp as StudioCustomLayout,
  Wj as StudioEditor,
  Rn as StudioEvents,
  ur as ThemeValue,
  fn as ToastVariant,
  Wj as default,
  rr as useEditor
};
