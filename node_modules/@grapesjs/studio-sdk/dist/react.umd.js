(function(Te,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("react/jsx-runtime"),require("react"),require("react-dom"),require("react-dom/client")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-dom","react-dom/client"],l):(Te=typeof globalThis<"u"?globalThis:Te||self,l(Te.GrapesJsStudioSDK={},Te.jsxRuntime,Te.React,Te.ReactDOM,Te.client))})(this,function(Te,l,f,mn,bS){"use strict";function Wg(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Ge=Wg(f),vS=Wg(mn);class yS extends Error{constructor(t,n){super(t),this.error=t,this.errorData=n}}const xa=async(e,{onError:t,onLoading:n,onResult:r,params:o,rawText:s,...a})=>{try{n==null||n(!0);const i=o?new URLSearchParams(o).toString():"",c=i?`?${i}`:"",u=await fetch(`${e}${c}`,a);if(!u.ok){const p=await u.json();throw new yS(p.error||"Request failed!",p.errorData)}let d;if(s)d=await u.text();else try{d=await u.json()}catch{d=void 0}return r==null||r(d),d}catch(i){const c=i instanceof Error?i:new Error(i);if(t==null||t(c),a.throwError)throw c;return c}finally{n==null||n(!1)}};class cr{static async get(t,n){return xa(t,{...n,method:"GET"})}static async post(t,n){return xa(t,{...n,method:"POST"})}static async put(t,n){return xa(t,{...n,method:"PUT"})}static async patch(t,n){return xa(t,{...n,method:"PATCH"})}static async delete(t,n){return xa(t,{...n,method:"DELETE"})}}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var wS={};function nl(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:wS}var Gg=Object.assign,rl=Object.getOwnPropertyDescriptor,ur=Object.defineProperty,Ea=Object.prototype,Au=[];Object.freeze(Au);var Mu={};Object.freeze(Mu);var SS=typeof Proxy<"u",CS=Object.toString();function Kg(){SS||De("Proxy not available")}function qg(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _s=function(){};function Xn(e){return typeof e=="function"}function Uo(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function ol(e){return e!==null&&typeof e=="object"}function Hr(e){if(!ol(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===CS}function Yg(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Pa(e,t,n){ur(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Zg(e,t,n){ur(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lo(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return ol(r)&&r[n]===!0}}function As(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function xS(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Dr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Xg=typeof Object.getOwnPropertySymbols<"u";function ES(e){var t=Object.keys(e);if(!Xg)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Ea.propertyIsEnumerable.call(e,r)})):t}var Ms=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Xg?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Jg(e){return e===null?null:typeof e=="object"?""+e:e}function Fr(e,t){return Ea.hasOwnProperty.call(e,t)}var PS=Object.getOwnPropertyDescriptors||function(t){var n={};return Ms(t).forEach(function(r){n[r]=rl(t,r)}),n};function bn(e,t){return!!(e&t)}function vn(e,t,n){return n?e|=t:e&=~t,e}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OS(r.key),r)}}function Ls(e,t,n){return t&&Rg(e.prototype,t),n&&Rg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ns(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_S(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(null,arguments)}function eh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lu(e,t)}function Lu(e,t){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lu(e,t)}function TS(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OS(e){var t=TS(e,"string");return typeof t=="symbol"?t:t+""}function _S(e,t){if(e){if(typeof e=="string")return Qg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qg(e,t):void 0}}var dr=Symbol("mobx-stored-annotations");function pr(e){function t(n,r){if(Oa(r))return e.decorate_20223_(n,r);Ta(n,r,e)}return Object.assign(t,e)}function Ta(e,t,n){Fr(e,dr)||Pa(e,dr,Wo({},e[dr])),jS(n)||(e[dr][t]=n)}function AS(e){return Fr(e,dr)||Pa(e,dr,Wo({},e[dr])),e[dr]}function Oa(e){return typeof e=="object"&&typeof e.kind=="string"}var ve=Symbol("mobx administration"),co=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=qe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return yh(this)},t.reportChanged=function(){Nn(),wh(this),kn()},t.toString=function(){return this.name_},Ls(e,[{key:"isBeingObserved",get:function(){return bn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=vn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return bn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=vn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return bn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=vn(this.flags_,e.diffValueMask_,r===1)}}])}();co.isBeingObservedMask_=1,co.isPendingUnobservationMask_=2,co.diffValueMask_=4;var Nu=lo("Atom",co);function th(e,t,n){t===void 0&&(t=_s),n===void 0&&(n=_s);var r=new co(e);return t!==_s&&U2(r,t),n!==_s&&Oh(r,n),r}function MS(e,t){return e===t}function LS(e,t){return Zu(e,t)}function NS(e,t){return Zu(e,t,1)}function kS(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ks={identity:MS,structural:LS,default:kS,shallow:NS};function Go(e,t,n){return Uu(e)?e:Array.isArray(e)?Dt.array(e,{name:n}):Hr(e)?Dt.object(e,void 0,{name:n}):As(e)?Dt.map(e,{name:n}):Dr(e)?Dt.set(e,{name:n}):typeof e=="function"&&!ka(e)&&!$a(e)?Yg(e)?Zo(e):Na(n,e):e}function $S(e,t,n){if(e==null||Vs(e)||ja(e)||go(e)||tr(e))return e;if(Array.isArray(e))return Dt.array(e,{name:n,deep:!1});if(Hr(e))return Dt.object(e,void 0,{name:n,deep:!1});if(As(e))return Dt.map(e,{name:n,deep:!1});if(Dr(e))return Dt.set(e,{name:n,deep:!1})}function sl(e){return e}function IS(e,t){return Zu(e,t)?t:e}var VS="override";function jS(e){return e.annotationType_===VS}function _a(e,t){return{annotationType_:e,options_:t,make_:HS,extend_:DS,decorate_20223_:FS}}function HS(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ka(n.value))return 1;var s=nh(e,this,t,n,!1);return ur(r,t,s),2}function DS(e,t,n,r){var o=nh(e,this,t,n);return e.defineProperty_(t,o,r)}function FS(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,a=function(u){var d,p,g,h;return Ko((d=(p=s.options_)==null?void 0:p.name)!=null?d:r.toString(),u,(g=(h=s.options_)==null?void 0:h.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,d=c;return ka(d)||(d=a(d)),(u=s.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var i;return ka(e)||(e=a(e)),(i=this.options_)!=null&&i.bound&&o(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}De("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function BS(e,t,n,r){t.annotationType_,r.value}function nh(e,t,n,r,o){var s,a,i,c,u,d,p;o===void 0&&(o=fe.safeDescriptors),BS(e,t,n,r);var g=r.value;if((s=t.options_)!=null&&s.bound){var h;g=g.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Ko((a=(i=t.options_)==null?void 0:i.name)!=null?a:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function rh(e,t){return{annotationType_:e,options_:t,make_:zS,extend_:US,decorate_20223_:WS}}function zS(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Fr(e.target_,t)||!$a(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if($a(n.value))return 1;var s=oh(e,this,t,n,!1,!1);return ur(r,t,s),2}function US(e,t,n,r){var o,s=oh(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function WS(e,t){var n,r=t.name,o=t.addInitializer;return $a(e)||(e=Zo(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,a=s[r].bind(s);a.isMobXFlow=!0,s[r]=a}),e}function GS(e,t,n,r){t.annotationType_,r.value}function oh(e,t,n,r,o,s){s===void 0&&(s=fe.safeDescriptors),GS(e,t,n,r);var a=r.value;if($a(a)||(a=Zo(a)),o){var i;a=a.bind((i=e.proxy_)!=null?i:e.target_),a.isMobXFlow=!0}return{value:a,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function ku(e,t){return{annotationType_:e,options_:t,make_:KS,extend_:qS,decorate_20223_:YS}}function KS(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function qS(e,t,n,r){return ZS(e,this,t,n),e.defineComputedProperty_(t,Wo({},this.options_,{get:n.get,set:n.set}),r)}function YS(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=Xo(this)[ve],a=Wo({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),s.values_.set(r,new Jn(a))}),function(){return this[ve].getObservablePropValue_(r)}}function ZS(e,t,n,r){t.annotationType_,r.get}function al(e,t){return{annotationType_:e,options_:t,make_:XS,extend_:JS,decorate_20223_:QS}}function XS(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function JS(e,t,n,r){var o,s;return RS(e,this),e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:Go,r)}function QS(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function a(i,c){var u,d,p=Xo(i)[ve],g=new uo(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Go,"ObservableObject."+o.toString(),!1);p.values_.set(o,g),s.add(i)}if(r=="accessor")return{get:function(){return s.has(this)||a(this,e.get.call(this)),this[ve].getObservablePropValue_(o)},set:function(c){return s.has(this)||a(this,c),this[ve].setObservablePropValue_(o,c)},init:function(c){return s.has(this)||a(this,c),c}}}function RS(e,t,n,r){t.annotationType_}var e2="true",t2=sh();function sh(e){return{annotationType_:e2,options_:e,make_:n2,extend_:r2,decorate_20223_:o2}}function n2(e,t,n,r){var o,s;if(n.get)return cl.make_(e,t,n,r);if(n.set){var a=Ko(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:fe.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(ur(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var i;if(Yg(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Zo.bound:Zo;return u.make_(e,t,n,r)}var d=(i=this.options_)!=null&&i.autoBind?Na.bound:Na;return d.make_(e,t,n,r)}var p=((o=this.options_)==null?void 0:o.deep)===!1?Dt.ref:Dt;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return p.make_(e,t,n,r)}function r2(e,t,n,r){var o,s;if(n.get)return cl.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:fe.safeDescriptors?e.isPlainObject_:!0,set:Ko(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var i=((s=this.options_)==null?void 0:s.deep)===!1?Dt.ref:Dt;return i.extend_(e,t,n,r)}function o2(e,t){De("'"+this.annotationType_+"' cannot be used as a decorator")}var s2="observable",a2="observable.ref",i2="observable.shallow",l2="observable.struct",ah={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ah);function il(e){return e||ah}var $u=al(s2),c2=al(a2,{enhancer:sl}),u2=al(i2,{enhancer:$S}),d2=al(l2,{enhancer:IS}),ih=pr($u);function ll(e){return e.deep===!0?Go:e.deep===!1?sl:f2(e.defaultDecorator)}function p2(e){var t;return e?(t=e.defaultDecorator)!=null?t:sh(e):void 0}function f2(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Go}function lh(e,t,n){if(Oa(t))return $u.decorate_20223_(e,t);if(Uo(t)){Ta(e,t,$u);return}return Uu(e)?e:Hr(e)?Dt.object(e,t,n):Array.isArray(e)?Dt.array(e,t):As(e)?Dt.map(e,t):Dr(e)?Dt.set(e,t):typeof e=="object"&&e!==null?e:Dt.box(e,t)}Gg(lh,ih);var g2={box:function(t,n){var r=il(n);return new uo(t,ll(r),r.name,!0,r.equals)},array:function(t,n){var r=il(n);return(fe.useProxies===!1||r.proxy===!1?gC:oC)(t,ll(r),r.name)},map:function(t,n){var r=il(n);return new Ih(t,ll(r),r.name)},set:function(t,n){var r=il(n);return new jh(t,ll(r),r.name)},object:function(t,n,r){return ho(function(){return Ah(fe.useProxies===!1||(r==null?void 0:r.proxy)===!1?Xo({},r):eC({},r),t,n)})},ref:pr(c2),shallow:pr(u2),deep:ih,struct:pr(d2)},Dt=Gg(lh,g2),ch="computed",h2="computed.struct",Iu=ku(ch),m2=ku(h2,{equals:ks.structural}),cl=function(t,n){if(Oa(n))return Iu.decorate_20223_(t,n);if(Uo(n))return Ta(t,n,Iu);if(Hr(t))return pr(ku(ch,t));var r=Hr(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Jn(r)};Object.assign(cl,Iu),cl.struct=pr(m2);var uh,dh,ul=0,b2=1,v2=(uh=(dh=rl(function(){},"name"))==null?void 0:dh.configurable)!=null?uh:!1,ph={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ko(e,t,n,r){n===void 0&&(n=!1);function o(){return y2(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},v2&&(ph.value=e,ur(o,"name",ph)),o}function y2(e,t,n,r,o){var s=w2(e,t);try{return n.apply(r,o)}catch(a){throw s.error_=a,a}finally{S2(s)}}function w2(e,t,n,r){var o=!1,s=0,a=fe.trackingDerivation,i=!t||!a;Nn();var c=fe.allowStateChanges;i&&(qo(),c=dl(!0));var u=Hu(!0),d={runAsAction_:i,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:s,actionId_:b2++,parentActionId_:ul};return ul=d.actionId_,d}function S2(e){ul!==e.actionId_&&De(30),ul=e.parentActionId_,e.error_!==void 0&&(fe.suppressReactionErrors=!0),pl(e.prevAllowStateChanges_),Ma(e.prevAllowStateReads_),kn(),e.runAsAction_&&Br(e.prevDerivation_),fe.suppressReactionErrors=!1}function C2(e,t){var n=dl(e);try{return t()}finally{pl(n)}}function dl(e){var t=fe.allowStateChanges;return fe.allowStateChanges=e,t}function pl(e){fe.allowStateChanges=e}var uo=function(e){function t(r,o,s,a,i){var c;return s===void 0&&(s="ObservableValue"),i===void 0&&(i=ks.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=s,c.equals=i,c.value_=o(r,void 0,s),c}eh(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==fe.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if($n(this)){var s=In(this,{object:this,type:gr,newValue:o});if(!s)return fe.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?fe.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Qn(this)&&Rn(this,{type:gr,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return Ia(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:gr,newValue:this.value_,oldValue:void 0}),Va(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Jg(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(co),x2=lo("ObservableValue",uo),Jn=function(){function e(n){this.dependenciesState_=qe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=qe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gl(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=fl.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||De(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ko("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ks.structural:ks.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){_2(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&De(32,this.name_,this.derivation),fe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Vu(this)&&(this.warnAboutUntrackedRead_(),Nn(),this.value_=this.computeValue_(!1),kn());else if(yh(this),Vu(this)){var r=fe.trackingContext;this.keepAlive_&&!r&&(fe.trackingContext=this),this.trackAndCompute()&&O2(this),fe.trackingContext=r}var o=this.value_;if(hl(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&De(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else De(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===qe.NOT_TRACKING_,s=this.computeValue_(!0),a=o||hl(r)||hl(s)||!this.equals_(r,s);return a&&(this.value_=s),a},t.computeValue_=function(r){this.isComputing=!0;var o=dl(!1),s;if(r)s=fh(this,this.derivation,this.scope_);else if(fe.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(a){s=new gl(a)}return pl(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(ju(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,a=!0,i=void 0;return H2(function(){var c=s.get();if(!a||o){var u=qo();r({observableKind:"computed",debugObjectName:s.name_,type:gr,object:s,newValue:c,oldValue:i}),Br(u)}a=!1,i=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Jg(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Ls(e,[{key:"isComputing",get:function(){return bn(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=vn(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return bn(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=vn(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return bn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=vn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return bn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=vn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return bn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=vn(this.flags_,e.diffValueMask_,r===1)}}])}();Jn.isComputingMask_=1,Jn.isRunningSetterMask_=2,Jn.isBeingObservedMask_=4,Jn.isPendingUnobservationMask_=8,Jn.diffValueMask_=16;var Aa=lo("ComputedValue",Jn),qe;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(qe||(qe={}));var fl;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(fl||(fl={}));var gl=function(t){this.cause=void 0,this.cause=t};function hl(e){return e instanceof gl}function Vu(e){switch(e.dependenciesState_){case qe.UP_TO_DATE_:return!1;case qe.NOT_TRACKING_:case qe.STALE_:return!0;case qe.POSSIBLY_STALE_:{for(var t=Hu(!0),n=qo(),r=e.observing_,o=r.length,s=0;s<o;s++){var a=r[s];if(Aa(a)){if(fe.disableErrorBoundaries)a.get();else try{a.get()}catch{return Br(n),Ma(t),!0}if(e.dependenciesState_===qe.STALE_)return Br(n),Ma(t),!0}}return hh(e),Br(n),Ma(t),!1}}}function fj(e){}function fh(e,t,n){var r=Hu(!0);hh(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++fe.runId;var o=fe.trackingDerivation;fe.trackingDerivation=e,fe.inBatch++;var s;if(fe.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(a){s=new gl(a)}return fe.inBatch--,fe.trackingDerivation=o,E2(e),Ma(r),s}function E2(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=qe.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,a=0;a<s;a++){var i=n[a];i.diffValue===0&&(i.diffValue=1,o!==a&&(n[o]=i),o++),i.dependenciesState_>r&&(r=i.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&bh(c,e),c.diffValue=0}for(;o--;){var u=n[o];u.diffValue===1&&(u.diffValue=0,T2(u,e))}r!==qe.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function ju(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)bh(t[n],e);e.dependenciesState_=qe.NOT_TRACKING_}function gh(e){var t=qo();try{return e()}finally{Br(t)}}function qo(){var e=fe.trackingDerivation;return fe.trackingDerivation=null,e}function Br(e){fe.trackingDerivation=e}function Hu(e){var t=fe.allowStateReads;return fe.allowStateReads=e,t}function Ma(e){fe.allowStateReads=e}function hh(e){if(e.dependenciesState_!==qe.UP_TO_DATE_){e.dependenciesState_=qe.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=qe.UP_TO_DATE_}}var ml=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},bl=!0,mh=!1,fe=function(){var e=nl();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(bl=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ml().version&&(bl=!1),bl?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ml):(setTimeout(function(){mh||De(35)},1),new ml)}();function P2(){if((fe.pendingReactions.length||fe.inBatch||fe.isRunningReactions)&&De(36),mh=!0,bl){var e=nl();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),fe=new ml}}function T2(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function bh(e,t){e.observers_.delete(t),e.observers_.size===0&&vh(e)}function vh(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,fe.pendingUnobservations.push(e))}function Nn(){fe.inBatch++}function kn(){if(--fe.inBatch===0){Sh();for(var e=fe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Jn&&n.suspend_())}fe.pendingUnobservations=[]}}function yh(e){var t=fe.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&fe.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&fe.inBatch>0&&vh(e),!1)}function wh(e){e.lowestObserverState_!==qe.STALE_&&(e.lowestObserverState_=qe.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=qe.STALE_}))}function O2(e){e.lowestObserverState_!==qe.STALE_&&(e.lowestObserverState_=qe.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.POSSIBLY_STALE_?t.dependenciesState_=qe.STALE_:t.dependenciesState_===qe.UP_TO_DATE_&&(e.lowestObserverState_=qe.UP_TO_DATE_)}))}function _2(e){e.lowestObserverState_===qe.UP_TO_DATE_&&(e.lowestObserverState_=qe.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===qe.UP_TO_DATE_&&(t.dependenciesState_=qe.POSSIBLY_STALE_,t.onBecomeStale_())}))}var fr=function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=qe.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=fl.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,fe.pendingReactions.push(this),Sh())},t.runReaction_=function(){if(!this.isDisposed){Nn(),this.isScheduled=!1;var r=fe.trackingContext;if(fe.trackingContext=this,Vu(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}fe.trackingContext=r,kn()}},t.track=function(r){if(!this.isDisposed){Nn(),this.isRunning=!0;var o=fe.trackingContext;fe.trackingContext=this;var s=fh(this,r,void 0);fe.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ju(this),hl(s)&&this.reportExceptionInDerivation_(s.cause),kn()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(fe.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";fe.suppressReactionErrors||console.error(s,r),fe.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Nn(),ju(this),kn()))},t.getDisposer_=function(r){var o=this,s=function a(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[ve]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Ls(e,[{key:"isDisposed",get:function(){return bn(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=vn(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return bn(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=vn(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return bn(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=vn(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return bn(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=vn(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return bn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=vn(this.flags_,e.diffValueMask_,r===1)}}])}();fr.isDisposedMask_=1,fr.isScheduledMask_=2,fr.isTrackPendingMask_=4,fr.isRunningMask_=8,fr.diffValueMask_=16;var A2=100,Du=function(t){return t()};function Sh(){fe.inBatch>0||fe.isRunningReactions||Du(M2)}function M2(){fe.isRunningReactions=!0;for(var e=fe.pendingReactions,t=0;e.length>0;){++t===A2&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}fe.isRunningReactions=!1}var vl=lo("Reaction",fr);function L2(e){var t=Du;Du=function(r){return e(function(){return t(r)})}}function La(){return!1}function gj(e){}function hj(e){}function mj(e){}function N2(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Ch="action",k2="action.bound",xh="autoAction",$2="autoAction.bound",I2="<unnamed action>",Fu=_a(Ch),V2=_a(k2,{bound:!0}),Bu=_a(xh,{autoAction:!0}),j2=_a($2,{autoAction:!0,bound:!0});function Eh(e){var t=function(r,o){if(Xn(r))return Ko(r.name||I2,r,e);if(Xn(o))return Ko(r,o,e);if(Oa(o))return(e?Bu:Fu).decorate_20223_(r,o);if(Uo(o))return Ta(r,o,e?Bu:Fu);if(Uo(r))return pr(_a(e?xh:Ch,{name:r,autoAction:e}))};return t}var Yo=Eh(!1);Object.assign(Yo,Fu);var Na=Eh(!0);Object.assign(Na,Bu),Yo.bound=pr(V2),Na.bound=pr(j2);function ka(e){return Xn(e)&&e.isMobxAction===!0}function H2(e,t){var n,r,o,s;t===void 0&&(t=Mu);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",i=!t.scheduler&&!t.delay,c;if(i)c=new fr(a,function(){this.track(p)},t.onError,t.requiresObservable);else{var u=Ph(t),d=!1;c=new fr(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(p)}))},t.onError,t.requiresObservable)}function p(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var D2=function(t){return t()};function Ph(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:D2}function Th(e,t,n){var r,o,s;n===void 0&&(n=Mu);var a=(r=n.name)!=null?r:"Reaction",i=Yo(a,n.onError?F2(n.onError,t):t),c=!n.scheduler&&!n.delay,u=Ph(n),d=!0,p=!1,g,h=n.compareStructural?ks.structural:n.equals||ks.default,m=new fr(a,function(){d||c?b():p||(p=!0,u(b))},n.onError,n.requiresObservable);function b(){if(p=!1,!m.isDisposed){var v=!1,w=g;m.track(function(){var y=C2(!1,function(){return e(m)});v=d||!h(g,y),g=y}),(d&&n.fireImmediately||!d&&v)&&i(g,w,m),d=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||m.schedule_(),m.getDisposer_((s=n)==null?void 0:s.signal)}function F2(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var B2="onBO",z2="onBUO";function U2(e,t,n){return _h(B2,e,t,n)}function Oh(e,t,n){return _h(z2,e,t,n)}function _h(e,t,n,r){var o=typeof r=="function"?js(t,n):js(t),s=Xn(r)?r:n,a=e+"L";return o[a]?o[a].add(s):o[a]=new Set([s]),function(){var i=o[a];i&&(i.delete(s),i.size===0&&delete o[a])}}var W2="never",yl="always",G2="observed";function K2(e){e.isolateGlobalState===!0&&P2();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(fe.useProxies=t===yl?!0:t===W2?!1:typeof Proxy<"u"),t==="ifavailable"&&(fe.verifyProxies=!0),n!==void 0){var r=n===yl?yl:n===G2;fe.enforceActions=r,fe.allowStateChanges=!(r===!0||r===yl)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(fe[o]=!!e[o])}),fe.allowStateReads=!fe.observableRequiresReaction,e.reactionScheduler&&L2(e.reactionScheduler)}function Ah(e,t,n,r){var o=PS(t);return ho(function(){var s=Xo(e,r)[ve];Ms(o).forEach(function(a){s.extend_(a,o[a],n&&a in n?n[a]:!0)})}),e}function q2(e,t){return Mh(js(e,t))}function Mh(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Y2(e.observing_).map(Mh)),t}function Y2(e){return Array.from(new Set(e))}var Z2=0;function Lh(){this.message="FLOW_CANCELLED"}Lh.prototype=Object.create(Error.prototype);var zu=rh("flow"),X2=rh("flow.bound",{bound:!0}),Zo=Object.assign(function(t,n){if(Oa(n))return zu.decorate_20223_(t,n);if(Uo(n))return Ta(t,n,zu);var r=t,o=r.name||"<unnamed flow>",s=function(){var i=this,c=arguments,u=++Z2,d=Yo(o+" - runid: "+u+" - init",r).apply(i,c),p,g=void 0,h=new Promise(function(m,b){var v=0;p=b;function w(S){g=void 0;var x;try{x=Yo(o+" - runid: "+u+" - yield "+v++,d.next).call(d,S)}catch(E){return b(E)}C(x)}function y(S){g=void 0;var x;try{x=Yo(o+" - runid: "+u+" - yield "+v++,d.throw).call(d,S)}catch(E){return b(E)}C(x)}function C(S){if(Xn(S==null?void 0:S.then)){S.then(C,b);return}return S.done?m(S.value):(g=Promise.resolve(S.value),g.then(w,y))}w(void 0)});return h.cancel=Yo(o+" - runid: "+u+" - cancel",function(){try{g&&Nh(g);var m=d.return(void 0),b=Promise.resolve(m.value);b.then(_s,_s),Nh(b),p(new Lh)}catch(v){p(v)}}),h};return s.isMobXFlow=!0,s},zu);Zo.bound=pr(X2);function Nh(e){Xn(e.cancel)&&e.cancel()}function $a(e){return(e==null?void 0:e.isMobXFlow)===!0}function J2(e,t){return e?t!==void 0?Vs(e)?e[ve].values_.has(t):!1:Vs(e)||!!e[ve]||Nu(e)||vl(e)||Aa(e):!1}function Uu(e){return J2(e)}function Q2(e){if(Vs(e))return e[ve].ownKeys_();De(38)}function wl(e,t,n){return e.set(t,n),n}function $s(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Uu(e))return e;if(x2(e)||Aa(e))return $s(e.get(),t);if(t.has(e))return t.get(e);if(ja(e)){var n=wl(t,e,new Array(e.length));return e.forEach(function(a,i){n[i]=$s(a,t)}),n}if(tr(e)){var r=wl(t,e,new Set);return e.forEach(function(a){r.add($s(a,t))}),r}if(go(e)){var o=wl(t,e,new Map);return e.forEach(function(a,i){o.set(i,$s(a,t))}),o}else{var s=wl(t,e,{});return Q2(e).forEach(function(a){Ea.propertyIsEnumerable.call(e,a)&&(s[a]=$s(e[a],t))}),s}}function po(e,t){return $s(e,new Map)}function zr(e,t){t===void 0&&(t=void 0),Nn();try{return e.apply(t)}finally{kn()}}function Is(e){return e[ve]}var R2={has:function(t,n){return Is(t).has_(n)},get:function(t,n){return Is(t).get_(n)},set:function(t,n,r){var o;return Uo(n)?(o=Is(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Uo(n)?(r=Is(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=Is(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return Is(t).ownKeys_()},preventExtensions:function(t){De(13)}};function eC(e,t){var n,r;return Kg(),e=Xo(e,t),(r=(n=e[ve]).proxy_)!=null?r:n.proxy_=new Proxy(e,R2)}function $n(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ia(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),qg(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function In(e,t){var n=qo();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&De(14),!!t);o++);return t}finally{Br(n)}}function Qn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Va(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),qg(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Rn(e,t){var n=qo(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);Br(n)}}function tC(e,t,n){return ho(function(){var r,o=Xo(e,n)[ve];(r=t)!=null||(t=AS(e)),Ms(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Wu=Symbol("mobx-keys");function Qt(e,t,n){return Hr(e)?Ah(e,e,t,n):(ho(function(){var r=Xo(e,n)[ve];if(!e[Wu]){var o=Object.getPrototypeOf(e),s=new Set([].concat(Ms(e),Ms(o)));s.delete("constructor"),s.delete(ve),Pa(o,Wu,s)}e[Wu].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var kh="splice",gr="update",nC=1e4,rC={get:function(t,n){var r=t[ve];return n===ve?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Fr(Sl,n)?Sl[n]:t[n]},set:function(t,n,r){var o=t[ve];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){De(15)}},Gu=function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new co(n),this.enhancer_=function(a,i){return r(a,i,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Ia(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Va(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&De("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),a=0;a<r-o;a++)s[a]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&De(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Kh(r+o+1)},t.spliceWithArray_=function(r,o,s){var a=this;this.atom_;var i=this.values_.length;if(r===void 0?r=0:r>i?r=i:r<0&&(r=Math.max(0,i+r)),arguments.length===1?o=i-r:o==null?o=0:o=Math.max(0,Math.min(o,i-r)),s===void 0&&(s=Au),$n(this)){var c=In(this,{object:this.proxy_,type:kh,index:r,removedCount:o,added:s});if(!c)return Au;o=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(p){return a.enhancer_(p,void 0)}),this.legacyMode_){var u=s.length-o;this.updateArrayLength_(i,u)}var d=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<nC){var a;return(a=this.values_).splice.apply(a,[r,o].concat(s))}else{var i=this.values_.slice(r,r+o),c=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var d=0;d<c.length;d++)this.values_[r+s.length+d]=c[d];return i}},t.notifyArrayChildUpdate_=function(r,o,s){var a=!this.owned_&&La(),i=Qn(this),c=i||a?{observableKind:"array",object:this.proxy_,type:gr,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),i&&Rn(this,c)},t.notifyArraySplice_=function(r,o,s){var a=!this.owned_&&La(),i=Qn(this),c=i||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kh,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),i&&Rn(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&De(17,r,s.length),r<s.length){this.atom_;var a=s[r];if($n(this)){var i=In(this,{type:gr,object:this.proxy_,index:r,newValue:o});if(!i)return;o=i.newValue}o=this.enhancer_(o,a);var c=o!==a;c&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else{for(var u=new Array(r+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=o,this.spliceWithArray_(s.length,0,u)}},e}();function oC(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Kg(),ho(function(){var o=new Gu(n,t,r,!1);Zg(o.values_,ve,o);var s=new Proxy(o.values_,rC);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var Sl={clear:function(){return this.splice(0)},replace:function(t){var n=this[ve];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var a=this[ve];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[ve].spliceWithArray_(t,n,r)},push:function(){for(var t=this[ve],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[ve].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[ve],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return fe.trackingDerivation&&De(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){fe.trackingDerivation&&De(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[ve],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};dt("at",yn),dt("concat",yn),dt("flat",yn),dt("includes",yn),dt("indexOf",yn),dt("join",yn),dt("lastIndexOf",yn),dt("slice",yn),dt("toString",yn),dt("toLocaleString",yn),dt("toSorted",yn),dt("toSpliced",yn),dt("with",yn),dt("every",er),dt("filter",er),dt("find",er),dt("findIndex",er),dt("findLast",er),dt("findLastIndex",er),dt("flatMap",er),dt("forEach",er),dt("map",er),dt("some",er),dt("toReversed",er),dt("reduce",$h),dt("reduceRight",$h);function dt(e,t){typeof Array.prototype[e]=="function"&&(Sl[e]=t(e))}function yn(e){return function(){var t=this[ve];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function er(e){return function(t,n){var r=this,o=this[ve];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(a,i){return t.call(n,a,i,r)})}}function $h(e){return function(){var t=this,n=this[ve];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,a,i){return o(s,a,i,t)},r[e].apply(r,arguments)}}var sC=lo("ObservableArrayAdministration",Gu);function ja(e){return ol(e)&&sC(e[ve])}var aC={},fo="add",Cl="delete",Ih=function(){function e(n,r,o){var s=this;r===void 0&&(r=Go),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ve]=aC,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Xn(Map)||De(18),ho(function(){s.keysAtom_=th("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!fe.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var a=s=new uo(this.has_(r),sl,"ObservableMap.key?",!1);this.hasMap_.set(r,a),Oh(a,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if($n(this)){var a=In(this,{type:s?gr:fo,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,$n(this)){var s=In(this,{type:Cl,object:this,name:r});if(!s)return!1}if(this.has_(r)){var a=La(),i=Qn(this),c=i||a?{observableKind:"map",debugObjectName:this.name_,type:Cl,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return zr(function(){var u;o.keysAtom_.reportChanged(),(u=o.hasMap_.get(r))==null||u.setNewValue_(!1);var d=o.data_.get(r);d.setNewValue_(void 0),o.data_.delete(r)}),i&&Rn(this,c),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==fe.UNCHANGED){var a=La(),i=Qn(this),c=i||a?{observableKind:"map",debugObjectName:this.name_,type:gr,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),i&&Rn(this,c)}},t.addValue_=function(r,o){var s=this;this.keysAtom_,zr(function(){var u,d=new uo(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,d),o=d.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=La(),i=Qn(this),c=i||a?{observableKind:"map",debugObjectName:this.name_,type:fo,object:this,name:r,newValue:o}:null;i&&Rn(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Vh({next:function(){var a=o.next(),i=a.done,c=a.value;return{done:i,value:i?void 0:r.get(c)}}})},t.entries=function(){var r=this,o=this.keys();return Vh({next:function(){var a=o.next(),i=a.done,c=a.value;return{done:i,value:i?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=Ns(this),a;!(a=s()).done;){var i=a.value,c=i[0],u=i[1];r.call(o,u,c,this)}},t.merge=function(r){var o=this;return go(r)&&(r=new Map(r)),zr(function(){Hr(r)?ES(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var a=s[0],i=s[1];return o.set(a,i)}):As(r)?(xS(r)||De(19,r),r.forEach(function(s,a){return o.set(a,s)})):r!=null&&De(20,r)}),this},t.clear=function(){var r=this;zr(function(){gh(function(){for(var o=Ns(r.keys()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},t.replace=function(r){var o=this;return zr(function(){for(var s=iC(r),a=new Map,i=!1,c=Ns(o.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!s.has(d)){var p=o.delete(d);if(p)i=!0;else{var g=o.data_.get(d);a.set(d,g)}}}for(var h=Ns(s.entries()),m;!(m=h()).done;){var b=m.value,v=b[0],w=b[1],y=o.data_.has(v);if(o.set(v,w),o.data_.has(v)){var C=o.data_.get(v);a.set(v,C),y||(i=!0)}}if(!i)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var S=o.data_.keys(),x=a.keys(),E=S.next(),T=x.next();!E.done;){if(E.value!==T.value){o.keysAtom_.reportChanged();break}E=S.next(),T=x.next()}o.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return Va(this,r)},t.intercept_=function(r){return Ia(this,r)},Ls(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),go=lo("ObservableMap",Ih);function Vh(e){return e[Symbol.toStringTag]="MapIterator",Ju(e)}function iC(e){if(As(e)||go(e))return e;if(Array.isArray(e))return new Map(e);if(Hr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return De(21,e)}var lC={},jh=function(){function e(n,r,o){var s=this;r===void 0&&(r=Go),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[ve]=lC,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Xn(Set)||De(22),this.enhancer_=function(a,i){return r(a,i,o)},ho(function(){s.atom_=th(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;zr(function(){gh(function(){for(var o=Ns(r.data_.values()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},t.forEach=function(r,o){for(var s=Ns(this),a;!(a=s()).done;){var i=a.value;r.call(o,i,i,this)}},t.add=function(r){var o=this;if(this.atom_,$n(this)){var s=In(this,{type:fo,object:this,newValue:r});if(!s)return this}if(!this.has(r)){zr(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=!1,i=Qn(this),c=i||a?{observableKind:"set",debugObjectName:this.name_,type:fo,object:this,newValue:r}:null;i&&Rn(this,c)}return this},t.delete=function(r){var o=this;if($n(this)){var s=In(this,{type:Cl,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var a=!1,i=Qn(this),c=i||a?{observableKind:"set",debugObjectName:this.name_,type:Cl,object:this,oldValue:r}:null;return zr(function(){o.atom_.reportChanged(),o.data_.delete(r)}),i&&Rn(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return Hh({next:function(){var i=r;return r+=1,i<s.length?{value:[o[i],s[i]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return Hh({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(Dr(r)&&!tr(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Dr(r)&&!tr(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Dr(r)&&!tr(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Dr(r)&&!tr(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return tr(r)&&(r=new Set(r)),zr(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):Dr(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&De("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return Va(this,r)},t.intercept_=function(r){return Ia(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Ls(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),tr=lo("ObservableSet",jh);function Hh(e){return e[Symbol.toStringTag]="SetIterator",Ju(e)}var Dh=Object.create(null),Fh="remove",Bh=function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=t2),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new co("ObservableObject.keys"),this.isPlainObject_=Hr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Jn)return s.set(o),!0;if($n(this)){var a=In(this,{type:gr,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=s.prepareNewValue_(o),o!==fe.UNCHANGED){var i=Qn(this),c=!1,u=i||c?{type:gr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),i&&Rn(this,u)}return!0},t.get_=function(r){return fe.trackingDerivation&&!Fr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),Fr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!fe.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new uo(r in this.target_,sl,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[dr])!=null&&s[r])return;De(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Ea;){var i=rl(a,r);if(i){var c=o.make_(this,r,i,a);if(c===0)return;if(c===1)break}a=Object.getPrototypeOf(a)}Uh(this,o,r)}},t.extend_=function(r,o,s,a){if(a===void 0&&(a=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,a);var i=s.extend_(this,r,o,a);return i&&Uh(this,s,r),i},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{Nn();var a=this.delete_(r);if(!a)return a;if($n(this)){var i=In(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:o.value});if(!i)return null;var c=i.newValue;o.value!==c&&(o=Wo({},o,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else ur(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{kn()}return!0},t.defineObservableProperty_=function(r,o,s,a){a===void 0&&(a=!1),this.keysAtom_;try{Nn();var i=this.delete_(r);if(!i)return i;if($n(this)){var c=In(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:o});if(!c)return null;o=c.newValue}var u=zh(r),d={configurable:fe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else ur(this.target_,r,d);var p=new uo(o,s,"ObservableObject.key",!1);this.values_.set(r,p),this.notifyPropertyAddition_(r,p.value_)}finally{kn()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{Nn();var a=this.delete_(r);if(!a)return a;if($n(this)){var i=In(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:void 0});if(!i)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=zh(r),u={configurable:fe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else ur(this.target_,r,u);this.values_.set(r,new Jn(o)),this.notifyPropertyAddition_(r,void 0)}finally{kn()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Fr(this.target_,r))return!0;if($n(this)){var s=In(this,{object:this.proxy_||this.target_,name:r,type:Fh});if(!s)return null}try{var a;Nn();var i=Qn(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(i||c)){var p;d=(p=rl(this.target_,r))==null?void 0:p.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof uo&&(d=u.value_),wh(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),i||c){var g={type:Fh,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};i&&Rn(this,g)}}finally{kn()}return!0},t.observe_=function(r,o){return Va(this,r)},t.intercept_=function(r){return Ia(this,r)},t.notifyPropertyAddition_=function(r,o){var s,a=Qn(this),i=!1;if(a||i){var c=a||i?{type:fo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;a&&Rn(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ms(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Xo(e,t){var n;if(Fr(e,ve))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new Bh(e,new Map,String(r),p2(t));return Pa(e,ve,o),e}var cC=lo("ObservableObjectAdministration",Bh);function zh(e){return Dh[e]||(Dh[e]={get:function(){return this[ve].getObservablePropValue_(e)},set:function(n){return this[ve].setObservablePropValue_(e,n)}})}function Vs(e){return ol(e)?cC(e[ve]):!1}function Uh(e,t,n){var r;(r=e.target_[dr])==null||delete r[n]}var uC=Gh(0),dC=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Ku=0,Wh=function(){};function pC(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}pC(Wh,Array.prototype);var qu=function(e){function t(r,o,s,a){var i;return s===void 0&&(s="ObservableArray"),a===void 0&&(a=!1),i=e.call(this)||this,ho(function(){var c=new Gu(s,o,a,!0);c.proxy_=i,Zg(i,ve,c),r&&r.length&&i.spliceWithArray(0,0,r),dC&&Object.defineProperty(i,"0",uC)}),i}eh(t,e);var n=t.prototype;return n.concat=function(){this[ve].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),s.map(function(i){return ja(i)?i.slice():i}))},n[Symbol.iterator]=function(){var r=this,o=0;return Ju({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Ls(t,[{key:"length",get:function(){return this[ve].getArrayLength_()},set:function(o){this[ve].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Wh);Object.entries(Sl).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Pa(qu.prototype,t,n)});function Gh(e){return{enumerable:!1,configurable:!0,get:function(){return this[ve].get_(e)},set:function(n){this[ve].set_(e,n)}}}function fC(e){ur(qu.prototype,""+e,Gh(e))}function Kh(e){if(e>Ku){for(var t=Ku;t<e+100;t++)fC(t);Ku=e}}Kh(1e3);function gC(e,t,n){return new qu(e,t,n)}function js(e,t){if(typeof e=="object"&&e!==null){if(ja(e))return t!==void 0&&De(23),e[ve].atom_;if(tr(e))return e.atom_;if(go(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||De(25,t,Yu(e)),n}if(Vs(e)){if(!t)return De(26);var r=e[ve].values_.get(t);return r||De(27,t,Yu(e)),r}if(Nu(e)||Aa(e)||vl(e))return e}else if(Xn(e)&&vl(e[ve]))return e[ve];De(28)}function qh(e,t){if(e||De(29),t!==void 0)return qh(js(e,t));if(Nu(e)||Aa(e)||vl(e)||go(e)||tr(e))return e;if(e[ve])return e[ve];De(24,e)}function Yu(e,t){var n;if(t!==void 0)n=js(e,t);else{if(ka(e))return e.name;Vs(e)||go(e)||tr(e)?n=qh(e):n=js(e)}return n.name_}function ho(e){var t=qo(),n=dl(!0);Nn();try{return e()}finally{kn(),pl(n),Br(t)}}var Yh=Ea.toString;function Zu(e,t,n){return n===void 0&&(n=-1),Xu(e,t,n)}function Xu(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var a=Yh.call(e);if(a!==Yh.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Zh(e),t=Zh(t);var i=a==="[object Array]";if(!i){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(Xn(c)&&c instanceof c&&Xn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),i){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Xu(e[d],t[d],n-1,r,o))return!1}else{var p=Object.keys(e),g;if(d=p.length,Object.keys(t).length!==d)return!1;for(;d--;)if(g=p[d],!(Fr(t,g)&&Xu(e[g],t[g],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function Zh(e){return ja(e)?e.slice():As(e)||go(e)||Dr(e)||tr(e)?Array.from(e.entries()):e}var Xh,hC=((Xh=nl().Iterator)==null?void 0:Xh.prototype)||{};function Ju(e){return e[Symbol.iterator]=mC,Object.assign(Object.create(hC),e)}function mC(){return this}["Symbol","Map","Set"].forEach(function(e){var t=nl();typeof t[e]>"u"&&De("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:N2,extras:{getDebugName:Yu},$mobx:ve});const Jh="app.grapesjs.com",Qh="app-stage.grapesjs.com",bC="app2.grapesjs.com",vC="app-stage2.grapesjs.com",Rh="gs-studio-root",e1=[Jh,bC,Qh,vC,"localhost","127.0.0.1",".local-credentialless.webcontainer.io",".local.webcontainer.io","-sandpack.codesandbox.io"],yC="license:check:start",t1="license:check:end",hr=()=>typeof window<"u",Jo=e=>e&&e.stopPropagation(),wC=e=>e.getAttributeNames().reduce((t,n)=>({...t,[n]:e.getAttribute(n)||""}),{}),SC=(e,t)=>{const n=r=>r.key===e&&t();return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},CC=(e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},xC=e=>SC("Escape",e),EC=(e,t={})=>{const n=et(e)?{id:e,src:e}:e;return new Promise((r,o)=>{var g,h;const{loadedScripts:s}=t,{id:a,src:i}=n,c=document.querySelector(`script[src="${i}"]`);if(c){if((g=t.onScript)==null||g.call(t,c),s&&!s.get(i)){c.addEventListener("load",()=>r(a)),c.addEventListener("error",()=>o(a));return}return r(a)}const u=window.define;window.define=void 0;const d=()=>{s==null||s.set(i,!0),window.define=u},p=document.createElement("script");p.src=i,p.onload=()=>{r(a),d()},p.onerror=()=>{o(a),d()},document.head.appendChild(p),(h=t.onScript)==null||h.call(t,p)})},PC=e=>{const t=e.map(n=>EC(n));return Promise.allSettled(t)};function TC(e){const t=e.ownerDocument.createElement("script");return t.text=e.innerHTML,Array.from(e.attributes).forEach(n=>t.setAttribute(n.nodeName,n.nodeValue)),t}function n1(e){const t=r=>{var o;if(r.length){const s=r.shift(),a=TC(s);a.onerror=a.onload=t.bind(null,r),(o=s.parentNode)==null||o.replaceChild(a,s)}},n=Array.from(e.querySelectorAll("script"));t(n)}const r1=e=>new DOMParser().parseFromString(e,"text/html"),OC=(e="")=>r1(`<body>${e}</body>`).body.innerHTML,_C=(e="")=>r1(`<head>${e}</head>`).head.innerHTML,AC=(e="",t)=>{const r=new DOMParser().parseFromString(e,"text/html");if(t){const s=r.querySelectorAll("svg")[0].style||{},a=VC(t)?`${t}px`:t;s.width=a,s.height=a,s.fill="currentColor"}return new XMLSerializer().serializeToString(r)},MC=({isDev:e,isStage:t})=>`${e?"":`https://${t?Qh:Jh}`}/api`,LC=(e,t)=>{try{return new RegExp(e,t)}catch{console.warn("Failed to create regexp",e);return}},o1=(e={})=>{const{width:t=300,height:n,text:r="IMAGE",bg:o="777",fg:s="white"}=e,a=n?`x${n}`:"";return`https://placehold.co/${t}${a}/${o}/${s}.png?text=${r}`},NC=o1(),Qu=()=>{const e=hr()&&window.location.hostname;return!!e&&(e1.includes(e)||e1.some(t=>e.endsWith(t)))},mr=e=>e&&e.charAt(0).toUpperCase()+e.substring(1),kC=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase()),$C=()=>{},IC=240,Mt=e=>typeof e<"u",et=e=>typeof e=="string",VC=e=>typeof e=="number";function Xe(e){return typeof e=="function"}function nr(e){return e&&!Array.isArray(e)&&typeof e=="object"}const jC=e=>!e||Object.keys(e).length===0,Ha=(e,t)=>{const n={...e},r={...t};for(const o in r){const s=n[o],a=r[o];nr(s)&&nr(a)?n[o]=Ha(s,a):n[o]=a}return n},Hs=(e,t)=>{const n=(e||"").toLocaleLowerCase(),r=(t||"").toLocaleLowerCase();return n.includes(r)},HC=(e="")=>{const t=e[0]==="?"?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)},DC=(e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t},FC=e=>!!e.Components.getType("mjml"),xl=e=>(e||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._]+/g,"").replace(/--+/g,"-").trim(),BC=(e,t=[])=>{const n=new Set(t);return(e||"").trim().replace(/\{\{\s*([a-zA-Z0-9_]*)\s*\}\}/g,(s,a)=>{const i=a.trim();return!i||!n.has(i)?"":`__var__${i}__`}).replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._/]+/g,"").replace(/--+/g,"-").replace(/^[-/]+|[-/]+$/g,"").replace(/__var__([a-zA-Z0-9_]+)__/g,(s,a)=>`{{ ${a} }}`)};var El,zC=new Uint8Array(16);function UC(){if(!El&&(El=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!El))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return El(zC)}const WC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function GC(e){return typeof e=="string"&&WC.test(e)}for(var Ft=[],Ru=0;Ru<256;++Ru)Ft.push((Ru+256).toString(16).substr(1));function KC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ft[e[t+0]]+Ft[e[t+1]]+Ft[e[t+2]]+Ft[e[t+3]]+"-"+Ft[e[t+4]]+Ft[e[t+5]]+"-"+Ft[e[t+6]]+Ft[e[t+7]]+"-"+Ft[e[t+8]]+Ft[e[t+9]]+"-"+Ft[e[t+10]]+Ft[e[t+11]]+Ft[e[t+12]]+Ft[e[t+13]]+Ft[e[t+14]]+Ft[e[t+15]]).toLowerCase();if(!GC(n))throw TypeError("Stringified UUID is invalid");return n}function s1(e,t,n){e=e||{};var r=e.random||(e.rng||UC)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return KC(r)}var ce=(e=>(e.toastAdd="studio:toastAdd",e.toastRemove="studio:toastRemove",e.dialogOpen="studio:dialogOpen",e.dialogClose="studio:dialogClose",e.dialogExportCode="studio:dialogExportCode",e.sidebarLeftSet="studio:sidebarLeft:set",e.sidebarLeftGet="studio:sidebarLeft:get",e.sidebarLeftToggle="studio:sidebarLeft:toggle",e.sidebarRightSet="studio:sidebarRight:set",e.sidebarRightGet="studio:sidebarRight:get",e.sidebarRightToggle="studio:sidebarRight:toggle",e.sidebarTopSet="studio:sidebarTop:set",e.sidebarTopGet="studio:sidebarTop:get",e.sidebarTopToggle="studio:sidebarTop:toggle",e.sidebarBottomSet="studio:sidebarBottom:set",e.sidebarBottomGet="studio:sidebarBottom:get",e.sidebarBottomToggle="studio:sidebarBottom:toggle",e.symbolAdd="studio:symbolAdd",e.symbolDetach="studio:symbolDetach",e.symbolOverride="studio:symbolOverride",e.symbolPropagateStyles="studio:propagateStyles",e.getPagesConfig="studio:getPagesConfig",e.setPagesConfig="studio:setPagesConfig",e.getPageSettings="studio:getPageSettings",e.setPageSettings="studio:setPageSettings",e.clearPage="studio:clearPage",e.projectFiles="studio:projectFiles",e.validateCode="studio:validateCode",e.canvasReload="studio:canvasReload",e.getBlocksPanel="studio:getBlocksPanel",e.setBlocksPanel="studio:setBlocksPanel",e.getStateContextMenu="studio:getStateContextMenu",e.setStateContextMenu="studio:setStateContextMenu",e.contextMenuComponent="studio:contextMenuComponent",e.layoutAdd="studio:layoutAdd",e.layoutRemove="studio:layoutRemove",e.layoutToggle="studio:layoutToggle",e.layoutUpdate="studio:layoutUpdate",e.layoutGet="studio:layoutGet",e.layoutConfigGet="studio:layoutConfigGet",e.layoutConfigSet="studio:layoutConfigSet",e.getStateTheme="studio:getStateTheme",e.setStateTheme="studio:setStateTheme",e.assetProviderGet="studio:assetProviderGet",e.assetProviderAdd="studio:assetProviderAdd",e.assetProviderRemove="studio:assetProviderRemove",e.fontGet="studio:fontGet",e.fontAdd="studio:fontAdd",e.fontRemove="studio:fontRemove",e.fontManagerOpen="studio:fontManagerOpen",e.menuFontLoad="studio:menuFontLoad",e.toggleStateDataSource="studio:toggleStateDataSource",e.getStateDataSource="studio:getStateDataSource",e.dataSourceSetGlobalData="studio:dataSourceSetGlobalData",e.dataSourceSetImporter="studio:dataSourceSetImporter",e.dataSourceSetExporter="studio:dataSourceSetExporter",e.setDragAbsolute="studio:setDragAbsolute",e))(ce||{}),on=(e=>(e.layoutToggleId="studio:layoutToggle:",e.toggleBlocksPanel="studio:toggleBlocksPanel",e.pageSettingsUpdate="studio:pageSettingsUpdate",e.toggleDataSourcesPreview="studio:toggleDataSourcesPreview",e))(on||{});const a1=new Set,wn=new WeakMap,Ds=new WeakMap,Qo=new WeakMap,ed=new WeakMap,qC=new WeakMap,Fs=new WeakMap,Pl=new WeakMap;let mo;const Ro="__aa_tgt",td="__aa_del",YC=e=>{const t=RC(e);t&&t.forEach(n=>ex(n))},ZC=e=>{e.forEach(t=>{t.target===mo&&JC(),wn.has(t.target)&&es(t.target)})};function XC(e){const t=ed.get(e);t==null||t.disconnect();let n=wn.get(e),r=0;const o=5;n||(n=zs(e),wn.set(e,n));const{offsetWidth:s,offsetHeight:a}=mo,c=[n.top-o,s-(n.left+o+n.width),a-(n.top+o+n.height),n.left-o].map(d=>`${-1*Math.floor(d)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&es(e)},{root:mo,threshold:1,rootMargin:c});u.observe(e),ed.set(e,u)}function es(e){clearTimeout(Pl.get(e));const t=Tl(e),n=typeof t=="function"?500:t.duration;Pl.set(e,setTimeout(()=>{const r=Qo.get(e);(!r||r.finished)&&(wn.set(e,zs(e)),XC(e))},n))}function JC(){clearTimeout(Pl.get(mo)),Pl.set(mo,setTimeout(()=>{a1.forEach(e=>c1(e,t=>i1(()=>es(t))))},100))}function QC(e){setTimeout(()=>{qC.set(e,setInterval(()=>i1(es.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function i1(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let nd,Bs;typeof window<"u"&&(mo=document.documentElement,nd=new MutationObserver(YC),Bs=new ResizeObserver(ZC),Bs.observe(mo));function RC(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(rd(n.target),!t.has(n.target)){t.add(n.target);for(let r=0;r<n.target.children.length;r++){const o=n.target.children.item(r);if(o){if(td in o)return!1;rd(n.target,o),t.add(o)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const o=n.removedNodes[r];if(td in o)return!1;o instanceof Element&&(t.add(o),rd(n.target,o),Ds.set(o,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function rd(e,t){!t&&!(Ro in e)?Object.defineProperty(e,Ro,{value:e}):t&&!(Ro in t)&&Object.defineProperty(t,Ro,{value:e})}function ex(e){var t;const n=mo.contains(e),r=wn.has(e);n&&Ds.has(e)&&Ds.delete(e),Qo.has(e)&&((t=Qo.get(e))===null||t===void 0||t.cancel()),r&&n?tx(e):r&&!n?rx(e):nx(e)}function br(e){return Number(e.replace(/[^0-9.\-]/g,""))}function zs(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function l1(e,t,n){let r=t.width,o=t.height,s=n.width,a=n.height;const i=getComputedStyle(e);if(i.getPropertyValue("box-sizing")==="content-box"){const u=br(i.paddingTop)+br(i.paddingBottom)+br(i.borderTopWidth)+br(i.borderBottomWidth),d=br(i.paddingLeft)+br(i.paddingRight)+br(i.borderRightWidth)+br(i.borderLeftWidth);r-=d,s-=d,o-=u,a-=u}return[r,s,o,a].map(Math.round)}function Tl(e){return Ro in e&&Fs.has(e[Ro])?Fs.get(e[Ro]):{duration:250,easing:"ease-in-out"}}function c1(e,...t){t.forEach(n=>n(e,Fs.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(o=>o(r,Fs.has(r)))}}function tx(e){const t=wn.get(e),n=zs(e);let r;if(!t)return;const o=Tl(e);if(typeof o!="function"){const s=t.left-n.left,a=t.top-n.top,[i,c,u,d]=l1(e,t,n),p={transform:`translate(${s}px, ${a}px)`},g={transform:"translate(0, 0)"};i!==c&&(p.width=`${i}px`,g.width=`${c}px`),u!==d&&(p.height=`${u}px`,g.height=`${d}px`),r=e.animate([p,g],o)}else r=new Animation(o(e,"remain",t,n)),r.play();Qo.set(e,r),wn.set(e,n),r.addEventListener("finish",es.bind(null,e))}function nx(e){const t=zs(e);wn.set(e,t);const n=Tl(e);let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),Qo.set(e,r),r.addEventListener("finish",es.bind(null,e))}function rx(e){if(!Ds.has(e)||!wn.has(e))return;const[t,n]=Ds.get(e);Object.defineProperty(e,td,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[r,o,s,a]=ox(e),i=Tl(e),c=wn.get(e);let u;Object.assign(e.style,{position:"absolute",top:`${r}px`,left:`${o}px`,width:`${s}px`,height:`${a}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof i!="function"?u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:i.duration,easing:"ease-out"}):(u=new Animation(i(e,"remove",c)),u.play()),Qo.set(e,u),u.addEventListener("finish",()=>{var d;e.remove(),wn.delete(e),Ds.delete(e),Qo.delete(e),(d=ed.get(e))===null||d===void 0||d.disconnect()})}function ox(e){const t=wn.get(e),[n,,r]=l1(e,t,zs(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const s=getComputedStyle(o),a=wn.get(o)||zs(o),i=Math.round(t.top-a.top)-br(s.borderTopWidth),c=Math.round(t.left-a.left)-br(s.borderLeftWidth);return[i,c,n,r]}function sx(e,t={}){nd&&Bs&&(getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),c1(e,es,QC,n=>Bs==null?void 0:Bs.observe(n)),typeof t=="function"?Fs.set(e,t):Fs.set(e,{duration:250,easing:"ease-in-out",...t}),nd.observe(e,{childList:!0}),a1.add(e))}function ax(e){const t=f.useRef(null);return f.useEffect(()=>{t.current instanceof HTMLElement&&sx(t.current,e)},[t]),t}if(!f.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!tC)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function ix(e){e()}function lx(e){e||(e=ix),K2({reactionScheduler:e})}function cx(e){return q2(e)}var ux=1e4,dx=1e4,px=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=ux),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(s,a){o-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,dx))}}),e}(),fx=typeof FinalizationRegistry<"u"?FinalizationRegistry:px,od=new fx(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u1={exports:{}},ad={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function gx(){if(d1)return ad;d1=1;var e=f;function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function i(p,g){var h=g(),m=r({inst:{value:h,getSnapshot:g}}),b=m[0].inst,v=m[1];return s(function(){b.value=h,b.getSnapshot=g,c(b)&&v({inst:b})},[p,h,g]),o(function(){return c(b)&&v({inst:b}),p(function(){c(b)&&v({inst:b})})},[p]),a(h),h}function c(p){var g=p.getSnapshot;p=p.value;try{var h=g();return!n(p,h)}catch{return!0}}function u(p,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:i;return ad.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ad}u1.exports=gx();var hx=u1.exports;function p1(e){e.reaction=new fr("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function mx(e,t){t===void 0&&(t="observed");var n=f.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(i){return od.unregister(r),r.onStoreChange=i,r.reaction||(p1(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o=n.current;o.reaction||(p1(o),od.register(n,o,o)),f.useDebugValue(o.reaction,cx),hx.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var s,a;if(o.reaction.track(function(){try{s=e()}catch(i){a=i}}),a)throw a;return s}var id,ld,f1=typeof Symbol=="function"&&Symbol.for,bx=(ld=(id=Object.getOwnPropertyDescriptor(function(){},"name"))===null||id===void 0?void 0:id.configurable)!==null&&ld!==void 0?ld:!1,g1=f1?Symbol.for("react.forward_ref"):typeof f.forwardRef=="function"&&f.forwardRef(function(e){return null}).$$typeof,h1=f1?Symbol.for("react.memo"):typeof f.memo=="function"&&f.memo(function(e){return null}).$$typeof;function se(e,t){var n;if(h1&&e.$$typeof===h1)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,o=e,s=e.displayName||e.name;if(g1&&e.$$typeof===g1&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(i,c){return mx(function(){return o(i,c)},s)};return a.displayName=e.displayName,bx&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=f.forwardRef(a)),a=f.memo(a),yx(e,a),a}var vx={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function yx(e,t){Object.keys(e).forEach(function(n){vx[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var cd;lx(mn.unstable_batchedUpdates),cd=od.finalizeAllImmediately;const J=G;function G(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).flatMap(o=>typeof o=="string"?o.split(" ").map(s=>{if(s=s.replace(/gjs-/g,"gs-utl-"),!s.includes("gs-utl-")&&!s.startsWith("gs-")){const a=s.split(":"),i=a.pop(),c=a.join(":"),u=i==null?void 0:i.startsWith("!"),p=`gs-utl-${u?i==null?void 0:i.slice(1):i}`,g=u?`!${p}`:p;return c?`${c}:${g}`:g}return s}):o).join(" ")}var wx="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z",Sx="M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z",Cx="M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z",xx="M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z",Ex="M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z",Px="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",Tx="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91L13.09,9.5Z",Ox="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",_x="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z",Ax="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z",Mx="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",Lx="M3,21V3H21V21H3M5,5V19H19V5H5Z",Nx="M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z",kx="M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19",$x="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",Ix="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z",Vx="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z",jx="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Hx="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z",Dx="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",Fx="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Bx="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",zx="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Ux="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Wx="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",Gx="M11 20H6.5Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13V12.85L14.6 14.4L16 13L12 9L8 13L9.4 14.4L11 12.85Z",Kx="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",qx="M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z",Yx="M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M12.5,11H11.5A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 11.5,8H12.5A1.5,1.5 0 0,1 14,9.5H16A3.5,3.5 0 0,0 12.5,6H11.5A3.5,3.5 0 0,0 8,9.5A3.5,3.5 0 0,0 11.5,13H12.5A1.5,1.5 0 0,1 14,14.5A1.5,1.5 0 0,1 12.5,16H11.5A1.5,1.5 0 0,1 10,14.5H8A3.5,3.5 0 0,0 11.5,18H12.5A3.5,3.5 0 0,0 16,14.5A3.5,3.5 0 0,0 12.5,11Z",Zx="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",Xx="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",Jx="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Qx="M19,1L17.74,3.75L15,5L17.74,6.26L19,9L20.25,6.26L23,5L20.25,3.75M9,4L6.5,9.5L1,12L6.5,14.5L9,20L11.5,14.5L17,12L11.5,9.5M19,15L17.74,17.74L15,19L17.74,20.25L19,23L20.25,20.25L23,19L20.25,17.74",Rx="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",eE="M23 19C22.9 19.2 22.8 19.4 22.7 19.5L18.3 15.1C20.5 15.6 22.2 17.1 23 19M12 5C15.9 5 18 6.5 18 7C18 7.5 15.9 8.9 12.2 9L14.1 10.9C15.6 10.7 17 10.3 18 9.7V12.5C17.7 12.7 17.4 12.9 17 13.1C18 13.1 19 13.3 20 13.7V7C20 4.8 16.4 3 12 3C10.1 3 8.4 3.3 7.1 3.9L8.7 5.5C9.5 5.2 10.7 5 12 5M22.1 21.5L20.8 22.8L20.2 22.2C19.2 22.7 18.1 23.1 17 23.1C14.3 23.1 11.9 21.4 11 19.1C11.6 17.7 12.6 16.6 13.9 15.9L12.4 14.4C11.7 14.8 11.1 15.4 10.5 16C8.8 15.9 7.2 15.5 5.9 14.8V17C5.9 17.3 7 18.2 8.9 18.6L8.8 19L9.1 19.7C9.3 20.1 9.4 20.4 9.6 20.8C6.4 20.3 4 18.8 4 17V7C4 6.7 4.1 6.4 4.2 6.1L1.1 3L2.4 1.7L22.1 21.5M12.1 14L8.7 10.6C7.6 10.4 6.7 10 5.9 9.6V12.4C7.2 13.4 9.5 13.9 11.9 13.9C12 14 12.1 14 12.1 14M18.8 20.7L17.7 19.6C17.6 19.9 17.3 20 17 20C16.4 20 16 19.6 16 19C16 18.7 16.1 18.4 16.4 18.2L15.3 17.1C14.8 17.6 14.5 18.2 14.5 18.9C14.5 20.3 15.6 21.4 17 21.4C17.7 21.5 18.4 21.2 18.8 20.7Z",tE="M9.1 19.7L8.8 19L9 18.6C7.1 18.1 6 17.3 6 17V14.8C7.3 15.4 8.8 15.8 10.6 16C11.3 15.2 12.2 14.5 13.1 14H12C9.6 14 7.3 13.4 6 12.5V9.6C7.5 10.4 9.6 11 12 11S16.5 10.5 18 9.6V12.4C17.7 12.6 17.4 12.8 17 13C18 13 19 13.2 20 13.6V7C20 4.8 16.4 3 12 3S4 4.8 4 7V17C4 18.8 6.4 20.3 9.7 20.8C9.5 20.5 9.3 20.1 9.1 19.7M12 5C15.9 5 18 6.5 18 7S15.9 9 12 9 6 7.5 6 7 8.1 5 12 5M17 18C17.6 18 18 18.4 18 19S17.6 20 17 20 16 19.6 16 19 16.4 18 17 18M17 15C14.3 15 11.9 16.7 11 19C11.9 21.3 14.3 23 17 23S22.1 21.3 23 19C22.1 16.7 19.7 15 17 15M17 21.5C15.6 21.5 14.5 20.4 14.5 19S15.6 16.5 17 16.5 19.5 17.6 19.5 19 18.4 21.5 17 21.5Z",nE="M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.59 21 12 21S20 19.21 20 17V7C20 4.79 16.42 3 12 3M18 17C18 17.5 15.87 19 12 19S6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16S16.39 15.55 18 14.77V17M18 12.45C16.7 13.4 14.42 14 12 14C9.58 14 7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11C14.39 11 16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5C15.87 5 18 6.5 18 7S15.87 9 12 9Z",rE="M20 13.09V7C20 4.79 16.42 3 12 3S4 4.79 4 7V17C4 19.21 7.59 21 12 21C12.46 21 12.9 21 13.33 20.94C13.12 20.33 13 19.68 13 19L13 18.95C12.68 19 12.35 19 12 19C8.13 19 6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16C12.65 16 13.27 15.96 13.88 15.89C14.93 14.16 16.83 13 19 13C19.34 13 19.67 13.04 20 13.09M18 12.45C16.7 13.4 14.42 14 12 14S7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11S16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5 18 6.5 18 7 15.87 9 12 9M20.41 19L22.54 21.12L21.12 22.54L19 20.41L16.88 22.54L15.47 21.12L17.59 19L15.47 16.88L16.88 15.47L19 17.59L21.12 15.47L22.54 16.88L20.41 19",oE="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",sE="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",aE="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",iE="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",lE="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",cE="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",uE="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",dE="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",pE="M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z",fE="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",gE="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",hE="M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z",mE="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",bE="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",vE="M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z",yE="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",wE="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",SE="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",CE="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",xE="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",EE="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z",PE="M11 15H6L13 1V9H18L11 23V15Z",TE="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",OE="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",_E="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",AE="M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z",ME="M7,10L12,15L17,10H7Z",LE="M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z",NE="M12,2C13.85,2 15.55,2.78 16.9,4.1L18.6,1.93L20.18,3.16L18.2,5.68C19.33,7.41 20,9.6 20,12C20,17.5 16.42,22 12,22C10.15,22 8.45,21.22 7.1,19.9L5.4,22.07L3.82,20.84L5.8,18.32C4.67,16.59 4,14.4 4,12C4,6.5 7.58,2 12,2M12,4C8.69,4 6,7.58 6,12C6,13.73 6.41,15.33 7.11,16.64L15.67,5.67C14.66,4.62 13.38,4 12,4M12,20C15.31,20 18,16.42 18,12C18,10.27 17.59,8.67 16.89,7.36L8.33,18.33C9.34,19.38 10.62,20 12,20Z",kE="M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z",$E="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z",IE="M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z",VE="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",jE="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",HE="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",DE="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",FE="M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z",BE="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",zE="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",UE="M12 2C11.5 2 11 2.19 10.59 2.59L7.29 5.88L12 10.58L16.71 5.88L13.41 2.59C13 2.19 12.5 2 12 2M5.88 7.29L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L5.88 16.71L10.58 12L5.88 7.29M18.12 7.29L13.42 12L18.12 16.71L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L18.12 7.29M12 13.42L7.29 18.12L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L16.71 18.12L12 13.42Z",WE="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L15.29 7.29L12 10.59L8.71 7.29L12 4M7.29 8.71L10.59 12L7.29 15.29L4 12L7.29 8.71M16.71 8.71L20 12L16.71 15.29L13.41 12L16.71 8.71M12 13.41L15.29 16.71L12 20L8.71 16.71L12 13.41Z",GE="M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39C21.61 2.39 16.66 .269 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.79 17.45 10.61 17.63 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z",KE="M18,18H6V6H18V18Z",qE="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",YE="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",ZE="M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z",XE="M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z",JE="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",QE="M17 6H7C3.69 6 1 8.69 1 12S3.69 18 7 18H17C20.31 18 23 15.31 23 12S20.31 6 17 6M17 16H7C4.79 16 3 14.21 3 12S4.79 8 7 8H17C19.21 8 21 9.79 21 12S19.21 16 17 16M17 9C15.34 9 14 10.34 14 12S15.34 15 17 15 20 13.66 20 12 18.66 9 17 9Z",RE="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",eP="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",tP="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",nP="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z",rP="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z",oP="M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z",sP="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",aP="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const I=f.forwardRef(function({as:t,children:n,className:r,col:o,revert:s,full:a,nowrap:i,space:c,gap:u,justify:d,items:p,...g},h){const m=t||"div";return l.jsx(m,{ref:h,className:G([r,"gs-utl-flex",o&&!s&&"gs-utl-flex-col",o&&s&&"gs-utl-flex-col-reverse",!o&&s&&"gs-utl-flex-row-reverse",a&&!o&&"gs-utl-w-full",a&&o&&"gs-utl-h-full",i?"gs-utl-flex-nowrap":"gs-utl-flex-wrap",c==="x2s"&&(o?"gs-utl-space-y-0.5":"gs-utl-space-x-0.5"),c==="xs"&&(o?"gs-utl-space-y-1":"gs-utl-space-x-1"),c==="s"&&(o?"gs-utl-space-y-2":"gs-utl-space-x-2"),c==="m"&&(o?"gs-utl-space-y-4":"gs-utl-space-x-4"),c==="l"&&(o?"gs-utl-space-y-6":"gs-utl-space-x-6"),c==="xl"&&(o?"gs-utl-space-y-8":"gs-utl-space-x-8"),u==="x2s"&&"gs-utl-gap-0.5",u==="xs"&&"gs-utl-gap-1",u==="s"&&"gs-utl-gap-2",u==="m"&&"gs-utl-gap-4",u==="l"&&"gs-utl-gap-6",u==="xl"&&"gs-utl-gap-8",p==="start"&&"gs-utl-items-start",p==="end"&&"gs-utl-items-end",p==="center"&&"gs-utl-items-center",d==="start"&&"gs-utl-justify-start",d==="end"&&"gs-utl-justify-end",d==="center"&&"gs-utl-justify-center",d==="between"&&"gs-utl-justify-between"]),...g,children:n})}),j=f.forwardRef(function({children:t,className:n,grow:r,...o},s){return l.jsx("div",{ref:s,className:G([n,r&&"flex-1"]),...o,children:t})});var ud={exports:{}},dd,m1;function iP(){if(m1)return dd;m1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dd=e,dd}var pd,b1;function lP(){if(b1)return pd;b1=1;var e=iP();function t(){}function n(){}return n.resetWarningCache=t,pd=function(){function r(a,i,c,u,d,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function o(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},pd}var v1;function cP(){return v1||(v1=1,ud.exports=lP()()),ud.exports}var uP=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,s){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var a in r)n.d(s,a,(function(i){return r[i]}).bind(null,a));return s},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=2)}([function(e,t){e.exports=cP()},function(e,t){e.exports=f},function(e,t,n){n.r(t);var r=n(1),o=n(0),s=function(){return(s=Object.assign||function(m){for(var b,v=1,w=arguments.length;v<w;v++)for(var y in b=arguments[v])Object.prototype.hasOwnProperty.call(b,y)&&(m[y]=b[y]);return m}).apply(this,arguments)},a=function(m,b){var v={};for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.indexOf(w)<0&&(v[w]=m[w]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(w=Object.getOwnPropertySymbols(m);y<w.length;y++)b.indexOf(w[y])<0&&Object.prototype.propertyIsEnumerable.call(m,w[y])&&(v[w[y]]=m[w[y]])}return v},i=0,c=r.forwardRef(function(m,b){var v=m.title,w=v===void 0?null:v,y=m.description,C=y===void 0?null:y,S=m.size,x=S===void 0?null:S,E=m.color,T=E===void 0?"currentColor":E,_=m.horizontal,O=_===void 0?null:_,P=m.vertical,M=P===void 0?null:P,A=m.rotate,k=A===void 0?null:A,H=m.spin,L=H===void 0?null:H,F=m.style,W=F===void 0?{}:F,z=m.children,$=a(m,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);i++;var D,V=L!==null&&L,U=r.Children.map(z,function(ne){var ee=ne;V!==!0&&(V=(L===null?ee.props.spin:L)===!0);var q=ee.props.size;typeof x=="number"&&typeof ee.props.size=="number"&&(q=ee.props.size/x);var X={size:q,color:T===null?ee.props.color:T,horizontal:O===null?ee.props.horizontal:O,vertical:M===null?ee.props.vertical:M,rotate:k===null?ee.props.rotate:k,spin:L===null?ee.props.spin:L,inStack:!0};return r.cloneElement(ee,X)});x!==null&&(W.width=typeof x=="string"?x:1.5*x+"rem");var Q,Z="stack_labelledby_"+i,R="stack_describedby_"+i;if(w)D=C?Z+" "+R:Z;else if(Q="presentation",C)throw new Error("title attribute required when description is set");return r.createElement("svg",s({ref:b,viewBox:"0 0 24 24",style:W,role:Q,"aria-labelledby":D},$),w&&r.createElement("title",{id:Z},w),C&&r.createElement("desc",{id:R},C),V&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),U)});c.displayName="Stack",c.propTypes={size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),children:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,className:o.string,style:o.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return h}),n.d(t,"Stack",function(){return u});var d=function(){return(d=Object.assign||function(m){for(var b,v=1,w=arguments.length;v<w;v++)for(var y in b=arguments[v])Object.prototype.hasOwnProperty.call(b,y)&&(m[y]=b[y]);return m}).apply(this,arguments)},p=function(m,b){var v={};for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.indexOf(w)<0&&(v[w]=m[w]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(w=Object.getOwnPropertySymbols(m);y<w.length;y++)b.indexOf(w[y])<0&&Object.prototype.propertyIsEnumerable.call(m,w[y])&&(v[w[y]]=m[w[y]])}return v},g=0,h=r.forwardRef(function(m,b){var v=m.path,w=m.id,y=w===void 0?++g:w,C=m.title,S=C===void 0?null:C,x=m.description,E=x===void 0?null:x,T=m.size,_=T===void 0?null:T,O=m.color,P=O===void 0?"currentColor":O,M=m.horizontal,A=M!==void 0&&M,k=m.vertical,H=k!==void 0&&k,L=m.rotate,F=L===void 0?0:L,W=m.spin,z=W!==void 0&&W,$=m.style,D=$===void 0?{}:$,V=m.inStack,U=V!==void 0&&V,Q=p(m,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Z={},R=[];_!==null&&(U?R.push("scale("+_+")"):(D.width=typeof _=="string"?_:1.5*_+"rem",D.height=D.width)),A&&R.push("scaleX(-1)"),H&&R.push("scaleY(-1)"),F!==0&&R.push("rotate("+F+"deg)"),P!==null&&(Z.fill=P);var ne=r.createElement("path",d({d:v,style:Z},U?Q:{})),ee=ne;R.length>0&&(D.transform=R.join(" "),D.transformOrigin="center",U&&(ee=r.createElement("g",{style:D},ne,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var q,X=ee,ae=z===!0||typeof z!="number"?2:z,ue=!U&&(A||H);if(ae<0&&(ue=!ue),z&&(X=r.createElement("g",{style:{animation:"spin"+(ue?"-inverse":"")+" linear "+Math.abs(ae)+"s infinite",transformOrigin:"center"}},ee,!(A||H||F!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),U)return X;var we,he="icon_labelledby_"+y,Ie="icon_describedby_"+y;if(S)q=E?he+" "+Ie:he;else if(we="presentation",E)throw new Error("title attribute required when description is set");return r.createElement("svg",d({ref:b,viewBox:"0 0 24 24",style:D,role:we,"aria-labelledby":q},Q),S&&r.createElement("title",{id:he},S),E&&r.createElement("desc",{id:Ie},E),!U&&z&&(ue?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),X)});h.displayName="Icon",h.propTypes={path:o.string.isRequired,size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),style:o.object,inStack:o.bool,className:o.string},h.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=h}]);const dP=sd(uP);var y1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var i=arguments[a];i&&(s=o(s,r(i)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var i in s)t.call(s,i)&&s[i]&&(a=o(a,i));return a}function o(s,a){return a?s?s+" "+a:s+a:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(y1);var pP=y1.exports;const N=sd(pP),w1=new Map,fP=(e,t)=>`${t}-${e}`,fd=f.forwardRef(function({svg:t,iconSize:n,...r},o){const s=fP(t,n);let a=w1.get(s);return a||(a=AC(t,n),w1.set(s,a)),l.jsx("div",{...r,ref:o,dangerouslySetInnerHTML:{__html:a}})});var K=(e=>(e.alertRhombus="alertRhombus",e.alignHorizontalCenter="alignHorizontalCenter",e.alignHorizontalLeft="alignHorizontalLeft",e.alignHorizontalRight="alignHorizontalRight",e.applicationBracketsOutline="applicationBracketsOutline",e.arrowDown="arrowDown",e.arrowExpandAll="arrowExpandAll",e.arrowRight="arrowRight",e.arrowULeftTop="arrowULeftTop",e.arrowURightTop="arrowURightTop",e.borderAllVariant="borderAllVariant",e.borderRadius="borderRadius",e.borderStyle="borderStyle",e.calendar="calendar",e.cellphoneLink="cellphoneLink",e.check="check",e.checkBold="checkBold",e.checkboxBlank="checkboxBlank",e.chevronUp="chevronUp",e.chevronDown="chevronDown",e.chevronLeft="chevronLeft",e.chevronRight="chevronRight",e.close="close",e.codeBraces="codeBraces",e.cog="cog",e.contentCopy="contentCopy",e.contentSave="contentSave",e.delete="delete",e.dotsVertical="dotsVertical",e.email="email",e.emailOutline="emailOutline",e.eye="eye",e.eyedropperVariant="eyedropperVariant",e.eyeOff="eyeOff",e.eyeOffOutline="eyeOffOutline",e.eyeOutline="eyeOutline",e.fire="fire",e.flare="flare",e.floppy="floppy",e.folder="folder",e.fullscreen="fullscreen",e.gradientVertical="gradientVertical",e.helpCircle="helpCircle",e.home="home",e.image="image",e.information="information",e.informationVariant="informationVariant",e.layers="layers",e.link="link",e.lock="lock",e.lockOpenVariant="lockOpenVariant",e.menuDown="menuDown",e.newspaperVariantOutline="newspaperVariantOutline",e.paletteSwatch="paletteSwatch",e.panVertical="panVertical",e.pencil="pencil",e.phone="phone",e.plus="plus",e.plusBox="plusBox",e.powerPlug="powerPlug",e.refresh="refresh",e.rhombusOutline="rhombusOutline",e.rhombusSplit="rhombusSplit",e.rhombusSplitOutline="rhombusSplitOutline",e.tag="tag",e.target="target",e.targetVariant="targetVariant",e.textBoxMultiple="textBoxMultiple",e.trayArrowDown="trayArrowDown",e.unfoldLessHorizontal="unfoldLessHorizontal",e.unfoldMoreHorizontal="unfoldMoreHorizontal",e.viewDayOutline="viewDayOutline",e.viewGridPlus="viewGridPlus",e.web="web",e.xml="xml",e.database="database",e.databaseOutline="databaseOutline",e.databaseOutlineOn="databaseOutlineOn",e.databaseOutlineOff="databaseOutlineOff",e.databaseOutlineRemove="databaseOutlineRemove",e.toggleSwitchOutline="toggleSwitchOutline",e.toggleSwitchOffOutline="toggleSwitchOffOutline",e.codeBrackets="codeBrackets",e.null="null",e.codeString="string",e.number="number",e.cloudUpload="cloudUpload",e.chat="chat",e.creation="creation",e.viewDashboard="viewDashboard",e.rocketLaunch="rocketLaunch",e.lightningBolt="lightningBolt",e.stop="stop",e.arrowUp="arrowUp",e))(K||{});const Ol={alertRhombus:wx,alignHorizontalCenter:Sx,alignHorizontalLeft:Cx,alignHorizontalRight:xx,applicationBracketsOutline:Ex,arrowDown:Px,arrowExpandAll:Tx,arrowRight:Ox,arrowULeftTop:_x,arrowURightTop:Ax,borderAllVariant:Lx,borderRadius:Nx,borderStyle:kx,calendar:$x,cellphoneLink:Ix,check:jx,checkBold:Hx,checkboxBlank:Dx,chevronUp:Ux,chevronDown:Fx,chevronLeft:Bx,chevronRight:zx,close:Wx,codeBraces:Kx,cog:Zx,contentCopy:Xx,contentSave:Jx,delete:oE,dotsVertical:sE,email:aE,emailOutline:iE,eye:lE,eyedropperVariant:pE,eyeOff:cE,eyeOffOutline:uE,eyeOutline:dE,fire:fE,flare:gE,floppy:hE,folder:mE,fullscreen:bE,gradientVertical:vE,helpCircle:yE,home:wE,image:SE,information:CE,informationVariant:xE,layers:EE,link:TE,lock:_E,lockOpenVariant:AE,menuDown:ME,newspaperVariantOutline:LE,paletteSwatch:$E,panVertical:IE,pencil:VE,phone:jE,plus:HE,plusBox:DE,powerPlug:FE,refresh:BE,rhombusOutline:zE,rhombusSplit:UE,rhombusSplitOutline:WE,tag:qE,target:YE,targetVariant:ZE,textBoxMultiple:XE,trayArrowDown:RE,unfoldLessHorizontal:eP,unfoldMoreHorizontal:tP,viewDayOutline:rP,viewGridPlus:oP,web:sP,xml:aP,database:Rx,databaseOutline:nE,databaseOutlineOn:tE,databaseOutlineOff:eE,databaseOutlineRemove:rE,codeBrackets:qx,toggleSwitchOutline:QE,toggleSwitchOffOutline:JE,null:NE,string:Yx,number:kE,cloudUpload:Gx,chat:Vx,creation:Qx,viewDashboard:nP,rocketLaunch:GE,lightningBolt:PE,stop:KE,arrowUp:Mx},gP="gs-cmp-icon",re=se(function({className:t,icon:n,size:r,rotate:o,horizontal:s,vertical:a}){var p;const i=(p=P8())==null?void 0:p.sdkCustomIcons,c=(i==null?void 0:i[n])||(Ol==null?void 0:Ol[n])||n,u=[s&&"scaleX(-1)",a&&"scaleY(-1)",o&&`rotate(${o}deg)`].filter(g=>!!g).join(" ");if(!c)return null;const d=N(gP,t);return c.startsWith("<svg")||c.startsWith("<?xml")?l.jsx(fd,{className:d,style:{transform:u||void 0},svg:c,iconSize:r}):l.jsx(dP,{className:d,path:c,size:r,rotate:o,horizontal:s,vertical:a})}),gd=150;var Fe=(e=>(e.txt="gs-theme-cl-txt",e.bg="gs-theme-cl-bg",e.br="gs-theme-cl-br",e.bgA="gs-theme-cl-bgA",e.bgA2="gs-theme-cl-bgA2",e.hBgAct="gs-theme-cl-hBgAct",e.hBgA2="gs-theme-cl-hBgA2",e.tA="gs-theme-cl-tA",e.tAo="gs-theme-cl-tAo",e.hTAo="gs-theme-cl-hTAo",e.grouphTAo="gs-theme-cl-grouphTAo",e.bA="gs-theme-cl-bA",e.bg0="gs-theme-cl-bg0",e.bgH="gs-theme-cl-bgH",e.hBgH="gs-theme-cl-hBgH",e.bgH2="gs-theme-cl-bgH2",e.hBgH2="gs-theme-cl-hBgH2",e.sel="gs-theme-cl-sel",e.selBr="gs-theme-cl-selBr",e.cmp="gs-theme-cl-cmp",e.cmpBgSoft="gs-theme-cl-cmpBgSoft",e.cmpBgSoftX="gs-theme-cl-cmpBgSoftX",e.cmpBr="gs-theme-cl-cmpBr",e.cmpSymbol="gs-theme-cl-cmpSymbol",e.cmpBgSymbolSoft="gs-theme-cl-cmpBgSymbolSoft",e.cmpBgSymbolSoftX="gs-theme-cl-cmpBgSymbolSoftX",e.cmpSymbolBr="gs-theme-cl-cmpSymbolBr",e.cmpTxtActive="gs-theme-cl-cmpTxtActive",e.focus="gs-theme-ring-focus",e.inputText="gs-theme-elStyles-inputText",e))(Fe||{});const B={bgTr:"gs-utl-bg-transparent",txt:"gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",txtLowEmphasis:"gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",txtHighEmphasis:"gs-utl-text-black dark:gs-utl-text-gray-200",txtHighEmphasisH:"hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",tA:"gs-theme-cl-tA gs-utl-text-violet-400",tAo:"gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",hTAo:"gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",grouphTAo:"gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",bA:"gs-theme-cl-bA gs-utl-border-violet-400",bgA:"gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",bgA2:"gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",bgO:"gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",bg:"gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",bgBlur:"gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",bgH:"gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",bgH75:"gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",hBgH:"gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",bgH2:"gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",hBgH2:"gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",hBgAct:"gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",hBgA2:"gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",hBgDark:"hover:gs-utl-bg-black/10",sel:"gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",selBr:"gs-theme-cl-selBr gs-utl-border-pink-900",cmp:"gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",cmpSymbol:"gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",cmpBgSoft:"gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",cmpBgSymbolSoft:"gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",cmpBgSoftX:"gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",cmpBgSymbolSoftX:"gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",cmpTxtActive:"gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",cmpBr:"gs-theme-cl-cmpBr gs-utl-border-blue-450",cmpSymbolBr:"gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",cmpTargetBg:"gs-utl-bg-amber-500 gs-utl-text-white",cmpTargetBgOpac:"gs-utl-bg-amber-500/5",cmpTargetBr:"gs-utl-border-amber-500",tW:"gs-utl-text-amber-500",tE:"gs-utl-text-red-500",tS:"gs-utl-text-green-500",boxWarn:"gs-utl-bg-amber-50 gs-utl-border-amber-200 gs-utl-text-amber-700 dark:gs-utl-bg-amber-200/10 dark:gs-utl-border-amber-200/20 dark:gs-utl-text-amber-100/80",bgW:"gs-utl-bg-amber-500",bgRed:"gs-utl-bg-red-500",hBgRed:"hover:gs-utl-bg-red-600",hBgW:"hover:gs-utl-bg-amber-600",br:"gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",brRed:"gs-utl-border-red-500",brLight:"gs-utl-border-white/25"},hd={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-scale-95 gs-utl-opacity-0",enterTo:"gs-utl-opacity-100",leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-scale-100 gs-utl-opacity-100",leaveTo:"gs-utl-scale-95 gs-utl-opacity-0"},S1={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-opacity-0",enterTo:"gs-utl-opacity-100"},Da={...S1,...{leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-opacity-100",leaveTo:"gs-utl-opacity-0"}},Me={xy:"gs-utl-px-4 gs-utl-py-2",xyS:"gs-utl-px-2 gs-utl-py-1",xyS2:"gs-utl-px-2 gs-utl-py-0.5",x:"gs-utl-px-4",xS:"gs-utl-px-2",y:"gs-utl-py-2",s:"gs-utl-p-2"},md={bg:B.bg,bgH:B.bgH},C1={bg:"gs-utl-bg-zinc-700",txt:"gs-utl-text-white",block:"gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"},oe={rnd:"gs-utl-rounded",pill:"gs-utl-rounded-full",b:"gs-utl-border",bT:"gs-utl-border-transparent",bS:"gs-utl-border-2",bt:"gs-utl-border-t",bb:"gs-utl-border-b",br:"gs-utl-border-r",bl:"gs-utl-border-l",bA:"gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"},Fa={focus:"gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",deepFocus:"focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"},ie={s3x:"13px",s2x:"14px",sx:"16px",s:"18px",m:"20px",l:"22px"},Le={click:"gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",hover:"gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",hoverGroup:"group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",dot:"gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",scrollX:"gs-utl-overflow-x-auto gs-utl-overflow-y-hidden",scrollY:"gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",txtEllips:"gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",coverAbs:"gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",hiddenVisually:"gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001]",disabled:"gs-utl-opacity-50 gs-utl-pointer-events-none",disabledM:"gs-utl-opacity-50 gs-utl-cursor-not-allowed",noFocusOut:"focus:gs-utl-outline-none",spin:"gs-utl-animate-spin-fast"},Us={link:G(B.tAo),inputText:"gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"},bd={itemList:({index:e=0,open:t=!1,length:n=0}={})=>G(B.bgH2,Me.xyS,B.br,e&&oe.bt,(t||e===n-1)&&oe.bb)},x1=e=>({bg:e?"#18181b":"#f9f9f9",text:e?"#9ca3af":"#111827",link:e?"#a78bfa":"#5b21b6"}),Ws=e=>{let t={isSymbol:!1,bg:B.cmp,bgSoft:`${B.cmpBgSoft} ${B.cmpTxtActive}`,bgSoftX:B.cmpBgSoftX,border:B.cmpBr,txt:""};if(!(e!=null&&e.em))return t;const{isSymbol:n}=e.em.Components.getSymbolInfo(e);return n&&(t={isSymbol:n,bg:B.cmpSymbol,bgSoft:`${B.cmpBgSymbolSoft} ${B.cmpTxtActive}`,bgSoftX:B.cmpBgSymbolSoftX,border:B.cmpSymbolBr,txt:""}),t},E1=({variant:e,size:t="m",className:n,disabledClassName:r,active:o,border:s=!0,rounded:a=!0,disabled:i=!1,withBg:c,block:u,full:d})=>{const p=e==="pr",g=e==="out",h=e==="out-clear",m=e==="warn",b=e==="danger",v=s&&(g||h||!e);return["gs-utl-transition-colors gs-utl-cursor-pointer",u&&"gs-utl-block",t==="x2s"&&"gs-utl-text-xs",t==="s"&&"gs-utl-p-1 gs-utl-text-sm",t==="m"&&"gs-utl-p-1 gs-utl-px-2",t==="m2"&&"gs-utl-p-1 gs-utl-px-3",t==="lg"&&"gs-utl-p-2 gs-utl-px-4 gs-utl-text-lg",n,a&&oe.rnd,c&&B.bg,v?G(oe.b,B.br,g&&B.bA,g&&B.tAo,!i&&B.hBgH):G(oe.b,oe.bT),m&&G(B.bgW,!i&&B.hBgW,"gs-utl-text-white"),b&&G(B.bgRed,!i&&B.hBgRed,"gs-utl-text-white"),p&&G(B.bgA2,!i&&B.hBgAct),o&&B.bgA,i&&(r??"disabled:gs-utl-opacity-80 gs-utl-cursor-not-allowed"),d&&"gs-utl-w-full",Fa.focus]};function Be({children:e,...t}){const{variant:n,size:r,active:o,border:s,rounded:a,block:i,full:c,className:u,icon:d,loading:p,withBg:g,disabled:h,type:m="button",disabledClassName:b,...v}=t,w=p?{icon:OE,size:"18px",className:G("animate-spin-fast")}:et(d)?{icon:d,size:"18px"}:d;return l.jsx("button",{className:G(E1(t)),disabled:h||p,type:m,...v,children:w?l.jsxs(I,{className:G("gap-2"),items:"center",justify:"center",nowrap:!0,children:[l.jsx(j,{children:l.jsx(re,{...w})}),e&&l.jsx(j,{children:e})]}):e})}function Gs(e,t,n){let r=n.initialDeps??[],o;return()=>{var s,a,i,c;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((h,m)=>r[m]!==h)))return o;r=d;let g;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(g=Date.now()),o=t(...d),n.key&&((i=n.debug)!=null&&i.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-g)*100)/100,b=m/16,v=(w,y)=>{for(w=String(w);w.length<y;)w=" "+w;return w};console.info(`%c ${v(m,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,o),o}}function vd(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const hP=(e,t)=>Math.abs(e-t)<1,mP=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},bP=e=>e,vP=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},yP=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=a=>{const{width:i,height:c}=a;t({width:Math.round(i),height:Math.round(c)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const i=a[0];if(i!=null&&i.borderBoxSize){const c=i.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},P1={passive:!0},wP=typeof window>"u"?!0:"onscrollend"in window,SP=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const s=wP?()=>{}:mP(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),a=u=>()=>{const{horizontal:d,isRtl:p}=e.options;o=d?n.scrollLeft*(p&&-1||1):n.scrollTop,s(),t(o,u)},i=a(!0),c=a(!1);return c(),n.addEventListener("scroll",i,P1),n.addEventListener("scrollend",c,P1),()=>{n.removeEventListener("scroll",i),n.removeEventListener("scrollend",c)}},CP=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},xP=(e,{adjustments:t=0,behavior:n},r)=>{var o,s;const a=e+t;(s=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||s.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class EP{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var s;return(s=r())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:o=>{var s;return(s=r())==null?void 0:s.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:bP,rangeExtractor:vP,onChange:()=>{},measureElement:CP,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Gs(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,s=new Map;for(let a=r-1;a>=0;a--){const i=n[a];if(o.has(i.lane))continue;const c=s.get(i.lane);if(c==null||i.end>c.end?s.set(i.lane,i):i.end<c.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurementOptions=Gs(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=Gs(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a},i)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const p=s(d),g=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=g?g.end+this.options.gap:r+o,m=i.get(p),b=typeof m=="number"?m:this.options.estimateSize(d),v=h+b,w=g?g.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:v,key:p,lane:w}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Gs(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,o)=>this.range=n.length>0&&r>0?PP({measurements:n,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Gs(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,o,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),s=this.measurementsCache[o];if(!s)return;const a=s.key,i=this.elementsCache.get(a);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const s=this.itemSizeCache.get(o.key)??o.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,a,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Gs(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let s=0,a=n.length;s<a;s++){const i=n[s],c=r[i];o.push(c)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return vd(r[T1(0,r.length-1,o=>vd(r[o]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(n<=s?r="start":n>=s+o?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-o:r==="center"&&(n=n-o/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-o;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(o.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(o.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const i=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[a,i]=s;this._scrollToOffset(a,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=vd(this.getOffsetForIndex(n,i));hP(u,this.getScrollOffset())||this.scrollToIndex(n,{align:i,behavior:o})}else this.scrollToIndex(n,{align:i,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const T1=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,s=n(o);if(s<r)e=o+1;else if(s>r)t=o-1;else return o}return e>0?e-1:0};function PP({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=T1(0,r,i=>e[i].start,n);let a=s;for(;a<r&&e[a].end<n+t;)a++;return{startIndex:s,endIndex:a}}const TP=typeof document<"u"?Ge.useLayoutEffect:Ge.useEffect;function OP(e){const t=Ge.useReducer(()=>({}),{})[1],n={...e,onChange:(o,s)=>{var a;s?mn.flushSync(t):t(),(a=e.onChange)==null||a.call(e,o,s)}},[r]=Ge.useState(()=>new EP(n));return r.setOptions(n),Ge.useEffect(()=>r._didMount(),[]),TP(()=>r._willUpdate()),r}function _P(e){return OP({observeElementRect:yP,observeElementOffset:SP,scrollToFn:xP,...e})}var AP=Object.defineProperty,MP=(e,t,n)=>t in e?AP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yd=(e,t,n)=>(MP(e,typeof t!="symbol"?t+"":t,n),n);let LP=class{constructor(){yd(this,"current",this.detect()),yd(this,"handoffState","pending"),yd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ur=new LP,Ve=(e,t)=>{Ur.isServer?f.useEffect(e,t):f.useLayoutEffect(e,t)};function Lt(e){let t=f.useRef(e);return Ve(()=>{t.current=e},[e]),t}function Ba(e,t){let[n,r]=f.useState(e),o=Lt(e);return Ve(()=>r(o.current),[o,r,...t]),n}let te=function(e){let t=Lt(e);return f.useCallback((...n)=>t.current(...n),[t])};function _l(e,t,n){let[r,o]=f.useState(n),s=e!==void 0,a=f.useRef(s),i=f.useRef(!1),c=f.useRef(!1);return s&&!a.current&&!i.current?(i.current=!0,a.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&a.current&&!c.current&&(c.current=!0,a.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,te(u=>(s||o(u),t==null?void 0:t(u)))]}function za(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Vn(){let e=[],t={addEventListener(n,r,o,s){return n.addEventListener(r,o,s),t.add(()=>n.removeEventListener(r,o,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return za(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Vn();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function jn(){let[e]=f.useState(Vn);return f.useEffect(()=>()=>e.dispose(),[e]),e}function NP(){let e=typeof document>"u";return"useSyncExternalStore"in Ge?(t=>t.useSyncExternalStore)(Ge)(()=>()=>{},()=>!1,()=>!e):!1}function Ks(){let e=NP(),[t,n]=Ge.useState(Ur.isHandoffComplete);return t&&Ur.isHandoffComplete===!1&&n(!1),Ge.useEffect(()=>{t!==!0&&n(!0)},[t]),Ge.useEffect(()=>Ur.handoff(),[]),e?!1:t}var O1;let tt=(O1=f.useId)!=null?O1:function(){let e=Ks(),[t,n]=f.useState(e?()=>Ur.nextId():null);return Ve(()=>{t===null&&n(Ur.nextId())},[t]),t!=null?""+t:void 0};function Se(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Se),r}function bo(e){return Ur.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let wd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var nt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(nt||{}),rr=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(rr||{}),kP=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(kP||{});function Al(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ml=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ml||{});function Sd(e,t=0){var n;return e===((n=bo(e))==null?void 0:n.body)?!1:Se(t,{0(){return e.matches(wd)},1(){let r=e;for(;r!==null;){if(r.matches(wd))return!0;r=r.parentElement}return!1}})}var $P=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))($P||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ts(e){e==null||e.focus({preventScroll:!0})}let IP=["textarea","input"].join(",");function VP(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,IP))!=null?n:!1}function Wr(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),s=t(r);if(o===null||s===null)return 0;let a=o.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Nt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Wr(e):e:Al(e);o.length>0&&a.length>1&&(a=a.filter(h=>!o.includes(h))),r=r??s.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,p=a.length,g;do{if(d>=p||d+p<=0)return 0;let h=c+d;if(t&16)h=(h+p)%p;else{if(h<0)return 3;if(h>=p)return 1}g=a[h],g==null||g.focus(u),d+=i}while(g!==s.activeElement);return t&6&&VP(g)&&g.select(),2}function _1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function jP(){return/Android/gi.test(window.navigator.userAgent)}function A1(){return _1()||jP()}function Ll(e,t,n){let r=Lt(t);f.useEffect(()=>{function o(s){r.current(s)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function M1(e,t,n){let r=Lt(t);f.useEffect(()=>{function o(s){r.current(s)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function Nl(e,t,n=!0){let r=f.useRef(!1);f.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(a,i){if(!r.current||a.defaultPrevented)return;let c=i(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let d of u){if(d===null)continue;let p=d instanceof HTMLElement?d:d.current;if(p!=null&&p.contains(c)||a.composed&&a.composedPath().includes(p))return}return!Sd(c,Ml.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let s=f.useRef(null);Ll("pointerdown",a=>{var i,c;r.current&&(s.current=((c=(i=a.composedPath)==null?void 0:i.call(a))==null?void 0:c[0])||a.target)},!0),Ll("mousedown",a=>{var i,c;r.current&&(s.current=((c=(i=a.composedPath)==null?void 0:i.call(a))==null?void 0:c[0])||a.target)},!0),Ll("click",a=>{A1()||s.current&&(o(a,()=>s.current),s.current=null)},!0),Ll("touchend",a=>o(a,()=>a.target instanceof HTMLElement?a.target:null),!0),M1("blur",a=>o(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Gr(...e){return f.useMemo(()=>bo(...e),[...e])}function L1(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function qs(e,t){let[n,r]=f.useState(()=>L1(e));return Ve(()=>{r(L1(e))},[e.type,e.as]),Ve(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let N1=Symbol();function Cd(e,t=!0){return Object.assign(e,{[N1]:t})}function $e(...e){let t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);let n=te(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[N1]))?void 0:n}function k1(e){return[e.screenX,e.screenY]}function $1(){let e=f.useRef([-1,-1]);return{wasMoved(t){let n=k1(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=k1(t)}}}function I1({container:e,accept:t,walk:n,enabled:r=!0}){let o=f.useRef(t),s=f.useRef(n);f.useEffect(()=>{o.current=t,s.current=n},[t,n]),Ve(()=>{if(!e||!r)return;let a=bo(e);if(!a)return;let i=o.current,c=s.current,u=Object.assign(p=>i(p),{acceptNode:i}),d=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,r,o,s])}function Ua(e,t){let n=f.useRef([]),r=te(e);f.useEffect(()=>{let o=[...n.current];for(let[s,a]of t.entries())if(n.current[s]!==a){let i=r(t,o);return n.current=t,i}},[r,...t])}function kl(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Gt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Gt||{}),vo=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(vo||{});function Oe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:s=!0,name:a,mergeRefs:i}){i=i??HP;let c=V1(t,e);if(s)return $l(c,n,r,a,i);let u=o??0;if(u&2){let{static:d=!1,...p}=c;if(d)return $l(p,n,r,a,i)}if(u&1){let{unmount:d=!0,...p}=c;return Se(d?0:1,{0(){return null},1(){return $l({...p,hidden:!0,style:{display:"none"}},n,r,a,i)}})}return $l(c,n,r,a,i)}function $l(e,t={},n,r,o){let{as:s=n,children:a,refName:i="ref",...c}=Ed(e,["unmount","static"]),u=e.ref!==void 0?{[i]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let g=!1,h=[];for(let[m,b]of Object.entries(t))typeof b=="boolean"&&(g=!0),b===!0&&h.push(m);g&&(p["data-headlessui-state"]=h.join(" "))}if(s===f.Fragment&&Object.keys(Ys(c)).length>0){if(!f.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let g=d.props,h=typeof(g==null?void 0:g.className)=="function"?(...b)=>kl(g==null?void 0:g.className(...b),c.className):kl(g==null?void 0:g.className,c.className),m=h?{className:h}:{};return f.cloneElement(d,Object.assign({},V1(d.props,Ys(Ed(c,["ref"]))),p,u,{ref:o(d.ref,u.ref)},m))}return f.createElement(s,Object.assign({},Ed(c,["ref"]),s!==f.Fragment&&u,s!==f.Fragment&&p),d)}function xd(){let e=f.useRef([]),t=f.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function HP(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function V1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...s){let a=n[r];for(let i of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;i(o,...s)}}});return t}function _e(e){var t;return Object.assign(f.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ys(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ed(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let DP="div";var Sn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Sn||{});function FP(e,t){var n;let{features:r=1,...o}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Oe({ourProps:s,theirProps:o,slot:{},defaultTag:DP,name:"Hidden"})}let Cn=_e(FP),Pd=f.createContext(null);Pd.displayName="OpenClosedContext";var Je=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Je||{});function yo(){return f.useContext(Pd)}function Wa({value:e,children:t}){return f.createElement(Pd.Provider,{value:e},t)}function BP(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let vr=[];BP(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&vr[0]!==t.target&&(vr.unshift(t.target),vr=vr.filter(n=>n!=null&&n.isConnected),vr.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Kr(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&zP(n)?!1:r}function zP(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function UP(e){throw new Error("Unexpected object: "+e)}var Ye=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ye||{});function Td(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=o-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=o+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return r}case 5:return null;default:UP(e)}}function Il(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))H1(n,j1(t,r),o);return n}function j1(e,t){return e?e+"["+t+"]":t}function H1(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())H1(e,j1(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Il(n,t,e)}function D1(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}var me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(me||{}),WP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(WP||{}),GP=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(GP||{}),KP=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(KP||{}),qP=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(qP||{});function Od(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((a,i)=>a.dataRef.current.order-i.dataRef.current.order):Wr(r,a=>a.dataRef.current.domRef.current),s=n?o.indexOf(n):null;return s===-1&&(s=null),{options:o,activeOptionIndex:s}}let YP={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,o,s,a;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let d=t.focus===Ye.Specific?t.idx:Td(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var g,h;return(h=(g=e.activeOptionIndex)!=null?g:e.virtual.options.findIndex(m=>!e.virtual.disabled(m)))!=null?h:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),p=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===d&&e.activationTrigger===p?e:{...e,activeOptionIndex:d,activationTrigger:p}}let i=Od(e);if(i.activeOptionIndex===null){let d=i.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(i.activeOptionIndex=d)}let c=t.focus===Ye.Specific?t.idx:Td(t,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(a=t.trigger)!=null?a:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...i,activeOptionIndex:c,activationTrigger:u}},3:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let s=t.payload,a=Od(e,c=>(c.push(s),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(s));let i={...e,...a,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=Od(e,o=>{let s=o.findIndex(a=>a.id===t.id);return s!==-1&&o.splice(s,1),o});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?r=o:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},_d=f.createContext(null);_d.displayName="ComboboxActionsContext";function Ga(e){let t=f.useContext(_d);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ga),n}return t}let F1=f.createContext(null);function ZP(e){var t;let n=ns("VirtualProvider"),[r,o]=f.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),s=_P({scrollPaddingStart:r,scrollPaddingEnd:o,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[a,i]=f.useState(0);return Ve(()=>{i(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),f.createElement(F1.Provider,{value:s},f.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&s.scrollToIndex(n.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return f.createElement(f.Fragment,{key:c.key},f.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${a}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Ad=f.createContext(null);Ad.displayName="ComboboxDataContext";function ns(e){let t=f.useContext(Ad);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ns),n}return t}function XP(e,t){return Se(t.type,YP,e,t)}let JP=f.Fragment;function QP(e,t){let{value:n,defaultValue:r,onChange:o,form:s,name:a,by:i=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:p=!1,immediate:g=!1,virtual:h=null,...m}=e,b=!1,v=null,[w=p?[]:void 0,y]=_l(n,o,r),[C,S]=f.useReducer(XP,{dataRef:f.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),x=f.useRef(!1),E=f.useRef({static:!1,hold:!1}),T=f.useRef(null),_=f.useRef(null),O=f.useRef(null),P=f.useRef(null),M=te(typeof i=="string"?(X,ae)=>{let ue=i;return(X==null?void 0:X[ue])===(ae==null?void 0:ae[ue])}:i??((X,ae)=>X===ae)),A=te(X=>C.options.findIndex(ae=>M(ae.dataRef.current.value,X))),k=f.useCallback(X=>Se(L.mode,{1:()=>w.some(ae=>M(ae,X)),0:()=>M(w,X)}),[w]),H=te(X=>C.activeOptionIndex===A(X)),L=f.useMemo(()=>({...C,immediate:b,optionsPropsRef:E,labelRef:T,inputRef:_,buttonRef:O,optionsRef:P,value:w,defaultValue:r,disabled:c,mode:p?1:0,virtual:C.virtual,get activeOptionIndex(){if(x.current&&C.activeOptionIndex===null&&C.options.length>0){let X=C.options.findIndex(ae=>!ae.dataRef.current.disabled);if(X!==-1)return X}return C.activeOptionIndex},calculateIndex:A,compare:M,isSelected:k,isActive:H,nullable:d,__demoMode:u}),[w,r,c,p,d,u,C,v]);Ve(()=>{},[v,void 0]),Ve(()=>{C.dataRef.current=L},[L]),Nl([L.buttonRef,L.inputRef,L.optionsRef],()=>R.closeCombobox(),L.comboboxState===0);let F=f.useMemo(()=>{var X,ae,ue;return{open:L.comboboxState===0,disabled:c,activeIndex:L.activeOptionIndex,activeOption:L.activeOptionIndex===null?null:L.virtual?L.virtual.options[(X=L.activeOptionIndex)!=null?X:0]:(ue=(ae=L.options[L.activeOptionIndex])==null?void 0:ae.dataRef.current.value)!=null?ue:null,value:w}},[L,c,w]),W=te(()=>{if(L.activeOptionIndex!==null){if(L.virtual)Q(L.virtual.options[L.activeOptionIndex]);else{let{dataRef:X}=L.options[L.activeOptionIndex];Q(X.current.value)}R.goToOption(Ye.Specific,L.activeOptionIndex)}}),z=te(()=>{S({type:0}),x.current=!0}),$=te(()=>{S({type:1}),x.current=!1}),D=te((X,ae,ue)=>(x.current=!1,X===Ye.Specific?S({type:2,focus:Ye.Specific,idx:ae,trigger:ue}):S({type:2,focus:X,trigger:ue}))),V=te((X,ae)=>(S({type:3,payload:{id:X,dataRef:ae}}),()=>{L.isActive(ae.current.value)&&(x.current=!0),S({type:4,id:X})})),U=te(X=>(S({type:5,id:X}),()=>S({type:5,id:null}))),Q=te(X=>Se(L.mode,{0(){return y==null?void 0:y(X)},1(){let ae=L.value.slice(),ue=ae.findIndex(we=>M(we,X));return ue===-1?ae.push(X):ae.splice(ue,1),y==null?void 0:y(ae)}})),Z=te(X=>{S({type:6,trigger:X})}),R=f.useMemo(()=>({onChange:Q,registerOption:V,registerLabel:U,goToOption:D,closeCombobox:$,openCombobox:z,setActivationTrigger:Z,selectActiveOption:W}),[]),ne=t===null?{}:{ref:t},ee=f.useRef(null),q=jn();return f.useEffect(()=>{ee.current&&r!==void 0&&q.addEventListener(ee.current,"reset",()=>{y==null||y(r)})},[ee,y]),f.createElement(_d.Provider,{value:R},f.createElement(Ad.Provider,{value:L},f.createElement(Wa,{value:Se(L.comboboxState,{0:Je.Open,1:Je.Closed})},a!=null&&w!=null&&Il({[a]:w}).map(([X,ae],ue)=>f.createElement(Cn,{features:Sn.Hidden,ref:ue===0?we=>{var he;ee.current=(he=we==null?void 0:we.closest("form"))!=null?he:null}:void 0,...Ys({key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:X,value:ae})})),Oe({ourProps:ne,theirProps:m,slot:F,defaultTag:JP,name:"Combobox"}))))}let RP="input";function e5(e,t){var n,r,o,s,a;let i=tt(),{id:c=`headlessui-combobox-input-${i}`,onChange:u,displayValue:d,type:p="text",...g}=e,h=ns("Combobox.Input"),m=Ga("Combobox.Input"),b=$e(h.inputRef,t),v=Gr(h.inputRef),w=f.useRef(!1),y=jn(),C=te(()=>{m.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),m.goToOption(Ye.Nothing)}),S=function(){var L;return typeof d=="function"&&h.value!==void 0?(L=d(h.value))!=null?L:"":typeof h.value=="string"?h.value:""}();Ua(([L,F],[W,z])=>{if(w.current)return;let $=h.inputRef.current;$&&((z===0&&F===1||L!==W)&&($.value=L),requestAnimationFrame(()=>{if(w.current||!$||(v==null?void 0:v.activeElement)!==$)return;let{selectionStart:D,selectionEnd:V}=$;Math.abs((V??0)-(D??0))===0&&D===0&&$.setSelectionRange($.value.length,$.value.length)}))},[S,h.comboboxState,v]),Ua(([L],[F])=>{if(L===0&&F===1){if(w.current)return;let W=h.inputRef.current;if(!W)return;let z=W.value,{selectionStart:$,selectionEnd:D,selectionDirection:V}=W;W.value="",W.value=z,V!==null?W.setSelectionRange($,D,V):W.setSelectionRange($,D)}},[h.comboboxState]);let x=f.useRef(!1),E=te(()=>{x.current=!0}),T=te(()=>{y.nextFrame(()=>{x.current=!1})}),_=te(L=>{switch(w.current=!0,L.key){case me.Enter:if(w.current=!1,h.comboboxState!==0||x.current)return;if(L.preventDefault(),L.stopPropagation(),h.activeOptionIndex===null){m.closeCombobox();return}m.selectActiveOption(),h.mode===0&&m.closeCombobox();break;case me.ArrowDown:return w.current=!1,L.preventDefault(),L.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ye.Next),1:()=>m.openCombobox()});case me.ArrowUp:return w.current=!1,L.preventDefault(),L.stopPropagation(),Se(h.comboboxState,{0:()=>m.goToOption(Ye.Previous),1:()=>{m.openCombobox(),y.nextFrame(()=>{h.value||m.goToOption(Ye.Last)})}});case me.Home:if(L.shiftKey)break;return w.current=!1,L.preventDefault(),L.stopPropagation(),m.goToOption(Ye.First);case me.PageUp:return w.current=!1,L.preventDefault(),L.stopPropagation(),m.goToOption(Ye.First);case me.End:if(L.shiftKey)break;return w.current=!1,L.preventDefault(),L.stopPropagation(),m.goToOption(Ye.Last);case me.PageDown:return w.current=!1,L.preventDefault(),L.stopPropagation(),m.goToOption(Ye.Last);case me.Escape:return w.current=!1,h.comboboxState!==0?void 0:(L.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&L.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&C(),m.closeCombobox());case me.Tab:if(w.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&m.selectActiveOption(),m.closeCombobox();break}}),O=te(L=>{u==null||u(L),h.nullable&&h.mode===0&&L.target.value===""&&C(),m.openCombobox()}),P=te(L=>{var F,W,z;let $=(F=L.relatedTarget)!=null?F:vr.find(D=>D!==L.currentTarget);if(w.current=!1,!((W=h.optionsRef.current)!=null&&W.contains($))&&!((z=h.buttonRef.current)!=null&&z.contains($))&&h.comboboxState===0)return L.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?C():h.activationTrigger!==1&&m.selectActiveOption()),m.closeCombobox()}),M=te(L=>{var F,W,z;let $=(F=L.relatedTarget)!=null?F:vr.find(D=>D!==L.currentTarget);(W=h.buttonRef.current)!=null&&W.contains($)||(z=h.optionsRef.current)!=null&&z.contains($)||h.disabled||h.immediate&&h.comboboxState!==0&&(m.openCombobox(),y.nextFrame(()=>{m.setActivationTrigger(1)}))}),A=Ba(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),k=f.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),H={ref:b,id:c,role:"combobox",type:p,"aria-controls":(n=h.optionsRef.current)==null?void 0:n.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(r=h.options.find(L=>{var F;return!((F=h.virtual)!=null&&F.disabled(L.dataRef.current.value))&&h.compare(L.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:r.id:(o=h.options[h.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":A,"aria-autocomplete":"list",defaultValue:(a=(s=e.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?a:h.defaultValue,disabled:h.disabled,onCompositionStart:E,onCompositionEnd:T,onKeyDown:_,onChange:O,onFocus:M,onBlur:P};return Oe({ourProps:H,theirProps:g,slot:k,defaultTag:RP,name:"Combobox.Input"})}let t5="button";function n5(e,t){var n;let r=ns("Combobox.Button"),o=Ga("Combobox.Button"),s=$e(r.buttonRef,t),a=tt(),{id:i=`headlessui-combobox-button-${a}`,...c}=e,u=jn(),d=te(b=>{switch(b.key){case me.ArrowDown:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case me.ArrowUp:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{r.value||o.goToOption(Ye.Last)})),u.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case me.Escape:return r.comboboxState!==0?void 0:(b.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&b.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})}));default:return}}),p=te(b=>{if(Kr(b.currentTarget))return b.preventDefault();r.comboboxState===0?o.closeCombobox():(b.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})})}),g=Ba(()=>{if(r.labelId)return[r.labelId,i].join(" ")},[r.labelId,i]),h=f.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),m={ref:s,id:i,type:qs(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":g,disabled:r.disabled,onClick:p,onKeyDown:d};return Oe({ourProps:m,theirProps:c,slot:h,defaultTag:t5,name:"Combobox.Button"})}let r5="label";function o5(e,t){let n=tt(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,s=ns("Combobox.Label"),a=Ga("Combobox.Label"),i=$e(s.labelRef,t);Ve(()=>a.registerLabel(r),[r]);let c=te(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Oe({ourProps:{ref:i,id:r,onClick:c},theirProps:o,slot:u,defaultTag:r5,name:"Combobox.Label"})}let s5="ul",a5=Gt.RenderStrategy|Gt.Static;function i5(e,t){let n=tt(),{id:r=`headlessui-combobox-options-${n}`,hold:o=!1,...s}=e,a=ns("Combobox.Options"),i=$e(a.optionsRef,t),c=yo(),u=(()=>c!==null?(c&Je.Open)===Je.Open:a.comboboxState===0)();Ve(()=>{var h;a.optionsPropsRef.current.static=(h=e.static)!=null?h:!1},[a.optionsPropsRef,e.static]),Ve(()=>{a.optionsPropsRef.current.hold=o},[a.optionsPropsRef,o]),I1({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=Ba(()=>{var h,m;return(m=a.labelId)!=null?m:(h=a.buttonRef.current)==null?void 0:h.id},[a.labelId,a.buttonRef.current]),p=f.useMemo(()=>({open:a.comboboxState===0,option:void 0}),[a]),g={"aria-labelledby":d,role:"listbox","aria-multiselectable":a.mode===1?!0:void 0,id:r,ref:i};return a.virtual&&a.comboboxState===0&&Object.assign(s,{children:f.createElement(ZP,null,s.children)}),Oe({ourProps:g,theirProps:s,slot:p,defaultTag:s5,features:a5,visible:u,name:"Combobox.Options"})}let l5="li";function c5(e,t){var n;let r=tt(),{id:o=`headlessui-combobox-option-${r}`,disabled:s=!1,value:a,order:i=null,...c}=e,u=ns("Combobox.Option"),d=Ga("Combobox.Option"),p=u.virtual?u.activeOptionIndex===u.calculateIndex(a):u.activeOptionIndex===null?!1:((n=u.options[u.activeOptionIndex])==null?void 0:n.id)===o,g=u.isSelected(a),h=f.useRef(null),m=Lt({disabled:s,value:a,domRef:h,order:i}),b=f.useContext(F1),v=$e(t,h,b?b.measureElement:null),w=te(()=>d.onChange(a));Ve(()=>d.registerOption(o,m),[m,o]);let y=f.useRef(!(u.virtual||u.__demoMode));Ve(()=>{if(!u.virtual||!u.__demoMode)return;let P=Vn();return P.requestAnimationFrame(()=>{y.current=!0}),P.dispose},[u.virtual,u.__demoMode]),Ve(()=>{if(!y.current||u.comboboxState!==0||!p||u.activationTrigger===0)return;let P=Vn();return P.requestAnimationFrame(()=>{var M,A;(A=(M=h.current)==null?void 0:M.scrollIntoView)==null||A.call(M,{block:"nearest"})}),P.dispose},[h,p,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let C=te(P=>{var M;if(s||(M=u.virtual)!=null&&M.disabled(a))return P.preventDefault();w(),A1()||requestAnimationFrame(()=>{var A;return(A=u.inputRef.current)==null?void 0:A.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=te(()=>{var P;if(s||(P=u.virtual)!=null&&P.disabled(a))return d.goToOption(Ye.Nothing);let M=u.calculateIndex(a);d.goToOption(Ye.Specific,M)}),x=$1(),E=te(P=>x.update(P)),T=te(P=>{var M;if(!x.wasMoved(P)||s||(M=u.virtual)!=null&&M.disabled(a)||p)return;let A=u.calculateIndex(a);d.goToOption(Ye.Specific,A,0)}),_=te(P=>{var M;x.wasMoved(P)&&(s||(M=u.virtual)!=null&&M.disabled(a)||p&&(u.optionsPropsRef.current.hold||d.goToOption(Ye.Nothing)))}),O=f.useMemo(()=>({active:p,selected:g,disabled:s}),[p,g,s]);return Oe({ourProps:{id:o,ref:v,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":g,disabled:void 0,onClick:C,onFocus:S,onPointerEnter:E,onMouseEnter:E,onPointerMove:T,onMouseMove:T,onPointerLeave:_,onMouseLeave:_},theirProps:c,slot:O,defaultTag:l5,name:"Combobox.Option"})}let u5=_e(QP),d5=_e(n5),p5=_e(e5),f5=_e(o5),g5=_e(i5),h5=_e(c5),Zs=Object.assign(u5,{Input:p5,Button:d5,Label:f5,Options:g5,Option:h5});function Md(e,t,n,r){let o=Lt(n);f.useEffect(()=>{e=e??window;function s(a){o.current(a)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function Xs(){let e=f.useRef(!1);return Ve(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function B1(e){let t=te(e),n=f.useRef(!1);f.useEffect(()=>(n.current=!1,()=>{n.current=!0,za(()=>{n.current&&t()})}),[t])}var xn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(xn||{});function Ld(){let e=f.useRef(0);return M1("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function z1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let m5="div";var U1=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(U1||{});function b5(e,t){let n=f.useRef(null),r=$e(n,t),{initialFocus:o,containers:s,features:a=30,...i}=e;Ks()||(a=1);let c=Gr(n);w5({ownerDocument:c},!!(a&16));let u=S5({ownerDocument:c,container:n,initialFocus:o},!!(a&2));C5({ownerDocument:c,container:n,containers:s,previousActiveElement:u},!!(a&8));let d=Ld(),p=te(b=>{let v=n.current;v&&(w=>w())(()=>{Se(d.current,{[xn.Forwards]:()=>{Nt(v,nt.First,{skipElements:[b.relatedTarget]})},[xn.Backwards]:()=>{Nt(v,nt.Last,{skipElements:[b.relatedTarget]})}})})}),g=jn(),h=f.useRef(!1),m={ref:r,onKeyDown(b){b.key=="Tab"&&(h.current=!0,g.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let v=z1(s);n.current instanceof HTMLElement&&v.add(n.current);let w=b.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(W1(v,w)||(h.current?Nt(n.current,Se(d.current,{[xn.Forwards]:()=>nt.Next,[xn.Backwards]:()=>nt.Previous})|nt.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&ts(b.target)))}};return f.createElement(f.Fragment,null,!!(a&4)&&f.createElement(Cn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Sn.Focusable}),Oe({ourProps:m,theirProps:i,defaultTag:m5,name:"FocusTrap"}),!!(a&4)&&f.createElement(Cn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Sn.Focusable}))}let v5=_e(b5),Ka=Object.assign(v5,{features:U1});function y5(e=!0){let t=f.useRef(vr.slice());return Ua(([n],[r])=>{r===!0&&n===!1&&za(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=vr.slice())},[e,vr,t]),te(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function w5({ownerDocument:e},t){let n=y5(t);Ua(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&ts(n())},[t]),B1(()=>{t&&ts(n())})}function S5({ownerDocument:e,container:t,initialFocus:n},r){let o=f.useRef(null),s=Xs();return Ua(()=>{if(!r)return;let a=t.current;a&&za(()=>{if(!s.current)return;let i=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===i){o.current=i;return}}else if(a.contains(i)){o.current=i;return}n!=null&&n.current?ts(n.current):Nt(a,nt.First)===rr.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function C5({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let s=Xs();Md(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let i=z1(n);t.current instanceof HTMLElement&&i.add(t.current);let c=r.current;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?W1(i,u)?(r.current=u,ts(u)):(a.preventDefault(),a.stopPropagation(),ts(c)):ts(r.current)},!0)}function W1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let G1=f.createContext(!1);function x5(){return f.useContext(G1)}function Nd(e){return f.createElement(G1.Provider,{value:e.force},e.children)}function E5(e){let t=x5(),n=f.useContext(K1),r=Gr(e),[o,s]=f.useState(()=>{if(!t&&n!==null||Ur.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)});return f.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),f.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),o}let P5=f.Fragment;function T5(e,t){let n=e,r=f.useRef(null),o=$e(Cd(d=>{r.current=d}),t),s=Gr(r),a=E5(r),[i]=f.useState(()=>{var d;return Ur.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=f.useContext(kd),u=Ks();return Ve(()=>{!a||!i||a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i))},[a,i]),Ve(()=>{if(i&&c)return c.register(i)},[c,i]),B1(()=>{var d;!a||!i||(i instanceof Node&&a.contains(i)&&a.removeChild(i),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!i?null:mn.createPortal(Oe({ourProps:{ref:o},theirProps:n,defaultTag:P5,name:"Portal"}),i):null}let O5=f.Fragment,K1=f.createContext(null);function _5(e,t){let{target:n,...r}=e,o={ref:$e(t)};return f.createElement(K1.Provider,{value:n},Oe({ourProps:o,theirProps:r,defaultTag:O5,name:"Popover.Group"}))}let kd=f.createContext(null);function q1(){let e=f.useContext(kd),t=f.useRef([]),n=te(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=te(s=>{let a=t.current.indexOf(s);a!==-1&&t.current.splice(a,1),e&&e.unregister(s)}),o=f.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,f.useMemo(()=>function({children:s}){return f.createElement(kd.Provider,{value:o},s)},[o])]}let A5=_e(T5),M5=_e(_5),$d=Object.assign(A5,{Group:M5});function L5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const N5=typeof Object.is=="function"?Object.is:L5,{useState:k5,useEffect:$5,useLayoutEffect:I5,useDebugValue:V5}=Ge;function j5(e,t,n){const r=t(),[{inst:o},s]=k5({inst:{value:r,getSnapshot:t}});return I5(()=>{o.value=r,o.getSnapshot=t,Id(o)&&s({inst:o})},[e,r,t]),$5(()=>(Id(o)&&s({inst:o}),e(()=>{Id(o)&&s({inst:o})})),[e]),V5(r),r}function Id(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!N5(n,r)}catch{return!0}}function H5(e,t,n){return t()}const D5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F5=!D5,B5=F5?H5:j5,z5="useSyncExternalStore"in Ge?(e=>e.useSyncExternalStore)(Ge):B5;function U5(e){return z5(e.subscribe,e.getSnapshot,e.getSnapshot)}function W5(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...s){let a=t[o].call(n,...s);a&&(n=a,r.forEach(i=>i()))}}}function G5(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,s=e-o;n.style(r,"paddingRight",`${s}px`)}}}function K5(){return _1()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(s=>s()).some(s=>s.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=Vn();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let s=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let c=i.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let c=i.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let c=i.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()},{passive:!1}),t.add(()=>{var i;let c=(i=window.scrollY)!=null?i:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function q5(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Y5(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let rs=W5(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Vn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Y5(n)},o=[K5(),G5(),q5()];o.forEach(({before:s})=>s==null?void 0:s(r)),o.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});rs.subscribe(()=>{let e=rs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&rs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&rs.dispatch("TEARDOWN",n)}});function Z5(e,t,n){let r=U5(rs),o=e?r.get(e):void 0,s=o?o.count>0:!1;return Ve(()=>{if(!(!e||!t))return rs.dispatch("PUSH",e,n),()=>rs.dispatch("POP",e,n)},[t,e]),s}let Vd=new Map,qa=new Map;function Y1(e,t=!0){Ve(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var a;if(!r)return;let i=(a=qa.get(r))!=null?a:1;if(i===1?qa.delete(r):qa.set(r,i-1),i!==1)return;let c=Vd.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,Vd.delete(r))}let s=(n=qa.get(r))!=null?n:0;return qa.set(r,s+1),s!==0||(Vd.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function Z1({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=f.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Gr(o),a=te(()=>{var i,c,u;let d=[];for(let p of e)p!==null&&(p instanceof HTMLElement?d.push(p):"current"in p&&p.current instanceof HTMLElement&&d.push(p.current));if(t!=null&&t.current)for(let p of t.current)d.push(p);for(let p of(i=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?i:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(o.current)||p.contains((u=(c=o.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>p.contains(g))||d.push(p));return d});return{resolveContainers:a,contains:te(i=>a().some(c=>c.contains(i))),mainTreeNodeRef:o,MainTreeNode:f.useMemo(()=>function(){return n!=null?null:f.createElement(Cn,{features:Sn.Hidden,ref:o})},[o,n])}}function X5(){let e=f.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:f.useMemo(()=>function(){return f.createElement(Cn,{features:Sn.Hidden,ref:e})},[e])}}let jd=f.createContext(()=>{});jd.displayName="StackContext";var Hd=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Hd||{});function J5(){return f.useContext(jd)}function Q5({children:e,onUpdate:t,type:n,element:r,enabled:o}){let s=J5(),a=te((...i)=>{t==null||t(...i),s(...i)});return Ve(()=>{let i=o===void 0||o===!0;return i&&a(0,n,r),()=>{i&&a(1,n,r)}},[a,n,r,o]),f.createElement(jd.Provider,{value:a},e)}let X1=f.createContext(null);function J1(){let e=f.useContext(X1);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,J1),t}return e}function Vl(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let r=te(s=>(t(a=>[...a,s]),()=>t(a=>{let i=a.slice(),c=i.indexOf(s);return c!==-1&&i.splice(c,1),i}))),o=f.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return f.createElement(X1.Provider,{value:o},n.children)},[t])]}let R5="p";function eT(e,t){let n=tt(),{id:r=`headlessui-description-${n}`,...o}=e,s=J1(),a=$e(t);Ve(()=>s.register(r),[r,s.register]);let i={ref:a,...s.props,id:r};return Oe({ourProps:i,theirProps:o,slot:s.slot||{},defaultTag:R5,name:s.name||"Description"})}let tT=_e(eT),Dd=Object.assign(tT,{});var nT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nT||{}),rT=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(rT||{});let oT={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},jl=f.createContext(null);jl.displayName="DialogContext";function Ya(e){let t=f.useContext(jl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ya),n}return t}function sT(e,t,n=()=>[document.body]){Z5(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function aT(e,t){return Se(t.type,oT,e,t)}let iT="div",lT=Gt.RenderStrategy|Gt.Static;function cT(e,t){let n=tt(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:s,initialFocus:a,role:i="dialog",__demoMode:c=!1,...u}=e,[d,p]=f.useState(0),g=f.useRef(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(g.current||(g.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=yo();o===void 0&&h!==null&&(o=(h&Je.Open)===Je.Open);let m=f.useRef(null),b=$e(m,t),v=Gr(m),w=e.hasOwnProperty("open")||h!==null,y=e.hasOwnProperty("onClose");if(!w&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!w)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let C=o?0:1,[S,x]=f.useReducer(aT,{titleId:null,descriptionId:null,panelRef:f.createRef()}),E=te(()=>s(!1)),T=te(ue=>x({type:0,id:ue})),_=Ks()?c?!1:C===0:!1,O=d>1,P=f.useContext(jl)!==null,[M,A]=q1(),k={get current(){var ue;return(ue=S.panelRef.current)!=null?ue:m.current}},{resolveContainers:H,mainTreeNodeRef:L,MainTreeNode:F}=Z1({portals:M,defaultContainers:[k]}),W=O?"parent":"leaf",z=h!==null?(h&Je.Closing)===Je.Closing:!1,$=(()=>P||z?!1:_)(),D=f.useCallback(()=>{var ue,we;return(we=Array.from((ue=v==null?void 0:v.querySelectorAll("body > *"))!=null?ue:[]).find(he=>he.id==="headlessui-portal-root"?!1:he.contains(L.current)&&he instanceof HTMLElement))!=null?we:null},[L]);Y1(D,$);let V=(()=>O?!0:_)(),U=f.useCallback(()=>{var ue,we;return(we=Array.from((ue=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?ue:[]).find(he=>he.contains(L.current)&&he instanceof HTMLElement))!=null?we:null},[L]);Y1(U,V);let Q=(()=>!(!_||O))();Nl(H,ue=>{ue.preventDefault(),E()},Q);let Z=(()=>!(O||C!==0))();Md(v==null?void 0:v.defaultView,"keydown",ue=>{Z&&(ue.defaultPrevented||ue.key===me.Escape&&(ue.preventDefault(),ue.stopPropagation(),E()))});let R=(()=>!(z||C!==0||P))();sT(v,R,H),f.useEffect(()=>{if(C!==0||!m.current)return;let ue=new ResizeObserver(we=>{for(let he of we){let Ie=he.target.getBoundingClientRect();Ie.x===0&&Ie.y===0&&Ie.width===0&&Ie.height===0&&E()}});return ue.observe(m.current),()=>ue.disconnect()},[C,m,E]);let[ne,ee]=Vl(),q=f.useMemo(()=>[{dialogState:C,close:E,setTitleId:T},S],[C,S,E,T]),X=f.useMemo(()=>({open:C===0}),[C]),ae={ref:b,id:r,role:i,"aria-modal":C===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ne};return f.createElement(Q5,{type:"Dialog",enabled:C===0,element:m,onUpdate:te((ue,we)=>{we==="Dialog"&&Se(ue,{[Hd.Add]:()=>p(he=>he+1),[Hd.Remove]:()=>p(he=>he-1)})})},f.createElement(Nd,{force:!0},f.createElement($d,null,f.createElement(jl.Provider,{value:q},f.createElement($d.Group,{target:m},f.createElement(Nd,{force:!1},f.createElement(ee,{slot:X,name:"Dialog.Description"},f.createElement(Ka,{initialFocus:a,containers:H,features:_?Se(W,{parent:Ka.features.RestoreFocus,leaf:Ka.features.All&~Ka.features.FocusLock}):Ka.features.None},f.createElement(A,null,Oe({ourProps:ae,theirProps:u,slot:X,defaultTag:iT,features:lT,visible:C===0,name:"Dialog"}))))))))),f.createElement(F,null))}let uT="div";function dT(e,t){let n=tt(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:s,close:a}]=Ya("Dialog.Overlay"),i=$e(t),c=te(d=>{if(d.target===d.currentTarget){if(Kr(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),a()}}),u=f.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:c},theirProps:o,slot:u,defaultTag:uT,name:"Dialog.Overlay"})}let pT="div";function fT(e,t){let n=tt(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:s},a]=Ya("Dialog.Backdrop"),i=$e(t);f.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let c=f.useMemo(()=>({open:s===0}),[s]);return f.createElement(Nd,{force:!0},f.createElement($d,null,Oe({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:o,slot:c,defaultTag:pT,name:"Dialog.Backdrop"})))}let gT="div";function hT(e,t){let n=tt(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:s},a]=Ya("Dialog.Panel"),i=$e(t,a.panelRef),c=f.useMemo(()=>({open:s===0}),[s]),u=te(d=>{d.stopPropagation()});return Oe({ourProps:{ref:i,id:r,onClick:u},theirProps:o,slot:c,defaultTag:gT,name:"Dialog.Panel"})}let mT="h2";function bT(e,t){let n=tt(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:s,setTitleId:a}]=Ya("Dialog.Title"),i=$e(t);f.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=f.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:i,id:r},theirProps:o,slot:c,defaultTag:mT,name:"Dialog.Title"})}let vT=_e(cT),yT=_e(fT),wT=_e(hT),ST=_e(dT),CT=_e(bT),Za=Object.assign(vT,{Backdrop:yT,Panel:wT,Overlay:ST,Title:CT,Description:Dd});var Q1;let xT=(Q1=f.startTransition)!=null?Q1:function(e){e()};var ET=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ET||{}),PT=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(PT||{});let TT={0:e=>({...e,disclosureState:Se(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Fd=f.createContext(null);Fd.displayName="DisclosureContext";function Bd(e){let t=f.useContext(Fd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bd),n}return t}let zd=f.createContext(null);zd.displayName="DisclosureAPIContext";function R1(e){let t=f.useContext(zd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,R1),n}return t}let Ud=f.createContext(null);Ud.displayName="DisclosurePanelContext";function OT(){return f.useContext(Ud)}function _T(e,t){return Se(t.type,TT,e,t)}let AT=f.Fragment;function MT(e,t){let{defaultOpen:n=!1,...r}=e,o=f.useRef(null),s=$e(t,Cd(v=>{o.current=v},e.as===void 0||e.as===f.Fragment)),a=f.useRef(null),i=f.useRef(null),c=f.useReducer(_T,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:i,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},p]=c,g=te(v=>{p({type:1});let w=bo(o);if(!w||!d)return;let y=(()=>v?v instanceof HTMLElement?v:v.current instanceof HTMLElement?v.current:w.getElementById(d):w.getElementById(d))();y==null||y.focus()}),h=f.useMemo(()=>({close:g}),[g]),m=f.useMemo(()=>({open:u===0,close:g}),[u,g]),b={ref:s};return f.createElement(Fd.Provider,{value:c},f.createElement(zd.Provider,{value:h},f.createElement(Wa,{value:Se(u,{0:Je.Open,1:Je.Closed})},Oe({ourProps:b,theirProps:r,slot:m,defaultTag:AT,name:"Disclosure"}))))}let LT="button";function NT(e,t){let n=tt(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[s,a]=Bd("Disclosure.Button"),i=OT(),c=i===null?!1:i===s.panelId,u=f.useRef(null),d=$e(u,t,c?null:s.buttonRef),p=xd();f.useEffect(()=>{if(!c)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,c]);let g=te(y=>{var C;if(c){if(s.disclosureState===1)return;switch(y.key){case me.Space:case me.Enter:y.preventDefault(),y.stopPropagation(),a({type:0}),(C=s.buttonRef.current)==null||C.focus();break}}else switch(y.key){case me.Space:case me.Enter:y.preventDefault(),y.stopPropagation(),a({type:0});break}}),h=te(y=>{switch(y.key){case me.Space:y.preventDefault();break}}),m=te(y=>{var C;Kr(y.currentTarget)||e.disabled||(c?(a({type:0}),(C=s.buttonRef.current)==null||C.focus()):a({type:0}))}),b=f.useMemo(()=>({open:s.disclosureState===0}),[s]),v=qs(e,u),w=c?{ref:d,type:v,onKeyDown:g,onClick:m}:{ref:d,id:r,type:v,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:g,onKeyUp:h,onClick:m};return Oe({mergeRefs:p,ourProps:w,theirProps:o,slot:b,defaultTag:LT,name:"Disclosure.Button"})}let kT="div",$T=Gt.RenderStrategy|Gt.Static;function IT(e,t){let n=tt(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[s,a]=Bd("Disclosure.Panel"),{close:i}=R1("Disclosure.Panel"),c=xd(),u=$e(t,s.panelRef,m=>{xT(()=>a({type:m?4:5}))});f.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let d=yo(),p=(()=>d!==null?(d&Je.Open)===Je.Open:s.disclosureState===0)(),g=f.useMemo(()=>({open:s.disclosureState===0,close:i}),[s,i]),h={ref:u,id:r};return f.createElement(Ud.Provider,{value:s.panelId},Oe({mergeRefs:c,ourProps:h,theirProps:o,slot:g,defaultTag:kT,features:$T,visible:p,name:"Disclosure.Panel"}))}let VT=_e(MT),jT=_e(NT),HT=_e(IT),Wd=Object.assign(VT,{Button:jT,Panel:HT}),em=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function tm(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let s=!1;for(let i of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),s=!0;let a=s?(n=o.innerText)!=null?n:"":r;return em.test(a)&&(a=a.replace(em,"")),a}function DT(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let s=document.getElementById(o);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():tm(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return tm(e).trim()}function FT(e){let t=f.useRef(""),n=f.useRef("");return te(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let s=DT(r).trim().toLowerCase();return t.current=o,n.current=s,s})}var BT=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(BT||{}),zT=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(zT||{}),UT=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(UT||{}),WT=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(WT||{});function Gd(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Wr(t(e.options.slice()),s=>s.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let GT={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Gd(e),o=Td(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(a=>{var i;return!a.dataRef.current.disabled&&((i=a.dataRef.current.textValue)==null?void 0:i.startsWith(r))}),s=o?e.options.indexOf(o):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Gd(e,o=>[...o,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=Gd(e,r=>{let o=r.findIndex(s=>s.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Kd=f.createContext(null);Kd.displayName="ListboxActionsContext";function Xa(e){let t=f.useContext(Kd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xa),n}return t}let qd=f.createContext(null);qd.displayName="ListboxDataContext";function Ja(e){let t=f.useContext(qd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ja),n}return t}function KT(e,t){return Se(t.type,GT,e,t)}let qT=f.Fragment;function YT(e,t){let{value:n,defaultValue:r,form:o,name:s,onChange:a,by:i=(Z,R)=>Z===R,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...p}=e;const g=u?"horizontal":"vertical";let h=$e(t),[m=d?[]:void 0,b]=_l(n,a,r),[v,w]=f.useReducer(KT,{dataRef:f.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),y=f.useRef({static:!1,hold:!1}),C=f.useRef(null),S=f.useRef(null),x=f.useRef(null),E=te(typeof i=="string"?(Z,R)=>{let ne=i;return(Z==null?void 0:Z[ne])===(R==null?void 0:R[ne])}:i),T=f.useCallback(Z=>Se(_.mode,{1:()=>m.some(R=>E(R,Z)),0:()=>E(m,Z)}),[m]),_=f.useMemo(()=>({...v,value:m,disabled:c,mode:d?1:0,orientation:g,compare:E,isSelected:T,optionsPropsRef:y,labelRef:C,buttonRef:S,optionsRef:x}),[m,c,d,v]);Ve(()=>{v.dataRef.current=_},[_]),Nl([_.buttonRef,_.optionsRef],(Z,R)=>{var ne;w({type:1}),Sd(R,Ml.Loose)||(Z.preventDefault(),(ne=_.buttonRef.current)==null||ne.focus())},_.listboxState===0);let O=f.useMemo(()=>({open:_.listboxState===0,disabled:c,value:m}),[_,c,m]),P=te(Z=>{let R=_.options.find(ne=>ne.id===Z);R&&W(R.dataRef.current.value)}),M=te(()=>{if(_.activeOptionIndex!==null){let{dataRef:Z,id:R}=_.options[_.activeOptionIndex];W(Z.current.value),w({type:2,focus:Ye.Specific,id:R})}}),A=te(()=>w({type:0})),k=te(()=>w({type:1})),H=te((Z,R,ne)=>Z===Ye.Specific?w({type:2,focus:Ye.Specific,id:R,trigger:ne}):w({type:2,focus:Z,trigger:ne})),L=te((Z,R)=>(w({type:5,id:Z,dataRef:R}),()=>w({type:6,id:Z}))),F=te(Z=>(w({type:7,id:Z}),()=>w({type:7,id:null}))),W=te(Z=>Se(_.mode,{0(){return b==null?void 0:b(Z)},1(){let R=_.value.slice(),ne=R.findIndex(ee=>E(ee,Z));return ne===-1?R.push(Z):R.splice(ne,1),b==null?void 0:b(R)}})),z=te(Z=>w({type:3,value:Z})),$=te(()=>w({type:4})),D=f.useMemo(()=>({onChange:W,registerOption:L,registerLabel:F,goToOption:H,closeListbox:k,openListbox:A,selectActiveOption:M,selectOption:P,search:z,clearSearch:$}),[]),V={ref:h},U=f.useRef(null),Q=jn();return f.useEffect(()=>{U.current&&r!==void 0&&Q.addEventListener(U.current,"reset",()=>{b==null||b(r)})},[U,b]),f.createElement(Kd.Provider,{value:D},f.createElement(qd.Provider,{value:_},f.createElement(Wa,{value:Se(_.listboxState,{0:Je.Open,1:Je.Closed})},s!=null&&m!=null&&Il({[s]:m}).map(([Z,R],ne)=>f.createElement(Cn,{features:Sn.Hidden,ref:ne===0?ee=>{var q;U.current=(q=ee==null?void 0:ee.closest("form"))!=null?q:null}:void 0,...Ys({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:Z,value:R})})),Oe({ourProps:V,theirProps:p,slot:O,defaultTag:qT,name:"Listbox"}))))}let ZT="button";function XT(e,t){var n;let r=tt(),{id:o=`headlessui-listbox-button-${r}`,...s}=e,a=Ja("Listbox.Button"),i=Xa("Listbox.Button"),c=$e(a.buttonRef,t),u=jn(),d=te(v=>{switch(v.key){case me.Space:case me.Enter:case me.ArrowDown:v.preventDefault(),i.openListbox(),u.nextFrame(()=>{a.value||i.goToOption(Ye.First)});break;case me.ArrowUp:v.preventDefault(),i.openListbox(),u.nextFrame(()=>{a.value||i.goToOption(Ye.Last)});break}}),p=te(v=>{switch(v.key){case me.Space:v.preventDefault();break}}),g=te(v=>{if(Kr(v.currentTarget))return v.preventDefault();a.listboxState===0?(i.closeListbox(),u.nextFrame(()=>{var w;return(w=a.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})})):(v.preventDefault(),i.openListbox())}),h=Ba(()=>{if(a.labelId)return[a.labelId,o].join(" ")},[a.labelId,o]),m=f.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled,value:a.value}),[a]),b={ref:c,id:o,type:qs(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.listboxState===0,"aria-labelledby":h,disabled:a.disabled,onKeyDown:d,onKeyUp:p,onClick:g};return Oe({ourProps:b,theirProps:s,slot:m,defaultTag:ZT,name:"Listbox.Button"})}let JT="label";function QT(e,t){let n=tt(),{id:r=`headlessui-listbox-label-${n}`,...o}=e,s=Ja("Listbox.Label"),a=Xa("Listbox.Label"),i=$e(s.labelRef,t);Ve(()=>a.registerLabel(r),[r]);let c=te(()=>{var d;return(d=s.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return Oe({ourProps:{ref:i,id:r,onClick:c},theirProps:o,slot:u,defaultTag:JT,name:"Listbox.Label"})}let RT="ul",eO=Gt.RenderStrategy|Gt.Static;function tO(e,t){var n;let r=tt(),{id:o=`headlessui-listbox-options-${r}`,...s}=e,a=Ja("Listbox.Options"),i=Xa("Listbox.Options"),c=$e(a.optionsRef,t),u=jn(),d=jn(),p=yo(),g=(()=>p!==null?(p&Je.Open)===Je.Open:a.listboxState===0)();f.useEffect(()=>{var w;let y=a.optionsRef.current;y&&a.listboxState===0&&y!==((w=bo(y))==null?void 0:w.activeElement)&&y.focus({preventScroll:!0})},[a.listboxState,a.optionsRef]);let h=te(w=>{switch(d.dispose(),w.key){case me.Space:if(a.searchQuery!=="")return w.preventDefault(),w.stopPropagation(),i.search(w.key);case me.Enter:if(w.preventDefault(),w.stopPropagation(),a.activeOptionIndex!==null){let{dataRef:y}=a.options[a.activeOptionIndex];i.onChange(y.current.value)}a.mode===0&&(i.closeListbox(),Vn().nextFrame(()=>{var y;return(y=a.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}));break;case Se(a.orientation,{vertical:me.ArrowDown,horizontal:me.ArrowRight}):return w.preventDefault(),w.stopPropagation(),i.goToOption(Ye.Next);case Se(a.orientation,{vertical:me.ArrowUp,horizontal:me.ArrowLeft}):return w.preventDefault(),w.stopPropagation(),i.goToOption(Ye.Previous);case me.Home:case me.PageUp:return w.preventDefault(),w.stopPropagation(),i.goToOption(Ye.First);case me.End:case me.PageDown:return w.preventDefault(),w.stopPropagation(),i.goToOption(Ye.Last);case me.Escape:return w.preventDefault(),w.stopPropagation(),i.closeListbox(),u.nextFrame(()=>{var y;return(y=a.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});case me.Tab:w.preventDefault(),w.stopPropagation();break;default:w.key.length===1&&(i.search(w.key),d.setTimeout(()=>i.clearSearch(),350));break}}),m=Ba(()=>{var w;return(w=a.buttonRef.current)==null?void 0:w.id},[a.buttonRef.current]),b=f.useMemo(()=>({open:a.listboxState===0}),[a]),v={"aria-activedescendant":a.activeOptionIndex===null||(n=a.options[a.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":a.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":a.orientation,id:o,onKeyDown:h,role:"listbox",tabIndex:0,ref:c};return Oe({ourProps:v,theirProps:s,slot:b,defaultTag:RT,features:eO,visible:g,name:"Listbox.Options"})}let nO="li";function rO(e,t){let n=tt(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:s,...a}=e,i=Ja("Listbox.Option"),c=Xa("Listbox.Option"),u=i.activeOptionIndex!==null?i.options[i.activeOptionIndex].id===r:!1,d=i.isSelected(s),p=f.useRef(null),g=FT(p),h=Lt({disabled:o,value:s,domRef:p,get textValue(){return g()}}),m=$e(t,p);Ve(()=>{if(i.listboxState!==0||!u||i.activationTrigger===0)return;let E=Vn();return E.requestAnimationFrame(()=>{var T,_;(_=(T=p.current)==null?void 0:T.scrollIntoView)==null||_.call(T,{block:"nearest"})}),E.dispose},[p,u,i.listboxState,i.activationTrigger,i.activeOptionIndex]),Ve(()=>c.registerOption(r,h),[h,r]);let b=te(E=>{if(o)return E.preventDefault();c.onChange(s),i.mode===0&&(c.closeListbox(),Vn().nextFrame(()=>{var T;return(T=i.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})}))}),v=te(()=>{if(o)return c.goToOption(Ye.Nothing);c.goToOption(Ye.Specific,r)}),w=$1(),y=te(E=>w.update(E)),C=te(E=>{w.wasMoved(E)&&(o||u||c.goToOption(Ye.Specific,r,0))}),S=te(E=>{w.wasMoved(E)&&(o||u&&c.goToOption(Ye.Nothing))}),x=f.useMemo(()=>({active:u,selected:d,disabled:o}),[u,d,o]);return Oe({ourProps:{id:r,ref:m,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:v,onPointerEnter:y,onMouseEnter:y,onPointerMove:C,onMouseMove:C,onPointerLeave:S,onMouseLeave:S},theirProps:a,slot:x,defaultTag:nO,name:"Listbox.Option"})}let oO=_e(YT),sO=_e(XT),aO=_e(QT),iO=_e(tO),lO=_e(rO),Qa=Object.assign(oO,{Button:sO,Label:aO,Options:iO,Option:lO});var cO=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cO||{}),uO=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(uO||{});let dO={0:e=>{let t={...e,popoverState:Se(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Yd=f.createContext(null);Yd.displayName="PopoverContext";function Hl(e){let t=f.useContext(Yd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hl),n}return t}let Zd=f.createContext(null);Zd.displayName="PopoverAPIContext";function Xd(e){let t=f.useContext(Zd);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xd),n}return t}let Jd=f.createContext(null);Jd.displayName="PopoverGroupContext";function nm(){return f.useContext(Jd)}let Dl=f.createContext(null);Dl.displayName="PopoverPanelContext";function pO(){return f.useContext(Dl)}function fO(e,t){return Se(t.type,dO,e,t)}let gO="div";function hO(e,t){var n;let{__demoMode:r=!1,...o}=e,s=f.useRef(null),a=$e(t,Cd(F=>{s.current=F})),i=f.useRef([]),c=f.useReducer(fO,{__demoMode:r,popoverState:r?0:1,buttons:i,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:f.createRef(),afterPanelSentinel:f.createRef()}),[{popoverState:u,button:d,buttonId:p,panel:g,panelId:h,beforePanelSentinel:m,afterPanelSentinel:b},v]=c,w=Gr((n=s.current)!=null?n:d),y=f.useMemo(()=>{if(!d||!g)return!1;for(let U of document.querySelectorAll("body > *"))if(Number(U==null?void 0:U.contains(d))^Number(U==null?void 0:U.contains(g)))return!0;let F=Al(),W=F.indexOf(d),z=(W+F.length-1)%F.length,$=(W+1)%F.length,D=F[z],V=F[$];return!g.contains(D)&&!g.contains(V)},[d,g]),C=Lt(p),S=Lt(h),x=f.useMemo(()=>({buttonId:C,panelId:S,close:()=>v({type:1})}),[C,S,v]),E=nm(),T=E==null?void 0:E.registerPopover,_=te(()=>{var F;return(F=E==null?void 0:E.isFocusWithinPopoverGroup())!=null?F:(w==null?void 0:w.activeElement)&&((d==null?void 0:d.contains(w.activeElement))||(g==null?void 0:g.contains(w.activeElement)))});f.useEffect(()=>T==null?void 0:T(x),[T,x]);let[O,P]=q1(),M=Z1({mainTreeNodeRef:E==null?void 0:E.mainTreeNodeRef,portals:O,defaultContainers:[d,g]});Md(w==null?void 0:w.defaultView,"focus",F=>{var W,z,$,D;F.target!==window&&F.target instanceof HTMLElement&&u===0&&(_()||d&&g&&(M.contains(F.target)||(z=(W=m.current)==null?void 0:W.contains)!=null&&z.call(W,F.target)||(D=($=b.current)==null?void 0:$.contains)!=null&&D.call($,F.target)||v({type:1})))},!0),Nl(M.resolveContainers,(F,W)=>{v({type:1}),Sd(W,Ml.Loose)||(F.preventDefault(),d==null||d.focus())},u===0);let A=te(F=>{v({type:1});let W=(()=>F?F instanceof HTMLElement?F:"current"in F&&F.current instanceof HTMLElement?F.current:d:d)();W==null||W.focus()}),k=f.useMemo(()=>({close:A,isPortalled:y}),[A,y]),H=f.useMemo(()=>({open:u===0,close:A}),[u,A]),L={ref:a};return f.createElement(Dl.Provider,{value:null},f.createElement(Yd.Provider,{value:c},f.createElement(Zd.Provider,{value:k},f.createElement(Wa,{value:Se(u,{0:Je.Open,1:Je.Closed})},f.createElement(P,null,Oe({ourProps:L,theirProps:o,slot:H,defaultTag:gO,name:"Popover"}),f.createElement(M.MainTreeNode,null))))))}let mO="button";function bO(e,t){let n=tt(),{id:r=`headlessui-popover-button-${n}`,...o}=e,[s,a]=Hl("Popover.Button"),{isPortalled:i}=Xd("Popover.Button"),c=f.useRef(null),u=`headlessui-focus-sentinel-${tt()}`,d=nm(),p=d==null?void 0:d.closeOthers,g=pO()!==null;f.useEffect(()=>{if(!g)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}},[g,r,a]);let[h]=f.useState(()=>Symbol()),m=$e(c,t,g?null:M=>{if(M)s.buttons.current.push(h);else{let A=s.buttons.current.indexOf(h);A!==-1&&s.buttons.current.splice(A,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),M&&a({type:2,button:M})}),b=$e(c,t),v=Gr(c),w=te(M=>{var A,k,H;if(g){if(s.popoverState===1)return;switch(M.key){case me.Space:case me.Enter:M.preventDefault(),(k=(A=M.target).click)==null||k.call(A),a({type:1}),(H=s.button)==null||H.focus();break}}else switch(M.key){case me.Space:case me.Enter:M.preventDefault(),M.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),a({type:0});break;case me.Escape:if(s.popoverState!==0)return p==null?void 0:p(s.buttonId);if(!c.current||v!=null&&v.activeElement&&!c.current.contains(v.activeElement))return;M.preventDefault(),M.stopPropagation(),a({type:1});break}}),y=te(M=>{g||M.key===me.Space&&M.preventDefault()}),C=te(M=>{var A,k;Kr(M.currentTarget)||e.disabled||(g?(a({type:1}),(A=s.button)==null||A.focus()):(M.preventDefault(),M.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),a({type:0}),(k=s.button)==null||k.focus()))}),S=te(M=>{M.preventDefault(),M.stopPropagation()}),x=s.popoverState===0,E=f.useMemo(()=>({open:x}),[x]),T=qs(e,c),_=g?{ref:b,type:T,onKeyDown:w,onClick:C}:{ref:m,id:s.buttonId,type:T,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,onKeyDown:w,onKeyUp:y,onClick:C,onMouseDown:S},O=Ld(),P=te(()=>{let M=s.panel;if(!M)return;function A(){Se(O.current,{[xn.Forwards]:()=>Nt(M,nt.First),[xn.Backwards]:()=>Nt(M,nt.Last)})===rr.Error&&Nt(Al().filter(k=>k.dataset.headlessuiFocusGuard!=="true"),Se(O.current,{[xn.Forwards]:nt.Next,[xn.Backwards]:nt.Previous}),{relativeTo:s.button})}A()});return f.createElement(f.Fragment,null,Oe({ourProps:_,theirProps:o,slot:E,defaultTag:mO,name:"Popover.Button"}),x&&!g&&i&&f.createElement(Cn,{id:u,features:Sn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}))}let vO="div",yO=Gt.RenderStrategy|Gt.Static;function wO(e,t){let n=tt(),{id:r=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:s},a]=Hl("Popover.Overlay"),i=$e(t),c=yo(),u=(()=>c!==null?(c&Je.Open)===Je.Open:s===0)(),d=te(g=>{if(Kr(g.currentTarget))return g.preventDefault();a({type:1})}),p=f.useMemo(()=>({open:s===0}),[s]);return Oe({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:d},theirProps:o,slot:p,defaultTag:vO,features:yO,visible:u,name:"Popover.Overlay"})}let SO="div",CO=Gt.RenderStrategy|Gt.Static;function xO(e,t){let n=tt(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,...s}=e,[a,i]=Hl("Popover.Panel"),{close:c,isPortalled:u}=Xd("Popover.Panel"),d=`headlessui-focus-sentinel-before-${tt()}`,p=`headlessui-focus-sentinel-after-${tt()}`,g=f.useRef(null),h=$e(g,t,_=>{i({type:4,panel:_})}),m=Gr(g),b=xd();Ve(()=>(i({type:5,panelId:r}),()=>{i({type:5,panelId:null})}),[r,i]);let v=yo(),w=(()=>v!==null?(v&Je.Open)===Je.Open:a.popoverState===0)(),y=te(_=>{var O;switch(_.key){case me.Escape:if(a.popoverState!==0||!g.current||m!=null&&m.activeElement&&!g.current.contains(m.activeElement))return;_.preventDefault(),_.stopPropagation(),i({type:1}),(O=a.button)==null||O.focus();break}});f.useEffect(()=>{var _;e.static||a.popoverState===1&&((_=e.unmount)==null||_)&&i({type:4,panel:null})},[a.popoverState,e.unmount,e.static,i]),f.useEffect(()=>{if(a.__demoMode||!o||a.popoverState!==0||!g.current)return;let _=m==null?void 0:m.activeElement;g.current.contains(_)||Nt(g.current,nt.First)},[a.__demoMode,o,g,a.popoverState]);let C=f.useMemo(()=>({open:a.popoverState===0,close:c}),[a,c]),S={ref:h,id:r,onKeyDown:y,onBlur:o&&a.popoverState===0?_=>{var O,P,M,A,k;let H=_.relatedTarget;H&&g.current&&((O=g.current)!=null&&O.contains(H)||(i({type:1}),((M=(P=a.beforePanelSentinel.current)==null?void 0:P.contains)!=null&&M.call(P,H)||(k=(A=a.afterPanelSentinel.current)==null?void 0:A.contains)!=null&&k.call(A,H))&&H.focus({preventScroll:!0})))}:void 0,tabIndex:-1},x=Ld(),E=te(()=>{let _=g.current;if(!_)return;function O(){Se(x.current,{[xn.Forwards]:()=>{var P;Nt(_,nt.First)===rr.Error&&((P=a.afterPanelSentinel.current)==null||P.focus())},[xn.Backwards]:()=>{var P;(P=a.button)==null||P.focus({preventScroll:!0})}})}O()}),T=te(()=>{let _=g.current;if(!_)return;function O(){Se(x.current,{[xn.Forwards]:()=>{var P;if(!a.button)return;let M=Al(),A=M.indexOf(a.button),k=M.slice(0,A+1),H=[...M.slice(A+1),...k];for(let L of H.slice())if(L.dataset.headlessuiFocusGuard==="true"||(P=a.panel)!=null&&P.contains(L)){let F=H.indexOf(L);F!==-1&&H.splice(F,1)}Nt(H,nt.First,{sorted:!1})},[xn.Backwards]:()=>{var P;Nt(_,nt.Previous)===rr.Error&&((P=a.button)==null||P.focus())}})}O()});return f.createElement(Dl.Provider,{value:r},w&&u&&f.createElement(Cn,{id:d,ref:a.beforePanelSentinel,features:Sn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}),Oe({mergeRefs:b,ourProps:S,theirProps:s,slot:C,defaultTag:SO,features:CO,visible:w,name:"Popover.Panel"}),w&&u&&f.createElement(Cn,{id:p,ref:a.afterPanelSentinel,features:Sn.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T}))}let EO="div";function PO(e,t){let n=f.useRef(null),r=$e(n,t),[o,s]=f.useState([]),a=X5(),i=te(b=>{s(v=>{let w=v.indexOf(b);if(w!==-1){let y=v.slice();return y.splice(w,1),y}return v})}),c=te(b=>(s(v=>[...v,b]),()=>i(b))),u=te(()=>{var b;let v=bo(n);if(!v)return!1;let w=v.activeElement;return(b=n.current)!=null&&b.contains(w)?!0:o.some(y=>{var C,S;return((C=v.getElementById(y.buttonId.current))==null?void 0:C.contains(w))||((S=v.getElementById(y.panelId.current))==null?void 0:S.contains(w))})}),d=te(b=>{for(let v of o)v.buttonId.current!==b&&v.close()}),p=f.useMemo(()=>({registerPopover:c,unregisterPopover:i,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:a.mainTreeNodeRef}),[c,i,u,d,a.mainTreeNodeRef]),g=f.useMemo(()=>({}),[]),h=e,m={ref:r};return f.createElement(Jd.Provider,{value:p},Oe({ourProps:m,theirProps:h,slot:g,defaultTag:EO,name:"Popover.Group"}),f.createElement(a.MainTreeNode,null))}let TO=_e(hO),OO=_e(bO),_O=_e(wO),AO=_e(xO),MO=_e(PO),Qd=Object.assign(TO,{Button:OO,Overlay:_O,Panel:AO,Group:MO}),rm=f.createContext(null);function om(){let e=f.useContext(rm);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,om),t}return e}function Rd(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let r=te(s=>(t(a=>[...a,s]),()=>t(a=>{let i=a.slice(),c=i.indexOf(s);return c!==-1&&i.splice(c,1),i}))),o=f.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return f.createElement(rm.Provider,{value:o},n.children)},[t])]}let LO="label";function NO(e,t){let n=tt(),{id:r=`headlessui-label-${n}`,passive:o=!1,...s}=e,a=om(),i=$e(t);Ve(()=>a.register(r),[r,a.register]);let c={ref:i,...a.props,id:r};return o&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in s&&delete s.onClick),Oe({ourProps:c,theirProps:s,slot:a.slot||{},defaultTag:LO,name:a.name||"Label"})}let kO=_e(NO),sm=Object.assign(kO,{});function am(e=0){let[t,n]=f.useState(e),r=Xs(),o=f.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),s=f.useCallback(c=>!!(t&c),[t]),a=f.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),i=f.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:o,hasFlag:s,removeFlag:a,toggleFlag:i}}var $O=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))($O||{});let IO={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Wr(n,r=>r.element.current)}},1(e,t){let n=e.options.slice(),r=e.options.findIndex(o=>o.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},ep=f.createContext(null);ep.displayName="RadioGroupDataContext";function im(e){let t=f.useContext(ep);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,im),n}return t}let tp=f.createContext(null);tp.displayName="RadioGroupActionsContext";function lm(e){let t=f.useContext(tp);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lm),n}return t}function VO(e,t){return Se(t.type,IO,e,t)}let jO="div";function HO(e,t){let n=tt(),{id:r=`headlessui-radiogroup-${n}`,value:o,defaultValue:s,form:a,name:i,onChange:c,by:u=($,D)=>$===D,disabled:d=!1,...p}=e,g=te(typeof u=="string"?($,D)=>{let V=u;return($==null?void 0:$[V])===(D==null?void 0:D[V])}:u),[h,m]=f.useReducer(VO,{options:[]}),b=h.options,[v,w]=Rd(),[y,C]=Vl(),S=f.useRef(null),x=$e(S,t),[E,T]=_l(o,c,s),_=f.useMemo(()=>b.find($=>!$.propsRef.current.disabled),[b]),O=f.useMemo(()=>b.some($=>g($.propsRef.current.value,E)),[b,E]),P=te($=>{var D;if(d||g($,E))return!1;let V=(D=b.find(U=>g(U.propsRef.current.value,$)))==null?void 0:D.propsRef.current;return V!=null&&V.disabled?!1:(T==null||T($),!0)});I1({container:S.current,accept($){return $.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let M=te($=>{let D=S.current;if(!D)return;let V=bo(D),U=b.filter(Q=>Q.propsRef.current.disabled===!1).map(Q=>Q.element.current);switch($.key){case me.Enter:D1($.currentTarget);break;case me.ArrowLeft:case me.ArrowUp:if($.preventDefault(),$.stopPropagation(),Nt(U,nt.Previous|nt.WrapAround)===rr.Success){let Q=b.find(Z=>Z.element.current===(V==null?void 0:V.activeElement));Q&&P(Q.propsRef.current.value)}break;case me.ArrowRight:case me.ArrowDown:if($.preventDefault(),$.stopPropagation(),Nt(U,nt.Next|nt.WrapAround)===rr.Success){let Q=b.find(Z=>Z.element.current===(V==null?void 0:V.activeElement));Q&&P(Q.propsRef.current.value)}break;case me.Space:{$.preventDefault(),$.stopPropagation();let Q=b.find(Z=>Z.element.current===(V==null?void 0:V.activeElement));Q&&P(Q.propsRef.current.value)}break}}),A=te($=>(m({type:0,...$}),()=>m({type:1,id:$.id}))),k=f.useMemo(()=>({value:E,firstOption:_,containsCheckedOption:O,disabled:d,compare:g,...h}),[E,_,O,d,g,h]),H=f.useMemo(()=>({registerOption:A,change:P}),[A,P]),L={ref:x,id:r,role:"radiogroup","aria-labelledby":v,"aria-describedby":y,onKeyDown:M},F=f.useMemo(()=>({value:E}),[E]),W=f.useRef(null),z=jn();return f.useEffect(()=>{W.current&&s!==void 0&&z.addEventListener(W.current,"reset",()=>{P(s)})},[W,P]),f.createElement(C,{name:"RadioGroup.Description"},f.createElement(w,{name:"RadioGroup.Label"},f.createElement(tp.Provider,{value:H},f.createElement(ep.Provider,{value:k},i!=null&&E!=null&&Il({[i]:E}).map(([$,D],V)=>f.createElement(Cn,{features:Sn.Hidden,ref:V===0?U=>{var Q;W.current=(Q=U==null?void 0:U.closest("form"))!=null?Q:null}:void 0,...Ys({key:$,as:"input",type:"radio",checked:D!=null,hidden:!0,readOnly:!0,form:a,disabled:d,name:$,value:D})})),Oe({ourProps:L,theirProps:p,slot:F,defaultTag:jO,name:"RadioGroup"})))))}var DO=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(DO||{});let FO="div";function BO(e,t){var n;let r=tt(),{id:o=`headlessui-radiogroup-option-${r}`,value:s,disabled:a=!1,...i}=e,c=f.useRef(null),u=$e(c,t),[d,p]=Rd(),[g,h]=Vl(),{addFlag:m,removeFlag:b,hasFlag:v}=am(1),w=Lt({value:s,disabled:a}),y=im("RadioGroup.Option"),C=lm("RadioGroup.Option");Ve(()=>C.registerOption({id:o,element:c,propsRef:w}),[o,C,c,w]);let S=te(A=>{var k;if(Kr(A.currentTarget))return A.preventDefault();C.change(s)&&(m(2),(k=c.current)==null||k.focus())}),x=te(A=>{if(Kr(A.currentTarget))return A.preventDefault();m(2)}),E=te(()=>b(2)),T=((n=y.firstOption)==null?void 0:n.id)===o,_=y.disabled||a,O=y.compare(y.value,s),P={ref:u,id:o,role:"radio","aria-checked":O?"true":"false","aria-labelledby":d,"aria-describedby":g,"aria-disabled":_?!0:void 0,tabIndex:(()=>_?-1:O||!y.containsCheckedOption&&T?0:-1)(),onClick:_?void 0:S,onFocus:_?void 0:x,onBlur:_?void 0:E},M=f.useMemo(()=>({checked:O,disabled:_,active:v(2)}),[O,_,v]);return f.createElement(h,{name:"RadioGroup.Description"},f.createElement(p,{name:"RadioGroup.Label"},Oe({ourProps:P,theirProps:i,slot:M,defaultTag:FO,name:"RadioGroup.Option"})))}let zO=_e(HO),UO=_e(BO),cm=Object.assign(zO,{Option:UO,Label:sm,Description:Dd}),np=f.createContext(null);np.displayName="GroupContext";let WO=f.Fragment;function GO(e){var t;let[n,r]=f.useState(null),[o,s]=Rd(),[a,i]=Vl(),c=f.useMemo(()=>({switch:n,setSwitch:r,labelledby:o,describedby:a}),[n,r,o,a]),u={},d=e;return f.createElement(i,{name:"Switch.Description"},f.createElement(s,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(p){n&&(p.currentTarget.tagName==="LABEL"&&p.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},f.createElement(np.Provider,{value:c},Oe({ourProps:u,theirProps:d,defaultTag:WO,name:"Switch.Group"}))))}let KO="button";function qO(e,t){var n;let r=tt(),{id:o=`headlessui-switch-${r}`,checked:s,defaultChecked:a=!1,onChange:i,disabled:c=!1,name:u,value:d,form:p,...g}=e,h=f.useContext(np),m=f.useRef(null),b=$e(m,t,h===null?null:h.setSwitch),[v,w]=_l(s,i,a),y=te(()=>w==null?void 0:w(!v)),C=te(O=>{if(Kr(O.currentTarget))return O.preventDefault();O.preventDefault(),y()}),S=te(O=>{O.key===me.Space?(O.preventDefault(),y()):O.key===me.Enter&&D1(O.currentTarget)}),x=te(O=>O.preventDefault()),E=f.useMemo(()=>({checked:v}),[v]),T={id:o,ref:b,role:"switch",type:qs(e,m),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":v,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,disabled:c,onClick:C,onKeyUp:S,onKeyPress:x},_=jn();return f.useEffect(()=>{var O;let P=(O=m.current)==null?void 0:O.closest("form");P&&a!==void 0&&_.addEventListener(P,"reset",()=>{w(a)})},[m,w]),f.createElement(f.Fragment,null,u!=null&&v&&f.createElement(Cn,{features:Sn.Hidden,...Ys({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:p,checked:v,name:u,value:d})}),Oe({ourProps:T,theirProps:g,slot:E,defaultTag:KO,name:"Switch"}))}let YO=_e(qO),ZO=GO,rp=Object.assign(YO,{Group:ZO,Label:sm,Description:Dd});function XO({onFocus:e}){let[t,n]=f.useState(!0),r=Xs();return t?f.createElement(Cn,{as:"button",type:"button",features:Sn.Focusable,onFocus:o=>{o.preventDefault();let s,a=50;function i(){if(a--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(i)}s=requestAnimationFrame(i)}}):null}const um=Ge.createContext(null);function JO(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let s=Array.from(r.keys()).indexOf(t);function a(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[s,a]}}}function QO({children:e}){let t=Ge.useRef(JO());return Ge.createElement(um.Provider,{value:t},e)}function dm(e){let t=Ge.useContext(um);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=RO(),[r,o]=t.current.get(e,n);return Ge.useEffect(()=>o,[]),r}function RO(){var e,t,n;let r=(n=(t=(e=Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let o=[],s=r;for(;s;)o.push(s.index),s=s.return;return"$."+o.join(".")}var e_=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(e_||{}),t_=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(t_||{}),n_=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(n_||{});let r_={0(e,t){var n;let r=Wr(e.tabs,d=>d.current),o=Wr(e.panels,d=>d.current),s=r.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let d=Se(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Se(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return a;let p=Se(d,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...a,selectedIndex:p===-1?e.selectedIndex:p}}let i=r.slice(0,t.index),c=[...r.slice(t.index),...i].find(d=>s.includes(d));if(!c)return a;let u=(n=r.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Wr([...e.tabs,t.tab],s=>s.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Wr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},op=f.createContext(null);op.displayName="TabsDataContext";function Js(e){let t=f.useContext(op);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Js),n}return t}let sp=f.createContext(null);sp.displayName="TabsActionsContext";function ap(e){let t=f.useContext(sp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ap),n}return t}function o_(e,t){return Se(t.type,r_,e,t)}let s_=f.Fragment;function a_(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:s,selectedIndex:a=null,...i}=e;const c=r?"vertical":"horizontal",u=o?"manual":"auto";let d=a!==null,p=Lt({isControlled:d}),g=$e(t),[h,m]=f.useReducer(o_,{info:p,selectedIndex:a??n,tabs:[],panels:[]}),b=f.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=Lt(s||(()=>{})),w=Lt(h.tabs),y=f.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),C=te(O=>(m({type:1,tab:O}),()=>m({type:2,tab:O}))),S=te(O=>(m({type:3,panel:O}),()=>m({type:4,panel:O}))),x=te(O=>{E.current!==O&&v.current(O),d||m({type:0,index:O})}),E=Lt(d?e.selectedIndex:h.selectedIndex),T=f.useMemo(()=>({registerTab:C,registerPanel:S,change:x}),[]);Ve(()=>{m({type:0,index:a??n})},[a]),Ve(()=>{if(E.current===void 0||h.tabs.length<=0)return;let O=Wr(h.tabs,P=>P.current);O.some((P,M)=>h.tabs[M]!==P)&&x(O.indexOf(h.tabs[E.current]))});let _={ref:g};return f.createElement(QO,null,f.createElement(sp.Provider,{value:T},f.createElement(op.Provider,{value:y},y.tabs.length<=0&&f.createElement(XO,{onFocus:()=>{var O,P;for(let M of w.current)if(((O=M.current)==null?void 0:O.tabIndex)===0)return(P=M.current)==null||P.focus(),!0;return!1}}),Oe({ourProps:_,theirProps:i,slot:b,defaultTag:s_,name:"Tabs"}))))}let i_="div";function l_(e,t){let{orientation:n,selectedIndex:r}=Js("Tab.List"),o=$e(t);return Oe({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:i_,name:"Tabs.List"})}let c_="button";function u_(e,t){var n,r;let o=tt(),{id:s=`headlessui-tabs-tab-${o}`,...a}=e,{orientation:i,activation:c,selectedIndex:u,tabs:d,panels:p}=Js("Tab"),g=ap("Tab"),h=Js("Tab"),m=f.useRef(null),b=$e(m,t);Ve(()=>g.registerTab(m),[g,m]);let v=dm("tabs"),w=d.indexOf(m);w===-1&&(w=v);let y=w===u,C=te(P=>{var M;let A=P();if(A===rr.Success&&c==="auto"){let k=(M=bo(m))==null?void 0:M.activeElement,H=h.tabs.findIndex(L=>L.current===k);H!==-1&&g.change(H)}return A}),S=te(P=>{let M=d.map(A=>A.current).filter(Boolean);if(P.key===me.Space||P.key===me.Enter){P.preventDefault(),P.stopPropagation(),g.change(w);return}switch(P.key){case me.Home:case me.PageUp:return P.preventDefault(),P.stopPropagation(),C(()=>Nt(M,nt.First));case me.End:case me.PageDown:return P.preventDefault(),P.stopPropagation(),C(()=>Nt(M,nt.Last))}if(C(()=>Se(i,{vertical(){return P.key===me.ArrowUp?Nt(M,nt.Previous|nt.WrapAround):P.key===me.ArrowDown?Nt(M,nt.Next|nt.WrapAround):rr.Error},horizontal(){return P.key===me.ArrowLeft?Nt(M,nt.Previous|nt.WrapAround):P.key===me.ArrowRight?Nt(M,nt.Next|nt.WrapAround):rr.Error}}))===rr.Success)return P.preventDefault()}),x=f.useRef(!1),E=te(()=>{var P;x.current||(x.current=!0,(P=m.current)==null||P.focus({preventScroll:!0}),g.change(w),za(()=>{x.current=!1}))}),T=te(P=>{P.preventDefault()}),_=f.useMemo(()=>{var P;return{selected:y,disabled:(P=e.disabled)!=null?P:!1}},[y,e.disabled]),O={ref:b,onKeyDown:S,onMouseDown:T,onClick:E,id:s,role:"tab",type:qs(e,m),"aria-controls":(r=(n=p[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":y,tabIndex:y?0:-1};return Oe({ourProps:O,theirProps:a,slot:_,defaultTag:c_,name:"Tabs.Tab"})}let d_="div";function p_(e,t){let{selectedIndex:n}=Js("Tab.Panels"),r=$e(t),o=f.useMemo(()=>({selectedIndex:n}),[n]);return Oe({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:d_,name:"Tabs.Panels"})}let f_="div",g_=Gt.RenderStrategy|Gt.Static;function h_(e,t){var n,r,o,s;let a=tt(),{id:i=`headlessui-tabs-panel-${a}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:p,panels:g}=Js("Tab.Panel"),h=ap("Tab.Panel"),m=f.useRef(null),b=$e(m,t);Ve(()=>h.registerPanel(m),[h,m,i]);let v=dm("panels"),w=g.indexOf(m);w===-1&&(w=v);let y=w===d,C=f.useMemo(()=>({selected:y}),[y]),S={ref:b,id:i,role:"tabpanel","aria-labelledby":(r=(n=p[w])==null?void 0:n.current)==null?void 0:r.id,tabIndex:y?c:-1};return!y&&((o=u.unmount)==null||o)&&!((s=u.static)!=null&&s)?f.createElement(Cn,{as:"span","aria-hidden":"true",...S}):Oe({ourProps:S,theirProps:u,slot:C,defaultTag:f_,features:g_,visible:y,name:"Tabs.Panel"})}let m_=_e(u_),b_=_e(a_),v_=_e(l_),y_=_e(p_),w_=_e(h_),Ra=Object.assign(m_,{Group:b_,List:v_,Panels:y_,Panel:w_});function S_(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function ip(e,...t){e&&t.length>0&&e.classList.add(...t)}function lp(e,...t){e&&t.length>0&&e.classList.remove(...t)}function C_(e,t){let n=Vn();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[s,a]=[r,o].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,p)=>p-d);return u}),i=s+a;if(i!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},i),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function x_(e,t,n,r){let o=n?"enter":"leave",s=Vn(),a=r!==void 0?S_(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let i=Se(o,{enter:()=>t.enter,leave:()=>t.leave}),c=Se(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Se(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return lp(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),ip(e,...t.base,...i,...u),s.nextFrame(()=>{lp(e,...t.base,...i,...u),ip(e,...t.base,...i,...c),C_(e,()=>(lp(e,...t.base,...i),ip(e,...t.base,...t.entered),a()))}),s.dispose}function E_({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:s}){let a=Xs(),i=jn(),c=Lt(n);Ve(()=>{e&&(c.current="enter")},[e]),Ve(()=>{let u=Vn();i.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&a.current)return u.dispose(),o.current(c.current),u.add(x_(d,r.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[n])}function wo(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Fl=f.createContext(null);Fl.displayName="TransitionContext";var P_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(P_||{});function T_(){let e=f.useContext(Fl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function O_(){let e=f.useContext(Bl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Bl=f.createContext(null);Bl.displayName="NestingContext";function zl(e){return"children"in e?zl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function pm(e,t){let n=Lt(e),r=f.useRef([]),o=Xs(),s=jn(),a=te((h,m=vo.Hidden)=>{let b=r.current.findIndex(({el:v})=>v===h);b!==-1&&(Se(m,{[vo.Unmount](){r.current.splice(b,1)},[vo.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var v;!zl(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),i=te(h=>{let m=r.current.find(({el:b})=>b===h);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:h,state:"visible"}),()=>a(h,vo.Unmount)}),c=f.useRef([]),u=f.useRef(Promise.resolve()),d=f.useRef({enter:[],leave:[],idle:[]}),p=te((h,m,b)=>{c.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([v])=>v!==h)),t==null||t.chains.current[m].push([h,new Promise(v=>{c.current.push(v)})]),t==null||t.chains.current[m].push([h,new Promise(v=>{Promise.all(d.current[m].map(([w,y])=>y)).then(()=>v())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(m)):b(m)}),g=te((h,m,b)=>{Promise.all(d.current[m].splice(0).map(([v,w])=>w)).then(()=>{var v;(v=c.current.shift())==null||v()}).then(()=>b(m))});return f.useMemo(()=>({children:r,register:i,unregister:a,onStart:p,onStop:g,wait:u,chains:d}),[i,a,r,p,g,d,u])}function __(){}let A_=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function fm(e){var t;let n={};for(let r of A_)n[r]=(t=e[r])!=null?t:__;return n}function M_(e){let t=f.useRef(fm(e));return f.useEffect(()=>{t.current=fm(e)},[e]),t}let L_="div",gm=Gt.RenderStrategy;function N_(e,t){var n,r;let{beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:i,enter:c,enterFrom:u,enterTo:d,entered:p,leave:g,leaveFrom:h,leaveTo:m,...b}=e,v=f.useRef(null),w=$e(v,t),y=(n=b.unmount)==null||n?vo.Unmount:vo.Hidden,{show:C,appear:S,initial:x}=T_(),[E,T]=f.useState(C?"visible":"hidden"),_=O_(),{register:O,unregister:P}=_;f.useEffect(()=>O(v),[O,v]),f.useEffect(()=>{if(y===vo.Hidden&&v.current){if(C&&E!=="visible"){T("visible");return}return Se(E,{hidden:()=>P(v),visible:()=>O(v)})}},[E,v,O,P,C,y]);let M=Lt({base:wo(b.className),enter:wo(c),enterFrom:wo(u),enterTo:wo(d),entered:wo(p),leave:wo(g),leaveFrom:wo(h),leaveTo:wo(m)}),A=M_({beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:i}),k=Ks();f.useEffect(()=>{if(k&&E==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,E,k]);let H=x&&!S,L=S&&C&&x,F=(()=>!k||H?"idle":C?"enter":"leave")(),W=am(0),z=te(Z=>Se(Z,{enter:()=>{W.addFlag(Je.Opening),A.current.beforeEnter()},leave:()=>{W.addFlag(Je.Closing),A.current.beforeLeave()},idle:()=>{}})),$=te(Z=>Se(Z,{enter:()=>{W.removeFlag(Je.Opening),A.current.afterEnter()},leave:()=>{W.removeFlag(Je.Closing),A.current.afterLeave()},idle:()=>{}})),D=pm(()=>{T("hidden"),P(v)},_),V=f.useRef(!1);E_({immediate:L,container:v,classes:M,direction:F,onStart:Lt(Z=>{V.current=!0,D.onStart(v,Z,z)}),onStop:Lt(Z=>{V.current=!1,D.onStop(v,Z,$),Z==="leave"&&!zl(D)&&(T("hidden"),P(v))})});let U=b,Q={ref:w};return L?U={...U,className:kl(b.className,...M.current.enter,...M.current.enterFrom)}:V.current&&(U.className=kl(b.className,(r=v.current)==null?void 0:r.className),U.className===""&&delete U.className),f.createElement(Bl.Provider,{value:D},f.createElement(Wa,{value:Se(E,{visible:Je.Open,hidden:Je.Closed})|W.flags},Oe({ourProps:Q,theirProps:U,defaultTag:L_,features:gm,visible:E==="visible",name:"Transition.Child"})))}function k_(e,t){let{show:n,appear:r=!1,unmount:o=!0,...s}=e,a=f.useRef(null),i=$e(a,t);Ks();let c=yo();if(n===void 0&&c!==null&&(n=(c&Je.Open)===Je.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=f.useState(n?"visible":"hidden"),p=pm(()=>{d("hidden")}),[g,h]=f.useState(!0),m=f.useRef([n]);Ve(()=>{g!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),h(!1))},[m,n]);let b=f.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);f.useEffect(()=>{if(n)d("visible");else if(!zl(p))d("hidden");else{let C=a.current;if(!C)return;let S=C.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[n,p]);let v={unmount:o},w=te(()=>{var C;g&&h(!1),(C=e.beforeEnter)==null||C.call(e)}),y=te(()=>{var C;g&&h(!1),(C=e.beforeLeave)==null||C.call(e)});return f.createElement(Bl.Provider,{value:p},f.createElement(Fl.Provider,{value:b},Oe({ourProps:{...v,as:f.Fragment,children:f.createElement(hm,{ref:i,...v,...s,beforeEnter:w,beforeLeave:y})},theirProps:{},defaultTag:f.Fragment,features:gm,visible:u==="visible",name:"Transition"})))}function $_(e,t){let n=f.useContext(Fl)!==null,r=yo()!==null;return f.createElement(f.Fragment,null,!n&&r?f.createElement(cp,{ref:t,...e}):f.createElement(hm,{ref:t,...e}))}let cp=_e(k_),hm=_e(N_),I_=_e($_),yr=Object.assign(cp,{Child:I_,Root:cp});var mm=function(t){return t.reduce(function(n,r){var o=r[0],s=r[1];return n[o]=s,n},{})},bm=typeof window<"u"&&window.document&&window.document.createElement?Ge.useLayoutEffect:Ge.useEffect,sn="top",Hn="bottom",Dn="right",an="left",up="auto",ei=[sn,Hn,Dn,an],Qs="start",ti="end",V_="clippingParents",vm="viewport",ni="popper",j_="reference",ym=ei.reduce(function(e,t){return e.concat([t+"-"+Qs,t+"-"+ti])},[]),wm=[].concat(ei,[up]).reduce(function(e,t){return e.concat([t,t+"-"+Qs,t+"-"+ti])},[]),H_="beforeRead",D_="read",F_="afterRead",B_="beforeMain",z_="main",U_="afterMain",W_="beforeWrite",G_="write",K_="afterWrite",q_=[H_,D_,F_,B_,z_,U_,W_,G_,K_];function wr(e){return e?(e.nodeName||"").toLowerCase():null}function En(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function os(e){var t=En(e).Element;return e instanceof t||e instanceof Element}function Fn(e){var t=En(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dp(e){if(typeof ShadowRoot>"u")return!1;var t=En(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Y_(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},s=t.elements[n];!Fn(s)||!wr(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(a){var i=o[a];i===!1?s.removeAttribute(a):s.setAttribute(a,i===!0?"":i)}))})}function Z_(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),i=a.reduce(function(c,u){return c[u]="",c},{});!Fn(o)||!wr(o)||(Object.assign(o.style,i),Object.keys(s).forEach(function(c){o.removeAttribute(c)}))})}}const X_={name:"applyStyles",enabled:!0,phase:"write",fn:Y_,effect:Z_,requires:["computeStyles"]};function Sr(e){return e.split("-")[0]}var ss=Math.max,Ul=Math.min,Rs=Math.round;function pp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Sm(){return!/^((?!chrome|android).)*safari/i.test(pp())}function ea(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,s=1;t&&Fn(e)&&(o=e.offsetWidth>0&&Rs(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Rs(r.height)/e.offsetHeight||1);var a=os(e)?En(e):window,i=a.visualViewport,c=!Sm()&&n,u=(r.left+(c&&i?i.offsetLeft:0))/o,d=(r.top+(c&&i?i.offsetTop:0))/s,p=r.width/o,g=r.height/s;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u,x:u,y:d}}function fp(e){var t=ea(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Cm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qr(e){return En(e).getComputedStyle(e)}function J_(e){return["table","td","th"].indexOf(wr(e))>=0}function So(e){return((os(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wl(e){return wr(e)==="html"?e:e.assignedSlot||e.parentNode||(dp(e)?e.host:null)||So(e)}function xm(e){return!Fn(e)||qr(e).position==="fixed"?null:e.offsetParent}function Q_(e){var t=/firefox/i.test(pp()),n=/Trident/i.test(pp());if(n&&Fn(e)){var r=qr(e);if(r.position==="fixed")return null}var o=Wl(e);for(dp(o)&&(o=o.host);Fn(o)&&["html","body"].indexOf(wr(o))<0;){var s=qr(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function ri(e){for(var t=En(e),n=xm(e);n&&J_(n)&&qr(n).position==="static";)n=xm(n);return n&&(wr(n)==="html"||wr(n)==="body"&&qr(n).position==="static")?t:n||Q_(e)||t}function gp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function oi(e,t,n){return ss(e,Ul(t,n))}function R_(e,t,n){var r=oi(e,t,n);return r>n?n:r}function Em(){return{top:0,right:0,bottom:0,left:0}}function Pm(e){return Object.assign({},Em(),e)}function Tm(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var e3=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Pm(typeof t!="number"?t:Tm(t,ei))};function t3(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,i=Sr(n.placement),c=gp(i),u=[an,Dn].indexOf(i)>=0,d=u?"height":"width";if(!(!s||!a)){var p=e3(o.padding,n),g=fp(s),h=c==="y"?sn:an,m=c==="y"?Hn:Dn,b=n.rects.reference[d]+n.rects.reference[c]-a[c]-n.rects.popper[d],v=a[c]-n.rects.reference[c],w=ri(s),y=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,C=b/2-v/2,S=p[h],x=y-g[d]-p[m],E=y/2-g[d]/2+C,T=oi(S,E,x),_=c;n.modifiersData[r]=(t={},t[_]=T,t.centerOffset=T-E,t)}}function n3(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Cm(t.elements.popper,o)&&(t.elements.arrow=o))}const r3={name:"arrow",enabled:!0,phase:"main",fn:t3,effect:n3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ta(e){return e.split("-")[1]}var o3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function s3(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Rs(n*o)/o||0,y:Rs(r*o)/o||0}}function Om(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,i=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,g=a.x,h=g===void 0?0:g,m=a.y,b=m===void 0?0:m,v=typeof d=="function"?d({x:h,y:b}):{x:h,y:b};h=v.x,b=v.y;var w=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),C=an,S=sn,x=window;if(u){var E=ri(n),T="clientHeight",_="clientWidth";if(E===En(n)&&(E=So(n),qr(E).position!=="static"&&i==="absolute"&&(T="scrollHeight",_="scrollWidth")),E=E,o===sn||(o===an||o===Dn)&&s===ti){S=Hn;var O=p&&E===x&&x.visualViewport?x.visualViewport.height:E[T];b-=O-r.height,b*=c?1:-1}if(o===an||(o===sn||o===Hn)&&s===ti){C=Dn;var P=p&&E===x&&x.visualViewport?x.visualViewport.width:E[_];h-=P-r.width,h*=c?1:-1}}var M=Object.assign({position:i},u&&o3),A=d===!0?s3({x:h,y:b},En(n)):{x:h,y:b};if(h=A.x,b=A.y,c){var k;return Object.assign({},M,(k={},k[S]=y?"0":"",k[C]=w?"0":"",k.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",k))}return Object.assign({},M,(t={},t[S]=y?b+"px":"",t[C]=w?h+"px":"",t.transform="",t))}function a3(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,i=n.roundOffsets,c=i===void 0?!0:i,u={placement:Sr(t.placement),variation:ta(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Om(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Om(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const i3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:a3,data:{}};var Gl={passive:!0};function l3(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=o===void 0?!0:o,a=r.resize,i=a===void 0?!0:a,c=En(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,Gl)}),i&&c.addEventListener("resize",n.update,Gl),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Gl)}),i&&c.removeEventListener("resize",n.update,Gl)}}const c3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:l3,data:{}};var u3={left:"right",right:"left",bottom:"top",top:"bottom"};function Kl(e){return e.replace(/left|right|bottom|top/g,function(t){return u3[t]})}var d3={start:"end",end:"start"};function _m(e){return e.replace(/start|end/g,function(t){return d3[t]})}function hp(e){var t=En(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mp(e){return ea(So(e)).left+hp(e).scrollLeft}function p3(e,t){var n=En(e),r=So(e),o=n.visualViewport,s=r.clientWidth,a=r.clientHeight,i=0,c=0;if(o){s=o.width,a=o.height;var u=Sm();(u||!u&&t==="fixed")&&(i=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:i+mp(e),y:c}}function f3(e){var t,n=So(e),r=hp(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=ss(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ss(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-r.scrollLeft+mp(e),c=-r.scrollTop;return qr(o||n).direction==="rtl"&&(i+=ss(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:i,y:c}}function bp(e){var t=qr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Am(e){return["html","body","#document"].indexOf(wr(e))>=0?e.ownerDocument.body:Fn(e)&&bp(e)?e:Am(Wl(e))}function si(e,t){var n;t===void 0&&(t=[]);var r=Am(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=En(r),a=o?[s].concat(s.visualViewport||[],bp(r)?r:[]):r,i=t.concat(a);return o?i:i.concat(si(Wl(a)))}function vp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function g3(e,t){var n=ea(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Mm(e,t,n){return t===vm?vp(p3(e,n)):os(t)?g3(t,n):vp(f3(So(e)))}function h3(e){var t=si(Wl(e)),n=["absolute","fixed"].indexOf(qr(e).position)>=0,r=n&&Fn(e)?ri(e):e;return os(r)?t.filter(function(o){return os(o)&&Cm(o,r)&&wr(o)!=="body"}):[]}function m3(e,t,n,r){var o=t==="clippingParents"?h3(e):[].concat(t),s=[].concat(o,[n]),a=s[0],i=s.reduce(function(c,u){var d=Mm(e,u,r);return c.top=ss(d.top,c.top),c.right=Ul(d.right,c.right),c.bottom=Ul(d.bottom,c.bottom),c.left=ss(d.left,c.left),c},Mm(e,a,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Lm(e){var t=e.reference,n=e.element,r=e.placement,o=r?Sr(r):null,s=r?ta(r):null,a=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,c;switch(o){case sn:c={x:a,y:t.y-n.height};break;case Hn:c={x:a,y:t.y+t.height};break;case Dn:c={x:t.x+t.width,y:i};break;case an:c={x:t.x-n.width,y:i};break;default:c={x:t.x,y:t.y}}var u=o?gp(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Qs:c[u]=c[u]-(t[d]/2-n[d]/2);break;case ti:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function ai(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,i=n.boundary,c=i===void 0?V_:i,u=n.rootBoundary,d=u===void 0?vm:u,p=n.elementContext,g=p===void 0?ni:p,h=n.altBoundary,m=h===void 0?!1:h,b=n.padding,v=b===void 0?0:b,w=Pm(typeof v!="number"?v:Tm(v,ei)),y=g===ni?j_:ni,C=e.rects.popper,S=e.elements[m?y:g],x=m3(os(S)?S:S.contextElement||So(e.elements.popper),c,d,a),E=ea(e.elements.reference),T=Lm({reference:E,element:C,strategy:"absolute",placement:o}),_=vp(Object.assign({},C,T)),O=g===ni?_:E,P={top:x.top-O.top+w.top,bottom:O.bottom-x.bottom+w.bottom,left:x.left-O.left+w.left,right:O.right-x.right+w.right},M=e.modifiersData.offset;if(g===ni&&M){var A=M[o];Object.keys(P).forEach(function(k){var H=[Dn,Hn].indexOf(k)>=0?1:-1,L=[sn,Hn].indexOf(k)>=0?"y":"x";P[k]+=A[L]*H})}return P}function b3(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,i=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?wm:c,d=ta(r),p=d?i?ym:ym.filter(function(m){return ta(m)===d}):ei,g=p.filter(function(m){return u.indexOf(m)>=0});g.length===0&&(g=p);var h=g.reduce(function(m,b){return m[b]=ai(e,{placement:b,boundary:o,rootBoundary:s,padding:a})[Sr(b)],m},{});return Object.keys(h).sort(function(m,b){return h[m]-h[b]})}function v3(e){if(Sr(e)===up)return[];var t=Kl(e);return[_m(e),t,_m(t)]}function y3(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,i=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,b=n.allowedAutoPlacements,v=t.options.placement,w=Sr(v),y=w===v,C=c||(y||!m?[Kl(v)]:v3(v)),S=[v].concat(C).reduce(function(Z,R){return Z.concat(Sr(R)===up?b3(t,{placement:R,boundary:d,rootBoundary:p,padding:u,flipVariations:m,allowedAutoPlacements:b}):R)},[]),x=t.rects.reference,E=t.rects.popper,T=new Map,_=!0,O=S[0],P=0;P<S.length;P++){var M=S[P],A=Sr(M),k=ta(M)===Qs,H=[sn,Hn].indexOf(A)>=0,L=H?"width":"height",F=ai(t,{placement:M,boundary:d,rootBoundary:p,altBoundary:g,padding:u}),W=H?k?Dn:an:k?Hn:sn;x[L]>E[L]&&(W=Kl(W));var z=Kl(W),$=[];if(s&&$.push(F[A]<=0),i&&$.push(F[W]<=0,F[z]<=0),$.every(function(Z){return Z})){O=M,_=!1;break}T.set(M,$)}if(_)for(var D=m?3:1,V=function(R){var ne=S.find(function(ee){var q=T.get(ee);if(q)return q.slice(0,R).every(function(X){return X})});if(ne)return O=ne,"break"},U=D;U>0;U--){var Q=V(U);if(Q==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const w3={name:"flip",enabled:!0,phase:"main",fn:y3,requiresIfExists:["offset"],data:{_skip:!1}};function Nm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function km(e){return[sn,Dn,Hn,an].some(function(t){return e[t]>=0})}function S3(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,a=ai(t,{elementContext:"reference"}),i=ai(t,{altBoundary:!0}),c=Nm(a,r),u=Nm(i,o,s),d=km(c),p=km(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const C3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S3};function x3(e,t,n){var r=Sr(e),o=[an,sn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],i=s[1];return a=a||0,i=(i||0)*o,[an,Dn].indexOf(r)>=0?{x:i,y:a}:{x:a,y:i}}function E3(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=o===void 0?[0,0]:o,a=wm.reduce(function(d,p){return d[p]=x3(p,t.rects,s),d},{}),i=a[t.placement],c=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const P3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:E3};function T3(e){var t=e.state,n=e.name;t.modifiersData[n]=Lm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const O3={name:"popperOffsets",enabled:!0,phase:"read",fn:T3,data:{}};function _3(e){return e==="x"?"y":"x"}function A3(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,i=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.padding,g=n.tether,h=g===void 0?!0:g,m=n.tetherOffset,b=m===void 0?0:m,v=ai(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:d}),w=Sr(t.placement),y=ta(t.placement),C=!y,S=gp(w),x=_3(S),E=t.modifiersData.popperOffsets,T=t.rects.reference,_=t.rects.popper,O=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,P=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(E){if(s){var k,H=S==="y"?sn:an,L=S==="y"?Hn:Dn,F=S==="y"?"height":"width",W=E[S],z=W+v[H],$=W-v[L],D=h?-_[F]/2:0,V=y===Qs?T[F]:_[F],U=y===Qs?-_[F]:-T[F],Q=t.elements.arrow,Z=h&&Q?fp(Q):{width:0,height:0},R=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Em(),ne=R[H],ee=R[L],q=oi(0,T[F],Z[F]),X=C?T[F]/2-D-q-ne-P.mainAxis:V-q-ne-P.mainAxis,ae=C?-T[F]/2+D+q+ee+P.mainAxis:U+q+ee+P.mainAxis,ue=t.elements.arrow&&ri(t.elements.arrow),we=ue?S==="y"?ue.clientTop||0:ue.clientLeft||0:0,he=(k=M==null?void 0:M[S])!=null?k:0,Ie=W+X-he-we,Ze=W+ae-he,mt=oi(h?Ul(z,Ie):z,W,h?ss($,Ze):$);E[S]=mt,A[S]=mt-W}if(i){var lt,We=S==="x"?sn:an,jt=S==="x"?Hn:Dn,ct=E[x],Pt=x==="y"?"height":"width",yt=ct+v[We],ft=ct-v[jt],ot=[sn,an].indexOf(w)!==-1,ut=(lt=M==null?void 0:M[x])!=null?lt:0,Ut=ot?yt:ct-T[Pt]-_[Pt]-ut+P.altAxis,pe=ot?ct+T[Pt]+_[Pt]-ut-P.altAxis:ft,je=h&&ot?R_(Ut,ct,pe):oi(h?Ut:yt,ct,h?pe:ft);E[x]=je,A[x]=je-ct}t.modifiersData[r]=A}}const M3={name:"preventOverflow",enabled:!0,phase:"main",fn:A3,requiresIfExists:["offset"]};function L3(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function N3(e){return e===En(e)||!Fn(e)?hp(e):L3(e)}function k3(e){var t=e.getBoundingClientRect(),n=Rs(t.width)/e.offsetWidth||1,r=Rs(t.height)/e.offsetHeight||1;return n!==1||r!==1}function $3(e,t,n){n===void 0&&(n=!1);var r=Fn(t),o=Fn(t)&&k3(t),s=So(t),a=ea(e,o,n),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((wr(t)!=="body"||bp(s))&&(i=N3(t)),Fn(t)?(c=ea(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=mp(s))),{x:a.left+i.scrollLeft-c.x,y:a.top+i.scrollTop-c.y,width:a.width,height:a.height}}function I3(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function o(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(i){if(!n.has(i)){var c=t.get(i);c&&o(c)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||o(s)}),r}function V3(e){var t=I3(e);return q_.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function j3(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function H3(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var $m={placement:"bottom",modifiers:[],strategy:"absolute"};function Im(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function D3(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,s=o===void 0?$m:o;return function(i,c,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},$m,s),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},p=[],g=!1,h={state:d,setOptions:function(w){var y=typeof w=="function"?w(d.options):w;b(),d.options=Object.assign({},s,d.options,y),d.scrollParents={reference:os(i)?si(i):i.contextElement?si(i.contextElement):[],popper:si(c)};var C=V3(H3([].concat(r,d.options.modifiers)));return d.orderedModifiers=C.filter(function(S){return S.enabled}),m(),h.update()},forceUpdate:function(){if(!g){var w=d.elements,y=w.reference,C=w.popper;if(Im(y,C)){d.rects={reference:$3(y,ri(C),d.options.strategy==="fixed"),popper:fp(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var x=d.orderedModifiers[S],E=x.fn,T=x.options,_=T===void 0?{}:T,O=x.name;typeof E=="function"&&(d=E({state:d,options:_,name:O,instance:h})||d)}}}},update:j3(function(){return new Promise(function(v){h.forceUpdate(),v(d)})}),destroy:function(){b(),g=!0}};if(!Im(i,c))return h;h.setOptions(u).then(function(v){!g&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var w=v.name,y=v.options,C=y===void 0?{}:y,S=v.effect;if(typeof S=="function"){var x=S({state:d,name:w,instance:h,options:C}),E=function(){};p.push(x||E)}})}function b(){p.forEach(function(v){return v()}),p=[]}return h}}var F3=[c3,O3,i3,X_,P3,w3,M3,r3,C3],B3=D3({defaultModifiers:F3}),z3=typeof Element<"u",U3=typeof Map=="function",W3=typeof Set=="function",G3=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ql(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ql(e[r],t[r]))return!1;return!0}var s;if(U3&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ql(r.value[1],t.get(r.value[0])))return!1;return!0}if(W3&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(G3&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(z3&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!ql(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var K3=function(t,n){try{return ql(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const q3=sd(K3);var Y3=[],na=function(t,n,r){r===void 0&&(r={});var o=Ge.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Y3},a=Ge.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=a[0],c=a[1],u=Ge.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var m=h.state,b=Object.keys(m.elements);vS.flushSync(function(){c({styles:mm(b.map(function(v){return[v,m.styles[v]||{}]})),attributes:mm(b.map(function(v){return[v,m.attributes[v]]}))})})},requires:["computeStyles"]}},[]),d=Ge.useMemo(function(){var g={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[u,{name:"applyStyles",enabled:!1}])};return q3(o.current,g)?o.current||g:(o.current=g,g)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,u]),p=Ge.useRef();return bm(function(){p.current&&p.current.setOptions(d)},[d]),bm(function(){if(!(t==null||n==null)){var g=r.createPopper||B3,h=g(t,n,d);return p.current=h,function(){h.destroy(),p.current=null}}},[t,n,r.createPopper]),{state:p.current?p.current.state:null,styles:i.styles,attributes:i.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}};const ln=f.forwardRef(function({children:t,title:n,onClose:r,icon:o,skipOverflow:s,shadow:a=!0,padding:i=!0,border:c=!0,round:u=!0,className:d,classNameBody:p,size:g="m",titleClass:h=G("gs-utl-mb-2 gs-utl-mt-0.5"),style:m,bg:b,...v},w){const y=nr(o)?o:{};return l.jsxs("div",{...v,ref:w,style:m,className:G(["gs-utl-card",d,b||md.bg,oe.b,u&&oe.rnd,c?B.br:oe.bT,!s&&"gs-utl-overflow-auto",a&&"gs-utl-shadow-md",i&&g==="l"&&"gs-utl-p-5",i&&g==="m"&&"gs-utl-px-4 gs-utl-py-2",i&&g==="s"&&"gs-utl-px-2 gs-utl-py-1",i&&g==="xs"&&"gs-utl-px-2 gs-utl-py-0.5",i&&g==="x2s"&&"gs-utl-px-0.5"]),children:[(n||r)&&n!==!1&&l.jsxs(I,{className:G("gs-utl-card-title",h),items:"center",children:[l.jsx(j,{className:G("truncate"),grow:!0,children:n}),(r||o)&&l.jsx(j,{onClick:r,className:G("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),children:l.jsx(re,{icon:(et(o)?o:"")||K.close,size:"18px",...y})})]}),l.jsx("div",{className:G("gs-utl-card-body",p),children:t})]})});var Yl=(e=>(e.canvas="canvas",e.layers="layers",e))(Yl||{}),Yr=(e=>(e.selectParent="selectParent",e.duplicate="duplicate",e.delete="delete",e.symbolCreate="symbolCreate",e.symbolDetach="symbolDetach",e.symbolOverride="symbolOverride",e.symbolOverrideClear="symbolOverrideClear",e))(Yr||{});class Z3{constructor(t){this.isOpen=!1,this.isEnabled=!0,this.items=[],this.coordinates={x:0,y:0},this.getItemsForComponent=Zo(function*(n,r={}){var w;if(!(n!=null&&n.em))return[];const o=n.em.getEditor(),{isSymbol:s,isRoot:a}=o.Components.getSymbolInfo(n),i=!!n.getSymbolOverride(),c=!!n.get("removable"),u=!!n.parent()&&!!n.toolbar.length,d=!!n.get("copyable"),p=[u&&{id:Yr.selectParent,icon:K.arrowUp,label:"Select parent",onClick:()=>{o.runCommand("core:component-exit",{force:!0})}},d&&{id:Yr.duplicate,icon:K.contentCopy,label:"Duplicate",onClick:()=>{o.runCommand("tlb-clone")}},!s&&c&&{id:Yr.symbolCreate,icon:K.rhombusSplit,label:"Create Symbol",onClick:()=>{o.runCommand(ce.symbolAdd)}},s&&a&&{id:Yr.symbolDetach,icon:K.alertRhombus,label:"Detach instance",onClick:()=>{o.runCommand(ce.symbolDetach)}},s&&!i&&{id:Yr.symbolOverride,icon:K.rhombusOutline,label:"Make overridable",onClick:()=>{o.runCommand(ce.symbolOverride,{override:!0})}},s&&i&&{id:Yr.symbolOverrideClear,icon:K.rhombusSplitOutline,label:"Clear overridable",onClick:()=>{o.runCommand(ce.symbolOverride)}},c&&{id:Yr.delete,icon:K.delete,label:"Delete",onClick:()=>{o.runCommand("core:component-delete")}}].filter(Boolean),g=n.get("contextMenu"),h={...r,items:p,component:n,editor:o,type:n.get("type")||"default",source:r.source||Yl.canvas},m=yield Vm(g,h),b=(w=this.store.appEditorStore.sdkComponentsConfig)==null?void 0:w.contextMenu;return yield Vm(b,{...h,items:m})}),this.store=t,Qt(this,{},{autoBind:!0})}get publicState(){return{enabled:this.isEnabled}}setPublicState(t){t.enabled!==void 0&&(this.isEnabled=t.enabled)}*showForComponent(t,n){const r=t==null?void 0:t.em;if(!r)return;n.skipSelect||r.selected.hasComponent(t)||r.setSelected(t);const o=yield this.getItemsForComponent(t,n);o.length&&this.show({...n,items:o})}show({items:t,x:n,y:r,w:o,h:s}){this.isOpen=!0,this.coordinates={x:n,y:r,w:o,h:s},this.items=t}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const Vm=async(e,t)=>Xe(e)?(await e(t)).filter(Boolean):t.items,yp=()=>Bt().contextMenu;function jm(e,t){f.useEffect(()=>{const n="pointerdown",{current:r}=e;if(!r||!t.enabled)return;function o(s){const a=s.target;r&&a&&!r.contains(a)&&t.onTrigger(a)}return document.addEventListener(n,o),()=>{document.removeEventListener(n,o)}},[e.current,t.enabled])}const Hm=(e,t)=>{const{boxRectScreen:n,vwHeight:r,initialPos:o="top-right",zoomMultiplier:s=1}=t,a=o.split("-"),i=a[0],c=a[1],u=i==="top"?"bottom":"top",d=c==="right"?"left":"right";f.useLayoutEffect(()=>{const p=e.current;if(p){const{offsetWidth:g,offsetHeight:h}=p,m=n.y-h,b=n.x+n.width-g,v=n.height+h>r,w=m<0,y=w&&!v?u:i,C=b<0?d:c;if(t.setPos(`${y}-${C}`),v){const S=n.y+n.height,x=S<0?m-S:m;p.style.top=w?`${parseInt(`${-x}`)*s}px`:""}else p.style.top=""}},[e.current,n])},Dm=e=>{const{ref:t,show:n,node:r,styles:o,update:s,reload:a}=e,i={all:"initial",zIndex:"10",fontFamily:"inherit",...o};f.useEffect(()=>{const c=t.current;if(c&&n){if(!c.__sh){const p=c.attachShadow({mode:"closed"});c.__sh=bS.createRoot(p)}c.__sh.render(r),Object.keys(i).forEach(p=>{c.style.setProperty(kC(p),i[p],"important")});const u=new MutationObserver(a);u.observe(c,{attributeFilter:["style"]});const d=new MutationObserver(p=>{Array.from(p[0].removedNodes).includes(c)&&a()});return d.observe(c.parentNode,{childList:!0}),()=>{u.disconnect(),d.disconnect()}}},[t.current,n,s])},X3="gs-cmp-popover";function Cr({children:e,handler:t,title:n,size:r,padding:o=!0,border:s=!0,overlay:a,clickAway:i,topIcon:c,placement:u="auto",offset:d,open:p,onClose:g,buttonAs:h,className:m,classNameBody:b,buttonProps:v={},disabled:w,hideCloseButton:y}){const[C,S]=f.useState(!!p),[x,E]=f.useState(C),[T,_]=f.useState(null),[O,P]=f.useState(null),M=na(T,O,{...Cp({offset:d}),placement:u}),A=()=>{E(!1),g==null||g()};jm({current:O},{onTrigger:A,enabled:i&&C}),f.useEffect(()=>{E(!!p)},[p]),f.useEffect(()=>{var L;C&&((L=M.update)==null||L.call(M))},[C,M.update]),f.useEffect(()=>{const L=setTimeout(()=>S(x),10);return()=>clearTimeout(L)},[x]);const k=G("w-full transition-colors",w&&"pointer-events-none",...E1({border:!1,size:"",...v})),H=G(["fixed z-20",c&&"gjs-mt-5",r==="s"&&"w-full max-w-64",r==="sm"&&"w-full max-w-sm",r==="md"&&"w-full max-w-md"]);return l.jsxs(Qd,{className:G(X3,"relative flex",m),children:[l.jsx(Qd.Button,{ref:_,as:h,className:k,children:l.jsx("div",{onClick:L=>{Jo(L),!(Mt(p)||w)&&E(!C)},children:t})}),C&&a&&l.jsx("div",{onClick:A,className:G("z-10 fixed inset-0")}),x&&l.jsx(Qd.Panel,{static:!0,className:H,ref:P,style:M.styles.popper,...M.attributes.popper,children:l.jsx(yr,{as:f.Fragment,show:C,unmount:!1,...hd,children:l.jsx(ln,{classNameBody:b,title:n,onClose:y?void 0:A,padding:o,border:s,children:typeof e=="function"?e({close:A,open:C}):e})})})]})}function ii(e){const{action:t,icon:n,label:r,className:o,items:s,onItemClick:a,...i}=e,c=f.useRef(null),[u,d]=f.useState(),p=c.current,g=N([o,"gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",B.br,Me.xy,oe.bb,i.disabled&&Le.disabled,...t?[B.hBgH,"gs-utl-cursor-pointer"]:["gs-utl-cursor-default"]]),h=b=>{Xe(t)&&(t({event:b}),a==null||a({event:b,item:e}))};f.useEffect(()=>{if(!p)return;const b=setTimeout(()=>d(p.getBoundingClientRect()),i.active?0:gd);return()=>clearTimeout(b)},[p,i.active]);const m=()=>{var b;return(b=i.onActive)==null?void 0:b.call(i)};return l.jsxs(I,{ref:c,items:"center",nowrap:!0,className:g,onClick:h,onPointerEnter:m,children:[n&&l.jsx(j,{children:l.jsx(re,{icon:n,size:ie.sx})}),l.jsx(j,{className:N(i.classNameLabel,Le.txtEllips),grow:!0,children:r}),!!(s!=null&&s.length)&&l.jsxs(l.Fragment,{children:[l.jsx(j,{children:l.jsx(re,{icon:K.chevronRight,size:ie.s,className:"-gs-utl-mr-2"})}),u&&i.active&&l.jsx(Zm,{items:s,x:u.left,y:u.top,w:u.width,h:u.height,onItemClick:a,open:!0})]})]})}function Co({className:e,as:t="label",bold:n,m:r="gjs-mb-1",size:o="m",capitalize:s=!0,children:a,tip:i,onClear:c,...u}){const d=t,p=!!c;return l.jsxs(d,{className:N(e,r,p&&B.tAo,s&&"gs-utl-capitalize",n&&"gs-utl-font-semibold",o==="s"&&"gs-utl-text-sm",i||p?"gs-utl-flex gs-utl-gap-2 gs-utl-items-center":"gs-utl-block"),...p&&{htmlFor:""},...u,children:[!!i&&l.jsx($t,{classNameWrp:"gs-utl-normal-case gs-utl-whitespace-normal",classNameContent:"gs-utl-max-w-60",title:i,children:l.jsx(re,{icon:K.information,size:ie.s2x})}),a,p&&l.jsx(bt,{title:"Clear value",onClick:c,icon:{icon:K.close,size:ie.s2x},variant:"out-clear",border:!1,size:"",block:!0})]})}var Fm=(e=>(e.primary="primary",e.secondary="secondary",e.outline="outline",e.shallow="shallow",e))(Fm||{}),Bm=(e=>(e.none="",e.x2s="x2s",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(Bm||{});const J3="gs-cmp-button",Zl=f.memo(se(function({classNameBtn:t,className:n,children:r,tooltip:o,variant:s,onClick:a,editorEvents:i,label:c,size:u,icon:d,active:p,buttonType:g,disabled:h,...m}){const{editor:b}=ge(),[v,w]=f.useState(()=>({disabled:h,variant:s,active:p,className:n,classNameBtn:t,tooltip:o,icon:d,size:u,label:c})),y=v.variant,C=y==="outline",S=y==="secondary",x=y==="primary"?"pr":C||S?"out-clear":void 0,E=v.label,T=O=>{b&&(a==null||a({event:O,editor:b,state:v,setState:P=>w(M=>({...M,...P}))}))};f.useEffect(()=>{if(!i||!b)return;const O=Object.keys(i).reduce((M,A)=>(M[A]=(k={})=>{i[A]({fromEvent:k,editor:b,state:v,setState:H=>w(L=>({...L,...H}))})},M),{}),P=Object.keys(O);return P.forEach(M=>b.on(M,O[M])),()=>{P.forEach(M=>b.off(M,O[M]))}},[b,v]);const _=v.tooltip;return l.jsx(bt,{className:N(J3,v.classNameBtn),classNameWrp:v.className,variant:x,icon:v.icon,active:v.active,size:v.size,disabled:v.disabled,onClick:T,border:C||S,type:g,withBg:S,block:!0,...et(_)?{title:_}:{tooltipProps:_},...m,children:E?Xe(E)?E({editor:b}):E:r})}));var Xl=(e=>(e.m="m",e.s="s",e))(Xl||{});const zm="gs-input-field",Jl=e=>Mt(e)?e:"",li=(e={})=>N("gs-utl-w-full",B.bgTr,Us.inputText,e.disabled&&B.txtLowEmphasis),wp=({size:e="m"}={})=>N("gs-input-container gs-utl-w-full",B.bg,oe.b,oe.rnd,B.br,e==="m"&&Me.xy,e==="s"&&"gs-utl-px-3 gs-utl-py-1"),xo=({className:e,style:t,row:n})=>({className:N(e,"gs-utl-w-full gs-utl-flex",n?`${zm}--row gs-utl-gap-2 gs-utl-items-center`:"gs-utl-flex-col gs-utl-gap-1"),style:t}),or=e=>{const{as:t,size:n="m",label:r,description:o,hasClear:s,onChange:a,tip:i,row:c,afterLabel:u,afterLabelButtons:d}=e,p=!!r,g=!!o,h=s!=null&&s(e)?()=>a==null?void 0:a(""):void 0;if(!p&&!(d!=null&&d.length)&&!g)return null;const m=l.jsx(l.Fragment,{children:p&&l.jsx(Co,{as:t,className:"gs-utl-w-full",size:n,tip:g?void 0:i,onClear:h,m:"",children:r})}),b=u||d!=null&&d.length?l.jsxs(I,{gap:"s",items:"center",nowrap:!0,children:[u,d==null?void 0:d.map((v,w)=>l.jsx(Zl,{...v},v.id??w))]}):null;return l.jsxs(I,{className:N("gs-label-field-container",c&&"gs-utl-whitespace-nowrap"),col:!0,children:[b?l.jsxs(I,{gap:"s",items:"center",nowrap:!0,children:[m,b]}):m,g&&l.jsx(Co,{size:n,tip:i,as:"span",className:N(B.txtLowEmphasis),capitalize:!1,children:o})]})},Re=f.forwardRef(function(t,n){const{className:r,value:o,type:s,placeholder:a,required:i,disabled:c,readOnly:u,name:d,autoFocus:p,onInput:g,onChange:h,onBlur:m,onKeyDown:b,labelAs:v}=t,[w,y]=f.useState(Jl(o)),C=li(t),S=f.useRef(null);f.useImperativeHandle(n,()=>S.current,[]),f.useEffect(()=>{y(Jl(o))},[o]),f.useEffect(()=>{const P=S.current;if(P&&p){const M=P.querySelector("input"),A=setTimeout(()=>M==null?void 0:M.focus(),gd);return()=>clearTimeout(A)}},[S.current,p]);const x=(P,M)=>{h==null||h(P,M)},E=P=>{const{key:M}=P;switch(b==null||b(P),M){case"Escape":return y(o);case"Enter":return x(w)}},T=()=>{x(w),m==null||m()},_=P=>{const M=P.target.value;y(M),g==null||g(M)},O=xo({...t,className:N(zm,r)});return l.jsxs("div",{...O,ref:S,children:[l.jsx(or,{...t,as:v}),l.jsxs(I,{className:wp(t),items:"center",gap:"x2s",children:[t.beforeInput,l.jsx(j,{grow:!0,children:l.jsx("input",{className:C,name:d,value:w,onChange:_,placeholder:a,required:i,onBlur:T,onKeyDown:E,readOnly:u,disabled:c,type:s,maxLength:t.maxLength})}),t.afterInput]})]})}),Q3=(e,t)=>e.filter(n=>n.id===t)[0]||null,Um=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),R3=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,Wm=G("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),Sp={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function Gm(e){var s;const{option:t,active:n,selected:r}=e,o=((s=e.isSelected)==null?void 0:s.call(e))||!0;return l.jsxs(I,{items:"center",className:G([Me.xy,n&&md.bgH]),children:[l.jsx(j,{className:G("truncate"),grow:!0,children:t.label}),l.jsx(j,{className:G("gjs-pl-2"),children:Um(t,r)&&o&&l.jsx(re,{className:G(B.tA),icon:K.check,size:ie.s})})]})}const eA="gs-select-field";function Km({option:e}){return l.jsxs(l.Fragment,{children:[e.icon&&l.jsx(re,{...et(e.icon)?{icon:e.icon,size:ie.s2x}:e.icon}),l.jsx(j,{className:G("truncate"),grow:!0,children:e.content||e.label})]})}function Ee(e){const{value:t,onChange:n,onBlur:r,onFocus:o,handlerSelected:s,label:a,options:i,includeEmpty:c,className:u,search:d,open:p,caret:g=K.chevronDown,size:h="m",border:m,emptyState:b="- Select an option -",name:v,required:w,disabled:y,classNameContainer:C,autoFocus:S,labelAs:x,hideCaret:E}=e,[T,_]=f.useState(null),[O,P]=f.useState(null),[M,A]=f.useState(""),{styles:k,attributes:H}=na(T,O,Sp),L=typeof d=="object"?d.onChange:void 0,F=[...i].filter(ee=>d?L||R3(ee,M):ee),W=d&&(typeof d=="object"&&d.value||M),z=W&&F.length?F[0]:Q3(F,t),$=ee=>n(ee.id,ee),D={id:null,label:b},V=(z==null?void 0:z.content)||(z==null?void 0:z.label),U=z?s?s(z):z.icon?l.jsx(I,{items:"center",gap:"s",children:l.jsx(Km,{option:z})}):V:s?s(D):b;c&&F.unshift(D);const Q=ee=>{const{value:q}=ee.target,X=q.trim();switch(ee.key){case"Escape":n(null);break;case"Enter":n((F.length?F[0].id:X)||null,F[0]);break;case" ":Jo(ee);break}},Z=N("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block",oe.rnd,Fa.focus),R=()=>{r==null||r()},ne=xo({...e,className:N(eA,C,"gs-utl-relative",h.includes("s")&&"gs-utl-text-xs")});return l.jsx(Qa,{value:z,onChange:$,disabled:y,children:({open:ee})=>l.jsxs("div",{...ne,children:[a&&l.jsx(Qa.Label,{as:x,className:e.classNameLabel,children:l.jsx(or,{as:"span",...e})}),v&&l.jsx("input",{type:"input",name:v,value:(z==null?void 0:z.id)??"",onChange:()=>{},className:G("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),required:w,disabled:y}),l.jsx(Qa.Button,{ref:_,className:Z,tabIndex:d?-1:void 0,children:d?l.jsx("input",{autoFocus:S,value:typeof d=="object"&&d.value||M,className:N([u,"gs-utl-w-full",oe.rnd,Fa.focus,Me.xyS]),onChange:q=>{A(q.target.value),L==null||L(q.target.value)},onKeyDown:Q,onClick:Jo,onBlur:R,onFocus:o}):l.jsx(ln,{border:m,size:h,title:U,icon:E?{className:"gs-utl-opacity-0 gs-utl-pointer-events-none"}:g,shadow:!1,className:G(u),titleClass:"",disabled:y})}),l.jsx(Qa.Options,{static:p,className:Wm,ref:P,style:k.popper,...H.popper,children:l.jsxs(ln,{padding:!1,className:G("h-full"),style:{minWidth:`${T==null?void 0:T.offsetWidth}px`,maxHeight:200},children:[!F.length&&d&&d!==!0&&l.jsx("div",{className:G(Me.xy),children:d.empty}),F.map((q,X)=>l.jsx(Qa.Option,{value:q,children:({active:ae})=>l.jsxs(I,{items:"center",gap:"s",className:G([q.className,Me.xy,ae&&md.bgH]),nowrap:!0,children:[l.jsx(Km,{option:q}),l.jsx(j,{className:G("gjs-pl-2"),children:Um(q,z)&&!W&&l.jsx(re,{className:G(B.tA),icon:K.check,size:ie.s})})]})},X))]})})]})})}const qm=hr()&&document.body,Cp=(e={})=>({...Sp,placement:"right-start",modifiers:[{name:"offset",options:{offset:e.offset||[0,5]}},{name:"flip",options:{boundary:e.boundary??qm}},{name:"preventOverflow",options:{boundary:e.boundary??qm}}]}),Ym=Cp(),Ql="gs-ctx-menu-list",Zm=se(function({onItemClick:t,open:n,items:r,x:o,y:s,w:a,h:i,className:c}){const u=yp(),[d,p]=f.useState(),[g,h]=f.useState(null),m=f.useMemo(()=>({getBoundingClientRect:()=>new DOMRect(o,s,a,i)}),[o,s,a,i,n]),{styles:b,attributes:v}=na(m,g,Ym),w=N(`${Ql}-wrp gs-utl-z-20`,c),y=N(`${Ql} gs-utl-z-20`),C=N(`${Ql}-body gs-utl-max-w-56`),S=N(`${Ql}-item`),x="gs-utl-max-w-40",E=T=>{const{action:_,onClick:O}=T;if(_||O)return P=>{const M={editor:u.store.appEditorStore.editor,...P};Xe(_)?(_(M),u.hide()):Xe(O)&&(O(M),u.hide())}};return l.jsx("div",{className:w,ref:h,style:b.popper,...v.popper,children:l.jsx(yr,{show:!!n,...Da,unmount:!1,children:l.jsx(ln,{padding:!1,className:y,classNameBody:C,children:r.map((T,_)=>f.createElement(ii,{onItemClick:t,...T,key:T.id??_,className:S,classNameLabel:x,action:E(T),onActive:()=>p(T),active:d===T}))})})})}),xp="gs-cmp-tooltip";function $t({className:e,classNameWrp:t,classNameContent:n,strategy:r,placement:o="bottom",children:s,title:a,onClick:i,inline:c,size:u}){const[d,p]=f.useState(!1),[g,h]=f.useState(!1),m=Mt(u),[b,v]=f.useState(null),[w,y]=f.useState(null),C=na(b,w,{...Cp(),placement:o,...r?{strategy:r}:{}});f.useEffect(()=>{var E;d&&((E=C.update)==null||E.call(C))},[d,C.update]),f.useEffect(()=>{const E=setTimeout(()=>p(g),10);return()=>clearTimeout(E)},[g]);const S=N(`${xp}-target`,!c&&"gs-utl-block",e,!i&&"gs-utl-cursor-auto"),x=N(`${xp}-content`,n,"gs-utl-fixed gs-utl-z-30 gs-utl-text-sm",!m&&!n&&"gs-utl-whitespace-nowrap",u==="s"&&"gs-utl-w-60");return l.jsxs("div",{className:N(xp,"gs-utl-relative",t),children:[l.jsx("span",{ref:v,className:S,onMouseEnter:()=>a&&h(!0),onMouseLeave:()=>h(!1),children:l.jsx("div",{className:N(c&&"gs-utl-inline-block"),onClick:()=>{h(!1),i==null||i()},children:s})}),!!g&&l.jsx("div",{className:x,ref:y,style:C.styles.popper,...C.attributes.popper,children:l.jsx(yr,{show:!!d,unmount:!1,...hd,children:l.jsx(ln,{className:C1.txt,bg:C1.bg,size:"s",border:!1,children:a})})})]})}function bt({children:e,title:t,classNameWrp:n,tooltipProps:r,...o}){return l.jsx($t,{title:t,classNameWrp:n,...r,children:l.jsx(Be,{...o,children:e})})}var Kt=(e=>(e.Info="info",e.Error="error",e.Success="success",e.Warning="warning",e))(Kt||{});const tA={[Kt.Info]:B.bgA,[Kt.Error]:"bg-red-500",[Kt.Success]:"bg-green-500",[Kt.Warning]:"bg-orange-400"},nA=f.forwardRef(function(t,n){const r={[Kt.Info]:K.informationVariant,[Kt.Error]:K.fire,[Kt.Success]:K.checkBold,[Kt.Warning]:K.alertRhombus},{children:o,className:s,content:a,id:i,buttons:c=[],variant:u=Kt.Info,autoHideTimeout:d=3e3}=t,p=f.useRef(null),g=f.useRef(),h=r[u],m=tA[u];f.useImperativeHandle(n,()=>p.current,[]);const b=()=>{var C;return(C=t.onDismiss)==null?void 0:C.call(t,i)},v=()=>{d&&(g.current=setTimeout(b,d))},w=()=>g.current&&clearTimeout(g.current);f.useEffect(()=>(v(),w),[]);const y=a||o;return l.jsx(ln,{className:J(s,"overflow-hidden relative"),ref:p,onPointerEnter:w,onPointerLeave:v,children:l.jsxs(I,{space:"m",items:"center",className:J(Me.y),children:[l.jsx(j,{className:J(m,oe.pill,"text-white gjs-p-1"),children:l.jsx(re,{icon:h,size:ie.s})}),l.jsx(j,{grow:!0,className:J("gjs-pr-3"),children:l.jsxs(I,{col:!0,space:"xs",children:[l.jsx(j,{className:J("text-lg font-medium leading-6"),children:t.header}),y&&l.jsx(j,{className:J(B.txtLowEmphasis),children:y}),!!c.length&&l.jsx(I,{space:"m",justify:"end",children:c.map(({id:C,...S})=>l.jsx(Be,{...S},C))})]})}),l.jsx(j,{className:J("absolute top-1 right-1"),children:l.jsx(bt,{onClick:b,border:!1,children:l.jsx(re,{icon:K.close,size:ie.s})})})]})})}),rA=se(f.forwardRef(function({className:t,toasts:n,onDismiss:r,...o},s){const a=ax({});return l.jsx("div",{className:J(t,"w-80 gs-utl-z-30"),...o,ref:a,children:n.map(i=>l.jsx(nA,{...i,className:J("gjs-mb-2"),onDismiss:r},i.uuid||i.id))})}));var Rl=(e=>(e.self="self",e.cloud="cloud",e))(Rl||{}),Eo=(e=>(e.image="image",e.video="video",e))(Eo||{}),Bn=(e=>(e.componentOutline="componentOutline",e.preview="preview",e.fullscreen="fullscreen",e.showCode="showCode",e.showImportCode="showImportCode",e.clearCanvas="clearCanvas",e.store="store",e.undo="undo",e.redo="redo",e))(Bn||{}),Ep=(e=>(e.topLeft="top-left",e.topCenter="top-center",e.topRight="top-right",e.bottomLeft="bottom-left",e.bottomCenter="bottom-center",e.bottomRight="bottom-right",e))(Ep||{}),Xm=(e=>(e.select="select",e.hover="hover",e.target="target",e.spacing="spacing",e))(Xm||{}),kt=(e=>(e.variable="data-variable",e.condition="data-condition",e.conditionTrue="data-condition-true-content",e.conditionFalse="data-condition-false-content",e.collection="data-collection",e.collectionItem="data-collection-item",e))(kt||{}),Jm=(e=>(e.text="text",e.number="number",e.color="color",e.selectFont="selectFont",e.select="select",e.radio="radio",e))(Jm||{}),Po=(e=>(e.left="left",e.right="right",e.top="top",e.bottom="bottom",e.center="center",e))(Po||{}),as=(e=>(e.popover="popover",e.absolute="absolute",e.static="static",e.dialog="dialog",e))(as||{}),Pe=(e=>(e.web="web",e.email="email",e.document="document",e.react="react",e))(Pe||{}),Rt=(e=>(e.components="Components",e.rte="Rich Text Editor",e.canvas="Canvas",e.layout="Layout",e.assetProviders="Asset Providers",e))(Rt||{}),zn=(e=>(e.dark="dark",e.light="light",e.auto="auto",e))(zn||{}),ec=(e=>(e.browser="browser",e.self="self",e.cloud="cloud",e))(ec||{});const Pp=()=>{const{baseApiUrl:e}=Fi();return`${e}/assets/sdk`},oA=e=>`${Pp()}/${e}`,sA=async(e,t,n)=>{const r=await cr.get(Pp(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((r==null?void 0:r.result)??[]).map(({asset:o,cdnUrl:s})=>({...o,size:parseInt(o.size),src:s}))},aA=async(e,t,n,r)=>{const o=await cr.post(Pp(),{body:JSON.stringify({fileMetadata:e,projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},iA=async(e,t)=>await cr.put(t,{body:e,rawText:!0}),lA=async(e,t,n,r)=>Promise.all(e.map(o=>aA({name:o.name,size:o.size,type:o.type},t,n,r).then(async s=>{if(!s)throw new Error("No asset");const{asset:a,cdnUrl:i,uploadUrl:c}=s,u=await iA(o,c);if(u instanceof Error)throw console.error(u),new Error("Upload failed");return{...a,size:parseInt(a.size),src:i,type:Eo.image}}))),cA=async(e,t,n,r)=>{const o=await cr.delete(oA(e),{body:JSON.stringify({projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},Qm=async(e,t,n,r)=>Promise.all(e.map(o=>cA(o.id||o.src,t,n,r)));function Zr(e,t,n){let r,o,s,a,i;const c=t===void 0?100:t;function u(){const p=Date.now()-a;p<c&&p>=0?r=setTimeout(u,c-p):(r=null,n||(i=e.apply(s,o),s=o=null))}const d=function(){s=this,o=arguments,a=Date.now();const p=n&&!r;return r||(r=setTimeout(u,c)),p&&(i=e.apply(s,o),s=o=null),i};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(i=e.apply(s,o),s=o=null,clearTimeout(r),r=null)},d}const ci=e=>e.replaceAll('"',"").replaceAll("'",""),is=e=>e.includes(",")?e:/\s/.test(e)?`'${ci(e)}'`:ci(e),Rm=(e,t,n)=>({family:e,variant:t,...n}),ui=(e,t)=>{e=is(e);const{menuVariant:n,variants:r}=t;return{family:e,familyLabel:ci(e),menuVariant:n&&Rm(is(`menuFont-${ci(e)}`),"regular",n),variants:Object.assign({},...Object.entries(r).map(([o,s])=>({[o]:Rm(e,o,s)})))}},Tp=(e,t)=>{var i;const n=ui(e.family,e),r=n.menuVariant??((i=Object.values(n.variants))==null?void 0:i[0]);if(!r)return"Arial, Helvetica, sans-serif";const{source:o,descriptors:s}=r,a=ci(r.family);if(!t){const c=new FontFace(a,`url("${o}")`,s),u=Array.from(document.fonts.values()).filter(d=>d.family===a);for(const d of u)document.fonts.delete(d);document.fonts.add(c),c.load().catch(()=>{})}return is(a)},xr=", sans-serif",eb=["Arial, Helvetica"+xr,"Arial Black, Gadget"+xr,"Brush Script MT"+xr,"Comic Sans MS, cursive"+xr,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+xr,"Impact, Charcoal"+xr,"Lucida Sans Unicode, Lucida Grande"+xr,"Tahoma, Geneva"+xr,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+xr,"Verdana, Geneva"+xr].map(e=>({id:e,label:e.split(",")[0]})),uA=String.raw,Xr=(e,t)=>{if(!t)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},dA=({family:e,source:t,descriptors:n})=>{const{display:r,ascentOverride:o,descentOverride:s,featureSettings:a,lineGapOverride:i,stretch:c,style:u,unicodeRange:d,weight:p}=n??{},g=[Xr`font-ascent-override: ${o};`,Xr`font-display: ${r};`,Xr`font-descent-override: ${s};`,Xr`font-feature-settings: ${a};`,Xr`font-line-gap-override: ${i};`,Xr`font-stretch: ${c};`,Xr`font-style: ${u};`,Xr`font-unicode-range: ${d};`,Xr`font-weight: ${p};`].filter(Boolean);return uA`
    @font-face {
      font-family: ${e};
      src: url('${t}');
      ${g.join(`
`)}
    }
  `},tb=(e={})=>{const t=Object.entries(e).map(([r,o])=>ui(r,o));let n="";for(const r of t)for(const o of Object.values(r.variants))n+=dA(o)+`
`;return n.trim()},Op="data-project-fonts",_p="true",pA=`${Op}="${_p}"`,nb=(e={})=>{const t=tb(e);return t?`<style ${pA}>
${t}
</style>`:""},fA=e=>e.sort((t,n)=>t.familyLabel<n.familyLabel?-1:t.familyLabel>n.familyLabel?1:0),gA=e=>e.sort((t,n)=>t.id<n.id?-1:t.id>n.id?1:0),rb=e=>!!e.id,ra=e=>t=>(t.tagName||"").toLowerCase()===e,Er=(...e)=>e.map(t=>`[data-gjs-type="${t}"]`).join(","),hA=(e,...t)=>{var n;return t.indexOf((n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase())>=0},oa=(e,...t)=>{var n;return!!e&&t.indexOf((n=e.tagName)==null?void 0:n.toLowerCase())>=0},To=(e,t)=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.contains(t)},di=(e,t)=>{var n;return!!((n=e==null?void 0:e.hasAttribute)!=null&&n.call(e,t))},pi=(e,t)=>{const n=e.Blocks.get(t);return n?n.collection.indexOf(n):-1},mA=e=>e.replace(/[^a-z0-9.]/gi,"_").toLowerCase(),Ap=(e,t,n="html")=>{const{Pages:r}=e,o=en({page:t,key:"slug"})??"";return`${r.getMain()===t?"index":xl(o||t.getName())}.${n}`},bA=(e,t)=>{const{toolbar:n}=e;n.some(o=>o.id===t.id)||(n.unshift(t),e.set("toolbar",[...n]))},tc="custom-html-body",nc="data-custom-html-body",ob="data-global-custom-html-head",sb="data-global-custom-html-body",ab="global",vA=function(e,t){const n=o=>{if(!o)return e.em.logError("loadGlobalHead: document not found");const s=Np(t.appStore);let a=o.querySelector(`[${ob}]`);a||(a=o.createElement("div"),a.setAttribute(ob,"true"),o.head.insertBefore(a,o.head.firstChild));const i=nb(s.fonts),c=s.customCodeHead,u=[i,c].filter(d=>!!d).join(`
`);a.innerHTML=u,n1(a)},r=o=>{if(!o)return e.em.logError("loadGlobalBody: document not found");const s=Np(t.appStore);let a=o.querySelector(`[${sb}]`);if(!a){a=o.createElement("div"),a.setAttribute(sb,"true");const i=o.querySelector('[data-gjs-type="wrapper"]');i==null||i.appendChild(a)}a.innerHTML=s.customCodeBody||"",n1(a)};e.on(e.Canvas.events.frameLoad,o=>{var s;return n((s=o.el.contentWindow)==null?void 0:s.document)}),e.on(e.Canvas.events.frameLoadBody,o=>{var s;return r((s=o.el.contentWindow)==null?void 0:s.document)}),e.on(on.pageSettingsUpdate,o=>{var a,i;if(o.page)return;const s=(i=(a=e.Canvas.getFrames()[0])==null?void 0:a.view)==null?void 0:i.getDoc();n(s),r(s)}),e.Components.addType(tc,{isComponent:o=>di(o,nc),model:{defaults:{attributes:{[nc]:!0},locked:!0,layerable:!1},toHTML:()=>""}}),e.on(e.events.projectLoad,()=>{const{appStore:o}=t,{globalPageSettings:s}=o.projectDataCustom;let a=(s==null?void 0:s.customCodeHead)||"",i=(s==null?void 0:s.customCodeBody)||"";e.Pages.getAll().forEach(c=>{const u=c.getMainComponent(),d=u.head.components(),p=[];d.forEach(m=>{m.has(ab)&&p.push(m)}),p.forEach(m=>{const b=m.toHTML();a.includes(b)||(a+=b),m.remove()});const g=[];u.findType(tc).forEach(m=>{m.has(ab)&&g.push(m)}),g.forEach(m=>{const b=m.getInnerHTML();i.includes(b)||(i+=b),m.remove()})}),(a||i)&&o.setProjectDataCustom({globalPageSettings:{...s,customCodeHead:a,customCodeBody:i}})})},fi="page://",rc="href-params__",yA=`data-gjs-${rc}`,oc=e=>{var t,n;return(n=(t=e==null?void 0:e.getMainComponent())==null?void 0:t.dataResolverProps)==null?void 0:n.path},sc=e=>!!oc(e),ib=e=>{const t=e.getDirtyCount()||0;e.em.set({changesCount:t+1},{})},wA=e=>!!(e!=null&&e.Components.getType("mjml")),lb=e=>sc(e)?K.database:Lp(e)?K.home:"",Mp=e=>!!e.getSymbolOverride()?l.jsx(re,{icon:K.rhombusOutline,size:ie.s3x}):l.jsx(fd,{className:N("gs-cmp-svg-icon gs-utl-w-[16px] gs-utl-fill-current"),svg:e.getIcon()}),cb=e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})},Lp=e=>{var t;return e&&e===((t=e.em.Pages)==null?void 0:t.getMain())},st={title:({cmp:e})=>e.tagName==="title",favicon:({cmp:e})=>{var t;return e.tagName==="link"&&((t=e.attributes.attributes)==null?void 0:t.rel)==="icon"},description:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="description"},keywords:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="keywords"},socialTitle:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:title"},socialImage:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:image"},socialDescription:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:description"},charset:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.charset)},viewport:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="viewport"},robots:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="robots"},generator:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="generator"}},ub=e=>{for(const t in st){const n=t;if(st[n]({cmp:e}))return n}},db=(e,t,n)=>{const r=[];let o=n;return e.getMainComponent().findType(tc).forEach(s=>{r.push(s),o=(o||"")+s.getInnerHTML()}),{components:r,html:o,changed:o!==t}},SA=(e,t)=>{const n={...t},r=e.getMainComponent(),{head:o}=r;if(o){const a=[],i=o.components();i.forEach(u=>{st.title({cmp:u})?(u.components(t.title),delete n.title):st.favicon({cmp:u})?(u.addAttributes({href:t.favicon}),delete n.favicon):st.description({cmp:u})?(u.addAttributes({content:t.description}),delete n.description):st.keywords({cmp:u})?(u.addAttributes({content:t.keywords}),delete n.keywords):st.socialTitle({cmp:u})?(u.addAttributes({content:t.socialTitle}),delete n.socialTitle):st.socialDescription({cmp:u})?(u.addAttributes({content:t.socialDescription}),delete n.socialDescription):st.socialImage({cmp:u})?(u.addAttributes({content:t.socialImage}),delete n.socialImage):ub(u)||a.push(u)});const c=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);c.head&&(i.remove(a),c.head.components&&i.add(c.head.components),delete n.customCodeHead)}const s=db(e,n.customCodeBody);if(s.changed){const[a,...i]=s.components;(a||r.append({type:tc})[0]).components(n.customCodeBody),i.forEach(u=>u.remove()),delete n.customCodeBody}return e.set("settings",n)},CA=(e,t={})=>{var s;const n={...e.get("settings")??{}},r=e.getMainComponent(),{head:o}=r;if(o){const a=[];o.components().forEach(i=>{const{content:c,href:u}=i.getAttributes({noClass:!0,noStyle:!0});st.title({cmp:i})?n.title=i.getInnerHTML():st.favicon({cmp:i})?n.favicon=u:st.description({cmp:i})?n.description=c:st.keywords({cmp:i})?n.keywords=c:st.socialTitle({cmp:i})?n.socialTitle=c:st.socialDescription({cmp:i})?n.socialDescription=c:st.socialImage({cmp:i})?n.socialImage=c:ub(i)||a.push(i.toHTML())}),a.length&&(n.customCodeHead=a.join(`
`))}if(n.customCodeBody=db(e,n.customCodeBody).html,t.replaceDataSources&&oc(e)){const{currentItem:a}=((s=r.getCollectionsState)==null?void 0:s.call(r))||{};a&&Object.keys(n).forEach(i=>{const c=i,u=n[c];et(u)&&(n[c]=pb(u,a))})}return n},pb=(e,t)=>e.replace(/\{\{\s*([a-zA-Z0-9_]+)\s*\}\}/g,(n,r)=>{const o=t[r.trim()];return o!==void 0?String(o):""}),fb=(e,t={})=>{const{currentItem:n}=t,r=t.ext??"html",o=en({page:e,key:"slug"})??"",s=n?pb(o,n):o,a=s.lastIndexOf("/"),i=a>=0,c=i?s.substring(a+1):s,u=i?s.substring(0,a):void 0,d=`${xl(c)}${r?`.${r}`:""}`;return{path:u,filename:d,fullPath:u?`${u}/${d}`:d}},xA=(e,t)=>e.get(`${rc}${t}`)||"",EA=(e,t,n)=>{e.set({[`${rc}${t}`]:n})},PA=(e,t)=>{Object.entries(t).forEach(([n,r])=>{e[`${yA}${n}`]=r})},TA=(e,t)=>{e.getModel().set("customData",{...sa(e),...t})},sa=e=>e.getModel().get("customData")??{},Np=e=>(e==null?void 0:e.projectDataCustom.globalPageSettings)??{},en=e=>{const{page:t,key:n,appEditorStore:r,def:o,defPage:s,opts:a}=e;return t?CA(t,a)[n]??s:Np(r)[n]??o},Oo=(e,t,n)=>{const r=e.em.getEditor(),s=sa(r).globalPageSettings||{};return en({page:e,key:t,opts:n})||s[t]},gb=(e,t)=>{const n=(e==null?void 0:e.getName())??"",r={page:e,appEditorStore:t,def:"",pageDef:""};return{name:n,slug:en({...r,key:"slug",defPage:xl(n)}),title:en({...r,key:"title",defPage:n}),description:en({...r,key:"description"}),favicon:en({...r,key:"favicon"}),keywords:en({...r,key:"keywords"}),socialTitle:en({...r,key:"socialTitle",defPage:n}),socialImage:en({...r,key:"socialImage"}),socialDescription:en({...r,key:"socialDescription"}),customCodeHead:en({...r,key:"customCodeHead"}),customCodeBody:en({...r,key:"customCodeBody"})}},hb=(e,t)=>{var n;return(n=e.Styles.getSectors().find(r=>!!r.getProperty(t)))==null?void 0:n.getProperty(t)},OA=(e,t,n)=>{const r=hb(e,t);return r==null?void 0:r.getProperty(n)};class mb{constructor(t,n){this.assetsStore=t,this.layoutPanelId=n,this.itemLayout=void 0,this.isLoadingAssets=!1,this.typeFilter=void 0,this.searchValue="",this.customTypes=void 0,this.customProviders=void 0,this.providerFilter=void 0,this.customAssetProps=void 0,this.customPages=void 0,this.totalItems=void 0,this.optionalType=!1,this.optionalProvider=!0,Qt(this,{},{autoBind:!0}),this.initTypeFilter(),this.initProviderFilter(),this.initOptionalType(),this.loadAssetsDebounced=Zr(this.loadAssets,this.searchDebounceMs)}get typeFilterOptions(){return this.customTypes??[]}get providers(){return this.assetsStore.allProviders.map(t=>({...t,types:Array.isArray(t.types)?t.types:[t.types]}))}get providerFilterOptions(){return this.providers.filter(t=>(!this.typeFilter||t.types.includes(this.typeFilter))&&(!this.customProviders||this.customProviders.includes(t.id)))}get provider(){return this.providers.find(t=>t.id===this.providerFilter)}get assetPropsFromPages(){if(!this.customPages)return;const t=[];for(const n of this.customPages)t.push(...n.items);return t}get assetProps(){if(!!!this.assetPropsFromPages&&this.isLoadingAssets)return[];const n=this.customAssetProps??this.assetPropsFromPages??this.assetsStore.projectAssetProps??[];return this.typeFilter?n.filter(r=>r.type===this.typeFilter):n}get onProviderOrProjectDelete(){const{provider:t,assetsStore:n}=this;return t?t.onDelete:n.onProjectDelete}get t(){return this.assetsStore.t}get isLoading(){return this.assetsStore.isLoadingAssets||this.isLoadingAssets}get handleDelete(){return this.onProviderOrProjectDelete&&this.handleDeleteCallback}get shouldLoadNextPage(){var n;const t=(n=this.customPages)==null?void 0:n.at(-1);return t?!t.isLastPage:!1}get reloadOnInput(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.reloadOnInput)??!1}get searchDebounceMs(){var t,n;return((n=(t=this.provider)==null?void 0:t.search)==null?void 0:n.debounceMs)??1e3}initOptionalType(){this.setOptionalType(!1)}initOptionalProvider(){var t;this.setOptionalProvider(!!(((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.projectAssetsOption)??!0))}initTypeFilter(){this.setTypeFilter(Eo.image)}initProviderFilter(){var t;this.setProviderFilter((t=this.assetsStore.sdkAssetConfig)==null?void 0:t.providerId)}setOptionalType(t){this.optionalType=t}setOptionalProvider(t){this.optionalProvider=t}setTypeFilter(t){this.typeFilter=t}setProviderFilter(t){this.providerFilter=t}setSearchValue(t){this.searchValue=t,this.reloadOnInput&&this.loadAssetsDebounced()}setCustomTypes(t){this.customTypes=t}setCustomProviders(t){this.customProviders=t}setCustomAssetProps(t){this.customAssetProps=t}setCustomPages(t){this.customPages=t}setItemLayout(t){this.itemLayout=t}setIsLoadingAssets(t){this.isLoadingAssets=t}selectProjectAssets(){this.setCustomAssetProps(void 0),this.setCustomPages(void 0),this.setItemLayout(void 0)}async loadProviderAssets(t){var i,c,u,d;const{assetsStore:n}=this,{editor:r}=n;if(!r||!this.provider)return;t&&(this.setCustomAssetProps(void 0),this.setCustomPages(void 0));const o=((i=this.customPages)==null?void 0:i.length)??0,s=(u=(c=this.customPages)==null?void 0:c.at(-1))==null?void 0:u.nextPageCustomData,a=await this.provider.onLoad({editor:r,assetTypeFilter:this.typeFilter,pageIndex:o,searchValue:this.searchValue,pageCustomData:s})??[];if(Array.isArray(a)){const p=a.map(n.toAssetProps);this.setCustomAssetProps(p)}else{const p={...a,items:a.items.map(n.toAssetProps)};this.setCustomPages([...this.customPages??[],p])}this.setItemLayout((d=this.provider)==null?void 0:d.itemLayout)}async loadAssets(t=!0){const{assetsStore:n}=this,{toastStore:r}=n.store;try{this.provider?(this.setIsLoadingAssets(!0),await this.loadProviderAssets(t)):this.selectProjectAssets()}catch(o){console.error(o),r.addError("assets-error-get",this.t("errorLoad"))}finally{this.setIsLoadingAssets(!1)}}async reloadAssets(t){const{assetsStore:n}=this,{cachedOnLoadAssetProps:r}=n;await this.loadAssets(t==null?void 0:t.clearExisting),!this.provider&&r&&(n.cachedOnLoadAssetProps=void 0,await n.loadProjectAssets())}async handleDeleteCallback(t){const{assetsStore:n,onProviderOrProjectDelete:r}=this,{appEditorStore:o}=n.store,{editor:s}=o;if(!(!s||!r))try{n.setIsLoadingAssets(!0),await r({assets:[n.toAsset(t)],assetProps:[t],editor:s,loadAssets:a=>this.reloadAssets(a)})}catch(a){console.error(a),n.store.toastStore.addError("assets-error-delete",{header:this.t("errorDelete"),content:a==null?void 0:a.message})}finally{n.setIsLoadingAssets(!1)}}}const bb=e=>Bt().assetsStore.assetPanelStores[e];class _A{constructor(t){this.store=t,this.isLoadingAssets=!1,this.mainPanelId=`main-${s1()}`,this.assetPanelStores={},this.cachedOnLoadAssetProps=void 0,this.projectAssetProps=void 0,this.allProviders=[],this.assetPanelStores[this.mainPanelId]=new mb(this,this.mainPanelId),this.setAllProviders(this.isUsingAssetCloud?[this.userProvider]:[]),Qt(this,{},{autoBind:!0})}get sdkAssetConfig(){return this.store.appEditorStore.sdkOptions.assets}get isUsingAssetCloud(){var t;return((t=this.sdkAssetConfig)==null?void 0:t.storageType)===Rl.cloud}get storageType(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.storageType}get isSelfStorage(){return this.storageType===Rl.self}get editor(){return this.store.appEditorStore.editor}get customOnLoad(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onLoad}get customOnDelete(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onDelete}get customOnUpload(){var t;return(t=this.sdkAssetConfig)==null?void 0:t.onUpload}get onCloudOrCustomUpload(){const{appEditorStore:t}=this.store,{sdkProps:n}=t,o=n.options.licenseKey,s=t.sdkProjectId,a=t.sdkIdentityId,i=({files:c})=>lA(c,o,s,a);return this.isUsingAssetCloud?i:this.customOnUpload}get onProjectDelete(){const{customOnDelete:t,isSelfStorage:n,isUsingAssetCloud:r}=this;return n?t?async o=>{await t(o),this.deleteFromProjectAssets(o)}:void 0:r?async o=>{var c,u;const{sdkOptions:s}=this.store.appEditorStore,a=(c=s.project)==null?void 0:c.id,i=(u=s.identity)==null?void 0:u.id;await Qm(o.assetProps,s.licenseKey,a,i),this.deleteFromProjectAssets(o)}:this.deleteFromProjectAssets}get t(){return this.store.i18nStore.tScoped("assetManager")}get userProvider(){var i,c;const{appEditorStore:t}=this.store,{sdkOptions:n}=t,r=(i=n.project)==null?void 0:i.id,o=(c=n.identity)==null?void 0:c.id,s=n.licenseKey;return{id:"grapesjs-user-provider",label:()=>this.t("userAssets"),types:Eo.image,onLoad:()=>sA(s,r,o),onDelete:async u=>{const{assetProps:d,loadAssets:p}=u;await Qm(d,s,r,o),this.deleteFromProjectAssets(u),await p({clearExisting:!1})}}}onEditor(){const t=Zr(()=>!this.loadProjectAssets()),n=this.store.appEditorStore.editor;this.addSdkProviders();const r=n.Assets.events.all;n.on(r,t),this.loadProjectAssets()}addSdkProviders(){var r;const t=((r=this.sdkAssetConfig)==null?void 0:r.providers)??[],n=Xe(t)?t({providers:po(this.allProviders)}):[...this.allProviders,...t];this.setAllProviders(n)}addProvider(t,n=this.allProviders.length){const r=[...this.allProviders];let o=this.allProviders.findIndex(a=>a.id===t.id);const s=o!==-1;r.splice(n,0,t),s&&(o>=n&&(o+=1),r.splice(o,1)),this.setAllProviders(r)}hasType(t){return!!this.allProviders.find(n=>et(n.types)?n.types===t:n.types.includes(t))}createAssetManager(t){const n=new mb(this,t);this.assetPanelStores[t]=n}removeAssetManager(t){delete this.assetPanelStores[t]}async loadProjectAssets(){const{editor:t,isSelfStorage:n,cachedOnLoadAssetProps:r,customOnLoad:o}=this,{toastStore:s}=this.store;let a;if(t){try{if(this.setIsLoadingAssets(!0),n&&o)if(r)a=r;else{const i=await o({editor:t});this.cachedOnLoadAssetProps=i.map(this.toAssetProps),a=this.cachedOnLoadAssetProps}else a=t.Assets.getAll().map(this.toAssetProps)}catch(i){console.error(i),s.addError("assets-error-load",{header:this.t("errorLoad"),content:i==null?void 0:i.message})}finally{this.setIsLoadingAssets(!1)}a&&this.setProjectAssetProps(a)}}deleteFromProjectAssets({assets:t,editor:n,assetProps:r}){const{cachedOnLoadAssetProps:o,customOnLoad:s}=this;if(s){if(o){const a=r.map(i=>i.id);this.cachedOnLoadAssetProps=o.filter(({id:i})=>!a.includes(i)),this.setProjectAssetProps(this.cachedOnLoadAssetProps)}}else t.forEach(a=>n.Assets.remove(a)),ib(n)}addToProjectAssets(t){const n=this.store.appEditorStore.editor,{cachedOnLoadAssetProps:r,customOnLoad:o}=this;o?r&&(this.cachedOnLoadAssetProps=[...t,...r],this.setProjectAssetProps(this.cachedOnLoadAssetProps)):(n.Assets.add(t),ib(n))}async handleUpload(t){var s,a;const{editor:n,onCloudOrCustomUpload:r}=this,{toastStore:o}=this.store;if(!(!n||!r))try{this.setIsLoadingAssets(!0);const i=((s=t.dataTransfer)==null?void 0:s.files)||((a=t.target)==null?void 0:a.files)||[],c=Array.from(i),u=await r({files:c,editor:n});if(u!=null&&u.length){const d=u.map(this.toAssetProps);return this.addToProjectAssets(d),d}else console.warn("No assets returned from the upload handler. Ensure to return an array of assets.")}catch(i){console.error(i),o.addError("assets-error-upload",{header:this.t("errorUpload"),content:i==null?void 0:i.message})}finally{this.setIsLoadingAssets(!1)}}uploadFile(t){var n;return(n=this.editor)==null?void 0:n.Assets.FileUploader().uploadFile(t)}isAsset(t){return!!t.getSrc}toAssetProps(t){if(this.isAsset(t)){const r=t;return{...r.attributes,id:r.attributes.id||r.getSrc(),src:r.getSrc(),name:r.attributes.name??r.getFilename(),type:r.attributes.type??r.getType()??Eo.image,asset:r}}return{...t,type:t.type||Eo.image,id:t.id||t.src}}toAsset(t){const{editor:n}=this.store.appEditorStore;if(n)return t.asset??new n.AssetManager.Asset(t)}setProjectAssetProps(t){this.projectAssetProps=t}setIsLoadingAssets(t){this.isLoadingAssets=t}setAllProviders(t){this.allProviders=t}}const ls=()=>Bt().assetsStore;class AA{constructor(t){var r;this.store=t,this.fonts={},Qt(this,{},{autoBind:!0});const n=(r=this.sdkFontOptions)==null?void 0:r.default;this.sdkDefaultFonts=Xe(n)?n({baseDefault:eb}):n}get staticFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.map(t=>et(t)?{id:t,label:t}:rb(t)?t:null).filter(t=>!!t):eb}get defaultWebFonts(){return this.sdkDefaultFonts?this.sdkDefaultFonts.filter(n=>!et(n)&&!rb(n)).map(n=>ui(n.family,n)):[]}get sortedFonts(){return fA(Object.values(this.fonts))}get fontFamilyOptions(){const t=n=>({id:n.family,label:n.familyLabel});return gA([...this.staticFonts,...Object.values(this.fonts).map(t)])}get sdkFontOptions(){return this.store.appEditorStore.sdkOptions.fonts}get enableFontManager(){var t;return(t=this.sdkFontOptions)==null?void 0:t.enableFontManager}get sdkShowProjectFonts(){const{showProjectFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Mt(t)?t:n}get sdkAddFonts(){const{addFonts:t,enableFontManager:n}=this.sdkFontOptions||{};return Mt(t)?t:n}loadFonts(){this.loadProjectFonts(),this.loadDefaultFonts()}loadProjectFonts(){const{editor:t}=this.store.appEditorStore;if(!t)return;const{globalPageSettings:n}=sa(t)??{},{fonts:r}=n??{};if(r)for(const[o,s]of Object.entries(r)){const a=ui(o,s);this.addFont(a,{skipUpdate:!0})}}loadDefaultFonts(){const{editor:t}=this.store.appEditorStore;if(t)for(const n of this.defaultWebFonts)this.addFont(n,{overwrite:!1,skipUpdate:!0})}getFont(t){return t=is(t),this.fonts[t]}addFont(t,{skipUpdate:n,overwrite:r=!0}={}){const o=ui(t.family,t),{editor:s}=this.store.appEditorStore;if(!s)return;const{family:a}=o;!r&&this.fonts[a]||(this.fonts[a]=o,n||this.updateProjectFonts(s))}removeFont(t){t=is(t);const{editor:n}=this.store.appEditorStore;n&&(delete this.fonts[t],this.updateProjectFonts(n))}updateProjectFonts(t){const r={...sa(t).globalPageSettings,fonts:po(this.fonts)};this.store.appEditorStore.setProjectDataCustom({globalPageSettings:r}),cb(t),t.trigger(on.pageSettingsUpdate,{data:r})}}const gi=()=>Bt().fontsStore;class MA{constructor(t){this.store=t,Qt(this,{},{autoBind:!0})}t(t,n={}){var o;const{editor:r}=this.store.appEditorStore;return((o=r==null?void 0:r.I18n)==null?void 0:o.t(t,n))||""}tScoped(t){return(n,r)=>this.t(`${t}.${n}`,r)}}const Ce=()=>Bt().i18nStore,cn=(e,t)=>f.Children.map(e,n=>n&&n.type===t?n:null),vb="gs-custom-layout",LA=f.forwardRef(function({className:t,component:n,noWrapper:r,id:o,render:s,...a},i){const{editor:c}=ge(),u=f.useRef(null),d=n,p=d&&c?l.jsx(d,{editor:c}):null,g=N(vb,o&&`${vb}__${o}`,t),h=r&&!s;return f.useImperativeHandle(i,()=>u.current,[]),f.useEffect(()=>{const m=u.current;if(!s||!m)return;const b=y=>m.appendChild(y),v=y=>m.removeChild(y),w=s({editor:c,addEl:b,removeEl:v});if(et(w))m.innerHTML=w;else{if(w instanceof HTMLElement)return b(w),()=>{v(w)};if(Xe(w))return()=>{w()}}},[s,c,u.current]),h?p:l.jsx("div",{className:g,ref:u,...a,children:p})}),ac=se(LA);class NA{constructor(t){this.customConfig=void 0,this.layouts=[],this.layoutsById=new Map,this.store=t,Qt(this,{},{autoBind:!0,deep:!1})}get editor(){return this.store.appEditorStore.editor}setCustomConfig(t){this.customConfig=t}add(t,n){var r;this.get(t)||(this.layouts=[...this.layouts,{id:t,...n}],(r=this.editor)==null||r.trigger(`${on.layoutToggleId}${t}`,{isOpen:!0}))}remove(t,n){var o;const r=n==null?void 0:n.layout;r&&this.layouts.forEach(s=>{s.id===t&&Object.assign(s,r)}),this.layouts=n!=null&&n.force?this.layouts.filter(s=>s.id!==t):this.layouts.map(s=>s.id===t?{...s,toRemove:!0}:s),(o=this.editor)==null||o.trigger(`${on.layoutToggleId}${t}`,{isOpen:!1})}get(t){return this.layouts.find(n=>n.id===t)}clear(){this.layouts=[]}get layoutChildren(){var r;const{children:t}=this.store.appEditorStore.sdkProps,n=((r=cn(t,ac))==null?void 0:r.filter(Boolean))||[];return new Map(n.map(({props:o})=>[o.id,o]))}}const kp=()=>Bt().layoutStore,kA=()=>Wc().layoutStore;class $A{constructor(t){this.isActive=!1,this.content="",this.store=t,Qt(this,{},{autoBind:!0})}show(t){this.isActive=!0,this.content=t}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const yb=()=>Bt().pointerBadgeStore;var aa=(e=>(e.Projects="projects",e.Settings="settings",e))(aa||{}),wb=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))(wb||{});const Sb={},IA=1,VA=(e={})=>new Promise((t,n)=>{const r=(e==null?void 0:e.db)||"gjs",o=r==="gjs-studio"?IA:1,s=Sb[r];if(s)t(s);else{if(!hr())return n(new Error("window context not found"));const a=window.indexedDB.open(r,o);a.onerror=n,a.onsuccess=()=>{const i=a.result;i.onerror=n,Sb[r]=i,t(i)},a.onupgradeneeded=()=>{const i=a.result;i.objectStoreNames.contains("projects")||i.createObjectStore("projects"),i.objectStoreNames.contains("settings")||i.createObjectStore("settings")}}}),ic=async(e,t)=>(await VA(t)).transaction([e],"readwrite").objectStore(e),jA=async(e,t)=>{const n=await ic(e,t);return new Promise((r,o)=>{const s=[],a=n.openCursor();a.onerror=o,a.onsuccess=function(i){const u=i.target.result;if(u){const d=u.primaryKey,p=u.value;s.push({key:d,data:p}),u.continue()}else r(s)}})},HA=async(e,t,n)=>{const r=await ic(e,n);return new Promise((o,s)=>{const a=r.get(t);a.onerror=s,a.onsuccess=()=>o(a.result)})},Cb=async(e,t,n,r)=>{const o=await ic(e,r);return new Promise((s,a)=>{const i=o.put(n,t);i.onerror=a,i.onsuccess=()=>s()})},DA=async(e,t,n)=>{const r=await ic(e,n);return new Promise((o,s)=>{const a=r.delete(t);a.onerror=s,a.onsuccess=()=>o()})};var hi=(e=>(e.Existing="existing",e.Templates="templates",e))(hi||{});const FA=e=>{const t=T8();return`${(t==null?void 0:t.baseApiUrl)||"/api"}/templates/${e}`},BA=(e,t)=>cr.get(FA(e),{...t}),zA=async e=>{try{const t=await BA(e);return(t==null?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}},xb=async(e=Pe.web)=>typeof window>"u"?[]:(await jA(aa.Projects)).map(({key:r,data:o})=>{var s;return{id:`${r}`,name:`${((s=o.custom)==null?void 0:s.projectName)||r}`,data:o}}).filter(r=>{var o;return((o=r.data.custom)==null?void 0:o.projectType)===e});class UA{constructor(t){this.store=t,this._projectSourceFilter=hi.Existing,this._loadedProjects=void 0,this._loadedTemplates=void 0,this._projectTypeFilter=t.appEditorStore.projectType,Qt(this,{},{autoBind:!0})}get projectTypeFilter(){return this._projectTypeFilter}get projectSourceFilter(){return this._projectSourceFilter}get templates(){return this._loadedTemplates}get projects(){return this._loadedProjects}get filteredTemplates(){return this.projectSourceFilter===hi.Existing?this.projects:this.templates}async loadProjects(){const t=await xb(this.projectTypeFilter);this.setProjects(t)}async loadTemplates(){var o;const t=(o=this.store.appEditorStore.sdkOptions.templates)==null?void 0:o.onLoad,n=async()=>await zA(this.projectTypeFilter);let r;if(t){const s=this.store.appEditorStore.editor;r=await t({editor:s,fetchCommunityTemplates:n})}else r=await n();this.setTemplates(r)}async loadAllTemplates(){await Promise.all([this.loadProjects(),this.loadTemplates()])}async removeProject(t){DA(aa.Projects,t)}async setProjectTypeFilter(t){this._projectTypeFilter=t,this.setProjects(void 0),this.setTemplates(void 0)}setProjectSourceFilter(t){this._projectSourceFilter=t}setTemplates(t){this._loadedTemplates=t}setProjects(t){this._loadedProjects=t}}const Eb=()=>Bt().templatesStore;class WA{constructor(t){this.toasts=[],this.store=t,Qt(this,{},{autoBind:!0})}add(t,n){this.toasts.find(r=>r.id===t)||this.toasts.push({id:t,...n})}addError(t,n){this.add(t,{...et(n)?{header:n}:n,variant:Kt.Error})}addWarning(t,n){this.add(t,{...et(n)?{header:n}:n,variant:Kt.Warning})}addSuccess(t,n){this.add(t,{...et(n)?{header:n}:n,variant:Kt.Success})}addInfo(t,n){this.add(t,{...et(n)?{header:n}:n,variant:Kt.Info})}remove(t){this.toasts=this.toasts.filter(n=>n.id!==t)}}const Pb=()=>Bt().toastStore;class GA{constructor(t){this.isOpen=!1,this.store=t,Qt(this,{},{autoBind:!0})}setOpen(t){this.isOpen=t,this.triggerEvent()}toggleOpen(){this.isOpen=!this.isOpen,this.triggerEvent()}triggerEvent(){var t;(t=this.store.appEditorStore.editor)==null||t.trigger(on.toggleBlocksPanel,{isOpen:this.isOpen})}}const Tb=()=>Bt().blockManagerStore,Ob=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",KA=Ob+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",qA="["+Ob+"]["+KA+"]*",YA=new RegExp("^"+qA+"$");function _b(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[];o.startIndex=t.lastIndex-r[0].length;const s=r.length;for(let a=0;a<s;a++)o.push(r[a]);n.push(o),r=t.exec(e)}return n}const lc=function(e){const t=YA.exec(e);return!(t===null||typeof t>"u")};function ZA(e){return typeof e<"u"}const XA={allowBooleanAttributes:!1,unpairedTags:[]};function JA(e,t){t=Object.assign({},XA,t);const n=[];let r=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=Mb(e,s),s.err)return s}else if(e[s]==="<"){let a=s;if(s++,e[s]==="!"){s=Lb(e,s);continue}else{let i=!1;e[s]==="/"&&(i=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!s4(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",xt("InvalidTag",p,tn(e,s))}const u=e4(e,s);if(u===!1)return xt("InvalidAttr","Attributes for '"+c+"' have open quote.",tn(e,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){const p=s-d.length;d=d.substring(0,d.length-1);const g=Nb(d,t);if(g===!0)r=!0;else return xt(g.err.code,g.err.msg,tn(e,p+g.err.line))}else if(i)if(u.tagClosed){if(d.trim().length>0)return xt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",tn(e,a));if(n.length===0)return xt("InvalidTag","Closing tag '"+c+"' has not been opened.",tn(e,a));{const p=n.pop();if(c!==p.tagName){let g=tn(e,p.tagStartPos);return xt("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+c+"'.",tn(e,a))}n.length==0&&(o=!0)}}else return xt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",tn(e,s));else{const p=Nb(d,t);if(p!==!0)return xt(p.err.code,p.err.msg,tn(e,s-d.length+p.err.line));if(o===!0)return xt("InvalidXml","Multiple possible root nodes found.",tn(e,s));t.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:a}),r=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Lb(e,s);continue}else if(e[s+1]==="?"){if(s=Mb(e,++s),s.err)return s}else break;else if(e[s]==="&"){const p=r4(e,s);if(p==-1)return xt("InvalidChar","char '&' is not expected.",tn(e,s));s=p}else if(o===!0&&!Ab(e[s]))return xt("InvalidXml","Extra text at the end",tn(e,s));e[s]==="<"&&s--}}else{if(Ab(e[s]))continue;return xt("InvalidChar","char '"+e[s]+"' is not expected.",tn(e,s))}if(r){if(n.length==1)return xt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",tn(e,n[0].tagStartPos));if(n.length>0)return xt("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return xt("InvalidXml","Start tag expected.",1);return!0}function Ab(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Mb(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return xt("InvalidXml","XML declaration allowed only at the start of the document.",tn(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Lb(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const QA='"',RA="'";function e4(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if(e[t]===QA||e[t]===RA)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){o=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:o}}const t4=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Nb(e,t){const n=_b(e,t4),r={};for(let o=0;o<n.length;o++){if(n[o][1].length===0)return xt("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",mi(n[o]));if(n[o][3]!==void 0&&n[o][4]===void 0)return xt("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",mi(n[o]));if(n[o][3]===void 0&&!t.allowBooleanAttributes)return xt("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",mi(n[o]));const s=n[o][2];if(!o4(s))return xt("InvalidAttr","Attribute '"+s+"' is an invalid name.",mi(n[o]));if(!r.hasOwnProperty(s))r[s]=1;else return xt("InvalidAttr","Attribute '"+s+"' is repeated.",mi(n[o]))}return!0}function n4(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function r4(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,n4(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function xt(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function o4(e){return lc(e)}function s4(e){return lc(e)}function tn(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function mi(e){return e.startIndex+e[1].length}const a4={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1},i4=function(e){return Object.assign({},a4,e)};let cc;typeof Symbol!="function"?cc="@@xmlMetadata":cc=Symbol("XML Node Metadata");class cs{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t,n){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),n!==void 0&&(this.child[this.child.length-1][cc]={startIndex:n})}static getMetaDataSymbol(){return cc}}class l4{constructor(t){this.suppressValidationErr=!t}readDocType(t,n){const r={};if(t[n+3]==="O"&&t[n+4]==="C"&&t[n+5]==="T"&&t[n+6]==="Y"&&t[n+7]==="P"&&t[n+8]==="E"){n=n+9;let o=1,s=!1,a=!1,i="";for(;n<t.length;n++)if(t[n]==="<"&&!a){if(s&&us(t,"!ENTITY",n)){n+=7;let c,u;[c,u,n]=this.readEntityExp(t,n+1,this.suppressValidationErr),u.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:u})}else if(s&&us(t,"!ELEMENT",n)){n+=8;const{index:c}=this.readElementExp(t,n+1);n=c}else if(s&&us(t,"!ATTLIST",n))n+=8;else if(s&&us(t,"!NOTATION",n)){n+=9;const{index:c}=this.readNotationExp(t,n+1,this.suppressValidationErr);n=c}else if(us(t,"!--",n))a=!0;else throw new Error("Invalid DOCTYPE");o++,i=""}else if(t[n]===">"){if(a?t[n-1]==="-"&&t[n-2]==="-"&&(a=!1,o--):o--,o===0)break}else t[n]==="["?s=!0:i+=t[n];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:n}}readEntityExp(t,n){n=un(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n])&&t[n]!=='"'&&t[n]!=="'";)r+=t[n],n++;if(bi(r),n=un(t,n),!this.suppressValidationErr){if(t.substring(n,n+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[n]==="%")throw new Error("Parameter entities are not supported")}let o="";return[n,o]=this.readIdentifierVal(t,n,"entity"),n--,[r,o,n]}readNotationExp(t,n){n=un(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;!this.suppressValidationErr&&bi(r),n=un(t,n);const o=t.substring(n,n+6).toUpperCase();if(!this.suppressValidationErr&&o!=="SYSTEM"&&o!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);n+=o.length,n=un(t,n);let s=null,a=null;if(o==="PUBLIC")[n,s]=this.readIdentifierVal(t,n,"publicIdentifier"),n=un(t,n),(t[n]==='"'||t[n]==="'")&&([n,a]=this.readIdentifierVal(t,n,"systemIdentifier"));else if(o==="SYSTEM"&&([n,a]=this.readIdentifierVal(t,n,"systemIdentifier"),!this.suppressValidationErr&&!a))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:a,index:--n}}readIdentifierVal(t,n,r){let o="";const s=t[n];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(n++;n<t.length&&t[n]!==s;)o+=t[n],n++;if(t[n]!==s)throw new Error(`Unterminated ${r} value`);return n++,[n,o]}readElementExp(t,n){n=un(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;if(!this.suppressValidationErr&&!lc(r))throw new Error(`Invalid element name: "${r}"`);n=un(t,n);let o="";if(t[n]==="E"&&us(t,"MPTY",n))n+=4;else if(t[n]==="A"&&us(t,"NY",n))n+=2;else if(t[n]==="("){for(n++;n<t.length&&t[n]!==")";)o+=t[n],n++;if(t[n]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[n]}"`);return{elementName:r,contentModel:o.trim(),index:n}}readAttlistExp(t,n){n=un(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;bi(r),n=un(t,n);let o="";for(;n<t.length&&!/\s/.test(t[n]);)o+=t[n],n++;if(!bi(o))throw new Error(`Invalid attribute name: "${o}"`);n=un(t,n);let s="";if(t.substring(n,n+8).toUpperCase()==="NOTATION"){if(s="NOTATION",n+=8,n=un(t,n),t[n]!=="(")throw new Error(`Expected '(', found "${t[n]}"`);n++;let i=[];for(;n<t.length&&t[n]!==")";){let c="";for(;n<t.length&&t[n]!=="|"&&t[n]!==")";)c+=t[n],n++;if(c=c.trim(),!bi(c))throw new Error(`Invalid notation name: "${c}"`);i.push(c),t[n]==="|"&&(n++,n=un(t,n))}if(t[n]!==")")throw new Error("Unterminated list of notations");n++,s+=" ("+i.join("|")+")"}else{for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;const i=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!i.includes(s.toUpperCase()))throw new Error(`Invalid attribute type: "${s}"`)}n=un(t,n);let a="";return t.substring(n,n+8).toUpperCase()==="#REQUIRED"?(a="#REQUIRED",n+=8):t.substring(n,n+7).toUpperCase()==="#IMPLIED"?(a="#IMPLIED",n+=7):[n,a]=this.readIdentifierVal(t,n,"ATTLIST"),{elementName:r,attributeName:o,attributeType:s,defaultValue:a,index:n}}}const un=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function us(e,t,n){for(let r=0;r<t.length;r++)if(t[r]!==e[n+r+1])return!1;return!0}function bi(e){if(lc(e))return e;throw new Error(`Invalid entity name ${e}`)}const c4=/^[-+]?0x[a-fA-F0-9]+$/,u4=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,d4={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function p4(e,t={}){if(t=Object.assign({},d4,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&c4.test(n))return m4(n,16);if(n.search(/.+[eE].+/)!==-1)return g4(e,n,t);{const r=u4.exec(n);if(r){const o=r[1]||"",s=r[2];let a=h4(r[3]);const i=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!i))return e;{const c=Number(n),u=String(c);if(c===0)return c;if(u.search(/[eE]/)!==-1)return t.eNotation?c:e;if(n.indexOf(".")!==-1)return u==="0"||u===a||u===`${o}${a}`?c:e;let d=s?a:n;return s?d===u||o+d===u?c:e:d===u||d===o+u?c:e}}else return e}}const f4=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function g4(e,t,n){if(!n.eNotation)return e;const r=t.match(f4);if(r){let o=r[1]||"";const s=r[3].indexOf("e")===-1?"E":"e",a=r[2],i=o?e[a.length+1]===s:e[a.length]===s;return a.length>1&&i?e:a.length===1&&(r[3].startsWith(`.${s}`)||r[3][0]===s)?Number(t):n.leadingZeros&&!i?(t=(r[1]||"")+r[3],Number(t)):e}else return e}function h4(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function m4(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function kb(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class b4{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=v4,this.parseXml=x4,this.parseTextData=y4,this.resolveNameSpace=w4,this.buildAttributesMap=C4,this.isItStopNode=O4,this.replaceEntitiesValue=P4,this.readStopNodeData=A4,this.saveTextToParentTag=T4,this.addChild=E4,this.ignoreAttributesFn=kb(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let n=0;n<this.options.stopNodes.length;n++){const r=this.options.stopNodes[n];typeof r=="string"&&(r.startsWith("*.")?this.stopNodesWildcard.add(r.substring(2)):this.stopNodesExact.add(r))}}}}function v4(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function y4(e,t,n,r,o,s,a){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const i=this.options.tagValueProcessor(t,e,n,o,s);return i==null?e:typeof i!=typeof e||i!==e?i:this.options.trimValues?Ip(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Ip(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function w4(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const S4=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function C4(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=_b(e,S4),o=r.length,s={};for(let a=0;a<o;a++){const i=this.resolveNameSpace(r[a][1]);if(this.ignoreAttributesFn(i,t))continue;let c=r[a][4],u=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const d=this.options.attributeValueProcessor(i,c,t);d==null?s[u]=c:typeof d!=typeof c||d!==c?s[u]=d:s[u]=Ip(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const a={};return a[this.options.attributesGroupName]=s,a}return s}}const x4=function(e){e=e.replace(/\r\n?/g,`
`);const t=new cs("!xml");let n=t,r="",o="";const s=new l4(this.options.processEntities);for(let a=0;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="/"){const c=ds(e,">",a,"Closing Tag is not closed.");let u=e.substring(a+2,c).trim();if(this.options.removeNSPrefix){const g=u.indexOf(":");g!==-1&&(u=u.substr(g+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&(r=this.saveTextToParentTag(r,n,o));const d=o.substring(o.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let p=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),n=this.tagsNodeStack.pop(),r="",a=c}else if(e[a+1]==="?"){let c=$p(e,a,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){const u=new cs(c.tagName);u.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(u[":@"]=this.buildAttributesMap(c.tagExp,o,c.tagName)),this.addChild(n,u,o,a)}a=c.closeIndex+1}else if(e.substr(a+1,3)==="!--"){const c=ds(e,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(a+4,c-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}a=c}else if(e.substr(a+1,2)==="!D"){const c=s.readDocType(e,a);this.docTypeEntities=c.entities,a=c.i}else if(e.substr(a+1,2)==="!["){const c=ds(e,"]]>",a,"CDATA is not closed.")-2,u=e.substring(a+9,c);r=this.saveTextToParentTag(r,n,o);let d=this.parseTextData(u,n.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):n.add(this.options.textNodeName,d),a=c+2}else{let c=$p(e,a,this.options.removeNSPrefix),u=c.tagName;const d=c.rawTagName;let p=c.tagExp,g=c.attrExpPresent,h=c.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,o,!1));const m=n;m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),u!==t.tagname&&(o+=o?"."+u:u);const b=a;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,o,u)){let v="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),p=u):p=p.substr(0,p.length-1),a=c.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)a=c.closeIndex;else{const y=this.readStopNodeData(e,d,h+1);if(!y)throw new Error(`Unexpected end of ${d}`);a=y.i,v=y.tagContent}const w=new cs(u);u!==p&&g&&(w[":@"]=this.buildAttributesMap(p,o,u)),v&&(v=this.parseTextData(v,u,o,!0,g,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),w.add(this.options.textNodeName,v),this.addChild(n,w,o,b)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),p=u):p=p.substr(0,p.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const v=new cs(u);u!==p&&g&&(v[":@"]=this.buildAttributesMap(p,o,u)),this.addChild(n,v,o,b),o=o.substr(0,o.lastIndexOf("."))}else{const v=new cs(u);this.tagsNodeStack.push(n),u!==p&&g&&(v[":@"]=this.buildAttributesMap(p,o,u)),this.addChild(n,v,o,b),n=v}r="",a=h}}else r+=e[a];return t.child};function E4(e,t,n,r){this.options.captureMetaData||(r=void 0);const o=this.options.updateTag(t.tagname,n,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,r))}const P4=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function T4(e,t,n,r){return e&&(r===void 0&&(r=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function O4(e,t,n,r){return!!(t&&t.has(r)||e&&e.has(n))}function _4(e,t,n=">"){let r,o="";for(let s=t;s<e.length;s++){let a=e[s];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else if(a===n[0])if(n[1]){if(e[s+1]===n[1])return{data:o,index:s}}else return{data:o,index:s};else a==="	"&&(a=" ");o+=a}}function ds(e,t,n,r){const o=e.indexOf(t,n);if(o===-1)throw new Error(r);return o+t.length-1}function $p(e,t,n,r=">"){const o=_4(e,t+1,r);if(!o)return;let s=o.data;const a=o.index,i=s.search(/\s/);let c=s,u=!0;i!==-1&&(c=s.substring(0,i),s=s.substring(i+1).trimStart());const d=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),u=c!==o.data.substr(p+1))}return{tagName:c,tagExp:s,closeIndex:a,attrExpPresent:u,rawTagName:d}}function A4(e,t,n){const r=n;let o=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const s=ds(e,">",n,`${t} is not closed`);if(e.substring(n+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(r,n),i:s};n=s}else if(e[n+1]==="?")n=ds(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=ds(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=ds(e,"]]>",n,"StopNode is not closed.")-2;else{const s=$p(e,n,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,n=s.closeIndex)}}function Ip(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:p4(e,n)}else return ZA(e)?e:""}const Vp=cs.getMetaDataSymbol();function M4(e,t){return $b(e,t)}function $b(e,t,n){let r;const o={};for(let s=0;s<e.length;s++){const a=e[s],i=L4(a);let c="";if(n===void 0?c=i:c=n+"."+i,i===t.textNodeName)r===void 0?r=a[i]:r+=""+a[i];else{if(i===void 0)continue;if(a[i]){let u=$b(a[i],t,c);const d=k4(u,t);a[Vp]!==void 0&&(u[Vp]=a[Vp]),a[":@"]?N4(u,a[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[i]!==void 0&&o.hasOwnProperty(i)?(Array.isArray(o[i])||(o[i]=[o[i]]),o[i].push(u)):t.isArray(i,c,d)?o[i]=[u]:o[i]=u}}}return typeof r=="string"?r.length>0&&(o[t.textNodeName]=r):r!==void 0&&(o[t.textNodeName]=r),o}function L4(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function N4(e,t,n,r){if(t){const o=Object.keys(t),s=o.length;for(let a=0;a<s;a++){const i=o[a];r.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function k4(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class $4{constructor(t){this.externalEntities={},this.options=i4(t)}parse(t,n){if(typeof t!="string"&&t.toString)t=t.toString();else if(typeof t!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const s=JA(t,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const r=new b4(this.options);r.addExternalEntities(this.externalEntities);const o=r.parseXml(t);return this.options.preserveOrder||o===void 0?o:M4(o,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}static getMetaDataSymbol(){return cs.getMetaDataSymbol()}}const I4=`
`;function V4(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=I4),Ib(e,t,"",n)}function Ib(e,t,n,r){let o="",s=!1;for(let a=0;a<e.length;a++){const i=e[a],c=j4(i);if(c===void 0)continue;let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===t.textNodeName){let m=i[c];H4(u,t)||(m=t.tagValueProcessor(c,m),m=jb(m,t)),s&&(o+=r),o+=m,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=r),o+=`<![CDATA[${i[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=r+`<!--${i[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){const m=Vb(i[":@"],t),b=c==="?xml"?"":r;let v=i[c][0][t.textNodeName];v=v.length!==0?" "+v:"",o+=b+`<${c}${v}${m}?>`,s=!0;continue}let d=r;d!==""&&(d+=t.indentBy);const p=Vb(i[":@"],t),g=r+`<${c}${p}`,h=Ib(i[c],t,u,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=g+">":o+=g+"/>":(!h||h.length===0)&&t.suppressEmptyNode?o+=g+"/>":h&&h.endsWith(">")?o+=g+`>${h}${r}</${c}>`:(o+=g+">",h&&r!==""&&(h.includes("/>")||h.includes("</"))?o+=r+t.indentBy+h+r:o+=h,o+=`</${c}>`),s=!0}return o}function j4(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(e.hasOwnProperty(r)&&r!==":@")return r}}function Vb(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let o=t.attributeValueProcessor(r,e[r]);o=jb(o,t),o===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${o}"`}return n}function H4(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function jb(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}const D4={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function _o(e){this.options=Object.assign({},D4,e),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=kb(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=z4),this.processTextOrObjNode=F4,this.options.format?(this.indentate=B4,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}_o.prototype.build=function(e){return this.options.preserveOrder?V4(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},_o.prototype.j2x=function(e,t,n){let r="",o="";const s=n.join(".");for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a))if(typeof e[a]>"u")this.isAttribute(a)&&(o+="");else if(e[a]===null)this.isAttribute(a)||a===this.options.cdataPropName?o+="":a[0]==="?"?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)o+=this.buildTextValNode(e[a],a,"",t);else if(typeof e[a]!="object"){const i=this.isAttribute(a);if(i&&!this.ignoreAttributesFn(i,s))r+=this.buildAttrPairStr(i,""+e[a]);else if(!i)if(a===this.options.textNodeName){let c=this.options.tagValueProcessor(a,""+e[a]);o+=this.replaceEntitiesValue(c)}else o+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){const i=e[a].length;let c="",u="";for(let d=0;d<i;d++){const p=e[a][d];if(!(typeof p>"u"))if(p===null)a[0]==="?"?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const g=this.j2x(p,t+1,n.concat(a));c+=g.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(u+=g.attrStr)}else c+=this.processTextOrObjNode(p,a,t,n);else if(this.options.oneListGroup){let g=this.options.tagValueProcessor(a,p);g=this.replaceEntitiesValue(g),c+=g}else c+=this.buildTextValNode(p,a,"",t)}this.options.oneListGroup&&(c=this.buildObjectNode(c,a,u,t)),o+=c}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const i=Object.keys(e[a]),c=i.length;for(let u=0;u<c;u++)r+=this.buildAttrPairStr(i[u],""+e[a][i[u]])}else o+=this.processTextOrObjNode(e[a],a,t,n);return{attrStr:r,val:o}},_o.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function F4(e,t,n,r){const o=this.j2x(e,n+1,r.concat(t));return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,o.attrStr,n):this.buildObjectNode(o.val,t,o.attrStr,n)}_o.prototype.buildObjectNode=function(e,t,n,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),(n||n==="")&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+s+this.tagEndChar+e+this.indentate(r)+o}},_o.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t},_o.prototype.buildTextValNode=function(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+o+"</"+t+this.tagEndChar}},_o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function B4(e){return this.options.indentBy.repeat(e)}function z4(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}const uc="mjml-code-to-html";function Hb(e,t){const n=t==null?void 0:t.sanitizer;if(Xe(n))return n(e);if(n==="xml-sanitizer"){const p=e.replace(/(<[a-zA-Z!/])|</g,(E,T)=>T??"&lt;").replace(/&(?!#?\w+;)/g,"&amp;"),g=["br","hr"],h=new Set(g),m=E=>{const T=[];for(const _ of E){const O=Object.keys(_).find(P=>P!==":@");if(O&&h.has(O)){const P=_[O];Array.isArray(P)&&P.length>0?(T.push({..._,[O]:[]}),T.push(...m(P))):T.push(_)}else O&&Array.isArray(_[O])?T.push({..._,[O]:m(_[O])}):T.push(_)}return T},b={commentPropName:"#comment",unpairedTags:g,suppressUnpairedNode:!1,ignoreAttributes:!1,preserveOrder:!0},v=new $4({...b,htmlEntities:!0,trimValues:!1,alwaysCreateTextNode:!0,allowBooleanAttributes:!0}),w=new _o({...b}),C=v.parse(`<root>${p}</root>`)[0].root,S=m(C);return w.build(S)}function r(p){const g=document.createElement("textarea");return g.innerHTML=p,g.value}const o=r(e||""),s=["checked","disabled","readonly","required","autofocus","multiple","selected","hidden","async","defer","formnovalidate","novalidate","ismap","allowfullscreen","autoplay","controls","loop","muted","open","reversed","scoped","seamless","typemustmatch","default","full-width","crossorigin"],a={crossorigin:"anonymous","full-width":"true"},i=new RegExp(`\\s+(${s.join("|")})(?=\\s|\\/?>)`,"gi");return o.replace(/<[^>]+>/g,p=>p.replace(i,(g,h)=>{const m=a[h]??h;return` ${h}="${m}"`})).replace(/(\s[\w:-]+=\s*)("[^"]*"|'[^']*')/g,(p,g,h)=>{const m=h.slice(1,-1).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return`${g}"${m}"`}).replace(/&(?!#?\w+;)/g,(p,g,h)=>g>0&&h[g-1]==="&"?p:"&amp;").replace(/(<[a-zA-Z!/])|</g,(p,g)=>g??"&lt;")}var vi=(e=>(e.root="mjml",e.head="mj-head",e.body="mj-body",e.include="mj-include",e))(vi||{}),jp=(e=>(e.attributes="mj-attributes",e.breakpoint="mj-breakpoint",e.font="mj-font",e.htmlAttributes="mj-html-attributes",e.preview="mj-preview",e.style="mj-style",e.title="mj-title",e.class="mj-class",e.all="mj-all",e))(jp||{}),Db=(e=>(e.accordion="mj-accordion",e.accordionElement="mj-accordion-element",e.accordionTitle="mj-accordion-title",e.accordionText="mj-accordion-text",e.button="mj-button",e.carousel="mj-carousel",e.carouselImage="mj-carousel-image",e.column="mj-column",e.divider="mj-divider",e.group="mj-group",e.hero="mj-hero",e.image="mj-image",e.navbar="mj-navbar",e.navbarLink="mj-navbar-link",e.raw="mj-raw",e.section="mj-section",e.social="mj-social",e.socialElement="mj-social-element",e.spacer="mj-spacer",e.table="mj-table",e.text="mj-text",e.wrapper="mj-wrapper",e))(Db||{}),ps=(e=>(e.globalStyles="globalStyles",e.globalData="globalData",e))(ps||{});function U4(e){const t=new Map,n={items:[]};return e.forEach(o=>{const{category:s,item:a}=o;if(s){const i=t.get(s.id);i?(i.items.push(a),i.category={...i.category,...s}):t.set(s.id,{category:s,items:[a]})}else n.items.push(a)}),[...Array.from(t).map(([,o])=>o),n].filter(o=>o.items.length)}const Fb=e=>(e==null?void 0:e.get("groups"))||[],Bb=(e,t)=>Fb(e).includes(t),W4=(e,t)=>{Bb(e,t)||e.set("groups",[...Fb(e),t])};class G4{constructor(t){this.dataSourceKeyid=ps.globalStyles,this.records=[],this.openCategories=new Map,this.store=t,Qt(this,{openCategories:!1},{autoBind:!0})}get sdkOptionStyles(){var t;return((t=this.store.appEditorStore.sdkOptions.globalStyles)==null?void 0:t.default)||[]}get editor(){return this.store.appEditorStore.editor}get DataSources(){var t;return(t=this.editor)==null?void 0:t.DataSources}get recordsByCategory(){const{records:t,sdkOptionStyles:n}=this,r=[],o=t.reduce((s,a)=>(s.set(a.get("id"),a),s),new Map);return n.forEach(({id:s})=>{const a=o.get(s);a&&(r.push(a),o.delete(s))}),Array.from(o).map(([,s])=>{s.get("_internal")||r.push(s)}),U4(r.map(s=>({category:s.get("category"),item:s})))}setCategoryOpen(t,n){this.openCategories.set(t,n)}getDataSource(){var t;return(t=this.DataSources)==null?void 0:t.get(this.dataSourceKeyid)}getRuleByGroup(t){var n;return(n=this.editor)==null?void 0:n.CssComposer.getAll().find(r=>Bb(r,t))}addStyleRule(t,n={}){var p,g;const{editor:r}=this,o=t.get("id"),s=t.get("selector")||"",a=t.get("property"),i=t.getPath("value"),c=`${this.dataSourceKeyid}:${o}`,u={[a]:{type:"data-variable",path:i,defaultValue:t.get("defaultValue")}};if(r&&FC(r)&&s.startsWith("mj-")){const h=r.Components.getWrapper(),{head:m}=vi,{attributes:b}=jp,v=h.findFirstType(vi.root),w=v.findFirstType(m)||v.append({type:m},{at:0})[0],y=w.findFirstType(b)||w.append({type:b})[0],C=y.findType(s).pop()||y.append({type:s})[0],S=(C.get("attributes")||{})[a];Mt(S)&&S!==""&&t.set("value",S),C.addAttributes(u,{silent:!0});return}let d=((g=(p=n.selectorToRuleMap)==null?void 0:p.get(s))==null?void 0:g.rule)||this.getRuleByGroup(c);d?d.addStyle(u):d=r==null?void 0:r.CssComposer.addCollection([{selectors:[],selectorsAdd:s,style:u}],{extend:!0,at:t.index})[0],d&&W4(d,c)}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}onLoad(){var s,a;const{sdkOptionStyles:t}=this,n=new Map,r=(s=this.editor)==null?void 0:s.Css;if(!t.length){this.records=[];return}const o=this.getDataSource()||this.createDataSource();t.forEach(i=>{const{id:c,selector:u,label:d,field:p,property:g,category:h}=i,m=o.getRecord(c);if(m){const b={label:d,field:p,category:h};m.set({...b,_undo:!0})}else{const b=n.get(u),v=(b==null?void 0:b.rule)||(r==null?void 0:r.getRule(u)),w=(b==null?void 0:b.styles)||(v==null?void 0:v.getStyle())||{},y=w[g]||i.defaultValue;n.set(u,{rule:v,styles:w}),o.addRecord({value:void 0,...i,defaultValue:y,_internal:!0,_undo:!0})}}),o.getRecords().forEach(i=>{this.addStyleRule(i,{selectorToRuleMap:n})}),o.listenTo(o.records,"add",i=>{this.addStyleRule(i)}),(a=this.editor)==null||a.UndoManager.add(o.records),this.records=o.getRecords()}}const K4=()=>Bt().globalStylesStore,zb=(e,t)=>{let n;try{const r=hr()&&e&&localStorage.getItem(e);r&&(n=JSON.parse(r))}catch(r){console.error(r)}return{lastProjectId:"",...t,...n}},Ub=(e,t)=>{const r={...zb(e),...t};try{hr()&&e&&localStorage.setItem(e,JSON.stringify(r))}catch(o){console.error(o)}return r},Hp="gs-utl-dark",q4=()=>hr()&&window.matchMedia("(prefers-color-scheme: dark)").matches,Wb=e=>e==="dark"||e==="auto"&&q4(),Gb=(e,t)=>{if(e&&hr()&&t.rootEl){const{classList:n}=t.rootEl;let r=!1;if(Wb(e)?(n.add(Hp),r=!0):n.remove(Hp),t.updateAppShell){const o=document.head.querySelector('meta[name="theme-color"]');o&&(o.content=r?"#18181b":"#ffffff")}t.resolvedTheme=r?zn.dark:zn.light}};class Y4{constructor(t){this.key="",this.theme=zn.auto,this.resolvedTheme=zn.light,this.lastProjectId="",this.updateAppShell=!1,this.rootEl=void 0,t&&Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),this.resolvedTheme=this.theme,Qt(this,{},{autoBind:!0}),this.init()}init(){Gb(this.theme,this)}changeTheme(t){Gb(t,this),Ub(this.key,{theme:t})}setTheme(t){this.theme=t}setRootEl(t){this.rootEl=t}setLocalState(t){Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),Ub(this.key,t)}get isDarkTheme(){return Wb(this.theme)}}const Z4=e=>{Th(()=>e.theme,t=>{e.changeTheme(t)})},dn=()=>Bt().localSettingsStore;class X4{constructor(t){this.isOpen=!1,this.title="",this.content="",this.size="l",this.fullH=!1,this.modalProps={},this.buttons=[],this.store=t,Qt(this,{},{autoBind:!0})}setModalProps(t){this.modalProps={title:"",size:"l",fullH:!1,buttons:[],...t}}open({content:t,...n}){this.isOpen=!0,this.content=t,this.setModalProps(n)}close(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.content="",this.setModalProps({size:this.modalProps.size})}confirm({content:t,size:n="m",onConfirm:r,confirmButton:o,...s}){this.isOpen=!0,this.content=t;const a=()=>{r==null||r(),this.close()};this.setModalProps({...s,size:n,buttons:[{children:"Cancel",onClick:this.close,size:"m2"},{children:"Confirm",onClick:a,size:"m2",variant:"pr",...o}]})}}const Pr=()=>Bt().modalStore,J4={add:"Add",delete:"Delete",duplicate:"Duplicate",rename:"Rename",remove:"Remove",clear:"Clear",select:"Select",selectList:"Select from the list",search:"Search",update:"Update",updated:"Updated!",confirm:"Confirm",cancel:"Cancel",enable:"Enable",disable:"Disable",upload:"Upload",close:"Close",load:"Load",copy:"Copy",save:"Save",current:"Current",toggleCss:"Toggle CSS",selectTarget:"Target Component",noCode:"No code available",noItems:"No items found",confirmAction:"Do you confirm this action?",eyeDropper:"Eyedropper",noEyeDropper:"Eyedropper not supported",unauthorized:"Unauthorized project",notItemsFound:"No items found",actions:{componentOutline:{title:"Component outline"},preview:{title:"Preview"},fullscreen:{title:"Fullscreen"},showCode:{title:"Code",exportButton:"Export to ZIP"},undo:{title:"Undo"},redo:{title:"Redo"},save:{title:"Save project"},store:{title:"Save content"},open:{title:"Open project"},importCode:{title:"Import code",parseError:"Parser error",content:"Paste here your HTML/CSS and click Import",button:"Import"},clearCanvas:{title:"Clear page",content:"Are you sure you want to clear the page?"},about:{title:"About"},embed:{title:"Embed Studio"},newProject:{title:"Load project"},installApp:{title:"Install App",installed:"App installed"}},modals:{styleCatalog:{title:"Style Catalog",noStyles:"No styles found"},openProject:{title:"Open project"}},pluginManager:{plugins:"Plugins",all:"Available",installed:"Installed",install:"Install",uninstall:"Uninstall",allPlugins:"All plugins",updateStudio:"Restart Studio for plugin updates"},globalStyleManager:{notFound:"No global styles found",globalStyles:"Global Styles"},pageManager:{pages:"Pages",page:"Page",newPage:"New Page",add:"Add page",rename:"Rename",duplicate:"Duplicate",copy:"Copy",delete:"Delete",deletePage:"Delete Page",confirmDelete:"Are you sure you want to delete the page?",homePage:"Home page",settings:{label:"Settings",title:"Page settings",global:"Global settings",fields:{name:{label:"Name"},slug:{label:"Slug",description:"The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."},favicon:{label:"Favicon",description:"The favicon is the small icon that appears in the browser tab."},title:{label:"Title",description:"The title is the name of the page that appears in the browser tab."},description:{label:"Description",description:"The description is a short summary of the page content."},keywords:{label:"Keywords",description:"Keywords are words or phrases that describe the content of the page."},socialTitle:{label:"Social title",description:"The title is the name of the page that appears on social networks."},socialImage:{label:"Social image",description:"The image is the picture that appears on social networks."},socialDescription:{label:"Social description",description:"The description is a short summary of the page content that appears on social networks."},customCodeHead:{label:"Custom HTML head",description:"Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."},customCodeBody:{label:"Custom HTML body",description:"Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."}}}},projectManager:{existentProjects:"Your projects",templates:"Templates",notAvailable:"No projects available",projectType:"Project type",projectName:"Project name",pages:"Pages"},templates:{notFound:"No templates found"},storageManager:{errorLoad:"Failed to load the project",errorStore:"Failed to save the project"},assetManager:{addUrl:"Add URL",projectAssets:"Assets in this project",userAssets:"Assets from all projects",errorLoad:"Failed to load assets",errorUpload:"Failed to upload",errorDelete:"Failed to delete",deleteConfirmQuestion:"Delete asset?",deleteConfirmExplanation:"This will affect existing and published projects that rely on this asset, if any exist.",assetTypes:{all:"All",image:"Images"},noProvider:"Project assets"},fontManager:{addFontToProject:"Add font to project",projectFonts:"Project fonts",emptyProjectFonts:"There are no fonts in this project.",selectFont:"Select a font"},blockManager:{notFound:"No blocks found",blocks:"Blocks",add:"Add more blocks",search:"Search...",labels:{section:"Section",column1:"1 Column",column2:"2 Columns",column3:"3 Columns","column3-7":"2 Columns 3/7",gridRow:"Grid",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"},categories:{},types:{regular:"Regular",symbols:"Symbols"},symbols:{notFound:"No symbols found",instancesProject:"Instance/s in the project",delete:"Delete symbol",deleteConfirm:"Are you sure you want to delete the symbol? All instances inside the project will be detached."}},domComponents:{names:{section:"Section",gridRow:"Row",gridColumn:"Column",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"}},traitManager:{empty:"Select a component to see its properties",panelLabel:"Properties",traits:{labels:{loading:"Lazy load",target:"Open in new tab",showList:"Show element list",customAttributes:"Custom Attributes"},attributes:{}}},deviceManager:{allDevices:"All devices"},selectorManager:{noSelecton:"You don't have any selected element.",selectFromCanvas:"Select an element from the canvas.",selectFromList:"Pick any style from the Style Catalog.",selectCustom:"Add your custom style selector.",selection:"Selection",selector:"Selector",addNewSelector:"Add new selector",removeSelector:"Remove selector",target:"Target",device:"Device",state:"State",deleteStyle:"Delete style",showCSS:"Show CSS code",searchStyle:"Search style",applyOnSelector:"Apply style changes on Selectors",noSelectors:"No Selectors applied",applyOnComponents:"Apply style changes on Components",noComponents:"No Components selected",currentSelection:"The current selection from which styles are displayed of"},layerManager:{layers:"Layers"},dataSources:{confirm:"Confirm",clearDataValue:"Clear data value",connectDataValue:"Connect data value",variable:"Variable",defaultValue:"Default value",variablePath:"Variable path",selectVariablePath:"Select variable path",openPathExplorer:"Open path explorer",closePathExplorer:"Close path explorer",toggleResolvedPath:"Toggle resolved path",items:"{length} item/s",properties:"{length} propertie/s",editVariable:"Edit variable",editCondition:"Edit condition",editCollection:"Edit collection",condition:"Condition",conditionTrue:"True condition",conditionFalse:"False condition",conditionAnd:"AND",conditionOr:"OR",conditionElse:"Else",addCondition:"Add condition",deleteCondition:"Delete condition",operator:"Operator",leftValue:"Left value",rightValue:"Right value",ifTrue:"Value if true",ifFalse:"Value if false",valueTrue:"True",valueFalse:"False",collection:"Collection",collectionItem:"Collection item",collectionId:"Collection ID",collectionStartIndex:"Start index",collectionEndIndex:"End index",collectionUpToEndIndex:"All",collections:{__rootData:"Page data"},variableTypes:{currentItem:"Current item",prevItem:"Previous item",nextItem:"Next item"},operators:{"=":"= (Equals)","!=":"!= (Not equals)",">":"> (Greater than)",">=":">= (Greater than or equals)","<":"< (Less than)","<=":"<= (Less than or equals)",contains:"Contains",startsWith:"Starts with",endsWith:"Ends with",matchesRegex:"Matches regex",equalsIgnoreCase:"Equals (ignore case)",trimEquals:"Trimmed equals",and:"AND",or:"OR",xor:"XOR",equals:"Equals",isDefined:"Is defined",isNull:"Is null",isUndefined:"Is undefined",isTruthy:"Is truthy",isFalsy:"Is falsy",isDefaultValue:"Is default value",isArray:"Is array",isObject:"Is object",isString:"Is string",isNumber:"Is number",isBoolean:"Is boolean"}},styleManager:{panelLabel:"Styles",layout:{flexChild:"Flex child",display:{tips:{block:"Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",inline:"Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.","inline-block":"Inline-block is similar to inline but allows to define width and height properties.",flex:"Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",none:"The element is hidden from the layout"}},direction:{title:{row:"Horizontal","row-reverse":"Horizontal reversed",column:"Vertical","column-reverse":"Vertical reversed"}}},position:{tips:{static:"Default position",relative:"Similar to Static but with the ability to be moved relative to itself",absolute:"Absolute position, relative to its closest non-static parent",fixed:"Fixed position (even when the page is scrolled), relative to the browser viewport",sticky:"Elements are keept in place but moved when the page is scrolled, based on indicated distance"},presets:{title:"Presets",options:{topLeft:"Top left",topRight:"Top right",bottomLeft:"Bottom left",bottomRight:"Bottom right",left:"Left",right:"Right",bottom:"Bottom",top:"Top",full:"Full"}}},properties:{"margin-top":"Top","margin-right":"Right","margin-bottom":"Bottom","margin-left":"Left","padding-top":"Top","padding-right":"Right","padding-bottom":"Bottom","padding-left":"Left","border-top-left-radius":"Top Left","border-top-right-radius":"Top Right","border-bottom-right-radius":"Bottom Right","border-bottom-left-radius":"Bottom Left","mix-blend-mode":"Blend mode","transform-style":"Type","backface-visibility":"Backface","perspective-origin":"Perspective origin","perspective-origin-x":"Left","perspective-origin-y":"Top","transform-origin-x":"Left","transform-origin-y":"Top","align-items":"Align","align-self":"Align","justify-content":"Justify","row-gap":"Row","column-gap":"Column","font-family":"Font","font-size":"Size","font-weight":"Weight","letter-spacing":"Spacing","text-align":"Align","text-decoration":"Decoration","text-transform":"Transform","white-space":"Breaking","border-top-width":"Top","border-right-width":"Right","border-bottom-width":"Bottom","border-left-width":"Left","border-top-style":"Top","border-right-style":"Right","border-bottom-style":"Bottom","border-left-style":"Left","border-top-color":"Top","border-right-color":"Right","border-bottom-color":"Bottom","border-left-color":"Left","background-position":"Position","background-position-x":"Left","background-position-y":"Top","background-size":"Size","background-size-x":"Left","background-size-y":"Top","background-repeat":"Repeat","background-attachment":"Attachment","background-origin":"Origin","background-clip":"Clip","overflow-x":"X","overflow-y":"Y"},options:{"__background-type":{image:"Image",gradient:"Gradient",color:"Color"},display:{block:"Block",inline:"Inline","inline-block":"Inline block",flex:"Flex",none:"None"},overflow:{visible:"Visible",hidden:"Hidden",scroll:"Scroll",auto:"Auto"},"flex-wrap":{nowrap:"No wrap",wrap:"Wrap","wrap-reverse":"Reverse wrap"}}}},Kb="column1",qb="column2",Yb="column3",Dp="column3-7",Q4=function(e,t={}){const{Components:n,Blocks:r}=e,o="gridRow",s="gridColumn",a="gjs-grid-row",i="gjs-grid-column",c={tl:0,tc:0,tr:0,cl:0,bl:0,br:0},u="flex-basis",d=1,p=1,g=1;n.addType(o,{isComponent:v=>To(v,a),model:{defaults:{emptyState:!0,droppable:Er(s),highlightable:!1,attributes:{class:a},resizable:{...c,keyHeight:"min-height"},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,"stylable-require":["flex-align-items","flex-align-items-v","flex-direction-id","flex-multiline"],traits:["id","title",{name:"add-column",labelButton:"Add column",type:"button",full:!0,command:v=>{v.getSelected().components().add({type:s})}}],styles:`
            .${a} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${a} {
                flex-direction: column;
              }
            }
          `}}}),n.addType(s,{isComponent:v=>To(v,i),model:{defaults:{emptyState:!0,attributes:{class:i},draggable:Er(o),resizable:{...c,bc:0,keyWidth:u,currentUnit:g,minDim:d,step:p},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,unstylable:["width"],"stylable-require":["flex-basis","flex-item-behaviour","flex-item-h-align","flex-order"],traits:[{label:"Center content",name:"center-content",type:"checkbox",changeProp:!0}],styles:`
            .${i} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `},init(){this.listenTo(this,"change:center-content",this.handleCenter)},handleCenter(){const v=this.get("center-content");this.addStyle({display:v?"flex":"block","align-items":v?"center":"","justify-content":v?"center":""})}}});const h={label:o,content:{type:o,components:[{type:s},{type:s},{type:s}]},...t.block},m={merge:!0},b=v=>{var w;return((w=r.get(v))==null?void 0:w.category)||h.category};r.add(Kb,{...h,category:b(Kb),content:{type:o,components:[{type:s}]}},m),r.add(qb,{...h,category:b(qb),content:{type:o,components:[{type:s},{type:s}]}},m),r.add(Yb,{...h,category:b(Yb),content:{type:o,components:[{type:s},{type:s},{type:s}]}},m),r.add(Dp,{...h,category:b(Dp),content:{type:o,components:[{type:s,style:{"flex-basis":"30%","flex-grow":0}},{type:s}]}},m)},yi="section",Fp="container",Bp="gjs-section",zp="gjs-container",R4=function(e,t={}){const{Components:n,Blocks:r}=e;r.add(yi,{label:yi,media:`
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,content:{type:yi},...t.block},{at:pi(e,Dp)+1}),n.addType(yi,{isComponent:o=>To(o,Bp),model:{defaults:{tagName:"section",emptyState:!0,draggable:Er("wrapper"),droppable:Er(Fp),attributes:{class:Bp},components:{type:Fp},styles:`
            .${Bp} {
              display: flex;
              padding: 50px 0;
            }
          `}}}),n.addType(Fp,{isComponent:o=>To(o,zp),model:{defaults:{emptyState:!0,copyable:!1,removable:!1,draggable:!1,attributes:{class:zp},styles:`
            .${zp} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `}}})},eM=function(e,t={}){const{Components:n,Blocks:r}=e,o="divider",s="gjs-divider";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,content:{type:o},...t.block},{at:pi(e,yi)+1}),n.addType(o,{isComponent:a=>To(a,s),model:{defaults:{droppable:!1,highlightable:!1,attributes:{class:s},stylable:["height","width","background-color","margin","margin-top","margin-right","margin-bottom","margin-left"],styles:`
            .${s} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `}}})},tM=function(e){const{Components:t,Blocks:n}=e,o=t.getType("wrapper").model.getDefaults(),s=t.getType("head").model;t.addType("wrapper",{model:{defaults:{emptyState:{styleIn:"height: 100vh",styleOut:"padding: 0;"},stylable:[...o.stylable,"padding","font-family","color","font-size","font-weight","line-height","letter-spacing","text-align","vertical-align","text-decoration","text-transform","direction","white-space"]}}}),t.addType("head",{model:{components(u,d){return s.prototype.components.call(this,u,{...d,skipDomReset:!0})}},view:{updateContent(){}}}),t.addType("text",{model:{defaults:{highlightable:!1,emptyState:{styleIn:"min-height: auto; font-size: inherit;"}}}}),t.addType("image",{model:{defaults:{traits:[{type:"image",name:"src",label:"Image",changeProp:!0,typeProps:{inputField:!0}},"alt",{type:"checkbox",name:"loading",valueTrue:"lazy"}]}}});const i=t.getType("link").model;i.typeExtends.add("text"),t.addType("link",{model:{defaults:{emptyState:!0,traits:["title",{type:"checkbox",name:"target",valueTrue:"_blank"},{type:"href",name:"href"}]},getAttrToHTML(){const u=i.prototype.getAttrToHTML.apply(this),{href:d}=u;if(d&&d.startsWith(fi)){const p=d.replace(fi,""),g=e.Pages.get(p);if(u.href=g?`./${Ap(e,g)}`:"##",g&&sc(g)){const h={id:xA(this,"id")},m=fb(g,{currentItem:h});u.href=m.fullPath,PA(u,{...h,page:p})}}return u}}}),n.add("link",{label:"Link",content:{type:"link",content:"Link",style:{color:"#d983a6",padding:"10px"}}},{merge:!0}),t.addType("select",{model:{defaults:{traits:[{name:"name"},{type:"checkbox",name:"required"},{name:"options",type:"stack",getValue({component:u}){return u.components().map(d=>({id:d.getAttributes().value||"",label:d.getInnerHTML()}))},setValue:({component:u,value:d,emitUpdate:p})=>{u.components(d.map(g=>({type:"option",content:g.label,attributes:{value:g.id}}))),p()},properties:[{name:"id"},{name:"label"}]}]}}});const c="contentEditable";t.addType(c,{extend:"text",model:{defaults:{name:"Content",tagName:"span",hoverable:!1,draggable:!1,selectable:!1},toHTML(u){return this.getInnerHTML(u)}},view:{onRender(){this.el.style.display="contents"}}}),t.addType("button",{model:{defaults:{components:[{type:c,components:{type:"textnode",content:"Button"}}],traits:[{type:"select",name:"type",options:[{id:"button",label:"Button"},{id:"submit",label:"Submit"},{id:"reset",label:"Reset"}]}]},init(){var d;const u=[...this.components().models];(u.length>1||!((d=u[0])!=null&&d.is(c)))&&this.append({type:c})[0].append(u)}}})},nM=function(e,t={}){const{Components:n,Blocks:r}=e,o="heading";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,content:{type:o,components:"Insert your text here"},...t.block},{at:pi(e,"text")}),n.addType(o,{extend:"text",isComponent:s=>hA(s,"H1","H2","H3","H4","H5","H6"),model:{defaults:{emptyState:!0,tagName:"h1",traits:[{type:"select",options:[{value:"h1",name:"One (largest)"},{value:"h2",name:"Two"},{value:"h3",name:"Three"},{value:"h4",name:"Four"},{value:"h5",name:"Five"},{value:"h6",name:"Six (smallest)"}],label:"Size",name:"tagName",changeProp:!0}]}}})},rM=function(e,t={}){const{Components:n,Blocks:r}=e,o=e.Components.getType("default").model,s="imageBox",a="gjs-image-box";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,content:{type:s},...t.block},{at:pi(e,"image")+1}),n.addType(s,{extend:"image",isComponent:i=>To(i,a),model:{defaults:{tagName:"div",void:!1,droppable:!0,emptyState:!1,resizable:{tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0},traits:["title"],attributes:{class:a},styles:`
            .${a} {
              height: 200px;
              width: 100%;
            }
          `},getAttrToHTML(...i){return o.prototype.getAttrToHTML.apply(this,i)}},view:{tagName:"div",updateSrc(){const{model:i,em:c}=this,u=i.getSrcResult(),d=i.isDefaultSrc(),p=i.getStyle(),g=`url('${u}')`;u&&i.addStyle({"background-image":d&&p["background-image"]||g,"background-size":p["background-size"]||"contain","background-position":p["background-position"]||"center center","background-attachment":p["background-attachment"]||"scroll","background-repeat":p["background-repeat"]||"no-repeat"}),u&&c.trigger("component:toggled"),this.$el[u?"removeClass":"addClass"](this.classEmpty)},onRender(){this.renderChildren(),this.updateSrc()}}})},oM=function(e,t={}){const{Components:n,Blocks:r}=e,o="linkBox",s="gjs-link-box";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,content:{type:o},...t.block},{at:pi(e,"link")+1}),n.addType(o,{isComponent:a=>To(a,s),extend:"link",model:{defaults:{editable:!1,droppable:!0,attributes:{class:s},styles:`
            .${s} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `}}})},Zb=e=>{const t=(e||"").split(" ");let n=t[0],r=t[0],o=t[0],s=t[0];return t.length===4?(n=t[0],r=t[1],o=t[2],s=t[3]):t.length===3?(n=t[0],r=t[1],s=t[1],o=t[2]):t.length===2&&(n=t[0],r=t[1],s=t[1],o=t[0]),[n,r,o,s]};function sM(e){const t={};if(e.padding){const n=e.padding.split(" ");let r=n[0],o=n[0],s=n[0],a=n[0];n.length===4?(r=n[0],o=n[1],s=n[2],a=n[3]):n.length===3?(r=n[0],o=n[1],a=n[1],s=n[2]):n.length===2&&(r=n[0],o=n[1],a=n[1],s=n[0]),t["padding-top"]=e["padding-top"]||r,t["padding-right"]=e["padding-right"]||o,t["padding-bottom"]=e["padding-bottom"]||s,t["padding-left"]=e["padding-left"]||a,delete e.padding}return{...e,...t}}const aM={ratioDefault:!0,tc:!1,cl:!1,cr:!1,bc:!1},Xb=`<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`,iM=function(e,t={}){const{Components:n,Blocks:r}=e,o="icon",s="gjs-icon",a="data-type-icon";r.add(o,{label:"Icon",media:Xb,content:{type:o},...t.block}),n.addType(o,{isComponent:i=>To(i,s)||di(i,a),model:{defaults:{droppable:!1,attributes:{class:s,[a]:!0},resizable:aM,components:Xb,traits:["id","title",{type:"code",label:"Content",typeProps:{language:"html",clean:!0,padding:5},getValue({component:i}){return i.getInnerHTML()},setValue:Zr(({editor:i,component:c,value:u})=>{const d=i.Parser.parseHtml(u).html,p=Array.isArray(d)?d[0]:d;p&&p.tagName==="svg"&&c.components(p)},500)}],styles:`
            .${s} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `},init(){this.listenTo(this.components(),"change add",this.disableLayers),this.disableLayers()},disableLayers(){this.components().forEach(i=>i.set("layerable",!1))}},view:{init(){const{model:i}=this;this.listenTo(i.components(),"change",this.disableChildren)},onRender(){this.disableChildren()},disableChildren(){this.model.components().forEach(i=>{var u;const c=(u=i.view)==null?void 0:u.el;c&&(c.style.pointerEvents="none")})}}})},Up="__nc",lM=e=>{const t=e.getAttributes({noClass:!0,noStyle:!0});return e.traits.forEach(n=>{const r=n.getName();n.get("changeProp")||delete t[r]}),delete t.id,delete t.__p,t};function cM(e){const{Components:t}=e,n=r=>{const{model:o,id:s}=r,a=o.getDefaults();t.addType(s,{model:{defaults:{traits:[...a.traits,{name:"customAttributes",type:"stack",getValue({component:i}){const c=lM(i);return Object.keys(c).map(d=>({id:d,value:c[d]}))},setValue:({component:i,value:c,options:u,emitUpdate:d})=>{const p=u.removed,g=u.previous,h=u.item;if(p)i.removeAttributes(p.id);else{g&&h&&g.id!==h.id&&i.removeAttributes(g.id);const m=c.reduce((b,v)=>(b[v.id]=v.value||"",b),{});i.addAttributes(m)}d()},addItem:()=>({id:Up,value:!1}),labelItem:i=>i.id===Up||!i.id&&!i.value?"- Empty -":`${i.id||""}="${i.value||""}"`,properties:[{name:"id",label:"Name",getValue:i=>i===Up?"":i,setValue:(i,c)=>i.trim().toLowerCase().replace(/^[^a-z]{1}/gi,"_").replace(/\s+/g,"-")||c},{name:"value",label:"Value",getValue:i=>typeof i=="boolean"?"":i}]}]}}})};t.getTypes().forEach(n)}const uM="Basic";function Wp(e,t){const{appStore:n}=t;e.Css.getConfig().onBeforeStyle=sM;const r=e.Parser.getConfig().optionsHtml;r.htmlType="text/html";const o=n.sdkOptions.pages||{};(Mt(o.allowDocuments)?o.allowDocuments:!0)&&(r.detectDocument=!0,r.allowScripts=!0),e.Components.addType("trait-check",{model:{defaults:{traits:["id","title",{type:"select",name:"select-type",options:[{id:"value1",label:"Value 1"},{id:"value2",label:"Value 2"},{id:"value3",label:"Value 3"}]},{type:"number",name:"number-type",units:["px","rem","%"]},{type:"checkbox",name:"checkbox-type"},{type:"color",name:"color-type"},{type:"button",name:"button-type",label:"Delete",command:"core:component-delete"}]}}});const a={category:uM,select:!0,activate:!0};vA(e,t),tM(e),Q4(e,{block:a}),nM(e,{block:a}),R4(e,{block:a}),eM(e,{block:a}),rM(e,{block:a}),oM(e,{block:a}),iM(e,{block:a}),cM(e)}function Jb(e){const{code:t,appStore:n,showToastError:r}=e,{appEditorStore:o,toastStore:s,i18nStore:a}=n.store,{isProjectTypeEmail:i,editor:c}=o,u=(t||"").trim(),d=new DOMParser,p={input:t,output:"",error:""};let g="";try{if(i){const h=(c==null?void 0:c.Parser.config.optionsHtml)||{},m=h.codeSanitizer,b=Hb(u,{sanitizer:m});if(h.htmlType==="text/xml"){const w=d.parseFromString(`<div>${b}</div>`,"text/xml").querySelector("parsererror div");p.error=(w==null?void 0:w.textContent)||""}m&&(c==null||c.runCommand(uc,{mjml:b})),g=b}else{const h=d.parseFromString(u,"text/html");Qb(h.documentElement);const m=h.querySelectorAll("style"),b=[];m.forEach(w=>b.push(w.innerHTML));const v=b.filter(Boolean).join(`
`).trim();v&&(c==null||c.Parser.parserCss.parse(v,{throwOnError:!0}))}}catch(h){p.error=h.message}return p.error?r&&s.addError("error-parser",{header:a.t("actions.importCode.parseError"),content:p.error}):p.output=g||u,p}function Qb(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return;const t=Array.from(e.attributes),n=Array.from(e.children);for(const r of t)e.setAttribute(r.name,r.value);for(const r of n)Qb(r)}function dM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(n),!0).forEach(function(r){dM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pM(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function fM(e,t){if(e==null)return{};var n=pM(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gM(e,t){return hM(e)||mM(e,t)||bM(e,t)||vM()}function hM(e){if(Array.isArray(e))return e}function mM(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,s=void 0;try{for(var a=e[Symbol.iterator](),i;!(r=(i=a.next()).done)&&(n.push(i.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw s}}return n}}function bM(e,t){if(e){if(typeof e=="string")return tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(n),!0).forEach(function(r){yM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,s){return s(o)},r)}}function wi(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return t.apply(n,[].concat(o,i))}}}function dc(e){return{}.toString.call(e).includes("Object")}function SM(e){return!Object.keys(e).length}function Si(e){return typeof e=="function"}function CM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xM(e,t){return dc(t)||Ao("changeType"),Object.keys(t).some(function(n){return!CM(e,n)})&&Ao("changeField"),t}function EM(e){Si(e)||Ao("selectorType")}function PM(e){Si(e)||dc(e)||Ao("handlerType"),dc(e)&&Object.values(e).some(function(t){return!Si(t)})&&Ao("handlersType")}function TM(e){e||Ao("initialIsRequired"),dc(e)||Ao("initialType"),SM(e)&&Ao("initialContent")}function OM(e,t){throw new Error(e[t]||e.default)}var _M={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ao=wi(OM)(_M),pc={changes:xM,selector:EM,handler:PM,initial:TM};function AM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pc.initial(e),pc.handler(t);var n={current:e},r=wi(NM)(n,t),o=wi(LM)(n),s=wi(pc.changes)(e),a=wi(MM)(n);function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return pc.selector(u),u(n.current)}function c(u){wM(r,o,s,a)(u)}return[i,c]}function MM(e,t){return Si(t)?t(e.current):t}function LM(e,t){return e.current=rv(rv({},e.current),t),t}function NM(e,t,n){return Si(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var kM={create:AM},$M={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function IM(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return t.apply(n,[].concat(o,i))}}}function VM(e){return{}.toString.call(e).includes("Object")}function jM(e){return e||sv("configIsRequired"),VM(e)||sv("configType"),e.urls?(HM(),{paths:{vs:e.urls.monacoBase}}):e}function HM(){console.warn(ov.deprecation)}function DM(e,t){throw new Error(e[t]||e.default)}var ov={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},sv=IM(DM)(ov),FM={config:jM},BM=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(s,a){return a(s)},o)}};function av(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],av(e[n],t[n]))}),ev(ev({},e),t)}var zM={type:"cancelation",msg:"operation is manually canceled"};function Gp(e){var t=!1,n=new Promise(function(r,o){e.then(function(s){return t?o(zM):r(s)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var UM=kM.create({config:$M,isInitialized:!1,resolve:null,reject:null,monaco:null}),iv=gM(UM,2),Ci=iv[0],fc=iv[1];function WM(e){var t=FM.config(e),n=t.monaco,r=fM(t,["monaco"]);fc(function(o){return{config:av(o.config,r),monaco:n}})}function GM(){var e=Ci(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(fc({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Gp(Kp);if(window.monaco&&window.monaco.editor)return lv(window.monaco),e.resolve(window.monaco),Gp(Kp);BM(KM,YM)(ZM)}return Gp(Kp)}function KM(e){return document.body.appendChild(e)}function qM(e){var t=document.createElement("script");return e&&(t.src=e),t}function YM(e){var t=Ci(function(r){var o=r.config,s=r.reject;return{config:o,reject:s}}),n=qM("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ZM(){var e=Ci(function(n){var r=n.config,o=n.resolve,s=n.reject;return{config:r,resolve:o,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){lv(n),e.resolve(n)},function(n){e.reject(n)})}function lv(e){Ci().monaco||fc({monaco:e})}function XM(){return Ci(function(e){var t=e.monaco;return t})}var Kp=new Promise(function(e,t){return fc({resolve:e,reject:t})}),cv={config:WM,init:GM,__getMonacoInstance:XM},JM={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},qp=JM,QM={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},RM=QM;function eL({children:e}){return f.createElement("div",{style:RM.container},e)}var tL=eL,nL=tL;function rL({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:s,wrapperProps:a}){return f.createElement("section",{style:{...qp.wrapper,width:e,height:t},...a},!n&&f.createElement(nL,null,r),f.createElement("div",{ref:o,style:{...qp.fullWidth,...!n&&qp.hide},className:s}))}var oL=rL,uv=f.memo(oL);function sL(e){f.useEffect(e,[])}var dv=sL;function aL(e,t,n=!0){let r=f.useRef(!0);f.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Pn=aL;function xi(){}function ia(e,t,n,r){return iL(e,r)||lL(e,t,n,r)}function iL(e,t){return e.editor.getModel(pv(e,t))}function lL(e,t,n,r){return e.editor.createModel(t,n,r?pv(e,r):void 0)}function pv(e,t){return e.Uri.parse(t)}function cL({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:i=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:p={},height:g="100%",width:h="100%",className:m,wrapperProps:b={},beforeMount:v=xi,onMount:w=xi}){let[y,C]=f.useState(!1),[S,x]=f.useState(!0),E=f.useRef(null),T=f.useRef(null),_=f.useRef(null),O=f.useRef(w),P=f.useRef(v),M=f.useRef(!1);dv(()=>{let L=cv.init();return L.then(F=>(T.current=F)&&x(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>E.current?H():L.cancel()}),Pn(()=>{if(E.current&&T.current){let L=E.current.getOriginalEditor(),F=ia(T.current,e||"",r||n||"text",s||"");F!==L.getModel()&&L.setModel(F)}},[s],y),Pn(()=>{if(E.current&&T.current){let L=E.current.getModifiedEditor(),F=ia(T.current,t||"",o||n||"text",a||"");F!==L.getModel()&&L.setModel(F)}},[a],y),Pn(()=>{let L=E.current.getModifiedEditor();L.getOption(T.current.editor.EditorOption.readOnly)?L.setValue(t||""):t!==L.getValue()&&(L.executeEdits("",[{range:L.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),L.pushUndoStop())},[t],y),Pn(()=>{var L,F;(F=(L=E.current)==null?void 0:L.getModel())==null||F.original.setValue(e||"")},[e],y),Pn(()=>{let{original:L,modified:F}=E.current.getModel();T.current.editor.setModelLanguage(L,r||n||"text"),T.current.editor.setModelLanguage(F,o||n||"text")},[n,r,o],y),Pn(()=>{var L;(L=T.current)==null||L.editor.setTheme(u)},[u],y),Pn(()=>{var L;(L=E.current)==null||L.updateOptions(p)},[p],y);let A=f.useCallback(()=>{var W;if(!T.current)return;P.current(T.current);let L=ia(T.current,e||"",r||n||"text",s||""),F=ia(T.current,t||"",o||n||"text",a||"");(W=E.current)==null||W.setModel({original:L,modified:F})},[n,t,o,e,r,s,a]),k=f.useCallback(()=>{var L;!M.current&&_.current&&(E.current=T.current.editor.createDiffEditor(_.current,{automaticLayout:!0,...p}),A(),(L=T.current)==null||L.editor.setTheme(u),C(!0),M.current=!0)},[p,u,A]);f.useEffect(()=>{y&&O.current(E.current,T.current)},[y]),f.useEffect(()=>{!S&&!y&&k()},[S,y,k]);function H(){var F,W,z,$;let L=(F=E.current)==null?void 0:F.getModel();i||((W=L==null?void 0:L.original)==null||W.dispose()),c||((z=L==null?void 0:L.modified)==null||z.dispose()),($=E.current)==null||$.dispose()}return f.createElement(uv,{width:h,height:g,isEditorReady:y,loading:d,_ref:_,className:m,wrapperProps:b})}var uL=cL;f.memo(uL);function dL(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var pL=dL,gc=new Map;function fL({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:s,theme:a="light",line:i,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:p=!0,keepCurrentModel:g=!1,width:h="100%",height:m="100%",className:b,wrapperProps:v={},beforeMount:w=xi,onMount:y=xi,onChange:C,onValidate:S=xi}){let[x,E]=f.useState(!1),[T,_]=f.useState(!0),O=f.useRef(null),P=f.useRef(null),M=f.useRef(null),A=f.useRef(y),k=f.useRef(w),H=f.useRef(),L=f.useRef(r),F=pL(s),W=f.useRef(!1),z=f.useRef(!1);dv(()=>{let V=cv.init();return V.then(U=>(O.current=U)&&_(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>P.current?D():V.cancel()}),Pn(()=>{var U,Q,Z,R;let V=ia(O.current,e||r||"",t||o||"",s||n||"");V!==((U=P.current)==null?void 0:U.getModel())&&(p&&gc.set(F,(Q=P.current)==null?void 0:Q.saveViewState()),(Z=P.current)==null||Z.setModel(V),p&&((R=P.current)==null||R.restoreViewState(gc.get(s))))},[s],x),Pn(()=>{var V;(V=P.current)==null||V.updateOptions(u)},[u],x),Pn(()=>{!P.current||r===void 0||(P.current.getOption(O.current.editor.EditorOption.readOnly)?P.current.setValue(r):r!==P.current.getValue()&&(z.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),P.current.pushUndoStop(),z.current=!1))},[r],x),Pn(()=>{var U,Q;let V=(U=P.current)==null?void 0:U.getModel();V&&o&&((Q=O.current)==null||Q.editor.setModelLanguage(V,o))},[o],x),Pn(()=>{var V;i!==void 0&&((V=P.current)==null||V.revealLine(i))},[i],x),Pn(()=>{var V;(V=O.current)==null||V.editor.setTheme(a)},[a],x);let $=f.useCallback(()=>{var V;if(!(!M.current||!O.current)&&!W.current){k.current(O.current);let U=s||n,Q=ia(O.current,r||e||"",t||o||"",U||"");P.current=(V=O.current)==null?void 0:V.editor.create(M.current,{model:Q,automaticLayout:!0,...u},d),p&&P.current.restoreViewState(gc.get(U)),O.current.editor.setTheme(a),i!==void 0&&P.current.revealLine(i),E(!0),W.current=!0}},[e,t,n,r,o,s,u,d,p,a,i]);f.useEffect(()=>{x&&A.current(P.current,O.current)},[x]),f.useEffect(()=>{!T&&!x&&$()},[T,x,$]),L.current=r,f.useEffect(()=>{var V,U;x&&C&&((V=H.current)==null||V.dispose(),H.current=(U=P.current)==null?void 0:U.onDidChangeModelContent(Q=>{z.current||C(P.current.getValue(),Q)}))},[x,C]),f.useEffect(()=>{if(x){let V=O.current.editor.onDidChangeMarkers(U=>{var Z;let Q=(Z=P.current.getModel())==null?void 0:Z.uri;if(Q&&U.find(R=>R.path===Q.path)){let R=O.current.editor.getModelMarkers({resource:Q});S==null||S(R)}});return()=>{V==null||V.dispose()}}return()=>{}},[x,S]);function D(){var V,U;(V=H.current)==null||V.dispose(),g?p&&gc.set(s,P.current.saveViewState()):(U=P.current.getModel())==null||U.dispose(),P.current.dispose()}return f.createElement(uv,{width:h,height:m,isEditorReady:x,loading:c,_ref:M,className:b,wrapperProps:v})}var gL=fL,hL=f.memo(gL),mL=hL;const fv=e=>{var t;(t=e.getAction("editor.action.formatDocument"))==null||t.run()},bL="gs-field-code",vL={minimap:{enabled:!1},lineNumbers:"off",scrollBeyondLastLine:!1,contextmenu:!1,fixedOverflowWidgets:!0,showFoldingControls:"always",suggestOnTriggerCharacters:!1,lineDecorationsWidth:0,renderLineHighlight:"none",wordWrapOverride1:"off",tabSize:2,scrollbar:{verticalScrollbarSize:8,horizontal:"hidden",alwaysConsumeMouseWheel:!1}};function Jr(e){const{defaultValue:t,value:n,language:r,onChange:o,clean:s,padding:a,isDarkTheme:i,className:c,containerClassName:u,minHeight:d="170px",onMount:p,readOnly:g,name:h,required:m,disabled:b,formatOnMount:v=!0,monacoOptions:w,labelAs:y}=e,C=n!==void 0,S=r,x=C?n:t,E=typeof x=="string"?x:JSON.stringify(x??"",null,2),T=xo({...e,className:N(bL,"gs-utl-flex gs-utl-h-full",u,!e.row&&"gs-utl-flex gs-utl-flex-col")}),_=N("gs-utl-relative gs-utl-flex-grow");return l.jsxs("div",{...T,children:[l.jsx(or,{...e,as:y}),l.jsxs("div",{className:_,style:{minHeight:d},children:[h&&l.jsx("input",{className:Le.hiddenVisually,name:h,value:E,disabled:b,required:m,onChange:()=>{}}),l.jsx("div",{className:N("gs-utl-absolute gs-utl-inset-0",b&&Le.disabled),children:l.jsx(mL,{...C?{language:S,value:E}:{defaultLanguage:S,defaultValue:E},theme:i?"vs-dark":"light",className:N(oe.b,oe.rnd,B.br,c),options:{...vL,readOnly:g,...s&&{domReadOnly:!0,overviewRulerLanes:0,selectOnLineNumbers:!1,folding:!1,matchBrackets:"never",guides:{indentation:!1}},...Mt(a)&&{lineDecorationsWidth:a*2,padding:{top:a,bottom:a}},...w},onChange:o,onMount:(O,P)=>{if(v){let M=!1;const A=()=>fv(O);O.onDidChangeModelLanguageConfiguration(A),O.onDidScrollChange(()=>{M||(M=!0,A())}),setTimeout(A,10)}p==null||p(O,P)}})})]})]})}const gv=se(function({buttonProps:t,content:n,code:r,onAction:o}){const s=Pr(),a=Ce(),i=ge(),{isProjectTypeEmail:c}=i,u=i.editor,{isDarkTheme:d}=dn(),[p,g]=f.useState(),h=()=>{let b=(p||"").trim();const v=Jb({code:b,appStore:i,showToastError:!0});if(!v.error)b=v.output;else return;o?o(b):c?u.loadProjectData({pages:[{component:b}]}):u.setComponents(b),s.close()};f.useEffect(()=>{r?g(r):(async()=>{var S,x;const v=await u.runCommand(ce.projectFiles,{page:u.Pages.getSelected(),skipProject:!0,styles:"inline"}),w=(S=v.find(E=>E.mimeType==="text/html"))==null?void 0:S.content,y=(x=v.find(E=>E.mimeType==="text/mjml"))==null?void 0:x.content,C=c?y:w;C&&g(C)})()},[]);const m=(t==null?void 0:t.children)||a.t("actions.importCode.button");return l.jsxs(I,{col:!0,space:"m",children:[l.jsx(j,{children:n??a.t("actions.importCode.content")}),l.jsx(j,{className:G("h-96"),children:p!==void 0&&l.jsx(Jr,{defaultValue:p,onChange:b=>g(b||""),isDarkTheme:d,language:"html"})}),l.jsx(I,{justify:"end",children:l.jsx(Be,{size:"m2",variant:"pr",onClick:h,...t,children:m})})]})}),Yp="data-type-empty",hv=(e,t)=>{e.Canvas.getFrames().forEach(n=>{const{view:r}=n,o=Array.from(r.getDoc().querySelectorAll(`style[${Yp}]`));for(const s of o)s.disabled=!t})},yL=(e,t,n="Empty",r={})=>{const o=`[${Yp}="${t}"]`;if(!e.frameView.getDoc())return;const s=e.frameView.getHead(),{midSelector:a="",styleOut:i="",styleIn:c=""}=r;if(!s.querySelector(`style${o}`)){const u=document.createElement("style");u.setAttribute(Yp,t),u.innerHTML=`
    [data-gjs-type="${t}"]${a}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW?"min-width: 50px;":""}
      ${i}
    }
    [data-gjs-type="${t}"]${a}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH?"height: auto;":""}
      ${r.smallH?"min-height: 30px;":""}
      ${c}
    }`,s.appendChild(u)}},mv=(e,t)=>{const{model:n}=t,r=n.constructor.getDefaults(),o=r.emptyState,s=n.get("type");if(!o||r.void===!0||s!==e)return;const a=o===!0?{}:o;yL(t,s,n.getName({noCustom:!0}),a)},wL=function(t){const{Components:n}=t,r=o=>{const{id:s}=o;n.addType(s,{extendFnView:["onRender"],view:{onRender(){mv(s,this)}}})};n.getTypes().forEach(r),t.on("component:type:add",r)};function SL(e,t){const{Components:n}=e,r=n.events,{modalStore:o,i18nStore:s,fontsStore:a}=t.appStore.store,{root:i,head:c,body:u}=vi,{attributes:d,class:p,font:g,all:h,preview:m,title:b,style:v,breakpoint:w}=jp,{wrapper:y,section:C,column:S,text:x,button:E,image:T,divider:_,group:O,social:P,socialElement:M,spacer:A,navbar:k,navbarLink:H,raw:L}=Db,{model:F}=n.getType("default"),{model:W}=n.getType(i),{model:z}=n.getType(u),{model:$}=n.getType(g),{model:D,view:V}=n.getType(c),{model:U,view:Q}=n.getType(k),{model:Z,view:R}=n.getType(H),{model:ne,view:ee}=n.getType(y),{model:q,view:X}=n.getType(C),{model:ae,view:ue}=n.getType(S),{model:we,view:he}=n.getType(x),{model:Ie,view:Ze}=n.getType(E),{model:mt}=n.getType(T),{model:lt,view:We}=n.getType(_),{model:jt,view:ct}=n.getType(A),{view:Pt,model:yt}=n.getType(P),{view:ft,model:ot}=n.getType(M),{view:ut,model:Ut}=n.getType(O),pe=ps.globalStyles,je="css-class",He={id:"link",name:"href",label:"Link",placeholder:"Link to redirect on click"},Ae={name:"src",type:"image",typeProps:{inputField:!0},label:"Image"},gt={type:"checkbox",label:"Full width",name:"full-width",valueTrue:"full-width",valueFalse:""},Ht={type:"select",label:"Direction",name:"direction",default:"ltr",options:[{id:"ltr",name:"Left To Right"},{id:"rtl",name:"Right To Left"}]},so={label:"Content",getValue:({component:Y})=>Y.getInnerHTML(),setValue:({component:Y,value:le})=>Y.components(le)},xs=Y=>{o.open({title:Y.getName({noCustom:!0}),content:()=>l.jsx(gv,{content:"",code:Y.getInnerHTML(),onAction:le=>Y.components(le),buttonProps:{children:s.t("save")}})})},Qe=Y=>{var de;const le=Y.getChildrenContainer();((de=le==null?void 0:le.innerHTML)==null?void 0:de.trim())===""&&(le.innerHTML="")},ht=Y=>Y.set({void:!1},{silent:!0});function Zt(Y={}){return F.prototype.toHTML.call(this,Y)}function rn(Y){const le=Y.closestType(i),de=le==null?void 0:le.findType(c)[0];return(de==null?void 0:de.toHTML())||""}function hn(Y){const le=Y.toHTML(),de=e.runCommand(uc,{mjml:le}),Tt=new DOMParser().parseFromString(de.html,"text/html");return{mjml:le,mjmlToHtml:de,document:Tt}}const Es=function(Y){const le=Y.model,de=Zr(()=>{var ke;return(ke=le.closestType(i))==null?void 0:ke.trigger("rerender")});Y.listenTo(le.components(),"add remove reset change",de)},Xt=(Y,le)=>Y.replace(`<${i}>`,`<${i}>${rn(le)}`),zo=Y=>`cls-${Y.tagName}-${Y.getId()}`,ao=(Y,le)=>{const de={...Y.get("attributes")||{}};return delete de.style,{...de,[je]:`${de[je]||""} ${zo(Y)}`.trim()}},Ps=(Y,le)=>{const de=Y.closestType(i),ke=(de==null?void 0:de.findFirstType(c))||(de==null?void 0:de.append({type:c})[0]);ke==null||ke.trigger(le?"rerenderHeadImmediate":"rerenderHead")},Ts=Y=>function(){return ao(this)},Wt=(Y,le)=>function(de){const ke=de.querySelector(`.${zo(this.model)}`);return(le?ke:ke==null?void 0:ke.outerHTML)||Y.prototype.getTemplateFromEl.call(this,de)},Mn=Y=>function(...le){const de=Y.prototype.toJSON.apply(this,le),ke=de.attributes||{};return delete de.style,delete ke.style,delete ke.__p,de},_u=Y=>function(...le){const de=Y.prototype.getAttrToHTML.apply(this,le);return delete de.__p,de};function io(){return{start:`<mjml>${rn(this.model)}<mj-body><mj-column>`,end:"</mj-column></mj-body></mjml>"}}function cj(){var de;const Y=(de=this.model.parent())==null?void 0:de.is(d),le=gS(this.model,{withSiblings:!Y,withHead:!Y,beforeRootEnd:Y?`<${u}><${C}><${S}/></${C}></${u}>`:""});return{start:le.start,end:le.end}}function uj(){this.stopListening(this.model,"change:style"),this.listenTo(this.model,"change:attributes change:src",this.rerender)}const gS=(Y,le={})=>{var Os;const de=Y.parents().filter(Ln=>Ln.tagName.startsWith("mj-")),ke=de.map(Ln=>`<${Ln.tagName}>`).reverse().join(""),Tt=de.map(Ln=>`</${Ln.tagName}>`).join(""),Ct=le.withHead?rn(Y):"",Zn=le.withSiblings?(Os=Y.parent())==null?void 0:Os.components().filter(Ln=>Ln!==Y).map(({tagName:Ln})=>`<${Ln}></${Ln}>`).join(""):"";return{start:`<${i}>${Ct}${ke}`,end:`${Zn||""}${Tt}${le.beforeRootEnd||""}</${i}>`}},Jt=({model:Y,noVoid:le})=>({init(){const de={...this.get("style-default"),...this.getStylesToAttributes(),...this.getAttributes({skipResolve:!0,noStyle:!0,noClass:!0})};this.set("attributes",de),this.set("style",de),this.listenTo(this,"change:style",this.handleStyleChange),this.listenTo(this,"change:attributes",this.handleAttributeChange),le&&ht(this)},handleStyleChange(de,ke,Tt){if(Tt.fromAttr||Tt.fromSync)return;const Ct=this.getStylesToAttributes();this.set("attributes",Ct,{...Tt,fromStyle:!0,fromSync:!0})},handleAttributeChange(de,ke,Tt){if(Tt.fromStyle||Tt.fromSync)return;const Ct=this.getAttributes({skipResolve:!0,noStyle:!0,noClass:!0});this.setStyle(Ct,{...Tt,fromAttr:!0,fromSync:!0})},getStylesToAttributes(){const de=this.getStyle({skipResolve:!0})||{};return delete de.__p,de},getAttrToHTML:_u(Y),getMjmlAttributes:Ts(),toJSON:Mn(Y)});n.addType("wrapper",{extendFn:["init"],model:{defaults:{stylable:!1,delegate:{layer:Y=>Y.findType(i)[0]}},init(){this.on(`${r.update}:components`,this.__updateLayersRoot)},__updateLayersRoot(){this.findFirstType(i)&&e.Layers.setRoot(this)}}}),n.addType(i,{model:{...Jt({model:W}),defaults:{tagName:i,name:"Root",toolbar:[]},toHTML:Zt},view:{reset(){this.render()}}}),n.addType(c,{model:{defaults:{tagName:c,name:"Head",copyable:!1,stylable:!1,traits:[],icon:'<svg viewBox="0 0 24 24"><path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" /></svg>'},toJSON:Mn(D)},view:{init(){this.renderHeadDebounced=Zr(this.renderHead,30);const{em:Y,el:le,model:de}=this,ke=de.components(),Tt="core:preview",Ct=Y.Commands.events;this.listenTo(Y,`${Ct.runCommand}${Tt}`,()=>{le.style.display="none"}),this.listenTo(Y,`${Ct.stopCommand}${Tt}`,()=>{le.style.display=""}),this.listenTo(ke,"change",this.onComponentsChange),this.listenTo(ke,"add remove reset",this.renderHead),this.listenTo(de,"rerenderHead",this.renderHeadDebounced),this.listenTo(de,"rerenderHeadImmediate",this.renderHead)},onComponentsChange(Y){const le=Object.keys(Y.changedAttributes());le.length===1&&le[0]==="status"||this.renderHead()},renderHead(){var Os;const{model:Y,el:le}=this,de=le.ownerDocument;if(!(de&&de!==document))return;const Tt=Y.closestType(i),Ct=Tt&&hn(Tt),Zn=(Os=Ct==null?void 0:Ct.document)==null?void 0:Os.head;if(Zn){const Ln="mjml-head-result",Ug=de.querySelector(Ln)||de.createElement(Ln);Ug.innerHTML=Zn.innerHTML,!de.head.contains(Ug)&&de.head.prepend(Ug)}},render(...Y){const le=V.prototype.render.apply(this,Y);return this.renderHeadDebounced(),le}}}),n.addType(d,{isComponent:ra(d),model:{defaults:{tagName:d,name:"Attributes",copyable:!1,layerable:!1,stylable:!1,draggable:Er(c),traits:[]},toJSON:Mn(F)},view:{onRender(){this.el.style.display="none"},init(){Es(this)}}}),n.addType(p,{isComponent:ra(p),model:{defaults:{tagName:p,name:"Class",stylable:!1,draggable:Er(d),traits:[]},toJSON:Mn(F)}}),n.addType(g,{model:{...Jt({model:$}),defaults:{tagName:g,name:"Font",stylable:!1,draggable:Er(c),icon:'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',traits:[{name:"name",placeholder:"Name of the font"},{name:"href",placeholder:"URL of a hosted CSS file"}]}},view:{tagName:()=>"div",render(){return this.el.style.cssText="",this}}}),n.addType(w,{extend:i,isComponent:ra(w),model:{defaults:{tagName:w,name:"Breakpoint",stylable:["width"],removable:!0,droppable:!1,draggable:Er(c),icon:'<svg viewBox="0 0 24 24"><path d="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z" /></svg>',traits:[]}},view:{attributes:{},render(){return this.el.style.cssText="",this}}}),n.addType(h,{isComponent:ra(h),model:{defaults:{tagName:h,name:"All",stylable:!1,void:!0,draggable:Er(d),traits:[]},toHTML(...Y){return W.prototype.toHTML.apply(this,Y)},toJSON:Mn(F)}}),n.addType(m,{isComponent:ra(m),model:{defaults:{tagName:m,name:"Preview",copyable:!1,droppable:!1,stylable:!1,draggable:Er(c),traits:[so],icon:`<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`},toJSON:Mn(F)},view:{tagName:()=>"div",init(){const Y=this.model.components();this.onRender=Zr(this.onRender,1),this.listenTo(Y,"add remove reset change",this.onRender)},onRender(){const{model:Y,el:le}=this,de=Y.getName({noCustom:!0}),ke=Y.getInnerHTML();le.innerHTML=`<b>${de}</b>: ${ke}`,le.style.padding="5px 10px",le.style.fontFamily="system-ui"}}}),n.addType(b,{isComponent:ra(b),extend:m,model:{defaults:{tagName:b,name:"Title",icon:'<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'}}}),n.addType(v,{model:{defaults:{tagName:v,name:"Style",droppable:!1,layerable:!1,stylable:!1,traits:[]},toJSON:Mn(F)},view:{render(){return this}}}),n.addType(u,{model:{...Jt({model:z,noVoid:!0}),defaults:{tagName:u,icon:'<svg viewBox="0 0 24 24"><path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" /></svg>',traits:[],emptyState:{midSelector:">div",styleOut:"height: 100vh;"}}}}),n.addType(y,{model:{...Jt({model:ne,noVoid:!0}),defaults:{tagName:y,icon:'<svg viewBox="0 0 24 24"><path d="M19 16H5V8h14m0-5H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"/></svg>',stylable:["background-position","padding","padding-top","padding-left","padding-right","padding-bottom","border","border-width","border-style","border-color","background-color","background-url","background-repeat","background-size"],traits:[gt]}},view:{attributes:{},getMjmlTemplate:cj,getTemplateFromEl:Wt(ee),init:uj}}),n.addType(C,{model:{...Jt({model:q,noVoid:!0}),defaults:{tagName:C,"style-default":{padding:"20px 0px",direction:"ltr","text-align":"center"},icon:'<svg viewBox="0 0 24 24"><path d="M4 4.8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3A1.8 1.8 0 0 0 20 4.7zm0 8a1.8 1.8 0 0 0-1.8 1.7v3c0 1 .8 1.8 1.8 1.8h16a1.8 1.8 0 0 0 1.8-1.8v-3a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',traits:[Ht,gt],emptyState:{midSelector:">div>table>tbody>tr>td"}}},extendFnView:["render"],view:{getTemplateFromEl:Wt(X),getMjmlTemplate(){const{start:Y,end:le}=X.prototype.getMjmlTemplate.call(this);return{start:Xt(Y,this.model),end:le}},render(){return Qe(this),this},attributes:{}}}),n.addType(O,{model:{...Jt({model:Ut,noVoid:!0}),defaults:{tagName:O,"style-default":{direction:"ltr"},icon:'<svg viewBox="0 0 24 24"><path d="M16,5V18H21V5M4,18H9V5H4M10,18H15V5H10V18Z" /></svg>',traits:[Ht]}},extendFnView:["init"],view:{init(){this.listenTo(this.model.components(),"add remove reset",this.render)},getTemplateFromEl:Wt(ut,!0),getChildrenContainer(){return this.el},getMjmlTemplate(){return{start:"<mjml><mj-body><mj-section>",end:"</mj-section></mj-body></mjml>"}},render(){const Y=this.getTemplateFromMjml(),le=wC(Y);return this.renderAttributes(),this.$el.attr(le),this.el.innerHTML=Y.innerHTML,this.renderChildren(),this.childNodes=this.getChildrenContainer().childNodes,this.updateStatus(),this.postRender(),this}}}),n.addType(S,{model:{...Jt({model:ae,noVoid:!0}),defaults:{tagName:S,icon:'<svg viewBox="0 0 24 24"><path d="M14.5 2.3A1.8 1.8 0 0 0 12.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8zm-8 0A1.8 1.8 0 0 0 4.7 4v16c0 1 .8 1.8 1.8 1.8h3a1.8 1.8 0 0 0 1.8-1.8V4a1.8 1.8 0 0 0-1.8-1.8z"/></svg>',traits:[],stylable:[...ae.getDefaults().stylable,"inner-background-color"],emptyState:{midSelector:">table>tbody",styleIn:"margin: 0 10px;"}}},view:{getMjmlTemplate(){var de;const Y=(de=this.model.parent())==null?void 0:de.is(d),le=gS(this.model,{withSiblings:!Y,withHead:!Y,beforeRootEnd:Y?`<${u}><${C}><${S}/></${C}></${u}>`:""});return{start:le.start,end:le.end}},getTemplateFromEl:Wt(ue,!0),getChildrenContainer(){const{el:Y}=this;return Y.querySelector("td > table tbody")||Y.querySelector("table tbody")||Y},render(){this.renderAttributes();const Y=this.getTemplateFromMjml();return this.el.innerHTML=Y.content,this.$el.attr(Y.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.updateStatus(),this.postRender(),Ps(this.model,!0),this}}}),n.addType(x,{model:{...Jt({model:we}),defaults:{tagName:x,emptyState:{midSelector:' [contenteditable="false"]:not([data-type-data-variable])',styleIn:"min-height: 20px;",styleOut:"padding: 0 5px;"},traits:[],"style-default":{padding:"10px 25px"}}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(he),attributes:{style:"display: table; width: 100%"}}}),n.addType(E,{model:{...Jt({model:Ie,noVoid:!0}),defaults:{tagName:E,traits:[He],stylable:[...Ie.getDefaults().stylable,"inner-padding"],"style-default":{}}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(Ze)}}),n.addType(T,{model:{...Jt({model:mt}),defaults:{tagName:T,"style-default":{align:"center"},traits:[Ae,{id:"altText",name:"alt",placeholder:"Image description"},"title",He,{type:"checkbox",label:"Full width on mobile",name:"fluid-on-mobile",valueTrue:"true"}]},getAttrToHTML(){const Y=mt.prototype.getAttrToHTML.call(this);return this.isDefaultSrc()&&delete Y.src,Y},getMjmlAttributes(){const Y=ao(this);return this.isDefaultSrc()&&delete Y.src,Y}},view:{updateSrc(){const{model:Y}=this,le=Y.get("src",{skipResolve:!0})||Y.getSrcResult();Y.addAttributes({src:le}),this.updateClasses()},getMjmlTemplate(){return{start:`<mjml>${rn(this.model)}<mj-body><mj-section><mj-column>`,end:"</mj-column></mj-section></mj-body></mjml>"}},getTemplateFromEl(Y){var le,de,ke;return(ke=(de=(le=Y.querySelector("img"))==null?void 0:le.closest("table"))==null?void 0:de.closest("tr"))==null?void 0:ke.innerHTML},attributes:{style:"display: table; width: 100%; user-select: none;"}}}),n.addType(_,{model:{...Jt({model:lt}),defaults:{tagName:_,"style-default":{width:"100%",align:"center"},traits:[{name:"align",type:"radio",options:[{id:"left",title:"Left",labelReact:l.jsx(re,{icon:K.alignHorizontalLeft,size:ie.sx})},{id:"center",title:"Center",labelReact:l.jsx(re,{icon:K.alignHorizontalCenter,size:ie.sx})},{id:"right",title:"Right",labelReact:l.jsx(re,{icon:K.alignHorizontalRight,size:ie.sx})}]}]}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(We)}}),n.addType(P,{model:{...Jt({model:yt}),defaults:{tagName:P,name:"Social",traits:[],emptyState:{midSelector:">td"},"style-default":{align:"center"},stylable:[...yt.getDefaults().stylable,"inner-padding"]}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(Pt)}}),n.addType(M,{model:{...Jt({model:ot,noVoid:!0}),defaults:{tagName:M,"style-default":{align:"center"},traits:[{type:"select",label:"Icon",name:"name",options:[{id:"custom",name:"Custom"},{id:"facebook",name:"Facebook"},{id:"twitter",name:"Twitter/X"},{id:"google",name:"Google"},{id:"instagram",name:"Instagram"},{id:"web",name:"Web"},{id:"youtube",name:"YouTube"},{id:"pinterest",name:"Pinterest"},{id:"linkedin",name:"Linkedin"},{id:"snapchat",name:"Snapchat"},{id:"vimeo",name:"Vimeo"},{id:"tumblr",name:"Tumblr"},{id:"github",name:"Github"},{id:"soundcloud",name:"SoundCloud"},{id:"medium",name:"Medium"},{id:"dribbble",name:"Dribbble"},{id:"xing",name:"Xing"}]},Ae,He,so]},getMjmlAttributes(){const Y=ao(this);return{...this.getDefaultIconProps()[Y.name],...Y}},getAttrToHTML(){const Y=ot.prototype.getAttrToHTML.call(this);return{...this.getDefaultIconProps()[Y.name],...Y}},getDefaultIconProps(){return{twitter:{src:"https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png","background-color":"black"}}}},extendFnView:["init"],view:{init(){this.listenTo(this.model,"component:update:components",this.rerender)},getMjmlTemplate(){const{start:Y,end:le}=ft.prototype.getMjmlTemplate.call(this);return{start:Xt(Y,this.model),end:le}},getInnerMjmlTemplate(){var ke;const{start:Y,end:le}=ft.prototype.getInnerMjmlTemplate.call(this),de=((ke=this.model.getInnerHTML())==null?void 0:ke.trim())||"";return{start:`${Y}${de}`,end:le}},getChildrenContainer(){var ke;const{el:Y}=this,le=(ke=Y.querySelector("tbody > tr > td"))==null?void 0:ke.nextElementSibling;return(le==null?void 0:le.firstElementChild)||Y.querySelector("img")||Y}}}),n.addType(A,{model:{...Jt({model:jt}),defaults:{tagName:A,traits:[]}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(ct)}}),n.addType(k,{model:{...Jt({model:U}),defaults:{tagName:k,emptyState:{midSelector:">td>div"}}},view:{getMjmlTemplate:io,getTemplateFromEl:Wt(Q,!0),render(){this.renderAttributes();const Y=this.getTemplateFromMjml();return this.el.innerHTML=Y.content,this.$el.attr(Y.attributes),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.renderStyle(),this.postRender(),Ps(this.model),this}}}),n.addType(H,{model:{...Jt({model:Z}),defaults:{tagName:H,icon:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" /></svg>',emptyState:{midSelector:">td>div"},"style-default":{}}},view:{getMjmlTemplate(){const{start:Y,end:le}=R.prototype.getMjmlTemplate.call(this);return{start:Xt(Y,this.model),end:le}},getTemplateFromEl(Y){return Y.querySelector(".mj-inline-links").innerHTML}}}),n.addType(L,{extendFn:["initToolbar"],model:{defaults:{tagName:L,name:"HTML block",emptyState:{midSelector:">div"}},initToolbar(){bA(this,{id:"edit",command:()=>xs(this),label:`<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`})},toJSON:Mn(F)},view:{events:{dblclick:"onActive"},onActive(){xs(this.model)},attributes:{}}}),n.addType("skip-global-style",{isComponent:Y=>{var le,de;if(((le=Y.tagName)==null?void 0:le.toLowerCase())===v&&((de=Y.getAttribute)==null?void 0:de.call(Y,"css-class"))===pe)return{type:"textnode",components:[],content:""}}});const dj=Y=>{const{id:le,view:de}=Y,ke=de.prototype;n.addType(le,{view:{render(){return ke.render.apply(this,arguments),mv(le,this),this}}})};[u,C,S,x,k,P,L].forEach(Y=>dj(n.getType(Y))),n.getTypes().forEach(({id:Y,view:le})=>{le.prototype.disableEditing&&n.addType(Y,{view:{onDisable(de={}){this.disableEditing({...de,parserOptions:{htmlType:"text/html"}})}}})});const hS=()=>{const le=e.Components.getWrapper().findFirstType(i),de=le.findFirstType(c)||le.append({type:c})[0];de.components().filter(Zn=>Zn.attributes[Op]==_p).forEach(Zn=>Zn.remove());const Tt=tb(a.fonts);if(!Tt)return;const Ct=de.append({type:v,content:Tt})[0];Ct==null||Ct.set({[Op]:_p},{silent:!0})},mS=()=>{const Y=e.Css.rules.filter(Ct=>{const Zn=Ct.attributes.groups;return!!(Zn!=null&&Zn.some(Os=>Os.startsWith(`${pe}:`)))}).map(Ct=>Ct.toCSS());if(!Y.length)return;const de=e.Components.getWrapper().findFirstType(vi.root),ke=de.findFirstType(c)||de.append({type:c})[0];(ke.findType(v).find(Ct=>Ct.getAttributes()[je]===pe)||ke.append({type:v,attributes:{[je]:pe}})[0]).set("content",Y.join(`
`))},pj=Zr(mS,100);e.on(on.pageSettingsUpdate,Y=>{Y.page||hS()}),e.on(e.events.projectLoad,({loaded:Y})=>{Y&&(mS(),hS())}),e.on(e.Parser.events.htmlBefore,Y=>{var de;const le=(de=e.Parser.config.optionsHtml)==null?void 0:de.codeSanitizer;Y.input=Hb(Y.input,{sanitizer:le})}),e.onReady(()=>{e.on(`${e.DataSources.events.pathSource}:${pe}`,pj)})}function CL(e){const{Blocks:t}=e,n="Content",r="Layout",o={className:"h-7",full:!0,space:"s",nowrap:!0},s={category:r,full:!0},a="gjs-border-2 gjs-border-current gjs-rounded-sm",i=(c,u)=>{t.add(c,{select:!0,category:n,...u})};i("mj-text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,content:"<mj-text>Insert text here</mj-text>",activate:!0}),i("mj-button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:"<mj-button>Button</mj-button>"}),i("mj-image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,content:`<mj-image src="${NC}"/>`,activate:!0}),i("mj-divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:"<mj-divider/>"}),i("mj-social",{label:"Social",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,content:`<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`}),i("mj-social-element",{label:"Social Element",media:`<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,content:'<mj-social-element name="facebook">Facebook</mj-social-element>'}),i("mj-spacer",{label:"Spacer",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,content:"<mj-spacer/>"}),i("mj-navbar",{label:"Navbar",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,content:`<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`}),i("mj-hero",{label:"Hero",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${o1({width:600,height:300,text:"Hero Image",fg:"555"})}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`}),i("mj-raw",{label:"HTML block",activate:!0,media:`<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,content:`<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`}),i("mj-1-column",{...s,label:"1 Column",mediaReact:l.jsx(I,{...o,children:l.jsx(j,{className:a,grow:!0})}),content:`<mj-section>
        <mj-column></mj-column>
      </mj-section>`}),i("mj-2-columns-50-50",{...s,label:"2 Columns 50/50",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0})]}),content:`<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`}),i("mj-2-columns-25-75",{...s,label:"2 Columns 25/75",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-1/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-3/4")})]}),content:`<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`}),i("mj-2-columns-33-67",{...s,label:"2 Columns 33/67",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-1/3")}),l.jsx(j,{className:J(a,"gs-utl-basis-2/3")})]}),content:`<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`}),i("mj-2-columns-67-33",{...s,label:"2 Columns 67/33",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-2/3")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/3")})]}),content:`<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`}),i("mj-2-columns-75-25",{...s,label:"2 Columns 75/25",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-3/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`}),i("mj-3-columns",{...s,label:"3 Columns",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`}),i("mj-3-columns-25-25-50",{...s,label:"3 Columns 25/25/50",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-1/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-2/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`}),i("mj-3-columns-25-50-25",{...s,label:"3 Columns 25/50/25",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-1/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-2/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),i("mj-3-columns-50-25-25",{...s,label:"3 Columns 50/25/25",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:J(a,"gs-utl-basis-2/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/4")}),l.jsx(j,{className:J(a,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),i("mj-4-columns",{...s,label:"4 Columns",mediaReact:l.jsxs(I,{...o,children:[l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0}),l.jsx(j,{className:a,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`})}const xL=(e,t)=>({[Pe.web]:r=>Wp(r,t),[Pe.document]:r=>Wp(r,t),[Pe.react]:r=>Wp(r,t),[Pe.email]:r=>SL(r,t)})[e],la="https://cdn.jsdelivr.net/npm/",Zp={id:"gjs-blocks-basic",src:`${la}grapesjs-blocks-basic@1.0.1/dist/index.js`},EL={id:"grapesjs-plugin-forms",src:`${la}grapesjs-plugin-forms@2.0.5/dist/index.js`},Xp={id:"grapesjs-parser-postcss",src:`${la}grapesjs-parser-postcss@1.0.1/dist/index.js`},PL={id:"grapesjs-navbar",src:`${la}grapesjs-navbar@1.0.1/dist/index.js`,options:{block:{category:"Extra"}}},Jp={id:"grapesjs-plugin-export",src:`${la}grapesjs-plugin-export@1.0.11/dist/index.js`,options:{isBinary:(e,t)=>{const n=t.split(".")[1];return/[\x00-\x08\x0E-\x1F]/.test(e)&&!(n&&["html","css"].indexOf(n)>=0)}}},TL={id:"grapesjs-mjml",src:`${la}grapesjs-mjml@1.0.7/dist/index.js`,options:{columnsPadding:"",useCustomTheme:!1,resetDevices:!1,resetBlocks:!1,blocks:[],useXmlParser:!0,resetStyleManager:!1}},OL={[Pe.email]:[CL,TL],[Pe.web]:[Zp,EL,Jp,Xp,PL],[Pe.document]:[Zp,Jp,Xp],[Pe.react]:[Zp,Jp,Xp]};function _L(e,t){const{blocks:n}=t.appStore.sdkOptions;Array.isArray(n==null?void 0:n.default)&&e.BlockManager.blocks.add(n.default),e.on("rteToolbarPosUpdate",r=>{const o=-r.canvasOffset.left;r.left<o&&(r.left=o)})}function bv({onCopy:e,getValue:t,value:n,title:r="Copy",...o}){const[s,a]=f.useState(!1),i=()=>{CC((t==null?void 0:t())??n),a(!0),e==null||e()};return f.useEffect(()=>{if(!s)return;const c=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(c)},[s]),l.jsx(bt,{onClick:i,title:r,type:"button",size:"lg",withBg:!0,...o,children:l.jsx(re,{className:J(s&&B.tA),icon:s?K.check:K.contentCopy,size:ie.s})})}const vv=f.createContext(null),AL=({children:e})=>{const[t,n]=f.useState({setEditor:r=>{n(o=>({...o,editor:r}))}});return l.jsx(vv.Provider,{value:t,children:e})},Un=()=>{const e=f.useContext(vv);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},Tn=()=>{const{editor:e}=Un();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},Qp=()=>Un().editor,yv=f.createContext(null),ML=({children:e})=>{const[t,n]=f.useState(()=>({setRefCanvas(r){n(o=>({...o,refCanvas:r}))},setCustomModal(r){n(o=>({...o,customModal:r}))},setCustomAssets(r){n(o=>({...o,customAssets:r}))},setCustomBlocks(r){n(o=>({...o,customBlocks:r}))},setCustomRte(r){n(o=>({...o,customRte:r}))},setCustomStyles(r){n(o=>({...o,customStyles:r}))},setCustomLayers(r){n(o=>({...o,customLayers:r}))},setCustomSelectors(r){n(o=>({...o,customSelectors:r}))},setCustomTraits(r){n(o=>({...o,customTraits:r}))},setReady(r){n(o=>({...o,ready:r}))}}));return l.jsx(yv.Provider,{value:t,children:e})},Tr=()=>{const e=f.useContext(yv);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function LL(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}function Mo(e){return typeof e=="function"}function sr(){}const wv=e=>typeof e=="string",NL=async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},Sv=e=>{const t=wv(e)?{id:e,src:e}:e;return new Promise((n,r)=>{const o=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return n(t.id);o.src=t.src,o.onload=()=>n(t.id),o.onerror=()=>r(t.id),document.head.appendChild(o)})},kL=e=>{const t=e.map(n=>Sv(n));return Promise.allSettled(t)},Cv=e=>function(){const t=f.useRef(null);return f.useEffect(()=>{const{current:n}=t;n&&(wv(e)?n.innerHTML=e:n.appendChild(e))},[t.current]),l.jsx("div",{ref:t})},xv=new WeakMap;function ca(e){if(!e)return()=>l.jsx(l.Fragment,{});const t=xv.get(e);if(t)return t;const n=function({children:r}){return mn.createPortal(f.createElement("div",null,r),e)};return xv.set(e,n),n}const $L=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(!1),[s,a]=f.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>l.jsx(l.Fragment,{})});return f.useEffect(()=>{if(!t)return;const i=t.Assets.events.custom,c=({open:u,assets:d,types:p,select:g,close:h,container:m})=>{u&&a({assets:d,types:p,select:g,close:h,Container:ca(m)}),o(u)};return t.on(i,c),()=>{t.off(i,c)}},[t]),f.useEffect(()=>n.setCustomAssets(!0),[]),t?Mo(e)?e({open:r,...s}):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})});f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(()=>({blocks:[],dragStart:sr,dragStop:sr,mapCategoryBlocks:new Map,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const s=t.Blocks.events.custom,a=({blocks:i,container:c,dragStart:u,dragStop:d})=>{const p=i.reduce((g,h)=>{const m=h.getCategoryLabel(),b=g.get(m);return b?b.push(h):g.set(m,[h]),g},new Map);o({blocks:i,dragStart:u,dragStop:d,mapCategoryBlocks:p,Container:ca(c)})};return t.on(s,a),t.Blocks.__trgCustom(),()=>{t.off(s,a)}},[t]),f.useEffect(()=>n.setCustomBlocks(!0),[]),t?Mo(e)?e(r):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})});function IL({children:e,...t}){const n=Tr(),r=f.useRef(null);return f.useEffect(()=>{r.current&&n.setRefCanvas(r.current)},[r.current]),l.jsx("div",{...t,ref:r,children:e})}const VL=f.memo(function({children:e}){const{editor:t}=Un(),[n,r]=f.useState(()=>({devices:[],selected:"",select:sr}));return f.useEffect(()=>{if(!t)return;const{Devices:o}=t,s=o.events.all,a=()=>{var i;r({devices:o.getDevices(),selected:(i=o.getSelected())==null?void 0:i.id,select:c=>o.select(c)})};return t.on(s,a),a(),()=>{t.off(s,a)}},[t]),t?Mo(e)?e(n):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),jL=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function HL(e){const t=e.map(({id:s,src:a})=>({id:s,src:a})),n=e.reduce((s,a)=>(s[a.id]=a,s),{}),r=[],o=[];return(await kL(t)).forEach(s=>{s.status==="fulfilled"?r.push(n[s.value]):o.push(n[s.reason])}),{loaded:r,failed:o}}const DL=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,a)=>{jL(s)&&(r[s.id]={index:a},o.push(s))}),o.length){const{loaded:s}=await HL(o);s.forEach(({id:a,options:i})=>{r[a].loaded=!0,n[a]=i||{}})}Object.keys(r).forEach(s=>{const a=r[s];a.loaded?t[a.index]=s:t[a.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},FL=f.memo(function({children:e,className:t,style:n,options:r={},plugins:o=[],grapesjs:s,grapesjsCss:a,onEditor:i=sr,onReady:c,onUpdate:u,waitReady:d,...p}){const{setEditor:g}=Un(),h=Tr(),[m,b]=f.useState(!1),v=f.useRef(null);f.useEffect(()=>{if(!h.ready||!v.current)return;const T=v.current,_=h.refCanvas;let O,P={},M=[];const A=k=>{const H={height:"100%",...r,plugins:[...M,...r.plugins||[]],pluginsOpts:{...r.pluginsOpts,...P},modal:{custom:!!h.customModal,...r.modal},assetManager:{custom:!!h.customAssets,...r.assetManager},styleManager:{custom:!!h.customStyles,...r.styleManager},blockManager:{custom:!!h.customBlocks,...r.blockManager},richTextEditor:{custom:!!h.customRte,...r.richTextEditor},layerManager:{custom:!!h.customLayers,...r.layerManager},traitManager:{custom:!!h.customTraits,...r.traitManager},selectorManager:{custom:!!h.customSelectors,...r.selectorManager},container:_||T,customUI:!!_,..._?{panels:{defaults:[]}}:{}};O=k.init(H),g(O),i(O),u&&O.on("update",()=>{u(O.getProjectData(),O)}),O.onReady(()=>{b(!0),c==null||c(O)})};return(async()=>{a&&await NL(a);const k=await DL(o);M=k.plugins,P=k.pluginOptions,typeof s=="string"?(await Sv(s),A(window.grapesjs)):A(s)})(),()=>O==null?void 0:O.destroy()},[h.ready]);const w=r.height??"100%",y=r.width??"100%",C=LL("gjs-editor-wrapper",t),S=d&&!m,x=f.useMemo(()=>({...n,height:w,width:y}),[w,y,n]),E=f.useMemo(()=>({...x,...S?{opacity:0,width:0,height:0}:{}}),[x,S]);return l.jsxs(l.Fragment,{children:[d&&!m?l.jsx("div",{className:C,style:x,children:d}):null,l.jsx("div",{...p,ref:v,className:C,style:E,children:e})]})}),BL=f.memo(function(){const e=Tr();return f.useEffect(()=>e.setReady(!0),[]),l.jsx(l.Fragment,{})}),zL=f.memo(function({children:e,...t}){return l.jsx(AL,{children:l.jsx(ML,{children:l.jsxs(FL,{...t,children:[e,l.jsx(BL,{})]})})})}),Rp=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(()=>({root:void 0,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Layers:s}=t,a=s.events.custom,i=({container:c})=>{o({root:s.getRoot(),Container:ca(c)})};return t.on(a,i),s.__trgCustom({}),()=>{t.off(a,i)}},[t]),f.useEffect(()=>n.setCustomLayers(!0),[]),t?Mo(e)?e(r):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),UL=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(!1),[s,a]=f.useState({title:l.jsx(l.Fragment,{}),content:l.jsx(l.Fragment,{}),attributes:{},close:sr});return f.useEffect(()=>{if(!t)return;const i="modal",c=({open:u,title:d,content:p,close:g,attributes:h})=>{u&&a({title:f.createElement(Cv(d)),content:f.createElement(Cv(p)),attributes:h,close:g}),o(u)};return t.on(i,c),()=>{t.off(i,c)}},[t]),f.useEffect(()=>n.setCustomModal(!0),[]),t?typeof e=="function"?e({open:r,...s}):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),ef=f.memo(function({children:e}){const{editor:t}=Un(),[n,r]=f.useState(()=>({pages:[],selected:void 0,select:sr,add:sr,remove:sr}));return f.useEffect(()=>{if(!t)return;const{Pages:o}=t,s=o.events.all,a=()=>{r({pages:o.getAll(),selected:o.getSelected(),select:(...i)=>o.select(...i),add:(...i)=>o.add(...i),remove:(...i)=>o.remove(...i)})};return t.on(s,a),a(),()=>{t.off(s,a)}},[t]),t?Mo(e)?e(n):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),tf=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:sr,removeSelector:sr,setState:sr,Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Selectors:s}=t,a=s.events.custom,i=({container:c})=>{o({selectors:s.getSelected(),states:s.getStates(),selectedState:s.getState(),targets:s.getSelectedTargets().map(u=>u.getSelectorsString()),addSelector:(...u)=>s.addSelected(...u),removeSelector:(...u)=>s.removeSelected(...u),setState:(...u)=>s.setState(...u),Container:ca(c)})};return t.on(a,i),()=>{t.off(a,i)}},[t]),f.useEffect(()=>n.setCustomSelectors(!0),[]),t?Mo(e)?e(r):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),Ev=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(()=>({sectors:[],Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Styles:s}=t,a=s.events.custom,i=({container:c})=>{o({sectors:s.getSectors({visible:!0}),Container:ca(c)})};return t.on(a,i),()=>{t.off(a,i)}},[t]),f.useEffect(()=>n.setCustomStyles(!0),[]),t?Mo(e)?e(r):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),nf=f.memo(function({children:e}){const{editor:t}=Un(),n=Tr(),[r,o]=f.useState(()=>({traits:[],Container:()=>l.jsx(l.Fragment,{})}));return f.useEffect(()=>{if(!t)return;const{Traits:s}=t,a=s.events.custom,i=({container:c})=>{o({traits:s.getCurrent(),Container:ca(c)})};return t.on(a,i),s.__trgCustom(),()=>{t.off(a,i)}},[t]),f.useEffect(()=>n.setCustomTraits(!0),[]),t?Mo(e)?e(r):l.jsx(l.Fragment,{}):l.jsx(l.Fragment,{})}),fs=({children:e})=>Qp()?l.jsx(l.Fragment,{children:e}):l.jsx(l.Fragment,{});function rf(e){return e=e.trimStart(),e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1"),e=e.replace(/;\s*;/g,";"),e=e.replace(/\,[\s\.\#\d]*{/g,"{"),e=e.replace(/([^\s])\{([^\s])/g,`$1 {
	$2`),e=e.replace(/([^\s])\}([^\n]*)/g,`$1
}
$2`),e=e.replace(/([^\s]);([^\s\}])/g,`$1;
	$2`),e}const Pv=se(function(){const t=Tn(),n=Ce(),{Styles:r}=t,{isDarkTheme:o}=dn(),s=r.getSelected(),[a,i]=f.useState(0),c=s?rf(s==null?void 0:s.toCSS({allowEmpty:!0})):"",[u,d]=f.useState(c);f.useEffect(()=>{const g=()=>i(m=>++m),h=r.events.custom;return t.on(h,g),()=>{t.off(h,g)}},[r,t]);const p=()=>{if(u){const g=t.Parser.parseCss(u)[0];g&&(s==null||s.setStyle(g.style))}};return l.jsxs(I,{className:G("relative"),col:!0,full:!0,children:[l.jsx(j,{grow:!0,children:s?l.jsx(Jr,{padding:5,language:"css",defaultValue:c,onChange:d,isDarkTheme:o,clean:!0},a):n.t("noCode")}),l.jsx(Be,{className:G("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:p,children:n.t("update")})]})}),Tv=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],WL=e=>{e.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async t=>{const n=await t.runCommand(ce.projectFiles),r={};for(const o in n){const s=n[o],{filename:a,content:i}=s;if(s.path){const c=s.path.split("/").filter(Boolean);let u=r;for(const d of c)u[d]=u[d]||{},u=u[d];u[a]=i}else r[a]=i}return r}})},GL=se(function(t){const n=Ce(),r=ge(),{isProjectTypeEmail:o}=r,s=r.editor,[a,i]=f.useState(Tv[0].id),[c,u]=f.useState(),{isDarkTheme:d}=dn(),[p]=f.useState(()=>rf(s.getCss())),[g,h]=f.useState(),m=y=>n.t(`actions.showCode.${y}`),b={...t.options,...o?{export:!1}:{}},v=()=>WL(s);f.useEffect(()=>{(async()=>{var T,_;const C=await s.runCommand(ce.projectFiles,{page:s.Pages.getSelected(),skipProject:!0,styles:"skip"}),S=((T=C.find(O=>O.mimeType==="text/html"))==null?void 0:T.content)??"",x=((_=C.find(O=>O.mimeType==="text/mjml"))==null?void 0:_.content)??"";u(a==="mjml"?x:S)})()},[a]),f.useEffect(()=>{var y;g&&((y=g.getModel())==null||y.setValue(c),fv(g))},[g,c]);const w={padding:5,isDarkTheme:d,clean:!0};return l.jsxs(I,{col:!0,space:"m",children:[l.jsxs(I,{className:G("h-96"),space:"m",children:[l.jsxs(j,{className:G("relative"),grow:!0,children:[o&&l.jsxs(I,{className:G("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[l.jsx(Ee,{value:a,onChange:i,options:Tv,className:G("min-w-24")}),l.jsx(bv,{getValue:()=>g.getModel().getValue()})]}),c!==void 0&&l.jsx(Jr,{defaultValue:c,language:"html",onMount:h,...w})]}),!o&&l.jsx(j,{grow:!0,children:l.jsx(Jr,{defaultValue:p,language:"css",...w})})]}),b.export!==!1&&l.jsx(I,{justify:"end",children:l.jsx(Be,{size:"m2",variant:"pr",onClick:v,children:m("exportButton")})})]})}),KL=e=>e.Assets.getAll().reduce((r,o)=>{const s=o.getSrc(),a=s.match(/^data:([^;]+);/);if(a){const i=s.split(",")[1],c=mA(o.get("name"));r[s]={mime:a[1],name:c,base64:i}}return r},{}),qL=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ov=(e,t,n={})=>{let r=e;const o=n.pathPfx||"";for(const s in t)if(r.includes(s)){const a=t[s];r=r.replace(new RegExp(qL(s),"g"),`${o}${a.name}`),a.found=!0}return r},YL=(e,t,n)=>`${t||""}${e||""}${n||""}`,ZL=(e,t)=>{const n=e?`<div ${nc}>${e}</div>`:"",r=t?`<div ${nc} data-gjs-global>${t}</div>`:"";return`${n}${r}`},XL=async(e,t={})=>{const{page:n,skipProject:r,assetsFolder:o="assets",filenameCss:s="style.css",styles:a,isMJML:i,exportConfig:c,skipGlobalCode:u,skipCustomCodeBody:d,scriptComponents:p}=t,g={...c,...e.config.optsHtml||{},...t.optionsHtml},h=[],m=n?[n]:e.Pages.getAll(),b=KL(e),v=`${o}/`,w=e.getCss({keepUnusedStyles:!0,component:n==null?void 0:n.getMainComponent(),...t.optionsCss})||"",y=Ov(w,b,{pathPfx:v}),C=a==="inline",S=a==="skip",x=a==="skipInPage",E=p==="skip",T=u?{}:sa(e).globalPageSettings||{},_=[],O=(P,M)=>{var Ht,so,xs;const{pageSettingOpts:A}=M||{},k=P.getName(),H=C||(A==null?void 0:A.replaceDataSources),L=Oo(P,"title",A)||k,F=Oo(P,"favicon",A),W=Oo(P,"description",A),z=Oo(P,"keywords",A),$=Oo(P,"socialTitle",A),D=Oo(P,"socialDescription",A),V=Oo(P,"socialImage",A),U=u?"":nb(Oo(P,"fonts")),Q=en({page:P,key:"customCodeHead",opts:A})??"",Z=YL(Q,T.customCodeHead,U),R=en({page:P,key:"customCodeBody",opts:A})??"",ne=d?"":ZL(R,T.customCodeBody),ee=P.getMainComponent(),q=E?"":e.getJs({component:ee}),X=q?`<script>${q}<\/script>`:"",ae=[],ue=[],we={asDocument:!1,...g},he=ee.toHTML(we).replace("</body>",()=>`${ne}${X}</body>`),Ie=ee.head;let Ze=L&&`<title>${L}</title>`,mt=F&&`<link rel="icon" href="${F}"/>`,lt=W&&`<meta name="description" content="${W}"/>`,We=z&&`<meta name="keywords" content="${z}"/>`,jt=$&&`<meta property="og:title" content="${$}"/>`,ct=D&&`<meta property="og:description" content="${D}"/>`,Pt=V&&`<meta property="og:image" content="${V}"/>`,yt='<meta charset="utf-8">',ft='<meta name="viewport" content="width=device-width,initial-scale=1">',ot='<meta name="robots" content="index,follow">',ut='<meta name="generator" content="GrapesJS Studio">';Ie.components().forEach(Qe=>{const ht=Qe.toHTML(g);st.title({cmp:Qe})?Ze=ht:st.favicon({cmp:Qe})?mt=ht:st.description({cmp:Qe})?lt=ht:st.keywords({cmp:Qe})?We=ht:st.socialTitle({cmp:Qe})?jt=ht:st.socialDescription({cmp:Qe})?ct=ht:st.socialImage({cmp:Qe})?Pt=ht:st.charset({cmp:Qe})?yt=ht:st.viewport({cmp:Qe})?ft=ht:st.robots({cmp:Qe})?ot=ht:st.generator({cmp:Qe})&&(ut=ht)}),Ze&&ae.push(Ze),yt&&ae.push(yt),ft&&ae.push(ft),ot&&ae.push(ot),ut&&ae.push(ut),lt&&ae.push(lt),We&&ae.push(We),jt&&ae.push(jt),ct&&ae.push(ct),Pt&&ae.push(Pt),mt&&ae.push(mt),ue.length&&ae.push(...ue),Z&&ae.push(Z),y&&!(S||x)&&ae.push(H?`<style>${y}</style>`:`<link rel="stylesheet" href="./${s}">`);const pe=ee.doctype||"<!DOCTYPE html>",je=(so=(Ht=ee.docEl).__attrToString)==null?void 0:so.call(Ht,g),He=(xs=Ie.__attrToString)==null?void 0:xs.call(Ie,g),Ae=e.getHtml(g).trim(),gt=i?e.runCommand(uc,{mjml:Ae}).html:`${pe}
<html${je?` ${je}`:""}>
  <head${He?` ${He}`:""}>
    ${ae.join(`
  `)}
  </head>
  ${he}
</html>
`;return{filename:Ap(e,P),content:Ov(gt,b,{pathPfx:v}),mimeType:"text/html"}};m.forEach(P=>{if(oc(P)){const A=P.getMainComponent(),{dataSourceItem:k}=t,H=k?[k]:A.getDataSourceItems(),L=A.resolverCurrentItem;Object.entries(H).forEach(([F,W])=>{const z=W;A.setResolverCurrentItem(z.id??F);const $=O(P,{pageSettingOpts:{replaceDataSources:!0}}),{path:D,filename:V}=fb(P,{currentItem:z});$.path=D,$.filename=V,_.push($)}),A.setResolverCurrentItem(L)}else _.push(O(P))}),h.push(..._),i&&m.forEach(P=>{h.push({filename:Ap(e,P,"mjml"),content:P.getMainComponent().toHTML(g),mimeType:"text/mjml"})});for(const P in b){const M=b[P];M.found&&h.push({path:o,filename:M.name,content:atob(M.base64),mimeType:M.mime})}return y&&!C&&!S&&h.push({filename:s,content:y,mimeType:"text/css"}),r||h.push({filename:"gjs-project.grapesjs",content:JSON.stringify(e.getProjectData()),mimeType:"application/json"}),h};function JL(e){const{Components:t,Blocks:n}=e,r=o=>{const{model:s,id:a}=o,i=s.getDefaults(),c=n.get(a),u=i.icon,d=c==null?void 0:c.get("media"),p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',g=u&&u!==p&&!d?u:d||p;t.addType(a,{model:{defaults:{icon:g}}})};t.getTypes().forEach(r),e.on("component:type:add",r)}const QL=(e,t)=>{const{contextMenu:n}=t.appStore.store,{Canvas:r}=e;e.on(r.events.frameLoad,({window:o,el:s})=>{o.document.addEventListener("contextmenu",async i=>{if(!n.isEnabled||e.getEditing())return;i.preventDefault();const c=i.target,u=e.getModel().get("componentHovered")||e.Utils.helpers.getModel(c);if(u){const d=s.getBoundingClientRect(),p=r.getZoomDecimal();e.runCommand(ce.contextMenuComponent,{component:u,event:i,x:i.clientX*p+d.left,y:i.clientY*p+d.top})}})})},of=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
<path fill="currentColor" d="M20 6c0-2.168-3.663-4-8-4S4 3.832 4 6v2c0 2.168 3.663 4 8 4s8-1.832 8-4zm-8 13c-4.337 0-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3c0 2.168-3.663 4-8 4"/><path fill="currentColor" d="M20 10c0 2.168-3.663 4-8 4s-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4z"/></svg>`,gs="--before-content",sf={select:!0,activate:!0,category:{id:"data-sources",label:"Data Sources"}},_v={stylable:!1,traits:[]};function RL(e){return typeof e=="object"&&e.type===kt.variable}function Av(e){if(RL(e)){const{path:t}=e;return Mv(t||"")}return e}function Mv(e){return`{{ ${e} }}`}function eN(e){const t={};return e.DataSources.getAll().forEach(n=>{const r=n.get("id");if(!r)return;const o=n.getRecords();if(!o){t[r]={};return}t[r]=o.reduce((s,a)=>{if(!a)return s;let i={...a.attributes};return delete i.__p,delete i.id,r===ps.globalStyles&&(i={value:i.value}),{...s,[a.id]:i}},{})}),t}function Lv(e){return Object.entries(e||{}).map(([t,n])=>({id:t,data:n}))}const af=e=>{var s,a;const{isProjectTypeEmail:t,sdkOptions:n}=e;return((a=(s=n.dataSources)==null?void 0:s.exportConfig)==null?void 0:a.skipTags)??t?{..._v}:{}},lf=e=>{var s,a;const{isProjectTypeEmail:t,sdkOptions:n}=e,r=(a=(s=n.dataSources)==null?void 0:s.exportConfig)==null?void 0:a.skipTags;return t||r===!0?{..._v}:{}},tN=e=>!!e&&typeof e=="object"&&"logicalOperator"in e;function nN(e,t){var h;const{Components:n,I18n:r}=e,{appStore:o}=t,s=r.t("dataSources.collection"),a=kt.collection,i=kt.collectionItem,c="data-type-data-collection",u='<svg viewBox="0 0 24 24"><path d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10" /></svg>',d=(h=t.appStore.sdkOptions.dataSources)==null?void 0:h.blocks,p=m=>{const b=m.is(a)?m:m.closestType(a);if(!b)return;const v="dataCollectionPicker",w={id:v,header:!1,layout:{type:"panelDataCollectionPicker",component:b,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:v})},placer:{type:"dialog",title:r.t("dataSources.editCollection"),size:"l"}};e.runCommand(ce.layoutToggle,{...w})},g=({items:m,component:b})=>[{id:`open-${a}-picker`,label:of,command:()=>p(b)},...m];n.addType(i,{isComponent:m=>oa(m,i),model:{defaults:{...lf(o),name:r.t("dataSources.collectionItem"),copyable:!1,emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M22 13H14V11H22V13M22 7H14V9H22V7M14 17H22V15H14V17M12 9V15C12 16.1 11.1 17 10 17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H10C11.1 7 12 7.9 12 9M10.5 15L8.3 12L6.5 14.3L5.3 12.8L3.5 15H10.5Z" /></svg>',toolbarItems:g}}}),n.addType(a,{isComponent:m=>di(m,c)||oa(m,a),block:d&&{label:s,media:u,content:{type:a,components:{type:i},dataResolver:{startIndex:0,endIndex:1,dataSource:{type:"data-variable",path:""}}},...sf},model:{defaults:{...af(o),icon:u,name:s,attributes:{[c]:!0},toolbarItems:g},init(){const m="collection-";if(!this.getCollectionId()){const v=m+Math.random().toString(36).substring(2,9);this.setCollectionId(v)}}},view:{onActive(m){m==null||m.stopPropagation(),p(this.model)}}})}function rN(e,t){var w;const{Components:n,I18n:r}=e,o=r.t("dataSources.condition"),s=r.t("dataSources.conditionTrue"),a=r.t("dataSources.conditionFalse"),i=r.t("dataSources.conditionElse"),{appStore:c}=t,u=(w=c.sdkOptions.dataSources)==null?void 0:w.blocks,d=kt.condition,p=kt.conditionTrue,g=kt.conditionFalse,h="data-type-data-condition",m=`<svg viewBox="0 0 24 24">
  <path d="M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29" />
</svg>`,b=y=>{const C=y.is(d)?y:y.closestType(d);if(!C)return;const S="dataConditionPicker",x={id:S,header:!1,layout:{type:"panelDataConditionPicker",component:C,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:S})},placer:{type:"dialog",title:r.t("dataSources.editCondition"),size:"l"}};e.runCommand(ce.layoutToggle,{...x})},v=({items:y,component:C})=>[{id:`open-${d}-picker`,label:of,command:()=>b(C)},...y];n.addType(p,{isComponent:y=>oa(y,p),model:{defaults:{...lf(c),tagName:"span",name:s,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',toolbarItems:v}}}),n.addType(g,{isComponent:y=>oa(y,g),model:{defaults:{...lf(c),tagName:"span",name:a,copyable:!1,emptyState:{styleIn:"display: inherit;"},icon:'<svg viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>',toolbarItems:v}}}),n.addType(d,{isComponent:y=>di(y,h)||oa(y,d),block:u&&{label:o,media:m,content:{type:d,dataResolver:{condition:{logicalOperator:"and",statements:[{left:1,operator:">",right:0}]}},components:[{type:p},{type:g}]},...sf},model:{defaults:{...af(c),icon:m,name:o,textable:!0,stylable:!1,tagName:"span",attributes:{[h]:!0},toolbarItems:v}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:y}=this;this.listenTo(y,on.toggleDataSourcesPreview,this.renderDataResolver)},onActive(y){e.getEditing()||(y==null||y.stopPropagation(),b(this.model))},getConditionString(){const{model:y}=this,{operator:C,statements:S=[]}=y.getCondition(),x=C==="AND"?" AND ":" OR ",T=S.map(_=>{const{left:O="",operator:P="",right:M=""}=_,A=Av(O),k=Av(M);return`(${A} ${P} ${k})`}).join(x);return`${o}: ${T}`},renderDataResolver(){const y=this.model,C=y.getIfTrueContent(),S=y.getIfFalseContent(),x=C==null?void 0:C.getEl(),E=S==null?void 0:S.getEl();if(e.runCommand(ce.getStateDataSource).showPlaceholder){x&&(x.style.display="",x.style.setProperty(gs,`"${this.getConditionString()} "`)),E&&(E.style.display="",E.style.setProperty(gs,`" ${i} "`));return}const _=y.isTrue();x&&(x.style.removeProperty(gs),x.style.display=_?"":"none"),E&&(E.style.removeProperty(gs),E.style.display=_?"none":"")}}})}function oN(e,t){var p;const{Components:n,I18n:r}=e,o=kt.variable,s="data-type-data-variable",a="Variable",i=`<svg viewBox="0 0 24 24"><path fill="currentColor" d="${Ol.codeBraces}"/></svg>`,{appStore:c}=t,u=(p=c.sdkOptions.dataSources)==null?void 0:p.blocks,d=g=>{const h="dataVariablePicker",m={id:h,header:!1,layout:{type:"panelDataVariablePicker",component:g,onConfirm:()=>e.runCommand(ce.layoutRemove,{id:h})},placer:{type:"dialog",title:r.t("dataSources.editVariable"),size:"l"}};e.runCommand(ce.layoutToggle,{...m})};n.addType(o,{isComponent:g=>di(g,s)||oa(g,o),block:u&&{label:a,media:i,content:{type:o,dataResolver:{path:"",defaultValue:r.t("dataSources.defaultValue")}},...sf},model:{defaults:{...af(c),icon:i,name:a,textable:!0,tagName:"span",attributes:{[s]:!0},toolbarItems:({items:g,component:h})=>[{id:`open-${o}-modal`,label:of,command:()=>d(h)},...g]}},view:{events:()=>({dblclick:"onActive"}),init(){const{em:g}=this;this.listenTo(g,on.toggleDataSourcesPreview,this.renderDataResolver)},onActive(g){e.getEditing()||(g==null||g.stopPropagation(),d(this.model))},renderDataResolver(){const{model:g,el:h}=this;if(e.runCommand(ce.getStateDataSource).showPlaceholder){const b=g.getPath();h.textContent="",h.style.setProperty(gs,`"${Mv(b)}"`);return}h.style.removeProperty(gs),h.textContent=g.getDataValue()}}})}const ua=(e,t,n)=>{const r=e.Components.getType(t);if(!r){console.warn(`Component type ${t} not found`);return}const o=r.model;e.Components.addType(t,{model:{...n,toHTML(s){var i;const{exporter:a}=s??{};return a?((i=n.toHTML)==null?void 0:i.call(this,s))??"":o.prototype.toHTML.call(this,s)??""}}})};function hc({component:e,value:t,getCustomPath:n}){if(nr(t)&&t.path&&!t.collectionId&&n){const r=t.path??"",o=r.split(".");return{...t,path:n({component:e,path:r,paths:o})}}return t}function sN(e,{isProjectTypeEmail:t}){const n=({content:s})=>t?`<mj-raw>${s}</mj-raw>`:s,r=({content:s})=>s;function o(s){const a=this.getInnerHTML(s);if(t||s.skipTags)return a;const i=this.tagName,c=this.__attrToString(s),u=c?` ${c}`:"",d=`<${i}${u}>`,p=`</${i}>`;return`${d}${a}${p}`}ua(e,kt.variable,{toHTML(s){var v;const a=s.skipTags??t,i=s.exporter,c=s.wrapTemplateContent??r,u=w=>c({component:this,content:w}),d=this.tagName,p=this.__attrToString(s),g=(v=this.getDataResolver)==null?void 0:v.call(this),h=hc({component:this,value:g,getCustomPath:s==null?void 0:s.getCustomPath}),m=i.getVariableSyntax({component:this,dataResolver:h}),b=u(m);return a?b:`<${d}${p?` ${p}`:""}>${b}</${d}>`}}),ua(e,kt.condition,{toHTML(s){var C,S,x;const{exporter:a}=s,i=s.wrapTemplateContent??n,c=E=>i({component:this,content:E}),u={component:this},d=s==null?void 0:s.getCustomPath,[p,g]=((C=this.components())==null?void 0:C.models)??[],h=(S=this.getDataResolver)==null?void 0:S.call(this),m=((x=this.resolveCondition)==null?void 0:x.call(this,h==null?void 0:h.condition,d))??{};let b="";if(g){const E=a.getConditionElseSyntax(u);b=`
${c(E)}
  ${g.toHTML(s)??""}`}const v=a.getConditionalStartSyntax({...u,dataResolver:{condition:m}}),w=a.getConditionalEndSyntax(u);return`
${`${c(v)}
  ${(p==null?void 0:p.toHTML(s))??""}${b}
${c(w)}`}
`},resolveCondition(s,a){if(typeof s=="boolean")return s;if(!s)return{};if(tN(s))return{...s,statements:s.statements.map(c=>this.resolveCondition(c,a))??[]};const i={component:this,getCustomPath:a};return{...s,left:hc({...i,value:s.left}),right:hc({...i,value:s.right})}}}),ua(e,kt.collection,{toHTML(s){const a=s.skipTags??t,{exporter:i}=s,c=s.wrapTemplateContent??n,u=T=>c({component:this,content:T}),d={component:this},p=this.getDataResolver(),g={...p,dataSource:hc({component:this,value:p==null?void 0:p.dataSource,getCustomPath:s==null?void 0:s.getCustomPath})},h=this.components().at(0),m=i.getCollectionStartSyntax({...d,dataResolver:g}),b=i.getCollectionEndSyntax(d),v=(h==null?void 0:h.toHTML(s))??"",w=`${u(m)}
  ${v}
${u(b)}`;if(a)return`
${w}
`;const y=this.tagName,C=this.__attrToString(s),S=C?` ${C}`:"",x=`<${y}${S}>`,E=`</${y}>`;return`
${x}${w}${E}
`}}),ua(e,kt.conditionTrue,{toHTML:o}),ua(e,kt.conditionFalse,{toHTML:o}),ua(e,kt.collectionItem,{toHTML:o})}const aN=function(e,t){const{Components:n,Canvas:r,events:o}=e;if(!n.getType(kt.conditionTrue))return;const{isProjectTypeEmail:s,sdkOptions:a}=t.appStore,{dataSources:i}=a;i!=null&&i.globalData&&e.on(o.projectLoad,()=>{e.DataSources.add({id:ps.globalData,records:Lv(i.globalData),skipFromStorage:!0})}),e.on(r.events.frameLoadBody,({window:c})=>{const u="data-outline-ds",d=c.document;if(d.querySelector(`style[${u}]`))return;const g=d.createElement("style"),h=[kt.variable,kt.condition,kt.collection].map(m=>`.gjs-dashed [data-gjs-highlightable][data-gjs-type="${m}"]`);g.setAttribute(u,""),g.textContent=`
      ${h.join(",")} {
        outline: 2px dotted #8b5cf6;
      }

      .gjs-dashed *[data-gjs-type="data-condition-true-content"],
      .gjs-dashed *[data-gjs-type="data-condition-false-content"] {
        outline: none !important;
      }

      [data-gjs-type="data-variable"]::before,
      [data-gjs-type="data-condition-true-content"]::before,
      [data-gjs-type="data-condition-false-content"]::before {
          content: var(${gs});
          font-style: italic;
          color: #666;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 100%;
          font-size: .9rem;
          font-weight: 500;
          font-family: sans-serif;
      }
    `,d.head.appendChild(g)}),oN(e,t),rN(e,t),nN(e,t),sN(e,{isProjectTypeEmail:s})};function iN(e){const{Components:t}=e,n=r=>{const{id:o,model:s}=r;if(o==="custom-code"){const a="<span>Insert here your custom code</span>";t.addType(o,{model:{defaults:{emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',classes:"gjs-custom-code",components:a,"custom-code-plugin__code":a,styles:".gjs-custom-code { padding: 5px; }"}}})}if(o==="typed"){const a=s.getDefaults().traits.map(i=>i.name==="strings"?{...i,type:"stack",addItem(c){return{id:c,label:`New string ${c}`}},getValue({component:c}){return c.get("strings").map((u,d)=>({id:`${d}`,label:u}))},setValue:({component:c,value:u})=>{const d=u.map(p=>p.label);c.set({strings:d}),c.trigger("rerender")},properties:[{name:"label"}]}:i);t.addType(o,{model:{defaults:{traits:a,strings:["These are the default values...!!!","Use your own strings from Properties!","Have a great day!"],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',classes:"gjs-typed",styles:`
                  .gjs-typed {
                    padding: 5px;
                  }
                `}}})}if(["tabs","tab-content","tab-contents","tab","tab-container"].indexOf(o)>=0){const i={emptyState:!0,icon:o==="tabs"?`
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          `:void 0};o==="tab"&&(i.traits=[{type:"button",label:!1,text:"Style Active",command:c=>{c.select(),c.runCommand(kv),setTimeout(()=>c.Selectors.select(".tab.tab-active"))}}]),t.addType(o,{model:{defaults:i}})}};e.on("component:type:add",n)}const lN=(e,t)=>{const n=t.appStore.store.globalStylesStore;e.on(e.events.projectLoad,({loaded:r})=>r&&n.onLoad())},cN=(e,t)=>{const{assetsStore:n}=t.appStore.store;if(n.onCloudOrCustomUpload){const{Assets:r}=e;r.getConfig().uploadFile=async(...o)=>{const s=o[0],a=await n.handleUpload(s),i=o[1];a&&(i==null||i({data:a}))}}e.on(e.events.destroy,()=>n.setAllProviders([]))},uN=(e,t)=>{t.runCommand(ce.fontAdd,{font:e})},cf=(e,{onSelect:t,...n}={})=>{const r="font",a=e.runCommand(ce.assetProviderGet).filter(i=>et(i.types)?i.types===r:i.types.includes(r))[0];if(!a){e.em.logWarning("No font provider found");return}e.Assets.open({types:[],modalTitle:e.I18n.t("fontManager.selectFont"),projectAssetsOption:!1,typeId:r,providerId:a.id,onSelect:i=>{const c=i.assetProps;uN(c.customData.font,e),t==null||t(i)},content:{header:{addUrl:!1,upload:!1},itemsPerRow:1},...n})},dN=()=>{const{baseApiUrl:e}=Fi();return`${e}/sdk/projects`},Nv=e=>`${dN()}/${e}`,pN=async({licenseKey:e,projectId:t,...n})=>{const r=await cr.put(Nv(t),{body:JSON.stringify(n),params:{d:window.location.hostname,licenseKey:e}});return r==null?void 0:r.result},fN=async(e,t)=>await cr.put(t,{body:e,headers:{"Content-Type":"application/json"}}),gN=async(e,t,n,r)=>{const o=JSON.stringify(e),s=await pN({licenseKey:t,projectId:n,fileMetadata:{size:new Blob([o]).size},identityId:r,name:e.name,description:e.description});if(!s)throw new Error("Project not found");const{uploadUrl:a}=s;await fN(o,a)},hN=(e,t,n)=>cr.get(Nv(t),{params:{d:window.location.hostname,licenseKey:e,identityId:n}}),mN=async e=>await cr.get(e),bN=async(e,t,n,r)=>{const o=await hN(t,n,r),s=o==null?void 0:o.result,a=o==null?void 0:o.errorData;if(!s&&(a!=null&&a.notFoundInDb))return{id:n,project:{}};if(!s)throw new Error("Project not found");const{downloadUrl:i}=s,c=await mN(i);if(!c||c instanceof Error)throw new Error("Project download failed");return{id:n,project:c}},vN=(e,t)=>{const{appEditorStore:n,toastStore:r,i18nStore:o}=t.appStore.store,{isUsingProjectSelfHosted:s,isUsingProjectCloud:a,sdkOptions:i}=n,c=i.storage||{},{project:u,onLoad:d,onSave:p,autosaveChanges:g,autosaveIntervalMs:h}=c;let m,b,v,w;if(s)v=d,w=p,m=g,b=h;else if(a){const E=i.licenseKey,T=n.sdkProjectId,_=n.sdkIdentityId,O=10,P=1e4;w=({project:M})=>gN(M,E,T,_),v=({editor:M})=>bN(M,E,T,_),m=Math.max(O,g??O),h&&(b=Math.max(P,h))}const{Storage:y,events:C}=e,{events:S}=y;let x=!1;if(e.once(C.projectLoad,E=>{x=!!E.loaded}),e.once("change:readyLoad",()=>{var T;const E=(T=i.project)==null?void 0:T.default;!x&&E&&e.loadProjectData(E)}),e.on(S.startStore,()=>n.setIsSaving(!0)),e.on(S.endStore,()=>n.setIsSaving(!1)),(v||u)&&w){const E="remote";y.setCurrent(E),y.add(E,{async load(){return u||(await v({editor:e})).project},async store(T){await w({project:T,editor:e})}}),e.on(S.errorLoad,T=>{r.addError("storage-error-load",{header:o.t("storageManager.errorLoad"),content:T.message})}),e.on(S.errorStore,T=>{r.addError("storage-error-store",{header:o.t("storageManager.errorStore"),content:T.message})}),m&&y.setStepsBeforeSave(m),b&&e.onReady(()=>{const T=setInterval(async()=>{e.getDirtyCount()>0&&!n.isSaving&&await e.store()},b);e.on("destroy",()=>clearInterval(T))})}},mc="select-target",kv="enable-sm";function yN(e,t){var L,F,W,z;const{appStore:n}=t,{appEditorStore:r,blockManagerStore:o,toastStore:s,modalStore:a,layoutStore:i,contextMenu:c,assetsStore:u,fontsStore:d}=n.store,{projectIdToLoad:p,nextProjectData:g,sdkOptions:h}=r,m=()=>o.toggleOpen(),b=()=>r.toggleLeftSidebar(),v=()=>r.toggleRightSidebar(),w=e.getConfig(),{Assets:y,Storage:C,Commands:S}=e,x=S.events,E=e.events,T=(F=(L=h.gjsOptions)==null?void 0:L.assetManager)==null?void 0:F.custom;let _=!1;if(y.all.model.prototype.idAttribute="src",Mt(T)&&(y.getConfig().custom=T),g&&(w.projectData=g,r.setNextProjectData()),p){const $=C.getConfig().options;$&&($.local.key=p)}e.on(E.projectLoad,({project:$})=>{var D;n.setProjectDataCustom($.custom||{projectType:(D=r.sdkOptions.project)==null?void 0:D.type}),d.loadFonts()}),e.on(E.projectGet,({project:$})=>{$.custom=sa(e)}),e.RichTextEditor.getConfig().custom=!0;const{Canvas:O}=e,P=Zr(()=>r.setCanvasPanning(!1),200);e.on(O.events.coords,()=>{r.setCanvasPanning(!0),P()}),e.on(O.events.frameLoad,({el:$})=>{$.tabIndex=-1});const{Parser:M}=e,A=((W=r.sdkOptions.parser)==null?void 0:W.showErrors)!==!1;(z=M.events)!=null&&z.css&&A&&e.on(M.events.css,$=>{const{error:D}=$;if(D){const V=et(D)?D:D.name&&D.reason?`${D.name}: ${D.reason}`:D.message;s.addError("css-error",{header:"CSS Parser Error",content:V})}}),[{id:"toggle-lsidebar",keys:"alt+ctrl+,",cmd:b},{id:"toggle-lsidebar2",keys:"alt++,",cmd:b},{id:"toggle-rsidebar",keys:"alt+ctrl+., alt++.",cmd:v},{id:"show-blocks",keys:"ctrl+b, +b",cmd:m},{id:"add-symbol",keys:"alt+ctrl+k, alt++k",cmd:ce.symbolAdd},{id:"detach-symbol",keys:"shift+alt+ctrl+k, shift+alt++k",cmd:ce.symbolDetach}].forEach(({id:$,keys:D,cmd:V})=>{e.Keymaps.add(`preset:${$}`,D,V,{prevent:!0})}),e.on(`${x.runCommand}core:preview`,()=>{r.setPreview(!0),o.setOpen(!1),hv(e,!1)}),e.on(`${x.stopCommand}core:preview`,()=>{r.setPreview(!1),hv(e,!0),setTimeout(()=>{e.refresh()},r.transitionTime)});const k="target-selection",{Components:H}=e;S.add(mc,{opts:{},init(){this.beforeSelect=this.beforeSelect.bind(this)},onComponentHover($,D){const V={id:k,type:"target",component:D};D?O.addSpot(V):O.removeSpots(V)},beforeSelect($,D={}){D.abort=!0,D.useValid=!1,this.opts.onSelect($),e.stopCommand(mc)},run($,D,V){this.opts=V,e.on("component:select:before",this.beforeSelect),e.on("change:componentHovered",this.onComponentHover)},stop(){e.off("component:select:before",this.beforeSelect),e.off("change:componentHovered",this.onComponentHover),O.removeSpots({id:k}),r.setSelectingTarget(!1)}}),S.add(kv,()=>{r.setSelectedDesignerTab("style")}),S.add(ce.toastAdd,($,D,V)=>{s.add(V.id,V)}),S.add(ce.toastRemove,($,D,V)=>{s.remove(V.id)}),S.add(ce.dialogOpen,($,D,V)=>{a.open(V)}),S.add(ce.dialogClose,()=>{a.close()}),S.add(ce.dialogExportCode,()=>{a.open({title:e.t("actions.showCode.title"),content:()=>{var $,D;return f.createElement(GL,{options:(D=($=h.commands)==null?void 0:$.options)==null?void 0:D[Bn.showCode]})}})}),S.add(ce.sidebarLeftGet,()=>({visible:r.isLeftSidebarOpen})),S.add(ce.sidebarLeftSet,($,D,V)=>{r.setLeftSidebarOpen(!!V.visible)}),S.add(ce.sidebarLeftToggle,()=>{r.setLeftSidebarOpen(!r.isLeftSidebarOpen)}),S.add(ce.sidebarRightGet,()=>({visible:r.isRightSidebarOpen})),S.add(ce.sidebarRightSet,($,D,V)=>{r.setRightSidebarOpen(!!V.visible)}),S.add(ce.sidebarRightToggle,()=>{r.setRightSidebarOpen(!r.isRightSidebarOpen)}),S.add(ce.sidebarTopGet,()=>({visible:r.isTopSidebarOpen})),S.add(ce.sidebarTopSet,($,D,V)=>{r.setTopSidebarOpen(!!V.visible)}),S.add(ce.sidebarTopToggle,()=>{r.setTopSidebarOpen(!r.isTopSidebarOpen)}),S.add(ce.sidebarBottomGet,()=>({visible:r.isBottomSidebarOpen})),S.add(ce.sidebarBottomSet,($,D,V)=>{r.setBottomSidebarOpen(!!V.visible)}),S.add(ce.sidebarBottomToggle,()=>{r.setBottomSidebarOpen(!r.isBottomSidebarOpen)}),S.add(ce.layoutAdd,($,D,V)=>{V.id&&i.add(V.id,V)}),S.add(ce.layoutRemove,($,D,V)=>{const{id:U,...Q}=V;i.remove(U,Q)}),S.add(ce.layoutToggle,($,D,V)=>{const{id:U,...Q}=V;U&&(i.get(U)?i.remove(U,Q):i.add(U,Q))}),S.add(ce.layoutUpdate,($,D,V)=>{const U=V;e.runCommand(ce.layoutRemove,{id:U.id,layout:{placer:{...U.placer,skipCleanup:!0}},force:!0}),setTimeout(()=>e.runCommand(ce.layoutAdd,{...U}))}),S.add(ce.layoutGet,($,D,V)=>[po(i.get(V.id))]),S.add(ce.layoutConfigGet,()=>po(i.customConfig)),S.add(ce.layoutConfigSet,($,D,V)=>{const U=V;i.setCustomConfig(U)}),S.add(ce.getStateTheme,()=>r.publicStateTheme),S.add(ce.setStateTheme,($,D,V)=>r.setPublicStateTheme(V)),S.add(ce.getPagesConfig,()=>r.sdkPagesConfig),S.add(ce.setPagesConfig,($,D,V)=>{const{config:U}=V||{};Mt(U)&&r.setSdkPagesConfig(U)}),S.add(ce.getPageSettings,()=>JSON.parse(JSON.stringify(r.panelPageSettings))),S.add(ce.setPageSettings,($,D,V)=>{r.setPanelPageSettings(V)}),S.add(ce.clearPage,()=>{const $=D=>e.t(`actions.${D}`);a.confirm({title:$("clearCanvas.title"),content:$("clearCanvas.content"),confirmButton:{variant:"danger",children:$("clearCanvas.title")},onConfirm:()=>{wA(e)?e.loadProjectData({pages:[{component:"<mjml><mj-body></mj-body></mjml>"}]}):e.Components.clear()}})}),S.add(ce.projectFiles,($,D,V)=>{var R,ne;const U=(R=r.sdkOptions.dataSources)==null?void 0:R.exportConfig,Q=((ne=V.exportConfig)==null?void 0:ne.exportPreset)??U,Z={isMJML:r.isProjectTypeEmail,exportConfig:Q,...V};return XL($,Z)}),S.add(ce.validateCode,($,D,V)=>Jb({...V,appStore:n})),S.add(ce.getBlocksPanel,()=>({isOpen:o.isOpen})),S.add(ce.setBlocksPanel,($,D,V)=>{const U=V||{};Mt(U.isOpen)&&o.setOpen(U.isOpen)}),S.add(ce.canvasReload,()=>{const $=e.getSelected(),D=O.getCanvasView(),{frames:V}=O.canvas;V.once("loaded:all",()=>{const U=$==null?void 0:$.getView();U&&!U.isInViewport()&&U.el.scrollIntoView({block:"center"})}),D.renderFrames()}),S.add(ce.contextMenuComponent,($,D,V)=>{const{component:U,...Q}=V;c.showForComponent(U,Q)}),S.add(ce.getStateContextMenu,()=>c.publicState),S.add(ce.setStateContextMenu,($,D,V)=>{c.setPublicState(V)}),S.add(ce.symbolAdd,($,D,V)=>{const U=V.component||e.getSelected();if(U)return H.getSymbolInfo(U).isSymbol?s.add("skip-symbol",{header:"The selected element is already a symbol",variant:Kt.Warning}):H.addSymbol(U)}),S.add(ce.symbolDetach,($,D,V)=>{const U=V.component||e.getSelected();U&&H.getSymbolInfo(U).isRoot&&H.detachSymbol(U)}),S.add(ce.symbolOverride,($,D,V)=>{const U=V.component||e.getSelected();U&&(U.setSymbolOverride(V.override),e.Layers.updateLayer(U))}),S.add(ce.symbolPropagateStyles,($,D,V)=>{const U=V.component||e.getSelected();if(!U)return;const{Css:Q}=e,Z=Q.getComponentRules(U,{current:!0})[0];if(Z){const{state:R,mediaText:ne}=Z.attributes,ee=Z.getStyle();H.getSymbolInfo(U).relatives.forEach(q=>{Q.setIdRule(q.getId(),ee,{state:R,mediaText:ne})})}V.deep&&U.components().forEach(R=>e.runCommand(ce.symbolPropagateStyles,{...V,component:R}))}),S.add(ce.assetProviderGet,()=>po(u.allProviders)),S.add(ce.assetProviderAdd,($,D,{provider:V,index:U})=>{u.addProvider(V,U)}),S.add(ce.assetProviderRemove,($,D,{id:V})=>{const U=u.allProviders.filter(Q=>Q.id!==V);u.setAllProviders(U)}),S.add(ce.fontGet,()=>po(d.fonts)),S.add(ce.fontAdd,($,D,{font:V})=>{d.addFont(V)}),S.add(ce.fontRemove,($,D,{family:V})=>{d.removeFont(V)}),S.add(ce.fontManagerOpen,($,D,V)=>{cf($,V)}),S.add(ce.menuFontLoad,($,D,{font:V})=>Tp(V,!1)),S.add(ce.toggleStateDataSource,()=>(_=!_,e.trigger(on.toggleDataSourcesPreview,{showPlaceholder:_}),e.refresh({tools:!0}),{showPlaceholder:_})),S.add(ce.getStateDataSource,()=>({showPlaceholder:_})),S.add(ce.dataSourceSetGlobalData,($,D,{globalData:V})=>{const U=Lv(V);return e.DataSources.get(ps.globalData).setRecords(U)}),S.add(ce.setDragAbsolute,($,D,{enabled:V})=>{r.setIsDraggingAbsolute(!!V)}),S.add(ce.dataSourceSetImporter,($,D,V)=>{e.on(e.Parser.events.htmlBefore,U=>{U.input=V.import(U.input)})}),S.add(ce.dataSourceSetExporter,($,D,V)=>{e.config.optsHtml={...e.config.optsHtml,exporter:V}}),cN(e,t),vN(e,t),lN(e,t),iN(e),JL(e),wL(e),QL(e,t),aN(e,t)}const wN=/\s(?![^(]*\))/,$v=/^-?[0-9]+[a-zA-Z%]{0,}$/;function Iv(e){const t=e.split(wN),n=t.indexOf("inset")>=0,r=t.filter(d=>d!=="inset"),o=r.filter(d=>!$v.test(d))[0]||"currentColor",s=r.filter(d=>$v.test(d)),[a="0",i="0",c="0",u="0"]=s;return{x:a,y:i,blur:c,spread:u,inset:n,color:o}}function bc(e){const t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}var SN={grad:.9,turn:360,rad:360/(2*Math.PI)},Qr=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},It=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Wn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Vv=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},jv=function(e){return{r:Wn(e.r,0,255),g:Wn(e.g,0,255),b:Wn(e.b,0,255),a:Wn(e.a)}},uf=function(e){return{r:It(e.r),g:It(e.g),b:It(e.b),a:It(e.a,3)}},CN=/^#([0-9a-f]{3,8})$/i,vc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Hv=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),i=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(i<0?i+6:i),s:s?a/s*100:0,v:s/255*100,a:o}},Dv=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),i=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,i,a,a,c,r][u],g:255*[c,r,r,i,a,a][u],b:255*[a,a,c,r,r,i][u],a:o}},Fv=function(e){return{h:Vv(e.h),s:Wn(e.s,0,100),l:Wn(e.l,0,100),a:Wn(e.a)}},Bv=function(e){return{h:It(e.h),s:It(e.s),l:It(e.l),a:It(e.a,3)}},zv=function(e){return Dv((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Ei=function(e){return{h:(t=Hv(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},xN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,EN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,PN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,df={string:[[function(e){var t=CN.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?It(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?It(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=PN.exec(e)||TN.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:jv({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=xN.exec(e)||EN.exec(e);if(!t)return null;var n,r,o=Fv({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(SN[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return zv(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o===void 0?1:o;return Qr(t)&&Qr(n)&&Qr(r)?jv({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,s=o===void 0?1:o;if(!Qr(t)||!Qr(n)||!Qr(r))return null;var a=Fv({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return zv(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,s=o===void 0?1:o;if(!Qr(t)||!Qr(n)||!Qr(r))return null;var a=function(i){return{h:Vv(i.h),s:Wn(i.s,0,100),v:Wn(i.v,0,100),a:Wn(i.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return Dv(a)},"hsv"]]},Uv=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},ON=function(e){return typeof e=="string"?Uv(e.trim(),df.string):typeof e=="object"&&e!==null?Uv(e,df.object):[null,void 0]},pf=function(e,t){var n=Ei(e);return{h:n.h,s:Wn(n.s+100*t,0,100),l:n.l,a:n.a}},ff=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Wv=function(e,t){var n=Ei(e);return{h:n.h,s:n.s,l:Wn(n.l+100*t,0,100),a:n.a}},gf=function(){function e(t){this.parsed=ON(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return It(ff(this.rgba),2)},e.prototype.isDark=function(){return ff(this.rgba)<.5},e.prototype.isLight=function(){return ff(this.rgba)>=.5},e.prototype.toHex=function(){return t=uf(this.rgba),n=t.r,r=t.g,o=t.b,a=(s=t.a)<1?vc(It(255*s)):"","#"+vc(n)+vc(r)+vc(o)+a;var t,n,r,o,s,a},e.prototype.toRgb=function(){return uf(this.rgba)},e.prototype.toRgbString=function(){return t=uf(this.rgba),n=t.r,r=t.g,o=t.b,(s=t.a)<1?"rgba("+n+", "+r+", "+o+", "+s+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,s},e.prototype.toHsl=function(){return Bv(Ei(this.rgba))},e.prototype.toHslString=function(){return t=Bv(Ei(this.rgba)),n=t.h,r=t.s,o=t.l,(s=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+s+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,s},e.prototype.toHsv=function(){return t=Hv(this.rgba),{h:It(t.h),s:It(t.s),v:It(t.v),a:It(t.a,3)};var t},e.prototype.invert=function(){return Or({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Or(pf(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Or(pf(this.rgba,-t))},e.prototype.grayscale=function(){return Or(pf(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Or(Wv(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Or(Wv(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Or({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):It(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Ei(this.rgba);return typeof t=="number"?Or({h:t,s:n.s,l:n.l,a:n.a}):It(n.h)},e.prototype.isEqual=function(t){return this.toHex()===Or(t).toHex()},e}(),Or=function(e){return e instanceof gf?e:new gf(e)},Gv=[],_N=function(e){e.forEach(function(t){Gv.indexOf(t)<0&&(t(gf,df),Gv.push(t))})};function AN(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var s={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,c,u=r[this.toHex()];if(u)return u;if(a!=null&&a.closest){var d=this.toRgb(),p=1/0,g="black";if(!s.length)for(var h in n)s[h]=new e(n[h]).toRgb();for(var m in n){var b=(i=d,c=s[m],Math.pow(i.r-c.r,2)+Math.pow(i.g-c.g,2)+Math.pow(i.b-c.b,2));b<p&&(p=b,g=m)}return g}},t.string.push([function(a){var i=a.toLowerCase(),c=i==="transparent"?"#0000":n[i];return c?new e(c).toRgb():null},"name"])}function yc(){return(yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kv(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function hf(e){var t=f.useRef(e),n=f.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var da=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Pi=function(e){return"touches"in e},mf=function(e){return e&&e.ownerDocument.defaultView||self},qv=function(e,t,n){var r=e.getBoundingClientRect(),o=Pi(t)?function(s,a){for(var i=0;i<s.length;i++)if(s[i].identifier===a)return s[i];return s[0]}(t.touches,n):t;return{left:da((o.pageX-(r.left+mf(e).pageXOffset))/r.width),top:da((o.pageY-(r.top+mf(e).pageYOffset))/r.height)}},Yv=function(e){!Pi(e)&&e.preventDefault()},bf=f.memo(function(e){var t=e.onMove,n=e.onKey,r=Kv(e,["onMove","onKey"]),o=f.useRef(null),s=hf(t),a=hf(n),i=f.useRef(null),c=f.useRef(!1),u=f.useMemo(function(){var h=function(v){Yv(v),(Pi(v)?v.touches.length>0:v.buttons>0)&&o.current?s(qv(o.current,v,i.current)):b(!1)},m=function(){return b(!1)};function b(v){var w=c.current,y=mf(o.current),C=v?y.addEventListener:y.removeEventListener;C(w?"touchmove":"mousemove",h),C(w?"touchend":"mouseup",m)}return[function(v){var w=v.nativeEvent,y=o.current;if(y&&(Yv(w),!function(S,x){return x&&!Pi(S)}(w,c.current)&&y)){if(Pi(w)){c.current=!0;var C=w.changedTouches||[];C.length&&(i.current=C[0].identifier)}y.focus(),s(qv(y,w,i.current)),b(!0)}},function(v){var w=v.which||v.keyCode;w<37||w>40||(v.preventDefault(),a({left:w===39?.05:w===37?-.05:0,top:w===40?.05:w===38?-.05:0}))},b]},[a,s]),d=u[0],p=u[1],g=u[2];return f.useEffect(function(){return g},[g]),f.createElement("div",yc({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),wc=function(e){return e.filter(Boolean).join(" ")},vf=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=wc(["react-colorful__pointer",e.className]);return f.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},f.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},nn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Zv=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:nn(e.h),s:nn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:nn(o/2),a:nn(r,2)}},yf=function(e){var t=Zv(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},wf=function(e){var t=Zv(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},MN=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),i=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:nn(255*[r,i,a,a,c,r][u]),g:nn(255*[c,r,r,i,a,a][u]),b:nn(255*[a,a,c,r,r,i][u]),a:nn(o,2)}},LN=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?NN({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},NN=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),i=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:nn(60*(i<0?i+6:i)),s:nn(s?a/s*100:0),v:nn(s/255*100),a:o}},kN=f.memo(function(e){var t=e.hue,n=e.onChange,r=wc(["react-colorful__hue",e.className]);return f.createElement("div",{className:r},f.createElement(bf,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:da(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":nn(t),"aria-valuemax":"360","aria-valuemin":"0"},f.createElement(vf,{className:"react-colorful__hue-pointer",left:t/360,color:yf({h:t,s:100,v:100,a:1})})))}),$N=f.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:yf({h:t.h,s:100,v:100,a:1})};return f.createElement("div",{className:"react-colorful__saturation",style:r},f.createElement(bf,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:da(t.s+100*o.left,0,100),v:da(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+nn(t.s)+"%, Brightness "+nn(t.v)+"%"},f.createElement(vf,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:yf(t)})))}),IN=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},VN=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function jN(e,t,n){var r=hf(n),o=f.useState(function(){return e.toHsva(t)}),s=o[0],a=o[1],i=f.useRef({color:t,hsva:s});f.useEffect(function(){if(!e.equal(t,i.current.color)){var u=e.toHsva(t);i.current={hsva:u,color:t},a(u)}},[t,e]),f.useEffect(function(){var u;IN(s,i.current.hsva)||e.equal(u=e.fromHsva(s),i.current.color)||(i.current={hsva:s,color:u},r(u))},[s,e,r]);var c=f.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[s,c]}var HN=typeof window<"u"?f.useLayoutEffect:f.useEffect,DN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Xv=new Map,FN=function(e){HN(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Xv.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Xv.set(t,n);var r=DN();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},BN=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+wf(Object.assign({},n,{a:0}))+", "+wf(Object.assign({},n,{a:1}))+")"},s=wc(["react-colorful__alpha",t]),a=nn(100*n.a);return f.createElement("div",{className:s},f.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),f.createElement(bf,{onMove:function(i){r({a:i.left})},onKey:function(i){r({a:da(n.a+i.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},f.createElement(vf,{className:"react-colorful__alpha-pointer",left:n.a,color:wf(n)})))},zN=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,a=Kv(e,["className","colorModel","color","onChange"]),i=f.useRef(null);FN(i);var c=jN(n,o,s),u=c[0],d=c[1],p=wc(["react-colorful",t]);return f.createElement("div",yc({},a,{ref:i,className:p}),f.createElement($N,{hsva:u,onChange:d}),f.createElement(kN,{hue:u.h,onChange:d}),f.createElement(BN,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},UN={defaultColor:"rgba(0, 0, 0, 1)",toHsva:LN,fromHsva:function(e){var t=MN(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:VN},WN=function(e){return f.createElement(zN,yc({},e,{colorModel:UN}))};_N([AN]);const GN="gs-cmp-color-picker",KN={backgroundSize:"10px"},qN=[0,15],YN=e=>e.startsWith("rgba")?e:Or(e).toRgbString();function Jv({className:e,value:t,onChange:n,disabled:r}){const o=YN(t||""),s=f.useRef(o),[a,i]=f.useState(!1),c=hr()&&!!window.EyeDropper,u=N(`${GN}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,e,oe.b,oe.rnd,B.br),d=v=>{s.current=v,n==null||n(v)},p=v=>{s.current=v,n==null||n(v,!0)},g=()=>{c&&new window.EyeDropper().open().then(w=>d(w.sRGBHex)).catch(console.warn)},h=()=>{i(!0)},m=()=>{n==null||n(s.current,!1),i(!1)},b=l.jsxs("div",{style:KN,className:u,children:[a&&l.jsx("div",{onPointerUp:m,className:"gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing"}),l.jsx("div",{className:"gs-utl-w-4 gs-utl-h-4",style:{backgroundColor:t}})]});return l.jsxs(Cr,{handler:b,title:"Color",size:"s",placement:"left-end",offset:qN,clickAway:!0,disabled:r,children:[l.jsx(WN,{className:"color-picker",color:o,onChange:p,onPointerDown:h,onPointerUp:m}),l.jsxs(I,{className:"gs-utl-mt-3",gap:"s",children:[l.jsx(j,{grow:!0,children:l.jsx(Re,{size:"s",value:o,onChange:d})}),c&&l.jsx(Be,{type:"button",onClick:g,children:l.jsx(re,{icon:K.eyedropperVariant,size:ie.s})})]})]})}const ZN=e=>{const t=parseFloat(e),n=e.replace(`${t}`,"").trim();return{number:t||t===0?`${t}`:"",unit:n}},Qv=({value:e,step:t})=>{const n=parseFloat(`${e}`);let r=0;if(Math.floor(n)!==n&&t){const o=`${t}`.split(".")[1];r=(o==null?void 0:o.length)||0}return r?parseFloat(n.toFixed(r)):n},XN=({value:e,key:t,shiftKey:n,min:r,max:o,step:s=1})=>{const a=t==="ArrowUp",i=t==="ArrowDown";let c=null;if(a||i){c=Number(e);const u=parseFloat(`${s}`);a&&(c+=(n?10:1)*u),i&&(c-=(n?10:1)*u),c=`${Sc({min:r,max:o,value:c})}`,c=Qv({value:c,step:s})}return c},Sc=({min:e,max:t,value:n})=>{const r=parseFloat(`${n}`);let o=r||0;return Mt(e)&&(o=Math.max(o,parseFloat(`${e}`)||0)),Mt(t)&&(o=Math.min(o,parseFloat(`${t}`)||0)),`${`${r}`!=`${n}`?n:o}`},JN=(e,t,n,r={})=>{const o=parseInt(`${e}`,10)||0,{min:s,max:a,step:i=1}=r;let c=o;const u=p=>{const g=p.clientY-t,h=o-g*parseFloat(`${i}`);c=Qv({value:Sc({min:s,max:a,value:h}),step:i}),n(c,!0)},d=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),n(c)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},QN=(e,t,n={})=>{const{partial:r}=n,o=(s,a)=>s===a||r&&s.startsWith(a);return t.some(s=>o(typeof s=="string"?s:s.id,e))},Rv=e=>Mt(e)?e:"",RN="gs-cmp-number-field";function Ne(e){const{className:t,value:n,units:r,valueUnit:o,size:s="m",pan:a=!0,min:i,max:c,step:u,placeholder:d,disabled:p,onChange:g,onChangeUnit:h}=e,[m,b]=f.useState(Rv(n)),[v,w]=f.useState(!1),y=(r==null?void 0:r.map(O=>({id:O,label:O})))||[],C={min:i,max:c,step:u};f.useEffect(()=>{b(Rv(n))},[n,o]);const S=(O,P)=>{g==null||g(Sc({min:i,max:c,value:O}),P)},x=O=>{if(p)return;w(!0);const P=(M,A)=>{S(M,!!A),!A&&w(!1)};JN(m,O.clientY,P,C)},E=O=>{const{key:P,shiftKey:M}=O;switch(P){case"Escape":return b(n);case"Enter":return S(m)}const A=XN({step:u,value:n,key:P,shiftKey:M});A!==null&&(O.preventDefault(),S(A))},T=()=>{S(m)},_=xo({...e,className:N(RN,t)});return l.jsxs("div",{..._,children:[v&&l.jsx("div",{className:N("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-ns")}),l.jsx(or,{as:e.labelAs,...e}),l.jsxs(I,{className:wp(e),items:"center",space:"x2s",children:[!!a&&l.jsx(j,{onMouseDown:x,className:N("gs-utl-opacity-50 gs-utl-cursor-ns",s==="m"&&"-gs-utl-ml-3",s==="s"&&"-gs-utl-ml-2",a!==!0&&"gs-utl-mr-0.5 -gs-utl-ml-1"),children:a===!0?l.jsx(re,{icon:K.panVertical,size:ie.s2x}):a}),l.jsx(j,{grow:!0,children:l.jsx("input",{className:li(e),value:m,disabled:p,onChange:O=>b(O.target.value),placeholder:d,onBlur:T,onKeyDown:E})}),!!y.length&&l.jsx(j,{className:N(y.length===1&&"gs-utl-opacity-50 gs-utl-pointer-events-none"),children:l.jsx(Ee,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:o,disabled:p,onChange:O=>h==null?void 0:h(O),options:y})})]})]})}const ek="gs-cmp-switch-field";function Ti(e){const{className:t,value:n,label:r,labelAs:o,border:s,disabled:a,onChange:i}=e,c=!!n,u=N("gs-utl-relative gs-utl-inline-flex gs-utl-items-center gs-utl-h-6 gs-utl-rounded-full gs-utl-w-11 gs-utl-transition-colors focus:gs-utl-outline-none",c?B.bgA:B.bgH,Fa.focus,s&&`${B.br} ${oe.b}`);return l.jsx(rp.Group,{children:l.jsxs(I,{items:"center",className:N(ek,t),full:!0,children:[!!r&&l.jsx(rp.Label,{as:o,className:N("gs-utl-mr-4 gs-utl-flex-1"),passive:!0,children:l.jsx(or,{...e,as:"span"})}),l.jsx(rp,{checked:c,onChange:i,className:u,disabled:a,children:l.jsx("span",{className:N(B.bg,"gs-utl-inline-block gs-utl-w-4 gs-utl-h-4 gs-utl-transform gs-utl-rounded-full gs-utl-transition-transform",c?"gs-utl-translate-x-6":"gs-utl-translate-x-1")})})]})})}const tk=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,nk=/,(?![^(]*\))/,Sf=/\s(?![^(]*\))/,rk=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,Cf=/^circle|ellipse/i,xf=e=>{var d;const t=[],{name:n,value:r}=bc(e),[o,...s]=r.split(nk).map(p=>p.trim()).filter(Boolean),a=s.length>1,i=a?o:"",c={type:"none"},u=a?s:[o,...s];if(tk.test(i))c.type="angle",c.value=i;else if(/^to\s/.test(i))c.type="side-or-corner",c.value=i;else if(rk.test(i))c.type="size",c.value=i;else if(Cf.test(i)||/^at\s/.test(i)||/\sat\s/.test(i)){c.type="at",c.value=i;const p=((d=i.match(Cf))==null?void 0:d[0])||"circle";c.shape=p;const g={x:"0%",y:"0%"},h={x:"0%",y:"0%"},[m,b]=i.replace(Cf,"").trim().split("at").map(v=>v.trim());if(m){const[v,w]=m.split(Sf);g.x=v,g.y=w||v}if(b){const[v,w]=b.split(Sf);h.x=v,h.y=w||v}c.size=g,c.position=h}return u.forEach(p=>{const[g,h]=p.split(Sf);t.push({color:g,hint:h?parseFloat(h):null})}),t.forEach((p,g)=>{p.hint===null&&(p.hint=g/(t.length-1)*100)}),{name:n,orientation:c,colorStops:t}},Lo=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const o=(e.length===1?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map(s=>`${s.color} ${s.hint?`${s.hint}%`:""}`.trim()).join(", ");return o?`${n}(${t}, ${o})`:"none"},ok=e=>e.slice().sort((t,n)=>(t.hint||0)-(n.hint||0)),sk="gs-cmp-grad-picker";function ak({className:e,value:t,onChange:n}){var F,W,z;const r=xf(t),[o,s]=f.useState(r.colorStops),[a,i]=f.useState(null),c=f.useRef(null),u=G(sk,"gs-grad-picker gs-utl-select-none gs-utl-gap-1",e,oe.rnd),d=r.name||"linear-gradient",p=d.indexOf("radial")>=0,g=d.indexOf("repeating")>=0,h=r.orientation.value,m=`${parseFloat(`${h}`)||180}`,b=`${parseFloat(`${(F=r.orientation.size)==null?void 0:F.x}`)||0}`,v=`${parseFloat(`${(W=r.orientation.position)==null?void 0:W.x}`)||0}`,w=`${parseFloat(`${(z=r.orientation.position)==null?void 0:z.y}`)||0}`,y=0,C=100,S=($,D=!1)=>{const V=ok($);s(V),n==null||n(Lo({name:d,orientation:h,stops:V}),D)},x=($,D=!1)=>{n==null||n(Lo({stops:o,name:d,orientation:`${$}deg`}),D)},E=($,D=!1)=>{n==null||n(Lo({stops:o,name:d,orientation:`${$}px at ${v}% ${w}%`}),D)},T=($,D=!1)=>{n==null||n(Lo({stops:o,name:d,orientation:`${b}px at ${$}% ${w}%`}),D)},_=($,D=!1)=>{n==null||n(Lo({stops:o,name:d,orientation:`${b}px at ${v}% ${$}%`}),D)},O=$=>{const D=`${$?"repeating-":""}${p?"radial":"linear"}-gradient`;n==null||n(Lo({stops:o,orientation:h,name:D}))},P=$=>{const D=`${g?"repeating-":""}${$?"radial":"linear"}-gradient`;n==null||n(Lo({stops:o,orientation:$?"100px at 50% 50%":"90deg",name:D}))};f.useEffect(()=>{if(!a)return;const $=parseFloat(`${a.stop.hint}`),D=U=>{let Z=(U.clientX-a.x)*100;Z=Z/a.w,Z=$+Z,Z=Z<y?y:Z,Z=Z>C?C:Z,a.stop.hint=parseInt(`${Z}`,10),S(o,!0)},V=()=>{i(null),S(o)};return window.addEventListener("pointermove",D),window.addEventListener("pointerup",V),()=>{window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",V),V()}},[a]);const M=($,D)=>{const V=c.current;i({stop:D,w:(V==null?void 0:V.clientWidth)||0,h:(V==null?void 0:V.clientHeight)||0,x:$.clientX,y:$.clientY})},A=$=>{const D=c.current,V=(D==null?void 0:D.clientWidth)||0,U=(D==null?void 0:D.clientHeight)||0,Q=$.nativeEvent.offsetX-((D==null?void 0:D.clientLeft)||0),Z=$.nativeEvent.offsetY-((D==null?void 0:D.clientTop)||0),R=Q/V*100,ne=document.createElement("canvas"),ee=ne.getContext("2d");if(!ee)return;ne.width=V,ne.height=U;const q=ee.createLinearGradient(0,0,V,U);o.forEach(he=>q.addColorStop(parseFloat(`${he.hint}`)/100,he.color)),ee.fillStyle=q,ee.fillRect(0,0,ne.width,ne.height),ne.style.background="black";const X=ee.getImageData(Q,Z,1,1).data,ae=X[3]?(100/255*X[3]/100).toFixed(2):0,ue=`rgba(${X[0]}, ${X[1]}, ${X[2]}, ${ae})`,we=ue==="rgba(0, 0, 0, 0)"?"#000":ue;S([...o,{color:we,hint:R}])},k=$=>{S(o.filter(D=>D!==$))},H=($,D,V)=>{D&&($.color=D),S(o,V)},L=$=>(a==null?void 0:a.stop)===$;return l.jsxs(I,{className:u,col:!0,children:[!!(a!=null&&a.stop)&&l.jsx("div",{className:G("fixed inset-0 z-50 cursor-colr")}),l.jsxs("div",{className:G("relative gjs-mb-6 gjs-mt-3"),children:[l.jsx("div",{className:G("bg-checker h-8",oe.rnd),children:l.jsx("div",{ref:c,className:G("w-full h-full cursor-cross",oe.b,oe.rnd,B.br),style:{backgroundImage:Lo({stops:o})},onClick:A})}),o.map(($,D)=>l.jsxs("div",{className:G("absolute top-0 h-full"),style:{left:`${$.hint}%`},children:[l.jsx("div",{className:G("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>k($),children:l.jsx(re,{icon:K.close,size:ie.s3x})}),l.jsx("div",{onPointerDown:V=>M(V,$),className:G("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",oe.br,oe.bl,L($)?"gjs-bg-white":"gjs-bg-black")}),l.jsx("div",{className:G("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:l.jsx(Jv,{value:$.color,onChange:(V,U)=>H($,V,U),className:G("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},D))]}),l.jsxs(I,{space:"s",items:"center",children:[l.jsx(j,{grow:!0,children:l.jsx(Ti,{label:"Repeat",value:g,onChange:O})}),l.jsx(j,{grow:!0,children:l.jsx(Ti,{label:"Radial",value:p,onChange:P})})]}),p?l.jsxs(I,{space:"s",col:!0,children:[l.jsx(j,{children:l.jsx(I,{space:"s",items:"center",children:l.jsx(j,{grow:!0,children:l.jsx(Ne,{pan:"S",size:"s",value:b,onChange:E,valueUnit:"px",units:["px"]})})})}),l.jsx(j,{children:l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:l.jsx(Ne,{pan:"X",size:"s",value:v,onChange:T,valueUnit:"%",units:["%"]})}),l.jsx(j,{grow:!0,children:l.jsx(Ne,{pan:"Y",size:"s",value:w,onChange:_,valueUnit:"%",units:["%"]})})]})})]}):l.jsx(I,{space:"s",items:"center",nowrap:!0,children:l.jsx(j,{grow:!0,children:l.jsx(Ne,{pan:"A",size:"s",value:m,onChange:x,valueUnit:"deg",units:["deg"]})})})]})}function No(e){return["data-variable","data-condition"].includes((e==null?void 0:e.type)??"")}const ik=e=>{const{value:t={},onConfirm:n,additionalSources:r,editor:o}=e;if(!o)return;const s="DataValuePicker",a={id:s,header:!1,layout:{type:"panelDataValuePicker",value:t,onConfirm:({value:i})=>{n==null||n(i),o.runCommand(ce.layoutRemove,{id:s})},additionalSources:r},placer:{type:"dialog",size:"l"}};o.runCommand(ce.layoutToggle,{...a})};function e0(e){const{initialDataValue:t,handleDataValueChange:n,handleValueClear:r,editor:o,additionalSources:s,enableDataValue:a,hasDataResolverValue:i}=e;if(!o||!a)return[];const c={type:"button",className:i?B.tAo:"",variant:"out-clear",size:"x2s",block:!0,border:!1},u=[{...c,title:o.I18n.t("dataSources.connectDataValue"),icon:{icon:K.databaseOutline,size:ie.s2x},onClick:()=>ik({value:t,onConfirm:n,additionalSources:s,editor:o})}];return i&&u.push({...c,title:o.I18n.t("dataSources.clearDataValue"),icon:{icon:K.close,size:ie.s2x},onClick:r}),u}const Ef="gs-cmp-accordion",Pf=`${Ef}-handler`,Cc=`${Pf}__content`,lk=`${Ef}-content`;function hs({className:e,classNameWrap:t,classNameContent:n,style:r,handler:o,handlerIcon:s,children:a,inverted:i,disabled:c,sticky:u,onChange:d,open:p}){return l.jsx(Wd,{as:"div",defaultOpen:p,className:G(Ef,t,"relative"),children:({open:g})=>l.jsxs(l.Fragment,{children:[l.jsx(Wd.Button,{as:c?"div":"button",disabled:c,style:r,onClick:h=>d==null?void 0:d({event:h,open:!g}),className:({open:h})=>N(Pf,Xe(e)?e(h):e,u&&"gs-utl-sticky gs-utl-top-0 gs-utl-z-10","gs-utl-w-full"),children:({open:h})=>l.jsxs(I,{items:"center",className:G("gap-2"),full:!0,children:[l.jsx(j,{className:G(Cc,"text-left"),grow:!0,children:Xe(o)?o(h):l.jsxs(I,{items:"center",className:G(`${Cc}-wrp`,"gap-3"),nowrap:!0,children:[!!s&&l.jsx(re,{className:G(`${Cc}-icon`),icon:s,size:ie.s2x}),l.jsx(j,{className:G(`${Cc}-label gs-utl-w-full`),children:o})]})}),l.jsx(j,{className:G(`${Pf}-toggle`,i&&"-order-1",c&&"gs-utl-hidden"),children:l.jsx(re,{icon:K.chevronDown,className:G("w-5 h-5 transition-transform",h&&"rotate-180")})})]})}),l.jsx(Wd.Panel,{className:G(lk,n),children:a})]})})}function ko({label:e,property:t,hasValue:n,empty:r,onClear:o,children:s,shallow:a,row:i,tooltip:c,skipClear:u,className:d,...p}){const g=e||(t==null?void 0:t.getLabel()),h=t==null?void 0:t.getParentTarget(),m=n||!r&&(t==null?void 0:t.hasValue({noParent:!0})),b=!m&&(t==null?void 0:t.hasValue())&&h,v=h==null?void 0:h.getDevice(),w=h==null?void 0:h.getState(),y=h==null?void 0:h.getComponent(),C=()=>o?o():t==null?void 0:t.clear(),S={className:N(d,"gs-utl-text-sm gs-utl-w-full"),col:!i,items:i?"center":void 0,...p},x=N("gs-utl-flex-1",m&&!a&&B.tAo);return t&&!t.isVisible()?null:l.jsxs(I,{gap:"xs",...S,children:[l.jsxs(I,{className:x,as:"label",items:"center",gap:"xs",nowrap:!0,children:[c&&l.jsx(j,{children:l.jsx($t,{title:c,children:l.jsx(re,{icon:K.information,size:ie.sx})})}),l.jsx(j,{children:r?l.jsx("span",{children:""}):g}),!!b&&!a&&l.jsx($t,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:N("gs-utl-mb-1"),children:"Value inherited from"}),!!v&&l.jsxs(I,{gap:"s",children:[l.jsx(j,{children:l.jsx(re,{icon:K.cellphoneLink,size:ie.sx})}),l.jsx(j,{children:l.jsx("b",{children:v.getName()})})]}),l.jsxs(I,{gap:"s",children:[l.jsx(j,{children:l.jsx(re,{icon:y?K.targetVariant:K.tag,size:ie.sx})}),l.jsxs(j,{children:[l.jsx("b",{children:y?"Components":"Selectors"}),l.jsxs("span",{className:N("gs-utl-text-xs gs-utl-opacity-75"),children:[" ",h==null?void 0:h.selectorsToString({skipState:1})]})]})]}),!!w&&l.jsxs(I,{gap:"s",children:[l.jsx(j,{children:l.jsx(re,{icon:K.flare,size:ie.sx})}),l.jsx(j,{children:l.jsx("b",{children:w.getLabel()})})]})]}),children:l.jsx("div",{className:N("gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",B.bgW)})}),m&&!a&&!u&&l.jsx($t,{title:"Clear value",onClick:C,children:l.jsx(re,{className:Le.click,icon:K.close,size:ie.s2x})})]}),!!s&&l.jsx(j,{grow:!0,className:"gs-utl-max-w-full",children:s})]})}function qt(e){const{className:t,options:n,name:r,value:o,size:s="m",required:a,disabled:i,onChange:c,labelAs:u}=e,d=h=>{const m=n.filter(b=>b.id===h)[0];return n.indexOf(m)===n.length-1},p=(h,m)=>N("gs-utl-cursor-pointer",s==="m"&&Me.xy,s==="s"&&"gs-utl-px-2 gs-utl-py-1 text-sm",s==="xs"&&"gs-utl-p-1 text-sm",B.br,h&&B.bgO,!d(m)&&oe.br),g=xo({...e,className:"gs-field-buttons"});return l.jsxs(cm,{value:o,onChange:c,disabled:i,...g,children:[l.jsx(or,{...e,as:u}),r&&l.jsx("input",{type:"hidden",name:r,value:o,required:a}),l.jsx(I,{className:N(t,oe.b,oe.rnd,B.br,"gs-utl-cursor-pointer"),items:"center",full:!0,nowrap:!0,children:n.map(({id:h,label:m,title:b,icon:v})=>l.jsx($t,{title:b,className:N("gs-utl-w-full"),classNameWrp:N("gs-utl-flex-1"),children:l.jsx(cm.Option,{value:h,className:({checked:w})=>p(w,h),children:l.jsxs(I,{justify:"center",gap:"s",full:!0,children:[!!v&&l.jsx(re,{...et(v)?{icon:v,size:ie.s}:v}),m&&l.jsx(j,{children:m})]})})},h))})]})}const ck="gs-cmp-color-field";function Rr(e){const{className:t,value:n,placeholder:r,preventSubmitOnEnter:o=!1,onChange:s,labelAs:a,disabled:i}=e,[c,u]=f.useState(Jl(n)),d=li(e);f.useEffect(()=>{u(Jl(n))},[n]);const p=(b,v)=>{s==null||s(b,v)},g=b=>{switch(b.key){case"Escape":return u(n);case"Enter":p(c),o&&(b.preventDefault(),b.stopPropagation())}},h=()=>{p(c)},m=xo({...e,className:N(ck,t)});return l.jsxs("div",{...m,children:[l.jsx(or,{...e,as:a}),l.jsxs(I,{className:wp(e),items:"center",space:"s",children:[l.jsx(j,{children:l.jsx(Jv,{value:n,onChange:s,disabled:i})}),l.jsx(j,{grow:!0,children:l.jsx("input",{className:N(d,i&&"gs-utl-pointer-events-none"),value:c,onChange:b=>u(b.target.value),placeholder:r,onBlur:h,onKeyDown:g,disabled:i})})]})]})}const ms="gs-cmp-file-field";function Oi(e){var x;const{className:t,value:n,btnLabel:r,nameLabel:o,size:s,isContain:a,clear:i,inputField:c,placeholder:u,preview:d=50,disabled:p,hideButton:g,labelAs:h,onChange:m,onOpen:b}=e,v=(n||"").replace(/^"|"$/gi,""),w=((x=v.split("/").pop())==null?void 0:x.split("?")[0])||"",y={minWidth:d,minHeight:d},C=v?{...y,backgroundImage:`url("${v}")`}:y,S=N(" gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",a?"gs-utl-bg-contain":"gs-utl-bg-cover",oe.b,oe.rnd,B.br);return l.jsxs(I,{className:N(ms,t,"gs-utl-gap-1"),col:!0,nowrap:!0,children:[l.jsx(or,{...e,as:h}),l.jsxs(I,{className:N(`${ms}-content gs-utl-gap-1`,B.bg),items:"center",nowrap:!0,children:[l.jsx(j,{className:N(`${ms}-preview`),children:l.jsx("div",{className:S,style:C})}),l.jsxs(j,{className:N(`${ms}-fields gs-utl-overflow-hidden`),grow:!0,children:[w&&o!==!1&&l.jsx(Co,{className:N(`${ms}-name`,"gs-utl-mb-2",Le.txtEllips),as:"div",size:s,capitalize:!1,children:w}),l.jsxs(I,{className:N(`${ms}-buttons`),space:"s",nowrap:!0,children:[!g&&l.jsx(Be,{onClick:()=>b==null?void 0:b(n),size:s,type:"button",block:!0,full:!0,disabled:p,children:r||"Select image"}),!!n&&i&&l.jsx(bt,{onClick:()=>m==null?void 0:m(""),title:i.tooltip,size:s,icon:{icon:K.close,size:ie.s},type:"button",block:!0})]})]})]}),c&&l.jsx(Re,{className:N(`${ms}-input`),value:v,onChange:m,size:s,placeholder:u})]})}const xc=se(e=>{const{buttonClassName:t,value:n,...r}=e,{editor:o}=ge(),s=Ce(),a=ls(),i=gi(),c=[...r.options||[],...i.fontFamilyOptions].map(u=>{const d=i.getFont(u.id),p=d?Tp(d):u.id;return{...u,content:l.jsx(I,{col:!0,children:l.jsx(j,{style:{fontFamily:p},children:u.label})})}});return l.jsx(Ee,{...r,value:is(n),options:c,afterLabel:i.sdkAddFonts&&a.hasType("font")&&l.jsx(bt,{className:t,title:s.t("fontManager.addFontToProject"),icon:K.plus,size:"xs",border:!1,block:!0,onClick:()=>o&&cf(o,{onSelect:({assetProps:u})=>{const{customData:{font:d}}=u;r.onChange(is(d.family))}})})})});function uk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ec=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pa(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Tf(e){return"nodeType"in e}function $o(e){var t,n;return e?pa(e)?e:Tf(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Of(e){const{Document:t}=$o(e);return e instanceof t}function fa(e){return pa(e)?!1:e instanceof $o(e).HTMLElement}function t0(e){return e instanceof $o(e).SVGElement}function ga(e){return e?pa(e)?e.document:Tf(e)?Of(e)?e:fa(e)||t0(e)?e.ownerDocument:document:document:document}const bs=Ec?f.useLayoutEffect:f.useEffect;function dk(e){const t=f.useRef(e);return bs(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function pk(){const e=f.useRef(null),t=f.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function _i(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function _f(e){const t=dk(e),n=f.useRef(null),r=f.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}let Af={};function Ai(e,t){return f.useMemo(()=>{if(t)return t;const n=Af[e]==null?0:Af[e]+1;return Af[e]=n,e+"-"+n},[e,t])}function n0(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[c,u]of i){const d=s[c];d!=null&&(s[c]=d+e*u)}return s},{...t})}}const Mi=n0(1),r0=n0(-1);function fk(e){return"clientX"in e&&"clientY"in e}function gk(e){if(!e)return!1;const{KeyboardEvent:t}=$o(e.target);return t&&e instanceof t}function hk(e){if(!e)return!1;const{TouchEvent:t}=$o(e.target);return t&&e instanceof t}function Mf(e){if(hk(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return fk(e)?{x:e.clientX,y:e.clientY}:null}const Li=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Li.Translate.toString(e),Li.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),mk={display:"none"};function bk(e){let{id:t,value:n}=e;return f.createElement("div",{id:t,style:mk},n)}function vk(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return f.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function yk(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const wk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Sk={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var at;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(at||(at={}));function Lf(...e){}class Ni extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:t})=>!t)}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Pc=f.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:Lf,draggableNodes:{},droppableRects:new Map,droppableContainers:new Ni,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lf},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:Lf,windowRect:null,willRecomputeLayouts:!1});function Ck(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new Ni}}}function xk(e,t){switch(t.type){case at.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case at.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case at.DragEnd:case at.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case at.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ni(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case at.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Ni(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case at.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ni(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}const o0=f.createContext({type:null,event:null});function Ek({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const s=f.useContext(o0),a=f.useRef(s);f.useEffect(()=>{if(s!==a.current){const{type:i,event:c}=s;switch(i){case at.DragStart:e==null||e(c);break;case at.DragMove:t==null||t(c);break;case at.DragOver:n==null||n(c);break;case at.DragCancel:o==null||o(c);break;case at.DragEnd:r==null||r(c);break}a.current=s}},[s,e,t,n,r,o])}function Pk({announcements:e=Sk,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=yk(),s=Ai("DndLiveRegion"),[a,i]=f.useState(!1);return f.useEffect(()=>{i(!0)},[]),Ek(f.useMemo(()=>({onDragStart({active:c}){r(e.onDragStart(c.id))},onDragMove({active:c,over:u}){e.onDragMove&&r(e.onDragMove(c.id,u==null?void 0:u.id))},onDragOver({active:c,over:u}){r(e.onDragOver(c.id,u==null?void 0:u.id))},onDragEnd({active:c,over:u}){r(e.onDragEnd(c.id,u==null?void 0:u.id))},onDragCancel({active:c}){r(e.onDragCancel(c.id))}}),[r,e])),a?mn.createPortal(f.createElement(f.Fragment,null,f.createElement(bk,{id:t,value:n.draggable}),f.createElement(vk,{id:s,announcement:o})),document.body):null}const eo=Object.freeze({x:0,y:0});function s0(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function a0(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}const Tk=({collisionRect:e,droppableContainers:t})=>{const n=a0(e,e.left,e.top);let r=1/0,o=null;for(const s of t){const{rect:{current:a}}=s;if(a){const i=s0(a0(a),n);i<r&&(r=i,o=s.id)}}return o};function Ok(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function _k(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:eo}function Ak(e){return function(n,...r){return r.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x,offsetLeft:o.offsetLeft+e*s.x,offsetTop:o.offsetTop+e*s.y}),{...n})}}const i0=Ak(1);function Mk(e,t=window.getComputedStyle(e)){return t.position==="fixed"}function Lk(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})!=null}function Nf(e){const t=[];function n(r){if(!r)return t;if(Of(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!fa(r)||t0(r)||t.includes(r))return t;const o=window.getComputedStyle(r);return Lk(r,o)&&t.push(r),Mk(r,o)?t:n(r.parentNode)}return e?n(e.parentNode):t}function kf(e){return!Ec||!e?null:pa(e)?e:Tf(e)?Of(e)||e===ga(e).scrollingElement?window:fa(e)?e:null:null}function $f(e){return pa(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var ha;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ha||(ha={}));function l0(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},r=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:r,isLeft:o,isBottom:s,isRight:a,maxScroll:n,minScroll:t}}function Nk(e){return!Ec||!e?!1:e===document.scrollingElement}const kk={x:.2,y:.2};function $k(e,t,{top:n,left:r,right:o,bottom:s},a=10,i=kk){const{clientHeight:c,clientWidth:u}=e,d=Nk(e)?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t,{isTop:p,isBottom:g,isLeft:h,isRight:m}=l0(e),b={x:0,y:0},v={x:0,y:0},w={height:d.height*i.y,width:d.width*i.x};return!p&&n<=d.top+w.height?(b.y=ha.Backward,v.y=a*Math.abs((d.top+w.height-n)/w.height)):!g&&s>=d.bottom-w.height&&(b.y=ha.Forward,v.y=a*Math.abs((d.bottom-w.height-s)/w.height)),!m&&o>=d.right-w.width?(b.x=ha.Forward,v.x=a*Math.abs((d.right-w.width-o)/w.width)):!h&&r<=d.left+w.width&&(b.x=ha.Backward,v.x=a*Math.abs((d.left+w.width-r)/w.width)),{direction:b,speed:v}}function Ik(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function c0(e){return e.reduce((t,n)=>Mi(t,$f(n)),eo)}function u0(e,t,n=eo){if(!e||!fa(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:u0(e.offsetParent,t,r)}function Tc(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:o}=u0(e,null);return{width:t,height:n,offsetTop:o,offsetLeft:r}}function Oc(e){if(pa(e)){const u=window.innerWidth,d=window.innerHeight;return{top:0,left:0,right:u,bottom:d,width:u,height:d,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=Tc(e),{width:r,height:o,top:s,bottom:a,left:i,right:c}=e.getBoundingClientRect();return{width:r,height:o,top:s,bottom:a,right:c,left:i,offsetTop:t,offsetLeft:n}}function If(e){const{width:t,height:n,offsetTop:r,offsetLeft:o}=Tc(e),s=Nf(e),a=c0(s),i=r-a.y,c=o-a.x;return{width:t,height:n,top:i,bottom:i+n,right:c+t,left:c,offsetTop:r,offsetLeft:o}}function d0(e){return"top"in e}function p0(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const Vk=({collisionRect:e,droppableContainers:t})=>{let n=1/0,r=null;const o=p0(e,e.left,e.top);for(const s of t){const{rect:{current:a}}=s;if(a){const i=p0(a,d0(a)?a.left:void 0,d0(a)?a.top:void 0),c=o.reduce((d,p,g)=>d+s0(i[g],p),0),u=Number((c/4).toFixed(4));u<n&&(n=u,r=s.id)}}return r};function jk(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),o=Math.min(t.left+t.width,e.offsetLeft+e.width),s=Math.min(t.top+t.height,e.offsetTop+e.height),a=o-r,i=s-n;if(r<o&&n<s){const c=t.width*t.height,u=e.width*e.height,d=a*i,p=d/(c+u-d);return Number(p.toFixed(4))}return 0}const Hk=({collisionRect:e,droppableContainers:t})=>{let n=0,r=null;for(const o of t){const{rect:{current:s}}=o;if(s){const a=jk(s,e);a>n&&(n=a,r=o.id)}}return r};var ki;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ki||(ki={}));var _c;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(_c||(_c={}));function Dk({acceleration:e,activator:t=ki.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:s=5,order:a=_c.TreeOrder,pointerCoordinates:i,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[p,g]=pk(),h=f.useRef({x:1,y:1}),m=f.useMemo(()=>{switch(t){case ki.Pointer:return i?{top:i.y,bottom:i.y,left:i.x,right:i.x}:null;case ki.DraggableRect:return r}return null},[t,r,i]),b=f.useRef(eo),v=f.useRef(null),w=f.useCallback(()=>{const C=v.current;if(!C)return;const S=h.current.x*b.current.x,x=h.current.y*b.current.y;C.scrollBy(S,x)},[]),y=f.useMemo(()=>a===_c.TreeOrder?[...c].reverse():c,[a,c]);f.useEffect(()=>{if(!o||!c.length||!m){g();return}for(const C of y){if((n==null?void 0:n(C))===!1)continue;const S=c.indexOf(C),x=u[S];if(!x)continue;const{direction:E,speed:T}=$k(C,x,m,e,d);if(T.x>0||T.y>0){g(),v.current=C,p(w,s),h.current=T,b.current=E;return}}h.current={x:0,y:0},b.current={x:0,y:0},g()},[e,w,n,g,o,s,JSON.stringify(m),p,c,y,u,JSON.stringify(d)])}function Fk(e,t){const n=t!==null?e[t]:void 0,r=n?n.node.current:null;return _i(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function Bk(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}function f0(e){const t=f.useRef(e);return bs(()=>{t.current!==e&&(t.current=e)},[e]),t}var $i;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})($i||($i={}));var Vf;(function(e){e.Optimized="optimized"})(Vf||(Vf={}));const g0=new Map,zk={measure:Tc,strategy:$i.WhileDragging,frequency:Vf.Optimized};function Uk(e,{dragging:t,dependencies:n,config:r}){const[o,s]=f.useState(!1),{frequency:a,measure:i,strategy:c}={...zk,...r},u=f.useRef(e),d=f.useCallback(()=>s(!0),[]),p=f.useRef(null),g=m(),h=_i(b=>{if(g&&!t)return g0;if(!b||b===g0||u.current!==e||o){for(let v of e)v&&(v.rect.current=v.node.current?i(v.node.current):null);return Wk(e)}return b},[e,t,g,i,o]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{o&&s(!1)},[o]),f.useEffect(function(){g||requestAnimationFrame(d)},[t,g]),f.useEffect(function(){g||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{d(),p.current=null},a))},[a,g,d,...n]),{layoutRectMap:h,recomputeLayouts:d,willRecomputeLayouts:o};function m(){switch(c){case $i.Always:return!1;case $i.BeforeDragging:return t;default:return!t}}}function Wk(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:r,rect:o}=n;o.current!=null&&t.set(r,o.current)}return t}function Gk(e){const[t,n]=f.useState(null),r=f.useRef(e),o=f.useCallback(s=>{const a=kf(s.target);a&&n(i=>i?(i.set(a,$f(a)),new Map(i)):null)},[]);return f.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(c=>{const u=kf(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,$f(u)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(c=>{const u=kf(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Mi(s,a),eo):c0(e):eo,[e,t])}const Kk=[];function qk(e){const t=f.useRef(e),n=_i(r=>e?r&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nf(e):Kk,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function Yk(e){f.useEffect(()=>{if(!Ec)return;const t=e.map(({sensor:n})=>n.setup==null?void 0:n.setup());return()=>{for(const n of t)n==null||n()}},e.map(({sensor:t})=>t))}function Zk(e,t){return f.useMemo(()=>e.reduce((n,{eventName:r,handler:o})=>(n[r]=s=>{o(s,t)},n),{}),[e,t])}const jf=m0(Oc),Xk=Jk(Oc);function h0(e,t,n){const r=f.useRef(e);return _i(o=>e?n||!o&&e||e!==r.current?fa(e)&&e.parentNode==null?null:t(e):o??null:null,[e,n,t])}function m0(e){return(t,n)=>h0(t,e,n)}function Jk(e){const t=[];return function(r,o){const s=f.useRef(r);return _i(a=>r.length?o||!a&&r.length||r!==s.current?r.map(i=>e(i)):a??t:t,[r,o])}}function Qk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return fa(t)?t:e}function Rk(e){const{width:t,height:n,offsetLeft:r,offsetTop:o}=Tc(e);return{top:o,bottom:o+n,left:r,right:r+t,width:t,height:n,offsetTop:o,offsetLeft:r}}const e$=m0(Rk);function t$({disabled:e,forceRecompute:t}){const[n,r]=_f(),o=e$(e?null:Qk(n.current),t);return f.useMemo(()=>({nodeRef:n,rect:o,setRef:r}),[o,n,r])}function b0(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function n$(...e){return f.useMemo(()=>[...e].filter(t=>t!=null),[...e])}class Ii{constructor(t){this.target=t,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})}}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function r$(e){const{EventTarget:t}=$o(e);return e instanceof t?e:ga(e)}function Hf(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Gn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Gn||(Gn={}));function v0(e){e.preventDefault()}function o$(e){e.stopPropagation()}var ze;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(ze||(ze={}));const y0={start:[ze.Space,ze.Enter],cancel:[ze.Esc],end:[ze.Space,ze.Enter]},s$=(e,{currentCoordinates:t})=>{switch(e.code){case ze.Right:return{...t,x:t.x+25};case ze.Left:return{...t,x:t.x-25};case ze.Down:return{...t,y:t.y+25};case ze.Up:return{...t,y:t.y-25}}};class Df{constructor(t){this.props=t,this.autoScrollEnabled=!1,this.coordinates=eo;const{event:{target:n}}=t;this.props=t,this.listeners=new Ii(ga(n)),this.windowListeners=new Ii($o(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Gn.Resize,this.handleCancel),this.windowListeners.add(Gn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Gn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props;if(!t.node.current)throw new Error("Active draggable node is undefined");const r=Oc(t.node.current),o={x:r.left,y:r.top};this.coordinates=o,n(o)}handleKeyDown(t){if(gk(t)){const{coordinates:n}=this,{active:r,context:o,options:s}=this.props,{keyboardCodes:a=y0,coordinateGetter:i=s$,scrollBehavior:c="smooth"}=s,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const d=i(t,{active:r,context:o.current,currentCoordinates:n});if(d){const p={x:0,y:0},{scrollableAncestors:g}=o.current;for(const h of g){const m=t.code,b=r0(d,n),{isTop:v,isRight:w,isLeft:y,isBottom:C,maxScroll:S,minScroll:x}=l0(h),E=Ik(h),T={x:Math.min(m===ze.Right?E.right-E.width/2:E.right,Math.max(m===ze.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(m===ze.Down?E.bottom-E.height/2:E.bottom,Math.max(m===ze.Down?E.top:E.top+E.height/2,d.y))},_=m===ze.Right&&!w||m===ze.Left&&!y,O=m===ze.Down&&!C||m===ze.Up&&!v;if(_&&T.x!==d.x){if(m===ze.Right&&h.scrollLeft+b.x<=S.x||m===ze.Left&&h.scrollLeft+b.x>=x.x){h.scrollBy({left:b.x,behavior:c});return}p.x=m===ze.Right?h.scrollLeft-S.x:h.scrollLeft-x.x,h.scrollBy({left:-p.x,behavior:c});break}else if(O&&T.y!==d.y){if(m===ze.Down&&h.scrollTop+b.y<=S.y||m===ze.Up&&h.scrollTop+b.y>=x.y){h.scrollBy({top:b.y,behavior:c});return}p.y=m===ze.Down?h.scrollTop-S.y:h.scrollTop-x.y,h.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(t,Mi(d,p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n),this.coordinates=n}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Df.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=y0,onActivation:n})=>{const{code:r}=e.nativeEvent;return t.start.includes(r)?(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0):!1}}];function w0(e){return!!(e&&"distance"in e)}function S0(e){return!!(e&&"delay"in e)}class Ff{constructor(t,n,r=r$(t.event.target)){this.props=t,this.events=n,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=ga(s),this.documentListeners=new Ii(this.document),this.listeners=new Ii(r),this.windowListeners=new Ii($o(s)),this.initialCoordinates=Mf(o),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Gn.Resize,this.handleCancel),this.windowListeners.add(Gn.DragStart,v0),this.windowListeners.add(Gn.VisibilityChange,this.handleCancel),this.windowListeners.add(Gn.ContextMenu,v0),this.documentListeners.add(Gn.Keydown,this.handleKeydown),n){if(w0(n))return;if(S0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Gn.Click,o$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Gn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){const{activated:n,initialCoordinates:r,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!r)return;const i=Mf(t),c=r0(r,i);if(!n&&a){if(S0(a))return Hf(c,a.tolerance)?this.handleCancel():void 0;if(w0(a))return a.tolerance!=null&&Hf(c,a.tolerance)?this.handleCancel():Hf(c,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(i)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===ze.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const a$={move:{name:"pointermove"},end:{name:"pointerup"}};class Bf extends Ff{constructor(t){const{event:n}=t,r=ga(n.target);super(t,a$,r)}}Bf.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t==null||t({event:e}),!0)}];const i$={move:{name:"mousemove"},end:{name:"mouseup"}};var zf;(function(e){e[e.RightClick=2]="RightClick"})(zf||(zf={}));class l$ extends Ff{constructor(t){super(t,i$,ga(t.event.target))}}l$.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===zf.RightClick?!1:(t==null||t({event:e}),!0)}];const Uf={move:{name:"touchmove"},end:{name:"touchend"}};class c$ extends Ff{constructor(t){super(t,Uf)}static setup(){return window.addEventListener(Uf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Uf.move.name,t)};function t(){}}}c$.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return n.length>1?!1:(t==null||t({event:e}),!0)}}];function u$(e,{transform:t,...n}){return e!=null&&e.length?e.reduce((r,o)=>o({transform:r,...n}),t):t}const d$=[{sensor:Bf,options:{}},{sensor:Df,options:{}}],p$={current:{}},C0=f.createContext({...eo,scaleX:1,scaleY:1}),f$=f.memo(function({id:t,autoScroll:n=!0,announcements:r,children:o,sensors:s=d$,collisionDetection:a=Hk,measuring:i,modifiers:c,screenReaderInstructions:u=wk,...d}){var p,g,h,m,b;const v=f.useReducer(xk,void 0,Ck),[w,y]=v,[C,S]=f.useState(()=>({type:null,event:null})),[x,E]=f.useState(!1),{draggable:{active:T,nodes:_,translate:O},droppable:{containers:P}}=w,M=T?_[T]:null,A=f.useRef({initial:null,translated:null}),k=f.useMemo(()=>{var Qe;return T!=null?{id:T,data:(Qe=M==null?void 0:M.data)!=null?Qe:p$,rect:A}:null},[T,M]),H=f.useRef(null),[L,F]=f.useState(null),[W,z]=f.useState(null),$=f.useRef(d),D=Ai("DndDescribedBy",t),V=f.useMemo(()=>P.getEnabled(),[P]),{layoutRectMap:U,recomputeLayouts:Q,willRecomputeLayouts:Z}=Uk(V,{dragging:x,dependencies:[O.x,O.y],config:i==null?void 0:i.droppable}),R=Fk(_,T),ne=W?Mf(W):null,ee=h0(R,(p=i==null||(g=i.draggable)==null?void 0:g.measure)!=null?p:If),q=jf(R),X=f.useRef(null),ae=X.current,ue=f.useRef({active:null,activeNode:R,collisionRect:null,droppableRects:U,draggableNodes:_,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),we=P.getNodeFor((h=ue.current.over)==null?void 0:h.id),he=jf(R?R.ownerDocument.defaultView:null),Ie=jf(R?R.parentElement:null),Ze=qk(T?we??R:null),mt=Xk(Ze),lt=t$({disabled:T==null,forceRecompute:Z}),We=(m=lt.rect)!=null?m:ee,jt=We===ee?_k(ee,ae):eo,ct=u$(c,{transform:{x:O.x-jt.x,y:O.y-jt.y,scaleX:1,scaleY:1},activatorEvent:W,active:k,activeNodeRect:q,containerNodeRect:Ie,draggingNodeRect:We,over:ue.current.over,overlayNodeRect:lt.rect,scrollableAncestors:Ze,scrollableAncestorRects:mt,windowRect:he}),Pt=ne?Mi(ne,O):null,yt=Gk(Ze),ft=Mi(ct,yt),ot=We?i0(We,ct):null,ut=ot?i0(ot,yt):null,Ut=k&&ut?a({active:k,collisionRect:ut,droppableContainers:V}):null,[pe,je]=f.useState(null),He=Ok(ct,(b=pe==null?void 0:pe.rect)!=null?b:null,ee),Ae=f.useCallback((Qe,{sensor:ht,options:Zt})=>{if(!H.current)return;const rn=_[H.current];if(!rn)return;const hn=new ht({active:H.current,activeNode:rn,event:Qe.nativeEvent,options:Zt,context:ue,onStart(Xt){const zo=H.current;if(!zo)return;const ao=_[zo];if(!ao)return;const{onDragStart:Ps}=$.current,Ts={active:{id:zo,data:ao.data,rect:A}};mn.unstable_batchedUpdates(()=>{y({type:at.DragStart,initialCoordinates:Xt,active:zo}),S({type:at.DragStart,event:Ts})}),Ps==null||Ps(Ts)},onMove(Xt){y({type:at.DragMove,coordinates:Xt})},onEnd:Es(at.DragEnd),onCancel:Es(at.DragCancel)});mn.unstable_batchedUpdates(()=>{F(hn),z(Qe.nativeEvent)});function Es(Xt){return async function(){const{active:ao,over:Ps,scrollAdjustedTranslate:Ts}=ue.current;let Wt=null;if(ao&&Ts){const{cancelDrop:Mn}=$.current;Wt={active:ao,delta:Ts,over:Ps},Xt===at.DragEnd&&typeof Mn=="function"&&await Promise.resolve(Mn(Wt))&&(Xt=at.DragCancel)}if(H.current=null,mn.unstable_batchedUpdates(()=>{y({type:Xt}),je(null),E(!1),F(null),z(null),Wt&&S({type:Xt,event:Wt})}),Wt){const{onDragCancel:Mn,onDragEnd:_u}=$.current,io=Xt===at.DragEnd?_u:Mn;io==null||io(Wt)}}}},[y,_]),gt=f.useCallback((Qe,ht)=>(Zt,rn)=>{const hn=Zt.nativeEvent;H.current!==null||hn.dndKit||hn.defaultPrevented||Qe(Zt,ht.options)===!0&&(hn.dndKit={capturedBy:ht.sensor},H.current=rn,Ae(Zt,ht))},[Ae]),Ht=Bk(s,gt);Yk(s),bs(()=>{$.current=d},Object.values(d)),f.useEffect(()=>{T!=null&&E(!0)},[T]),f.useEffect(()=>{k||(X.current=null),k&&ee&&!X.current&&(X.current=ee)},[ee,k]),f.useEffect(()=>{const{onDragMove:Qe}=$.current,{active:ht,over:Zt}=ue.current;if(!ht)return;const rn={active:ht,delta:{x:ft.x,y:ft.y},over:Zt};S({type:at.DragMove,event:rn}),Qe==null||Qe(rn)},[ft.x,ft.y]),f.useEffect(()=>{const{active:Qe,droppableContainers:ht,scrollAdjustedTranslate:Zt}=ue.current;if(!Qe||!H.current||!Zt)return;const{onDragOver:rn}=$.current,hn=ht.get(Ut),Es=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,Xt={active:Qe,delta:{x:Zt.x,y:Zt.y},over:Es};mn.unstable_batchedUpdates(()=>{je(Es),S({type:at.DragOver,event:Xt}),rn==null||rn(Xt)})},[Ut]),bs(()=>{ue.current={active:k,activeNode:R,collisionRect:ut,droppableRects:U,draggableNodes:_,draggingNodeRect:We,droppableContainers:P,over:pe,scrollableAncestors:Ze,scrollAdjustedTranslate:ft,translatedRect:ot},A.current={initial:We,translated:ot}},[k,R,ut,_,We,U,P,pe,Ze,ft,ot]),Dk({...xs(),draggingRect:ot,pointerCoordinates:Pt,scrollableAncestors:Ze,scrollableAncestorRects:mt});const so=f.useMemo(()=>({active:k,activeNode:R,activeNodeRect:ee,activeNodeClientRect:q,activatorEvent:W,activators:Ht,ariaDescribedById:{draggable:D},containerNodeRect:Ie,dispatch:y,dragOverlay:lt,draggableNodes:_,droppableContainers:P,droppableRects:U,over:pe,recomputeLayouts:Q,scrollableAncestors:Ze,scrollableAncestorRects:mt,willRecomputeLayouts:Z,windowRect:he}),[k,R,q,ee,W,Ht,Ie,lt,y,_,D,P,U,pe,Q,Ze,mt,Z,he]);return f.createElement(o0.Provider,{value:C},f.createElement(Pc.Provider,{value:so},f.createElement(C0.Provider,{value:He},o)),f.createElement(Pk,{announcements:r,hiddenTextDescribedById:D,screenReaderInstructions:u}));function xs(){const Qe=(L==null?void 0:L.autoScrollEnabled)===!1,ht=typeof n=="object"?n.enabled===!1:n===!1,Zt=!Qe&&!ht;return typeof n=="object"?{...n,enabled:Zt}:{enabled:Zt}}}),g$=f.createContext(null),x0="button",h$="Droppable";function m$({id:e,data:t,disabled:n=!1,attributes:r}){const o=Ai(h$),{active:s,activeNodeRect:a,activatorEvent:i,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:p,over:g}=f.useContext(Pc),{role:h=x0,roleDescription:m="draggable",tabIndex:b=0}=r??{},v=(s==null?void 0:s.id)===e,w=f.useContext(v?C0:g$),[y,C]=_f(),S=Zk(p,e),x=f0(t);f.useEffect(()=>(u[e]={id:e,key:o,node:y,data:x},()=>{const T=u[e];T&&T.key===o&&delete u[e]}),[u,e]);const E=f.useMemo(()=>({role:h,tabIndex:b,"aria-pressed":v&&h===x0?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[h,b,v,m,c.draggable]);return{active:s,activeNodeRect:a,activatorEvent:i,attributes:E,droppableRects:d,isDragging:v,listeners:n?void 0:S,node:y,over:g,setNodeRef:C,transform:w}}function b$(){return f.useContext(Pc)}const v$="Droppable";function y$({data:e,disabled:t=!1,id:n}){const r=Ai(v$),{active:o,dispatch:s,over:a}=f.useContext(Pc),i=f.useRef(null),[c,u]=_f(),d=f0(e);return bs(()=>(s({type:at.RegisterDroppable,element:{id:n,key:r,disabled:t,node:c,rect:i,data:d}}),()=>s({type:at.UnregisterDroppable,key:r,id:n})),[n]),f.useEffect(()=>{s({type:at.SetDroppableDisabled,id:n,key:r,disabled:t})},[t]),{active:o,rect:i,isOver:(a==null?void 0:a.id)===n,node:c,over:a,setNodeRef:u}}function w$(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const S$=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const r=n[0];return!e||!r?t:w$(t,e,r)},C$=({transform:e})=>({...e,x:0});function E0(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function x$(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Ac(e){return e!==null&&e>=0}const P0=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{const o=E0(e,n,t),s=e[r],a=o[r];return!a||!s?null:{x:a.offsetLeft-s.offsetLeft,y:a.offsetTop-s.offsetTop,scaleX:a.width/s.width,scaleY:a.height/s.height}},Mc={scaleX:1,scaleY:1},E$=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:o})=>{var s;const a=(s=r[e])!=null?s:t;if(!a)return null;if(n===e){const c=r[o];return c?{x:0,y:e<o?c.offsetTop+c.height-(a.offsetTop+a.height):c.offsetTop-a.offsetTop,...Mc}:null}const i=P$(r,n,e);return n>e&&n<=o?{x:0,y:-a.height-i,...Mc}:n<e&&n>=o?{x:0,y:a.height+i,...Mc}:{x:0,y:0,...Mc}};function P$(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.offsetTop-(o.offsetTop+o.height):s?s.offsetTop-(r.offsetTop+r.height):0:s?s.offsetTop-(r.offsetTop+r.height):o?r.offsetTop-(o.offsetTop+o.height):0:0}const T0="Sortable",O0=f.createContext({activeIndex:-1,containerId:T0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:P0,wasDragging:{current:!1}});function T$({children:e,id:t,items:n,strategy:r=P0}){const{active:o,dragOverlay:s,droppableRects:a,over:i,recomputeLayouts:c,willRecomputeLayouts:u}=b$(),d=Ai(T0,t),p=s.rect!==null,g=f.useMemo(()=>n.map(T=>typeof T=="string"?T:T.id),[n]),h=o!=null,m=f.useRef(!1),b=o?g.indexOf(o.id):-1,v=b!==-1,w=i?g.indexOf(i.id):-1,y=f.useRef(g),C=x$(g,a),S=!O$(g,y.current),x=w!==-1&&b===-1||S;bs(()=>{S&&v&&!u&&c()},[S,v,c,u]),f.useEffect(()=>{y.current=g},[g]),f.useEffect(()=>{const T=setTimeout(()=>{m.current=h},100);return()=>clearTimeout(T)},[h]);const E=f.useMemo(()=>({activeIndex:b,containerId:d,disableTransforms:x,items:g,overIndex:w,useDragOverlay:p,sortedRects:C,strategy:r,wasDragging:m}),[b,d,x,g,w,C,p,r,m]);return f.createElement(O0.Provider,{value:E},e)}function O$(e,t){return e.join()===t.join()}const _$=({id:e,items:t,activeIndex:n,overIndex:r})=>E0(t,n,r).indexOf(e),A$=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:s,previousItems:a,previousContainerId:i,transition:c})=>!c||!n||a!==o&&r===s?!1:t?!0:s!==r&&e===i,M$={duration:200,easing:"ease"},_0="transform",L$=Li.Transition.toString({property:_0,duration:0,easing:"linear"}),N$={roleDescription:"sortable"};function k$({disabled:e,index:t,node:n,rect:r}){const[o,s]=f.useState(null),a=f.useRef(t);return bs(()=>{if(!e&&t!==a.current&&n.current){const i=r.current;if(i){const c=Oc(n.current),u={x:i.offsetLeft-c.offsetLeft,y:i.offsetTop-c.offsetTop,scaleX:i.width/c.width,scaleY:i.height/c.height};(u.x||u.y)&&s(u)}}t!==a.current&&(a.current=t)},[e,t,n,r]),f.useEffect(()=>{o&&requestAnimationFrame(()=>{s(null)})},[o]),o}function $$({animateLayoutChanges:e=A$,attributes:t,disabled:n,data:r,getNewIndex:o=_$,id:s,strategy:a,transition:i=M$}){const{items:c,containerId:u,activeIndex:d,disableTransforms:p,sortedRects:g,overIndex:h,useDragOverlay:m,strategy:b,wasDragging:v}=f.useContext(O0),w=c.indexOf(s),y=f.useMemo(()=>({sortable:{containerId:u,index:w,items:c},...r}),[u,r,w,c]),{rect:C,node:S,setNodeRef:x}=y$({id:s,data:y}),{active:E,activeNodeRect:T,activatorEvent:_,attributes:O,setNodeRef:P,listeners:M,isDragging:A,over:k,transform:H}=m$({id:s,data:y,attributes:{...N$,...t},disabled:n}),L=uk(x,P),F=!!E,W=F&&v.current&&!p&&Ac(d)&&Ac(h),z=!m&&A,$=z&&W?H:null,V=W?$??(a??b)({layoutRects:g,activeNodeRect:T,activeIndex:d,overIndex:h,index:w}):null,U=Ac(d)&&Ac(h)?o({id:s,items:c,activeIndex:d,overIndex:h}):w,Q=f.useRef(c),Z=c!==Q.current,R=f.useRef(U),ne=f.useRef(u),ee=e({active:E,containerId:u,isDragging:A,isSorting:F,id:s,index:w,items:c,newIndex:R.current,previousItems:Q.current,previousContainerId:ne.current,transition:i,wasDragging:v.current}),q=k$({disabled:!ee,index:w,node:S,rect:C});return f.useEffect(()=>{F&&R.current!==U&&(R.current=U),u!==ne.current&&(ne.current=u),c!==Q.current&&(Q.current=c)},[F,U,u,c]),{active:E,attributes:O,activatorEvent:_,rect:C,index:w,isSorting:F,isDragging:A,listeners:M,node:S,overIndex:h,over:k,setNodeRef:L,setDroppableNodeRef:x,setDraggableNodeRef:P,transform:q??V,transition:X()};function X(){if(q||Z&&R.current===w)return L$;if(!(z||!i)&&(F||ee))return Li.Transition.toString({...i,property:_0})}}const I$=[ze.Down,ze.Right,ze.Up,ze.Left],V$=(e,{context:{active:t,droppableContainers:n,translatedRect:r,scrollableAncestors:o}})=>{if(I$.includes(e.code)){if(e.preventDefault(),!t||!r)return;const a=[];n.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const u=c==null?void 0:c.node.current;if(!u)return;const d=If(u),p={...c,rect:{current:d}};switch(e.code){case ze.Down:r.top+r.height<=d.top&&a.push(p);break;case ze.Up:r.top>=d.top+d.height&&a.push(p);break;case ze.Left:r.left>=d.left+d.width&&a.push(p);break;case ze.Right:r.left+r.width<=d.left&&a.push(p);break}});const i=Vk({active:t,collisionRect:r,droppableContainers:a});if(i){var s;const c=(s=n.get(i))==null?void 0:s.node.current;if(c){const d=Nf(c).some((m,b)=>o[b]!==m),p=If(c),g=d?{x:0,y:0}:{x:r.width-p.width,y:r.height-p.height};return{x:p.left-g.x,y:p.top-g.y}}}}};function Lc({children:e,text:t,onConfirm:n,onCancel:r,className:o="w-[200px]",confirmButtonProps:s={},...a}){const i=Ce();return l.jsx(Cr,{...a,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:c})=>l.jsxs(I,{className:G(o),space:"m",col:!0,children:[l.jsx(j,{grow:!0,className:G("text-center"),children:t||i.t("confirmAction")}),l.jsxs(I,{justify:"center",items:"center",gap:"m",nowrap:!0,children:[l.jsx(Be,{variant:"pr",size:"m2",className:"gs-utl-whitespace-nowrap",onClick:()=>{c(),n==null||n()},...s,children:s.children||i.t("confirm")}),l.jsx(Be,{size:"m2",className:"gs-utl-whitespace-nowrap",onClick:()=>{c(),r==null||r()},children:i.t("cancel")})]})]})})}function j$(e){const{id:t,item:n,className:r,select:o,remove:s,renderItem:a,previewStyle:i,sortable:c=!0,disabled:u,confirmRemove:d}=e,{attributes:p,listeners:g,setNodeRef:h,transform:m,transition:b}=$$({id:t,disabled:u}),v={transform:Li.Transform.toString(m),transition:b},w=()=>!u&&(o==null?void 0:o(n));return l.jsx("div",{...c?{ref:h,style:v,...p}:{},children:l.jsxs(I,{space:"s",onClick:w,className:r,items:"center",nowrap:!0,children:[c&&l.jsx(j,{className:G(!u&&Le.hover,!u&&"cursor-grab"),...g,children:l.jsx(re,{icon:K.dotsVertical,size:ie.sx})}),l.jsx(j,{grow:!0,className:G("overflow-hidden"),children:l.jsxs(I,{children:[l.jsx(j,{grow:!0,className:G("overflow-ellipsis overflow-hidden"),children:a(n)}),!!i&&l.jsx(j,{children:l.jsx("div",{className:G("w-4 h-4 gjs-bg-white",oe.b,oe.rnd),style:i(n)})})]})}),s&&d?l.jsx(Lc,{disabled:u,onConfirm:()=>{s==null||s(n)},children:l.jsx(j,{className:G(!u&&Le.click),children:l.jsx(re,{icon:K.close,size:ie.sx})})}):l.jsx(j,{className:G(!u&&Le.click),onClick:y=>{Jo(y),!u&&(s==null||s(n))},children:l.jsx(re,{icon:K.close,size:ie.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}function _r(e){const{className:t,items:n,selected:r,renderItem:o,select:s,add:a,remove:i,move:c,previewStyle:u,getItemId:d=P=>P.id||P.name||P.title||P.label||"",label:p,labelAs:g,children:h,title:m="Select",titleAdd:b="Add",emptyState:v,disabled:w=!1,hidePopover:y,popoverPlacement:C="left",confirmRemove:S}=e,x=n$(b0(Bf),b0(Df,{coordinateGetter:V$}));function E(P){const{active:M,over:A}=P;if(M.id!==(A==null?void 0:A.id)){const k=n.find(L=>d(L)===M.id),H=n.findIndex(L=>d(L)===(A==null?void 0:A.id));k&&(c==null||c(k,H))}}const T=G(oe.rnd,B.br,n.length&&oe.b,n.length&&"gjs-mt-1");let _=l.jsxs("div",{className:T,children:[n.length===0&&v&&l.jsx(I,{className:N("gs-utl-p-2 gs-utl-text-center",B.txtLowEmphasis),items:"center",justify:"center",children:v}),n.map((P,M)=>{const A=d(P),k=P===r,H=G("gjs-px-2 gjs-py-2 text-xs",B.br,M&&oe.bt,!!s&&!k&&!w&&B.hBgH2,k&&B.bgH,w&&"opacity-75");return l.jsx(j$,{id:A,item:P,className:H,select:s,remove:i,renderItem:o,previewStyle:u,sortable:!!c,disabled:w,confirmRemove:S},A||M)})]});c&&(_=l.jsx(f$,{sensors:x,collisionDetection:Tk,onDragEnd:E,modifiers:[C$,S$],children:l.jsx(T$,{items:n.map(d),strategy:E$,children:_})})),s&&!y&&(_=l.jsx(Cr,{placement:C,size:"s",buttonAs:"div",title:m,classNameBody:"gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",open:!!r&&!w,onClose:()=>s==null?void 0:s(null),handler:_,children:h}));const O=a?[{type:"button",icon:K.plus,tooltip:b,variant:"outline",size:"xs",disabled:w,onClick:a}]:[];return l.jsxs("div",{className:G(t,"w-full"),children:[!!(p||a)&&l.jsx(or,{...e,as:g,afterLabelButtons:O}),_]})}const H$="gs-sm-custom-type",D$=se(function({property:t,editor:n}){const r=f.useRef(null),o=t.getType(),s=n.StyleManager,a=s.getType(o),i=a==null?void 0:a.view;return f.useEffect(()=>{const c=r.current;if(i&&c){const u=new i({model:t,config:s.getConfig(),attributes:t.get("attributes")}),d=u.render().el;return c.appendChild(d),()=>{c.removeChild(d),u.remove()}}},[i,t,n]),i&&l.jsx("div",{className:H$,ref:r})});function A0(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}const M0="gs-cmp-style-field";function L0({property:e,sector:t,styleManagerDataConfig:n,fieldProps:r}){const o=N(M0,`${M0}__${e.id}`),s={sector:t,styleManagerDataConfig:n},a=t.em.getEditor(),i=e.getType();switch(i){case"selectFont":return l.jsx(xc,{className:o,...D0(e,s),...r});case"number":case"slider":case"integer":return l.jsx(Ne,{className:o,...rt(e,s),...r});case"color":return l.jsx(Rr,{className:o,...ys(e,s),...r});case"select":return l.jsx(Ee,{className:o,...wt(e,s),...r});case"radio":return l.jsx(qt,{className:o,...Ar(e,s),...r});case"file":return l.jsx(Oi,{className:o,...s8(e,s),...r});case"composite":return l.jsx(pn,{className:o,property:e,corners:e.get("corners"),generic:e.get("generic"),...s});case"stack":{const c=e.getProperties();return l.jsx(_r,{className:o,...Io(e,s),children:l.jsx(Wf,{properties:c,sector:t})})}default:{const c=a.StyleManager.getType(i);return!!(c!=null&&c.create)&&!!(c!=null&&c.view)?l.jsx(D$,{editor:a,property:e}):l.jsx(Re,{className:o,...Yf(e,s)})}}}const N0="gs-cmp-style-prop-row";function Wf({properties:e,sector:t,styleManagerDataConfig:n}){const r={sector:t,styleManagerDataConfig:n};return l.jsx(l.Fragment,{children:e.map(o=>{const s=o.getId(),a=N(N0,`${N0}__${s}`,A0(o)&&"gs-utl-col-span-full");return o.isVisible()?l.jsx("div",{className:a,children:l.jsx(L0,{property:o,...r})},s):null})})}function F$({sector:e,styleManagerDataConfig:t}){const n=gi(),r=e.getProperties().filter(o=>o.isVisible()).map(o=>(n.sdkAddFonts&&o.getId()==="font-family"&&o.set("type","selectFont"),o));return l.jsx("div",{className:N("gs-utl-grid gs-utl-grid-cols-2 gs-utl-gap-2"),children:l.jsx(Wf,{properties:r,sector:e,styleManagerDataConfig:t})})}const B$="gs-cmp-sector-row";function be({className:e,children:t,bottom:n,separator:r,separatorTop:o,property:s,...a}){const i=l.jsx("div",{className:G("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",oe.bb,B.br)}),c=G(B$,e,"w-full gs-utl-gap-2",n),u=(Array.isArray(s)?s:[s]).filter(Boolean);return(u.length?u.some(p=>p.isVisible()):!0)?l.jsxs(l.Fragment,{children:[o&&i,l.jsx(I,{className:c,nowrap:!0,...a,children:t}),r&&i]}):null}function Vi(e,t,n={}){const r=e.getType(),{compact:o=!1,sector:s,styleManagerDataConfig:a}=n,i=e.getParent(),c={sector:s,styleManagerDataConfig:a},u=e.getDefaultValue();if(r==="select"){const p={property:i.getName()};return l.jsx(Ee,{...wt(e,c,p),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(u,p)||u:"Custom",onChange:g=>t.all.map(h=>h.upValue(g))}:{},label:void 0})}else return r==="color"?l.jsx(Rr,{...ys(e,c),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?u:"Custom",onChange:(d,p)=>t.all.map(g=>g.upValue(d,{partial:p}))}:{},label:void 0}):l.jsx(Ne,{...rt(e,c),...o?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?u:"Custom",onChange:(d,p)=>t.all.map(g=>g.upValue(d,{partial:p})),onChangeUnit:d=>t.all.map(p=>p.upUnit(d))}:{},label:void 0})}const Nc="gs-cmp-style-prop-composite";function pn({className:e,property:t,sector:n,styleManagerDataConfig:r,corners:o,compact:s,generic:a,children:i,options:c}){const[u,d]=f.useState(null);if(!(t!=null&&t.isVisible()))return null;const p={id:"custom",label:l.jsx(re,{icon:K.borderStyle,size:ie.s}),title:"Custom"},g=[{id:"all",label:l.jsx(re,{icon:K.borderAllVariant,size:ie.s}),title:"All"},p],h=t.isDetached(),m=t.getProperties(),b=m.length,[v,w,y,C]=m,S=v.getFullValue(),E=m.map(z=>z.getFullValue()).every(z=>z===S),T=u!==null?u:E||c?"all":p.id,_=c?[...c,p]:[],O=t.getFullValue(),P=_.some(z=>z.id===O),M=T===p.id||(c?!P:!1)||!!a,A={compact:s,sector:n,styleManagerDataConfig:r},k=l.jsx(ko,{property:s?null:v,shallow:!h,children:Vi(v,null,A)}),H=l.jsx(ko,{property:s?null:w,shallow:!h,children:Vi(w,null,A)}),L=!!y&&l.jsx(ko,{property:s?null:y,shallow:!h,children:Vi(y,null,A)}),F=!!C&&l.jsx(ko,{property:s?null:C,shallow:!h,children:Vi(C,null,A)}),W=s?{label:t.getLabel()}:{property:t};return l.jsxs(I,{className:G(Nc,e,"gs-utl-w-full gs-utl-gap-2"),col:!0,nowrap:!0,children:[l.jsx(be,{className:`${Nc}__main`,children:l.jsx(ko,{...W,children:!a&&l.jsx(be,{bottom:"0",children:i!==void 0?i:c?l.jsx(l.Fragment,{children:l.jsx(j,{grow:!0,children:l.jsx(qt,{size:"s",options:_,value:M?p.id:O,onChange:z=>{z===p.id?d(z):(t.upValue(z),d(""))}})})}):l.jsxs(l.Fragment,{children:[l.jsx(j,{grow:!0,children:Vi(v,{same:E,all:m},A)}),l.jsx(j,{grow:!0,children:l.jsx(qt,{size:"s",options:g,value:T,onChange:d})})]})})})}),M&&l.jsx(be,{col:!0,className:G(`${Nc}__details`,"gjs-px-2 gjs-py-1",B.bgH2,oe.rnd,oe.b,B.br),children:a?l.jsx("div",{className:G(`${Nc}__props`,"grid grid-cols-2 gap-2"),children:m.map(z=>l.jsx(ko,{property:z,shallow:!h,className:G(A0(z)&&"col-span-full"),children:l.jsx(L0,{property:z,...A,fieldProps:{label:void 0}})},z.getId()))}):b===2?l.jsx(l.Fragment,{children:l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:k}),l.jsx(j,{grow:!0,children:H})]})}):b===3?l.jsxs(l.Fragment,{children:[l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:k}),l.jsx(j,{grow:!0,children:H})]}),l.jsx(I,{space:"s",children:l.jsx(j,{grow:!0,children:L})})]}):o?l.jsxs(l.Fragment,{children:[l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:k}),l.jsx(j,{grow:!0,children:H})]}),l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:F}),l.jsx(j,{grow:!0,children:L})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(I,{className:G("gs-utl-w-1/2 gjs-m-auto"),children:k}),l.jsxs(I,{space:"s",children:[l.jsx(j,{grow:!0,children:F}),l.jsx(j,{grow:!0,children:H})]}),l.jsx(I,{className:G("gs-utl-w-1/2 gjs-m-auto"),children:L})]})})]})}function z$({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("border-radius"),r={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsx(pn,{property:n,corners:!0,...r}),l.jsx(pn,{property:e.getProperty("border-width"),...r}),l.jsx(pn,{property:e.getProperty("border-style"),...r}),l.jsx(pn,{property:e.getProperty("border-color"),...r})]})}const vs=e=>Sc({value:parseFloat(e),min:-3,max:3}),Gf=(e,t="filter",n)=>{const r=e.getProperty(`${t}-value`),o=e.getProperty(`${t}-name`).getOption()||{},s=o.units||[],a=r.getUnit(),i=QN(a,s)?a:s[0];return{...rt(r,n),units:s,valueUnit:i,onChange:(c,u)=>{r.upValue(c,{partial:u,units:s,min:o.min,max:o.max})}}},k0=(e,t,n,r)=>{const o=e.getProperty(`${t}-name`),s=e.getProperty(`${t}-value`);return{...wt(o,n,r),onChange:a=>{o.upValue(a),s.upValue("")}}},U$={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function W$({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("box-shadow"),r=e.getProperty("text-shadow"),o=e.getProperty("filter"),s=e.getProperty("backdrop-filter"),a=e.getProperty("transition"),i=e.getProperty("transform"),c=e.getProperty("perspective-origin"),u=e.getProperty("backface-visibility"),d=e.getProperty("perspective"),p=e.getProperty("transform-style"),g=e.getProperty("opacity"),h=e.getProperty("mix-blend-mode"),m=e.getProperty("cursor"),b={sector:e,styleManagerDataConfig:t},v=y=>{const{boxShadowH:C,boxShadowV:S,boxShadowBlur:x,boxShadowColor:E,boxShadowSpread:T,boxShadowType:_}=y.getValues({camelCase:!0}),O=vs(C),P=vs(S),M=vs(x),A=vs(T),k=`${O}px ${P}px ${M}px ${A}px ${E} ${_}`.trim();return l.jsxs(I,{space:"s",items:"center",children:[l.jsxs(j,{grow:!0,children:[C," ",S," ",x," ",T]}),l.jsx(j,{children:l.jsx("div",{className:G("w-4 h-4 gjs-bg-white",oe.b,oe.rnd),style:{boxShadow:k}})})]})},w=y=>{const{textShadowH:C,textShadowV:S,textShadowBlur:x,textShadowColor:E}=y.getValues({camelCase:!0}),T=vs(C),_=vs(S),O=vs(x),P=`${T}px ${_}px ${O}px ${E}`.trim();return l.jsxs(I,{space:"s",items:"center",children:[l.jsxs(j,{grow:!0,children:[C," ",S," ",x]}),l.jsx(j,{children:l.jsx("div",{className:G("w-4 h-4 gjs-bg-white",oe.b,oe.rnd),style:{boxShadow:P}})})]})};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:[g,h],children:[l.jsx(Ne,{...rt(g,b)}),l.jsx(Ee,{...wt(h,b)})]}),l.jsx(be,{property:m,separator:!0,children:l.jsx(Ee,{...wt(m,b)})}),l.jsx(be,{property:n,separator:!0,children:l.jsxs(_r,{...Io(n,b),renderItem:v,children:[l.jsx(be,{children:l.jsx(qt,{...Ar(n.getProperty("box-shadow-type"),b),label:""})}),l.jsxs(be,{children:[l.jsx(Ne,{...rt(n.getProperty("box-shadow-h"),b),label:"X offset"}),l.jsx(Ne,{...rt(n.getProperty("box-shadow-v"),b),label:"Y offset"})]}),l.jsxs(be,{children:[l.jsx(Ne,{...rt(n.getProperty("box-shadow-blur"),b),label:"Blur"}),l.jsx(Ne,{...rt(n.getProperty("box-shadow-spread"),b),label:"Spread"})]}),l.jsx(be,{children:l.jsx(Rr,{...ys(n.getProperty("box-shadow-color"),b),label:"Color"})})]})}),l.jsx(be,{property:r,separator:!0,children:l.jsxs(_r,{...Io(r,b,U$),renderItem:w,children:[l.jsxs(be,{children:[l.jsx(Ne,{...rt(r.getProperty("text-shadow-h"),b),label:"X offset"}),l.jsx(Ne,{...rt(r.getProperty("text-shadow-v"),b),label:"Y offset"})]}),l.jsx(be,{children:l.jsx(Ne,{...rt(r.getProperty("text-shadow-blur"),b),label:"Blur"})}),l.jsx(be,{children:l.jsx(Rr,{...ys(r.getProperty("text-shadow-color"),b),label:"Color"})})]})}),l.jsx(be,{property:o,separator:!0,children:l.jsx(_r,{...Io(o,b,{"filter-name":"blur","filter-value":"3px"}),children:l.jsxs(be,{children:[l.jsx(Ee,{...k0(o,"filter",b),label:"Type"}),l.jsx(Ne,{...Gf(o,void 0,b),label:"Value"})]})})}),l.jsx(be,{property:s,separator:!0,children:l.jsx(_r,{...Io(s,b,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:l.jsxs(be,{children:[l.jsx(Ee,{...wt(s.getProperty("backdrop-filter-name"),b),label:"Type"}),l.jsx(Ne,{...Gf(s,"backdrop-filter",b),label:"Value"})]})})}),l.jsx(be,{property:a,separator:!0,children:l.jsxs(_r,{...Io(a,b),children:[l.jsx(be,{children:l.jsx(Ee,{...wt(a.getProperty("transition-property"),b),label:"Type"})}),l.jsx(be,{children:l.jsx(Ee,{...wt(a.getProperty("transition-timing-function"),b),label:"Easing"})}),l.jsxs(be,{children:[l.jsx(Ne,{...rt(a.getProperty("transition-duration"),b),label:"Duration"}),l.jsx(Ne,{...rt(a.getProperty("transition-delay"),b),label:"Delay"})]})]})}),l.jsx(be,{property:i,separator:!0,children:l.jsx(_r,{...Io(i,b),children:l.jsxs(be,{children:[l.jsx(Ee,{...k0(i,"transform",b),label:"Type"}),l.jsx(Ne,{...Gf(i,"transform",b),label:"Value"})]})})}),l.jsx(pn,{property:e.getProperty("transform-origin"),...b}),l.jsx(pn,{property:e.getProperty("overflow"),...b}),l.jsx(be,{property:u,children:l.jsx(qt,{...Ar(u,b)})}),l.jsx(be,{property:[d,p,c],separatorTop:!0,children:"Children transform"}),l.jsxs(be,{property:[d,p],children:[l.jsx(Ne,{...rt(d,b)}),l.jsx(qt,{...Ar(p,b)})]}),l.jsx(pn,{property:c,...b})]})}function G$(e,t){return e.indexOf(t)>=0}const pt=ie.s,kc="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",$c="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",Ic="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",$0="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",I0="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",K$="M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",Kf="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function q$({sector:e,styleManagerDataConfig:t}){const n=e.em.getEditor(),r=Ce(),[o,s]=f.useState({}),[a,i]=f.useState({}),c=e.getProperty("display"),u=e.getProperty("flex-direction"),d=e.getProperty("justify-content"),p=e.getProperty("align-items"),g=e.getProperty("flex-wrap"),h=e.getProperty("align-content"),m=e.getProperty("align-self"),b=e.getProperty("order"),v=e.getProperty("gap"),w=e.getProperty("flex"),y={sector:e,styleManagerDataConfig:t},C=[c,u,d,p,g,h,m,b,v,w].map(z=>z.id),S=e.getProperties().filter(z=>!C.includes(`${z.id}`)),x=z=>r.t(`styleManager.layout.${z}`),E=c.getValue(),T=E==="flex",_=(a.display||"").indexOf("flex")>=0,O=u.getValue(),P=O.indexOf("reverse")>=0,M=!G$(["column","column-reverse"],O),A=[{id:"row",label:l.jsx(re,{icon:K.arrowRight,size:ie.sx}),title:x("direction.title.row")},{id:"row-reverse",label:l.jsx(re,{icon:K.arrowRight,size:pt,horizontal:!0}),title:x("direction.title.row-reverse")},{id:"column",label:l.jsx(re,{icon:K.arrowDown,size:ie.sx}),title:x("direction.title.column")},{id:"column-reverse",label:l.jsx(re,{icon:K.arrowDown,size:pt,vertical:!0}),title:x("direction.title.column-reverse")}],k=[{id:"flex-start",title:"Start",label:l.jsx(re,{icon:kc,size:pt,rotate:M?0:90,horizontal:M&&P,vertical:!M&&P})},{id:"center",title:"Center",label:l.jsx(re,{icon:$c,size:pt,rotate:M?0:90})},{id:"flex-end",title:"End",label:l.jsx(re,{icon:Ic,size:pt,rotate:M?0:90,horizontal:M&&P,vertical:!M&&P})},{id:"space-between",title:"Space between",label:l.jsx(re,{icon:$0,size:pt,rotate:M?0:90})},{id:"space-around",title:"Space around",label:l.jsx(re,{icon:I0,size:pt,rotate:M?0:90})},{id:"space-evenly",title:"Space evenly",label:l.jsx(re,{icon:K$,size:pt,rotate:M?0:90})}],H=[{id:"stretch",title:"Stretch",label:l.jsx(re,{icon:Kf,size:pt,rotate:M?0:90})},{id:"flex-start",title:"Start",label:l.jsx(re,{icon:kc,size:pt,rotate:M?90:0})},{id:"center",title:"Center",label:l.jsx(re,{icon:$c,size:pt,rotate:M?90:0})},{id:"flex-end",title:"End",label:l.jsx(re,{icon:Ic,size:pt,rotate:M?90:0})}],L=[{id:"flex-start",title:"Start",label:l.jsx(re,{icon:kc,size:pt,rotate:M?90:0,horizontal:M&&P,vertical:!M&&P})},{id:"center",title:"Center",label:l.jsx(re,{icon:$c,size:pt,rotate:M?90:0})},{id:"flex-end",title:"End",label:l.jsx(re,{icon:Ic,size:pt,rotate:M?90:0,horizontal:M&&P,vertical:!M&&P})},{id:"space-between",title:"Space between",label:l.jsx(re,{icon:$0,size:pt,rotate:M?90:0})},{id:"space-around",title:"Space around",label:l.jsx(re,{icon:I0,size:pt,rotate:M?90:0})},{id:"stretch",title:"Stretch",label:l.jsx(re,{icon:Kf,size:pt,rotate:M?0:90})}],F=[{id:"auto",title:"Auto",label:l.jsx(re,{icon:K.close,size:pt})},{id:"flex-start",title:"Start",label:l.jsx(re,{icon:kc,size:pt,rotate:90})},{id:"center",title:"Center",label:l.jsx(re,{icon:$c,size:pt,rotate:90})},{id:"flex-end",title:"End",label:l.jsx(re,{icon:Ic,size:pt,rotate:90})},{id:"stretch",title:"Stretch",label:l.jsx(re,{icon:Kf,size:pt,rotate:0})}],W=[{id:"0 0 auto",label:l.jsx(re,{icon:K.close,size:pt}),title:"Auto"},{id:"1 1 0%",label:l.jsx(re,{icon:K.unfoldMoreHorizontal,size:pt,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:l.jsx(re,{icon:K.unfoldLessHorizontal,size:pt,rotate:90}),title:"Hug contents"}];return f.useEffect(()=>{if(!n)return()=>{};const{Styles:z}=n,$=()=>{const V=n.getSelected();let U={},Q={};if(V){const Z=V.getEl();if(Z){U=window.getComputedStyle(Z);const R=Z.parentElement;R&&(Q=window.getComputedStyle(R))}}s(U),i(Q)},D=z.events.target;return n.on(D,$),$(),()=>n.off(D,$)},[n]),l.jsxs(l.Fragment,{children:[l.jsx(be,{children:l.jsx(Ee,{...wt(c,y),...qf,tip:x(`display.tips.${E}`)})}),T&&l.jsxs(l.Fragment,{children:[l.jsx(be,{children:l.jsx(qt,{...Ar(u,y),options:A})}),l.jsx(be,{children:l.jsx(qt,{...Ar(d,y),options:k})}),l.jsx(be,{children:l.jsx(qt,{...Ar(p,y),options:H})}),l.jsx(be,{children:l.jsx(pn,{property:v,...y})}),l.jsx(be,{children:l.jsx(Ee,{...wt(g,y),...qf})}),g.getValue()!=="nowrap"&&l.jsx(be,{children:l.jsx(qt,{...Ar(h,y),options:L})})]}),_&&l.jsxs(l.Fragment,{children:[l.jsx(be,{separatorTop:!0,children:x("flexChild")}),l.jsx(be,{children:l.jsx(pn,{property:w,options:W,...y})}),l.jsx(be,{children:l.jsx(qt,{...Ar(m,y),options:F})}),l.jsx(be,{children:l.jsx(Ne,{...rt(b,{sector:e,styleManagerDataConfig:t})})})]}),S.length>0&&l.jsx(Wf,{properties:S,...y})]})}const Y$=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function Z$({sector:e,styleManagerDataConfig:t}){var m;const n=Ce(),r=e.getProperty("position"),o=r.getValue(),s=e.getProperty("top"),a=e.getProperty("right"),i=e.getProperty("bottom"),c=e.getProperty("left"),u={sector:e,styleManagerDataConfig:t},d=b=>n.t(`styleManager.position.${b}`),p=Y$.map(b=>({id:b,label:d(`presets.options.${b}`)})),g=["absolute","fixed"].includes(o),h=b=>{let v="auto",w="auto",y="auto",C="auto";switch(b){case"topLeft":v="0%",C="0%";break;case"topRight":v="0%",w="0%";break;case"bottomLeft":y="0%",C="0%";break;case"bottomRight":y="0%",w="0%";break;case"left":v="0%",y="0%",C="0%";break;case"right":v="0%",y="0%",w="0%";break;case"bottom":C="0%",y="0%",w="0%";break;case"top":C="0%",v="0%",w="0%";break;case"full":C="0%",v="0%",w="0%",y="0%";break}s.upValue(v),a.upValue(w),i.upValue(y),c.upValue(C)};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:r,children:[l.jsx(Ee,{...wt(r,u),tip:d(`tips.${(m=r.getOption())==null?void 0:m.id}`),...qf}),g&&l.jsx(j,{children:l.jsx($t,{title:d("presets.title"),children:l.jsx(Ee,{options:p,onChange:h,emptyState:"P",size:"s",caret:"",value:!0})})})]}),o!=="static"&&l.jsxs(l.Fragment,{children:[l.jsxs(be,{col:!0,children:[l.jsx(I,{className:G("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(Ne,{...rt(s,u)})}),l.jsxs(I,{gap:"s",children:[l.jsx(j,{grow:!0,children:l.jsx(Ne,{...rt(c,u)})}),l.jsx(j,{grow:!0,children:l.jsx(Ne,{...rt(a,u)})})]}),l.jsx(I,{className:G("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(Ne,{...rt(i,u)})})]}),l.jsx(be,{children:l.jsx(Ne,{...rt(e.getProperty("z-index"),u)})})]})]})}function X$({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("width"),r=e.getProperty("min-width"),o=e.getProperty("max-width"),s=e.getProperty("height"),a=e.getProperty("min-height"),i=e.getProperty("max-height"),c={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{property:[n,s],children:[l.jsx(Ne,{...rt(n,c)}),l.jsx(Ne,{...rt(s,c)})]}),l.jsxs(be,{property:[r,a],children:[l.jsx(Ne,{...rt(r,c)}),l.jsx(Ne,{...rt(a,c)})]}),l.jsxs(be,{property:[o,i],children:[l.jsx(Ne,{...rt(o,c)}),l.jsx(Ne,{...rt(i,c)})]})]})}function J$({sector:e,styleManagerDataConfig:t}){const n={sector:e,styleManagerDataConfig:t};return l.jsxs(l.Fragment,{children:[l.jsx(pn,{property:e.getProperty("padding"),...n}),l.jsx(pn,{property:e.getProperty("margin"),...n})]})}function Q$({sector:e,styleManagerDataConfig:t}){const n=e.getProperty("font-family"),r=e.getProperty("color"),o=e.getProperty("font-size"),s=e.getProperty("font-weight"),a=e.getProperty("line-height"),i=e.getProperty("letter-spacing"),c=e.getProperty("text-align"),u=e.getProperty("vertical-align"),d=e.getProperty("text-decoration"),p=e.getProperty("text-transform"),g=e.getProperty("direction"),h=e.getProperty("white-space"),m={sector:e,styleManagerDataConfig:t},{sdkAddFonts:b}=gi();return l.jsxs(l.Fragment,{children:[!!n&&l.jsx(be,{property:n,children:b?l.jsx(xc,{...D0(n,m)}):l.jsx(Ee,{...wt(n,m)})}),!!r&&l.jsx(be,{property:r,children:l.jsx(Rr,{...ys(r,m)})}),l.jsxs(be,{property:[o,s],children:[!!o&&l.jsx(Ne,{...rt(o,m)}),!!s&&l.jsx(Ee,{...wt(s,m)})]}),l.jsxs(be,{property:[a,i],children:[!!a&&l.jsx(Ne,{...rt(a,m)}),!!i&&l.jsx(Ne,{...rt(i,m)})]}),l.jsxs(be,{property:[c,u],children:[!!c&&l.jsx(Ee,{...wt(c,m)}),!!u&&l.jsx(Ee,{...wt(u,m)})]}),l.jsxs(be,{property:[p,g],children:[!!p&&l.jsx(Ee,{...wt(p,m)}),!!g&&l.jsx(Ee,{...wt(g,m)})]}),l.jsxs(be,{property:[h,d],children:[!!h&&l.jsx(Ee,{...wt(h,m)}),!!d&&l.jsx(Ee,{...wt(d,m)})]})]})}const qf={row:!0,classNameLabel:"gs-utl-w-full"},R$=({property:e,skipClear:t,label:n,afterLabelButtons:r=[]})=>l.jsxs(I,{nowrap:!0,full:!0,items:"center",justify:"between",gap:"s",children:[l.jsx(j,{grow:!1,children:l.jsx(ko,{property:e,skipClear:t,label:n})}),!!r.length&&l.jsx(I,{nowrap:!0,items:"center",justify:"start",gap:"x2s",children:r.map((o,s)=>l.jsx(bt,{...o},s))})]}),V0="gs-style-manager",Vc=`${V0}-sector`,e8=`${Vc}-header`,t8=`${Vc}-content`,j0=(e,t=0,n=!0)=>N(e8,B.bgH2,Me.xyS,B.br,t&&oe.bt,(e||n)&&oe.bb),n8=(e,t={})=>e.getOptions().map(n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title})),r8=(e,t)=>t.map(n=>({...n,title:e.getOptionLabel(e.getOptionId(n))})),ji=(e,t)=>{const n=o8(e,t),r=e0(n),{hasDataResolverValue:o}=n,{label:s}=t;return{connectDataSources:n,commonProps:{size:"s",disabled:o,placeholder:e.getDefaultValue(),tip:e.get("tip")||e.get("info"),labelAs:r.length?"span":void 0,label:l.jsx(R$,{property:e,skipClear:o,label:s,afterLabelButtons:r})}}},Yf=(e,t)=>{const{connectDataSources:n,commonProps:r}=ji(e,t);return{...r,value:n.dataResolverValue??e.getValue({noDefault:!0}),onChange:(o,s)=>e.upValue(o,{partial:s})}},H0=(e,t,n)=>{const{connectDataSources:r,commonProps:o}=ji(e,t),{hasDataResolverValue:s,initialDataValue:a}=r;return{fieldProps:{...o,value:s?a:e.getValue(),options:n8(e,n??{}),onChange:i=>e.upValue(i)},connectDataSources:r}},Ar=(e,t,n)=>H0(e,t,n).fieldProps,wt=(e,t,n)=>{const{fieldProps:r,connectDataSources:o}=H0(e,t,n),{hasDataResolverValue:s}=o,a=s?e.getValue()||" ":r.emptyState;return{...r,emptyState:a,hideCaret:s}},D0=(e,t)=>{const{commonProps:n,connectDataSources:r}=ji(e,t),o=r.hasDataResolverValue?e.getValue()||" ":void 0;return{...n,options:void 0,emptyState:o,hideCaret:r.hasDataResolverValue,value:r.dataResolverValue??e.getValue(),onChange:s=>e.upValue(s)}},Io=(e,t,n={})=>{const{connectDataSources:r,commonProps:o}=ji(e,t),{hasDataResolverValue:s,dataResolverValue:a}=r;return{...o,title:e.getLabel(),emptyState:s?a:void 0,titleAdd:`Add new ${e.getLabel()}`,items:s?[]:e.getLayers(),selected:e.getSelectedLayer(),renderItem:i=>e.getLayerLabel(i),add:s?void 0:()=>e.addLayer(n,{at:0}),select:i=>e.selectLayer(i),remove:i=>e.removeLayer(i),move:(i,c=0)=>e.moveLayer(i,c)}},rt=(e,t)=>{const{connectDataSources:n,commonProps:r}=ji(e,t),{hasDataResolverValue:o}=n;return{...r,value:n.dataResolverValue??e.getValue({noDefault:!0}),onChange:(s,a)=>e.upValue(s,{partial:a}),valueUnit:e.getUnit(),pan:!o,units:o?[]:e.getUnits(),min:e.getMin(),max:e.getMax()||void 0,step:e.getStep(),onChangeUnit:s=>e.upUnit(s)}};function o8(e,t){const{styleManagerDataConfig:n=!1,sector:r}=t,o=e.em.getEditor(),{Styles:s}=o,a=o.getSelected(),i=s.getSelectedAll(),c=s.getSelected();let u=!1;n===!0?u=!0:a&&nr(n)&&Xe(n.enable)&&(u=n.enable({property:e,sector:r,component:a,editor:o}));const d=e.getName(),p=(c==null?void 0:c.getStyle("",{skipResolve:!0})[d])??"",g=No(p),h=a==null?void 0:a.collectionsStateMap;return{hasDataResolverValue:g,dataResolverValue:g?c==null?void 0:c.getStyle()[d]:void 0,enableDataValue:u,initialDataValue:p,handleDataValueChange:m=>{i.forEach(b=>{b.addStyle({[d]:m})})},handleValueClear:()=>{i.forEach(m=>{const b=m.getStyle()[d]??"";m.addStyle({[d]:b})})},editor:o,additionalSources:h}}const ys=(e,t)=>Yf(e,t),s8=(e,t)=>{const{label:n,...r}=Yf(e,t);return{...r,label:n,isContain:e.get("contain")??!0,hideButton:r.disabled,inputField:e.get("inputField"),onOpen(){const o=e.em.Assets;o.open({select(s){e.upValue(s.getSrc()),o.close()}})}}},a8=(e,{styleManagerDataConfig:t})=>{const n=e.getId();let r=F$;switch(n){case"gs-layout":r=q$;break;case"gs-size":r=X$;break;case"gs-space":r=J$;break;case"gs-position":r=Z$;break;case"gs-borders":r=z$;break;case"gs-effects":r=W$;break;case"gs-typography":r=Q$;break;case"gs-background":r=c8;break}return l.jsx(r,{sector:e,styleManagerDataConfig:t})},Zf={},F0=se(function({className:t,sectors:n}){var g;const[r,o]=f.useState(Zf),s=ge(),{editor:a}=s,i=a==null?void 0:a.Styles,c=i==null?void 0:i.getSelected(),u=a==null?void 0:a.getSelected();if(f.useEffect(()=>{if(u&&a){const h=setTimeout(()=>{let m=Zf;const b=u.get("styleManager");Xe(b)&&(m=b({editor:a,component:u})),o(m||Zf)});return()=>clearTimeout(h)}},[u,a]),!i||!c)return null;const d=n.length?n:i.getSectors({visible:!0}),p=(g=s.sdkOptions.dataSources)==null?void 0:g.styleManager;return r.disabled?null:l.jsx("div",{className:N(V0,t,"gs-utl-select-none"),children:d.map((h,m)=>l.jsx(hs,{open:h.isOpen(),onChange:({open:b})=>h.setOpen(b),classNameWrap:N(Vc,`${Vc}__${h.id}`),sticky:!0,handler:()=>{const b=h.getProperties({withValue:!0}).length>0,v=h.getProperties({withParentValue:!0}).length>0;return l.jsxs(I,{gap:"xs",items:"center",children:[l.jsx(j,{className:"gs-utl-mr-2",children:h.getName()}),b&&l.jsx(j,{children:l.jsx("div",{className:N(Le.dot,B.bgA2)})}),v&&l.jsx(j,{children:l.jsx("div",{className:N(Le.dot,B.bgW)})})]})},className:b=>j0(b,m,m===d.length-1),children:l.jsx(I,{className:N(t8,"gs-utl-p-2 gs-utl-gap-2"),col:!0,children:a8(h,{styleManagerDataConfig:p})})},h.id))})});var Vo=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(Vo||{});const jc="background-image",Mr="__background-type",Hi=jc,B0="https://placehold.co/150/777/white.png?text=IMAGE",Xf="50px",i8={[Mr]:"image","background-image":`url("${B0}")`,"background-size":`${Xf} ${Xf}`,"background-repeat":"repeat","background-position":"0px 0px"},l8=e=>(e.includes("gradient(")?xf(e).colorStops[0].color:e)||"";function c8({sector:e,styleManagerDataConfig:t}){var y;const n=Tn(),r=e.getProperty("background"),o=r.getProperty(Mr),s=r.getProperty("background-image"),a=r.getProperty("background-position"),i=r.getProperty("background-size"),c=e.getProperty("background-color"),u=e.getProperty("background-clip"),d={sector:e,styleManagerDataConfig:t},p=((y=r.getSelectedLayer())==null?void 0:y.getIndex())||-1,g=o==null?void 0:o.getValue(),h=g==="image",m=s.getValue(),b=()=>{const C=n.Assets;C.open({select(S){const x=S.getSrc();s.upValue(`url("${x}")`),C.close()}})},v=C=>{let S="none",x="100%";C==="image"?(S=`url("${B0}")`,x=Xf):C==="gradient"?S="linear-gradient(90deg, black 10%, white 90%)":C==="color"&&(S="rgba(0, 0, 0, 0.5)"),s.upValue(S),o.upValue(C),a.upValue("0 0"),i.upValue(`${x} ${x}`)},w=r8(o,[{id:"image",label:l.jsx(re,{icon:K.image,size:ie.s})},{id:"gradient",label:l.jsx(re,{icon:K.gradientVertical,size:ie.s})},{id:"color",label:l.jsx(re,{icon:K.checkboxBlank,size:ie.s})}]);return l.jsxs(l.Fragment,{children:[l.jsx(be,{property:r,separator:!0,children:l.jsxs(_r,{...Io(r,d,i8),previewStyle:C=>r.getStyleFromLayer(C,{camelCase:!0}),children:[l.jsx(be,{children:l.jsx(qt,{...Ar(o,d),options:w,onChange:v,label:void 0})}),l.jsx(be,{children:l.jsxs(ko,{children:[h&&l.jsx(Oi,{value:bc(m).value,onOpen:b}),g==="color"&&l.jsx(Rr,{...ys(s,d),value:l8(m),label:void 0}),g==="gradient"&&l.jsx(ak,{value:m,onChange:(C,S)=>s.upValue(C,{partial:S})},p)]})}),h&&l.jsxs(l.Fragment,{children:[l.jsx(be,{col:!0,children:l.jsx(pn,{property:a,...d})}),l.jsx(be,{col:!0,children:l.jsx(pn,{property:i,...d})}),l.jsxs(be,{children:[l.jsx(Ee,{...wt(r.getProperty("background-repeat"),{sector:e})}),l.jsx(Ee,{...wt(r.getProperty("background-attachment"),{sector:e})})]}),l.jsx(be,{children:l.jsx(Ee,{...wt(r.getProperty("background-origin"),{sector:e})})})]})]})}),l.jsx(be,{property:c,children:l.jsx(Rr,{...ys(c,d)})}),l.jsx(be,{property:u,children:l.jsx(Ee,{...wt(u,d)})})]})}const Hc=["%"],Dc=["s","ms"],Di=["deg","rad","grad"],Lr=["px","%","em","rem","vw","vh"],z0={type:"select",options:["visible","hidden","scroll","auto"].map(e=>({id:e})),default:"visible"},u8=e=>`linear-gradient(${e} 1%, ${e} 100%)`,Fc=e=>({id:e,label:e.split("-").map(mr).join(" ")}),U0=e=>({property:t,to:n})=>{if(n.value){const r=t.getOption(),o=t.getParent().getProperty(e),s=o.getUnit(),a={units:r.units||[],min:r.min,max:r.max,unit:""};(!s||(a==null?void 0:a.units.indexOf(s))<0)&&(a.unit=(a==null?void 0:a.units[0])||""),o.up(a)}},d8=e=>{const t=`${e}-name`,n=`${e}-value`;return(r,{separatorLayers:o})=>{const s=r[e]||"";return s?s.split(o).map(a=>{const{name:i,value:c}=bc(a);return{[t]:i,[n]:c}}):[]}},W0=e=>{const t={[Hi]:e};if(e.indexOf("url(")>-1)t[Mr]=Vo.Image;else if(e.indexOf("gradient(")>-1){const n=xf(e),r=n.colorStops,o=n.name.indexOf("linear")>=0;r.length===2&&o&&r[0].color===r[1].color?t[Mr]=Vo.Color:t[Mr]=Vo.Gradient}else t[Mr]=Vo.Color,t[Hi]=u8(e);return t},G0=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(r,{separatorLayers:o}){const s=r[e]||"";return s?s.split(o).map(a=>{const{name:i,value:c}=bc(a);return{[t]:i,[n]:c}}):[]},toStyle(r,{name:o}){return{[o]:`${r[t]}(${r[n]||"0"})`}},properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:U0(n)},{property:n,type:"integer"}]}},Bc=(e,{x:t,y:n,mergable:r}={})=>{const o={property:`${e}-x`,type:"integer",units:Lr,...t},s={property:`${e}-y`,type:"integer",units:Lr,...n};return{property:e,type:"composite",properties:[o,s],...r&&{fromStyle(a,{name:i,separator:c,property:u}){const[d,p]=u.getProperties(),[g,h]=(a[i]||"").split(c);return{[d.getId()]:a[d.getName()]||g||"",[p.getId()]:a[p.getName()]||h||g||""}},toStyle(a,{name:i,property:c}){const[u,d]=c.getProperties(),p=a[u.getId()],g=a[d.getId()];return{[i]:p===g?p:`${p} ${g}`}}}}},p8=(e,t="")=>{const n=`${e}-name`,r=`${e}-value`;return(o,{name:s})=>({[s]:`${o[n]}(${o[r]||t})`})},f8=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","inner-padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{extend:"padding",property:"inner-padding",isVisible:({component:e})=>e&&["mj-button","mj-social"].includes(e.getType())},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(Fc)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(Fc)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","inner-background-color","container-background-color","background-url","background-position","background-repeat","background-size"],properties:[{name:"Container background",property:"container-background-color",default:"none",full:!0,type:"color"},{name:"Inner background",property:"inner-background-color",info:"Requires padding to be set",default:"none",full:!0,type:"color"},{property:"background-url",name:"Background image",type:"file",inputField:!0},{property:"background-position",name:"Background position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,fixedValues:e==="background-position-x"?["left","center","right"]:["top","center","bottom"],units:["px"],default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"no-repeat",label:"No repeat"}]}]}],g8=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},Bc("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:Lr,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{property:"vertical-align",type:"select",default:"baseline",options:["baseline","top","middle","bottom"].map(Fc)},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:LC("(?<!\\(.*[^)]),(?![^()]*\\))")||", ",layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(Mr).getOptionLabel(t[Mr]),toStyle(e){const t=e[Mr];let n=e[Hi];return t==="color"&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[Hi]:n}},fromStyle(e,{property:t,name:n,separatorLayers:r}){const o=r,s=t.getProperties();let a=[];return e[jc]?(a=t.__splitStyleName(e,jc,o).map(W0),s.forEach(i=>{const c=i.getId(),u=i.getName();u!==jc&&t.__splitStyleName(e,u,o).map(d=>({[c]:d||i.getDefaultValue()})).forEach((d,p)=>{a[p]=a[p]?{...a[p],...d}:d})})):e[n]&&(a=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(i=>i.substring(0,i.lastIndexOf(")")+1)).map(W0)),a},properties:[{property:Mr,type:"radio",default:"image",options:[{id:Vo.Image},{id:Vo.Gradient},{id:Vo.Color}]},{property:Hi,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,units:Lr,default:"0px"}))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map(e=>({type:"integer",property:e,units:Lr,default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:r}=e;if(r!==void 0){const o=r==="text";t.__upTargetsStyle({"-webkit-background-clip":o?r:"","-webkit-text-fill-color":o?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map(e=>({type:"integer",property:e,default:"0",units:Lr}))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map(e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]}))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map(e=>({type:"color",property:e,default:"currentColor"}))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},Bc("overflow",{x:z0,y:z0,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:a,blur:i,spread:c,inset:u,color:d}=Iv(o);return{"box-shadow-h":s,"box-shadow-v":a,"box-shadow-blur":i,"box-shadow-spread":c,"box-shadow-color":d,"box-shadow-type":u?"inset":""}}):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:a,blur:i,color:c}=Iv(o);return{"text-shadow-h":s,"text-shadow-v":a,"text-shadow-blur":i,"text-shadow-color":c}}):[]}},G0(),G0("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${mr(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(Fc)},{property:"transition-duration",type:"integer",default:"1s",unit:Dc[0],units:Dc,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:Dc[0],units:Dc}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const r=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${mr(r)}: ${t["transform-value"]}`},fromStyle:d8("transform"),toStyle:p8("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:Lr},{id:"translateY",label:"Move Y",units:Lr},{id:"translateZ",label:"Move Z",units:Lr},{id:"rotateX",label:"Rotate X",units:Di},{id:"rotateY",label:"Rotate Y",units:Di},{id:"rotateZ",label:"Rotate Z",units:Di},{id:"scale",label:"Scale",units:Hc},{id:"scaleX",label:"Scale X",units:Hc},{id:"scaleY",label:"Scale Y",units:Hc},{id:"scaleZ",label:"Scale Z",units:Hc},{id:"skewX",label:"Skew X",units:Di},{id:"skewY",label:"Skew Y",units:Di}],onChange:U0("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},Bc("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:Lr},Bc("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}],K0=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function q0(e,t){return[n=>_L(n,t),...OL[e],n=>yN(n,t),xL(e,t)]}function h8(e,t={}){var a;const n=e===Pe.email,{devices:r}=t,o=r?{default:r.selected,devices:r.default??(n?K0:void 0)}:n?{devices:K0}:{},s={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},styleManager:{sectors:n?f8:g8},parser:{optionsHtml:{convertDataGjsAttributesHyphens:!0}},selectorManager:{componentFirst:!0},i18n:{messagesAdd:Ha({en:J4},((a=t.i18n)==null?void 0:a.locales)??{})},deviceManager:o,canvasCss:`
      [contenteditable] { outline: 0px solid transparent;}
    `,canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}},telemetry:!1};return Ha(s,t.gjsOptions??{})}class m8{constructor(t){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=t,Qt(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(t){this.clearPending();const r=(yield zc()).filter(o=>o.projectType.includes(t));this.setProjectPlugins(r)}setProjectPlugins(t,n={}){this.projectPlugins=[...t],n.clearPending&&this.clearPending()}clearPending(){this.pendingInstalled=[],this.pendingUninstalled=[]}getPluginsToLoad(t,n){const r=[...q0(t,{appStore:n}),...this.projectPlugins||[]],o=n.sdkOptions.plugins||[];return Xe(o)?o({plugins:r}):[...r,...o]}addPendingInstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;r.includes(o)?this.pendingUninstalled=r.filter(s=>s!==o):n.includes(o)||n.push(o)}addPendingUninstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;n.includes(o)?this.pendingInstalled=n.filter(s=>s!==o):r.push(o)}setSelectedShown(t){this.selectedShown=t}}const Jf={db:wb.gjsStudio},zc=()=>new Promise(async e=>{let t=[];try{t=await HA(aa.Settings,"plugins",Jf)||[]}catch(n){hr()&&console.error(n)}e(t)}),b8=(e,t={})=>new Promise(async n=>{try{const o=[...t.installed||await zc(),e];Y0().addPendingInstalled(e),t.skipUpdateLocal||await Cb(aa.Settings,"plugins",o,Jf)}catch(r){console.error(r)}n()}),v8=(e,t={})=>new Promise(async n=>{try{const o=(t.installed||await zc()).filter(s=>s.id!==e.id);Y0().addPendingUninstalled(e),t.skipUpdateLocal||await Cb(aa.Settings,"plugins",o,Jf)}catch(r){console.error(r)}n()}),Qf=()=>Bt().pluginStore,Y0=()=>Wc().pluginStore;let Uc;const Z0=f.createContext(void 0);class X0{constructor(t){this.blockManagerStore=new GA(this),this.appEditorStore=new C8(this,t==null?void 0:t.appEditorStore),this.localSettingsStore=new Y4(t==null?void 0:t.localSettingsStore),this.toastStore=new WA(this),this.modalStore=new X4(this),this.i18nStore=new MA(this),this.pluginStore=new m8(this),this.pointerBadgeStore=new $A(this),this.contextMenu=new Z3(this),this.layoutStore=new NA(this),this.templatesStore=new UA(this),this.assetsStore=new _A(this),this.globalStylesStore=new G4(this),this.fontsStore=new AA(this),this.appEditorStore.init(),Qu()&&(window.__gjss=this)}}const y8=e=>{Z4(e.localSettingsStore),E8(e.appEditorStore)},w8=({children:e,initialState:t})=>(Uc=f.useMemo(()=>{const n=new X0(t);return y8(n),n},[]),l.jsx(Z0.Provider,{value:Uc,children:e})),Bt=()=>{const e=f.useContext(Z0);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},Wc=()=>{if(!Uc)throw new Error("Store has not been initialized");return Uc},Gc=({icon:e,layout:t,tooltip:n,className:r,forceRemove:o,removeLayouts:s})=>({type:"button",icon:e,tooltip:n,className:r,size:"s",editorEvents:{[`${on.layoutToggleId}${t.id}`]:({fromEvent:a,setState:i})=>{i({active:a.isOpen})}},onClick:({editor:a})=>{s==null||s.forEach(i=>a.runCommand(ce.layoutRemove,{id:i,force:o})),a.runCommand(ce.layoutToggle,{...t})}}),J0={type:"static",layoutId:"leftPanelsContainer"},Q0={width:240,overflow:"hidden"};Gc({tooltip:"Blocks",removeLayouts:["pagesLayers","ps"],layout:{id:"blocks",layout:"panelBlocks",header:{label:"Blocks"},style:Q0,placer:J0}}),Gc({tooltip:"Pages & Layers",removeLayouts:["blocks","ps"],layout:{id:"pagesLayers",layout:"panelPagesLayers",header:!1,style:Q0,placer:J0}}),Gc({tooltip:"Page Settings",removeLayouts:["pagesLayers","blocks"],layout:{id:"ps",layout:"panelPageSettings",header:{label:"Page Settings"},style:{marginLeft:40}}}),Gc({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',tooltip:"Custom Component",className:"gs-utl-mt-auto",layout:{id:"customLayout",layout:{type:"custom",component:()=>l.jsx("div",{children:"Custom Reat component"})},header:{label:"Custom"},style:{marginLeft:40}}});const S8={type:"row",style:{height:"100%"},children:[{type:"sidebarLeft"},{type:"canvasSidebarTop"},{type:"sidebarRight"}]};class C8{constructor(t,n){this.projectType=Pe.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isTopSidebarOpen=!0,this.isBottomSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=36,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.licenseCheckStarted=!1,this.studioSdkVersion="1.0.57",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isDraggingAbsolute=!1,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=t,n&&Object.keys(n).forEach(o=>{const s=o,a=n[s];a!==void 0&&(this[s]=a)});const r=hr()?window.location.search:"";this.queryParams=HC(r),Qt(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:t,isStage:n}=this;return MC({isDev:t,isStage:n})}get projectId(){var r,o;const{project:t,storage:n}=this.sdkOptions;return this._projectId||((o=(r=(n==null?void 0:n.project)||(t==null?void 0:t.default))==null?void 0:r.custom)==null?void 0:o.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return this.displayMode==="browser"}get sdkOptions(){return this.sdkProps.options}get sdkProjectId(){var t,n;return(n=(t=this.sdkOptions.project)==null?void 0:t.id)==null?void 0:n.toString()}get sdkIdentityId(){var t,n;return(n=(t=this.sdkOptions.identity)==null?void 0:t.id)==null?void 0:n.toString()}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkComponentsConfig(){return this.sdkOptions.components}get sdkCanvasConfig(){return this.sdkOptions.canvas}get sdkGlobalStylesConfig(){return this.sdkOptions.globalStyles}get currentLayout(){const{sdkLayoutConfig:t,rootElWidth:n,store:r}=this,{customConfig:o}=r.layoutStore,s=(o==null?void 0:o.responsive)||(t==null?void 0:t.responsive);let a=(o==null?void 0:o.default)||(t==null?void 0:t.default)||S8;if(n&&s){const c=Object.keys(s).map(Number).sort((u,d)=>u-d).find(u=>n<=u);a=c?s[c]:a}return a}get sdkCustomIcons(){var t;return(t=this.sdkOptions.customTheme)==null?void 0:t.icons}get isProjectTypeEmail(){return this.projectType===Pe.email}get showPages(){return this.isReady&&this.sdkPagesConfig!==!1&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){if(this.store.assetsStore.isUsingAssetCloud||this.isUsingProjectCloud){const n=this.sdkProjectId,r=this.sdkIdentityId;if(!n||!r)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingProjectSelfHosted(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===ec.self}get isUsingProjectCloud(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===ec.cloud}get publicStateTheme(){const{theme:t,resolvedTheme:n}=this.store.localSettingsStore;return{theme:t,resolvedTheme:n}}setPublicStateTheme(t){t.theme!==void 0&&(this.store.localSettingsStore.theme=t.theme)}*init(){var p,g;const{store:t,sdkOptions:n}=this,{lastProjectId:r,lastProjectType:o}=t.localSettingsStore,s=(p=n.project)==null?void 0:p.default,{project:a}=n.storage||{};let i,c;o&&(this.store.templatesStore._projectTypeFilter=o),r&&(i=(g=(yield xb(o)).find(m=>m.id===r))==null?void 0:g.data),i?c=i:a?c=a:s&&(c=s);const u=(c==null?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield t.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(t){this.installEvent=t}setAppInstalled(t){this.appInstalled=t}setDisplayMode(t){this.displayMode=t}setProject(t){const n=this.editor,{id:r,data:o,isTemplate:s}=t,a=n.Storage.getConfig().options.local,i=s?`${r}__${DC()}`:r;this._projectId=i,a.key=i,jC(o)||this.loadProjectData({...o,custom:{...o.custom,id:i,projectType:this.store.templatesStore.projectTypeFilter}})}setProjectDataCustom(t){const n={...this.projectDataCustom,...t};this.projectDataCustom=n,this.projectType=n.projectType||Pe.web,this.editor&&TA(this.editor,n),n.id&&this.store.localSettingsStore.setLocalState({lastProjectId:n.id,lastProjectType:this.projectType})}loadProjectData(t){const n=t.custom||{};if(x8(t)!==this.projectType)this.setNextProjectData(t),this.setProjectDataCustom(n),this.updateStudio();else{const r=this.editor;r.loadProjectData(t),r.UndoManager.clear(),this.setProjectDataCustom(n)}}setNextProjectData(t){this.nextProjectData=t}setLeftSidebarSize(t){this.leftSidebarSize=t}setRightSidebarSize(t){this.rightSidebarSize=t}setEditor(t){this.editor=t}setPreview(t){this.isInPreview=t}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(t){this.isLeftSidebarOpen=t,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(t){this.isRightSidebarOpen=t,this.refreshEditorPostTransition()}setTopSidebarOpen(t){this.isTopSidebarOpen=t,this.refreshEditorPostTransition()}setBottomSidebarOpen(t){this.isBottomSidebarOpen=t,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout(()=>{var t;return(t=this.editor)==null?void 0:t.refresh()},this.transitionTime)}setCanvasPanning(t){this.isCanvasPanning=t}setSelectingTarget(t){this.isSelectingTarget=t}setSelectedDesignerTab(t){this.selectedDesignerTab=t}setCustomAssets(t){this.customAssets=t}setIsDraggingAbsolute(t){this.isDraggingAbsolute=t}setIsSaving(t){this.isSaving=t}setIsReady(t){this.isReady=t}setPanelPageSettings(t){this.panelPageSettings={...this.panelPageSettings,...t}}setSdkPagesConfig(t){this.sdkProps.options.pages=t&&{...this.sdkPagesConfig,...t},++this.sdkPagesConfigUpdates}setRootElWidth(t){this.rootElWidth=t,this.refreshEditorCanvas()}*loadLicense(){const{editor:t}=this;try{this.licenseCheckStarted=!0;const{licenseKey:n,baseApiUrl:r,studioSdkVersion:o}=this;t==null||t.trigger(yC,{baseApiUrl:r});const s=yield cr.post(`${r}/sdk/${n||"na"}`,{params:{d:window.location.hostname,v:o}});if(s instanceof Error)throw s;const a=s.result||{},{license:i,error:c,plan:u}=a;c?this.sdkLicenseError=c:(this.sdkLicense=i,u!=null&&u.poweredBy&&(this.showPoweredBy=!0)),t==null||t.trigger(t1,a)}catch(n){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout(()=>this.loadLicense(),3e3)):(console.error(n),this.showPoweredBy=!0,t==null||t.trigger(t1,{}))}}*updateStudio(){const{pluginStore:t}=this.store,{projectType:n}=this.projectDataCustom;yield t.initProjectPlugins(n),this.setEditor(),this.editorKey++}refreshStudio(){var t;this.editorKey&&(this.setNextProjectData((t=this.editor)==null?void 0:t.getProjectData()),this.store.layoutStore.clear(),this.setEditor(),this.editorKey++)}refreshEditorCanvas(){var t;(t=this.editor)==null||t.refresh({tools:!0})}}const x8=e=>{var t;return((t=e.custom)==null?void 0:t.projectType)||Pe.web},E8=e=>{Th(()=>e.currentLayout,()=>e.refreshStudio())},ge=()=>Bt().appEditorStore,P8=()=>{try{return ge()}catch{}},Fi=()=>Wc().appEditorStore,T8=()=>{try{return Wc().appEditorStore}catch{}},Kc=()=>{const[e,t]=f.useState(0),n=Bt().appEditorStore,{transitionTime:r}=n;return f.useEffect(()=>{setTimeout(()=>t(o=>++o),r)},[r]),[e]},O8={light:{colors:{global:{background1:"rgba(244, 244, 244, 1)",background2:"rgba(253, 253, 253, 1)",background3:"rgba(255, 255, 255, 1)",backgroundHover:"rgba(244, 244, 244, 1)",text:"rgba(24, 24, 24, 1)",border:"rgba(210, 210, 210, 1)",focus:"rgba(195, 180, 253, 80%)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(242.25, 239.7, 255, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(31.87, 127.5, 223.12, 1)",background2:"rgba(121.12, 178.5, 235.87, 1)",background3:"rgba(210.37, 229.5, 248.62, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(221.68, 215.22, 253.98, 1)",background3:"rgba(242.25, 239.7, 255, 1)",text:"rgba(255, 255, 255, 1)"}}},dark:{colors:{global:{background1:"rgba(63, 63, 63, 1)",background2:"rgba(39, 39, 39, 1)",background3:"rgba(24, 24, 24, 1)",backgroundHover:"rgba(55, 55, 55, 1)",text:"rgba(163, 163, 163, 1)",border:"rgba(63, 63, 63, 1)",focus:"rgba(194.95, 180.41, 253.09, 0.8)",placeholder:"rgba(163, 163, 163, 1)"},primary:{background1:"rgba(137.09, 90.27, 246.33, 1)",background3:"rgba(39, 39, 39, 1)",backgroundHover:"rgba(89.86, 33.2, 181, 1)",text:"rgba(255, 255, 255, 1)"},component:{background1:"rgba(50.06, 135.15, 220.24, 1)",background2:"rgba(6.89, 87.44, 130.82, 1)",background3:"rgba(31.21, 41.33, 55.49, 1)",text:"rgba(255, 255, 255, 1)"},selector:{background1:"rgba(129.28, 23.71, 65.94, 1)",background2:"rgba(250.92, 208.08, 225.22, 1)",text:"rgba(255, 255, 255, 1)"},symbol:{background1:"rgba(137.09, 90.27, 246.33, 1)",background2:"rgba(89.86, 33.2, 181, 1)",background3:"rgba(44.61, 27.03, 74.97, 1)",text:"rgba(255, 255, 255, 1)"}}}},R0=String.raw,Ke=(e,t)=>{if(t==null)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},_8=(e,t="")=>{var n,r,o,s,a,i,c,u,d,p,g,h,m,b,v,w,y,C,S,x,E,T,_,O,P,M,A,k,H,L,F,W,z,$,D,V,U,Q,Z,R,ne,ee,q,X,ae,ue,we,he,Ie,Ze,mt,lt,We,jt,ct,Pt,yt,ft,ot,ut,Ut,pe,je,He,Ae,gt;return R0`
  ${t}.${Fe.txt} {
    ${Ke`color: ${(r=(n=e.colors)==null?void 0:n.global)==null?void 0:r.text};`}
  }

  ${t}.${Fe.bg} {
    ${Ke`background-color: ${(s=(o=e.colors)==null?void 0:o.global)==null?void 0:s.background3};`}
  }

  ${t}.${Fe.br} {
    ${Ke`border-color: ${(i=(a=e.colors)==null?void 0:a.global)==null?void 0:i.border};`}
  }

  ${t}.${Fe.bgA} {
    ${Ke`background-color: ${(u=(c=e.colors)==null?void 0:c.primary)==null?void 0:u.background1};`}
    ${Ke`color: ${(p=(d=e.colors)==null?void 0:d.primary)==null?void 0:p.text};`}
  }

  ${t}.${Fe.bgA2} {
    ${Ke`background-color: ${(h=(g=e.colors)==null?void 0:g.primary)==null?void 0:h.background1};`}
    ${Ke`color: ${(b=(m=e.colors)==null?void 0:m.primary)==null?void 0:b.text};`}
  }

  ${t}.${Fe.hBgAct}:hover.${Fe.hBgAct}:hover,
  ${t}.${Fe.hBgA2}:hover.${Fe.hBgA2}:hover {
    ${Ke`background-color: ${(w=(v=e.colors)==null?void 0:v.primary)==null?void 0:w.backgroundHover};`}
  }

  ${t}.${Fe.tA} {
    ${Ke`color: ${(C=(y=e.colors)==null?void 0:y.primary)==null?void 0:C.background1};`}
  }

  ${t}.${Fe.tAo} {
    ${Ke`color: ${(x=(S=e.colors)==null?void 0:S.primary)==null?void 0:x.background1};`}
  }

  ${t}.${Fe.hTAo}:hover.${Fe.hTAo}:hover,
  ${t}.group:hover .${Fe.grouphTAo} {
    ${Ke`color: ${(T=(E=e.colors)==null?void 0:E.primary)==null?void 0:T.backgroundHover};`}
  }

  ${t}.${Fe.bA} {
    ${Ke`border-color: ${(O=(_=e.colors)==null?void 0:_.primary)==null?void 0:O.background1};`}
  }

  ${t}.${Fe.bg0} {
    ${Ke`background-color: ${(M=(P=e.colors)==null?void 0:P.primary)==null?void 0:M.background3};`}
    ${Ke`color: ${(k=(A=e.colors)==null?void 0:A.primary)==null?void 0:k.background1};`}
  }

  ${t}.${Fe.bgH} {
    ${Ke`background-color: ${(L=(H=e.colors)==null?void 0:H.global)==null?void 0:L.background1};`}
  }

  ${t}.${Fe.bgH2} {
    ${Ke`background-color: ${(W=(F=e.colors)==null?void 0:F.global)==null?void 0:W.background2};`}
  }

  ${t}.${Fe.hBgH}:hover,
  ${t}.${Fe.hBgH2}:hover {
    ${Ke`background-color: ${($=(z=e.colors)==null?void 0:z.global)==null?void 0:$.backgroundHover};`}
  }

  ${t}.${Fe.sel} {
    ${Ke`background-color: ${(V=(D=e.colors)==null?void 0:D.selector)==null?void 0:V.background2};`}
    ${Ke`color: ${(Q=(U=e.colors)==null?void 0:U.selector)==null?void 0:Q.text};`}
  }

  ${t}.${Fe.selBr} {
    ${Ke`border-color: ${(R=(Z=e.colors)==null?void 0:Z.selector)==null?void 0:R.background1};`}
  }

  ${t}.${Fe.cmp} {
    ${Ke`background-color: ${(ee=(ne=e.colors)==null?void 0:ne.component)==null?void 0:ee.background1};`}
    ${Ke`color: ${(X=(q=e.colors)==null?void 0:q.component)==null?void 0:X.text};`}
  }

  ${t}.${Fe.cmpBgSoft} {
    ${Ke`background-color: ${(ue=(ae=e.colors)==null?void 0:ae.component)==null?void 0:ue.background2};`}
  }

  ${t}.${Fe.cmpBgSoftX} {
    ${Ke`background-color: ${(he=(we=e.colors)==null?void 0:we.component)==null?void 0:he.background3};`}
  }

  ${t}.${Fe.cmpBr} {
    ${Ke`border-color: ${(Ze=(Ie=e.colors)==null?void 0:Ie.component)==null?void 0:Ze.background1};`}
  }

  ${t}.${Fe.cmpSymbol} {
    ${Ke`background-color: ${(lt=(mt=e.colors)==null?void 0:mt.symbol)==null?void 0:lt.background1};`}
    ${Ke`color: ${(jt=(We=e.colors)==null?void 0:We.symbol)==null?void 0:jt.text};`}
  }

  ${t}.${Fe.cmpBgSymbolSoft} {
    ${Ke`background-color: ${(Pt=(ct=e.colors)==null?void 0:ct.symbol)==null?void 0:Pt.background2};`}
  }

  ${t}.${Fe.cmpBgSymbolSoftX} {
    ${Ke`background-color: ${(ft=(yt=e.colors)==null?void 0:yt.symbol)==null?void 0:ft.background3};`}
  }

  ${t}.${Fe.cmpSymbolBr} {
    ${Ke`border-color: ${(ut=(ot=e.colors)==null?void 0:ot.symbol)==null?void 0:ut.background1};`}
  }

  ${t}.${Fe.cmpTxtActive} {
    ${Ke`color: ${(pe=(Ut=e.colors)==null?void 0:Ut.component)==null?void 0:pe.text};`}
  }

  ${t}.${Fe.focus}:focus-visible {
    ${Ke`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(He=(je=e.colors)==null?void 0:je.global)==null?void 0:He.focus};`}
  }

  ${t}.${Fe.inputText}::placeholder {
    ${Ke`color: ${(gt=(Ae=e.colors)==null?void 0:Ae.global)==null?void 0:gt.placeholder};`}
  }
`},A8=e=>{var a,i,c,u,d;const t=(a=e.colors)==null?void 0:a.global,n=(i=e.colors)==null?void 0:i.primary,r=(c=e.colors)==null?void 0:c.component,o=(u=e.colors)==null?void 0:u.symbol,s=(d=e.colors)==null?void 0:d.selector;return`
  :root {
    --gs-theme-cl-glb-bg1: ${t==null?void 0:t.background1};
    --gs-theme-cl-glb-bg2: ${t==null?void 0:t.background2};
    --gs-theme-cl-glb-bg3: ${t==null?void 0:t.background3};
    --gs-theme-cl-glb-bgh: ${t==null?void 0:t.backgroundHover};
    --gs-theme-cl-glb-br: ${t==null?void 0:t.border};
    --gs-theme-cl-glb-fcs: ${t==null?void 0:t.focus};
    --gs-theme-cl-glb-plh: ${t==null?void 0:t.placeholder};
    --gs-theme-cl-glb-txt: ${t==null?void 0:t.text};
    --gs-theme-cl-prm-bg1: ${n==null?void 0:n.background1};
    --gs-theme-cl-prm-bg2: ${n==null?void 0:n.background2};
    --gs-theme-cl-prm-bg3: ${n==null?void 0:n.background3};
    --gs-theme-cl-prm-bgh: ${n==null?void 0:n.backgroundHover};
    --gs-theme-cl-prm-txt: ${n==null?void 0:n.text};
    --gs-theme-cl-cmp-bg1: ${r==null?void 0:r.background1};
    --gs-theme-cl-cmp-bg2: ${r==null?void 0:r.background2};
    --gs-theme-cl-cmp-bg3: ${r==null?void 0:r.background3};
    --gs-theme-cl-cmp-bgh: ${r==null?void 0:r.backgroundHover};
    --gs-theme-cl-cmp-txt: ${r==null?void 0:r.text};
    --gs-theme-cl-symb-bg1: ${o==null?void 0:o.background1};
    --gs-theme-cl-symb-bg2: ${o==null?void 0:o.background2};
    --gs-theme-cl-symb-bg3: ${o==null?void 0:o.background3};
    --gs-theme-cl-symb-bgh: ${o==null?void 0:o.backgroundHover};
    --gs-theme-cl-symb-txt: ${o==null?void 0:o.text};
    --gs-theme-cl-sel-bg1: ${s==null?void 0:s.background1};
    --gs-theme-cl-sel-bg2: ${s==null?void 0:s.background2};
    --gs-theme-cl-sel-bg3: ${s==null?void 0:s.background3};
    --gs-theme-cl-sel-bgh: ${s==null?void 0:s.backgroundHover};
    --gs-theme-cl-sel-txt: ${s==null?void 0:s.text};
  }
`},M8=se(()=>{const{sdkOptions:e,publicStateTheme:t}=ge(),[n,r]=f.useState(""),{customTheme:o}=e,{resolvedTheme:s}=t,a=e.theme===zn.light,i=o==null?void 0:o.default,c=f.useMemo(()=>{const p=O8[s],g=Ha(Ha({},p||{}),i||{});return A8(g).trim()},[s]),u=R0`
    ${i?_8(i,a?`:not(.gs-utl-${zn.dark}) `:`.gs-utl-${zn.dark} `):""}
  `.trim(),d=`
    ${c}
    ${u}
  `.trim();return f.useEffect(()=>{r(d)},[d]),l.jsx("style",{"data-gs-editor-theme":!0,children:n})}),L8=se(function(){const t=yp(),{isOpen:n,items:r,coordinates:o}=t,{x:s,y:a}=o;return f.useEffect(()=>{const i=window.document,c=u=>u.key==="Escape"&&t.hide();return i.addEventListener("keydown",c),()=>{i.removeEventListener("keydown",c)}},[]),l.jsxs(l.Fragment,{children:[l.jsx(Zm,{open:n,items:r,x:s,y:a,className:"gs-utl-text-sm"}),n&&l.jsx("div",{onClick:t.hide,className:J("z-10 fixed inset-0")})]})});function Ot({children:e,label:t,s:n="m",pill:r,border:o,nopad:s,className:a,block:i,...c}){return l.jsx("div",{className:N(!i&&"gs-utl-inline-block",a,!s&&Me.xyS2,r?oe.pill:oe.rnd,o&&`${oe.b} ${B.br}`,n==="s"&&"gs-utl-text-sm",n==="xs"&&"gs-utl-p-1"),...c,children:t||e})}const ey=15,N8=se(function(){const{isActive:t,content:n}=yb(),[r,o]=f.useState({x:0,y:0});f.useEffect(()=>{const a=i=>{o({x:i.clientX,y:Math.max(0,i.clientY)})};return t&&window.addEventListener("pointermove",a),()=>{window.removeEventListener("pointermove",a)}},[t]);const s=f.useMemo(()=>({transform:`translate(${r.x+ey}px, ${r.y+ey}px)`}),[r]);return l.jsx(yr,{show:t,...Da,children:l.jsx("div",{className:J("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:s,children:l.jsx(Ot,{className:J("gjs-px-4 gjs-py-2",B.bgBlur,B.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:n})})})}),k8=se(function(){const t=Pb();return l.jsx(rA,{className:G("fixed top-5 right-5 z-20"),toasts:t.toasts,onDismiss:t.remove})}),Rf=typeof window<"u"?window.location.hostname:"";Rf||Rf==="[::1]"||Rf.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function $8(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),Fi().setInstallEvent(o)}),window.addEventListener("appinstalled",()=>{Fi().setAppInstalled(!0)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{});const n=o=>{let s="browser";const a=navigator.standalone||document.referrer.startsWith("android-app://");(o||a)&&(s="standalone"),Fi().setDisplayMode(s)},r=window.matchMedia("(display-mode: standalone)");r.addEventListener("change",o=>n(o.matches)),n(r.matches)}}const I8=f.forwardRef(function({children:t},n){const[r,o]=f.useState(""),s=dn(),a=f.useRef(null),i=ge(),{style:c,className:u,options:d=zg,onUpdate:p,onEditor:g,onReady:h,...m}=i.sdkProps,{autoHeight:b=!0,serviceWorker:v}=d;f.useImperativeHandle(n,()=>a.current,[]);const w=f.useMemo(()=>({...c,height:r||(c==null?void 0:c.height)||""}),[c,r]);return f.useEffect(()=>{const y=a.current,C=()=>{var E;return(E=y==null?void 0:y.parentElement)==null?void 0:E.offsetHeight},S=C(),x=()=>{const E=y.style.position;y.style.position="absolute";const T=C();T&&o(`${T}px`),y.style.position=E};if(S&&b)return o(`${S}px`),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[b,a.current]),f.useEffect(()=>{const y=a.current;if(!y)return;s.rootEl||s.setRootEl(y),s.init();const C=new ResizeObserver(()=>{i.setRootElWidth(y.offsetWidth)});return i.setRootElWidth(y.offsetWidth),C.observe(y),()=>{C.disconnect()}},[a.current]),f.useEffect(()=>{v&&$8()},[]),l.jsxs("div",{ref:a,className:N(J(Rh,"gs-studio-editor overflow-hidden h-full w-full text-base"),u),style:w,...m,children:[l.jsx(M8,{}),t,l.jsxs("div",{className:J("gs-studio-els",B.txt),children:[l.jsx(k8,{}),l.jsx(N8,{}),l.jsx(L8,{})]})]})});var Bi=(e=>(e.REGULAR="regular",e.SYMBOLS="symbols",e))(Bi||{});const qc="gs-cmp-tabs";function to({tabs:e,className:t,classNamePanel:n,classNameTab:r,variant:o,style:s,onChange:a=$C,value:i}){const c=o==="pills",u=c?N("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",B.bgH):"",d=b=>c?N("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",b?B.bg:""):N("gs-utl-border-b-2",Me.xy),p=b=>{b&&(b.tabIndex=-1)},g=b=>{const v=b.currentTarget;setTimeout(()=>v.blur(),10)},h=Mt(i)?e.findIndex(b=>b.id===i):void 0,m=!e.some(b=>!!b.content);return l.jsxs(Ra.Group,{onChange:b=>a(e[b].id),defaultIndex:e.findIndex(b=>b.id===i),selectedIndex:h,children:[l.jsx(Ra.List,{as:I,className:N(qc,t,u),style:s,full:!0,nowrap:!0,children:e.map(b=>l.jsx(Ra,{disabled:b.disabled,className:({selected:v})=>N(`${qc}__tab`,"gs-utl-flex-1 focus:gs-utl-outline-none",b.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",Fa.focus,d(v),v?`${B.tAo} ${B.bA}`:B.br,r),children:b.label},b.id))}),l.jsx(Ra.Panels,{className:N(`${qc}__panels`,"gs-utl-overflow-hidden gs-utl-flex-1",m&&"gs-utl-hidden",n),children:e.map(b=>l.jsx(Ra.Panel,{tabIndex:-1,className:N(`${qc}__panel`,"gs-utl-h-full"),ref:p,onFocus:g,children:b.content},b.id))})]})}var Nr=(e=>(e.before="before",e.beforeInside="beforeInside",e.afterInside="afterInside",e.after="after",e))(Nr||{});const V8="gs-cmp-button-group-field",j8=f.memo(se(function({className:t,label:n,name:r,value:o,options:s,size:a,required:i,disabled:c,onChange:u,editorEvents:d}){const{editor:p}=ge(),[g,h]=f.useState(()=>({className:t,label:n,name:r,value:o,options:s,size:a,required:i,disabled:c})),m=b=>{u({value:b,editor:p,state:g,setState:v=>h(w=>({...w,...v}))})};return wa({editor:p,editorEvents:d,localState:g,setLocalState:h}),l.jsx(qt,{className:N(V8,g.className),label:g.label,name:g.name,value:g.value,options:g.options??[],size:g.size,required:g.required,disabled:g.disabled,onChange:m})}));function Yc({colors:e,...t}){return e?l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[l.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),l.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{stopColor:"#D7709E"}),l.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const H8=f.memo(se(function(){const{isStage:e,updateStudio:t}=ge(),{isDarkTheme:n}=dn(),r=f.useRef(null),{bg:o,text:s}=x1(n);return Dm({ref:r,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${o};
                  color: ${s};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            `}),l.jsx(ln,{className:"gs-banner",children:l.jsxs(I,{className:"gs-banner-row",children:[l.jsx(Yc,{className:"gs-gs-logo",colors:!0}),l.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),l.jsx("div",{ref:r})})),D8=()=>`https://grapesjs.com?ref=${window.location.host}`,F8=f.memo(se(function(){const{updateStudio:e,showPoweredBy:t}=ge(),{isDarkTheme:n}=dn(),r=f.useRef(null),{bg:o,text:s,link:a}=x1(n);return Dm({ref:r,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${o};
                  color: ${s};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${a};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             `}),l.jsx(ln,{className:"gs-banner",children:l.jsxs(I,{className:"gs-banner-row",children:[l.jsx("a",{className:"gs-link",href:D8(),target:"_blank",children:"GrapesJS Studio"}),l.jsx(Yc,{className:"gs-logo",colors:!0})]})})]})}),l.jsx("div",{ref:r})})),zi=f.forwardRef(function({full:t,abs:n,small:r,className:o,bg:s,currentColor:a},i){const c=N(t&&"gs-utl-w-full gs-utl-h-full",n?Le.coverAbs:"gs-utl-relative",o),u=N(r?"gs-utl-w-5 gs-utl-h-5":"gs-utl-w-10 gs-utl-h-10","gs-utl-animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",oe.pill,oe.bS,a?"gs-utl-border-current":oe.bA);return l.jsxs(I,{ref:i,className:c,items:"center",justify:"center",children:[!!s&&l.jsx("div",{className:N(Le.coverAbs,B.bg,Le.disabled)}),l.jsx("div",{className:u})]})}),ty="gs-canvas-content",B8=f.memo(se(function({children:t}){const{isReady:n}=ge(),r=N(`${ty}__overlay gs-utl-pointer-events-none gs-utl-absolute gs-utl-inset-0`,B.bgH2);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:ty,children:[l.jsx("div",{className:r}),!n&&l.jsx(zi,{className:N("gs-utl-z-10"),abs:!0,full:!0}),n&&At(t)]}),l.jsx(H8,{}),l.jsx(F8,{})]})})),z8="gs-canvas",ny=f.memo(function({className:t,style:n,grow:r,children:o}){return l.jsx(IL,{style:n,className:N(z8,"gs-utl-relative",r&&"gs-utl-flex-grow",t),children:l.jsx(fs,{children:l.jsx(B8,{children:o})})})}),Zc=({className:e,grow:t,alignItems:n,justifyContent:r})=>N(e,B.br,t&&"gs-utl-flex-grow",n==="start"&&"gs-utl-items-start",n==="end"&&"gs-utl-items-end",n==="center"&&"gs-utl-items-center",n==="baseline"&&"gs-utl-items-baseline",n==="stretch"&&"gs-utl-items-stretch",r==="start"&&"gs-utl-justify-start",r==="end"&&"gs-utl-justify-end",r==="center"&&"gs-utl-justify-center",r==="between"&&"gs-utl-justify-between",r==="around"&&"gs-utl-justify-around",r==="evenly"&&"gs-utl-justify-evenly"),Xc=({style:e,width:t,height:n,gap:r})=>({height:n,gap:r,width:t,...e}),On=f.memo(se(function({id:t,children:n,className:r,style:o,width:s,gap:a,height:i,grow:c,alignItems:u,justifyContent:d,htmlAttrs:p,...g}){const{layoutsById:h}=kp(),[m,b]=f.useState({}),{className:v,style:w,...y}=p||{},C=r??v,S=o??w,x=f.useMemo(()=>Xc({height:i,gap:a,width:s,style:S}),[S,s,i,a]),E=Zc({className:C,grow:c,alignItems:u,justifyContent:d});f.useEffect(()=>{if(t)return h.set(t,{state:m,setState:b}),()=>{h.delete(t)}},[h,m]);const T=g.as??"div";return l.jsx(T,{style:x,className:E,...g,...y,children:m.children??n})})),eg=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),U8=eg?Promise.resolve().then(function(){return Z8}):Promise.resolve().then(function(){return t6});async function W8(...e){return(await U8).default(...e)}eg?Promise.resolve().then(function(){return J8}):Promise.resolve().then(function(){return r6});const G8=eg?Promise.resolve().then(function(){return R8}):Promise.resolve().then(function(){return s6});async function K8(...e){return(await G8).default(...e)}const q8=async e=>{const t=await e.getFile();return t.handle=e,t};var Y8=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((o,s)=>{t[s]={description:o.description||"Files",accept:{}},o.mimeTypes?o.mimeTypes.map(a=>{t[s].accept[a]=o.extensions||[]}):t[s].accept["*/*"]=o.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(q8));return e[0].multiple?r:r[0]},Z8={__proto__:null,default:Y8};function Jc(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:r}})}return Jc=function(n){this.s=n,this.n=n.next},Jc.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new Jc(e)}const ry=async(e,t,n=e.name,r)=>{const o=[],s=[];var a,i=!1,c=!1;try{for(var u,d=function(p){var g,h,m,b=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,m=Symbol.iterator);b--;){if(h&&(g=p[h])!=null)return g.call(p);if(m&&(g=p[m])!=null)return new Jc(g.call(p));h="@@asyncIterator",m="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());i=!(u=await d.next()).done;i=!1){const p=u.value,g=`${n}/${p.name}`;p.kind==="file"?s.push(p.getFile().then(h=>(h.directoryHandle=e,h.handle=p,Object.defineProperty(h,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>g})))):p.kind!=="directory"||!t||r&&r(p)||o.push(ry(p,t,g,r))}}catch(p){c=!0,a=p}finally{try{i&&d.return!=null&&await d.return()}finally{if(c)throw a}}return[...(await Promise.all(o)).flat(),...await Promise.all(s)]};var X8=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:ry(t,e.recursive,void 0,e.skipDirectory)},J8={__proto__:null,default:X8},Q8=async(e,t=[{}],n=null,r=!1,o=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const s=[];let a=null;if(e instanceof Blob&&e.type?a=e.type:e.headers&&e.headers.get("content-type")&&(a=e.headers.get("content-type")),t.forEach((u,d)=>{s[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&a&&u.mimeTypes.push(a),u.mimeTypes.map(p=>{s[d].accept[p]=u.extensions||[]})):a?s[d].accept[a]=u.extensions||[]:s[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const i=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&o&&o(i);const c=await i.createWritable();return"stream"in e?(await e.stream().pipeTo(c),i):"body"in e?(await e.body.pipeTo(c),i):(await c.write(await e),await c.close(),i)},R8={__proto__:null,default:Q8},e6=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const o=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=o||"",r.style.display="none",document.body.append(r);const s=c=>{typeof a=="function"&&a(),t(c)},a=e[0].legacySetup&&e[0].legacySetup(s,()=>a(n),r),i=()=>{window.removeEventListener("focus",i),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",i)}),r.addEventListener("change",()=>{window.removeEventListener("focus",i),r.remove(),s(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),t6={__proto__:null,default:e6},n6=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const o=a=>{typeof s=="function"&&s(),t(a)},s=e[0].legacySetup&&e[0].legacySetup(o,()=>s(n),r);r.addEventListener("change",()=>{let a=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(a=a.filter(i=>i.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):a=a.filter(i=>i.webkitRelativePath.split("/").length===2),o(a)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),r6={__proto__:null,default:n6},o6=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(a,i){const c=a.getReader(),u=new ReadableStream({start:g=>async function h(){return c.read().then(({done:m,value:b})=>{if(!m)return g.enqueue(b),h();g.close()})}()}),d=new Response(u),p=await d.blob();return c.releaseLock(),new Blob([p],{type:i})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const o=()=>{typeof s=="function"&&s()},s=t.legacySetup&&t.legacySetup(o,()=>s(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),o()}),n.click(),null},s6={__proto__:null,default:o6};const a6={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.57"}.REACT_APP_VERSION??"1.0.0",i6=se(function(){var n;const t=(n=window.grapesjs)==null?void 0:n.version;return l.jsxs(I,{col:!0,space:"m",children:[l.jsx(I,{justify:"center",children:l.jsxs(j,{className:J("relative"),children:[l.jsx(Yc,{className:J("w-24 opacity-50")}),t&&l.jsx(Ot,{className:J(B.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),l.jsxs(j,{children:[l.jsxs("p",{children:[l.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",l.jsx("a",{className:J(Us.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),l.jsx("br",{}),l.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",l.jsx("a",{className:J(Us.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),l.jsxs(j,{className:J(B.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",a6]})]})}),l6=se(function(){return l.jsxs(I,{col:!0,space:"m",children:[l.jsx(I,{justify:"center",children:l.jsx(j,{className:G("relative"),children:l.jsx(Yc,{className:G("w-24 opacity-50")})})}),l.jsx(j,{children:l.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",l.jsx("br",{}),l.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",l.jsx("br",{}),l.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",l.jsx("a",{className:G(Us.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),l.jsx("br",{}),l.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",l.jsx("a",{className:G(Us.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})}),c6=()=>[{id:Pe.web,label:mr(Pe.web),content:l.jsxs(I,{gap:"s",items:"center",nowrap:!0,children:[l.jsx(re,{icon:K.web,size:ie.s}),l.jsx("span",{children:mr(Pe.web)})]})},{id:Pe.email,label:mr(Pe.email),content:l.jsxs(I,{gap:"s",items:"center",nowrap:!0,children:[l.jsx(re,{icon:K.emailOutline,size:ie.s}),l.jsx("span",{children:mr(Pe.email)})]})}],Qc=0,jo=1,ma=2,oy=4;function u6(e,t){return n=>e(t(n))}function d6(e,t){return t(e)}function sy(e,t){return n=>e(t,n)}function ay(e,t){return()=>e(t)}function tg(e,t){return t(e),e}function ws(...e){return e}function p6(e){e()}function iy(e){return()=>e}function f6(...e){return()=>{e.map(p6)}}function Rc(){}function Yt(e,t){return e(jo,t)}function Vt(e,t){e(Qc,t)}function ng(e){e(ma)}function ba(e){return e(oy)}function it(e,t){return Yt(e,sy(t,Qc))}function ly(e,t){const n=e(jo,r=>{n(),t(r)});return n}function Et(){const e=[];return(t,n)=>{switch(t){case ma:e.splice(0,e.length);return;case jo:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case Qc:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function ye(e){let t=e;const n=Et();return(r,o)=>{switch(r){case jo:o(t);break;case Qc:t=o;break;case oy:return t}return n(r,o)}}function g6(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case jo:return s?n===s?void 0:(r(),n=s,t=Yt(e,s),t):(r(),Rc);case ma:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function Ui(e){return tg(Et(),t=>it(e,t))}function va(e,t){return tg(ye(t),n=>it(e,n))}function h6(...e){return t=>e.reduceRight(d6,t)}function xe(e,...t){const n=h6(...t);return(r,o)=>{switch(r){case jo:return Yt(e,n(o));case ma:ng(e);return}}}function cy(e,t){return e===t}function fn(e=cy){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function zt(e){return t=>n=>{e(n)&&t(n)}}function vt(e){return t=>u6(t,e)}function Ho(e){return t=>()=>t(e)}function eu(e,t){return n=>r=>n(t=e(t,r))}function rg(e){return t=>n=>{e>0?e--:t(n)}}function Wi(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function uy(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function kr(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const i=Math.pow(2,a);Yt(s,c=>{const u=n;n=n|i,t[a]=c,u!==o&&n===o&&r&&(r(),r=null)})}),s=>a=>{const i=()=>s([a].concat(t));n===o?i():r=i}}function dy(...e){return function(t,n){switch(t){case jo:return f6(...e.map(r=>Yt(r,n)));case ma:return;default:throw new Error(`unrecognized action ${t}`)}}}function Ue(e,t=cy){return xe(e,fn(t))}function no(...e){const t=Et(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,a)=>{const i=Math.pow(2,a);Yt(s,c=>{n[a]=c,r=r|i,r===o&&Vt(t,n)})}),function(s,a){switch(s){case jo:return r===o&&a(n),Yt(t,a);case ma:return ng(t);default:throw new Error(`unrecognized action ${s}`)}}}function $r(e,t=[],{singleton:n}={singleton:!0}){return{id:m6(),constructor:e,dependencies:t,singleton:n}}const m6=()=>Symbol();function b6(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:a})=>{if(a&&t.has(r))return t.get(r);const i=o(s.map(c=>n(c)));return a&&t.set(r,i),i};return n(e)}function v6(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}const tu=typeof document<"u"?f.useLayoutEffect:f.useEffect;function y6(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),i=f.createContext({});function c(w,y){w.propsReady&&Vt(w.propsReady,!1);for(const C of r){const S=w[t.required[C]];Vt(S,y[C])}for(const C of o)if(C in y){const S=w[t.optional[C]];Vt(S,y[C])}w.propsReady&&Vt(w.propsReady,!0)}function u(w){return s.reduce((y,C)=>(y[C]=S=>{const x=w[t.methods[C]];Vt(x,S)},y),{})}function d(w){return a.reduce((y,C)=>(y[C]=g6(w[t.events[C]]),y),{})}const p=f.forwardRef((w,y)=>{const{children:C,...S}=w,[x]=f.useState(()=>tg(b6(e),_=>c(_,S))),[E]=f.useState(ay(d,x));tu(()=>{for(const _ of a)_ in S&&Yt(E[_],S[_]);return()=>{Object.values(E).map(ng)}},[S,E,x]),tu(()=>{c(x,S)}),f.useImperativeHandle(y,iy(u(x)));const T=n;return l.jsx(i.Provider,{value:x,children:n?l.jsx(T,{...v6([...r,...o,...a],S),children:C}):C})}),g=w=>f.useCallback(sy(Vt,f.useContext(i)[w]),[w]),h=w=>{const C=f.useContext(i)[w],S=f.useCallback(x=>Yt(C,x),[C]);return f.useSyncExternalStore(S,()=>ba(C),()=>ba(C))},m=w=>{const C=f.useContext(i)[w],[S,x]=f.useState(ay(ba,C));return tu(()=>Yt(C,E=>{E!==S&&x(iy(E))}),[C,S]),S},b=f.version.startsWith("18")?h:m;return{Component:p,usePublisher:g,useEmitterValue:b,useEmitter:(w,y)=>{const S=f.useContext(i)[w];tu(()=>Yt(S,y),[y,S])}}}const py=typeof document<"u"?f.useLayoutEffect:f.useEffect;var og=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(og||{});const w6={0:"debug",1:"log",2:"warn",3:"error"},S6=()=>typeof globalThis>"u"?window:globalThis,fy=$r(()=>{const e=ye(3);return{log:ye((n,r,o=1)=>{var s;const a=(s=S6().VIRTUOSO_LOG_LEVEL)!=null?s:ba(e);o>=a&&console[w6[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function gy(e,t,n){const r=f.useRef(null);let o=s=>{};if(typeof ResizeObserver<"u"){const s=f.useMemo(()=>new ResizeObserver(a=>{const i=()=>{const c=a[0].target;c.offsetParent!==null&&e(c)};n?i():requestAnimationFrame(i)}),[e]);o=a=>{a&&t?(s.observe(a),r.current=a):(r.current&&s.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function nu(e,t,n){return gy(e,t,n).callbackRef}function ru(e,t){return Math.round(e.getBoundingClientRect()[t])}function hy(e,t){return Math.abs(e-t)<1.01}function my(e,t,n,r=Rc,o,s){const a=f.useRef(null),i=f.useRef(null),c=f.useRef(null),u=f.useCallback(g=>{const h=g.target,m=h===window||h===document,b=s?m?window.pageXOffset||document.documentElement.scrollLeft:h.scrollLeft:m?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,v=s?m?document.documentElement.scrollWidth:h.scrollWidth:m?document.documentElement.scrollHeight:h.scrollHeight,w=s?m?window.innerWidth:h.offsetWidth:m?window.innerHeight:h.offsetHeight,y=()=>{e({scrollTop:Math.max(b,0),scrollHeight:v,viewportHeight:w})};g.suppressFlushSync?y():mn.flushSync(y),i.current!==null&&(b===i.current||b<=0||b===v-w)&&(i.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);f.useEffect(()=>{const g=o||a.current;return r(o||a.current),u({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",u,{passive:!0}),()=>{r(null),g.removeEventListener("scroll",u)}},[a,u,n,r,o]);function d(g){const h=a.current;if(!h||(s?"offsetWidth"in h&&h.offsetWidth===0:"offsetHeight"in h&&h.offsetHeight===0))return;const m=g.behavior==="smooth";let b,v,w;h===window?(v=Math.max(ru(document.documentElement,s?"width":"height"),s?document.documentElement.scrollWidth:document.documentElement.scrollHeight),b=s?window.innerWidth:window.innerHeight,w=s?document.documentElement.scrollLeft:document.documentElement.scrollTop):(v=h[s?"scrollWidth":"scrollHeight"],b=ru(h,s?"width":"height"),w=h[s?"scrollLeft":"scrollTop"]);const y=v-b;if(g.top=Math.ceil(Math.max(Math.min(y,g.top),0)),hy(b,v)||g.top===w){e({scrollTop:w,scrollHeight:v,viewportHeight:b}),m&&t(!0);return}m?(i.current=g.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,i.current=null,t(!0)},1e3)):i.current=null,s&&(g={left:g.top,behavior:g.behavior}),h.scrollTo(g)}function p(g){s&&(g={left:g.top,behavior:g.behavior}),a.current.scrollBy(g)}return{scrollerRef:a,scrollByCallback:p,scrollToCallback:d}}const ou=$r(()=>{const e=Et(),t=Et(),n=ye(0),r=Et(),o=ye(0),s=Et(),a=Et(),i=ye(0),c=ye(0),u=ye(0),d=ye(0),p=Et(),g=Et(),h=ye(!1),m=ye(!1),b=ye(!1);return it(xe(e,vt(({scrollTop:v})=>v)),t),it(xe(e,vt(({scrollHeight:v})=>v)),a),it(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:i,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:d,scrollHeight:a,smoothScrollTargetReached:r,horizontalDirection:m,skipAnimationFrameInResizeObserver:b,scrollTo:p,scrollBy:g,statefulScrollTop:o,deviation:n,scrollingInProgress:h}},[],{singleton:!0}),C6=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function x6(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!C6)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const su="up",Gi="down",E6="none",P6={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},T6=0,by=$r(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const a=ye(!1),i=ye(!0),c=Et(),u=Et(),d=ye(4),p=ye(T6),g=va(xe(dy(xe(Ue(t),rg(1),Ho(!0)),xe(Ue(t),rg(1),Ho(!1),uy(100))),fn()),!1),h=va(xe(dy(xe(s,Ho(!0)),xe(s,Ho(!1),uy(200))),fn()),!1);it(xe(no(Ue(t),Ue(p)),vt(([y,C])=>y<=C),fn()),i),it(xe(i,Wi(50)),u);const m=Ui(xe(no(e,Ue(n),Ue(r),Ue(o),Ue(d)),eu((y,[{scrollTop:C,scrollHeight:S},x,E,T,_])=>{const O=C+x-S>-_,P={viewportHeight:x,scrollTop:C,scrollHeight:S};if(O){let A,k;return C>y.state.scrollTop?(A="SCROLLED_DOWN",k=y.state.scrollTop-C):(A="SIZE_DECREASED",k=y.state.scrollTop-C||y.scrollTopDelta),{atBottom:!0,state:P,atBottomBecause:A,scrollTopDelta:k}}let M;return P.scrollHeight>y.state.scrollHeight?M="SIZE_INCREASED":x<y.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":C<y.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:P}},P6),fn((y,C)=>y&&y.atBottom===C.atBottom))),b=va(xe(e,eu((y,{scrollTop:C,scrollHeight:S,viewportHeight:x})=>{if(hy(y.scrollHeight,S))return{scrollTop:C,scrollHeight:S,jump:0,changed:!1};{const E=S-(C+x)<1;return y.scrollTop!==C&&E?{scrollHeight:S,scrollTop:C,jump:y.scrollTop-C,changed:!0}:{scrollHeight:S,scrollTop:C,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),zt(y=>y.changed),vt(y=>y.jump)),0);it(xe(m,vt(y=>y.atBottom)),a),it(xe(a,Wi(50)),c);const v=ye(Gi);it(xe(e,vt(({scrollTop:y})=>y),fn(),eu((y,C)=>ba(h)?{direction:y.direction,prevScrollTop:C}:{direction:C<y.prevScrollTop?su:Gi,prevScrollTop:C},{direction:Gi,prevScrollTop:0}),vt(y=>y.direction)),v),it(xe(e,Wi(50),Ho(E6)),v);const w=ye(0);return it(xe(g,zt(y=>!y),Ho(0)),w),it(xe(t,Wi(100),kr(g),zt(([y,C])=>!!C),eu(([y,C],[S])=>[C,S],[0,0]),vt(([y,C])=>C-y)),w),{isScrolling:g,isAtTop:i,isAtBottom:a,atBottomState:m,atTopStateChange:u,atBottomStateChange:c,scrollDirection:v,atBottomThreshold:d,atTopThreshold:p,scrollVelocity:w,lastJumpDueToItemResize:b}},ws(ou)),O6=$r(([{log:e}])=>{const t=ye(!1),n=Ui(xe(t,zt(r=>r),fn()));return Yt(t,r=>{r&&ba(e)("props updated",{},og.DEBUG)}),{propsReady:t,didMount:n}},ws(fy),{singleton:!0});function vy(e,t){e==0?t():requestAnimationFrame(()=>vy(e-1,t))}function _6(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}function sg(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function A6(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const au="top",iu="bottom",yy="none";function wy(e,t,n){return typeof e=="number"?n===su&&t===au||n===Gi&&t===iu?e:0:n===su?t===au?e.main:e.reverse:t===iu?e.main:e.reverse}function Sy(e,t){return typeof e=="number"?e:e[t]||0}const M6=$r(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=Et(),a=ye(0),i=ye(0),c=ye(0),u=va(xe(no(Ue(e),Ue(t),Ue(r),Ue(s,sg),Ue(c),Ue(a),Ue(o),Ue(n),Ue(i)),vt(([d,p,g,[h,m],b,v,w,y,C])=>{const S=d-y,x=v+w,E=Math.max(g-S,0);let T=yy;const _=Sy(C,au),O=Sy(C,iu);return h-=y,h+=g+w,m+=g+w,m-=y,h>d+x-_&&(T=su),m<d-E+p+O&&(T=Gi),T!==yy?[Math.max(S-g-wy(b,au,T)-_,0),S-E-w+p+wy(b,iu,T)+O]:null}),zt(d=>d!=null),fn(sg)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:a,increaseViewportBy:i,visibleRange:u}},ws(ou),{singleton:!0}),L6=$r(([{scrollVelocity:e}])=>{const t=ye(!1),n=Et(),r=ye(!1);return it(xe(e,kr(r,t,n),zt(([o,s])=>!!s),vt(([o,s,a,i])=>{const{exit:c,enter:u}=s;if(a){if(c(o,i))return!1}else if(u(o,i))return!0;return a}),fn()),t),Yt(xe(no(t,e,n),kr(r)),([[o,s,a],i])=>o&&i&&i.change&&i.change(s,a)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},ws(by),{singleton:!0});function N6(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const k6=$r(([{scrollTo:e,scrollContainerState:t}])=>{const n=Et(),r=Et(),o=Et(),s=ye(!1),a=ye(void 0);return it(xe(no(n,r),vt(([{viewportHeight:i,scrollTop:c,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:u,viewportHeight:i}))),t),it(xe(e,kr(r),vt(([i,{offsetTop:c}])=>({...i,top:i.top+c}))),o),{useWindowScroll:s,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},ws(ou)),ag="-webkit-sticky",Cy="sticky",xy=N6(()=>{if(typeof document>"u")return Cy;const e=document.createElement("div");return e.style.position=ag,e.style.position===ag?ag:Cy});function $6(e,t,n){const r=f.useRef(null),o=f.useCallback(c=>{if(c===null||!c.offsetParent)return;const u=c.getBoundingClientRect(),d=u.width;let p,g;if(t){const h=t.getBoundingClientRect(),m=u.top-h.top;p=h.height-Math.max(0,m),g=m+t.scrollTop}else p=window.innerHeight-Math.max(0,u.top),g=u.top+window.pageYOffset;r.current={offsetTop:g,visibleHeight:p,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:s,ref:a}=gy(o,!0,n),i=f.useCallback(()=>{o(a.current)},[o,a]);return f.useEffect(()=>{if(t){t.addEventListener("scroll",i);const c=new ResizeObserver(()=>{requestAnimationFrame(i)});return c.observe(t),()=>{t.removeEventListener("scroll",i),c.unobserve(t)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,t]),s}f.createContext(void 0);const Ey=f.createContext(void 0);function I6(e){return e}xy();const V6={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},j6={outline:"none",overflowX:"auto",position:"relative"},Py=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});xy();function Ss(e,t){if(typeof e!="string")return{context:t}}function H6({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:s,children:a,...i}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("scrollerRef"),g=n("context"),h=n("horizontalDirection")||!1,{scrollerRef:m,scrollByCallback:b,scrollToCallback:v}=my(c,d,u,p,void 0,h);t("scrollTo",v),t("scrollBy",b);const w=h?j6:V6;return l.jsx(u,{ref:m,style:{...w,...s},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...i,...Ss(u,g),children:a})})}function D6({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:s,children:a,...i}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("totalListHeight"),g=n("deviation"),h=n("customScrollParent"),m=n("context"),{scrollerRef:b,scrollByCallback:v,scrollToCallback:w}=my(c,d,u,Rc,h);return py(()=>(b.current=h||window,()=>{b.current=null}),[b,h]),t("windowScrollTo",w),t("scrollBy",v),l.jsx(u,{style:{position:"relative",...s,...p!==0?{height:p+g}:{}},"data-virtuoso-scroller":!0,...i,...Ss(u,m),children:a})})}const Ty={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},F6={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Oy,ceil:_y,floor:lu,min:ig,max:Ki}=Math;function B6(e){return{...F6,items:e}}function Ay(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>{const s=n===null?null:n[o+e];return{index:o+e,data:s}})}function z6(e,t){return e&&e.column===t.column&&e.row===t.row}function cu(e,t){return e&&e.width===t.width&&e.height===t.height}const U6=$r(([{overscan:e,visibleRange:t,listBoundary:n,increaseViewportBy:r},{scrollTop:o,viewportHeight:s,scrollBy:a,scrollTo:i,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:d,headerHeight:p},g,h,{propsReady:m,didMount:b},{windowViewportRect:v,useWindowScroll:w,customScrollParent:y,windowScrollContainerState:C,windowScrollTo:S},x])=>{const E=ye(0),T=ye(0),_=ye(Ty),O=ye({height:0,width:0}),P=ye({height:0,width:0}),M=Et(),A=Et(),k=ye(0),H=ye(null),L=ye({row:0,column:0}),F=Et(),W=Et(),z=ye(!1),$=ye(0),D=ye(!0),V=ye(!1),U=ye(!1);Yt(xe(b,kr($),zt(([q,X])=>!!X)),()=>{Vt(D,!1)}),Yt(xe(no(b,D,P,O,$,V),zt(([q,X,ae,ue,,we])=>q&&!X&&ae.height!==0&&ue.height!==0&&!we)),([,,,,q])=>{Vt(V,!0),vy(1,()=>{Vt(M,q)}),ly(xe(o),()=>{Vt(n,[0,0]),Vt(D,!0)})}),it(xe(W,zt(q=>q!=null&&q.scrollTop>0),Ho(0)),T),Yt(xe(b,kr(W),zt(([,q])=>q!=null)),([,q])=>{q&&(Vt(O,q.viewport),Vt(P,q==null?void 0:q.item),Vt(L,q.gap),q.scrollTop>0&&(Vt(z,!0),ly(xe(o,rg(1)),X=>{Vt(z,!1)}),Vt(i,{top:q.scrollTop})))}),it(xe(O,vt(({height:q})=>q)),s),it(xe(no(Ue(O,cu),Ue(P,cu),Ue(L,(q,X)=>q&&q.column===X.column&&q.row===X.row),Ue(o)),vt(([q,X,ae,ue])=>({viewport:q,item:X,gap:ae,scrollTop:ue}))),F),it(xe(no(Ue(E),t,Ue(L,z6),Ue(P,cu),Ue(O,cu),Ue(H),Ue(T),Ue(z),Ue(D),Ue($)),zt(([,,,,,,,q])=>!q),vt(([q,[X,ae],ue,we,he,Ie,Ze,,mt,lt])=>{const{row:We,column:jt}=ue,{height:ct,width:Pt}=we,{width:yt}=he;if(Ze===0&&(q===0||yt===0))return Ty;if(Pt===0){const Ht=_6(lt,q),so=Math.max(Ht+Ze-1,0);return B6(Ay(Ht,so,Ie))}const ft=Ly(yt,Pt,jt);let ot,ut;mt?X===0&&ae===0&&Ze>0?(ot=0,ut=Ze-1):(ot=ft*lu((X+We)/(ct+We)),ut=ft*_y((ae+We)/(ct+We))-1,ut=ig(q-1,Ki(ut,ft-1)),ot=ig(ut,Ki(0,ot))):(ot=0,ut=-1);const Ut=Ay(ot,ut,Ie),{top:pe,bottom:je}=My(he,ue,we,Ut),He=_y(q/ft),gt=He*ct+(He-1)*We-je;return{items:Ut,offsetTop:pe,offsetBottom:gt,top:pe,bottom:je,itemHeight:ct,itemWidth:Pt}})),_),it(xe(H,zt(q=>q!==null),vt(q=>q.length)),E),it(xe(no(O,P,_,L),zt(([q,X,{items:ae}])=>ae.length>0&&X.height!==0&&q.height!==0),vt(([q,X,{items:ae},ue])=>{const{top:we,bottom:he}=My(q,ue,X,ae);return[we,he]}),fn(sg)),n);const Q=ye(!1);it(xe(o,kr(Q),vt(([q,X])=>X||q!==0)),Q);const Z=Ui(xe(Ue(_),zt(({items:q})=>q.length>0),kr(E,Q),zt(([{items:q},X,ae])=>ae&&q[q.length-1].index===X-1),vt(([,q])=>q-1),fn())),R=Ui(xe(Ue(_),zt(({items:q})=>q.length>0&&q[0].index===0),Ho(0),fn())),ne=Ui(xe(Ue(_),kr(z),zt(([{items:q},X])=>q.length>0&&!X),vt(([{items:q}])=>({startIndex:q[0].index,endIndex:q[q.length-1].index})),fn(A6),Wi(0)));it(ne,h.scrollSeekRangeChanged),it(xe(M,kr(O,P,E,L),vt(([q,X,ae,ue,we])=>{const he=x6(q),{align:Ie,behavior:Ze,offset:mt}=he;let lt=he.index;lt==="LAST"&&(lt=ue-1),lt=Ki(0,lt,ig(ue-1,lt));let We=lg(X,we,ae,lt);return Ie==="end"?We=Oy(We-X.height+ae.height):Ie==="center"&&(We=Oy(We-X.height/2+ae.height/2)),mt&&(We+=mt),{top:We,behavior:Ze}})),i);const ee=va(xe(_,vt(q=>q.offsetBottom+q.bottom)),0);return it(xe(v,vt(q=>({width:q.visibleWidth,height:q.visibleHeight}))),O),{data:H,totalCount:E,viewportDimensions:O,itemDimensions:P,scrollTop:o,scrollHeight:A,overscan:e,increaseViewportBy:r,scrollBy:a,scrollTo:i,scrollToIndex:M,smoothScrollTargetReached:c,windowViewportRect:v,windowScrollTo:S,useWindowScroll:w,customScrollParent:y,windowScrollContainerState:C,deviation:k,scrollContainerState:u,footerHeight:d,headerHeight:p,initialItemCount:T,gap:L,restoreStateFrom:W,...h,initialTopMostItemIndex:$,horizontalDirection:U,gridState:_,totalListHeight:ee,...g,startReached:R,endReached:Z,rangeChanged:ne,stateChanged:F,propsReady:m,stateRestoreInProgress:z,...x}},ws(M6,ou,by,L6,O6,k6,fy));function My(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=lg(e,t,n,r[0].index),a=lg(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:a}}function lg(e,t,n,r){const o=Ly(e.width,n.width,t.column),s=lu(r/o),a=s*n.height+Ki(0,s-1)*t.row;return a>0?a+t.row:a}function Ly(e,t,n){return Ki(1,lu((e+n)/(lu(t)+n)))}const W6=$r(([e,t])=>({...e,...t}),ws(U6,$r(()=>{const e=ye(p=>`Item ${p}`),t=ye({}),n=ye(null),r=ye("virtuoso-grid-item"),o=ye("virtuoso-grid-list"),s=ye(I6),a=ye("div"),i=ye(Rc),c=(p,g=null)=>va(xe(t,vt(h=>h[p]),fn()),g),u=ye(!1),d=ye(!1);return it(Ue(d),u),{readyStateChanged:u,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:i,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}))),G6=f.memo(function(){const t=St("gridState"),n=St("listClassName"),r=St("itemClassName"),o=St("itemContent"),s=St("computeItemKey"),a=St("isSeeking"),i=Kn("scrollHeight"),c=St("ItemComponent"),u=St("ListComponent"),d=St("ScrollSeekPlaceholder"),p=St("context"),g=Kn("itemDimensions"),h=Kn("gap"),m=St("log"),b=St("stateRestoreInProgress"),v=Kn("reportReadyState"),w=nu(f.useMemo(()=>y=>{const C=y.parentElement.parentElement.scrollHeight;i(C);const S=y.firstChild;if(S){const{width:x,height:E}=S.getBoundingClientRect();g({width:x,height:E})}h({row:ky("row-gap",getComputedStyle(y).rowGap,m),column:ky("column-gap",getComputedStyle(y).columnGap,m)})},[i,g,h,m]),!0,!1);return py(()=>{t.itemHeight>0&&t.itemWidth>0&&v(!0)},[t]),b?null:l.jsx(u,{ref:w,className:n,...Ss(u,p),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(y=>{const C=s(y.index,y.data,p);return a?l.jsx(d,{...Ss(d,p),index:y.index,height:t.itemHeight,width:t.itemWidth},C):f.createElement(c,{...Ss(c,p),className:r,"data-index":y.index,key:C},o(y.index,y.data,p))})})}),K6=f.memo(function(){const t=St("HeaderComponent"),n=Kn("headerHeight"),r=St("headerFooterTag"),o=nu(f.useMemo(()=>a=>n(ru(a,"height")),[n]),!0,!1),s=St("context");return t?l.jsx(r,{ref:o,children:l.jsx(t,{...Ss(t,s)})}):null}),q6=f.memo(function(){const t=St("FooterComponent"),n=Kn("footerHeight"),r=St("headerFooterTag"),o=nu(f.useMemo(()=>a=>n(ru(a,"height")),[n]),!0,!1),s=St("context");return t?l.jsx(r,{ref:o,children:l.jsx(t,{...Ss(t,s)})}):null}),Y6=({children:e})=>{const t=f.useContext(Ey),n=Kn("itemDimensions"),r=Kn("viewportDimensions"),o=nu(f.useMemo(()=>s=>{r(s.getBoundingClientRect())},[r]),!0,!1);return f.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),l.jsx("div",{style:Py(!1),ref:o,children:e})},Z6=({children:e})=>{const t=f.useContext(Ey),n=Kn("windowViewportRect"),r=Kn("itemDimensions"),o=St("customScrollParent"),s=$6(n,o,!1);return f.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),l.jsx("div",{ref:s,style:Py(!1),children:e})},X6=f.memo(function({...t}){const n=St("useWindowScroll"),r=St("customScrollParent"),o=r||n?R6:Q6,s=r||n?Z6:Y6;return l.jsx(o,{...t,children:l.jsxs(s,{children:[l.jsx(K6,{}),l.jsx(G6,{}),l.jsx(q6,{})]})})}),{Component:J6,usePublisher:Kn,useEmitterValue:St,useEmitter:Ny}=y6(W6,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},X6),Q6=H6({usePublisher:Kn,useEmitterValue:St,useEmitter:Ny}),R6=D6({usePublisher:Kn,useEmitterValue:St,useEmitter:Ny});function ky(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,og.WARN),t==="normal"?0:parseInt(t??"0",10)}const qi=J6,cg=e=>{const t="gs-utl-grid-cols-4",n=parseInt(`${e||4}`,10);return n===1?"gs-utl-grid-cols-1":n===2?"gs-utl-grid-cols-2":n===3?"gs-utl-grid-cols-3":n===4?t:n===5?"gs-utl-grid-cols-5":n===6?"gs-utl-grid-cols-6":n===7?"gs-utl-grid-cols-7":n===8?"gs-utl-grid-cols-8":n===9?"gs-utl-grid-cols-9":n===10?"gs-utl-grid-cols-10":n===11?"gs-utl-grid-cols-11":n===12?"gs-utl-grid-cols-12":t},e7=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function t7(e){const t=e.map(({id:a,src:i})=>({id:a,src:i})),n=e.reduce((a,i)=>(a[i.id]=i,a),{}),r=[],o=[];return(await PC(t)).forEach(a=>{a.status==="fulfilled"?r.push(n[a.value]):o.push(n[a.reason])}),{loaded:r,failed:o}}const n7=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,a)=>{e7(s)&&(r[s.id]={index:a},o.push(s))}),o.length){const{loaded:s}=await t7(o);s.forEach(({id:a,options:i})=>{r[a].loaded=!0,n[a]=i||{}})}Object.keys(r).forEach(s=>{const a=r[s];a.loaded?t[a.index]=s:t[a.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},r7=(e,t,n,r={})=>{const{skipReplace:o}=r;e.loadData(t);const s=e.getCss()||"",a=o?s:s.replace(/:root\s*{/gi,"[data-body]{");let i=`${e.getHtml()}<style>${a}</style>`;if(n===Pe.email)try{i=e.runCommand(uc).html}catch(c){console.error(c)}return r.removeScripts&&(i=i.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<script[^>]*src=["'][^"']*["'][^>]*><\/script>/gi,"").replace(/<script[^>]*src=["'][^"']*["'][^>]*\/?>/gi,"")),o?i:i.replace("<body","<div data-body").replace("</body>","</div>")},o7=async(e,t,n)=>{const r=q0(t,{appStore:n}),o=await n7(r);return e==null?void 0:e.init({headless:!0,projectData:{},log:!1,undoManager:!1,noticeOnUnload:!1,storageManager:!1,plugins:[...o.plugins,s=>{s.Storage.setCurrent("")}],pluginsOpts:o.pluginOptions,protectedCss:`
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `})},$y=new Map,Iy=new Map,s7=async({html:e="",el:t})=>{const n=e,r={};if(document.body.attachShadow){const o=t.shadowRoot||t.attachShadow({mode:"open"});o.innerHTML=n}return r},a7=se(function({template:t,projectType:n,skipProjectNamePopover:r,className:o,onSelect:s,onRemove:a}){var T;const i=Ce(),c=ge(),u=c.editor,[d,p]=f.useState(""),g=f.useRef(null),h=i.t("projectManager.projectName"),m=!t.isTemplate&&c.currentProjectId===((T=t.data.custom)==null?void 0:T.id),b=n===Pe.web,v=!t.isTemplate||r,w=()=>{v&&(s==null||s({editor:u,template:t,loadTemplate:y}))},y=c.setProject,C=_=>{_.preventDefault(),s({editor:u,template:t,loadTemplate:y})};f.useEffect(()=>{const O=setTimeout(async()=>{if(!g.current||!u)return;const P=`${t.isTemplate?"t-":""}${t.id}`;let M=$y.get(P);if(!M){let k=Iy.get(n);if(!k){const H=new X0({appEditorStore:{sdkProps:{options:{licenseKey:""}}}});k=await o7(u.config.grapesjs,n,H.appEditorStore),Iy.set(n,k)}M=k?r7(k,t.data,n):"",$y.set(P,M)}const A=g.current;s7({el:A,html:M})});return()=>clearTimeout(O)},[g,u,n,t.data]);const{media:S,author:x}=t,E=l.jsx(Be,{className:J("text-sm"),size:"m2",variant:"pr",onClick:w,disabled:m,children:i.t("select")});return l.jsx(ln,{padding:!1,className:J("overflow-hidden max-w-full group",o),children:l.jsxs(I,{col:!0,children:[l.jsxs(j,{className:J("relative group h-36 bg-checker max-w-full"),children:[l.jsx("div",{className:J("gs-utl-relative","gs-utl-h-full","gs-utl-overflow-hidden","gs-utl-flex","gs-utl-justify-center"),children:S?l.jsx("img",{src:S,alt:t.name,className:J("max-w-full")}):l.jsx("div",{className:J("gs-utl-w-[1200px]","gs-utl-flex-shrink-0","gs-utl-flex-grow-0","gs-utl-origin-top","gs-utl-bg-white","gs-utl-scale-[0.232]","gs-utl-h-[431.034%]"),ref:g})}),m&&l.jsx(Ot,{className:J("absolute top-2 right-2",B.bgA2),label:i.t("current"),s:"s",pill:!0}),l.jsx(I,{justify:"center",items:"center",className:J(Le.coverAbs,B.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:v?E:l.jsx(Cr,{overlay:!0,title:!1,buttonAs:"span",handler:E,children:()=>l.jsx("form",{onSubmit:C,children:l.jsxs(I,{space:"m",col:!0,children:[l.jsx(j,{children:l.jsx(Re,{size:"s",value:d,onChange:p,placeholder:h,required:!0})}),l.jsx(j,{children:l.jsx(Be,{type:"submit",variant:"pr",size:"m2",full:!0,children:i.t("load")})})]})})})})]}),l.jsxs(I,{className:J("gjs-p-2 max-w-full",oe.bt,B.br),col:!0,space:"s",children:[l.jsxs(I,{className:J("text-sm w-full"),space:"s",nowrap:!0,children:[l.jsx(j,{className:J(Le.txtEllips,"max-w-full"),grow:!0,children:t.name}),!!x&&l.jsxs(j,{children:["by"," ",l.jsx("a",{className:J(Us.link),href:x.link,rel:"noreferrer",target:"_blank",children:x.name})]})]}),l.jsxs(I,{items:"center",children:[b&&l.jsxs(j,{className:J("gjs-mr-auto"),children:[i.t("projectManager.pages"),": ",t.data.pages.length]}),!t.isTemplate&&a&&l.jsx(j,{className:J("gjs-ml-auto"),children:l.jsx(Lc,{onConfirm:()=>a(t),className:"",children:l.jsx(bt,{title:i.t("delete"),children:l.jsx(re,{icon:K.delete,size:ie.sx})})})})]})]})]})})}),Vy=se(function({templates:e,projectType:t,content:n,skipProjectNamePopover:r,onSelect:o,onRemove:s}){const[a]=Kc(),c=Ce().tScoped("templates"),d=ge().editor,p=cg(n==null?void 0:n.itemsPerRow),g=o??(({template:h,loadTemplate:m})=>m(h));return l.jsx(l.Fragment,{children:d&&e?e.length===0?l.jsx(I,{justify:"center",children:c("notFound")}):l.jsx(qi,{data:e,listClassName:J("grid gap-2 gjs-pr-2",p),itemContent:(h,m)=>l.jsx(a7,{template:m,projectType:t,onSelect:g,onRemove:s,skipProjectNamePopover:r},m.id)},a):l.jsx(zi,{})})}),i7=se(function(){var b;const t=ge(),n=Eb(),{filteredTemplates:r,projectSourceFilter:o,projectTypeFilter:s}=n,a=Ce(),i=Pr(),{sdkOptions:c}=t,u=a.tScoped("projectManager"),d=async({loadTemplate:v,template:w})=>{v(w),i.close()},p=async v=>{n.setProjectTypeFilter(v),await n.loadAllTemplates()},g=v=>{n.removeProject(v.id),n.loadProjects()},h=f.useMemo(()=>[{id:hi.Existing,label:u("existentProjects")},{id:hi.Templates,label:u("templates")}],[a]),m=((b=c.project)==null?void 0:b.types)&&Qu();return f.useEffect(()=>{n.loadAllTemplates()},[]),l.jsxs(I,{col:!0,full:!0,space:"m",children:[m&&l.jsx(I,{items:"center",space:"m",children:l.jsx(j,{className:J("gjs-ml-auto"),children:l.jsx(Ee,{value:s,onChange:p,options:c6(),handlerSelected:v=>l.jsxs(l.Fragment,{children:[l.jsx("b",{children:u("projectType")}),": ",v.label]})})})}),l.jsx(j,{children:l.jsx(to,{tabs:h,value:o,onChange:n.setProjectSourceFilter})}),l.jsx(j,{grow:!0,children:l.jsx(Vy,{templates:r,projectType:Pe[s],onSelect:d,onRemove:g,content:{itemsPerRow:3}})})]})}),l7=({items:e,editor:t,customItems:n})=>n===!1?[]:Xe(n)?n({items:e,editor:t}):n||e,jy=e=>({icon:K.plus,size:ie.s,className:G("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),Hy=e=>!e.type||e.type==="button",c7="gs-cmp-topbar-left",u7=se(function({buttons:t,className:n,style:r}){const o=ge(),s=Ce(),{isOpen:a,toggleOpen:i}=Tb(),c=o.editor,d=s.tScoped("blockManager")("blocks"),p=l7({items:[{id:`blocks-${d}`,tooltip:d,size:Bm.s,icon:jy(a),variant:Fm.primary,editorEvents:{[on.toggleBlocksPanel]:({fromEvent:g,setState:h})=>{h({icon:jy(g.isOpen)})}},onClick:()=>i()}],customItems:t,editor:c});return l.jsx(I,{gap:"s",items:"center",justify:"start",className:G(c7,Me.xS,n),style:r,nowrap:!0,children:p.map(({id:g,...h})=>Hy(h)?l.jsx(Zl,{...h},g):At({id:g,...h}))})}),d7=[{id:zn.auto,label:"Auto"},{id:zn.dark,label:"Dark"},{id:zn.light,label:"Light"}],p7={size:"s"},ug=".grapesjs",f7=(e,t)=>{const n=e==null?void 0:e.settingsMenu;return n!==!1&&(n==null?void 0:n[t])!==!1},g7=({actions:e,editor:t,buttons:n,sdkOptions:r})=>{const o=r.actions;return o===!1?[]:Xe(o)?o({actions:e,editor:t}):o||(n?Xe(n)?n({items:e,editor:t}):n:e)},h7="gs-cmp-topbar-right",m7=se(function({editor:t,className:n,buttons:r,...o}){const s=ge(),{theme:a,setTheme:i}=dn(),{Commands:c,UndoManager:u}=t,{installEvent:d,appInstalled:p,isBrowserMode:g,setInstallEvent:h,sdkOptions:m,isProjectTypeEmail:b}=s,v=Pr(),w=Ce(),y=A=>w.t(`actions.${A}`),C=t.Storage.events,S=c.events,x="change:changesCount",E=(A,k)=>()=>{Xe(A)?A({editor:t}):c.isActive(A)?c.stop(A):c.run(A,k)},T=A=>({[`${S.runCommand}${A}`]:({setState:k})=>k({active:!0}),[`${S.stopCommand}${A}`]:({setState:k})=>k({active:!1})}),_=[{id:Bn.componentOutline,icon:K.borderRadius,tooltip:y("componentOutline.title"),onClick:E("core:component-outline"),editorEvents:T("core:component-outline")},{id:Bn.preview,icon:K.eye,tooltip:y("preview.title"),onClick:E("core:preview"),editorEvents:T("core:preview")},{id:Bn.fullscreen,icon:K.arrowExpandAll,tooltip:y("fullscreen.title"),onClick:E("core:fullscreen",{target:"body"}),editorEvents:T("core:fullscreen")},{id:Bn.showCode,icon:K.xml,tooltip:y("showCode.title"),onClick:()=>t.runCommand(ce.dialogExportCode)},{id:Bn.showImportCode,icon:K.trayArrowDown,tooltip:y("importCode.title"),onClick:()=>v.open({title:y("importCode.title"),content:()=>l.jsx(gv,{})})},{id:Bn.clearCanvas,icon:K.delete,tooltip:y("clearCanvas.title"),onClick:()=>v.confirm({title:y("clearCanvas.title"),content:y("clearCanvas.content"),confirmButton:{variant:"danger",children:y("clearCanvas.title")},onConfirm:()=>{b?t.loadProjectData({pages:[{component:"<mjml><mj-body></mj-body></mjml>"}]}):t.Components.clear()}})},{id:Bn.store,tooltip:y("store.title"),onClick:async()=>!s.isSaving&&t.store(),editorEvents:{"change:changesCount":({setState:A})=>A({}),[C.startStore]:({setState:A})=>A({disabled:!0}),[C.endStore]:({setState:A})=>A({disabled:!1})},label:()=>l.jsxs("div",{className:G("relative"),children:[l.jsx(re,{icon:K.floppy,size:ie.s}),!!t.getDirtyCount()&&!s.isSaving&&l.jsx("div",{className:G("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",B.bg),children:l.jsx("div",{className:G(Le.dot,B.bgW)})}),s.isSaving&&l.jsx("div",{className:G("absolute right-0 bottom-0 gjs-rounded-full",B.bg),children:l.jsx(re,{icon:K.refresh,size:"11px",className:G(Le.spin)})})]})},{id:Bn.undo,icon:K.arrowULeftTop,disabled:!0,onClick:E("core:undo"),editorEvents:{[x]:({setState:A})=>A({disabled:!u.hasUndo()})}},{id:Bn.redo,icon:K.arrowURightTop,disabled:!0,onClick:E("core:redo"),editorEvents:{[x]:({setState:A})=>A({disabled:!u.hasRedo()})}}],O=g7({actions:_,sdkOptions:m,editor:t,buttons:r}),P=[{id:"about",label:y("about.title"),icon:K.helpCircle,action:()=>v.open({size:"m",title:y("about.title"),content:()=>l.jsx(i6,{})})},{id:"embed",label:y("embed.title"),icon:K.powerPlug,action:()=>v.open({size:"m",title:y("embed.title"),content:()=>l.jsx(l6,{})})},{id:"openProject",label:y("open.title"),icon:K.folder,action:async()=>{let A="";try{A=await(await W8({extensions:[ug]})).text()}catch(k){return console.error(k)}s.loadProjectData(JSON.parse(A))}},{id:"saveProject",label:y("save.title"),icon:K.contentSave,action:async()=>{const A=t.getProjectData(),k=new Blob([JSON.stringify(A)]),H=`Untitled-${new Date().toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;try{await K8(k,{fileName:`${H}${ug}`,extensions:[ug]})}catch(L){return console.error(L)}}},{id:"loadProject",label:y("newProject.title"),icon:K.newspaperVariantOutline,action:()=>v.open({fullH:!0,title:y("newProject.title"),content:()=>l.jsx(i7,{})})},{id:"installApp",label:y(p?"installApp.installed":"installApp.title"),icon:K.applicationBracketsOutline,action:async()=>{if(p)return;d==null||d.prompt();const A=await(d==null?void 0:d.userChoice);(A==null?void 0:A.outcome)==="accepted"&&h()}},...m.customTheme?[]:[{id:"theme",label:l.jsxs(I,{items:"center",space:"m",children:[l.jsx(j,{children:"Theme"}),l.jsx(j,{children:l.jsx(to,{tabs:d7,onChange:A=>i(A),value:a,variant:"pills"})})]})}]].filter(({id:A})=>!((!g||!d)&&A==="installApp"||!f7(m,A))),M=(A,k)=>H=>{Xe(A)&&(A(H),k())};return l.jsxs(I,{space:"s",items:"center",justify:"end",className:G(h7,Me.xS,n),nowrap:!0,...o,children:[O.map(({id:A,...k})=>Hy(k)?l.jsx(Zl,{size:"s",...k},A):At({id:A,...k})),l.jsx(j,{children:m.settingsMenu!==!1&&P.length>0&&l.jsx(Cr,{placement:"bottom-end",title:!1,padding:!1,handler:l.jsx(re,{icon:K.cog,size:ie.s}),buttonProps:p7,overlay:!0,children:({close:A})=>l.jsx(l.Fragment,{children:P.map(k=>l.jsx(ii,{action:M(k.action,A),icon:k.icon,label:k.label},k.id))})})})]})});function b7({devices:e,selected:t,className:n,style:r,select:o}){const s=e.map(a=>({id:a.id,label:a.getName(),icon:a.attributes.icon}));return s.length?l.jsx(Ee,{size:"xs",className:n,style:r,value:t,options:s,onChange:o}):null}const v7="gs-devices",Dy=f.memo(function({className:t,style:n}){return l.jsx(VL,{children:r=>l.jsx(b7,{className:N(v7,t),style:n,...r})})}),Yi="gs-cmp-editor-topbar",y7=se(function({className:t,height:n,style:r,children:o,leftContainer:s,rightContainer:a,devices:i}){const{topBarSize:c,isInPreview:u,editor:d,isTopSidebarOpen:p}=ge(),g=n??c,h=f.useMemo(()=>({...r,minHeight:g,marginTop:u||!p?`-${g}px`:0}),[u,p,r]);return l.jsxs(l.Fragment,{children:[l.jsx(j,{className:N(Yi,"gs-utl-transition-spacing gs-utl-w-full",oe.bb,B.br,t),style:h,children:o??l.jsxs(I,{className:N(`${Yi}__wrp`,"gs-utl-h-full"),items:"center",full:!0,nowrap:!0,children:[l.jsx(j,{className:N(`${Yi}__wrp-left`),grow:!0,children:s!==!1&&l.jsx(u7,{...s})}),l.jsx(j,{className:N(`${Yi}__wrp-center`),children:i!==!1&&l.jsx(Dy,{...i})}),l.jsx(j,{className:N(`${Yi}__wrp-right`),grow:!0,children:a!==!1&&d&&l.jsx(m7,{editor:d,...a})})]})}),l.jsx(j,{className:N("gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",!u&&"-gs-utl-translate-y-full"),children:l.jsx(Be,{className:N("gs-cmp-close-preview gs-utl-m-4",B.bg),size:"s",onClick:()=>d==null?void 0:d.Commands.stop("core:preview"),children:l.jsx(re,{icon:K.eyeOff,size:ie.s})})})]})}),w7="gs-sidebar-top",Fy=f.memo(se(function({height:t,children:n,...r}){return l.jsx(y7,{height:t,...r,style:Xc(r),className:N(w7,"gs-utl-flex",Zc(r)),children:n?At(n):void 0})})),S7="gs-canvas-sidebar-top",C7=f.memo(se(function({className:t,sidebarTop:n,...r}){return l.jsxs(On,{className:N(S7,"gs-utl-flex gs-utl-flex-col",t),grow:!0,...r,children:[l.jsx(Fy,{...n}),l.jsx(ny,{grow:!0})]})})),x7="gs-cmp-column",E7=f.memo(function({className:t,children:n,full:r,...o}){return l.jsx(On,{className:N(x7,B.bg,"gs-utl-flex gs-utl-flex-col",r&&"gs-utl-h-full",t),...o,children:At(n)})}),P7="gs-cmp-input-field",T7=f.memo(se(function({className:t,style:n,label:r,name:o,value:s,size:a,disabled:i,inputType:c,readOnly:u,required:d,placeholder:p,onChange:g,onInput:h,editorEvents:m}){const{editor:b}=ge(),[v,w]=f.useState(()=>({className:t,style:n,label:r,name:o,value:s,size:a,readOnly:u,disabled:i,required:d,placeholder:p})),y=x=>({value:x,editor:b,state:v,setState:E=>w(T=>({...T,...E}))}),C=x=>g==null?void 0:g(y(x)),S=x=>h==null?void 0:h(y(x));return wa({editor:b,editorEvents:m,localState:v,setLocalState:w}),l.jsx(Re,{type:c,className:N(P7,v.className),style:v.style,label:v.label,name:v.name,value:v.value,size:v.size,required:v.required,disabled:v.disabled,readOnly:v.readOnly,placeholder:v.placeholder,onChange:C,onInput:S})}));function O7({children:e,accept:t,onChange:n,multiple:r=!0,...o}){const s=Ce(),a=f.useRef(null),i=()=>{const{current:c}=a;c&&(c.value="",c.click())};return l.jsxs(l.Fragment,{children:[l.jsx("input",{className:G("hidden"),ref:a,type:"file",multiple:r,accept:t,onChange:n}),l.jsx(Be,{variant:"pr",size:"m2",...o,onClick:i,children:e||s.t("upload")})]})}const _7=se(O7),A7=se(function({editor:t,assetProps:n,itemLayout:r,onSelect:o,onRemove:s}){const a=ls();return At(r({asset:po(a.toAsset(n)),assetProps:po(n),onSelect:i=>o(a.toAssetProps(i)),onDelete:s&&(i=>s(a.toAssetProps(i))),editor:t}))}),M7="gs-cmp-asset-card",L7=se(function(t){var p;const{assetProps:n,onSelect:r,onRemove:o,className:s,itemLayout:a}=t,i=Ce(),{editor:c}=ge();if(a)return c?l.jsx(A7,{...t,editor:c,itemLayout:a}):null;const{src:u}=n,d=n.name||((p=u.split("/").pop())==null?void 0:p.split("?").shift());return l.jsx(ln,{padding:!1,className:J(M7,"overflow-hidden max-w-full group",s),children:l.jsxs(I,{col:!0,children:[l.jsxs(j,{className:J("relative group h-24 cursor-pointer bg-checker"),onClick:()=>r(n),children:[l.jsx("div",{className:J("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${u}")`}}),l.jsx(I,{justify:"center",items:"center",className:J(Le.coverAbs,B.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:l.jsx(Be,{className:J("text-sm"),size:"m2",variant:"pr",children:i.t("select")})})]}),l.jsxs(I,{className:J("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[l.jsx(j,{className:J(Le.txtEllips,"text-sm gjs-mr-auto"),children:d}),o&&l.jsx(Lc,{onConfirm:()=>o==null?void 0:o(n),text:l.jsxs(I,{col:!0,space:"m",items:"stretch",children:[l.jsx("p",{className:J("text-center",B.txtHighEmphasis),children:i.t("assetManager.deleteConfirmQuestion")}),l.jsx("p",{className:J("text-center"),children:i.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:l.jsx(bt,{title:i.t("delete"),children:l.jsx(re,{icon:K.delete,size:ie.sx})})})]})]})})}),Ir="gs-asset-manager",N7={search:!0,addUrl:!0,upload:!0},k7=se(function({assetProps:t,typeFilterOptions:n,providerFilterOptions:r,typeFilter:o,providerFilter:s,searchValue:a,isLoading:i,optionalType:c,optionalProvider:u,useLocalSearch:d,itemLayout:p,content:g,onSelect:h,onChangeTypeFilter:m,onChangeProviderFilter:b,onChangeSearchValue:v,onChangeUpload:w,onAddUrl:y,onRemove:C,onEndReached:S,layoutAfterHeader:x}){const E=ge(),{editor:T}=E,_=Ce(),[O]=Kc(),P=cg(g==null?void 0:g.itemsPerRow),[M,A]=f.useState(""),k=(g==null?void 0:g.header)===!1?!1:{...N7,...nr(g==null?void 0:g.header)?g.header:{}};if(!T)return;const H=d?t.filter(L=>!(a&&!Hs(L.src,a)&&!Hs(L.name??"",a))):t;return l.jsxs(I,{className:G(Ir,"relative gs-utl-h-full",i&&Le.disabled),nowrap:!0,col:!0,space:"m",children:[k!==!1&&l.jsxs(I,{className:`${Ir}__header`,gap:"m",justify:"between",items:"center",children:[l.jsxs(I,{className:`${Ir}__header-filters`,items:"center",gap:"m",children:[k.search&&l.jsx(j,{children:l.jsx(Re,{className:`${Ir}__search-filter`,size:"m",type:"search",value:a,onInput:v,placeholder:`${_.t("search")}...`})}),n.length>(c?0:1)&&l.jsx(j,{children:l.jsx(Ee,{className:G(`${Ir}__type-filter`,"items-center"),size:"m",options:n,value:o,onChange:m,emptyState:_.t("assetManager.assetTypes.all"),includeEmpty:c})}),r.length>(u?0:1)&&l.jsx(j,{children:l.jsx(Ee,{classNameContainer:G(`${Ir}__provider-filter`,"items-center"),size:"m",options:r.map(L=>({...L,label:Xe(L.label)?L.label({editor:T}):L.label,icon:L.icon})),value:s,onChange:b,emptyState:_.t("assetManager.noProvider"),includeEmpty:u})})]}),l.jsxs(I,{className:`${Ir}__header-buttons`,items:"center",gap:"m",children:[k.upload&&l.jsx(j,{children:l.jsx(_7,{className:`${Ir}__upload-field`,onChange:w})}),k.addUrl&&!!y&&l.jsx(j,{children:l.jsx(Cr,{className:`${Ir}__add-url-popover`,overlay:!0,placement:"bottom-end",title:!1,buttonAs:"span",handler:l.jsx(Be,{variant:"pr",size:"m2",children:_.t("assetManager.addUrl")}),children:({close:L})=>l.jsxs(I,{gap:"m",children:[l.jsx(j,{children:l.jsx(Re,{type:"url",size:"s",value:M,onChange:A,placeholder:_.t("assetManager.inputPlh")})}),l.jsx(j,{children:l.jsx(Be,{variant:"pr",size:"m2",onClick:()=>{y(M),L()},children:_.t("add")})})]})})})]}),x&&l.jsx(l.Fragment,{children:At(x({editor:T}))})]}),l.jsx(I,{className:G(`${Ir}__content`,"gs-utl-h-[75vh] gs-utl-flex-grow"),space:"m",col:!0,nowrap:!0,children:!i&&!H.length?l.jsx(I,{justify:"center",children:_.t("noItems")}):!!O&&l.jsx(qi,{data:H,listClassName:G("gs-utl-grid gs-utl-gap-2",P),endReached:S,itemContent:(L,F)=>l.jsx(L7,{assetProps:F,onSelect:h,onRemove:C,itemLayout:p},F.id),components:{Footer:S?$7:void 0}})}),i&&l.jsx(zi,{abs:!0})]})}),$7=()=>l.jsx("div",{style:{padding:"2rem",display:"flex",justifyContent:"center",height:200}}),By=se(function({panelId:t,content:n,assets:r,types:o,providers:s,typeId:a,providerId:i,optionalType:c,optionalProvider:u,onSelect:d,close:p,layoutAfterHeader:g}){const{appEditorStore:h,i18nStore:m}=Bt(),{editor:b}=h,v=ls(),{customOnLoad:w}=v,y=bb(t);f.useEffect(()=>{const T=O=>et(O)?{id:O,label:m.t(`assetManager.assetTypes.${O}`)||O}:O;y.setCustomTypes(o==null?void 0:o.map(T)),y.setCustomProviders(et(s)?[s]:s),a?y.setTypeFilter(a):y.initTypeFilter(),i?y.setProviderFilter(i):y.initProviderFilter(),Mt(c)?y.setOptionalType(c):y.initOptionalType(),Mt(u)?y.setOptionalProvider(u):y.initOptionalProvider();const _=setTimeout(()=>y.loadAssets());return()=>clearTimeout(_)},[o,s,a,i,c,u]);const C=T=>{v.addToProjectAssets([{id:T,src:T,type:y.typeFilter??Eo.image}])},S=T=>{b&&(d==null||d({asset:v.toAsset(T),assetProps:T,editor:b}),p==null||p())},x=r==null?void 0:r.map(v.toAssetProps),E=y.shouldLoadNextPage?()=>y.loadAssets(!1):void 0;return l.jsx(k7,{assetProps:x??y.assetProps,typeFilter:y.typeFilter,typeFilterOptions:y.typeFilterOptions,providerFilter:y.providerFilter,providerFilterOptions:y.providerFilterOptions,searchValue:y.searchValue,onChangeTypeFilter:T=>{y.setTypeFilter(T),y.loadAssets()},onChangeProviderFilter:T=>{y.setProviderFilter(T),y.loadAssets()},onChangeSearchValue:y.setSearchValue,onSelect:S,onAddUrl:w?void 0:C,onChangeUpload:T=>v.uploadFile(T.nativeEvent),onRemove:x?void 0:y.handleDelete,onEndReached:E,isLoading:y.isLoading,itemLayout:y.itemLayout,content:n,optionalType:y.optionalType,optionalProvider:y.optionalProvider,useLocalSearch:!y.reloadOnInput,layoutAfterHeader:g})});var I7=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=globalThis&&globalThis.__assign||function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_t.apply(this,arguments)},zy={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Uy={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},uu={width:"20px",height:"20px",position:"absolute"},V7={top:_t(_t({},zy),{top:"-5px"}),right:_t(_t({},Uy),{left:void 0,right:"-5px"}),bottom:_t(_t({},zy),{top:void 0,bottom:"-5px"}),left:_t(_t({},Uy),{left:"-5px"}),topRight:_t(_t({},uu),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:_t(_t({},uu),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:_t(_t({},uu),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:_t(_t({},uu),{left:"-10px",top:"-10px",cursor:"nw-resize"})},j7=function(e){I7(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return Ge.createElement("div",{className:this.props.className||"",style:_t(_t({position:"absolute",userSelect:"none"},V7[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(Ge.PureComponent),H7=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=globalThis&&globalThis.__assign||function(){return Vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vr.apply(this,arguments)},D7={width:"auto",height:"auto"},du=function(e,t,n){return Math.max(Math.min(e,n),t)},Wy=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},ya=function(e,t){return new RegExp(e,"i").test(t)},pu=function(e){return!!(e.touches&&e.touches.length)},F7=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Gy=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,a,i){return Math.abs(a-e)<Math.abs(t[s]-e)?i:s},0),o=Math.abs(t[r]-e);return n===0||o<n?t[r]:e},dg=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},fu=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return r*o}}return e},B7=function(e,t,n,r,o,s,a){return r=fu(r,e.width,t,n),o=fu(o,e.height,t,n),s=fu(s,e.width,t,n),a=fu(a,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},z7=function(e){return Array.isArray(e)?e:[e,e]},U7=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ky="__resizable_base__",W7=function(e){H7(t,e);function t(n){var r,o,s,a,i=e.call(this,n)||this;return i.ratio=1,i.resizable=null,i.parentLeft=0,i.parentTop=0,i.resizableLeft=0,i.resizableRight=0,i.resizableTop=0,i.resizableBottom=0,i.targetLeft=0,i.targetTop=0,i.appendBase=function(){if(!i.resizable||!i.window)return null;var c=i.parentNode;if(!c)return null;var u=i.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(Ky):u.className+=Ky,c.appendChild(u),u},i.removeBase=function(c){var u=i.parentNode;u&&u.removeChild(c)},i.state={isResizing:!1,width:(o=(r=i.propsSize)===null||r===void 0?void 0:r.width)!==null&&o!==void 0?o:"auto",height:(a=(s=i.propsSize)===null||s===void 0?void 0:s.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},i.onResizeStart=i.onResizeStart.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.onMouseUp=i.onMouseUp.bind(i),i}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||D7},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(i){var c;if(typeof n.state[i]>"u"||n.state[i]==="auto")return"auto";if(n.propsSize&&n.propsSize[i]&&(!((c=n.propsSize[i])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[i].toString().endsWith("%"))return n.state[i].toString();var u=n.getParentSize(),d=Number(n.state[i].toString().replace("px","")),p=d/u[i]*100;return p+"%"}return dg(n.state[i])},s=r&&typeof r.width<"u"&&!this.state.isResizing?dg(r.width):o("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?dg(r.height):o("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=o),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var o=this.props.boundsByDirection,s=this.state.direction,a=o&&ya("left",s),i=o&&ya("top",s),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=a?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=i?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=i?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=i?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=z7(this.props.resizeRatio||1),a=s[0],i=s[1],c=this.state,u=c.direction,d=c.original,p=this.props,g=p.lockAspectRatio,h=p.lockAspectRatioExtraHeight,m=p.lockAspectRatioExtraWidth,b=d.width,v=d.height,w=h||0,y=m||0;return ya("right",u)&&(b=d.width+(n-d.x)*a/o,g&&(v=(b-y)/this.ratio+w)),ya("left",u)&&(b=d.width-(n-d.x)*a/o,g&&(v=(b-y)/this.ratio+w)),ya("bottom",u)&&(v=d.height+(r-d.y)*i/o,g&&(b=(v-w)*this.ratio+y)),ya("top",u)&&(v=d.height-(r-d.y)*i/o,g&&(b=(v-w)*this.ratio+y)),{newWidth:b,newHeight:v}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var a=this.props,i=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=typeof s.width>"u"?10:s.width,p=typeof o.width>"u"||o.width<0?n:o.width,g=typeof s.height>"u"?10:s.height,h=typeof o.height>"u"||o.height<0?r:o.height,m=c||0,b=u||0;if(i){var v=(g-m)*this.ratio+b,w=(h-m)*this.ratio+b,y=(d-b)/this.ratio+m,C=(p-b)/this.ratio+m,S=Math.max(d,v),x=Math.min(p,w),E=Math.max(g,y),T=Math.min(h,C);n=du(n,S,x),r=du(r,E,T)}else n=du(n,d,p),r=du(r,g,h);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var o=r.getBoundingClientRect();this.parentLeft=o.left*n,this.parentTop=o.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var a=this.resizable.getBoundingClientRect(),i=a.left,c=a.top,u=a.right,d=a.bottom;this.resizableLeft=i*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var o=0,s=0;if(n.nativeEvent&&F7(n.nativeEvent)?(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&pu(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(n,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var i,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",i=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Vr(Vr({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:i};this.setState(p)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&pu(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,a=o.maxHeight,i=o.minWidth,c=o.minHeight,u=pu(n)?n.touches[0].clientX:n.clientX,d=pu(n)?n.touches[0].clientY:n.clientY,p=this.state,g=p.direction,h=p.original,m=p.width,b=p.height,v=this.getParentSize(),w=B7(v,this.window.innerWidth,this.window.innerHeight,s,a,i,c);s=w.maxWidth,a=w.maxHeight,i=w.minWidth,c=w.minHeight;var y=this.calculateNewSizeFromDirection(u,d),C=y.newHeight,S=y.newWidth,x=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(S=Gy(S,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(C=Gy(C,this.props.snap.y,this.props.snapGap));var E=this.calculateNewSizeFromAspectRatio(S,C,{width:x.maxWidth,height:x.maxHeight},{width:i,height:c});if(S=E.newWidth,C=E.newHeight,this.props.grid){var T=Wy(S,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),_=Wy(C,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),O=this.props.snapGap||0,P=O===0||Math.abs(T-S)<=O?T:S,M=O===0||Math.abs(_-C)<=O?_:C;S=P,C=M}var A={width:S-h.width,height:C-h.height};if(m&&typeof m=="string"){if(m.endsWith("%")){var k=S/v.width*100;S=k+"%"}else if(m.endsWith("vw")){var H=S/this.window.innerWidth*100;S=H+"vw"}else if(m.endsWith("vh")){var L=S/this.window.innerHeight*100;S=L+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var k=C/v.height*100;C=k+"%"}else if(b.endsWith("vw")){var H=C/this.window.innerWidth*100;C=H+"vw"}else if(b.endsWith("vh")){var L=C/this.window.innerHeight*100;C=L+"vh"}}var F={width:this.createSizeForCssProperty(S,"width"),height:this.createSizeForCssProperty(C,"height")};this.flexDir==="row"?F.flexBasis=F.width:this.flexDir==="column"&&(F.flexBasis=F.height);var W=this.state.width!==F.width,z=this.state.height!==F.height,$=this.state.flexBasis!==F.flexBasis,D=W||z||$;D&&mn.flushSync(function(){r.setState(F)}),this.props.onResize&&D&&this.props.onResize(n,g,this.resizable,A)}},t.prototype.onMouseUp=function(n){var r,o,s=this.state,a=s.isResizing,i=s.direction,c=s.original;if(!(!a||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,i,this.resizable,u),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Vr(Vr({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var r,o;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(o=n.height)!==null&&o!==void 0?o:"auto"})},t.prototype.renderResizer=function(n){var r=this,o=this.props,s=o.enable,a=o.handleStyles,i=o.handleClasses,c=o.handleWrapperStyle,u=o.handleWrapperClass,d=o.handleComponent;if(!s)return null;var p=n.filter(function(g){return s[g]!==!1}).map(function(g){return s[g]!==!1?Ge.createElement(j7,{key:g,direction:g,onResizeStart:r.onResizeStart,replaceStyles:a&&a[g],className:i&&i[g]},d&&d[g]?d[g]:null):null});return Ge.createElement("div",{className:u,style:c},p)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(a,i){return U7.indexOf(i)!==-1||(a[i]=n.props[i]),a},{}),o=Vr(Vr(Vr({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return Ge.createElement(s,Vr({style:o,className:this.props.className},r,{ref:function(a){a&&(n.resizable=a)}}),this.state.isResizing&&Ge.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(Ge.PureComponent);function Zi({className:e,children:t,top:n,bottom:r,right:o,left:s,width:a,height:i,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:g,onResize:h,onResizeStop:m,...b}){const v={top:n||!1,right:o||!1,bottom:r||!1,left:s||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},w={width:a||"auto",height:i||"auto"},y=N("gs-utl-z-10",B.hBgAct),C={top:y,bottom:y,right:y,left:y},S={top:{top:-1,height:2},bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}};return l.jsx(W7,{className:e,enable:b.enable??v,defaultSize:w,handleStyles:S,handleClasses:C,onResize:h,onResizeStop:m,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:g,children:t})}const Xi="gs-studio-panel",qy=(e,t={})=>({...t,...e===!0?{}:e||void 0}),ar=f.memo(function({children:t,header:n,resizable:r,className:o,classNameAccordion:s,classNameAccordionContent:a,...i}){const c=l.jsx(On,{className:N(Xi,o),...i,children:t}),u=r?r===!0?{top:!0,right:!0,bottom:!0,left:!0}:r:void 0,d=u?l.jsx(Zi,{className:N([`${Xi}__resizer`]),...u,children:c}):c,p=n===!0?{collapsible:!0}:n||void 0;return p?l.jsx(hs,{classNameWrap:N(`${Xi}__accordion`,s),className:N(`${Xi}__accordion-header`,Me.xy,p.className),classNameContent:N(`${Xi}__accordion-content`,a),disabled:p.collapsible===!1,style:p.style,handler:l.jsxs(I,{space:"s",items:"center",children:[!!p.icon&&l.jsx(re,{icon:p.icon,size:ie.s}),l.jsx(j,{grow:!0,children:p.label})]}),open:n?p.collapsed!==!0:!0,children:d}):d}),G7="gs-panel-assets",K7=f.memo(se(function({className:t,onSelect:n,content:r,assets:o,types:s,providers:a,typeId:i,providerId:c,optionalType:u,optionalProvider:d,projectAssetsOption:p,layoutAfterHeader:g,...h}){var x;const m=ge(),b=ls(),v=m.editor,w=(x=m.sdkOptions.assets)==null?void 0:x.layoutAfterHeader,y=g||w,[C]=f.useState(()=>h.id||s1());return f.useEffect(()=>(b.createAssetManager(C),()=>{b.removeAssetManager(C)}),[C]),bb(C)?l.jsx(ar,{className:N(G7,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...h,children:v&&l.jsx(By,{panelId:C,assets:o,types:s,providers:a,onSelect:n,typeId:i,providerId:c,content:r,optionalType:u,optionalProvider:p??d,layoutAfterHeader:y})}):null})),pg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-block-manager-after"),n),ref:o,...r,children:t})}),fg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-block-manager-before"),n),ref:o,...r,children:t})}),q7="gs-panel-blocks",Y7=f.memo(se(function({className:t,symbols:n,search:r,hideCategories:o,target:s,variant:a,blocks:i,itemLayout:c,...u}){const d=ge().sdkProps.children,p={search:r,symbols:n,hideCategories:o,isOpen:!0,target:s,variant:a,blocks:i,itemLayout:c};return l.jsx(ar,{className:N(q7,"gs-utl-overflow-hidden",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...u,children:l.jsxs(fs,{children:[cn(d,fg),l.jsx(Gw,{className:N("gs-utl-overflow-hidden gs-utl-flex-nowrap"),...p}),cn(d,pg)]})})})),Z7=(e,{t,id:n})=>t(`fields.${n}.label`)||mr(`${e}`.replace(/-/g," ")),Yy=(e,{t,id:n})=>{const r=et(e)?{id:e,label:e}:e;return{...r,label:t(`fields.${n}.options.${r.id}`)||r.label}},Zy=e=>e.get("defaultValue")||"",Ji=e=>e.get("field"),Xy=e=>{const t=Ji(e);return et(t)?{type:t}:t},Jy=e=>`${e.get("value")||Zy(e)||Xy(e).defaultValue||""}`,X7=(e,t)=>e||Zy(t)||"",Qi=({record:e,value:t,partial:n})=>{e.set({value:X7(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},Ri=(e,t)=>{const{className:n,defaultValue:r,size:o,...s}=Xy(e),a=r??e.get("defaultValue");return{...s,hasClear:()=>{const i=e.get("value");return!!i&&Mt(a)&&i!==a},className:N(n,"gs-utl-w-full"),size:o||"s",value:Jy(e),label:Z7(e.get("label")||e.id||"",t),onChange:(i,c)=>Qi({record:e,value:i,partial:c})}},J7=(e,t)=>{const n=Ji(e),r=nr(n)?n:void 0,o=(r==null?void 0:r.units)||[],s=ZN(Jy(e)),a=s.number,i=s.unit||o[0]||"";return{...Ri(e,t),value:a,valueUnit:i,min:r==null?void 0:r.min,max:r==null?void 0:r.max,step:r==null?void 0:r.step,units:r==null?void 0:r.units,onChange:(c,u)=>{Qi({value:c?`${c}${i}`:"",record:e,partial:u})},onChangeUnit:c=>{Qi({value:a?`${a}${c}`:"",record:e})}}},Qy=(e,t)=>{var s;const n=Ji(e),r=nr(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(a=>Yy(a,t)))||[];return{...Ri(e,t),options:o,onChange:a=>Qi({value:a,record:e})}},Q7=(e,t)=>({...Ri(e,t),onChange:n=>Qi({value:n,record:e})}),R7=(e,t)=>{var s;const n=Ji(e),r=nr(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(a=>Yy(a,t)))||[];return{...Qy(e,t),size:"s",options:o}};function e9(e,t){const n=Ji(e);switch(et(n)?n:n==null?void 0:n.type){case"radio":return l.jsx(qt,{...R7(e,t)});case"select":return l.jsx(Ee,{...Qy(e,t)});case"selectFont":{const o=Q7(e,t);return l.jsx(xc,{...o,labelAs:"div"})}case"number":return l.jsx(Ne,{...J7(e,t)});case"color":return l.jsx(Rr,{...Ri(e,t)});default:return l.jsx(Re,{...Ri(e,t)})}}const Ry="gs-cmp-global-style-field",t9=se(function({record:t}){const n=ge(),o=Ce().tScoped("globalStyleManager"),[,s]=f.useState(0),a=n.editor,i=t.id,c={t:o,id:i};return f.useEffect(()=>{if(!a)return;const u=`data:path:${t.getPath("value")}`,d=()=>s(p=>++p);return a.on(u,d),()=>{a.off(u,d)}},[a]),l.jsx(I,{className:N(Ry,`${Ry}__${i}`),children:e9(t,c)})}),el="gs-cmp-global-style-manager",ew=({items:e,category:t,className:n})=>{const r=N(t?`${el}__cat-fields--${t.id}`:`${el}__uncat-fields`,"gs-utl-gap-2",Me.xy,n);return l.jsx(I,{className:r,nowrap:!0,col:!0,children:e.map(o=>l.jsx(t9,{record:o},o.id))})},n9=se(function(){const t=K4(),{recordsByCategory:n,openCategories:r}=t,s=Ce().tScoped("globalStyleManager");return l.jsx(I,{col:!0,full:!0,nowrap:!0,className:N(el,"gs-utl-flex-grow gs-utl-overflow-hidden"),children:l.jsx(I,{col:!0,nowrap:!0,className:N(`${el}__fields`,Le.scrollY,"gs-utl-select-none"),children:n.length?n.map(({category:a,items:i},c)=>a?l.jsx(hs,{sticky:!0,open:r.get(a.id)??a.open,handler:s(`categories.${a.id}.label`)||a.label||a.id,onChange:({open:u})=>t.setCategoryOpen(a.id,u),className:u=>N(`${el}__cat-fields`,bd.itemList({index:c,open:u,length:n.length}),c===0&&oe.bt),children:l.jsx(ew,{category:a,items:i})},a.id):l.jsx(ew,{items:i,className:N(n.length!==1&&[oe.bt,B.br])},c)):l.jsx(I,{className:N("gs-utl-text-center"),justify:"center",children:s("notFound")})})})}),r9="gs-panel-global-styles",o9=f.memo(se(function({className:t,...n}){return l.jsx(ar,{className:N(r9,"gs-utl-overflow-auto",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-auto"),...n,children:l.jsx(fs,{children:l.jsx(n9,{})})})}));function gg({className:e,value:t,onChange:n}){const[r,o]=f.useState(t),s=f.useRef(null),a=u=>{const{value:d}=u.target;o(d)},i=()=>{n(r||t)},c=u=>{switch(u.key){case"Escape":n(t);break;case"Enter":n(r||t);break}};return f.useEffect(()=>{s.current&&s.current.select()},[]),l.jsx("input",{autoFocus:!0,className:G([e,"w-full",B.bgTr]),value:r,onChange:a,onBlur:i,onKeyDown:c,onPointerDown:Jo,ref:s})}const s9={maxWidth:`${IC}px`},a9="gs-cmp-layer-item";function tw({component:e,draggingCmp:t,dragParent:n,...r}){const o=Tn(),{Layers:s}=o,a=f.useRef(null),[i,c]=f.useState(!1),[u,d]=f.useState(s.getLayerData(e)),{open:p,selected:g,hovered:h,components:m,visible:b,locked:v,name:w}=u,y=m.map(z=>z.cid),C=t===e,S=y.join("-"),x=r.level+1,E=h||n===e;f.useEffect(()=>{x===0&&d(s.getLayerData(e)),a.current&&(a.current.__cmp=e)},[e]),f.useEffect(()=>{const z=a.current;if(!z)return;const{select:$}=o.Components.events,D=V=>V===e&&z.scrollIntoView({block:"nearest"});return o.on($,D),()=>{o.off($,D)}},[e,a.current]),f.useEffect(()=>{const z=D=>{D===e&&d(s.getLayerData(D))},$=s.events.component;return o.on($,z),()=>{o.off($,z)}},[o,s,e]);const T=f.useMemo(()=>m.map(z=>l.jsx(tw,{component:z,level:x,draggingCmp:t,dragParent:n},z.cid)),[S,t,n]),_=z=>{s.setLayerData(e,{name:z}),c(!1)},O=z=>{z.stopPropagation(),s.setLayerData(e,{open:!p})},P=z=>{z.stopPropagation(),s.setLayerData(e,{visible:!b})},M=z=>{z.stopPropagation(),s.setLayerData(e,{locked:!v})},A=z=>{z.stopPropagation(),s.setLayerData(e,{selected:!0},{event:z})},k=z=>{z.preventDefault(),o.runCommand(ce.contextMenuComponent,{source:Yl.layers,component:e,event:z.nativeEvent,x:z.clientX,y:z.clientY})},H=z=>{(!z||!t)&&s.setLayerData(e,{hovered:z})},L=Ws(e),F=G("layer-item",(g||L.isSymbol)&&L.bgSoftX,(!b||C)&&"opacity-50"),W=G(Me.xyS,oe.b,E?L.border:oe.bT,g&&L.bgSoft);return l.jsx("div",{className:a9,children:l.jsxs(I,{col:!0,className:F,children:[l.jsx(j,{onClick:A,onContextMenu:k,onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),className:G("group max-w-full"),"data-layer-item":!0,ref:a,children:l.jsxs(I,{items:"center",space:"xs",className:W,children:[l.jsx(j,{style:{marginLeft:`${x*10}px`},className:G("cursor-pointer",!m.length&&"pointer-events-none opacity-0"),onClick:O,children:l.jsx(re,{icon:K.menuDown,size:ie.sx,rotate:p?0:-90})}),l.jsx(j,{children:Mp(e)}),l.jsx(j,{className:G("truncate"),onDoubleClick:()=>c(!0),style:s9,grow:!0,children:i?l.jsx(gg,{value:w,onChange:_}):l.jsx(l.Fragment,{children:w})}),!i&&l.jsxs(l.Fragment,{children:[l.jsx(j,{className:G("group-hover:gs-utl-opacity-100 cursor-pointer",v?"opacity-100":"opacity-0"),onClick:M,children:l.jsx(re,{icon:v?K.lock:K.lockOpenVariant,size:ie.s3x})}),l.jsx(j,{className:G("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-0":"opacity-100"),onClick:P,children:l.jsx(re,{icon:b?K.eyeOutline:K.eyeOffOutline,size:ie.sx})})]})]})}),!!(p&&m.length)&&l.jsx(j,{className:G("max-w-full",!p&&"hidden"),children:T})]})})}const i9={touchAction:"none"},nw=5,l9=e=>{var s,a;const t=document.elementFromPoint(e.clientX,e.clientY),n=t==null?void 0:t.closest("[data-layer-item]"),r=n==null?void 0:n.__cmp,o=((a=(s=r==null?void 0:r.delegate)==null?void 0:s.move)==null?void 0:a.call(s,r))||r;return{el:n,cmp:o}},rw=se(function({root:t,header:n}){const{editor:r}=ge(),[o,s]=f.useState(!1),[a,i]=f.useState({}),[c,u]=f.useState(),[d,p]=f.useState(),[g,h]=f.useState(),[m,b]=f.useState(),v=f.useRef(null);if(f.useEffect(()=>{const O=window.document,P=M=>{M.key==="Escape"&&(i({...a,result:!1}),S())};return O.addEventListener("keydown",P),()=>{O.removeEventListener("keydown",P)}},[]),!r)return null;const{Components:w}=r,y=O=>{O.button===0&&s(!0)},C=O=>{if(!o)return;const{cmp:P,el:M}=l9(O);if(!M||!P)return;const A=M.getBoundingClientRect(),k=M.offsetHeight,H=M.offsetTop,L=O.clientY,F=L<A.y+k/2,W=d||P,z=P.parent(),$=P.index()+(F?0:1);!d&&p(P),u(P);const D=w.canMove(z,W,$),V=w.canMove(P,W),U={...D,canMoveInside:V,index:$};let Q=!1;V.result&&L>A.y+nw&&L<A.y+k-nw&&(Q=!0,U.target=P,delete U.index),h(Q?P:void 0),i(U),b({pointerInside:Q,y:H+(F?0:k),h:k})},S=()=>{var O;a!=null&&a.result&&((O=a.source)==null||O.move(a.target,{at:a.index})),i({}),s(!1),p(void 0),u(void 0),h(void 0),b(void 0)},x=(c?c.parents():[]).length,E=!!(d&&m&&(a!=null&&a.result)&&!m.pointerInside),T=E?{top:m.y,left:0,marginLeft:x*10+20}:{},_=n&&(n==null?void 0:n.label)||"Layers";return l.jsxs(I,{col:!0,full:!0,nowrap:!0,className:G("gs-layer-manager flex-grow overflow-hidden"),children:[n!==!1&&l.jsx(j,{children:l.jsxs(I,{space:"s",items:"center",className:G([Me.xy,oe.bb,B.br]),children:[l.jsx(j,{children:l.jsx(re,{icon:K.layers,size:ie.s})}),l.jsx(j,{grow:!0,children:_})]})}),l.jsxs(j,{className:G("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:i9,onPointerDown:y,onPointerMove:C,onPointerUp:S,grow:!0,children:[!!t&&l.jsx(tw,{component:t,level:-1,draggingCmp:d,dragParent:g}),E&&l.jsx("div",{ref:v,className:G("absolute w-full gs-utl-h-0.5",B.cmp),style:T})]})]})}),hg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-layer-manager-after"),n),ref:o,...r,children:t})}),mg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-layer-manager-before"),n),ref:o,...r,children:t})}),c9="gs-panel-layers",ow=f.memo(se(function({className:t,...n}){const r=ge().sdkProps.children;return l.jsx(ar,{className:N(c9,"gs-utl-overflow-auto",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-auto"),...n,children:l.jsx(Rp,{children:o=>l.jsxs(l.Fragment,{children:[cn(r,mg),l.jsx(rw,{...o,header:!1}),cn(r,hg)]})})})})),u9=se(function(){const t=Ce(),{editor:n}=ge(),r=ls(),o=gi(),s=o.sortedFonts;return n?l.jsx(_r,{items:s,selected:null,renderItem:a=>{const i=Tp(a);return l.jsxs(I,{col:!0,children:[l.jsx(j,{className:"gs-utl-text-lg",style:{fontFamily:i},children:a.familyLabel}),l.jsx(j,{children:a.familyLabel})]})},remove:a=>o.removeFont(a.family),add:o.sdkAddFonts&&r.hasType("font")?()=>cf(n):void 0,titleAdd:t.t("fontManager.addFontToProject"),label:t.t("fontManager.projectFonts"),getItemId:a=>a.family,emptyState:t.t("fontManager.emptyProjectFonts")}):null}),sw=f.forwardRef(function({size:t="m",className:n,classNameContent:r,border:o=!0,children:s,...a},i){const c=J(B.bg,B.br,o&&`${oe.b} ${oe.rnd}`,t==="m"&&Me.xy,t==="s"&&"gjs-px-3 gjs-py-1",n);return l.jsx(I,{className:c,items:"center",space:"x2s",...a,ref:i,children:l.jsx(j,{grow:!0,className:r,children:s})})}),aw=f.forwardRef(({autoResize:e,style:t={},...n},r)=>{const o=f.useRef(null),s=r||o;return f.useEffect(()=>{!s.current||!e||(s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px")},[n.value,e,s]),l.jsx("textarea",{ref:s,style:{...t,...e?{resize:"none"}:{}},...n})});aw.displayName="TextAreaWithAutoResize";const d9="gs-field-textarea";function iw(e){const{className:t,value:n,label:r,size:o,description:s,placeholder:a,readOnly:i,disabled:c,required:u,onChange:d,onKeyDown:p,afterInput:g,minHeight:h,maxHeight:m,autoResize:b,classNameField:v,classNameFieldContent:w,classNameInput:y}=e,C=li(e);return l.jsxs("div",{className:G(d9,t),children:[!!r&&l.jsx(Co,{size:o,children:r}),!!s&&l.jsx(Co,{size:o,as:"span",className:G(B.txtLowEmphasis),capitalize:!1,children:s}),l.jsxs(sw,{size:o,className:v,classNameContent:w,children:[l.jsx(aw,{className:G(C,y),autoResize:b,value:n,placeholder:a,readOnly:i,disabled:c,required:u,onChange:S=>d==null?void 0:d(S.target.value),onKeyDown:p,style:{minHeight:h,maxHeight:m}}),g]})]})}const gu="gs-page-settings",p9=`${gu}-header`,f9=`${gu}-content`,g9=`${gu}-footer`,lw="",cw=se(function({className:t,classNameHeader:n,classNameContent:r,classNameFooter:o,page:s,size:a=Xl.m}){const i=ge(),{isDarkTheme:c}=dn(),u=gi(),d=Ce(),[p,g]=f.useState(s),[h,m]=f.useState(()=>gb(p,i)),[b,v]=f.useState(()=>d.t("update")),w=d.tScoped("pageManager.settings"),y=d.tScoped("pageManager.settings.fields"),{editor:C}=i,S={containerClassName:"gs-utl-min-h-80",size:a,padding:5,isDarkTheme:c,clean:!0};if(!C)return null;const x=k=>m(H=>({...H,...k})),E=k=>{k.preventDefault();const{name:H,...L}=h;L.customCodeHead=_C(L.customCodeHead),L.customCodeBody=OC(L.customCodeBody),p?(SA(p,L),p.setName(H)):i.setProjectDataCustom({globalPageSettings:L}),v(d.t("updated")),setTimeout(()=>v(d.t("update")),2e3),cb(C),C.trigger(on.pageSettingsUpdate,{page:p,data:{name:H,...L}})},T={tooltip:d.t("clear")},_=(p==null?void 0:p.getId())??lw,O=k=>{const H=C.Pages.get(k);g(H),m(gb(H,i))},P=Lp(p),M=!!p&&sc(p),A=[{id:lw,label:w("global")},...C.Pages.getAll().map(k=>({icon:lb(k),id:k.getId(),label:k.getName()}))];return l.jsx("form",{onSubmit:E,className:N(gu,"gs-utl-h-full",t),children:l.jsxs(I,{col:!0,full:!0,className:"gs-utl-gap-1 gs-utl-overflow-hidden",nowrap:!0,children:[l.jsx(j,{className:N(p9,n,B.br,oe.bb),children:l.jsx(Ee,{value:_,onChange:O,options:A,handlerSelected:k=>l.jsxs(I,{items:"center",gap:"xs",nowrap:!0,children:[l.jsxs("b",{children:[d.t("pageManager.page"),":"]}),k.icon&&et(k.icon)&&l.jsx(re,{icon:k.icon,size:ie.s2x}),l.jsx("span",{children:k.label})]})})}),l.jsxs(I,{col:!0,className:N(f9,"gs-utl-gap-5 gs-utl-overflow-y-auto",r),nowrap:!0,children:[!!_&&l.jsxs(l.Fragment,{children:[l.jsx(Re,{size:a,value:h.name,onChange:k=>x({name:k}),label:y("name.label"),description:y("name.description"),required:!0}),!P&&l.jsx(Re,{size:a,value:h.slug,onChange:k=>x({slug:M?BC(k,["id"]):xl(k)}),label:y("slug.label"),description:y("slug.description"),required:!0})]}),l.jsx(Re,{size:a,value:h.title,onChange:k=>x({title:k}),label:y("title.label"),description:y("title.description")}),l.jsx(iw,{size:a,value:h.description,onChange:k=>x({description:k}),label:y("description.label"),description:y("description.description")}),l.jsx(Oi,{size:a,clear:T,value:h.favicon,onChange:k=>x({favicon:k}),onOpen:()=>{C.Assets.open({select(k){x({favicon:k.getSrc()}),C.Assets.close()}})},label:y("favicon.label"),description:y("favicon.description")}),l.jsx(Re,{size:a,value:h.keywords,onChange:k=>x({keywords:k}),label:y("keywords.label"),description:y("keywords.description")}),l.jsx(Re,{size:a,value:h.socialTitle,onChange:k=>x({socialTitle:k}),label:y("socialTitle.label"),description:y("socialTitle.description")}),l.jsx(Oi,{size:a,clear:T,value:h.socialImage,onChange:k=>x({socialImage:k}),onOpen:()=>{C.Assets.open({select(k){x({socialImage:k.getSrc()}),C.Assets.close()}})},label:y("socialImage.label"),description:y("socialImage.description")}),l.jsx(iw,{size:a,value:h.socialDescription,onChange:k=>x({socialDescription:k}),label:y("socialDescription.label"),description:y("socialDescription.description")}),l.jsx(Jr,{language:"html",defaultValue:h.customCodeHead,onChange:k=>x({customCodeHead:k}),label:y("customCodeHead.label"),description:y("customCodeHead.description"),...S},`head-${_}`),l.jsx(Jr,{language:"html",defaultValue:h.customCodeBody,onChange:k=>x({customCodeBody:k}),label:y("customCodeBody.label"),description:y("customCodeBody.description"),...S},`body-${_}`),u.sdkShowProjectFonts&&!_&&l.jsx(u9,{})]}),l.jsx(I,{className:N(g9,"gs-utl-mt-auto",o,B.br,oe.bt),children:l.jsx(Be,{type:"submit",variant:"pr",size:"m2",full:!0,children:b})})]})})}),h9="gs-panel-page-settings",m9=f.memo(se(function({className:t,page:n,...r}){return l.jsx(ar,{className:N(h9,"gs-utl-overflow-hidden",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...r,children:l.jsx(fs,{children:l.jsx(cw,{className:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:n,size:Xl.s,classNameHeader:Me.s,classNameContent:Me.s,classNameFooter:Me.s})})})})),hu="gs-page-item",uw=se(function({page:t,rename:n,setRename:r,commandItems:o}){const s=ge(),a=Ce(),i=s.editor,{Pages:c}=i,u=s.sdkPagesConfig,d=u==null?void 0:u.settings,p=u==null?void 0:u.showHomeIcon,g=u==null?void 0:u.layoutBefore,h=E=>a.t(`pageManager.${E}`),m=E=>c.select(E),b=E=>c.getSelected()===E,v=E=>E===n,w=b(t),y=E=>E.getName()||E.getId(),C=E=>{n==null||n.set({name:E}),r(void 0)},S=J("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"),x=()=>i.runCommand(ce.setPageSettings,{page:t,isOpen:!0});return l.jsxs(I,{gap:"s",items:"center",onClick:()=>m(t),className:J([hu,"group cursor-default",Me.xy,w?B.bgH:B.hBgH2]),children:[p&&Lp(t)&&l.jsx(j,{className:`${hu}__icon-home`,title:h("homePage"),children:l.jsx(re,{icon:K.home,size:ie.s3x})}),g&&At(g({page:t,editor:i,isSelected:w})),l.jsx(j,{className:J(`${hu}__name truncate`),grow:!0,children:v(t)?l.jsx(gg,{value:y(t),onChange:C}):l.jsx(l.Fragment,{children:y(t)})}),l.jsxs(I,{className:`${hu}__actions`,gap:"xs",onClick:Jo,items:"center",children:[!n&&d!==!1&&l.jsx(bt,{className:S,size:"xs",border:!1,title:h("settings.label"),onClick:x,block:!0,children:l.jsx(re,{icon:K.cog,size:ie.s3x})}),w&&!!o.length&&l.jsx(Cr,{placement:"right-start",handler:l.jsx(re,{icon:K.dotsVertical,size:ie.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:E})=>o.map(T=>l.jsx(ii,{icon:T.icon,label:Xe(T.label)?T.label({editor:i}):T.label,action:()=>{var _;E(),(_=T.cmd)==null||_.call(T,{page:t,editor:i})}},T.id))})]})]},t.getId())});function b9({dragging:e,dragRect:t}){const n=!!(e&&t),r=n?{top:t.y,left:0,marginLeft:0}:{};return{showIndicator:n,indicatorStyle:r}}var dw=(e=>(e.horizontal="horizontal",e.vertical="vertical",e))(dw||{});const bg="gs-cmp-sortable",pw=3;function v9({items:e,direction:t,onDrop:n,renderItem:r}){const[o,s]=f.useState(null),[a,i]=f.useState(-1),[c,u]=f.useState(),[d,p]=f.useState(!1),g=f.useRef(null),{showIndicator:h,indicatorStyle:m}=b9({dragging:!!o&&d,dragRect:c}),b=f.useMemo(()=>[],[e]);f.useEffect(()=>{const T=window.document,_=O=>O.key==="Escape"&&y(O);return T.addEventListener("keydown",_),()=>T.removeEventListener("keydown",_)},[]);const v=T=>_=>{_.button===0&&(g.current={x:_.clientX,y:_.clientY},s(T),p(!1),_.target.setPointerCapture(_.pointerId))},w=T=>{const _=g.current;if(!o||!_)return;if(!d){const k=Math.abs(T.clientX-_.x),H=Math.abs(T.clientY-_.y);(t==="vertical"?H>pw:k>pw)&&p(!0);return}const O=T.clientY;let P=-1;b.forEach((k,H)=>{const L=k.getBoundingClientRect();O>L.top+L.height/2&&(P=H)});const M=e.findIndex(k=>k.id===o.id);P<M&&(P+=1),P=Math.min(P,e.length-1),i(P);const A=b[P];if(A){const{height:k,top:H}=A.getBoundingClientRect(),L=O<H+k/2;u({y:A.offsetTop+(L?0:k),h:k})}},y=T=>{s(null),p(!1),g.current=null,u(void 0);const _=T.target,{pointerId:O}=T;O&&(_==null||_.releasePointerCapture(O))},C=T=>{!o||!g.current||(c&&a!==-1&&(n==null||n(o,a)),y(T))},S=N(bg,"gs-utl-relative"),x=N(`${bg}__indicator`,B.cmp,"gs-utl-absolute gs-utl-w-full gs-utl-h-0.5"),E=T=>N(`${bg}__item`,h&&(o==null?void 0:o.id)===T.id&&"gs-utl-opacity-50 gs-utl-select-none");return l.jsxs(l.Fragment,{children:[l.jsx(I,{col:t==="vertical",className:S,children:e.map((T,_)=>l.jsx(j,{ref:O=>{O&&(b[_]=O)},className:E(T),onPointerDown:v(T),onPointerMove:w,onPointerUp:C,children:r(T)},T.id))}),h&&l.jsx("div",{className:x,style:m})]})}const y9=({pages:e,commandItems:t,rename:n,setRename:r,editor:o})=>{if(!o.Pages.move)return e.map(c=>l.jsx(uw,{page:c,commandItems:t,rename:n,setRename:r},c.getId()));const s=(c,u)=>{o.Pages.move(c.entity,{at:u})},a=c=>l.jsx(uw,{page:c.entity,commandItems:t,rename:n,setRename:r},c.id),i=e.map(c=>({id:c.getId(),entity:c}));return l.jsx(v9,{items:i,direction:dw.vertical,onDrop:s,renderItem:a})},w9=({items:e,editor:t,sdkPageConfig:n})=>{const r=n==null?void 0:n.commandItems;return r===!1?[]:Xe(r)?r({items:e,editor:t}):r||e},vg="gs-panel-page-manager",fw=se(function({pages:t,select:n,add:r,remove:o,header:s,resizable:a={bottom:!0},height:i=200}){const c=ge(),u=Pr(),d=Ce(),{sdkPagesConfig:p}=c,g=c.editor,[h,m]=f.useState(),b=A=>d.t(`pageManager.${A}`),v=p==null?void 0:p.add,w=p==null?void 0:p.duplicate,y=p==null?void 0:p.remove,C=A=>{Jo(A);const k=L=>{const F=t.length+1;return r({name:`${b("page")} ${F}`,component:`<div>${b("newPage")} ${F}</div>`,...L},{select:!0})};if(v)return v({event:A,editor:g,rename:m,addPage:k});const H=k();H&&m(H)},S=({page:A})=>{if(y)return y({editor:g,page:A});u.confirm({title:b("deletePage"),content:b("confirmDelete"),confirmButton:{variant:"danger",children:b("deletePage")},onConfirm:()=>{const k=t.indexOf(A),H=t[k+1]||t[0];n(H),o(A)}})},x=({page:A})=>{if(w)return w({editor:g,page:A,rename:m});const k=A.getMainComponent(),H=r({name:`${A.getName()} (${b("copy")})`,component:k.clone()},{select:!0});H&&m(H)},E=[{id:"rename",label:b("rename"),icon:K.pencil,cmd:({page:A})=>m(A)},w!==!1&&{id:"duplicate",label:b("duplicate"),icon:K.contentCopy,cmd:x},t.length>1&&y!==!1&&{id:"remove",label:b("delete"),icon:K.delete,cmd:S}].filter(Boolean),T=w9({items:E,editor:g,sdkPageConfig:p}),_=qy(s,{collapsible:!0,label:b("pages"),icon:K.textBoxMultiple}),O=a?a===!0?{top:!0,right:!0,bottom:!0,left:!0}:a:void 0,P=l.jsx(y9,{pages:t,commandItems:T,rename:h,setRename:m,editor:g}),M=O?l.jsx(Zi,{className:G([`${vg}__content`,"text-sm overflow-auto",oe.bt,B.br]),height:i,...O,children:P}):P;return l.jsx(hs,{classNameWrap:vg,className:G(`${vg}__header`,Me.xy,s===!1&&"gs-utl-hidden"),disabled:_&&_.collapsible===!1,handler:l.jsxs(I,{space:"s",items:"center",children:[!!_.icon&&l.jsx(j,{children:l.jsx(re,{icon:_.icon,size:ie.s})}),l.jsx(j,{grow:!0,children:_.label}),v!==!1&&l.jsx($t,{title:b("add"),children:l.jsx(I,{onClick:C,className:G("cursor-pointer"),children:l.jsx(re,{icon:K.plus,size:ie.s})})})]}),open:_?_.collapsed!==!0:!0,children:M})}),yg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-page-manager-after"),n),ref:o,...r,children:t})}),wg=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:N(J("gs-page-manager-before"),n),ref:o,...r,children:t})}),S9="gs-panel-pages",gw=f.memo(se(function({className:t,header:n,height:r,resizable:o,...s}){const a=ge().sdkProps.children;return l.jsx(On,{className:N(S9,t),...s,children:l.jsx(ef,{children:i=>l.jsxs(l.Fragment,{children:[cn(a,wg),l.jsx(fw,{header:n,height:r,resizable:o,...i}),cn(a,yg)]})})})})),C9="gs-panel-pages-layers",x9=f.memo(se(function({className:t,panelPagesProps:n,panelLayersProps:r,...o}){const{showPages:s}=ge(),a=Ce(),{className:i,...c}=n||{},u=qy(r==null?void 0:r.header,{icon:K.layers,collapsible:!1,label:a.t("layerManager.layers"),className:N(oe.bb,B.br)});return l.jsxs(ar,{className:N(C9,"gs-utl-flex gs-utl-flex-col gs-utl-h-full",t),...o,children:[s&&l.jsx(gw,{className:N(i,oe.bb,B.br),...c}),l.jsx(ow,{...r,header:u})]})})),E9="gs-trait-custom",P9=se(function(t){const{trait:n,editor:r,value:o,disabled:s,labelAs:a,className:i}=t,[,c]=f.useState(0),u=f.useRef(null),d=n.get("component"),p=n.get("render"),g=n.target,h=u.current;if(f.useEffect(()=>{if(g){let v=()=>{},w=()=>{};const y=()=>{w(),c(C=>++C)};if(g.on("change",y),!d&&p&&h){const C=E=>h.appendChild(E),S=E=>h.removeChild(E),x=p({editor:r,component:g,trait:n,addEl:C,removeEl:S,onUpdate:E=>{w=E}});x instanceof HTMLElement?(C(x),v=()=>S(x)):Xe(x)&&(v=()=>x())}return()=>{g.off("change",y),v()}}},[g,h,o]),!g)return null;const m=xo({...t,className:N(E9,i)}),b={trait:n,component:g,editor:r,value:o,disabled:s};return l.jsxs("div",{...m,children:[l.jsx(or,{...t,as:a}),l.jsx("div",{className:N(s&&"gs-utl-pointer-events-none opacity-50"),children:d?l.jsx(d,{...b}):p?l.jsx("div",{ref:u}):null})]})});function hw({className:e,options:t,value:n,name:r,label:o,border:s,hideCaret:a,size:i="s",autoFocus:c,open:u,allowNew:d,onChange:p,onBlur:g,placeholder:h}){const[m,b]=f.useState(null),[v,w]=f.useState(null),{styles:y,attributes:C}=na(m,v,Sp),[S,x]=f.useState(""),E=li(),T=S===""?t:t.filter(H=>H.label.toLowerCase().includes(S.toLowerCase())),_=H=>x(H.target.value),O=H=>H==null?void 0:H.label,P=d&&S.length>0&&!T.some(H=>H.label===S),M=Xe(d)?d(S):d,A={minWidth:`${m==null?void 0:m.offsetWidth}px`,maxHeight:200},k=()=>g==null?void 0:g();return l.jsxs("div",{className:G("w-full",e),children:[!!o&&l.jsx(Co,{size:i,children:o}),l.jsxs(Zs,{value:n,onChange:p,name:r,nullable:!0,children:[l.jsx(sw,{size:i,ref:b,border:s,children:l.jsxs(I,{nowrap:!0,children:[l.jsx(Zs.Input,{autoFocus:c,className:E,displayValue:O,onChange:_,onBlur:k,placeholder:h}),!a&&l.jsx(Zs.Button,{children:l.jsx(re,{icon:K.chevronDown,size:ie.sx})})]})}),l.jsx(Zs.Options,{static:u,className:Wm,ref:w,style:y.popper,...C.popper,children:l.jsxs(ln,{className:G("h-full"),padding:!1,style:A,children:[P&&l.jsx(Zs.Option,{value:{id:null,label:S},children:({active:H})=>l.jsx(Gm,{option:{id:null,label:M},active:H,selected:n})}),!P&&T.length===0&&l.jsx("div",{className:G(Me.xy),children:"No items found"}),T.map(H=>l.jsx(Zs.Option,{value:H,children:({active:L})=>l.jsx(Gm,{option:H,active:L,selected:n})},H.id))]})})]})]})}const T9=(e,t)=>{const n=`${rc}${t}`,r=e.get(n,{skipResolve:!0});return r?mw(r):e.get(n)||""};function mw(e){return`${e.collectionId}.${e.variableType}.${e.path}`}const O9=({page:e,component:t})=>{const{DataSources:n,I18n:r}=e.em,o=["prevItem","currentItem","nextItem"],s=oc(e)||"",a=Object.values((t==null?void 0:t.collectionsStateMap)||{}).map(u=>{const d=u;return o.map(p=>{if(d!=null&&d[p]){const{collectionId:g}=d,h=r.t(`dataSources.collections.${g}`)||g,m=r.t(`dataSources.variableTypes.${p}`)||p,b={collectionId:g,path:"id",type:n.dataComponentTypes.variable,variableType:p};return{id:mw(b),label:`${h} > ${m}`,dataVariable:b}}}).filter(Boolean)}).flat().filter(Boolean),i=n.get(s),c=i==null?void 0:i.getRecords().map(u=>({id:u.id,label:u.get("title")||u.get("name")||u.id}));return[...a,...c]},bw="#",mu="mailto:",Sg="subject=",Cg="tel:",vw="hrefType",yw="showIdList",ww=(e,t)=>{const n=t==null?void 0:t.get(vw);return n||(e.startsWith(Cg)?"phone":e.startsWith(mu)?"email":e.startsWith(fi)?"pages":e.startsWith(bw)?"elements":"url")},Sw=e=>`${e.getName()} - #${e.getId()}`,_9="gs-trait-href",A9=se(function(t){const{trait:n,value:r,disabled:o,labelAs:s,className:a}=t,i=n.component,c=ge(),{isSelectingTarget:u,editor:d}=c,[,p]=f.useState(0),[g,h]=f.useState(""),[m,b]=f.useState(""),[v,w]=f.useState(""),[y,C]=f.useState([]),S=Ce(),x=d==null?void 0:d.Pages.getAll(),E=S.tScoped("traitManager.traits.labels"),T=()=>p(ne=>++ne),_=i.get(yw)??!1,O=ww(r,i),P=O==="pages"?r==null?void 0:r.replace(fi,""):"",M=!!P&&(d==null?void 0:d.Pages.get(P)),A=M?sc(M):!1,k=f.useMemo(()=>!A||!M||!d?[]:O9({page:M,component:i}),[d,M,A,i]),H=ne=>{n.setValue(ne)},L=ne=>{i.set({[yw]:ne}),T()},F=ne=>{h(""),b(""),w(""),H(""),i.set({[vw]:ne}),T()},W=ne=>{H(ne),T()},z=(ne,ee)=>{EA(i,"id",(ee==null?void 0:ee.dataVariable)||ne),T()},$=ne=>{ne&&(H(ne.id),T())},D=ne=>{H(`${Cg}${ne}`),w(ne)},V=ne=>{H(`${mu}${ne}${m?`?${Sg}${m}`:""}`),h(ne)},U=ne=>{H(`${mu}${g}${ne?`?${Sg}${ne}`:""}`),b(ne)},Q=()=>{c.setSelectingTarget(!u)},Z=ne=>{const ee=ne.replace(bw,""),q=d==null?void 0:d.Components.componentsById[ee];return{id:ne,label:q?Sw(q):ne}};f.useEffect(()=>{var ee;const ne=[];if(_){const q=["path","br","b","u","i","strike"],X=(ee=d==null?void 0:d.Pages.getSelected())==null?void 0:ee.getMainComponent();X==null||X.forEachChild(ae=>{!ae.is("comment")&&!ae.is("textnode")&&!q.includes(ae.get("tagName"))&&ne.push({id:`#${ae.getId()}`,label:Sw(ae)})})}C(ne)},[d,_]),f.useEffect(()=>{let ne=()=>{};const ee=()=>{ne(),!(d!=null&&d.em.destroyed)&&(d==null||d.stopCommand(mc))};return u&&(ne=xC(ee),d==null||d.runCommand(mc,{onSelect:q=>H(`#${q.getId()}`)})),ee},[d,u]),f.useEffect(()=>{if(!r)return;switch(ww(r,i)){case"phone":w(r.replace(Cg,""));break;case"email":{const[ee,q=""]=r.replace(mu,"").split("?");h(ee),b(q.replace(Sg,""));break}}},[r]);const R=xo({className:N(_9,a)});return l.jsxs("div",{...R,children:[l.jsx(or,{...t,as:s}),l.jsx("div",{className:N(o&&"gs-utl-pointer-events-none opacity-50"),children:l.jsx(to,{onChange:F,classNamePanel:"gs-utl-p-1",value:O,tabs:[{id:"url",label:l.jsx(re,{icon:K.link,size:ie.s}),content:l.jsx(Re,{placeholder:"eg. https://google.com",value:r,label:"URL",onChange:H,size:"s",type:"url"})},{id:"pages",label:l.jsx(re,{icon:K.textBoxMultiple,size:ie.s}),content:l.jsxs(I,{gap:"s",col:!0,children:[l.jsx(Ee,{size:"s",options:(x||[]).map(ne=>({id:`${fi}${ne.getId()}`,icon:lb(ne),label:ne.getName()})),value:r,onChange:W,label:"Page"}),A&&l.jsx(Ee,{size:"s",options:k,value:T9(i,"id"),onChange:z,label:S.t("dataSources.collectionItem")})]})},{id:"elements",label:l.jsx(re,{icon:K.viewDayOutline,size:ie.s}),content:l.jsxs(I,{gap:"s",col:!0,children:[l.jsx(Co,{size:"s",children:"Element ID"}),l.jsxs(I,{gap:"xs",nowrap:!0,children:[_?l.jsx(hw,{options:y,onChange:$,value:Z(r),placeholder:S.t("selectList")}):l.jsx(Re,{size:"s",placeholder:"eg. #my-element-in-page",value:r,onChange:H,className:"gs-utl-flex-1"}),l.jsx(bt,{title:S.t("selectTarget"),size:"m2",active:u,onClick:Q,className:"gs-utl-h-[30px]",children:l.jsx(re,{icon:K.target,size:ie.sx})})]}),l.jsx(Ti,{value:_,onChange:L,label:E("showList")})]})},{id:"email",label:l.jsx(re,{icon:K.email,size:ie.s}),content:l.jsxs(I,{gap:"s",col:!0,children:[l.jsx(Re,{placeholder:"eg. mail@gmail.com",value:g,onChange:V,size:"s",label:"Email",type:"email"}),l.jsx(Re,{placeholder:"eg. My subject",value:m,onChange:U,label:"Subject",size:"s"})]})},{id:"phone",label:l.jsx(re,{icon:K.phone,size:ie.s}),content:l.jsx(Re,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:v,onChange:D})}]})})]})});function M9({trait:e,value:t,disabled:n,label:r,labelAs:o}){const[s,a]=f.useState(),i=e.get("properties"),c=e.get("addItem"),u=e.get("labelItem"),d=t||[],p=d.findIndex(g=>g.id===(s==null?void 0:s.id));return l.jsx(_r,{items:d,selected:p>-1?s:null,select:a,disabled:n,label:r,labelAs:o,add:()=>{const g=d.length+1,h=c?c(g):{id:`opt${g}`,label:`New option ${g}`};e.setValue([...d,h])},move:(g,h)=>{const m=e.getValue().filter(b=>b.id!==g.id);m.splice(h,0,g),e.setValue(m)},remove:g=>{const h=e.getValue().filter(m=>m.id!==g.id);e.setValue(h,{removed:g})},renderItem:g=>u?u(g):g.label,children:l.jsx(I,{space:"m",col:!0,children:!!s&&i.map(g=>{const{name:h,getValue:m}=g,b=g.setValue,v=g.label||h,w=d[p];if(!w)return null;const y=w[h],C=m?m(y):y,S=E=>{const T={...w};w[h]=b?b(E,C):E,e.setValue([...d],{item:w,previous:T}),h==="id"&&a(w)};let x=l.jsx(Re,{label:v,value:C,onChange:S});switch(g.type){case"select":x=l.jsx(Ee,{label:v,options:g.options,value:C,onChange:S})}return l.jsx(f.Fragment,{children:x},h)})})})}const L9="gs-trait-custom-type",N9=se(function({trait:t,editor:n}){const r=f.useRef(null),o=t.getType(),s=t.target,{Traits:a}=n,i=a.getType(o),c=!!(s&&i);return f.useEffect(()=>{const u=r.current;if(i&&u&&s){const d=new i({model:t,config:a.getConfig(),attributes:t.get("attributes")}),p=d.render().el;return u.appendChild(p),d.listenTo(s,"change",()=>d.postUpdate()),()=>{u.removeChild(p),d.removeView()}}},[s,i,t]),c&&l.jsx("div",{className:L9,ref:r})});function k9(e,t){const n=e.em.getEditor(),r=e.target;let o=!1;t===!0?o=!0:nr(t)&&Xe(t.enable)&&(o=t.enable({trait:e,component:r,editor:n}));const s=e.getValue({skipResolve:!0}),a=r.collectionsStateMap,i=No(s);return{hasDataResolverValue:i,dataResolverValue:i?e.getValue():void 0,enableDataValue:o,initialDataValue:s,handleDataValueChange:c=>e.setValue(c),handleValueClear:()=>{const c=e.getValue();e.setValue(""),e.setValue(c)},editor:n,additionalSources:a}}const $9=({label:e,buttons:t})=>l.jsxs(I,{items:"center",nowrap:!0,full:!0,children:[l.jsx(j,{grow:!0,children:e}),l.jsx(I,{nowrap:!0,items:"center",justify:"end",gap:"x2s",children:t.map((n,r)=>l.jsx(bt,{...n},r))})]}),Cw=e=>mr((e||"").replace(/-/g," ")),I9=(e,t)=>({size:"s",tip:e.get("tip"),type:e.getType(),value:e.getValue(),label:e.get("label")!==!1&&Cw(e.getLabel({locale:!0})),placeholder:(t==null?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(n,r)=>e.setValue(n,{partial:r})}),ir=(e,t,n)=>{const r=k9(e,n.traitManagerDataConfig),o=e0(r),{hasDataResolverValue:s,dataResolverValue:a}=r,i=I9(e,t);return{...i,value:a??i.value,disabled:s,labelAs:o.length?"span":void 0,label:l.jsx($9,{label:i.label,buttons:o})}},xw=(e,t,n)=>ir(e,t,n),V9=(e,t,n)=>ir(e,t,n),j9=(e,t,n)=>{const r=No(e.getValue({skipResolve:!0})),o=ir(e,t,n),s={min:e.get("min"),max:e.get("max"),step:e.get("step"),pan:!r,units:r?[]:e.get("units"),onChange:(a,i)=>{const c=i||isNaN(parseFloat(a))?a:parseFloat(a);e.setValue(c,{partial:i})}};return{...o,...s}},Ew=(e,t,n)=>{const r=e.get("labelToTitle"),o=No(e.getValue({skipResolve:!0})),s=ir(e,t,n),a={options:e.getOptions().map(i=>{const c=i.labelReact||i.name||i.label||i.value;return et(i)?{id:i,label:i}:{id:i.id||i.value,title:r?c:i.title,icon:i.icon,label:r?"":c}}),onChange:i=>e.setValue(i),emptyState:o&&e.getValue()||void 0,hideCaret:o};return{...s,...a}},H9=(e,t,n)=>{const{options:r,onChange:o}=Ew(e,t,n),s={options:r,onChange:o};return{...ir(e,t,n),...s}},D9=(e,t,n)=>{const r=e.get("typeProps")||{},o=No(e.getValue({skipResolve:!0}));return{...ir(e,t,n),isContain:!0,hideButton:o,btnLabel:e.get("text"),onOpen(){if(o)return;const a=t==null?void 0:t.Assets;a==null||a.open({select(i){e.setValue(i.getSrc()),a.close()}})},...r}},F9=e=>({children:Cw(e.getLabel()||e.get("text")||e.get("labelButton")),onClick:()=>{const t=e.em.Editor,n=e.get("command");et(n)?t.runCommand(n):n==null||n(t,e)},full:!0}),B9=(e,t,n)=>{const r=ir(e,t,n),s={value:!!(r.disabled?r.value:e.getValue({useType:!0})),onChange:a=>e.setValue(a)};return{...r,...s}},z9=(e,t,n)=>{const r=ir(e,t,n),o=e.get("typeProps")||{},s=No(e.getValue({skipResolve:!0}));return{language:"css",...o,...r,formatOnMount:!s,onChange:a=>e.setValue(a)}},U9=(e,t,n)=>({...ir(e,t,n),trait:e}),W9=(e,t,n)=>({...ir(e,t,n),trait:e}),G9=(e,t,n)=>({...ir(e,t,n),trait:e,editor:t});function K9(e,t,n={}){var a;const r=e.get("visible"),o=e.getType(),s={traitManagerDataConfig:n.traitManagerDataConfig};if(Xe(r)&&r({component:e.target,trait:e})===!1)return null;switch(o){case"text":return l.jsx(Re,{...xw(e,t,s)});case"select":return l.jsx(Ee,{...Ew(e,t,s)});case"number":return l.jsx(Ne,{...j9(e,t,s)});case"color":return l.jsx(Rr,{...V9(e,t,s)});case"checkbox":return l.jsx(Ti,{...B9(e,t,s)});case"button":return l.jsx(Be,{...F9(e)});case"radio":return l.jsx(qt,{...H9(e,t,s)});case"code":return l.jsx(Jr,{...z9(e,t,s),...n},((a=t==null?void 0:t.getSelected())==null?void 0:a.getId())||"");case"image":case"file":return l.jsx(Oi,{...D9(e,t,s)});case"stack":return l.jsx(M9,{...U9(e,t,s)});case"href":return l.jsx(A9,{...W9(e,t,s)});case"custom":return l.jsx(P9,{...G9(e,t,s)});default:return!!t.Traits.getType(o)?l.jsx(N9,{editor:t,trait:e}):l.jsx(Re,{...xw(e,t,s)})}}const xg="gs-trait-manager",Pw=({trait:e,isDarkTheme:t,traitManagerDataConfig:n})=>l.jsx(j,{className:G(`${xg}-field gs-utl-mb-2 gs-utl-w-full`),children:K9(e,e.em.getEditor(),{isDarkTheme:t,traitManagerDataConfig:n})});function q9({traits:e,className:t}){var d,p;const n=Tn(),{isDarkTheme:r}=dn(),s=(d=ge().sdkOptions.dataSources)==null?void 0:d.traitManager,a=n.Traits.getTraitsByCategory(e),i=(p=a.find(g=>!g.category))==null?void 0:p.items,c=a.filter(g=>g.category),u=G("gs-utl-text-center");return l.jsx(I,{className:G(xg,t),col:!0,children:n.getSelected()?e.length?l.jsxs(l.Fragment,{children:[i==null?void 0:i.map(g=>l.jsx(Pw,{trait:g,isDarkTheme:r,traitManagerDataConfig:s},g.id)),c.map(({category:g,items:h},m)=>l.jsx(hs,{open:!!(g!=null&&g.get("open")),onChange:({open:b})=>g==null?void 0:g.set({open:b}),handler:g==null?void 0:g.getLabel(),handlerIcon:g==null?void 0:g.get("icon"),classNameContent:"gs-utl-p-2",classNameWrap:`${xg}-category -gs-utl-mx-2`,className:b=>G(bd.itemList({index:m+(i?1:0),open:b,length:c.length})),children:h.map(b=>l.jsx(Pw,{trait:b,isDarkTheme:r,traitManagerDataConfig:s},b.id))},g==null?void 0:g.id))]}):l.jsx(j,{className:u,children:"No properties available"}):l.jsx(j,{className:u,children:n.t("traitManager.empty")})})}const Eg=se(q9),Y9="gs-panel-properties",Z9=f.memo(se(function({className:t,...n}){return l.jsx(ar,{className:N(Y9,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-auto"),...n,children:l.jsx(nf,{children:r=>l.jsx(Eg,{...r})})})})),X9=async({html:e="",css:t="",el:n})=>{const r=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`,o={};if(document.body.attachShadow){const s=n.shadowRoot||n.attachShadow({mode:"open"});s.innerHTML=r}return o},J9=se(function({rule:t,onSelect:n,onRemove:r,className:o}){const s=f.useRef(null),i=ge().editor,c=Ce(),u=t.getDevice(),d=t.getState(),{isDarkTheme:p}=dn(),[g,h]=f.useState(t.toCSS({allowEmpty:!0})),[m,b]=f.useState(g),v=t.selectorsToString(),w=()=>{i.select(),setTimeout(()=>i.Selectors.select(t)),n==null||n()},y=()=>{i.Css.remove(t),r==null||r()},C=()=>{if(m){const S=i.Parser.parseCss(m)[0];S&&(t.setStyle(S.style),h(m))}};return f.useEffect(()=>{if(s.current){const S=s.current;X9({el:S,html:'<div class="prv-rule">Preview</div>',css:`
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${g}
        `})}},[s,g]),l.jsx(ln,{padding:!1,className:J("overflow-hidden max-w-full group",o),children:l.jsxs(I,{col:!0,space:"xs",children:[l.jsx(I,{className:J("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:l.jsx("div",{ref:s,className:J("relative flex items-center justify-center")})}),l.jsxs(I,{className:J("gjs-p-1 w-full"),col:!0,space:"s",children:[l.jsxs(I,{nowrap:!0,items:"center",space:"xs",full:!0,children:[l.jsx(j,{grow:!0,children:l.jsx("pre",{className:J("text-xs bg-white/10",B.txt,oe.rnd,Me.xyS),children:v})}),!!u&&u.getWidthMedia()&&l.jsx(j,{children:l.jsx($t,{title:l.jsxs(l.Fragment,{children:[c.t("deviceManager.device"),": ",l.jsx("b",{children:u.getName()})]}),children:l.jsx(re,{icon:K.cellphoneLink,size:ie.sx})})}),!!d&&l.jsx(j,{children:l.jsx($t,{title:l.jsxs(l.Fragment,{children:[c.t("selectorManager.state"),": ",l.jsx("b",{children:d.getLabel()})]}),children:l.jsx(re,{icon:K.flare,size:ie.sx})})})]}),l.jsxs(I,{nowrap:!0,className:J(Le.txtEllips),space:"s",children:[l.jsx(j,{className:J("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:l.jsx(Be,{onClick:w,className:J("text-sm gjs-mr-auto"),size:"m2",full:!0,children:c.t("select")})}),l.jsx(Cr,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:l.jsx(bt,{title:c.t("selectorManager.showCSS"),children:l.jsx(re,{icon:K.codeBraces,size:ie.sx})}),children:({close:S})=>l.jsxs(I,{className:J("relative w-80 h-48"),col:!0,children:[l.jsx(j,{grow:!0,children:l.jsx(Jr,{defaultValue:rf(g),onChange:b,language:"css",padding:5,isDarkTheme:p,clean:!0})}),l.jsx(Be,{className:J("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{C(),S()},children:c.t("update")})]})}),l.jsx(Lc,{onConfirm:y,className:J("w-48"),children:l.jsx(bt,{title:c.t("selectorManager.deleteStyle"),children:l.jsx(re,{icon:K.delete,size:ie.sx})})})]})]})]},t.cid)})}),Q9=se(function(){const[t]=Kc(),n=Pr(),r=Ce(),[o,s]=f.useState(""),[a,i]=f.useState(""),u=ge().editor,[d,p]=f.useState(u.Css.getRules("")),g=u.Devices.getDevices().map(b=>({id:b.id,label:b.getName()})),h=d.filter(b=>{var v;return!(o&&!Hs(b.selectorsToString(),o)||a&&((v=b.getDevice())==null?void 0:v.id)!==a)}),m=()=>p(u.Css.getRules(""));return l.jsxs(I,{col:!0,space:"m",children:[l.jsxs(I,{items:"center",space:"m",children:[l.jsx(j,{children:l.jsx(Re,{size:"s",type:"search",value:o,onInput:s,placeholder:`${r.t("selectorManager.searchStyle")}...`})}),l.jsx(j,{children:l.jsx(Ee,{includeEmpty:!0,size:"s",value:a,options:g,onChange:i,emptyState:r.t("deviceManager.allDevices"),handlerSelected:b=>l.jsxs(I,{space:"s",items:"center",children:[l.jsx(re,{icon:K.cellphoneLink,size:ie.sx}),l.jsx("span",{children:b.label})]})})})]}),l.jsx(j,{className:J("gs-utl-h-[75vh] w-full overflow-auto"),children:h.length?l.jsx(qi,{data:h,listClassName:J("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(b,v)=>l.jsx(J9,{rule:v,onRemove:m,onSelect:n.close},v.cid)},t):l.jsx(I,{justify:"center",children:r.t("modals.styleCatalog.noStyles")})})]})});function Tw({className:e,value:t,active:n,unstyled:r,activable:o,onChange:s,onActive:a,...i}){const[c,u]=f.useState(n);f.useEffect(()=>{u(n)},[n]);const d=g=>{a==null||a(g),u(g)},p=g=>{s(g),d(!1)};return l.jsx("div",{className:G("truncate",e),...i,onDoubleClick:()=>o&&d(!0),children:c?l.jsx(gg,{className:G(r&&Le.noFocusOut),value:t,onChange:p}):l.jsx(l.Fragment,{children:t})})}const R9=se(function({selector:t,className:n,removable:r,toggleable:o}){const s=Ce(),a=ge(),[i,c]=f.useState(),[u,d]=f.useState(t.getActive()),p=a.editor,{Selectors:g}=p,h=t.getLabel(),m=l.jsx(re,{icon:K.dotsVertical,size:ie.sx}),b=()=>{g.removeSelected(t)},v=E=>{i&&g.rename(i,E),c(void 0)},w=()=>{g.duplicateSelected(t)},y=()=>{const E=!t.getActive();d(E),t.setActive(E)},S=[{id:"rename",label:s.t("rename"),action:()=>c(t)},{id:"duplicate",label:s.t("duplicate"),action:w},r&&{id:"delete",label:s.t("delete"),action:b},o&&{id:"active",label:s.t(u?"disable":"enable"),action:y}].filter(Boolean),x=(E,T)=>_=>{E(),Xe(T)&&T(_)};return l.jsx(Ot,{className:J(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",B.sel,n]),s:"s",children:l.jsxs(I,{items:"center",children:[l.jsx(j,{className:J("gjs-mr-4",!i&&!u&&"opacity-50 line-through"),children:l.jsx(Tw,{value:h,onChange:v,active:!!i,unstyled:!0})}),l.jsx(I,{className:J("absolute h-full right-0 transition-opacity",B.sel,B.selBr,oe.bl),children:l.jsx(Cr,{handler:m,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:E})=>S.map(T=>l.jsx(ii,{className:J(B.txt),label:T.label,action:x(E,T.action)},T.id))})})]})})}),eI=e=>(e==null?void 0:e.get("groups"))||[],tI=/^\.[a-zA-Z_][\w-]*$/;function nI(e,t={}){const n=e.Css.getAll().filter(r=>eI(r).some(o=>o.startsWith(ps.globalStyles)));return t.withSingleClass?n.filter(r=>tI.test(r.getSelectorsString())):n}const rI=e=>{const{Selectors:t}=e,n=t.getAll({array:!0});return t.getSelectedAll().reduce((s,a)=>{const i=s.indexOf(a);return i>=0&&s.splice(i,1),s},n).filter(s=>s.isClass())},oI=(e,t)=>{const{sdkGlobalStylesConfig:n}=t,{i18nStore:r}=t.store,s=(n!=null&&n.showInClassSelectors?nI(e,{withSingleClass:!0}):[]).map(i=>{const c=i.getSelectorsString().replace(".","");return{id:c,label:`${r.t("globalStyleManager.globalStyles")}: ${c}`}});return[...rI(e).map(i=>({id:i,label:i.getLabel()})),...s]},sI=e=>{var r,o;let t=(r=e==null?void 0:e.selectorsToString)==null?void 0:r.call(e);const n=(o=e==null?void 0:e.getAtRule)==null?void 0:o.call(e);return t&&n&&(t=`${n} {
	${t}
}`),t},qn="gs-cmp-selector-manager",Pg={},Ow=se(function(t){var ae,ue,we;const{selectedState:n,states:r,setState:o,styleCatalog:s,stateSelector:a}=t,i=ge(),[c,u]=f.useState(!1),[d,p]=f.useState([]),[g,h]=f.useState(Pg),{toggleCssPanel:m,isCssPanelActive:b,editor:v,store:w}=ge(),{i18nStore:y,modalStore:C}=w,S=v==null?void 0:v.getSelected(),x=v==null?void 0:v.Styles.getSelected();if(f.useEffect(()=>{if(v&&x&&i){const he=setTimeout(()=>{let Ie=Pg;const Ze=S==null?void 0:S.get("selectorManager");S&&Xe(Ze)&&(Ie=Ze({editor:v,component:S})),h(Ie||Pg),p(oI(v,i))});return()=>clearTimeout(he)}},[S,v,x,i]),!v)return null;const{Selectors:E}=v,T=g.disableClasses,_=g.disableComponent,O=T&&_,P=E.getComponentFirst()&&!_,M=E.getSelectedAll(),A=v.getSelectedAll(),k=r.map(he=>({id:he.getName(),label:he.getLabel()})),H=v.getModel(),L=(ae=x==null?void 0:x.getDevice)==null?void 0:ae.call(x),F=(ue=x==null?void 0:x.getState)==null?void 0:ue.call(x),W=N("gs-utl-overflow-hidden",oe.b,oe.rnd,B.br),z=N(B.bA),$=N("gs-utl-flex gs-utl-h-full gs-utl-cursor-pointer gs-utl-p-2",oe.br,B.br),D=`${B.bgA}`,V=sI(x),U=M.length>0,Q=A.length>0,Z=U||Q,R=P&&Q||!P&&!U,ne=R?"Components":"Selectors",ee=he=>y.t(`selectorManager.${he}`),q=y.t("modals.styleCatalog.title"),X=()=>C.open({title:q,content:l.jsx(Q9,{})});return l.jsxs(I,{className:qn,gap:"s",col:!0,full:!0,children:[l.jsxs(I,{className:N(`${qn}__head`),items:"center",justify:"between",gap:"m",children:[l.jsxs(I,{className:N(`${qn}__head-start`),items:"center",gap:"s",children:[l.jsx(j,{className:N(`${qn}__head-title`),children:ee("selection")}),s!==!1&&l.jsx(j,{className:N(`${qn}__style-catalog`),children:l.jsx($t,{className:"gs-utl-cursor-pointer",onClick:X,title:q,children:l.jsx(re,{icon:K.paletteSwatch,size:ie.s})})})]}),!!x&&a!==!1&&!O&&l.jsx(j,{className:`${qn}__head-end`,children:l.jsx(Ee,{size:"s",value:n,options:k,includeEmpty:!0,onChange:o,emptyState:`- ${ee("state")} -`,className:N(n&&B.bA)})})]}),Z&&!O?l.jsxs(l.Fragment,{children:[!T&&l.jsxs(I,{className:N(`${qn}__field-selectors`,W,!R&&z),items:"stretch",gap:"xs",children:[l.jsx($t,{title:ee(U?"applyOnSelector":"noSelectors"),className:N($,!R&&D),onClick:()=>U&&E.setComponentFirst(!1),children:l.jsx(I,{className:"gs-utl-h-full",items:"center",children:l.jsx(re,{icon:K.tag,size:ie.sx})})}),l.jsx(j,{grow:!0,children:l.jsx(I,{className:"gs-utl-h-full gs-utl-pr-1",items:"center",children:c?l.jsx(hw,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:d,allowNew:ee("addNewSelector"),onBlur:()=>setTimeout(()=>u(!1),100),onChange:he=>{he&&(E.addSelected(he.id||he.label),u(!1))}}):l.jsxs(l.Fragment,{children:[Q&&l.jsx(bt,{title:ee("addNewSelector"),variant:"out",size:"xs",className:"gs-utl-p-0.5",onClick:()=>u(!0),block:!0,children:l.jsx(re,{icon:K.plus,size:ie.sx})}),M.map(he=>l.jsx(R9,{selector:he,removable:Q,toggleable:Q&&M.filter(Ie=>Ie.getActive()||Ie===he).length>1},he.toString()))]})})})]}),!_&&l.jsxs(I,{className:N(`${qn}__field-components`,W,R&&z),items:"stretch",gap:"xs",children:[l.jsx($t,{title:ee(Q?"applyOnComponents":"noComponents"),onClick:()=>Q&&E.setComponentFirst(!0),className:N($,R&&D),children:l.jsx(I,{className:"gs-utl-h-full",items:"center",children:l.jsx(re,{icon:K.targetVariant,size:ie.sx})})}),l.jsx(j,{grow:!0,className:"gs-utl-py-0.5",children:l.jsx(I,{className:"gs-utl-h-full gs-utl-pr-1",items:"center",children:A.map(he=>l.jsx(Ot,{s:"s",className:N("gs-utl-ml-1 gs-utl-my-0.5 gs-utl-cursor-default",B.cmp),onPointerEnter:()=>H.setHovered(he),onPointerOut:()=>H.setHovered(),label:he.getName()},he.getId()))})})]}),l.jsxs(I,{className:`${qn}__actions`,gap:"s",items:"center",justify:"between",children:[l.jsx($t,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:ee("selected")}),l.jsx("pre",{className:N("gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",oe.rnd,Me.xyS),children:V}),l.jsx("div",{className:"gs-utl-text-xs gs-utl-mt-1.5",children:ee("currentSelection")})]}),children:l.jsx(Ot,{className:N(oe.b,oe.rnd,B.br),s:"xs",nopad:!0,block:!0,children:l.jsx(re,{icon:K.target,size:ie.sx})})}),l.jsx(j,{className:"gs-utl-text-sm",children:l.jsx(Ot,{className:N(oe.b,oe.rnd,B.br),s:"xs",nopad:!0,children:l.jsxs(I,{space:"xs",items:"center",nowrap:!0,children:[!!L&&L.getWidthMedia()&&l.jsxs(l.Fragment,{children:[l.jsx($t,{title:l.jsxs(l.Fragment,{children:[ee("device"),": ",l.jsx("b",{children:L.getName()})]}),children:l.jsx(re,{icon:K.cellphoneLink,size:ie.sx})}),l.jsx(j,{className:"gs-utl-opacity-30",children:"|"})]}),l.jsx($t,{title:l.jsxs(l.Fragment,{children:[ee("target"),": ",l.jsx("b",{children:ne}),l.jsxs("span",{className:"gs-utl-text-xs gs-utl-opacity-75",children:[" ",(we=x==null?void 0:x.selectorsToString)==null?void 0:we.call(x,{skipState:1})]})]}),children:l.jsx(re,{icon:R?K.targetVariant:K.tag,size:ie.sx})}),!!F&&l.jsxs(l.Fragment,{children:[l.jsx(j,{className:"gs-utl-opacity-30",children:"|"}),l.jsx($t,{title:l.jsxs(l.Fragment,{children:[ee("state"),": ",l.jsx("b",{children:F.getLabel()})]}),children:l.jsx(re,{icon:K.flare,size:ie.sx})})]})]})})}),l.jsx(bt,{title:y.t("toggleCss"),onClick:m,active:b,size:"s",children:l.jsx(re,{icon:K.codeBraces,size:ie.sx})})]})]}):l.jsxs(I,{className:N(`${qn}__empty-state`,"gs-utl-text-sm gs-utl-leading-6 gs-utl-my-4"),col:!0,children:[l.jsx(j,{className:`${qn}__empty-state-title`,children:ee("noSelecton")}),l.jsxs("ul",{className:N(`${qn}__empty-state-list`,"gs-utl-list-disc gs-utl-pl-5 gs-utl-mt-2"),children:[l.jsx("li",{children:ee("selectFromCanvas")}),l.jsx("li",{children:ee("selectFromList")})]})]})]})}),aI="gs-panel-selectors",iI=f.memo(se(function({className:t,styleCatalog:n,stateSelector:r,...o}){return l.jsx(ar,{className:N(aI,t),...o,children:l.jsx(tf,{children:s=>l.jsx(Ow,{...s,styleCatalog:n,stateSelector:r})})})})),_w=f.forwardRef(function({children:t,className:n,content:r,...o},s){return l.jsx("div",{className:N(J("gs-design-manager-tab"),n),ref:s,...o,children:t})}),Aw="gs-cmp-sidebar-right",Mw="gs-cmp-traits-provider",Tg=N("gs-utl-overflow-y-auto gs-utl-overflow-x-hidden gs-utl-max-w-full");function lI(){var y,C,S;const{isCssPanelActive:e,selectedDesignerTab:t,showSelectors:n,setSelectedDesignerTab:r,sdkProps:o,sdkOptions:s,isProjectTypeEmail:a}=ge(),i=Ce(),c=N(e&&"gs-utl-hidden"),d=(((y=cn(o.children,_w))==null?void 0:y.filter(Boolean))||[]).map(({props:x},E)=>({id:x.id,label:x.label,content:l.jsx(fs,{children:x.children}),order:x.order??2+E+1})),p=(C=s.designPanel)==null?void 0:C.propsInStyles,g=(S=s.designPanel)==null?void 0:S.hideTabs,h=p===!0||a&&p!==!1,m=g===!0||a&&g!==!1,b=i.t("traitManager.panelLabel"),w=[{id:"style",label:i.t("styleManager.panelLabel"),order:1,content:l.jsxs(I,{col:!0,full:!0,children:[!!n&&l.jsx(j,{className:N("gs-cmp-selectors-provider",Me.s,oe.bb,B.br),children:l.jsx(tf,{children:x=>l.jsx(Ow,{...x})})}),h&&l.jsx(j,{className:N(Mw,Tg),children:l.jsx(hs,{handler:b,className:j0(!1),sticky:!0,open:!0,children:l.jsx(nf,{children:x=>l.jsx(Eg,{...x,className:N("gs-utl-p-2",B.br,oe.bb)})})})}),l.jsx(j,{className:N("gs-cmp-styles-provider",Tg),grow:!0,children:l.jsx(Ev,{children:x=>l.jsxs(l.Fragment,{children:[e&&l.jsx(Pv,{}),l.jsx(F0,{className:c,...x})]})})})]})},!h&&{id:"props",label:b,order:2,content:l.jsx(I,{className:Mw,col:!0,full:!0,children:l.jsx(j,{className:N(Me.s,Tg),children:l.jsx(nf,{children:x=>l.jsx(Eg,{...x})})})})},...d].filter(Boolean).sort((x,E)=>x.order-E.order);return l.jsx(I,{className:Aw,col:!0,full:!0,nowrap:!0,children:l.jsx(to,{value:t,onChange:r,tabs:w,className:N(`${Aw}__tabs`,m&&"gs-utl-hidden")})})}const Lw=se(lI),cI="gs-panel-sidebar-tabs",uI=f.memo(se(function({className:t,...n}){return l.jsx(ar,{className:N(cI,"gs-utl-h-full",t),...n,children:l.jsx(Lw,{})})})),dI="gs-panel-styles",pI=f.memo(se(function({className:t,...n}){const{isCssPanelActive:r}=ge(),o=N(r&&" gs-utl-hidden");return l.jsx(ar,{className:N(dI,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-auto"),...n,children:l.jsx(Ev,{children:s=>l.jsxs(l.Fragment,{children:[r&&l.jsx(Pv,{}),l.jsx(F0,{className:o,...s})]})})})})),fI="gs-panel-templates",gI=f.memo(se(function({className:t,templates:n,content:r,onSelect:o,...s}){const a=Eb(),{projectTypeFilter:i}=a;let c=n??a.templates;return c=c==null?void 0:c.map(u=>({...u,isTemplate:!0})),f.useEffect(()=>{n||a.loadTemplates()},[n]),l.jsx(ar,{className:N(fI,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:N("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...s,children:l.jsx(I,{className:J("relative gs-utl-h-full"),nowrap:!0,col:!0,space:"m",children:l.jsx(I,{className:J("gs-utl-h-[75vh] gs-utl-flex-grow"),nowrap:!0,col:!0,space:"m",children:l.jsx(Vy,{templates:c,projectType:Pe[i],content:r,onSelect:o,skipProjectNamePopover:!0})})})})})),hI="gs-cmp-row",mI=f.memo(function({className:t,children:n,full:r,...o}){return l.jsx(On,{className:N(hI,B.bg,"gs-utl-flex",r&&"gs-utl-w-full",t),...o,children:At(n)})}),bI="gs-cmp-select-field",vI=f.memo(se(function({className:t,style:n,label:r,name:o,value:s,options:a,size:i,onChange:c,required:u,disabled:d,emptyState:p,editorEvents:g}){const{editor:h}=ge(),[m,b]=f.useState(()=>({required:u,disabled:d,style:n,className:t,label:r,name:o,value:s,options:a,size:i,emptyState:p})),v=w=>{c({value:w,editor:h,state:m,setState:y=>b(C=>({...C,...y}))})};return wa({editor:h,editorEvents:g,localState:m,setLocalState:b}),l.jsx(Ee,{classNameContainer:N(bI,m.className),style:m.style,label:m.label,name:m.name,value:m.value??"",options:m.options??[],size:m.size,required:m.required,disabled:m.disabled,emptyState:m.emptyState,onChange:v})})),yI="gs-cmp-select-field",wI=f.memo(se(function({className:t,style:n,label:r,name:o,value:s,size:a,onChange:i,required:c,disabled:u,emptyState:d,editorEvents:p}){const{editor:g}=ge(),[h,m]=f.useState(()=>({required:c,disabled:u,style:n,className:t,label:r,name:o,value:s,size:a,emptyState:d})),b=v=>{i({value:v,editor:g,state:h,setState:w=>m(y=>({...y,...w}))})};return wa({editor:g,editorEvents:p,localState:h,setLocalState:m}),l.jsx(xc,{classNameContainer:N(yI,h.className),style:h.style,label:h.label,name:h.name,value:h.value??"",size:h.size,required:h.required,disabled:h.disabled,emptyState:h.emptyState,onChange:b})})),SI="gs-sidebar-bottom",CI=f.memo(se(function({children:t,className:n,style:r,height:o,...s}){const{isInPreview:a,isBottomSidebarOpen:i}=ge(),c=o??35,u=f.useMemo(()=>({height:c,marginBottom:a||!i?`-${c}px`:0,...r}),[a,i,r]);return l.jsx(On,{className:N(SI,"gs-utl-flex gs-utl-transition-spacing",oe.bt,B.br,n),style:u,...s,children:t?At(t):void 0})})),xI=se(function(t){var C;const{leftSidebarSize:n,setLeftSidebarSize:r,editor:o,isInPreview:s,isLeftSidebarOpen:a,sdkProps:i,showPages:c}=ge(),u=i.children,d=((C=t.style)==null?void 0:C.width)??t.width,p=d??n,g=t.resizable===!1,h=N(t.className,"gs-utl-h-full gs-utl-transition-spacing",oe.br,B.br),m=N("gs-utl-w-full",oe.bb,B.br),b=N("gs-utl-w-full gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),v=f.useMemo(()=>({marginLeft:s||!a?`-${p}px`:0,...t.style}),[p,s,a,t.style]),w=()=>o==null?void 0:o.refresh(),y=(S,x,E)=>{r(E.getBoundingClientRect().width)};return l.jsx(Zi,{className:h,enable:g?!1:void 0,right:!g,style:v,height:"100%",width:p,minWidth:d??200,maxWidth:d??400,onResize:w,onResizeStop:y,children:t.children??l.jsxs(I,{full:!0,col:!0,children:[c&&l.jsx(j,{className:m,children:l.jsx(ef,{children:S=>l.jsxs(l.Fragment,{children:[cn(u,wg),l.jsx(fw,{...S}),cn(u,yg)]})})}),l.jsx(j,{className:b,grow:!0,children:l.jsx(Rp,{children:S=>l.jsxs(l.Fragment,{children:[cn(u,mg),l.jsx(rw,{...S}),cn(u,hg)]})})})]})})}),EI="gs-sidebar-left",PI=f.memo(se(function({children:t,width:n,resizable:r,...o}){return l.jsx(xI,{className:N(EI,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Zc(o)),width:n,resizable:r,style:Xc(o),children:t?At(t):void 0})})),TI=se(function(t){var m;const{rightSidebarSize:n,setRightSidebarSize:r,editor:o,isInPreview:s,isRightSidebarOpen:a}=ge(),i=((m=t.style)==null?void 0:m.width)??t.width,c=i??n,u=t.resizable===!1,d=N(t.className,"gs-utl-h-full gs-utl-transition-spacing",oe.bl,B.br),p=f.useMemo(()=>({marginRight:s||!a?`-${c}px`:0,...t.style}),[c,s,a,t.style]),g=()=>o==null?void 0:o.refresh(),h=(b,v,w)=>{r(w.getBoundingClientRect().width)};return l.jsx(Zi,{className:d,enable:u?!1:void 0,left:!u,style:p,height:"100%",width:c,minWidth:i??200,maxWidth:i??400,onResize:g,onResizeStop:h,children:t.children??l.jsx(Lw,{})})}),OI="gs-sidebar-right",_I=f.memo(se(function({children:t,resizable:n,...r}){return l.jsx(TI,{className:N(OI,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Zc(r)),resizable:n,style:Xc(r),children:t?At(t):void 0})})),AI=se(function({className:t,variant:n,value:r,tabs:o,style:s,editorEvents:a,onChange:i}){const{editor:c}=ge(),[u,d]=f.useState(()=>({tabs:o,style:s,value:r,variant:n,className:t})),p=f.useMemo(()=>{var h;return((h=u.tabs)==null?void 0:h.map(m=>({...m,content:At(m.children)})))||[]},[u.tabs]),g=h=>{i&&c?i({value:h,editor:c,state:u,setState:m=>d(b=>({...b,...m}))}):d(m=>({...m,value:h}))};return wa({editor:c,editorEvents:a,localState:u,setLocalState:d}),l.jsx(to,{tabs:p,className:N(u.className),variant:u.variant,value:u.value,style:u.style,onChange:g})}),MI="gs-cmp-text",LI=f.memo(function({className:t,content:n,children:r,...o}){return l.jsx(On,{className:N(MI,t),...o,children:r||n})}),NI="gs-cmp-virtual-list",kI=se(function({id:t,items:n,itemLayout:r,itemsPerRow:o=12,className:s,style:a,htmlAttrs:i}){const[c,u]=f.useState(0),{editor:d,transitionTime:p}=ge(),g=cg(o);return f.useEffect(()=>{const h=setTimeout(()=>u(m=>++m),p);return()=>clearTimeout(h)},[p]),!!c&&l.jsx(qi,{...i,data:n,className:N(NI,"gs-utl-h-full",s),listClassName:`gs-utl-grid gs-utl-gap-2 gs-utl-pr-2 ${g}`,style:a,itemContent:(h,m)=>l.jsx(f.Fragment,{children:r?At(r({item:m,editor:d})):l.jsx("pre",{children:JSON.stringify(m,void 0,2)})},m.id??h)},t)});var Og=(e=>(e.text="text",e.row="row",e.column="column",e.button="button",e.buttonGroupField="buttonGroupField",e.menuList="menuList",e.inputField="inputField",e.codeField="codeField",e.selectField="selectField",e.selectFontField="selectFontField",e.tabs="tabs",e.devices="devices",e.custom="custom",e.panelLayers="panelLayers",e.panelPages="panelPages",e.panelSelectors="panelSelectors",e.panelStyles="panelStyles",e.panelProperties="panelProperties",e.panelSidebarTabs="panelSidebarTabs",e.panelPagesLayers="panelPagesLayers",e.panelBlocks="panelBlocks",e.panelPageSettings="panelPageSettings",e.panelGlobalStyles="panelGlobalStyles",e.panelAssets="panelAssets",e.panelTemplates="panelTemplates",e.sidebarLeft="sidebarLeft",e.sidebarRight="sidebarRight",e.sidebarTop="sidebarTop",e.sidebarBottom="sidebarBottom",e.canvas="canvas",e.canvasSidebarTop="canvasSidebarTop",e.virtualList="virtualList",e.dataPathField="dataPathField",e.panelDataVariablePicker="panelDataVariablePicker",e.panelDataConditionPicker="panelDataConditionPicker",e.panelDataCollectionPicker="panelDataCollectionPicker",e.panelDataValuePicker="panelDataValuePicker",e))(Og||{});const $I={array:K.codeBrackets,object:K.codeBraces,string:K.codeString,number:K.number,boolean:K.toggleSwitchOffOutline,default:K.null},II=e=>Array.isArray(e)?"array":e===null?"default":typeof e,VI=se(({name:e,value:t,isActive:n,isCollection:r,onClick:o,className:s})=>{const a=Ce().tScoped("dataSources"),i=II(t),c=typeof t=="object"&&t!==null,u=N(s,"gs-utl-text-left",B.hBgH,oe.b,oe.rnd,Me.xy,n?[oe.bA,B.tA]:[B.br,B.txtHighEmphasisH]),d=p=>typeof p=="object"?Array.isArray(p)?a("items",{params:{length:p.length}}):p?a("properties",{params:{length:Object.keys(p).length}}):"null":String(p);return l.jsx(Be,{onClick:o,border:!1,className:u,full:!0,children:l.jsxs(I,{items:"center",justify:"between",gap:"s",nowrap:!0,children:[l.jsxs(I,{className:"gs-utl-flex-grow gs-utl-overflow-hidden",gap:"s",col:!0,children:[l.jsxs(I,{className:"gs-utl-overflow-hidden",items:"center",gap:"s",full:!0,nowrap:!0,children:[l.jsx(re,{icon:$I[i],size:ie.s}),l.jsx(j,{className:N(Le.txtEllips,r&&"gs-utl-font-bold"),children:e})]}),l.jsx(j,{className:N("gs-utl-w-full",Le.txtEllips,Le.disabled),children:d(t)})]}),c&&l.jsx(j,{children:l.jsx(re,{size:ie.sx,icon:K.arrowRight,className:N(n&&"gs-utl-rotate-180","gs-utl-transition-transform gs-utl-duration-200")})})]})})}),jI="gs-cmp-data-path-explorer",Nw=se(function({additionalSources:t,onChange:n,path:r=""}){const{editor:o}=ge(),s=f.useRef({}),[a,i]=f.useState(()=>r.split(".")),[c,u]=f.useState([]),d=f.useMemo(()=>({...o?eN(o):{},...t}),[o,t]),p=(b,v)=>{let w=s.current;for(let y=0;y<v&&y<b.length;y++){const C=b[y];if(w&&typeof w=="object"&&C in w)w=w[C];else{w=void 0;break}}return!w||typeof w!="object"?[]:Object.entries(w).map(([y,C])=>{const S=b.slice(0,v).concat(y),x=a[v]===y,E=v===0&&nr(C)&&C.collectionId===y,T=()=>{const _=x?S.slice(0,-1):S;n==null||n(_.join("."),{paths:_}),i(_)};return l.jsx(VI,{className:N(E&&"-gs-utl-order-1"),isCollection:E,name:y,value:C,isActive:x,onClick:T},y)})};f.useEffect(()=>{s.current=d;const b=[];for(let v=0;v<=a.length;v++){const w=p(a,v);w.length>0&&b.push(w)}u(b)},[d,a]);const g=N(jI,B.bg,B.br,oe.b,oe.rnd,Le.scrollX,"gs-utl-h-full"),h=N("gs-utl-min-w-[220px]",B.br),m=N("gs-utl-h-full gs-utl-max-h-[60vh]",Le.scrollY,Me.xyS);return l.jsx(I,{className:g,full:!0,nowrap:!0,children:c.map((b,v)=>l.jsx(j,{className:N(h,v!==c.length-1&&oe.br),children:l.jsx(I,{col:!0,nowrap:!0,gap:"m",className:m,children:b})},v))})});function kw(e){const{collectionId:t,variableType:n,path:r=""}=e;return t?[t,n,r].filter(Boolean).join("."):r}function _g(e,t){const[n="",r="",...o]=e.split(".");return n&&t[n]?{collectionId:n,variableType:r,path:o.join(".")}:{path:e,collectionId:void 0,variableType:void 0}}const HI=e=>{const{path:t,collectionId:n,variableType:r}=e.dataResolver||{};return n?[n,r,t].filter(Boolean).join("."):e.value||t||""},DI=e=>{const{dataResolver:t,editor:n,value:r,defaultValue:o,additionalSources:s}=e,{path:a="",collectionId:i,variableType:c}=t||{},u=n==null?void 0:n.DataSources;if(i){const d=s==null?void 0:s[i],p=c&&d?d[c]:d;return(u==null?void 0:u.getValue(a,o,{context:p}))||""}else return(u==null?void 0:u.getValue(r,o))||""},FI="gs-cmp-data-path-field",tl=se(e=>{const{size:t="m",value:n="",label:r,open:o,defaultValue:s,additionalSources:a,dataResolver:i,readOnly:c,disabled:u,pickerInPopover:d,onChange:p,onPickerToggle:g}=e,{editor:h}=ge(),m=Ce().tScoped("dataSources"),[b,v]=f.useState(!!o),[w,y]=f.useState(!1),C=!!c||b||w,S=()=>y(!w),x=z=>{const $=z??!b;v($),g==null||g($)},E=()=>x(!1),T=(...z)=>{p==null||p(...z)},_=z=>{C||p==null||p(z,{paths:z.split(".")})},O=HI({dataResolver:i,value:n}),P=w&&h?`"${DI({editor:h,dataResolver:i,additionalSources:a,value:n,defaultValue:s})}"`:O,M=t==="m",A=M?"lg":t,k=M?ie.l:ie.s,H=m(b?"closePathExplorer":"openPathExplorer"),L={icon:b?K.close:K.databaseOutline,size:ie.l},F={icon:w?K.eyeOff:K.eye,size:M?ie.m:k},W=l.jsx(bt,{block:!0,variant:"pr",size:A,title:H,onClick:()=>x(),icon:L});return l.jsxs(I,{className:FI,gap:t,col:!0,children:[l.jsxs(I,{gap:t,items:"end",nowrap:!0,children:[l.jsx(Re,{readOnly:C,label:r,value:w?P:O,size:t,disabled:u,onChange:_,placeholder:m("selectVariablePath"),className:N("gs-utl-flex-grow",B.txt,Le.txtEllips),afterInput:!!n&&l.jsx(bt,{block:!0,variant:"out-clear",size:"xs",border:!1,title:m("toggleResolvedPath"),onClick:S,className:Le.hover,icon:F})}),d?l.jsx(Cr,{placement:"bottom-end",classNameBody:"gs-utl-w-[400px] gs-utl-h-[300px]",title:!1,padding:!1,border:!1,buttonAs:"span",handler:W,onClose:E,overlay:!0,children:l.jsx(Nw,{path:O,onChange:T,additionalSources:a})}):W]}),!!b&&!d&&l.jsx(Nw,{path:O,onChange:T,additionalSources:a})]})}),BI="gs-data-path-field",zI=se(({className:e,value:t="",onChange:n,...r})=>l.jsx(On,{className:N(BI,e),...r,children:l.jsx(tl,{onChange:o=>n({value:o}),value:t})}));function Ag(e){var a;const[t,n]=f.useState(((a=e.getDataResolver)==null?void 0:a.call(e))??{}),r=f.useRef(t),o=i=>{const c={...r.current,...i};r.current=c,n(c)},s=()=>{e.setDataResolver(r.current)};return f.useEffect(()=>{const i="change:dataResolver",c=()=>{const u=e.getDataResolver();n(u)};return e.on(i,c),()=>{e.off(i,c)}},[e]),{localData:t,updateLocalData:o,syncToComponent:s}}const UI="gs-cmp-data-variable-picker",WI=se(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Ag(e),s=Ce().tScoped("dataSources"),{path:a="",defaultValue:i=""}=n,c=e.collectionsStateMap,u=g=>{r(_g(g,c))},d=()=>{o(),t==null||t({value:n})},p=g=>r({defaultValue:g});return l.jsxs(I,{className:UI,gap:"s",col:!0,nowrap:!0,children:[l.jsx(tl,{value:a,label:s("variablePath"),dataResolver:n,additionalSources:c,defaultValue:i,onChange:u}),l.jsx(Re,{label:s("defaultValue"),value:i,onChange:p}),l.jsx(I,{full:!0,justify:"end",className:Me.y,children:l.jsx(Be,{onClick:d,variant:"pr",size:"m",children:s("confirm")})})]})}),GI="gs-data-variable-picker",KI=se(function({className:t,component:n,onConfirm:r,...o}){return l.jsx(On,{className:N(GI,t),...o,children:l.jsx(WI,{component:n,onConfirm:r})})});var _n=(e=>(e.STRING="string",e.NUMBER="number",e.DATA_SOURCE="dataSource",e))(_n||{}),An=(e=>(e.equals="equals",e.isTruthy="isTruthy",e.isFalsy="isFalsy",e.isDefined="isDefined",e.isNull="isNull",e.isUndefined="isUndefined",e.isArray="isArray",e.isObject="isObject",e.isString="isString",e.isNumber="isNumber",e.isBoolean="isBoolean",e.isDefaultValue="isDefaultValue",e))(An||{}),Mg=(e=>(e.greaterThan=">",e.lessThan="<",e.greaterThanOrEqual=">=",e.lessThanOrEqual="<=",e.equals="=",e.notEquals="!=",e))(Mg||{}),Lg=(e=>(e.contains="contains",e.startsWith="startsWith",e.endsWith="endsWith",e.equalsIgnoreCase="equalsIgnoreCase",e.trimEquals="trimEquals",e))(Lg||{});const qI=[...Object.values(Lg),...Object.values(Mg),...Object.values(An)],Ng={string:Object.values(Lg),number:Object.values(Mg),dataSource:qI},YI=f.memo(function(t){const{additionalSources:n,side:r,type:o,value:s,onChange:a}=t;switch(o){case _n.DATA_SOURCE:return l.jsx(tl,{size:"s",pickerInPopover:!0,value:kw(s),onChange:i=>a(r,i,o),additionalSources:n});case _n.NUMBER:return l.jsx(Ne,{size:"s",value:s,onChange:i=>a(r,i,o)});default:return l.jsx(Re,{size:"s",value:s,onChange:i=>a(r,i,o)})}}),ZI="gs-cmp-statement-side",$w=f.memo(function({side:t,type:n,value:r,label:o,onChange:s,onTypeChange:a,additionalSources:i,typeOptions:c}){return l.jsxs(I,{className:N(ZI,"gs-utl-flex-grow"),col:!0,children:[l.jsx(Co,{size:"s",children:o}),l.jsxs(I,{items:"center",gap:"xs",children:[l.jsx(j,{children:l.jsx(Ee,{size:"s",value:n,options:c,onChange:u=>a(t,u)})}),l.jsx(j,{grow:!0,children:l.jsx(YI,{additionalSources:i,side:t,type:n,value:r,onChange:s})})]})]})}),bu=e=>typeof e=="object"&&(e==null?void 0:e.type)==="data-variable"?_n.DATA_SOURCE:typeof e=="string"?_n.STRING:typeof e=="number"?_n.NUMBER:_n.STRING,XI=(e,t,n)=>{switch(t){case _n.STRING:return e||"";case _n.NUMBER:return e?Number(e):0;case _n.DATA_SOURCE:{const r=n||{};return{type:"data-variable",...(et(e)?_g(e,r):e)??{path:"",defaultValue:""}}}default:return e}},JI=e=>Ng[e][0],QI=e=>![An.isTruthy,An.isFalsy,An.isDefined,An.isNull,An.isUndefined,An.isArray,An.isObject,An.isString,An.isNumber,An.isBoolean,An.isDefaultValue].includes(e),RI="gs-cmp-statement",eV=se(e=>{const{statement:t,onChange:n,className:r,additionalSources:o}=e,s=Ce().tScoped("dataSources"),[a,i]=f.useState(()=>bu(t.left)),[c,u]=f.useState(()=>bu(t.right)),d=Ng[a]||Ng[_n.STRING],p=f.useMemo(()=>Object.values(_n).map(S=>({id:S,label:mr(S)})),[]),g=f.useMemo(()=>d.map(S=>({id:S,label:s(`operators.${S}`)})),[d,s]);f.useEffect(()=>{i(bu(t.left)),u(bu(t.right))},[t.left,t.right]);const h=S=>{n({...t,...S})},m=(S,x,E)=>{const T=XI(x,E,o),_=S==="left",O=_&&E!==_n.DATA_SOURCE;_?i(E):u(E),h({[S]:T,...O&&{operator:JI(E)}})},b=(S,x)=>m(S,null,x),v=S=>h({operator:S}),w=N(RI,r,B.br,oe.b,oe.rnd,Me.xy),y=QI(t.operator),C={additionalSources:o,onChange:m,onTypeChange:b,typeOptions:p};return l.jsx(I,{className:N(w,"gs-utl-w-full"),items:"stretch",gap:"m",col:!0,full:!0,nowrap:!0,children:l.jsxs(I,{gap:"m",items:"center",full:!0,nowrap:!0,children:[l.jsx($w,{side:"left",type:a,value:t.left,label:s("leftValue"),...C}),l.jsx(j,{children:l.jsx(Ee,{size:"s",label:s("operator"),value:t.operator,options:g,onChange:v})}),y&&l.jsx($w,{side:"right",type:c,value:t.right,label:s("rightValue"),...C})]})})}),kg="gs-cmp-statements-group",tV=e=>e==="and"||e==="or",vu=e=>({...e,statements:[...e.statements??[],{left:"",operator:"equals",right:""}]}),Iw=se(e=>{const{className:t,condition:n,onUpdate:r,additionalSources:o,skipAddCondition:s}=e,a=Ce().tScoped("dataSources"),i=n.statements??[],c=n.logicalOperator||"and",u=m=>{tV(m)&&r({...n,logicalOperator:m})},d=()=>{vu(n),r(vu(n))},p=m=>{const b=i.filter((v,w)=>w!==m);r({...n,statements:b})},g=(m,b)=>{if(m>=0&&m<i.length){const v=[...i];v[m]=b,r({...n,statements:v})}},h=[{id:"and",label:a("conditionAnd")},{id:"or",label:a("conditionOr")}];return l.jsxs(I,{className:N(kg,t,"gs-utl-w-full"),full:!0,gap:"m",col:!0,nowrap:!0,children:[i.length>1&&l.jsx(to,{value:c,onChange:u,tabs:h}),l.jsx(I,{className:`${kg}__items`,gap:"s",col:!0,full:!0,nowrap:!0,children:i.map((m,b)=>l.jsxs(I,{className:N(`${kg}__item`),gap:"s",col:!0,children:[l.jsx(eV,{additionalSources:o,statement:m,onChange:v=>g(b,v)}),b<i.length-1&&l.jsxs(I,{justify:"center",items:"center",gap:"m",children:[l.jsx("span",{className:N(B.txtHighEmphasis,"gs-utl-text-sm gs-utl-font-bold"),children:c.toUpperCase()}),l.jsx(bt,{block:!0,variant:"out-clear",title:a("deleteCondition"),onClick:()=>p(b+1),icon:{icon:K.delete,size:ie.s}})]})]},`stmt-${b}`))}),!s&&l.jsx(I,{justify:"end",children:l.jsx(Be,{variant:"pr",onClick:d,icon:{icon:K.plus,size:ie.s},children:a("addCondition")})})]})}),nV="gs-cmp-data-condition-picker",rV=se(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Ag(e),s=Ce().tScoped("dataSources"),a=n.condition,i=d=>r({condition:d}),c=()=>{o(),t==null||t({value:n})},u=()=>{r({condition:vu(a)})};return l.jsxs(I,{className:nV,items:"stretch",gap:"m",full:!0,col:!0,children:[l.jsx(Iw,{additionalSources:e.collectionsStateMap??{},condition:a,onUpdate:i,skipAddCondition:!0}),l.jsxs(I,{gap:"m",justify:"end",full:!0,children:[l.jsx(Be,{variant:"out",onClick:u,icon:{icon:K.plus,size:ie.s},children:s("addCondition")}),l.jsx(Be,{onClick:c,variant:"pr",size:"m",children:s("confirm")})]})]})}),oV="gs-data-condition-picker",sV=se(function({className:t,component:n,onConfirm:r,...o}){return l.jsx(On,{className:N(oV,t),...o,children:l.jsx(rV,{component:n,onConfirm:r})})}),aV="gs-cmp-data-collection-picker",iV=se(({component:e,onConfirm:t})=>{const{localData:n,updateLocalData:r,syncToComponent:o}=Ag(e),{collectionId:s="",dataSource:a={},startIndex:i=0,endIndex:c=10}=n,u=kw(a),d=c===Number.MAX_VALUE,p=Ce().tScoped("dataSources"),g=d?"":c,h=()=>{o(),t==null||t({value:n})},m=y=>r({dataSource:{...a,path:y}}),b=y=>r({startIndex:y}),v=y=>r({endIndex:y}),w=y=>r({endIndex:y?Number.MAX_VALUE:4});return l.jsxs(I,{className:aV,gap:"s",col:!0,nowrap:!0,children:[l.jsxs(I,{items:"end",gap:"s",nowrap:!0,children:[l.jsx(Re,{className:"gs-utl-flex-grow",size:"s",label:p("collectionId"),value:s,readOnly:!0,disabled:!0}),l.jsx(bv,{size:"s",value:s,block:!0})]}),l.jsx(tl,{label:p("variablePath"),value:u,onChange:m,dataResolver:n}),l.jsxs(I,{items:"end",gap:"s",nowrap:!0,children:[l.jsx(Ne,{size:"s",className:"gs-utl-flex-grow",label:p("collectionStartIndex"),value:i==null?void 0:i.toString(),onChange:b}),l.jsx(Ne,{size:"s",label:p("collectionEndIndex"),placeholder:d?"-":"",value:g==null?void 0:g.toString(),onChange:v,className:N("gs-utl-flex-grow",d&&"gs-utl-opacity-50 gs-utl-pointer-events-none")}),l.jsx(j,{children:l.jsx(Ti,{label:p("collectionUpToEndIndex"),value:d,onChange:w})})]}),l.jsx(I,{full:!0,justify:"end",children:l.jsx(Be,{onClick:h,variant:"pr",size:"m",children:p("confirm")})})]})}),lV="gs-data-collection-picker",cV=se(function({className:t,component:n,onConfirm:r,...o}){return l.jsx(On,{className:N(lV,t),...o,children:l.jsx(iV,{component:n,onConfirm:r})})}),uV="gs-code-field",dV=se(function(e){const{editor:t}=ge(),{isDarkTheme:n}=dn(),{editorEvents:r,onChange:o}=e,[s,a]=f.useState(()=>e),i=u=>({value:u,editor:t,state:s,setState:d=>a(p=>({...p,...d}))}),c=u=>o==null?void 0:o(i(u||""));return wa({editor:t,editorEvents:r,localState:s,setLocalState:a}),l.jsx(Jr,{className:N(uV,s.className),language:s.language,style:s.style,label:s.label,name:s.name,defaultValue:s.value,size:s.size,required:s.required,disabled:s.disabled,readOnly:s.readOnly,minHeight:s.minHeight,row:s.row,isDarkTheme:n,monacoOptions:e.monacoOptions,onChange:c})}),pV="gs-menu-list",fV=se(function({className:e,items:t,onItemClick:n,...r}){const{editor:o}=ge(),[s,a]=f.useState(),i=u=>{const{onClick:d}=u;if(d&&o)return p=>d({item:u,editor:o,...p})},c=()=>{if(n&&o)return u=>n({...u,editor:o})};return l.jsx(On,{className:N(pV,B.bg,"gs-utl-flex gs-utl-flex-col",e),...r,children:(t||[]).map((u,d)=>f.createElement(ii,{...u,label:u.layout?At(u.layout):u.label,key:u.id??d,className:u.className,action:i(u),onActive:()=>a(u),onItemClick:c(),active:s===u,items:u.items}))})}),yu={type:"data-variable",path:"",defaultValue:""},Vw={type:"data-condition",condition:{logicalOperator:"and",statements:[{left:"",operator:"",right:""}]},ifTrue:"",ifFalse:""},jw="gs-cmp-dynamic-value-picker",gV=se(({value:e,onChange:t,onConfirm:n,additionalSources:r})=>{const[o,s]=f.useState(()=>No(e)?e:yu),[a,i]=f.useState(o.type),c=Ce().tScoped("dataSources");f.useEffect(()=>{const C=No(e)?e:yu;(C.type!==o.type||JSON.stringify(C)!==JSON.stringify(o))&&(s(C),i(C.type))},[e]);const u=C=>{s(C),t==null||t({value:C})},d=C=>{const S=C;i(S);const x=o.type===S?o:S==="data-variable"?yu:Vw;u(x)},p=C=>{u({type:"data-variable",defaultValue:o.defaultValue,..._g(C,r)})},g=C=>{s(S=>{const x={...S,defaultValue:C};return t==null||t({value:x}),x})},h=C=>{u({...o,condition:C})},m=(C,S)=>{u({...o,[C]:S})},b=()=>{const C=o.condition;h(vu(C))},v=[{id:"data-variable",label:c("variable")},{id:"data-condition",label:c("condition")}],w=(o==null?void 0:o.type)==="data-variable"?o:yu,y=(o==null?void 0:o.type)==="data-condition"?o:Vw;return l.jsxs(I,{className:jw,gap:"s",col:!0,nowrap:!0,children:[l.jsxs(I,{className:jw,gap:"m",col:!0,nowrap:!0,full:!0,children:[l.jsx(to,{value:a,onChange:d,tabs:v}),l.jsx(j,{grow:!0,className:Me.y,style:{overflowY:"auto",overflowX:"hidden"},children:a==="data-variable"?l.jsxs(I,{gap:"s",col:!0,nowrap:!0,children:[l.jsx(tl,{value:w.path,label:c("variablePath"),additionalSources:r,defaultValue:w.defaultValue,onChange:p}),l.jsx(Re,{label:c("defaultValue"),value:w.defaultValue||"",onChange:g})]}):l.jsxs(I,{gap:"m",col:!0,children:[l.jsx(Iw,{additionalSources:r,condition:y.condition,onUpdate:h,skipAddCondition:!0}),l.jsxs(I,{gap:"s",col:!0,nowrap:!0,children:[l.jsx(Re,{label:c("ifTrue"),value:y.ifTrue,onChange:C=>m("ifTrue",C)}),l.jsx(Re,{label:c("ifFalse"),value:y.ifFalse,onChange:C=>m("ifFalse",C)})]})]})}),a==="data-condition"&&l.jsx(I,{full:!0,justify:"end",className:Me.x,children:l.jsx(Be,{variant:"out",onClick:b,icon:{icon:K.plus,size:ie.s},children:c("addCondition")})})]}),l.jsx(I,{full:!0,justify:"end",className:Me.y,children:l.jsx(Be,{onClick:()=>{n==null||n({value:o})},variant:"pr",size:"m",children:c("confirm")})})]})}),hV="gs-data-value-picker",mV=se(({className:e,value:t={},onChange:n,onConfirm:r,additionalSources:o={},...s})=>l.jsx(On,{className:N(hV,e),...s,children:l.jsx(gV,{value:t,onConfirm:a=>r==null?void 0:r(a),onChange:a=>n==null?void 0:n(a),additionalSources:o})})),bV={row:mI,column:E7,text:LI,tabs:AI,button:Zl,buttonGroupField:j8,menuList:fV,inputField:T7,codeField:dV,selectField:vI,selectFontField:wI,devices:Dy,panelPages:gw,panelPageSettings:m9,panelLayers:ow,panelPagesLayers:x9,panelBlocks:Y7,panelGlobalStyles:o9,panelSelectors:iI,panelStyles:pI,panelProperties:Z9,panelSidebarTabs:uI,panelAssets:K7,panelTemplates:gI,sidebarRight:_I,sidebarLeft:PI,sidebarTop:Fy,sidebarBottom:CI,canvas:ny,canvasSidebarTop:C7,virtualList:kI,dataPathField:zI,panelDataVariablePicker:KI,panelDataConditionPicker:sV,panelDataCollectionPicker:cV,panelDataValuePicker:mV},At=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=kA();return t.filter(Boolean).map((r,o)=>{const{id:s="",type:a,...i}=et(r)?{type:Og.text,content:r}:r||{},c=bV[a],u=n.layoutChildren.get(s),d=s||o;return u?l.jsx(ac,{id:s,...u},d):a===Og.custom?l.jsx(ac,{id:s,...i},d):c?l.jsx(c,{id:s,...i},d):null})},wa=e=>{const{editorEvents:t,editor:n,localState:r,setLocalState:o}=e;f.useEffect(()=>{if(!t||!n)return;const s=Object.keys(t).reduce((i,c)=>(i[c]=(u={})=>{const d=t[c];d({fromEvent:u,editor:n,state:r,setState:p=>o(g=>({...g,...p}))})},i),{}),a=Object.keys(s);return a.forEach(i=>n.on(i,s[i])),()=>{a.forEach(i=>n.off(i,s[i]))}},[n,r])},Hw="gs-block-item",Dw=se(e=>{const{block:t,className:n,itemLayout:r,onClick:o,variant:s}=e,{editor:a}=ge(),i=Ce(),[,c]=f.useState(0),u=i.tScoped("blockManager.labels"),d=t.getId(),p=!!t.get("full"),g=o||t.get("onClick"),h=t.get("disable"),m=t.get("mediaReact"),b=t.getMedia(),v=t.get("attributes")||{},w=u(d)||t.getLabel(),y=s==="compact",C=N(Hw,`${Hw}--${d}`,n,"gs-utl-px-2 gs-utl-transition-colors",oe.b,oe.rnd,B.br,p&&"gs-utl-col-span-full",y?"gs-utl-py-1":"gs-utl-py-2",y?"gs-utl-flex-row gs-utl-nowrap gs-utl-gap-3 gs-utl-justify-start":"gs-utl-flex-col",h?Le.disabledM:N("gs-utl-cursor-pointer",B.hTAo,B.hBgH)),S=Mt(v.class)&&!y?v.class:N("gs-utl-block-media gs-utl-w-full",y?"gs-utl-max-h-7 gs-utl-max-w-7 gs-utl-overflow-hidden":"gs-utl-max-h-10 gs-utl-max-w-10"),x=N("gs-utl-text-center",Le.txtEllips,!y&&"gs-utl-w-full");if(f.useEffect(()=>{if(!a)return;const{Blocks:M}=a,A=M.events.update,k=H=>H===t&&c(L=>++L);return a.on(A,k),()=>{a.off(A,k)}},[t,a]),!a)return null;const{Blocks:E}=a,O={className:C,...!h&&{onDragStart:()=>E.startDrag(t),onDragEnd:()=>E.endDrag(!1),draggable:!o},...!!g&&{onClick:()=>g(t,a)}},P=r==null?void 0:r({editor:a,block:t,attributes:O});return P&&At(P)||l.jsxs(I,{items:"center",...O,children:[m||l.jsx("div",{className:S,dangerouslySetInnerHTML:{__html:b}}),l.jsx("div",{className:x,title:w,children:w})]})}),Fw=J("text-sm w-full",Le.txtEllips),vV=se(({symbol:e,className:t})=>{const n=Tn(),{Components:r}=n,o=Ce(),s=Pr(),a=o.tScoped("blockManager.symbols"),i=()=>{const{draggable:w,droppable:y,attributes:C,type:S,tagName:x}=e.attributes;n.Canvas.startDrag({content:()=>r.addSymbol(e),model:e,dragDef:{type:S,tagName:x,draggable:w,droppable:y,attributes:C}})},c=()=>{n.Canvas.endDrag()},u=e.getIcon(),d=e.getName(),p=r.getSymbolInfo(e).instances.length,g=J("h-10 w-10 block-media",B.grouphTAo),h=J("gjs-pt-1 gjs-mt-2",oe.bt,B.br),m=J("cursor-pointer gjs-p-2 transition-colors group",oe.b,oe.rnd,B.br,B.hBgH,t),b=()=>{s.confirm({title:a("delete"),content:a("deleteConfirm"),onConfirm:()=>e.remove()})},v=w=>{e.set("custom-name",w)};return l.jsxs(I,{className:m,onDragStart:i,onDragEnd:c,items:"center",draggable:!0,col:!0,children:[l.jsx("div",{className:g,dangerouslySetInnerHTML:{__html:u}}),l.jsxs(I,{items:"center",justify:"between",className:h,space:"m",full:!0,children:[l.jsx(j,{children:l.jsx(I,{className:J(Fw,"gjs-mr-auto"),children:l.jsx($t,{title:`${p} ${a("instancesProject")}`,children:l.jsx(Ot,{label:`${p}`,className:J(B.bgH75)})})})}),l.jsx(j,{className:J("truncate"),grow:!0,title:d,children:l.jsx(Tw,{activable:!0,value:d,className:Fw,onChange:v})}),l.jsx(j,{className:J(Le.hoverGroup),children:l.jsx(I,{justify:"end",full:!0,children:l.jsx(bt,{onClick:b,title:a("delete"),border:!1,size:"",block:!0,children:l.jsx(re,{icon:K.delete,size:ie.s})})})})]})]})}),Do="gs-block-manager",Bw={id:Nr.before,title:"Add before",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <path d="M4 5v14"/> <rect fill="none" x="8" y="5" width="12" height="14" rx="2" ry="2"/> </svg>'},yV={id:Nr.beforeInside,title:"Add inside first",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M8 8v8"/> </svg>'},wV={id:Nr.afterInside,title:"Add inside last",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="16" height="14" rx="2" ry="2"/> <path d="M16 8v8"/> </svg>'},zw={id:Nr.after,title:"Add after",icon:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"> <rect fill="none" x="4" y="5" width="12" height="14" rx="2" ry="2"/> <path d="M20 5v14"/> </svg>'},Uw=(e,t)=>{const n=t==null?void 0:t.getId();return n&&e.I18n.t(`blockManager.categories.${n}`)||(t==null?void 0:t.getLabel())||""},Ww=e=>{const t=e.getContent();return Xe(t)?e.getDragDef():t},SV=e=>{const t=Ww(e);return Array.isArray(t)?t[0]:t},Gw=se(function({isOpen:t,className:n,hideCategories:r,target:o,variant:s,itemLayout:a,...i}){var ut,Ut;const{editor:c}=ge(),u=Ce(),[d,p]=f.useState(0),[g,h]=f.useState(Bi.REGULAR),[m,b]=f.useState(""),[v,w]=f.useState(""),y=f.useRef(new Set),[C,S]=f.useState((o==null?void 0:o.position)||Nr.after),[x,E]=f.useState(()=>(c==null?void 0:c.Components.getSymbols())||[]),T=g===Bi.SYMBOLS,_=f.useRef(null),O=u.tScoped("blockManager"),P=o==null?void 0:o.component;if(f.useEffect(()=>{if(!c)return;const{Blocks:pe,Components:je}=c,He=pe.events.custom,Ae=je.events.symbol,gt=()=>{E(je.getSymbols()),p(Ht=>++Ht)};return c.on(Ae,gt),c.on(He,gt),()=>{c.off(Ae,gt),c.off(He,gt)}},[c]),f.useEffect(()=>{if(_.current&&t){const pe=_.current.querySelector("input");setTimeout(()=>pe==null?void 0:pe.focus(),gd)}},[_.current,t]),!c)return null;const{Blocks:M,Components:A}=c,k=pe=>O(`labels.${pe.getId()}`)||pe.getLabel(),H=x.filter(pe=>Hs(pe.getName(),m)),L=M.getAll().map(pe=>pe),F=((ut=i.blocks)==null?void 0:ut.call(i,{blocks:L}))||L,W=C===Nr.before,z=C===Nr.beforeInside,$=C===Nr.afterInside,D=C===Nr.after,V=!!(P!=null&&P.attributes.droppable),U=F.filter(pe=>{const je=Uw(c,pe.category);if(m&&!Hs(je,m)&&!Hs(k(pe),m))return!1;if(P){const He=SV(pe);if(V&&(z||$)){const Ae=z?0:void 0;return A.canMove(P,He,Ae).result}else if(W||D){const Ae=P.index(),gt=P.parent(),Ht=W?Ae:Ae+1;return gt&&A.canMove(gt,He,Ht).result}}return!0}),Q=M.getBlocksByCategory(U),Z=r?U:(Ut=Q.find(pe=>!pe.category))==null?void 0:Ut.items,R=r?[]:Q.filter(pe=>pe.category),ne=i.symbols!==!1,ee=i.search!==!1,q=!ne&&!ee,X=s==="compact",ae=O("search")||u.t("search"),ue=N(Do,n,"gap-2"),we=N(`${Do}__header`,"gs-utl-pt-2",Me.xS,q&&"gs-utl-hidden"),he=N(`${Do}__content`,Le.scrollY,B.br,oe.bt),Ie=N(`${Do}__symbols`,"gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-p-2"),Ze=N(`${Do}__not-found`,"gs-utl-text-center gs-utl-p-4"),mt=N(`${Do}__blocks`,"gs-utl-grid gs-utl-gap-2 gs-utl-p-2 gs-utl-text-sm",X?"gs-utl-grid-cols-1":"gs-utl-grid-cols-2"),lt=N(`${Do}__no-category`,mt,B.br,R.length&&oe.bb),We=N(B.tAo,B.bgH75,oe.bA),jt=`${Do}__category`,ct=[{id:Bi.REGULAR,label:O("types.regular")},{id:Bi.SYMBOLS,label:O("types.symbols")}],Pt=V?[Bw,yV,wV,zw]:[Bw,zw],yt=P?pe=>{const je=Ww(pe);if(!je)return;let He;if(z||$){const Ae=z?0:void 0;He=P.append(je,{at:Ae})[0]}else if(W||D){const Ae=P.index(),gt=P.parent(),Ht=W?Ae:Ae+1;He=gt==null?void 0:gt.append(je,{at:Ht})[0]}if(He){const{activate:Ae,select:gt}=pe.attributes;gt||Ae&&gt!==!1?c.em.setSelected(He,{activate:Ae}):Ae&&He.trigger("active")}}:void 0,ft=pe=>{if(!P)return;const je=Array.from(y.current);if(pe.key==="ArrowDown")pe.preventDefault(),w(He=>{const Ae=je.indexOf(He);return je.at(Math.min(Ae+1,je.length-1))||""});else if(pe.key==="ArrowUp")pe.preventDefault(),w(He=>{const Ae=je.indexOf(He);return je.at(Math.max(Ae-1,0))||""});else if(pe.key==="Enter"&&v){const He=M.get(v);He&&(yt==null||yt(He))}},ot=pe=>{y.current.clear(),b(pe)};return l.jsxs(I,{className:ue,col:!0,full:!0,children:[l.jsxs(I,{className:we,gap:"s",col:!0,children:[ne&&l.jsx(to,{tabs:ct,onChange:h,value:g,variant:"pills"}),P&&l.jsx(qt,{size:"s",options:Pt,value:C,onChange:pe=>S(pe)}),ee&&l.jsx(Re,{ref:_,size:"s",value:m,onInput:ot,onKeyDown:ft,placeholder:ae,type:"search"})]}),l.jsxs(j,{className:he,grow:!0,children:[T&&(H.length?l.jsx(I,{className:Ie,children:H.map(pe=>l.jsx(vV,{symbol:pe},`${d}_${pe.getId()}`))}):l.jsx(I,{className:Ze,justify:"center",children:O("symbols.notFound")})),!T&&(U.length?l.jsxs(l.Fragment,{children:[!!(Z!=null&&Z.length)&&l.jsx(I,{className:lt,children:Z==null?void 0:Z.map(pe=>(y.current.add(`${pe.id}`),l.jsx(Dw,{block:pe,itemLayout:a,onClick:yt,variant:s,className:N(v===pe.id&&We)},pe.id)))}),R.map(({category:pe,items:je},He)=>l.jsx(hs,{sticky:!0,className:Ae=>bd.itemList({index:He,open:Ae,length:R.length}),open:!!(pe!=null&&pe.get("open")),onChange:({open:Ae})=>pe==null?void 0:pe.set({open:Ae}),handler:Uw(c,pe),handlerIcon:pe==null?void 0:pe.get("icon"),classNameWrap:N(jt,`${jt}--${pe==null?void 0:pe.id}`),children:l.jsx(I,{className:mt,children:je.map(Ae=>(y.current.add(`${Ae.id}`),l.jsx(Dw,{block:Ae,itemLayout:a,onClick:yt,variant:s,className:N(v===Ae.id&&We)},Ae.id)))})},pe==null?void 0:pe.id))]}):l.jsx(I,{className:Ze,justify:"center",children:O("notFound")}))]})]})}),CV={add:K.plus},Kw=(e,t)=>t||CV[e];function $g({className:e,icon:t,title:n,onClose:r,actions:o=[],children:s}){const{t:a}=Ce();return l.jsxs(I,{className:G("gjs-card-title",e),items:"center",children:[l.jsx(j,{className:G("truncate"),grow:!0,children:n}),s,l.jsxs(I,{space:"s",children:[!!o.length&&l.jsx(I,{space:"xs",className:G("gjs-px-1"),children:o.map(({id:i,icon:c,className:u,...d})=>l.jsx(j,{children:l.jsx(bt,{block:!0,border:!1,size:"xs",icon:Kw(i,c)?{icon:Kw(i,c),size:ie.s}:void 0,className:G(Le.click,u),...d})},i))}),(r||t)&&l.jsx(bt,{title:a("close"),onClick:r,border:!1,className:G(Le.click),icon:{icon:K.close,size:ie.s},size:"xs",block:!0})]})]})}const qw="0.22.14",xV="1.0.30",Fo="https://cdn.jsdelivr.net/npm/",EV=`${Fo}grapesjs@${qw}/dist/grapes.min.js`,PV=`${Fo}grapesjs@${qw}/dist/css/grapes.min.css`,TV=!1,jr=xV,ro=`${Fo}@grapesjs/studio-sdk-plugins@${jr}`,gn={category:"Extra",select:!0},Yw=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Live countdown timer to highlight upcoming events, launches, or deadlines.",category:Rt.components,src:`${Fo}grapesjs-component-countdown@1.0.1/dist/index.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/b2b347be-144d-4860-8f1a-2d8678ab07c7__plugin-counter.png",version:"1.0.1",projectType:[Pe.web],options:{props:{emptyState:!0}},instructions:`Provide data-gjs-type="countdown" on the outer wrapper and data-js attributes for inner elements:

\`\`\`html
<div data-gjs-type="countdown" data-gjs-startfrom="2025-09-30" data-gjs-end-text="Expired">
  <span data-js="countdown" class="countdown-cont">
    <div class="countdown-block">
      <div data-js="countdown-day" class="countdown-digit">00</div>
      <div class="countdown-label">days</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-hour" class="countdown-digit">00</div>
      <div class="countdown-label">hours</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-minute" class="countdown-digit">00</div>
      <div class="countdown-label">minutes</div>
    </div>
    <div class="countdown-block">
      <div data-js="countdown-second" class="countdown-digit">00</div>
      <div class="countdown-label">seconds</div>
    </div>
  </span>
  <span data-js="countdown-endtext" class="countdown-endtext"></span>
</div>
\`\`\`

The attribute data-gjs-startfrom accepts a date format YYYY-MM-DD (not datetime).
`},{id:"grapesjs-tabs",name:"Tabs",description:"Organize content into easy-to-navigate sections using tabs.",category:Rt.components,src:`${Fo}grapesjs-tabs@1.0.18/dist/index.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/e322063c-a8b4-46d4-a21e-20f885ab53df__plugin-tabs.png",version:"1.0.18",projectType:[Pe.web],options:{tabsBlock:gn},instructions:`Provide data-gjs-type to identify the components, classes and aria attributes as in the following structure:

\`\`\`html
<div data-gjs-type="tabs">
  <div data-gjs-type="tab-container" class="tab-container">
    <div data-gjs-type="tab" id="tab1" aria-controls="tab-content-1" class="tab tab-active">
      <span>Tab 1</span>
    </div>
    <div data-gjs-type="tab" id="tab2" aria-controls="tab-content-2" class="tab">
      <span>Tab 2</span>
    </div>
    <div data-gjs-type="tab" id="tab3" aria-controls="tab-content-3" class="tab">
      <span>Tab 3</span>
    </div>
  </div>
  <div data-gjs-type="tab-contents" class="tab-contents">
    <div data-gjs-type="tab-content" id="tab-content-1" aria-labelledby="tab1" class="tab-content">
      <div>Tab Content 1</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-2" aria-labelledby="tab2" class="tab-content" hidden>
      <div>Tab Content 2</div>
    </div>
    <div data-gjs-type="tab-content" id="tab-content-3" aria-labelledby="tab3" class="tab-content" hidden>
      <div>Tab Content 3</div>
    </div>
  </div>
</div>
\`\`\`

The default classes provide already basic horizontal styling for the tabs and their contents but you can extend them.
IMPORTANT: The editor allows to update active tab via this selector ".tab.tab-active", so ensure ".tab" class is always there and extend ".tab-active" styles if needed.
`},{id:"grapesjs-custom-code",name:"Custom code",description:"Insert your own custom code directly into the page. Perfect for adding third-party widgets, advanced styling, or custom functionality.",category:Rt.components,src:`${Fo}grapesjs-custom-code@1.0.2/dist/index.js`,image:"https://user-images.githubusercontent.com/11614725/43289377-15322c5e-912b-11e8-9a29-cc2dc45af48a.gif",version:"1.0.2",projectType:[Pe.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"A simple, CSS-only, tooltip component. Great for adding helpful hints or extra info on hover.",src:`${Fo}grapesjs-tooltip@0.1.8/dist/index.js`,category:Rt.components,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/53239882-2c3f-4480-84cb-16fb9dd3d713__plugin-tooltip.webp",version:"0.1.8",projectType:[Pe.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}},instructions:`Provide data-gjs-type="tooltip" to identify the component, and set the tooltip text and position:

\`\`\`html
<span data-gjs-type="tooltip" data-tooltip="Your tooltip text here" data-tooltip-pos="top">Hover me</span>
\`\`\`

Available positions: top, bottom, left, right
AVOID additional CSS, the component is fully functional with just the above HTML.
`},{id:"grapesjs-typed",name:"Typed",description:"A typewriter-style animation component powered by Typed.js. Ideal for dynamic hero headings and attention-grabbing text effects.",category:Rt.components,src:`${Fo}grapesjs-typed@2.0.1/dist/index.js`,image:"https://user-images.githubusercontent.com/11614725/67621063-3f31c380-f80d-11e9-8d62-7f1da9f27111.png",version:"2.0.1",projectType:[Pe.web],options:{block:gn},instructions:`Provide data-gjs-type="typed" to identify the component, and set the text strings to cycle through:

\`\`\`html
<div data-gjs-type="typed" data-gjs-strings='["First text", "Second text", "Third text"]' data-gjs-type-speed="40" data-gjs-start-delay="1000">Loading...</div>
\`\`\`

Available options: data-gjs-strings (array), data-gjs-type-speed (ms), data-gjs-start-delay (ms), data-gjs-back-speed (ms), data-gjs-loop (boolean)`},{id:"StudioSdkPlugins_tableComponent",name:"Table",description:"Add table component with additional functionalities.",category:Rt.components,src:`${ro}/dist/tableComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/table-plugin-f8c7596df01f9e12fb5d94a9de4ee502.png",version:jr,projectType:[Pe.web],options:{block:gn}},{id:"StudioSdkPlugins_listPagesComponent",name:"List Pages",description:"Add a list component that dynamically generates navigation links based on the pages in your project.",category:Rt.components,src:`${ro}/dist/listPagesComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/list-pages-plugin-a315be106d0897f4167a6c93c71e7878.png",version:jr,projectType:[Pe.web],options:{block:gn},instructions:`Provide data-gjs-type to identify the components and use "page://PAGE_ID" format to connect to available pages:

\`\`\`html
<ul data-gjs-type="list-pages">
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://HOME_PAGE_ID">Home</a>
  </li>
  <li data-gjs-type="list-pages-item">
    <a data-gjs-type="list-pages-link" href="page://ABOUT_PAGE_ID">About</a>
  </li>
</ul>
\`\`\`

IMPORTANT: The href format must use \`page://PAGE_ID\` where PAGE_ID is the actual string ID of the page in the project.
Add list items based on your available pages and replace the href with the proper page ID.`},{id:"StudioSdkPlugins_fsLightboxComponent",name:"FsLightbox",description:"Image viewer plugin based on FsLightbox.",category:Rt.components,src:`${ro}/dist/fsLightboxComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/fslightbox-plugin-5d9d81980202b475e60ccaa248036915.png",version:jr,projectType:[Pe.web],options:{block:gn},instructions:`Provide data-gjs-type="fslightbox" to identify the component, and place images inside:

\`\`\`html
<a data-fslightbox="image-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-2" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>
<a data-fslightbox="image-group-1" href="IMAGE_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="videos" data-gjs-source-type="video" href="YOUTUBE_VIDEO_URL"><img src="IMAGE_PREVIEW_URL"/></a>

<a data-fslightbox="custom-types" href="#custom-element">Custom element</a>
<div style="display: none">
  <div id="custom-element">
    <div>Custom content</div>
  </div>
</div>
\`\`\``},{id:"StudioSdkPlugins_lightGalleryComponent",name:"LightGallery",description:"Gallery component based on lightGallery.",category:Rt.components,src:`${ro}/dist/lightGalleryComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/lightgallery-plugin-0ef8d47f0aaa2bbdd0c83cffb9087fa4.png",version:jr,projectType:[Pe.web],options:{block:gn},instructions:`Use data-gjs-type="lightGallery" to create image galleries. Examples:

\`\`\`html
<!-- Single image -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>

<!-- Multiple images in gallery -->
<div data-gjs-type="lightGallery">
  <a href="IMAGE1_URL">
    <img src="IMAGE1_PREVIEW_URL" alt="Image 1" />
  </a>
  <a href="IMAGE2_URL">
    <img src="IMAGE2_PREVIEW_URL" alt="Image 2" />
  </a>
</div>

<!-- Video gallery -->
<div data-gjs-type="lightGallery">
  <a data-src="YOUTUBE_URL" data-poster="THUMBNAIL_URL" data-sub-html="Video Caption">
    <img src="THUMBNAIL_URL" alt="Video thumbnail" />
  </a>
</div>

<!-- Inline gallery -->
<div data-gjs-type="lightGallery" data-gjs-inline="true">
  <a href="IMAGE_URL">
    <img src="IMAGE_PREVIEW_URL" alt="Image description" />
  </a>
</div>
\`\`\``},{id:"StudioSdkPlugins_swiperComponent",name:"Swiper (Slider)",description:"Slider component plugin based on Swiper.",category:Rt.components,src:`${ro}/dist/swiperComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/swiper-plugin-ded7740b473376f249829eced9003fee.png",version:jr,projectType:[Pe.web],options:{block:gn},instructions:`Use standard SwiperJS structure. SwiperJS options can be passed via data-gjs-{option-name} attributes:

\`\`\`html
<div class="swiper" data-gjs-space-between="100" style="height: 200px">
  <div class="swiper-wrapper">
    <div class="swiper-slide">Slide 1</div>
    <div class="swiper-slide">Slide 2</div>
    <div class="swiper-slide">Slide 3</div>
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>
\`\`\`

SwiperJS options can be passed via data-gjs-{option-name} attributes.`},{id:"StudioSdkPlugins_iconifyComponent",name:"Iconify",description:"Add an icon component with the icon picker by levering the Iconify collections.",category:Rt.components,src:`${ro}/dist/iconifyComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/iconify-plugin-265b0e0e9218b0d33744366e5a069bef.png",version:jr,projectType:[Pe.web],options:{block:gn}},{id:"StudioSdkPlugins_accordionComponent",name:"Accordion",description:"Accordion component, allowing users to create collapsible content sections with smooth animations and keyboard navigation support.",category:Rt.components,src:`${ro}/dist/accordionComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/accordion-plugin-09ee15747de2cbc119e7e9ca654abec6.webp",version:jr,projectType:[Pe.web],options:{block:gn,blockGroup:gn},instructions:`Provide data-gjs-type="accordion" to identify the component, and use the accordion structure:

\`\`\`html
<details data-gjs-type="accordion">
  <summary data-gjs-type="accordion-header">
    <div>Accordion header</div>
    <div data-gjs-type="accordion-marker"></div>
  </summary>
  <div data-gjs-type="accordion-content">
    <div>Accordion content</div>
  </div>
</details>
\`\`\`

Available properties: open (checkbox), clsMarkerOpen. The component uses HTML details/summary elements with custom styling and animations.`},{id:"StudioSdkPlugins_animationComponent",name:"Animations",description:"Add scroll-triggered animation components with support for staggered grouping effects.",category:Rt.components,src:`${ro}/dist/animationComponent/index.umd.js`,image:"https://app.grapesjs.com/docs-sdk/assets/images/animation-plugin-f099c7cb5c88ffd5ca7794cbfcd0d7af.webp",version:jr,projectType:[Pe.web],options:{block:gn,blockGroup:gn},instructions:`Use data-gjs-type="animation" to identify the component. Animation options are set via CSS properties in the style attribute:

\`\`\`html
<!-- Basic animation -->
<div data-gjs-type="animation" style="animation-name: fadeInUp; animation-duration: 1s">
  Content to animate
</div>

<!-- Scroll-triggered animation -->
<div data-gjs-type="animation" style="animation-name: slideInLeft; animation-delay: 0.5s">
  Content that animates on scroll
</div>

<!-- Grouped animations (staggered) -->
<div data-gjs-type="animation-group">
  <div data-gjs-type="animation" style="animation-name: fadeInDown" class="animated-box">Item 1</div>
  <div data-gjs-type="animation" style="animation-name: fadeInLeft" class="animated-box">Item 2</div>
  <div data-gjs-type="animation" style="animation-name: fadeInUp" class="animated-box">Item 3</div>
</div>

<!-- Repeat animation on scroll -->
<div data-gjs-type="animation" style="animation-name: zoomIn; --animation-repeat: true">
  Content that repeats animation on each scroll
</div>
\`\`\``},{id:"StudioSdkPlugins_shapeDividerComponent",name:"Shape Divider",description:"Add shape divider components to create visually appealing section transitions.",category:Rt.components,src:`${ro}/dist/shapeDividerComponent/index.umd.js`,image:"https://cdn.grapesjs.com/workspaces/clywyth4s0001a5x8dfysepz7/assets/4d65c7f4-aa7c-4019-80a4-7c06b3143207__plugin-shape-divider.webp",version:jr,projectType:[Pe.web],options:{block:gn,blockGroup:gn}}],OV=Yw.reduce((e,t)=>(e[t.id]=t,e),{}),_V=()=>new Promise(e=>{setTimeout(()=>e(Yw),100)}),Zw=se(function({plugin:t,className:n,installed:r,onInstall:o,onSelect:s}){const a=Ce(),i=m=>a.t(`pluginManager.${m}`),c=r[t.id],u=()=>s==null?void 0:s(t),d=()=>o(t),p=N("gs-cmp-plugin-item gs-utl-overflow-hidden gs-utl-max-w-full gs-utl-group gs-utl-px-4 gs-utl-py-3",n),g=N("gs-utl-cursor-pointer gs-utl-font-bold",Le.txtEllips),h=N("gs-utl-max-w-full gs-utl-h-48 gs-utl-w-72 gs-utl-mx-auto gs-utl-object-cover",B.br,oe.b,oe.rnd);return l.jsxs(ln,{className:p,padding:!1,classNameBody:"gs-utl-flex gs-utl-flex-col gs-utl-gap-2",children:[l.jsxs(I,{items:"center",gap:"s",nowrap:!0,children:[l.jsx(j,{className:g,onClick:u,children:t.name}),l.jsx(j,{grow:!0,children:l.jsx(Ot,{className:"gs-utl-opacity-90",label:`v${t.version}`,s:"s",pill:!0,border:!0})}),l.jsx(Be,{className:"gs-utl-text-sm",size:"m2",variant:"pr",onClick:d,children:i(c?"uninstall":"install")})]}),l.jsxs(I,{gap:"s",col:!0,className:"md:gs-utl-flex-nowrap md:gs-utl-flex-row",children:[l.jsx(j,{grow:!0,className:"gs-utl-text-sm",children:t.description}),t.image&&l.jsx("img",{className:h,src:t.image,alt:t.name})]})]})}),Xw=se(function(t){const{selectedId:n,loadPlugins:r,loadPluginsInstalled:o}=t,s=Ce(),[a]=Kc(),i=Qf(),c=ge(),[u,d]=f.useState(),[p,g]=f.useState(),[h,m]=f.useState(),[b,v]=f.useState("all"),w=b==="all"?h:p,y=s.tScoped("pluginManager"),{editor:C}=c,S={editor:C},x=async()=>(o?await o(S):await zc()).map(A=>({...OV[A.id],...A}));f.useEffect(()=>{const A=setTimeout(async()=>{if(p||g(await x()),!h){const k=r?await r(S):await _V();m(k)}});return()=>clearTimeout(A)},[p,h,C]),f.useEffect(()=>{if(n&&h&&!i.selectedShown){const M=h.find(A=>A.id===n);M&&d(M),i.setSelectedShown(!0)}},[h]);const E=f.useMemo(()=>[{id:"all",label:y("all")},{id:"installed",label:y("installed")+(p!=null&&p.length?` (${p.length})`:"")}],[s,p==null?void 0:p.length]),T=f.useCallback(async M=>{const{onInstall:A,onUninstall:k}=t;p!=null&&p.find(H=>H.id===M.id)?(await(k==null?void 0:k(M,S)),await v8(M,{skipUpdateLocal:!!k,installed:k?p:void 0})):(await(A==null?void 0:A(M,S)),await b8(M,{skipUpdateLocal:!!A,installed:A?p:void 0})),g(await x())},[p,C]),_=f.useMemo(()=>(p==null?void 0:p.reduce((M,A)=>(M[A.id]=A.version,M),{}))||{},[p]),O=!!(u||i.hasPending),P=async()=>{if(o){const M=await x();i.setProjectPlugins(M,{clearPending:!0}),c.refreshStudio(),c.store.modalStore.close()}else c.updateStudio()};return l.jsxs(I,{gap:"m",col:!0,full:!0,children:[O&&l.jsxs(I,{children:[!!u&&l.jsx(Be,{onClick:()=>d(void 0),className:B.tAo,border:!1,children:l.jsxs(I,{gap:"xs",items:"center",children:[l.jsx(re,{icon:K.chevronLeft,size:ie.s}),l.jsx("div",{children:y("allPlugins")})]})}),i.hasPending&&l.jsx(Be,{className:"gs-utl-text-sm gs-utl-ml-auto",size:"m2",variant:"out",onClick:P,children:y("updateStudio")})]}),u?l.jsx(j,{grow:!0,className:"gs-utl-w-full",children:l.jsx(Zw,{plugin:u,installed:_,onInstall:T,selected:!0})}):l.jsxs(l.Fragment,{children:[l.jsx(j,{children:l.jsx(to,{tabs:E,onChange:v,value:b})}),l.jsx(j,{grow:!0,children:w?w.length?l.jsx(qi,{data:w,listClassName:"gs-utl-grid gs-utl-grid-cols-1 gs-utl-gap-2 gs-utl-pr-2",itemContent:(M,A)=>l.jsx(Zw,{plugin:A,installed:_,onInstall:T,onSelect:d},A.id)},a):l.jsx(I,{justify:"center",children:s.t("notItemsFound")}):l.jsx(zi,{})})]})]})}),AV=se(function(){const{isOpen:t,toggleOpen:n}=Tb(),{editor:r,sdkProps:o,sdkOptions:s,isProjectTypeEmail:a}=ge(),i=Pr(),c=Ce(),u=o.children,d=c.tScoped("blockManager"),p=G("absolute left-0 top-0 h-full transition-transform z-10",!t&&"-translate-x-full",oe.br,B.br,B.bg),g=()=>{i.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>l.jsx(Xw,{})})},h=f.useMemo(()=>[!!s.pluginManager&&!a&&{id:"add",title:d("add"),className:B.tAo,onClick:g,icon:K.viewGridPlus}].filter(Boolean),[r]);return l.jsxs(I,{className:p,style:{width:240},col:!0,nowrap:!0,children:[l.jsx(j,{children:l.jsx($g,{title:d("blocks"),onClose:n,className:G(Me.s),actions:h})}),l.jsxs(fs,{children:[cn(u,fg),l.jsx(j,{className:G("overflow-hidden"),grow:!0,children:l.jsx(Gw,{isOpen:t})}),cn(u,pg)]})]})}),Ig="gs-canvas-spot-drag";function MV({spot:e,className:t}){const n=Tn(),r=Ws(e.component),o=N(oe.b,r.border),{originComponent:s,matchedComponents:a,originMatchedDistances:i}=e.attributes;return l.jsxs("div",{className:t,children:[l.jsx(Jw,{editor:n,componentEl:s,className:N(Ig,o)}),a.map(c=>l.jsx(Jw,{editor:n,componentEl:c,className:N(`${Ig}__matched`,o)},c.id)),i.map((c,u)=>l.jsx(LV,{editor:n,originMatchedDistance:c,className:N(`${Ig}__distance`),componentColorClasses:r},u))]})}function Jw(e){const{editor:t,componentEl:n,className:r}=e,o=t.Canvas.getCanvasView(),{x:s,y:a,width:i,height:c}=o.getElBoxRect(n),u=N(r,"gs-utl-absolute gs-utl-top-0 gs-utl-left-0"),d={translate:`${s}px ${a}px`,width:`${i}px`,height:`${c}px`};return l.jsx("div",{className:u,style:d})}function LV(e){const{originMatchedDistance:t,editor:n,className:r,componentColorClasses:o}=e,a=n.Canvas.getCanvasView().clsUnscale||"",{axis:i,x:c,y:u,width:d,height:p}=t,g=i==="y",h=g?d:p,m={translate:`${c}px ${u}px`,width:`${d}px`,height:`${p}px`},b=`${r}__guides`,v=`${r}__guide-info ${r}__guide-info__${i} gs-utl-absolute`,w=N(`${r}__guide-info__line`,o.bg,g?"gs-utl-w-full gs-utl-h-[1px]":"gs-utl-h-full gs-utl-w-[1px]"),y=N(`${r}__guide-info__content gs-utl-w-full gs-utl-h-full gs-utl-flex gs-utl-justify-center gs-utl-items-center`),C=N(`${r}__guide-info__badge gs-utl-shadow-md`,a,o.bg);return l.jsx("div",{className:b,children:l.jsx("div",{className:v,style:m,children:l.jsx("div",{className:w,children:l.jsx("div",{className:y,children:l.jsxs(Ot,{className:C,s:"s",children:[Math.round(h),"px"]})})})})})}const NV={pointerEvents:"all"};function Sa({spot:e,children:t,style:n,spotStyles:r,...o}){const s={...r||e.getStyle(),...n};return l.jsx("div",{...o,style:s,children:l.jsx("div",{style:NV,children:t})})}const Yn=f.forwardRef(function({children:t,className:n,position:r,out:o,skipUnscale:s,...a},i){var h;const{Canvas:c}=Tn(),u=!s&&((h=c.getCanvasView())==null?void 0:h.clsUnscale)||"",d=[],p={};switch(r){case"top-left":d.push("top-0","left-0"),p.transformOrigin="top left",o&&(p.translate="0 -100%",p.transformOrigin="bottom left");break;case"top-center":d.push("top-0"),p.left="50%",p.translate="-50% 0",p.transformOrigin="top center",o&&(p.translate="-50% -100%",p.transformOrigin="bottom center");break;case"top-right":d.push("top-0","right-0"),p.transformOrigin="top right",o&&(p.translate="0 -100%",p.transformOrigin="bottom right");break;case"center-left":d.push("left-0"),p.top="50%",p.translate="0 -50%",p.transformOrigin="center left",o&&(p.translate="-100% -50%",p.transformOrigin="center right");break;case"center-center":p.top="50%",p.left="50%",p.translate="-50% -50%",p.transformOrigin="center";break;case"center-right":d.push("right-0"),p.top="50%",p.translate="0 -50%",p.transformOrigin="center right",o&&(p.translate="100% -50%",p.transformOrigin="center left");break;case"bottom-left":d.push("left-0","bottom-0"),p.transformOrigin="bottom left",o&&(p.translate="0 100%",p.transformOrigin="top left");break;case"bottom-center":d.push("bottom-0"),p.left="50%",p.translate="-50% 0",p.transformOrigin="bottom center",o&&(p.translate="-50% 100%",p.transformOrigin="top center");break;case"bottom-right":d.push("right-0","bottom-0"),p.transformOrigin="bottom right",o&&(p.translate="0 100%",p.transformOrigin="top right");break}const g={...p,...a.style};return l.jsx("div",{...a,className:N(u,J(n,"gs-utl-flex gs-utl-absolute",d.join(" "))),style:g,ref:i,children:t})});function Qw({spot:e,className:t,badgeConfig:n}){const r=Tn(),{Canvas:o}=r,s=(n==null?void 0:n.position)||"top-left",[a,i]=f.useState(s),c=e.component,u=e.getBoxRect(),d=o.getWorldRectToScreen(u),p=f.useRef(null),g=o.getElement().clientHeight;return Hm(p,{zoomMultiplier:o.getZoomMultiplier(),boxRectScreen:d,vwHeight:g,setPos:i,initialPos:s}),!c||c.get("badgable")===!1?null:l.jsx(Yn,{className:"gs-utl-pointer-events-none",ref:p,style:aS,position:a,out:!0,children:l.jsx(Ot,{className:N(n==null?void 0:n.className,"gs-utl-shadow-md",t||Ws(c).bg),style:n==null?void 0:n.style,s:"s",children:l.jsxs(I,{gap:"xs",items:"center",nowrap:!0,children:[(n==null?void 0:n.icon)!==!1&&Mp(c),l.jsx("div",{className:"gs-utl-whitespace-nowrap gs-utl-max-w-36 gs-utl-truncate",children:c.getName()})]})})})}function kV({spot:e,className:t,spotConfig:n}){const r=Rw(n),o=N(n==null?void 0:n.className,oe.b,Ws(e.component).border,t);return l.jsx(Sa,{spot:e,className:o,style:n==null?void 0:n.style,children:r&&l.jsx(Qw,{spot:e,badgeConfig:r})})}function Rw(e){const t=e==null?void 0:e.badge;return t===!1?!1:t===!0?{}:t||{}}const wu="gs-cmp-canvas-spot-slots",Vg=e=>{var a,i;const{appEditorStore:t,position:n,slots:r,className:o}=e,s=(i=(a=t.sdkCanvasConfig)==null?void 0:a.spotSlotsContainer)==null?void 0:i.call(a,{position:n,slots:r});return{...s,className:N(`${o} gs-utl-pointer-events-none`,s==null?void 0:s.className)}},$V=se(function(t){const n=ge(),{slots:r=[],cmpRect:o}=t,{topLeft:s,topCenter:a,topRight:i,bottomLeft:c,bottomCenter:u,bottomRight:d}=Ep,p={[s]:[],[a]:[],[i]:[],[c]:[],[u]:[],[d]:[]};r.forEach(x=>{if(!x)return;const{position:E}=x;E&&p[E]&&p[E].push(x)});const g=p[s],h=p[a],m=p[i],b=p[c],v=p[u],w=p[d],y=!!(g.length||h.length||m.length),C=!!(b.length||v.length||w.length),S={width:(o==null?void 0:o.width)||"100%"};return l.jsxs(l.Fragment,{children:[y&&l.jsxs(Yn,{position:a,style:S,out:!0,...Vg({appEditorStore:n,className:`${wu}__top gs-utl-justify-between`,position:"top",slots:[...g,...h,...m]}),children:[l.jsx(Ca,{slots:g,position:s,align:"start"}),l.jsx(Ca,{slots:h,position:a,align:"center"}),l.jsx(Ca,{slots:m,position:i,align:"end"})]}),C&&l.jsxs(Yn,{position:u,style:S,out:!0,...Vg({appEditorStore:n,className:`${wu}__bottom gs-utl-justify-between`,position:"bottom",slots:[...b,...v,...w]}),children:[l.jsx(Ca,{slots:b,position:c,align:"start"}),l.jsx(Ca,{slots:v,position:u,align:"center"}),l.jsx(Ca,{slots:w,position:d,align:"end"})]})]})}),Ca=se(function({slots:t,align:n,position:r}){var c;const o=ge(),{editor:s}=o,a=((c=s==null?void 0:s.Canvas.getCanvasView())==null?void 0:c.clsUnscale)||"",i=N(`${wu}__items ${wu}__items-${r} gs-utl-pointer-events-auto`,a);return l.jsx(I,{className:"gs-utl-w-full",justify:n,nowrap:!0,children:l.jsx(I,{className:i,gap:"s",items:"center",nowrap:!0,...Vg({appEditorStore:o,className:i,position:r,slots:t}),children:t.map((u,d)=>l.jsx(f.Fragment,{children:At(u.layout)},u.id||d))})})});function IV({spot:e,className:t,spotConfig:n}){const r=Tn(),o=ge(),s=f.useRef(null),[a]=f.useState(aS),[i,c]=f.useState([]),[u,d]=f.useState([]),[p,g]=f.useState("top-right"),h=e.component,m=e.getBoxRect(),{Canvas:b}=r,v=b.getWorldRectToScreen(m),w=e.getStyle({boxRect:m}),y=r.getSelected()===h,C=b.getElement().clientHeight,S=yp();f.useEffect(()=>{const H=async()=>d(await jV(h,o)),L=async()=>c(await S.getItemsForComponent(h)),W=setTimeout(()=>{H(),L()},10);return()=>clearTimeout(W)},[h]),Hm(s,{zoomMultiplier:b.getZoomMultiplier(),boxRectScreen:v,vwHeight:C,setPos:g});const x=(H={})=>{var D,V,U;const L=(U=(V=(D=r.getSelected())==null?void 0:D.view)==null?void 0:V.el)==null?void 0:U.getBoundingClientRect(),F=L?L.left+L.width/2:0,W=L?L.top+L.height/2:0,z={...H.event,clientX:F,clientY:W};return{...H,event:z}},E=(H,L)=>{H==="tlb-move"&&(L=x(L)),et(H)?r.runCommand(H,L):H==null||H(r,"",L)},T=H=>{const L=H.currentTarget.getBoundingClientRect();S.show({items:i,x:L.x+L.width,y:L.y})},_=Ws(h),O=eS(n),P=N(n==null?void 0:n.className,"gs-utl-border-2",_.border,t),M=N(O&&O.className,_.bg,"gs-utl-shadow-md"),A=VV(n),k=O!==!1;return l.jsxs(Sa,{spot:e,spotStyles:w,style:n==null?void 0:n.style,className:P,children:[y&&k&&l.jsx(Yn,{ref:s,style:a,position:p,out:!0,children:l.jsx(Ot,{className:M,style:O==null?void 0:O.style,s:"s",nopad:!0,block:!0,children:l.jsxs(I,{gap:"x2s",items:"center",nowrap:!0,children:[A&&l.jsxs(I,{className:N(A.className,"gs-utl-py-1 gs-utl-px-2"),style:A.style,gap:"xs",items:"center",nowrap:!0,children:[A.icon!==!1&&Mp(h),l.jsx("div",{className:N(Le.txtEllips,"gs-utl-max-w-36"),children:h.getName()})]}),u.map(({label:H,command:L="",tooltip:F})=>l.jsx(j,{children:l.jsx(bt,{border:!1,rounded:!1,size:"s",onMouseDown:W=>E(L,{event:W}),tooltipProps:{title:F,strategy:"absolute"},className:N("gs-utl-block gs-utl-py-1.5 gs-utl-px-1.5",B.hBgDark),children:H!=null&&H.startsWith("<svg")?l.jsx(fd,{className:"gs-utl-w-4 gs-utl-fill-current",svg:H}):H})},H)),!!i.length&&l.jsx(j,{children:l.jsx(Be,{border:!1,rounded:!1,size:"s",className:N("gs-utl-block",B.hBgDark),onClick:T,children:l.jsx(re,{icon:K.dotsVertical,size:ie.s})})})]})})}),(n==null?void 0:n.slots)&&l.jsx($V,{slots:n.slots,cmpRect:v})]})}function eS(e){return e&&e.toolbar}function VV(e){const t=eS(e),n=t&&t.badge;return n===!0?{}:n||!1}async function jV(e,t){var d;if(!(e!=null&&e.em))return[];const n=e.em.getEditor(),r=e.toolbar.filter(Boolean),o=e.get("toolbarItems"),s=await jg(o,{items:r,component:e,editor:n}),a={items:s,component:e,editor:n},i=await jg(s,a),c=(d=t.sdkComponentsConfig)==null?void 0:d.toolbar;return await jg(c,{...a,items:i})}const jg=async(e,t)=>Xe(e)?(await e(t)).filter(Boolean):t.items;var lr=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(lr||{});const{PaddingTop:Su,PaddingRight:Hg,PaddingBottom:Cu,PaddingLeft:Dg,MarginTop:xu,MarginRight:Fg,MarginBottom:Eu,MarginLeft:Bg}=lr,HV=(e,t)=>{const n=t!=null&&t.startsWith("p")?"padding":"margin";return OA(e,n,t)},Bo=(e,t,n={})=>{const r=Tn(),o=yb(),[s,a]=f.useState(),i=d=>{const g=r.Canvas.getFramesEl().classList,h=d?"add":"remove";g[h]("gs-utl-pointer-events-none"),g[h]("gs-utl-select-none")},c=d=>{var p,g;(p=n.setAltKey)==null||p.call(n,d.altKey),(g=n.setShiftKey)==null||g.call(n,d.shiftKey)};return f.useEffect(()=>{var M;const d=[Su,Cu,xu,Eu].includes(t),p=document.body.classList,g=e.component.getEl(),h=r.Styles.getSelected(),m=window.getComputedStyle(g),b=d?"!cursor-ns-resize":"!cursor-ew-resize",v=r.Canvas.getZoomMultiplier(),w={};let y=parseFloat(m[t])??0,C,S="",x={};for(const A of Object.values(lr)){const k=A;w[k]=m[k]}const E=(A,k)=>{const H=t==null?void 0:t.startsWith("p"),{altKey:L,shiftKey:F}=k,W=w,z={[Su]:F||t===Cu&&L?A:W[Su],[Hg]:F||t===Dg&&L?A:W[Hg],[Cu]:F||t===Su&&L?A:W[Cu],[Dg]:F||t===Hg&&L?A:W[Dg]},$={[xu]:F||t===Eu&&L?A:W[xu],[Fg]:F||t===Bg&&L?A:W[Fg],[Eu]:F||t===xu&&L?A:W[Eu],[Bg]:F||t===Fg&&L?A:W[Bg]};return z[t]=A,$[t]=A,H?z:$},T=A=>{S&&(C?C.upValue(S,A):h==null||h.addStyle(x,A))},_=A=>{if(!s||!h)return;const k=d?A.clientY-s.y:A.clientX-s.x,H=Math.max(0,parseInt(`${y+k*v}`));S=`${H}px`,x=E(S,A),T({partial:!0}),o.show(H)},O=()=>{!s||!h||(a(void 0),i(!1),o.hide(),T())},P=A=>{c(A),x=E(S,A),T({partial:!0})};return s&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",O),document.addEventListener("keydown",P),document.addEventListener("keyup",P),p.add(b),(M=n.onActive)==null||M.call(n,t),n.useStyleProperty&&(C=HV(r,t),y=(C==null?void 0:C.getValue())??y)),()=>{var A;document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",O),document.removeEventListener("keydown",P),document.removeEventListener("keyup",P),p.remove(b),(A=n.onActive)==null||A.call(n,void 0)}},[s]),[f.useCallback(d=>{if(d.button!==0)return;const{clientX:p,clientY:g}=d;a({x:p,y:g}),i(!0),c(d.nativeEvent)},[]),!!s]},Pu="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",tS="gs-utl-bg-[#7fc65e]",nS="gs-utl-bg-[#ebae70]",rS="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",oS="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",DV=f.memo(function({spot:t,disabledHandler:n,useStyleProperty:r,onActive:o}){const[s,a]=f.useState(!1),[i,c]=f.useState(!1),u={onActive:o,setAltKey:a,setShiftKey:c,useStyleProperty:r},[d,p]=Bo(t,"padding-top",u),[g,h]=Bo(t,"padding-right",u),[m,b]=Bo(t,"padding-bottom",u),[v,w]=Bo(t,"padding-left",u),[y,C]=Bo(t,"margin-top",u),[S,x]=Bo(t,"margin-right",u),[E,T]=Bo(t,"margin-bottom",u),[_,O]=Bo(t,"margin-left",u),P=J(Pu,tS,rS),M=J(Pu,tS,oS),A=J(Pu,nS,rS),k=J(Pu,nS,oS),H=p||h||b||w,L=C||x||T||O,F=H||L,W=(q,X)=>{let ae=!1;const ue=H&&i,we=L&&i;switch(X){case"padding-top":ae=b&&s||ue;break;case"padding-right":ae=w&&s||ue;break;case"padding-bottom":ae=p&&s||ue;break;case"padding-left":ae=h&&s||ue;break;case"margin-top":ae=T&&s||we;break;case"margin-right":ae=O&&s||we;break;case"margin-bottom":ae=C&&s||we;break;case"margin-left":ae=x&&s||we;break}return!F||q||ae},z=!!(n!=null&&n.padding),$=!!(n!=null&&n.margin),D=!z&&W(p,"padding-top"),V=!z&&W(h,"padding-right"),U=!z&&W(b,"padding-bottom"),Q=!z&&W(w,"padding-left"),Z=!$&&W(C,"margin-top"),R=!$&&W(x,"margin-right"),ne=!$&&W(T,"margin-bottom"),ee=!$&&W(O,"margin-left");return l.jsxs(l.Fragment,{children:[D&&l.jsx(Yn,{position:"top-center",onPointerDown:d,children:l.jsx(Ot,{className:M,s:"s",pill:!0,block:!0,nopad:!0})}),V&&l.jsx(Yn,{position:"center-right",onPointerDown:g,children:l.jsx(Ot,{className:P,s:"s",pill:!0,block:!0,nopad:!0})}),U&&l.jsx(Yn,{position:"bottom-center",onPointerDown:m,children:l.jsx(Ot,{className:M,s:"s",pill:!0,block:!0,nopad:!0})}),Q&&l.jsx(Yn,{position:"center-left",onPointerDown:v,children:l.jsx(Ot,{className:P,s:"s",pill:!0,block:!0,nopad:!0})}),Z&&l.jsx(Yn,{position:"top-center",onPointerDown:y,out:!0,children:l.jsx(Ot,{className:k,s:"s",pill:!0,block:!0,nopad:!0})}),R&&l.jsx(Yn,{position:"center-right",onPointerDown:S,out:!0,children:l.jsx(Ot,{className:A,s:"s",pill:!0,block:!0,nopad:!0})}),ne&&l.jsx(Yn,{position:"bottom-center",onPointerDown:E,out:!0,children:l.jsx(Ot,{className:k,s:"s",pill:!0,block:!0,nopad:!0})}),ee&&l.jsx(Yn,{position:"center-left",onPointerDown:_,out:!0,children:l.jsx(Ot,{className:A,s:"s",pill:!0,block:!0,nopad:!0})})]})}),sS=(e,t)=>{var n;return!!((n=hb(e,t))!=null&&n.isVisible())},FV=(e={})=>{const[t,n,r,o]=Zb(e.padding||""),[s,a,i,c]=Zb(e.margin||"");return{paddingTop:e[lr.PaddingTop]||t,paddingRight:e[lr.PaddingRight]||n,paddingBottom:e[lr.PaddingBottom]||r,paddingLeft:e[lr.PaddingLeft]||o,marginTop:e[lr.MarginTop]||s,marginRight:e[lr.MarginTop]||a,marginBottom:e[lr.MarginTop]||i,marginLeft:e[lr.MarginTop]||c}};function BV({spot:e,className:t}){const n=Tn(),{isProjectTypeEmail:r}=ge(),[o,s]=f.useState(),[a,i]=f.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),p=n.Canvas.getZoomDecimal(),g=d.height*p,h=d.width*p,m=e.getStyle({boxRect:d}),b=n.getSelectedAll().includes(u),v=n.getSelected()===u,w=(o==null?void 0:o.startsWith("p"))??!1,y=(o==null?void 0:o.startsWith("m"))??!1,C=FV(r?u==null?void 0:u.getStyle():{});if(f.useEffect(()=>{b&&i({padding:!sS(n,"padding"),margin:!sS(n,"margin")})},[b]),e.type==="spacing"&&b)return null;const S={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},x={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},E=window.getComputedStyle(c);S.borderTopWidth=C.paddingTop||E.paddingTop,S.borderRightWidth=C.paddingRight||E.paddingRight,S.borderBottomWidth=C.paddingBottom||E.paddingBottom,S.borderLeftWidth=C.paddingLeft||E.paddingLeft,x.borderTopWidth=C.marginTop||E.marginTop,x.borderRightWidth=C.marginTop||E.marginRight,x.borderBottomWidth=C.marginTop||E.marginBottom,x.borderLeftWidth=C.marginTop||E.marginLeft;const T={...m,...S},_={...m,...x,translate:`${d.x-parseFloat(E.marginLeft)}px ${d.y-parseFloat(E.marginTop)}px`};return l.jsxs(l.Fragment,{children:[(!b||w)&&l.jsx(Sa,{spot:e,spotStyles:T,className:J(t)}),(!b||y)&&l.jsx(Sa,{spot:e,spotStyles:_,className:J(t)}),v&&(g>60&&h>60||o)&&l.jsx(Sa,{spot:e,spotStyles:m,className:J(t),children:l.jsx(DV,{spot:e,onActive:s,disabledHandler:a,useStyleProperty:r})})]})}function zV({spot:e,className:t,spotConfig:n}){const r=Rw(n),o=N(n==null?void 0:n.className,"gs-utl-border-2",B.cmpTargetBr,B.cmpTargetBgOpac,t);return l.jsx(Sa,{spot:e,className:o,style:n==null?void 0:n.style,children:r&&l.jsx(Qw,{spot:e,className:B.cmpTargetBg,badgeConfig:r})})}async function UV(e,t){var p;const n=e.component,r=n==null?void 0:n.em.getEditor();if(!n||!r)return{};const o={},s=Ws(n),a={editor:r,component:n,spot:e,componentTheme:s,result:o},i=n.get("canvasSpots"),c=await(i==null?void 0:i(a))||o,u=(p=t.sdkCanvasConfig)==null?void 0:p.canvasSpots;return await(u==null?void 0:u({...a,result:c}))||c}const aS={padding:"9px 0"},iS="dragAbsolute";function WV({spot:e}){const t=Tn(),[n,r]=f.useState(),{Canvas:o}=t,s=ge(),a=t.getEditing(),{type:i,component:c}=e,u=i==="select",d=i==="spacing",p=i==="hover",g=i==="target",h=i===iS,m=[iS];return f.useEffect(()=>{const b="change:editing",v=`${t.Components.events.update}:status ${b}`,w=async()=>r(await UV(e,s)),y=setTimeout(w);return t.on(v,w),()=>{clearTimeout(y),t.off(v,w)}},[c]),!n||!e.el||s.isInPreview||!o.hasCustomSpot(i)&&!m.includes(i)||s.isSelectingTarget&&!g||(p||d)&&a&&(c!=null&&c.isChildOf(a))?null:l.jsxs(l.Fragment,{children:[(d||u)&&n.spacing!==!1&&l.jsx(BV,{spot:e,className:"gs-utl-z-0"}),g&&n.target!==!1&&l.jsx(zV,{spot:e,spotConfig:n.target,className:"gs-utl-z-10"}),u&&n.select!==!1&&l.jsx(IV,{spot:e,spotConfig:n.select,className:"gs-utl-z-20"}),p&&n.hover!==!1&&l.jsx(kV,{spot:e,spotConfig:n.hover,className:"gs-utl-z-30"}),h&&l.jsx(MV,{spot:e,className:"gs-utl-z-40"})]})}const lS=new WeakMap;function cS(e){if(!e)return()=>null;const t=lS.get(e);if(t)return t;const n=function({children:o}){return mn.createPortal(o,e)};return lS.set(e,n),n}const GV=f.memo(function({children:t}){const n=Qp(),[r,o]=f.useState([]),[s,a]=f.useState({});f.useEffect(()=>{if(!n)return;n.onReady(()=>{const d=n.Canvas.getSpotsEl(),p=cS(d);a({Container:p})});const c="canvas:spot",u=()=>{const d=n.Canvas.getSpots();o(d)};return n.on(c,u),()=>{n.off(c,u)}},[n]);const{Container:i}=s;return n&&i?l.jsx(i,{children:t({spots:r})}):null}),KV=se(function(){const{isCanvasPanning:t}=ge();return l.jsx(GV,{children:({spots:n})=>l.jsx(yr,{show:!t,...S1,children:n.map(r=>l.jsx(WV,{spot:r},r.id))})})}),Cs="gs-layout-panel",qV=f.memo(se(function({className:t,layout:n,children:r}){const o=kp(),s=Pr(),[a,i]=f.useState(!1),[c,u]=f.useState(null),{id:d,header:p,layout:g,props:h,full:m=!0,style:b,toRemove:v,disablePropagation:w}=n,y=()=>{i(!1),setTimeout(()=>o.remove(d,{force:!0}),150)},C=n.placer||{type:as.absolute,position:Po.left},S=C.type===as.absolute?C:null,x=C.type===as.popover?C:null,E=C.type===as.static?C:null,T=C.type===as.dialog?C:null,_=(S==null?void 0:S.position)===Po.left,O=(S==null?void 0:S.position)===Po.right,P=(S==null?void 0:S.position)===Po.top,M=(S==null?void 0:S.position)===Po.bottom,A=(S==null?void 0:S.position)===Po.center,k=(S==null?void 0:S.resizable)||(E==null?void 0:E.resizable),H=E||T,L=et(g)?{type:g}:g,F=!!S,{x:W,y:z}=x||{},$=(x==null?void 0:x.w)||(x==null?void 0:x.width),D=(x==null?void 0:x.h)||(x==null?void 0:x.height),V=x==null?void 0:x.target,U=f.useMemo(()=>V&&a?V:{getBoundingClientRect:()=>V?V.getBoundingClientRect():new DOMRect(W,z,$,D)},[W,z,$,D,V,a]),Q=na(U,c,{...Ym,placement:"auto",...x==null?void 0:x.options}),Z=N(Cs,B.br,B.bg,B.txt,"gs-utl-z-10",F&&"gs-utl-absolute gs-utl-transition",(_||P)&&"gs-utl-top-0 gs-utl-left-0",O&&"gs-utl-top-0 gs-utl-right-0",M&&"gs-utl-bottom-0 gs-utl-left-0",A&&"gs-utl-scale-100 gs-utl-inset-0",F&&m&&(_||O?"gs-utl-h-full":"gs-utl-w-full"),!a&&F?"gs-utl-opacity-0":"gs-utl-opacity-100",!a&&_&&"-gs-utl-translate-x-full",!a&&O&&"gs-utl-translate-x-full",!a&&P&&"-gs-utl-translate-y-full",!a&&M&&"gs-utl-translate-y-full",!a&&A&&"gs-utl-scale-75",x&&oe.rnd,x&&oe.b,n.className,t);f.useEffect(()=>{const X=setTimeout(()=>i(!0));return()=>clearTimeout(X)},[]),f.useEffect(()=>{v&&y()},[v]);const R={...b,width:(b==null?void 0:b.width)||(_||O?240:void 0)};jm({current:c},{onTrigger:y,enabled:(x==null?void 0:x.closeOnClickAway)&&a});const ne=X=>{w&&X.nativeEvent.stopImmediatePropagation()},ee=l.jsxs(l.Fragment,{children:[p!==!1&&l.jsx(j,{className:N(`${Cs}__header`,p==null?void 0:p.className),style:p==null?void 0:p.style,children:l.jsx($g,{onClose:(p==null?void 0:p.close)!==!1?y:void 0,className:J(Me.s),title:l.jsxs(I,{className:`${Cs}__title`,space:"s",items:"center",children:[!!(p!=null&&p.icon)&&l.jsx(re,{icon:p.icon,size:ie.s}),!!(p!=null&&p.label)&&l.jsx(j,{grow:!0,children:p.label})]})})}),l.jsx(j,{className:N(`${Cs}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:g||d?At({...h,id:d,...L}):r})]}),q=l.jsx(I,{className:Z,style:R,col:!0,nowrap:!0,onPointerDown:ne,onMouseDown:ne,children:k?l.jsx(Zi,{...k,className:N(`${Cs}__resizable`,k.className),children:ee}):ee});return f.useEffect(()=>{if(a){if(E){const X=o.layoutsById.get(E.layoutId);if(X)return X.setState({children:q}),()=>{!n.placer.skipCleanup&&X.setState({children:null})}}else if(T)return s.open({content:()=>q,disablePropagation:w,title:T.title,size:T.size,onClose:y}),()=>{s.close()}}},[a]),H?null:x?l.jsx("div",{className:J(Cs,`${Cs}-popover`,"gs-utl-z-20"),ref:u,style:Q.styles.popper,...Q.attributes.popper,children:l.jsx(yr,{show:a,...Da,unmount:!1,children:q})}):q})),YV=se(function({className:t,...n}){const{layouts:r}=kp();return l.jsx("div",{className:N("gs-layout-panel-container",t),...n,children:r.map(o=>l.jsx(qV,{layout:o},o.id))})}),oo="gs-cmp-modal";function uS({open:e=!1,title:t,disablePropagation:n,isDarkTheme:r,description:o,children:s,onClose:a,preventOverflow:i,closable:c=!0,fullH:u,buttons:d=[],size:p}){const g=()=>c&&a(),h=N(Rh,`${oo} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,r&&Hp),m=N(`${oo}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,u?"gs-utl-items-stretch gs-utl-h-full":"gs-utl-items-center",i&&"gs-utl-h-dvh"),b=N(`${oo}-container`,"gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",oe.b,B.br,B.bg,B.txt,p==="lg"?"gs-utl-max-w-lg":p==="l"?"gs-utl-max-w-5xl":p==="s"?"gs-utl-max-w-sm":"gs-utl-max-w-md"),v=N(`${oo}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`),w=N(`${oo}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`),y=N(`${oo}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`),C=N(`${oo}-desc gs-utl-m-0`),S=N(`${oo}-content gs-utl-mt-4 gs-utl-h-full gs-utl-min-h-0`,i&&"gs-utl-overflow-hidden"),x=N(`${oo}-buttons gs-utl-mt-4`),E=T=>{n&&T.nativeEvent.stopImmediatePropagation()};return l.jsx(yr,{show:e,as:f.Fragment,children:l.jsx(Za,{onClose:g,className:h,onPointerDown:E,onMouseDown:E,children:l.jsxs("div",{className:m,children:[l.jsx(yr.Child,{as:f.Fragment,...Da,children:l.jsx(Za.Overlay,{className:v})}),l.jsx(yr.Child,{as:f.Fragment,...hd,children:l.jsxs("div",{className:b,children:[c&&l.jsx("div",{className:w,children:l.jsx(bt,{block:!0,border:!1,onClick:g,children:l.jsx(re,{icon:K.close,size:1})})}),l.jsx(Za.Title,{as:"h3",className:y,children:t}),l.jsx(Za.Description,{className:C,children:o}),l.jsx("div",{className:S,children:s}),d.length>0&&l.jsx(I,{className:x,space:"m",items:"center",justify:"end",children:d.map((T,_)=>l.jsx(Be,{...T},_))})]})}),l.jsx(Za,{onClose:()=>{},open:!1})]})})})}const ZV=se(function(){const{isOpen:t,close:n,content:r,modalProps:o}=Pr(),{isDarkTheme:s}=dn();return l.jsx(uS,{open:t,onClose:n,isDarkTheme:s,...o,children:Xe(r)?r():r})}),XV="gs-panel-page-settings-cnt",JV=se(function(){const t=Ce(),n=ge(),{panelPageSettings:r}=n,o=t.tScoped("pageManager.settings"),{isOpen:s,page:a,width:i}=r,c=G(XV,"absolute left-0 top-0 h-full transition-transform z-10",!s&&"-translate-x-full",oe.br,B.br,B.bg),u=G(Me.s),d=()=>n.setPanelPageSettings({isOpen:!1});return l.jsxs(I,{className:c,style:{width:i},col:!0,nowrap:!0,children:[l.jsx(j,{children:l.jsx($g,{title:o("title"),onClose:d,className:u})}),l.jsx(fs,{children:l.jsx(j,{className:G("overflow-hidden"),grow:!0,children:r.isOpen&&l.jsx(cw,{page:a,size:Xl.s,classNameHeader:u,classNameContent:u,classNameFooter:u})})})]})}),dS="gs-cmp-custom-rte",QV=se(function({items:t}){const n=r=>r.nativeEvent.stopImmediatePropagation();return l.jsx(ln,{className:N(dS,"gs-utl-m-2"),size:"s",onPointerDown:n,onMouseDown:n,classNameBody:N(`${dS}__body`,"gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),children:At(t)})});function RV({children:e}){const t=Qp(),[n,r]=f.useState({enabled:!1,actions:[],Container:()=>null});f.useEffect(()=>{if(!t)return;const c=t.RichTextEditor,u=c.events.custom,d=p=>{let g;const h=c.customRte,m=h==null?void 0:h.toolbar,b=c.model.attributes.currentView;m&&(b!=null&&b.model)&&(g=m({editor:t,view:b,component:b.model,el:b.getChildrenContainer()}));const v=c.getAll().map(w=>({id:w.name,icon:w.icon,run:()=>c.run(w),state:w.currentState}));r({customRte:h,customToolbar:g,enabled:p.enabled,Container:cS(p.container),actions:v})};return t.on(u,d),()=>{t.off(u,d)}},[t]);const{Container:o,customToolbar:s,customRte:a}=n,i=s?l.jsx(QV,{items:s}):null;return t&&o?l.jsx(o,{children:a?i:e(n)}):null}function ej(){return l.jsx(RV,{children:({actions:e})=>l.jsx(I,{className:G(B.bg,oe.b,oe.rnd,B.br,"gjs-m-2"),nowrap:!0,children:e.map((t,n)=>l.jsx(Be,{border:!1,rounded:!1,active:t.state===1,disabled:t.state===-1,className:G("w-6",B.br,n!==0&&oe.bl),dangerouslySetInnerHTML:{__html:t.icon},onClick:t.run},t.id))})})}const tj=se(e=>{const{select:t,close:n,Container:r,open:o}=e,s=ls(),{editor:a}=ge();if(!a||!o)return l.jsx(r,{children:null});const{providers:i,onSelect:c,typeId:u,providerId:d,types:p,optionalType:g,optionalProvider:h,projectAssetsOption:m,content:b}=a.Assets.__customData().options;return l.jsx(r,{children:l.jsx(By,{panelId:s.mainPanelId,onSelect:c??(({asset:v})=>t(v)),close:n,types:p,providers:i,typeId:u,providerId:d,optionalType:g,optionalProvider:m??h,content:b})})}),nj=se(function(){var w,y;const t=ge(),n=ls(),{projectType:r,editorKey:o,setEditor:s,sdkProps:a,sdkOptions:i,currentLayout:c}=t,{isDarkTheme:u}=dn(),d=!!((y=(w=i.gjsOptions)==null?void 0:w.assetManager)!=null&&y.custom),p=Qf(),[g,h]=f.useMemo(()=>[h8(r,i),p.getPluginsToLoad(r,t)],[r,o]),m=C=>{var S,x;s(C),n.onEditor(),(S=a.onEditor)==null||S.call(a,C),(x=i.onEditor)==null||x.call(i,C),C.on("destroy",()=>{var E;s(),(E=i.onDestroy)==null||E.call(i,C),t.setIsReady(!1)})},b=C=>{var S,x;(S=a.onReady)==null||S.call(a,C),(x=i.onReady)==null||x.call(i,C),t.setIsReady(!0)},v=(C,S)=>{var x,E;(x=a.onUpdate)==null||x.call(a,C,S),(E=i.onUpdate)==null||E.call(i,C,S)};return l.jsxs(zL,{className:G("gs-editor-gjs h-full w-full",oe.b,B.br),grapesjs:i.gjsScript,grapesjsCss:i.gjsStyle,options:g,plugins:h,onEditor:m,onReady:b,onUpdate:v,children:[At(c),l.jsx(YV,{}),l.jsx(AV,{}),l.jsx(JV,{}),!d&&l.jsx($L,{children:C=>l.jsx(tj,{...C})}),l.jsx(UL,{children:({open:C,title:S,close:x,content:E})=>l.jsx(uS,{open:C,onClose:x,title:l.jsx(l.Fragment,{children:S}),isDarkTheme:u,size:"l",children:l.jsx(l.Fragment,{children:E})})}),l.jsx(KV,{}),l.jsx(ej,{}),l.jsx(ZV,{})]},o)}),rj=se(function(){const t=ge(),{updateAppShell:n}=dn(),{editor:r,editorKey:o,sdkLicenseError:s,sdkMisconfigurationError:a,isReady:i,licenseCheckStarted:c,rootElWidth:u}=t,d=Pr(),p=Ce(),g=Qf();Pb();const h=!!o&&!!u;return f.useEffect(()=>{n&&document.querySelector("body").classList.add(...J(B.bg,"overflow-hidden").split(" "))},[]),f.useEffect(()=>{if(i&&!c&&!Qu()){const m=setTimeout(()=>t.loadLicense(),100);return()=>clearTimeout(m)}},[i,c]),f.useEffect(()=>{a&&console.error(a)},[a]),f.useEffect(()=>{if(!r)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async v=>{if(!v.files.length)return;const C=await(await v.files[0].getFile()).text();t.loadProjectData(JSON.parse(C))});const{plg:m}=t.queryParams;m&&!g.selectedShown&&d.open({fullH:!0,title:p.t("pluginManager.plugins"),content:()=>l.jsx(Xw,{selectedId:m})});const b=Zr(()=>t.refreshEditorCanvas(),100);return window.addEventListener("scroll",b,!0),()=>window.removeEventListener("scroll",b,!0)},[r]),f.useEffect(()=>{},[]),l.jsxs(I,{className:J("relative transition-colors h-full",B.bg,B.txt),justify:"center",items:"center",col:!0,children:[h&&(s?l.jsxs(I,{col:!0,justify:"center",items:"center",children:[l.jsx("div",{children:"SDK License Error"}),l.jsx("span",{className:J("text-sm"),children:s})]}):a?l.jsx(I,{col:!0,justify:"center",items:"center",children:l.jsx("div",{children:"SDK Misconfiguration Error"})}):l.jsx(nj,{})),l.jsx(yr,{show:!h,as:f.Fragment,...Da,children:l.jsx(zi,{className:J("z-10",B.bg),abs:!0})})]})});function oj({projectType:e,project:t}){const n=sj({projectType:e}),r={type:e,default:{pages:[n]}};return t?(t.type=t.type??r.type,t.default=t.default??r.default,t):r}function sj({projectType:e}){const t={name:"Web",component:aj},n={name:"Email",component:ij};switch(e){case Pe.web:return t;case Pe.email:return n;default:return t}}const Tu="https://app.grapesjs.com/docs-sdk/configuration/projects#self-hosted-storage",Ou="https://app.grapesjs.com/docs-sdk/configuration/projects#setup",pS="https://app.grapesjs.com/docs-sdk/img/grapesjs-logo-black.svg",aj=`<body>
    <header class="head">
      <img class="logo" src="${pS}" alt="GrapesJS Logo">
    </header>
    <div class="card">
        <h1 class="title">Welcome to GrapesJS Studio SDK!</h1>
        <p class="subtitle">You're currently viewing the default fallback project for web.</p>

        <p class="paragraph">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a class="link" href="${Tu}" target="_blank">${Tu}</a>
        </p>

        <p class="paragraph">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a class="link" href="${Ou}" target="_blank">${Ou}</a>
        </p>

        <footer class="footer">Happy building! </footer>
    </div>
    <style>
      body {
        background-color: #e7e7e7;
        font-family: Arial, sans-serif;
      }
      .head {
        padding: 50px 50px 35px;
      }
      .logo {
        max-width: 250px;
        display: block;
        margin: 0 auto;
      }
      .card {
        max-width: 600px;
        padding: 40px 45px;
        background-color: white;
        border-radius: 15px;
        margin: 0 auto;
        color: #333333;
        font-size: 16px;
      }
      .title {
        color: #af4e8a;
        font-size: 24px;
        font-weight: bold;
        margin: 0;
        text-align: center;
      }
      .subtitle {
        text-align: center;
        margin: 0;
        padding: 25px 0;
      }
      .paragraph {
        line-height: 1.5;
        margin-bottom: 40px;
      }
      .link {
        color:#af4e8a;
        text-decoration:none;
        font-size:13px;
      }
      .footer {
        margin-top: 30px;
        text-align: center;
      }
  </style>
</body>`,ij=`<mjml>
  <mj-body background-color="#E7E7E7">
    <mj-section full-width="full-width" padding="50px 50px 35px 50px">
      <mj-column width="100%">
        <mj-image src="${pS}" width="250px" padding="0px" />
      </mj-column>
    </mj-section>
    <mj-section padding="0px">
      <mj-column background-color="white" border-radius="15px" padding="40px 20px">
        <mj-text color="#af4e8a" font-size="24px" font-weight="bold" align="center">
          Welcome to GrapesJS Studio SDK!
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" align="center" padding="10px 25px 25px 25px">
          You're currently viewing the default fallback project for emails.
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5" padding="10px 25px 30px 25px">
          This appears because no storage has been configured yet. To set up your own storage, follow the guide here:
          <br/>
           <a href="${Tu}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Tu}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" line-height="1.5">
          Want to customize the fallback project? You can do so by setting options.project.default. Learn more here:
          <br/>
           <a id="iu9rf-2" href="${Ou}" style="color:#af4e8a;text-decoration:none;font-size:13px;">
            ${Ou}
          </a>
        </mj-text>
        <mj-text font-size="16px" color="#333333" align="center" padding="30px 25px 10px 25px">Happy building! 
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>`,zg={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},lj=f.forwardRef(function(t,n){var d;const{options:r=zg}=t,o={theme:r.theme},s=r.localStorage,a=s?zb(s,o):o,i=(a==null?void 0:a.lastProjectType)||((d=r.project)==null?void 0:d.type)||Pe.web,c=oj({projectType:i,project:r.project}),u={localSettingsStore:{...a,key:s,updateAppShell:r.updateAppShell,rootEl:r.root},appEditorStore:{isDev:TV,isStage:!!r.stg,licenseKey:r.licenseKey,projectType:i,sdkProps:{...t,options:{...zg,gjsScript:EV,gjsStyle:PV,...r,project:c}}}};return l.jsx(w8,{initialState:u,children:l.jsx(I8,{ref:n,children:l.jsx(rj,{})})})}),xj="",Ej="",Pj="",fS=lj;Te.AssetStorageType=Rl,Te.AssetType=Eo,Te.BlockManagerAfter=pg,Te.BlockManagerBefore=fg,Te.BuiltInActionButtons=Bn,Te.CanvasSpotSlotPosition=Ep,Te.ComponentContextMenuItem=Yr,Te.ComponentContextMenuSource=Yl,Te.DataComponentTypes=kt,Te.DesignManagerTab=_w,Te.GlobalStyleFieldType=Jm,Te.IconNames=K,Te.LayerManagerAfter=hg,Te.LayerManagerBefore=mg,Te.LayersProvider=Rp,Te.LayoutPlacers=as,Te.LayoutPosition=Po,Te.PageManagerAfter=yg,Te.PageManagerBefore=wg,Te.PagesProvider=ef,Te.ProjectStorageType=ec,Te.ProjectType=Pe,Te.SelectorsProvider=tf,Te.StudioCanvasSpotType=Xm,Te.StudioCommands=ce,Te.StudioCustomLayout=ac,Te.StudioEditor=fS,Te.StudioEvents=on,Te.ThemeValue=zn,Te.ToastVariant=Kt,Te.default=fS,Te.useEditor=Tn,Object.defineProperties(Te,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
