export function validateToolDefinition(tool, filePath) {
  const errors = [];
  if (!tool.handler) {
    errors.push({
      file: filePath,
      message: "Tool definition is missing a handler function",
      suggestion: "Add a handler function: handler: async (args) => { ... }"
    });
  }
  if (tool.inputSchema && typeof tool.inputSchema !== "object") {
    errors.push({
      file: filePath,
      message: "Tool inputSchema must be an object with Zod schemas",
      suggestion: "Use an object with Zod schemas: inputSchema: { param: z.string() }"
    });
  } else if (tool.inputSchema) {
    const schema = tool.inputSchema;
    for (const [key, value] of Object.entries(schema)) {
      if (!value || typeof value !== "object") {
        errors.push({
          file: filePath,
          message: `inputSchema property "${key}" is not a valid Zod schema`,
          suggestion: `Use a Zod schema: ${key}: z.string() or z.number(), etc.`
        });
      }
    }
  }
  if (tool.handler && typeof tool.handler !== "function") {
    errors.push({
      file: filePath,
      message: "Tool handler must be a function",
      suggestion: "Ensure handler is defined as: handler: async (args) => { ... }"
    });
  }
  return errors;
}
export function validateToolDefinitions(tools, filePaths) {
  const errors = [];
  for (let i = 0; i < tools.length; i++) {
    const tool = tools[i];
    if (!tool) continue;
    const filePath = filePaths?.[i];
    const toolErrors = validateToolDefinition(tool, filePath);
    errors.push(...toolErrors);
  }
  return errors;
}
