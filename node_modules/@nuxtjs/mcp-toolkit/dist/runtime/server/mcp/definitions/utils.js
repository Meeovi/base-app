import { kebabCase, titleCase } from "scule";
export function enrichNameTitle(options) {
  const { name, title, _meta, type } = options;
  const filename = _meta?.filename;
  let enrichedName = name;
  let enrichedTitle = title;
  if (filename) {
    const nameWithoutExt = filename.replace(/\.(ts|js|mts|mjs)$/, "");
    if (!enrichedName) {
      enrichedName = kebabCase(nameWithoutExt);
    }
    if (!enrichedTitle) {
      enrichedTitle = titleCase(nameWithoutExt);
    }
  }
  if (!enrichedName) {
    throw new Error(`Failed to auto-generate ${type} name from filename. Please provide a name explicitly.`);
  }
  return {
    name: enrichedName,
    title: enrichedTitle
  };
}
