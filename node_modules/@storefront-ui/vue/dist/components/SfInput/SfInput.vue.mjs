import { defineComponent as h, toRefs as v, ref as b, computed as x, openBlock as y, createBlock as S, resolveDynamicComponent as V, normalizeClass as C, unref as t, withCtx as z, renderSlot as o, withDirectives as T, createElementVNode as B, mergeProps as D, vModelDynamic as I } from "vue";
import { useTwMergeRoot as M, twMerge as u } from "../../composables/useTwMergeRoot/useTwMergeRoot.mjs";
import { useFocusVisible as $ } from "../../composables/useFocusVisible/useFocusVisible.mjs";
import { SfInputSize as a } from "@storefront-ui/shared";
const j = {
  [a.sm]: " h-[32px]",
  [a.base]: "h-[40px]",
  [a.lg]: "h-[48px]"
}, R = /* @__PURE__ */ h({
  inheritAttrs: !1,
  __name: "SfInput",
  props: {
    modelValue: {
      type: [String, Number],
      default: ""
    },
    wrapperTag: {
      type: [String, Object],
      default: "span"
    },
    size: {
      type: String,
      default: a.base
    },
    invalid: {
      type: Boolean,
      default: !1
    },
    wrapperClass: {
      type: [String, Object],
      default: ""
    }
  },
  emits: ["update:modelValue"],
  setup(i, { emit: p }) {
    const d = i, { attrsWithoutClass: c } = M(), m = p, { modelValue: f, invalid: n } = v(d), { isFocusVisible: g } = $({ isTextInput: !0 }), r = b(), s = x({
      get: () => f.value ?? r.value,
      set: (e) => {
        m("update:modelValue", e), r.value = e;
      }
    });
    return (e, l) => (y(), S(V(i.wrapperTag), {
      class: C(
        t(u)(
          "flex items-center gap-2 px-4 bg-white rounded-xl text-neutral-500 hover:ring-primary-700 focus-within:caret-primary-700 active:caret-primary-700 active:ring-primary-700 active:ring-2 focus-within:ring-primary-700 focus-within:ring-2 ring-inset",
          {
            "ring-2 ring-negative-700": t(n),
            "ring-1 ring-neutral-300": !t(n),
            "focus-within:outline focus-within:outline-offset": t(g)
          },
          j[i.size],
          i.wrapperClass
        )
      ),
      "data-testid": "input"
    }, {
      default: z(() => [
        o(e.$slots, "prefix"),
        T(B("input", D({
          "onUpdate:modelValue": l[0] || (l[0] = (w) => s.value = w),
          class: t(u)(
            "min-w-[80px] w-full text-base outline-hidden appearance-none text-neutral-900 disabled:cursor-not-allowed disabled:bg-transparent read-only:bg-transparent",
            e.$attrs.class
          ),
          size: 1,
          "data-testid": "input-field"
        }, t(c)), null, 16), [
          [I, s.value]
        ]),
        o(e.$slots, "suffix")
      ]),
      _: 3
    }, 8, ["class"]));
  }
});
export {
  R as default
};
