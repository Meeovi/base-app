import { computed as c, toValue as r } from "vue";
import { onClickOutside as a, onKeyStroke as d } from "@vueuse/core";
import { offset as l, shift as u, flip as w } from "@floating-ui/vue";
import { usePopover as O } from "../usePopover/usePopover.mjs";
function R(i) {
  const { onClose: e, placement: p = "bottom", middleware: f, isOpen: t, ...m } = i, { floatingRef: n, referenceRef: o, style: s } = O({
    placement: p,
    middleware: c(() => r(f) || [l(8), u(), w()]),
    isOpen: t,
    ...m
  });
  return a(o, () => {
    r(t) && (e == null || e());
  }), d("Escape", e, { target: o }), { floatingRef: n, referenceRef: o, style: s };
}
export {
  R as useDropdown
};
