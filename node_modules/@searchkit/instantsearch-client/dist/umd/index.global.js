"use strict";var SearchkitInstantsearchClientDefault=(()=>{var a=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var f=(r,e)=>{for(var t in e)a(r,t,{get:e[t],enumerable:!0})},d=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of l(e))!p.call(r,i)&&i!==t&&a(r,i,{get:()=>e[i],enumerable:!(s=u(e,i))||s.enumerable});return r};var g=r=>d(a({},"__esModule",{value:!0}),r);var m={};f(m,{default:()=>S});function n(r){return r.handleInstantSearchRequests!==void 0}var c=class{constructor(e,t){this.config=e;this.requestOptions=t;if(this.cache=[],!n(this.config)&&!this.config.url)throw new Error("Searchkit Instantsearch Client: url is required");if(!n(this.config)&&this.requestOptions)throw new Error("Searchkit Instantsearch Client: requestOptions is not supported when used with url. Add the request options to @searchkit/api instead.")}clearCache(){return this.cache=[],Promise.resolve(void 0)}getHeaders(){let e={};return!n(this.config)&&this.config.headers&&(e=typeof this.config.headers=="function"?this.config.headers():this.config.headers),e}async search(e){try{let t=JSON.stringify(e),s=this.cache[t];if(s)return s;if(n(this.config)){let h=await this.config.handleInstantSearchRequests(e,this.requestOptions);return this.cache[t]=h,h}let o=await(await fetch(this.config.url,{body:JSON.stringify(e),headers:{"Content-Type":"application/json",...this.getHeaders()},method:"POST"})).json();return this.cache[t]=o,o}catch(t){return console.error(t),[]}}async searchForFacetValues(e){let t=e.map(s=>({...s,params:{...s.params,hitsPerPage:0}}));try{return n(this.config)?(await this.config.handleInstantSearchRequests(t)).results:(await(await fetch(this.config.url,{body:JSON.stringify(t),headers:{"Content-Type":"application/json",...this.getHeaders()},method:"POST"})).json()).results}catch(s){return console.error(s),[]}}},y=(r,e)=>new c(r,e),S=y;return g(m);})();
var SearchkitInstantsearchClient = SearchkitInstantsearchClientDefault.default
//# sourceMappingURL=index.global.js.map